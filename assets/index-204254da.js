var LL=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var lG=LL((On,Ut)=>{function Q5(i,n){for(var o=0;o<n.length;o++){const c=n[o];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in i)){const h=Object.getOwnPropertyDescriptor(c,d);h&&Object.defineProperty(i,d,h.get?h:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=o(d);fetch(d.href,h)}})();var ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function zL(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var o=function c(){return this instanceof c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var d=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:function(){return i[c]}})}),o}var J5={exports:{}},ag={},X5={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),jL=Symbol.for("react.portal"),RL=Symbol.for("react.fragment"),FL=Symbol.for("react.strict_mode"),$L=Symbol.for("react.profiler"),VL=Symbol.for("react.provider"),UL=Symbol.for("react.context"),HL=Symbol.for("react.forward_ref"),WL=Symbol.for("react.suspense"),qL=Symbol.for("react.memo"),GL=Symbol.for("react.lazy"),l2=Symbol.iterator;function YL(i){return i===null||typeof i!="object"?null:(i=l2&&i[l2]||i["@@iterator"],typeof i=="function"?i:null)}var eS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tS=Object.assign,nS={};function ol(i,n,o){this.props=i,this.context=n,this.refs=nS,this.updater=o||eS}ol.prototype.isReactComponent={};ol.prototype.setState=function(i,n){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,n,"setState")};ol.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function iS(){}iS.prototype=ol.prototype;function dw(i,n,o){this.props=i,this.context=n,this.refs=nS,this.updater=o||eS}var uw=dw.prototype=new iS;uw.constructor=dw;tS(uw,ol.prototype);uw.isPureReactComponent=!0;var d2=Array.isArray,rS=Object.prototype.hasOwnProperty,hw={current:null},oS={key:!0,ref:!0,__self:!0,__source:!0};function sS(i,n,o){var c,d={},h=null,f=null;if(n!=null)for(c in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(h=""+n.key),n)rS.call(n,c)&&!oS.hasOwnProperty(c)&&(d[c]=n[c]);var m=arguments.length-2;if(m===1)d.children=o;else if(1<m){for(var k=Array(m),b=0;b<m;b++)k[b]=arguments[b+2];d.children=k}if(i&&i.defaultProps)for(c in m=i.defaultProps,m)d[c]===void 0&&(d[c]=m[c]);return{$$typeof:Tu,type:i,key:h,ref:f,props:d,_owner:hw.current}}function KL(i,n){return{$$typeof:Tu,type:i.type,key:n,ref:i.ref,props:i.props,_owner:i._owner}}function fw(i){return typeof i=="object"&&i!==null&&i.$$typeof===Tu}function ZL(i){var n={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return n[o]})}var u2=/\/+/g;function F0(i,n){return typeof i=="object"&&i!==null&&i.key!=null?ZL(""+i.key):n.toString(36)}function tp(i,n,o,c,d){var h=typeof i;(h==="undefined"||h==="boolean")&&(i=null);var f=!1;if(i===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(i.$$typeof){case Tu:case jL:f=!0}}if(f)return f=i,d=d(f),i=c===""?"."+F0(f,0):c,d2(d)?(o="",i!=null&&(o=i.replace(u2,"$&/")+"/"),tp(d,n,o,"",function(b){return b})):d!=null&&(fw(d)&&(d=KL(d,o+(!d.key||f&&f.key===d.key?"":(""+d.key).replace(u2,"$&/")+"/")+i)),n.push(d)),1;if(f=0,c=c===""?".":c+":",d2(i))for(var m=0;m<i.length;m++){h=i[m];var k=c+F0(h,m);f+=tp(h,n,o,k,d)}else if(k=YL(i),typeof k=="function")for(i=k.call(i),m=0;!(h=i.next()).done;)h=h.value,k=c+F0(h,m++),f+=tp(h,n,o,k,d);else if(h==="object")throw n=String(i),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function vf(i,n,o){if(i==null)return i;var c=[],d=0;return tp(i,c,"","",function(h){return n.call(o,h,d++)}),c}function QL(i){if(i._status===-1){var n=i._result;n=n(),n.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=n)}if(i._status===1)return i._result.default;throw i._result}var ii={current:null},np={transition:null},JL={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:np,ReactCurrentOwner:hw};He.Children={map:vf,forEach:function(i,n,o){vf(i,function(){n.apply(this,arguments)},o)},count:function(i){var n=0;return vf(i,function(){n++}),n},toArray:function(i){return vf(i,function(n){return n})||[]},only:function(i){if(!fw(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};He.Component=ol;He.Fragment=RL;He.Profiler=$L;He.PureComponent=dw;He.StrictMode=FL;He.Suspense=WL;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JL;He.cloneElement=function(i,n,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var c=tS({},i.props),d=i.key,h=i.ref,f=i._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,f=hw.current),n.key!==void 0&&(d=""+n.key),i.type&&i.type.defaultProps)var m=i.type.defaultProps;for(k in n)rS.call(n,k)&&!oS.hasOwnProperty(k)&&(c[k]=n[k]===void 0&&m!==void 0?m[k]:n[k])}var k=arguments.length-2;if(k===1)c.children=o;else if(1<k){m=Array(k);for(var b=0;b<k;b++)m[b]=arguments[b+2];c.children=m}return{$$typeof:Tu,type:i.type,key:d,ref:h,props:c,_owner:f}};He.createContext=function(i){return i={$$typeof:UL,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:VL,_context:i},i.Consumer=i};He.createElement=sS;He.createFactory=function(i){var n=sS.bind(null,i);return n.type=i,n};He.createRef=function(){return{current:null}};He.forwardRef=function(i){return{$$typeof:HL,render:i}};He.isValidElement=fw;He.lazy=function(i){return{$$typeof:GL,_payload:{_status:-1,_result:i},_init:QL}};He.memo=function(i,n){return{$$typeof:qL,type:i,compare:n===void 0?null:n}};He.startTransition=function(i){var n=np.transition;np.transition={};try{i()}finally{np.transition=n}};He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};He.useCallback=function(i,n){return ii.current.useCallback(i,n)};He.useContext=function(i){return ii.current.useContext(i)};He.useDebugValue=function(){};He.useDeferredValue=function(i){return ii.current.useDeferredValue(i)};He.useEffect=function(i,n){return ii.current.useEffect(i,n)};He.useId=function(){return ii.current.useId()};He.useImperativeHandle=function(i,n,o){return ii.current.useImperativeHandle(i,n,o)};He.useInsertionEffect=function(i,n){return ii.current.useInsertionEffect(i,n)};He.useLayoutEffect=function(i,n){return ii.current.useLayoutEffect(i,n)};He.useMemo=function(i,n){return ii.current.useMemo(i,n)};He.useReducer=function(i,n,o){return ii.current.useReducer(i,n,o)};He.useRef=function(i){return ii.current.useRef(i)};He.useState=function(i){return ii.current.useState(i)};He.useSyncExternalStore=function(i,n,o){return ii.current.useSyncExternalStore(i,n,o)};He.useTransition=function(){return ii.current.useTransition()};He.version="18.2.0";X5.exports=He;var M=X5.exports;const hn=sg(M),aS=Q5({__proto__:null,default:hn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL=M,e7=Symbol.for("react.element"),t7=Symbol.for("react.fragment"),n7=Object.prototype.hasOwnProperty,i7=XL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r7={key:!0,ref:!0,__self:!0,__source:!0};function cS(i,n,o){var c,d={},h=null,f=null;o!==void 0&&(h=""+o),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(f=n.ref);for(c in n)n7.call(n,c)&&!r7.hasOwnProperty(c)&&(d[c]=n[c]);if(i&&i.defaultProps)for(c in n=i.defaultProps,n)d[c]===void 0&&(d[c]=n[c]);return{$$typeof:e7,type:i,key:h,ref:f,props:d,_owner:i7.current}}ag.Fragment=t7;ag.jsx=cS;ag.jsxs=cS;J5.exports=ag;var R=J5.exports,zk={},lS={exports:{}},Ui={},dS={exports:{}},uS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function n(re,ie){var pe=re.length;re.push(ie);e:for(;0<pe;){var ge=pe-1>>>1,Se=re[ge];if(0<d(Se,ie))re[ge]=ie,re[pe]=Se,pe=ge;else break e}}function o(re){return re.length===0?null:re[0]}function c(re){if(re.length===0)return null;var ie=re[0],pe=re.pop();if(pe!==ie){re[0]=pe;e:for(var ge=0,Se=re.length,nt=Se>>>1;ge<nt;){var wt=2*(ge+1)-1,it=re[wt],Ee=wt+1,an=re[Ee];if(0>d(it,pe))Ee<Se&&0>d(an,it)?(re[ge]=an,re[Ee]=pe,ge=Ee):(re[ge]=it,re[wt]=pe,ge=wt);else if(Ee<Se&&0>d(an,pe))re[ge]=an,re[Ee]=pe,ge=Ee;else break e}}return ie}function d(re,ie){var pe=re.sortIndex-ie.sortIndex;return pe!==0?pe:re.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var k=[],b=[],w=1,y=null,C=3,x=!1,D=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(re){for(var ie=o(b);ie!==null;){if(ie.callback===null)c(b);else if(ie.startTime<=re)c(b),ie.sortIndex=ie.expirationTime,n(k,ie);else break;ie=o(b)}}function F(re){if(T=!1,S(re),!D)if(o(k)!==null)D=!0,X(H);else{var ie=o(b);ie!==null&&se(F,ie.startTime-re)}}function H(re,ie){D=!1,T&&(T=!1,N(ee),ee=-1),x=!0;var pe=C;try{for(S(ie),y=o(k);y!==null&&(!(y.expirationTime>ie)||re&&!K());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,C=y.priorityLevel;var Se=ge(y.expirationTime<=ie);ie=i.unstable_now(),typeof Se=="function"?y.callback=Se:y===o(k)&&c(k),S(ie)}else c(k);y=o(k)}if(y!==null)var nt=!0;else{var wt=o(b);wt!==null&&se(F,wt.startTime-ie),nt=!1}return nt}finally{y=null,C=pe,x=!1}}var J=!1,Y=null,ee=-1,oe=5,de=-1;function K(){return!(i.unstable_now()-de<oe)}function Q(){if(Y!==null){var re=i.unstable_now();de=re;var ie=!0;try{ie=Y(!0,re)}finally{ie?q():(J=!1,Y=null)}}else J=!1}var q;if(typeof L=="function")q=function(){L(Q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=Q,q=function(){W.postMessage(null)}}else q=function(){z(Q,0)};function X(re){Y=re,J||(J=!0,q())}function se(re,ie){ee=z(function(){re(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){D||x||(D=!0,X(H))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return o(k)},i.unstable_next=function(re){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var pe=C;C=ie;try{return re()}finally{C=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,ie){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=C;C=re;try{return ie()}finally{C=pe}},i.unstable_scheduleCallback=function(re,ie,pe){var ge=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ge+pe:ge):pe=ge,re){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=pe+Se,re={id:w++,callback:ie,priorityLevel:re,startTime:pe,expirationTime:Se,sortIndex:-1},pe>ge?(re.sortIndex=pe,n(b,re),o(k)===null&&re===o(b)&&(T?(N(ee),ee=-1):T=!0,se(F,pe-ge))):(re.sortIndex=Se,n(k,re),D||x||(D=!0,X(H))),re},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(re){var ie=C;return function(){var pe=C;C=ie;try{return re.apply(this,arguments)}finally{C=pe}}}})(uS);dS.exports=uS;var o7=dS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS=M,$i=o7;function fe(i){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fS=new Set,ru={};function Ia(i,n){Kc(i,n),Kc(i+"Capture",n)}function Kc(i,n){for(ru[i]=n,i=0;i<n.length;i++)fS.add(n[i])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jk=Object.prototype.hasOwnProperty,s7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h2={},f2={};function a7(i){return jk.call(f2,i)?!0:jk.call(h2,i)?!1:s7.test(i)?f2[i]=!0:(h2[i]=!0,!1)}function c7(i,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function l7(i,n,o,c){if(n===null||typeof n>"u"||c7(i,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ri(i,n,o,c,d,h,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=i,this.type=n,this.sanitizeURL=h,this.removeEmptyString=f}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ln[i]=new ri(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var n=i[0];Ln[n]=new ri(n,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ln[i]=new ri(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ln[i]=new ri(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ln[i]=new ri(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ln[i]=new ri(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ln[i]=new ri(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ln[i]=new ri(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ln[i]=new ri(i,5,!1,i.toLowerCase(),null,!1,!1)});var pw=/[\-:]([a-z])/g;function gw(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var n=i.replace(pw,gw);Ln[n]=new ri(n,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var n=i.replace(pw,gw);Ln[n]=new ri(n,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var n=i.replace(pw,gw);Ln[n]=new ri(n,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ln[i]=new ri(i,1,!1,i.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ln[i]=new ri(i,1,!1,i.toLowerCase(),null,!0,!0)});function mw(i,n,o,c){var d=Ln.hasOwnProperty(n)?Ln[n]:null;(d!==null?d.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(l7(n,o,d,c)&&(o=null),c||d===null?a7(n)&&(o===null?i.removeAttribute(n):i.setAttribute(n,""+o)):d.mustUseProperty?i[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,c=d.attributeNamespace,o===null?i.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?i.setAttributeNS(c,n,o):i.setAttribute(n,o))))}var Fo=hS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_f=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),Rk=Symbol.for("react.profiler"),pS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),Fk=Symbol.for("react.suspense"),$k=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),mS=Symbol.for("react.offscreen"),p2=Symbol.iterator;function Cd(i){return i===null||typeof i!="object"?null:(i=p2&&i[p2]||i["@@iterator"],typeof i=="function"?i:null)}var jt=Object.assign,$0;function Bd(i){if($0===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);$0=n&&n[1]||""}return`
`+$0+i}var V0=!1;function U0(i,n){if(!i||V0)return"";V0=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(b){var c=b}Reflect.construct(i,[],n)}else{try{n.call()}catch(b){c=b}i.call(n.prototype)}else{try{throw Error()}catch(b){c=b}i()}}catch(b){if(b&&c&&typeof b.stack=="string"){for(var d=b.stack.split(`
`),h=c.stack.split(`
`),f=d.length-1,m=h.length-1;1<=f&&0<=m&&d[f]!==h[m];)m--;for(;1<=f&&0<=m;f--,m--)if(d[f]!==h[m]){if(f!==1||m!==1)do if(f--,m--,0>m||d[f]!==h[m]){var k=`
`+d[f].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=f&&0<=m);break}}}finally{V0=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Bd(i):""}function d7(i){switch(i.tag){case 5:return Bd(i.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return i=U0(i.type,!1),i;case 11:return i=U0(i.type.render,!1),i;case 1:return i=U0(i.type,!0),i;default:return""}}function Vk(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Tc:return"Fragment";case Dc:return"Portal";case Rk:return"Profiler";case kw:return"StrictMode";case Fk:return"Suspense";case $k:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case gS:return(i.displayName||"Context")+".Consumer";case pS:return(i._context.displayName||"Context")+".Provider";case bw:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ww:return n=i.displayName||null,n!==null?n:Vk(i.type)||"Memo";case ds:n=i._payload,i=i._init;try{return Vk(i(n))}catch{}}return null}function u7(i){var n=i.type;switch(i.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=n.render,i=i.displayName||i.name||"",n.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vk(n);case 8:return n===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ms(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kS(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function h7(i){var n=kS(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),c=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return d.call(this)},set:function(f){c=""+f,h.call(this,f)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(f){c=""+f},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function yf(i){i._valueTracker||(i._valueTracker=h7(i))}function bS(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return i&&(c=kS(i)?i.checked?"true":"false":i.value),i=c,i!==o?(n.setValue(i),!0):!1}function _p(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Uk(i,n){var o=n.checked;return jt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function g2(i,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=Ms(n.value!=null?n.value:o),i._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function wS(i,n){n=n.checked,n!=null&&mw(i,"checked",n,!1)}function Hk(i,n){wS(i,n);var o=Ms(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(c==="submit"||c==="reset"){i.removeAttribute("value");return}n.hasOwnProperty("value")?Wk(i,n.type,o):n.hasOwnProperty("defaultValue")&&Wk(i,n.type,Ms(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(i.defaultChecked=!!n.defaultChecked)}function m2(i,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+i._wrapperState.initialValue,o||n===i.value||(i.value=n),i.defaultValue=n}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function Wk(i,n,o){(n!=="number"||_p(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var Ld=Array.isArray;function Fc(i,n,o,c){if(i=i.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=n.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Ms(o),n=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}n!==null||i[d].disabled||(n=i[d])}n!==null&&(n.selected=!0)}}function qk(i,n){if(n.dangerouslySetInnerHTML!=null)throw Error(fe(91));return jt({},n,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function k2(i,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(fe(92));if(Ld(o)){if(1<o.length)throw Error(fe(93));o=o[0]}n=o}n==null&&(n=""),o=n}i._wrapperState={initialValue:Ms(o)}}function vS(i,n){var o=Ms(n.value),c=Ms(n.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),n.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),c!=null&&(i.defaultValue=""+c)}function b2(i){var n=i.textContent;n===i._wrapperState.initialValue&&n!==""&&n!==null&&(i.value=n)}function _S(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gk(i,n){return i==null||i==="http://www.w3.org/1999/xhtml"?_S(n):i==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Af,yS=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,d){MSApp.execUnsafeLocalFunction(function(){return i(n,o,c,d)})}:i}(function(i,n){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=n;else{for(Af=Af||document.createElement("div"),Af.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Af.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;n.firstChild;)i.appendChild(n.firstChild)}});function ou(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f7=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(i){f7.forEach(function(n){n=n+i.charAt(0).toUpperCase()+i.substring(1),Ud[n]=Ud[i]})});function AS(i,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Ud.hasOwnProperty(i)&&Ud[i]?(""+n).trim():n+"px"}function CS(i,n){i=i.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=AS(o,n[o],c);o==="float"&&(o="cssFloat"),c?i.setProperty(o,d):i[o]=d}}var p7=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yk(i,n){if(n){if(p7[i]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(fe(137,i));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(fe(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(fe(61))}if(n.style!=null&&typeof n.style!="object")throw Error(fe(62))}}function Kk(i,n){if(i.indexOf("-")===-1)return typeof n.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zk=null;function vw(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qk=null,$c=null,Vc=null;function w2(i){if(i=Nu(i)){if(typeof Qk!="function")throw Error(fe(280));var n=i.stateNode;n&&(n=hg(n),Qk(i.stateNode,i.type,n))}}function xS(i){$c?Vc?Vc.push(i):Vc=[i]:$c=i}function ES(){if($c){var i=$c,n=Vc;if(Vc=$c=null,w2(i),n)for(i=0;i<n.length;i++)w2(n[i])}}function SS(i,n){return i(n)}function DS(){}var H0=!1;function TS(i,n,o){if(H0)return i(n,o);H0=!0;try{return SS(i,n,o)}finally{H0=!1,($c!==null||Vc!==null)&&(DS(),ES())}}function su(i,n){var o=i.stateNode;if(o===null)return null;var c=hg(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(fe(231,n,typeof o));return o}var Jk=!1;if(To)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Jk=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Jk=!1}function g7(i,n,o,c,d,h,f,m,k){var b=Array.prototype.slice.call(arguments,3);try{n.apply(o,b)}catch(w){this.onError(w)}}var Hd=!1,yp=null,Ap=!1,Xk=null,m7={onError:function(i){Hd=!0,yp=i}};function k7(i,n,o,c,d,h,f,m,k){Hd=!1,yp=null,g7.apply(m7,arguments)}function b7(i,n,o,c,d,h,f,m,k){if(k7.apply(this,arguments),Hd){if(Hd){var b=yp;Hd=!1,yp=null}else throw Error(fe(198));Ap||(Ap=!0,Xk=b)}}function Ma(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,n.flags&4098&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function IS(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function v2(i){if(Ma(i)!==i)throw Error(fe(188))}function w7(i){var n=i.alternate;if(!n){if(n=Ma(i),n===null)throw Error(fe(188));return n!==i?null:i}for(var o=i,c=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return v2(d),i;if(h===c)return v2(d),n;h=h.sibling}throw Error(fe(188))}if(o.return!==c.return)o=d,c=h;else{for(var f=!1,m=d.child;m;){if(m===o){f=!0,o=d,c=h;break}if(m===c){f=!0,c=d,o=h;break}m=m.sibling}if(!f){for(m=h.child;m;){if(m===o){f=!0,o=h,c=d;break}if(m===c){f=!0,c=h,o=d;break}m=m.sibling}if(!f)throw Error(fe(189))}}if(o.alternate!==c)throw Error(fe(190))}if(o.tag!==3)throw Error(fe(188));return o.stateNode.current===o?i:n}function MS(i){return i=w7(i),i!==null?NS(i):null}function NS(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var n=NS(i);if(n!==null)return n;i=i.sibling}return null}var OS=$i.unstable_scheduleCallback,_2=$i.unstable_cancelCallback,v7=$i.unstable_shouldYield,_7=$i.unstable_requestPaint,Qt=$i.unstable_now,y7=$i.unstable_getCurrentPriorityLevel,_w=$i.unstable_ImmediatePriority,PS=$i.unstable_UserBlockingPriority,Cp=$i.unstable_NormalPriority,A7=$i.unstable_LowPriority,BS=$i.unstable_IdlePriority,cg=null,to=null;function C7(i){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(cg,i,void 0,(i.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:S7,x7=Math.log,E7=Math.LN2;function S7(i){return i>>>=0,i===0?32:31-(x7(i)/E7|0)|0}var Cf=64,xf=4194304;function zd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xp(i,n){var o=i.pendingLanes;if(o===0)return 0;var c=0,d=i.suspendedLanes,h=i.pingedLanes,f=o&268435455;if(f!==0){var m=f&~d;m!==0?c=zd(m):(h&=f,h!==0&&(c=zd(h)))}else f=o&~d,f!==0?c=zd(f):h!==0&&(c=zd(h));if(c===0)return 0;if(n!==0&&n!==c&&!(n&d)&&(d=c&-c,h=n&-n,d>=h||d===16&&(h&4194240)!==0))return n;if(c&4&&(c|=o&16),n=i.entangledLanes,n!==0)for(i=i.entanglements,n&=c;0<n;)o=31-Ir(n),d=1<<o,c|=i[o],n&=~d;return c}function D7(i,n){switch(i){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T7(i,n){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,h=i.pendingLanes;0<h;){var f=31-Ir(h),m=1<<f,k=d[f];k===-1?(!(m&o)||m&c)&&(d[f]=D7(m,n)):k<=n&&(i.expiredLanes|=m),h&=~m}}function eb(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function LS(){var i=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),i}function W0(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function Iu(i,n,o){i.pendingLanes|=n,n!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,n=31-Ir(n),i[n]=o}function I7(i,n){var o=i.pendingLanes&~n;i.pendingLanes=n,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=n,i.mutableReadLanes&=n,i.entangledLanes&=n,n=i.entanglements;var c=i.eventTimes;for(i=i.expirationTimes;0<o;){var d=31-Ir(o),h=1<<d;n[d]=0,c[d]=-1,i[d]=-1,o&=~h}}function yw(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var c=31-Ir(o),d=1<<c;d&n|i[c]&n&&(i[c]|=n),o&=~d}}var ht=0;function zS(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var jS,Aw,RS,FS,$S,tb=!1,Ef=[],ys=null,As=null,Cs=null,au=new Map,cu=new Map,ps=[],M7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(i,n){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":au.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(n.pointerId)}}function Ed(i,n,o,c,d,h){return i===null||i.nativeEvent!==h?(i={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Nu(n),n!==null&&Aw(n)),i):(i.eventSystemFlags|=c,n=i.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),i)}function N7(i,n,o,c,d){switch(n){case"focusin":return ys=Ed(ys,i,n,o,c,d),!0;case"dragenter":return As=Ed(As,i,n,o,c,d),!0;case"mouseover":return Cs=Ed(Cs,i,n,o,c,d),!0;case"pointerover":var h=d.pointerId;return au.set(h,Ed(au.get(h)||null,i,n,o,c,d)),!0;case"gotpointercapture":return h=d.pointerId,cu.set(h,Ed(cu.get(h)||null,i,n,o,c,d)),!0}return!1}function VS(i){var n=ka(i.target);if(n!==null){var o=Ma(n);if(o!==null){if(n=o.tag,n===13){if(n=IS(o),n!==null){i.blockedOn=n,$S(i.priority,function(){RS(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ip(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=nb(i.domEventName,i.eventSystemFlags,n[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Zk=c,o.target.dispatchEvent(c),Zk=null}else return n=Nu(o),n!==null&&Aw(n),i.blockedOn=o,!1;n.shift()}return!0}function A2(i,n,o){ip(i)&&o.delete(n)}function O7(){tb=!1,ys!==null&&ip(ys)&&(ys=null),As!==null&&ip(As)&&(As=null),Cs!==null&&ip(Cs)&&(Cs=null),au.forEach(A2),cu.forEach(A2)}function Sd(i,n){i.blockedOn===n&&(i.blockedOn=null,tb||(tb=!0,$i.unstable_scheduleCallback($i.unstable_NormalPriority,O7)))}function lu(i){function n(d){return Sd(d,i)}if(0<Ef.length){Sd(Ef[0],i);for(var o=1;o<Ef.length;o++){var c=Ef[o];c.blockedOn===i&&(c.blockedOn=null)}}for(ys!==null&&Sd(ys,i),As!==null&&Sd(As,i),Cs!==null&&Sd(Cs,i),au.forEach(n),cu.forEach(n),o=0;o<ps.length;o++)c=ps[o],c.blockedOn===i&&(c.blockedOn=null);for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)VS(o),o.blockedOn===null&&ps.shift()}var Uc=Fo.ReactCurrentBatchConfig,Ep=!0;function P7(i,n,o,c){var d=ht,h=Uc.transition;Uc.transition=null;try{ht=1,Cw(i,n,o,c)}finally{ht=d,Uc.transition=h}}function B7(i,n,o,c){var d=ht,h=Uc.transition;Uc.transition=null;try{ht=4,Cw(i,n,o,c)}finally{ht=d,Uc.transition=h}}function Cw(i,n,o,c){if(Ep){var d=nb(i,n,o,c);if(d===null)tk(i,n,c,Sp,o),y2(i,c);else if(N7(d,i,n,o,c))c.stopPropagation();else if(y2(i,c),n&4&&-1<M7.indexOf(i)){for(;d!==null;){var h=Nu(d);if(h!==null&&jS(h),h=nb(i,n,o,c),h===null&&tk(i,n,c,Sp,o),h===d)break;d=h}d!==null&&c.stopPropagation()}else tk(i,n,c,null,o)}}var Sp=null;function nb(i,n,o,c){if(Sp=null,i=vw(c),i=ka(i),i!==null)if(n=Ma(i),n===null)i=null;else if(o=n.tag,o===13){if(i=IS(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null);return Sp=i,null}function US(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y7()){case _w:return 1;case PS:return 4;case Cp:case A7:return 16;case BS:return 536870912;default:return 16}default:return 16}}var ws=null,xw=null,rp=null;function HS(){if(rp)return rp;var i,n=xw,o=n.length,c,d="value"in ws?ws.value:ws.textContent,h=d.length;for(i=0;i<o&&n[i]===d[i];i++);var f=o-i;for(c=1;c<=f&&n[o-c]===d[h-c];c++);return rp=d.slice(i,1<c?1-c:void 0)}function op(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function Sf(){return!0}function C2(){return!1}function Hi(i){function n(o,c,d,h,f){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var m in i)i.hasOwnProperty(m)&&(o=i[m],this[m]=o?o(h):h[m]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Sf:C2,this.isPropagationStopped=C2,this}return jt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),n}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ew=Hi(sl),Mu=jt({},sl,{view:0,detail:0}),L7=Hi(Mu),q0,G0,Dd,lg=jt({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sw,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Dd&&(Dd&&i.type==="mousemove"?(q0=i.screenX-Dd.screenX,G0=i.screenY-Dd.screenY):G0=q0=0,Dd=i),q0)},movementY:function(i){return"movementY"in i?i.movementY:G0}}),x2=Hi(lg),z7=jt({},lg,{dataTransfer:0}),j7=Hi(z7),R7=jt({},Mu,{relatedTarget:0}),Y0=Hi(R7),F7=jt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),$7=Hi(F7),V7=jt({},sl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),U7=Hi(V7),H7=jt({},sl,{data:0}),E2=Hi(H7),W7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y7(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=G7[i])?!!n[i]:!1}function Sw(){return Y7}var K7=jt({},Mu,{key:function(i){if(i.key){var n=W7[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=op(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q7[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sw,charCode:function(i){return i.type==="keypress"?op(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?op(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Z7=Hi(K7),Q7=jt({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S2=Hi(Q7),J7=jt({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sw}),X7=Hi(J7),ez=jt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tz=Hi(ez),nz=jt({},lg,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iz=Hi(nz),rz=[9,13,27,32],Dw=To&&"CompositionEvent"in window,Wd=null;To&&"documentMode"in document&&(Wd=document.documentMode);var oz=To&&"TextEvent"in window&&!Wd,WS=To&&(!Dw||Wd&&8<Wd&&11>=Wd),D2=String.fromCharCode(32),T2=!1;function qS(i,n){switch(i){case"keyup":return rz.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ic=!1;function sz(i,n){switch(i){case"compositionend":return GS(n);case"keypress":return n.which!==32?null:(T2=!0,D2);case"textInput":return i=n.data,i===D2&&T2?null:i;default:return null}}function az(i,n){if(Ic)return i==="compositionend"||!Dw&&qS(i,n)?(i=HS(),rp=xw=ws=null,Ic=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return WS&&n.locale!=="ko"?null:n.data;default:return null}}var cz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I2(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!cz[i.type]:n==="textarea"}function YS(i,n,o,c){xS(c),n=Dp(n,"onChange"),0<n.length&&(o=new Ew("onChange","change",null,o,c),i.push({event:o,listeners:n}))}var qd=null,du=null;function lz(i){oD(i,0)}function dg(i){var n=Oc(i);if(bS(n))return i}function dz(i,n){if(i==="change")return n}var KS=!1;if(To){var K0;if(To){var Z0="oninput"in document;if(!Z0){var M2=document.createElement("div");M2.setAttribute("oninput","return;"),Z0=typeof M2.oninput=="function"}K0=Z0}else K0=!1;KS=K0&&(!document.documentMode||9<document.documentMode)}function N2(){qd&&(qd.detachEvent("onpropertychange",ZS),du=qd=null)}function ZS(i){if(i.propertyName==="value"&&dg(du)){var n=[];YS(n,du,i,vw(i)),TS(lz,n)}}function uz(i,n,o){i==="focusin"?(N2(),qd=n,du=o,qd.attachEvent("onpropertychange",ZS)):i==="focusout"&&N2()}function hz(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dg(du)}function fz(i,n){if(i==="click")return dg(n)}function pz(i,n){if(i==="input"||i==="change")return dg(n)}function gz(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var Nr=typeof Object.is=="function"?Object.is:gz;function uu(i,n){if(Nr(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!jk.call(n,d)||!Nr(i[d],n[d]))return!1}return!0}function O2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P2(i,n){var o=O2(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=n&&c>=n)return{node:o,offset:n-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=O2(o)}}function QS(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?QS(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function JS(){for(var i=window,n=_p();n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=_p(i.document)}return n}function Tw(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}function mz(i){var n=JS(),o=i.focusedElem,c=i.selectionRange;if(n!==o&&o&&o.ownerDocument&&QS(o.ownerDocument.documentElement,o)){if(c!==null&&Tw(o)){if(n=c.start,i=c.end,i===void 0&&(i=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(i,o.value.length);else if(i=(n=o.ownerDocument||document)&&n.defaultView||window,i.getSelection){i=i.getSelection();var d=o.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!i.extend&&h>c&&(d=c,c=h,h=d),d=P2(o,h);var f=P2(o,c);d&&f&&(i.rangeCount!==1||i.anchorNode!==d.node||i.anchorOffset!==d.offset||i.focusNode!==f.node||i.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),i.removeAllRanges(),h>c?(i.addRange(n),i.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),i.addRange(n)))}}for(n=[],i=o;i=i.parentNode;)i.nodeType===1&&n.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)i=n[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kz=To&&"documentMode"in document&&11>=document.documentMode,Mc=null,ib=null,Gd=null,rb=!1;function B2(i,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rb||Mc==null||Mc!==_p(c)||(c=Mc,"selectionStart"in c&&Tw(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gd&&uu(Gd,c)||(Gd=c,c=Dp(ib,"onSelect"),0<c.length&&(n=new Ew("onSelect","select",null,n,o),i.push({event:n,listeners:c}),n.target=Mc)))}function Df(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var Nc={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},Q0={},XS={};To&&(XS=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function ug(i){if(Q0[i])return Q0[i];if(!Nc[i])return i;var n=Nc[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in XS)return Q0[i]=n[o];return i}var eD=ug("animationend"),tD=ug("animationiteration"),nD=ug("animationstart"),iD=ug("transitionend"),rD=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(i,n){rD.set(i,n),Ia(n,[i])}for(var J0=0;J0<L2.length;J0++){var X0=L2[J0],bz=X0.toLowerCase(),wz=X0[0].toUpperCase()+X0.slice(1);Ls(bz,"on"+wz)}Ls(eD,"onAnimationEnd");Ls(tD,"onAnimationIteration");Ls(nD,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(iD,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vz=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function z2(i,n,o){var c=i.type||"unknown-event";i.currentTarget=o,b7(c,n,void 0,i),i.currentTarget=null}function oD(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var f=c.length-1;0<=f;f--){var m=c[f],k=m.instance,b=m.currentTarget;if(m=m.listener,k!==h&&d.isPropagationStopped())break e;z2(d,m,b),h=k}else for(f=0;f<c.length;f++){if(m=c[f],k=m.instance,b=m.currentTarget,m=m.listener,k!==h&&d.isPropagationStopped())break e;z2(d,m,b),h=k}}}if(Ap)throw i=Xk,Ap=!1,Xk=null,i}function Ct(i,n){var o=n[lb];o===void 0&&(o=n[lb]=new Set);var c=i+"__bubble";o.has(c)||(sD(n,i,2,!1),o.add(c))}function ek(i,n,o){var c=0;n&&(c|=4),sD(o,i,c,n)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function hu(i){if(!i[Tf]){i[Tf]=!0,fS.forEach(function(o){o!=="selectionchange"&&(vz.has(o)||ek(o,!1,i),ek(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[Tf]||(n[Tf]=!0,ek("selectionchange",!1,n))}}function sD(i,n,o,c){switch(US(n)){case 1:var d=P7;break;case 4:d=B7;break;default:d=Cw}o=d.bind(null,n,o,i),d=void 0,!Jk||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(n,o,{capture:!0,passive:d}):i.addEventListener(n,o,!0):d!==void 0?i.addEventListener(n,o,{passive:d}):i.addEventListener(n,o,!1)}function tk(i,n,o,c,d){var h=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var f=c.tag;if(f===3||f===4){var m=c.stateNode.containerInfo;if(m===d||m.nodeType===8&&m.parentNode===d)break;if(f===4)for(f=c.return;f!==null;){var k=f.tag;if((k===3||k===4)&&(k=f.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;f=f.return}for(;m!==null;){if(f=ka(m),f===null)return;if(k=f.tag,k===5||k===6){c=h=f;continue e}m=m.parentNode}}c=c.return}TS(function(){var b=h,w=vw(o),y=[];e:{var C=rD.get(i);if(C!==void 0){var x=Ew,D=i;switch(i){case"keypress":if(op(o)===0)break e;case"keydown":case"keyup":x=Z7;break;case"focusin":D="focus",x=Y0;break;case"focusout":D="blur",x=Y0;break;case"beforeblur":case"afterblur":x=Y0;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=x2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=j7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=X7;break;case eD:case tD:case nD:x=$7;break;case iD:x=tz;break;case"scroll":x=L7;break;case"wheel":x=iz;break;case"copy":case"cut":case"paste":x=U7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=S2}var T=(n&4)!==0,z=!T&&i==="scroll",N=T?C!==null?C+"Capture":null:C;T=[];for(var L=b,S;L!==null;){S=L;var F=S.stateNode;if(S.tag===5&&F!==null&&(S=F,N!==null&&(F=su(L,N),F!=null&&T.push(fu(L,F,S)))),z)break;L=L.return}0<T.length&&(C=new x(C,D,null,o,w),y.push({event:C,listeners:T}))}}if(!(n&7)){e:{if(C=i==="mouseover"||i==="pointerover",x=i==="mouseout"||i==="pointerout",C&&o!==Zk&&(D=o.relatedTarget||o.fromElement)&&(ka(D)||D[Io]))break e;if((x||C)&&(C=w.window===w?w:(C=w.ownerDocument)?C.defaultView||C.parentWindow:window,x?(D=o.relatedTarget||o.toElement,x=b,D=D?ka(D):null,D!==null&&(z=Ma(D),D!==z||D.tag!==5&&D.tag!==6)&&(D=null)):(x=null,D=b),x!==D)){if(T=x2,F="onMouseLeave",N="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(T=S2,F="onPointerLeave",N="onPointerEnter",L="pointer"),z=x==null?C:Oc(x),S=D==null?C:Oc(D),C=new T(F,L+"leave",x,o,w),C.target=z,C.relatedTarget=S,F=null,ka(w)===b&&(T=new T(N,L+"enter",D,o,w),T.target=S,T.relatedTarget=z,F=T),z=F,x&&D)t:{for(T=x,N=D,L=0,S=T;S;S=mc(S))L++;for(S=0,F=N;F;F=mc(F))S++;for(;0<L-S;)T=mc(T),L--;for(;0<S-L;)N=mc(N),S--;for(;L--;){if(T===N||N!==null&&T===N.alternate)break t;T=mc(T),N=mc(N)}T=null}else T=null;x!==null&&j2(y,C,x,T,!1),D!==null&&z!==null&&j2(y,z,D,T,!0)}}e:{if(C=b?Oc(b):window,x=C.nodeName&&C.nodeName.toLowerCase(),x==="select"||x==="input"&&C.type==="file")var H=dz;else if(I2(C))if(KS)H=pz;else{H=hz;var J=uz}else(x=C.nodeName)&&x.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(H=fz);if(H&&(H=H(i,b))){YS(y,H,o,w);break e}J&&J(i,C,b),i==="focusout"&&(J=C._wrapperState)&&J.controlled&&C.type==="number"&&Wk(C,"number",C.value)}switch(J=b?Oc(b):window,i){case"focusin":(I2(J)||J.contentEditable==="true")&&(Mc=J,ib=b,Gd=null);break;case"focusout":Gd=ib=Mc=null;break;case"mousedown":rb=!0;break;case"contextmenu":case"mouseup":case"dragend":rb=!1,B2(y,o,w);break;case"selectionchange":if(kz)break;case"keydown":case"keyup":B2(y,o,w)}var Y;if(Dw)e:{switch(i){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Ic?qS(i,o)&&(ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ee="onCompositionStart");ee&&(WS&&o.locale!=="ko"&&(Ic||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Ic&&(Y=HS()):(ws=w,xw="value"in ws?ws.value:ws.textContent,Ic=!0)),J=Dp(b,ee),0<J.length&&(ee=new E2(ee,i,null,o,w),y.push({event:ee,listeners:J}),Y?ee.data=Y:(Y=GS(o),Y!==null&&(ee.data=Y)))),(Y=oz?sz(i,o):az(i,o))&&(b=Dp(b,"onBeforeInput"),0<b.length&&(w=new E2("onBeforeInput","beforeinput",null,o,w),y.push({event:w,listeners:b}),w.data=Y))}oD(y,n)})}function fu(i,n,o){return{instance:i,listener:n,currentTarget:o}}function Dp(i,n){for(var o=n+"Capture",c=[];i!==null;){var d=i,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=su(i,o),h!=null&&c.unshift(fu(i,h,d)),h=su(i,n),h!=null&&c.push(fu(i,h,d))),i=i.return}return c}function mc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function j2(i,n,o,c,d){for(var h=n._reactName,f=[];o!==null&&o!==c;){var m=o,k=m.alternate,b=m.stateNode;if(k!==null&&k===c)break;m.tag===5&&b!==null&&(m=b,d?(k=su(o,h),k!=null&&f.unshift(fu(o,k,m))):d||(k=su(o,h),k!=null&&f.push(fu(o,k,m)))),o=o.return}f.length!==0&&i.push({event:n,listeners:f})}var _z=/\r\n?/g,yz=/\u0000|\uFFFD/g;function R2(i){return(typeof i=="string"?i:""+i).replace(_z,`
`).replace(yz,"")}function If(i,n,o){if(n=R2(n),R2(i)!==n&&o)throw Error(fe(425))}function Tp(){}var ob=null,sb=null;function ab(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cb=typeof setTimeout=="function"?setTimeout:void 0,Az=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(i){return F2.resolve(null).then(i).catch(xz)}:cb;function xz(i){setTimeout(function(){throw i})}function nk(i,n){var o=n,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){i.removeChild(d),lu(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);lu(n)}function xs(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return i}function $2(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}var al=Math.random().toString(36).slice(2),Jr="__reactFiber$"+al,pu="__reactProps$"+al,Io="__reactContainer$"+al,lb="__reactEvents$"+al,Ez="__reactListeners$"+al,Sz="__reactHandles$"+al;function ka(i){var n=i[Jr];if(n)return n;for(var o=i.parentNode;o;){if(n=o[Io]||o[Jr]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=$2(i);i!==null;){if(o=i[Jr])return o;i=$2(i)}return n}i=o,o=i.parentNode}return null}function Nu(i){return i=i[Jr]||i[Io],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Oc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(fe(33))}function hg(i){return i[pu]||null}var db=[],Pc=-1;function zs(i){return{current:i}}function Et(i){0>Pc||(i.current=db[Pc],db[Pc]=null,Pc--)}function _t(i,n){Pc++,db[Pc]=i.current,i.current=n}var Ns={},qn=zs(Ns),bi=zs(!1),Ca=Ns;function Zc(i,n){var o=i.type.contextTypes;if(!o)return Ns;var c=i.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in o)d[h]=n[h];return c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=n,i.__reactInternalMemoizedMaskedChildContext=d),d}function wi(i){return i=i.childContextTypes,i!=null}function Ip(){Et(bi),Et(qn)}function V2(i,n,o){if(qn.current!==Ns)throw Error(fe(168));_t(qn,n),_t(bi,o)}function aD(i,n,o){var c=i.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in n))throw Error(fe(108,u7(i)||"Unknown",d));return jt({},o,c)}function Mp(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ns,Ca=qn.current,_t(qn,i),_t(bi,bi.current),!0}function U2(i,n,o){var c=i.stateNode;if(!c)throw Error(fe(169));o?(i=aD(i,n,Ca),c.__reactInternalMemoizedMergedChildContext=i,Et(bi),Et(qn),_t(qn,i)):Et(bi),_t(bi,o)}var Co=null,fg=!1,ik=!1;function cD(i){Co===null?Co=[i]:Co.push(i)}function Dz(i){fg=!0,cD(i)}function js(){if(!ik&&Co!==null){ik=!0;var i=0,n=ht;try{var o=Co;for(ht=1;i<o.length;i++){var c=o[i];do c=c(!0);while(c!==null)}Co=null,fg=!1}catch(d){throw Co!==null&&(Co=Co.slice(i+1)),OS(_w,js),d}finally{ht=n,ik=!1}}return null}var Bc=[],Lc=0,Np=null,Op=0,ir=[],rr=0,xa=null,xo=1,Eo="";function ua(i,n){Bc[Lc++]=Op,Bc[Lc++]=Np,Np=i,Op=n}function lD(i,n,o){ir[rr++]=xo,ir[rr++]=Eo,ir[rr++]=xa,xa=i;var c=xo;i=Eo;var d=32-Ir(c)-1;c&=~(1<<d),o+=1;var h=32-Ir(n)+d;if(30<h){var f=d-d%5;h=(c&(1<<f)-1).toString(32),c>>=f,d-=f,xo=1<<32-Ir(n)+d|o<<d|c,Eo=h+i}else xo=1<<h|o<<d|c,Eo=i}function Iw(i){i.return!==null&&(ua(i,1),lD(i,1,0))}function Mw(i){for(;i===Np;)Np=Bc[--Lc],Bc[Lc]=null,Op=Bc[--Lc],Bc[Lc]=null;for(;i===xa;)xa=ir[--rr],ir[rr]=null,Eo=ir[--rr],ir[rr]=null,xo=ir[--rr],ir[rr]=null}var ji=null,zi=null,Tt=!1,Dr=null;function dD(i,n){var o=sr(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=i,n=i.deletions,n===null?(i.deletions=[o],i.flags|=16):n.push(o)}function H2(i,n){switch(i.tag){case 5:var o=i.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(i.stateNode=n,ji=i,zi=xs(n.firstChild),!0):!1;case 6:return n=i.pendingProps===""||n.nodeType!==3?null:n,n!==null?(i.stateNode=n,ji=i,zi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=xa!==null?{id:xo,overflow:Eo}:null,i.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=sr(18,null,null,0),o.stateNode=n,o.return=i,i.child=o,ji=i,zi=null,!0):!1;default:return!1}}function ub(i){return(i.mode&1)!==0&&(i.flags&128)===0}function hb(i){if(Tt){var n=zi;if(n){var o=n;if(!H2(i,n)){if(ub(i))throw Error(fe(418));n=xs(o.nextSibling);var c=ji;n&&H2(i,n)?dD(c,o):(i.flags=i.flags&-4097|2,Tt=!1,ji=i)}}else{if(ub(i))throw Error(fe(418));i.flags=i.flags&-4097|2,Tt=!1,ji=i}}}function W2(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ji=i}function Mf(i){if(i!==ji)return!1;if(!Tt)return W2(i),Tt=!0,!1;var n;if((n=i.tag!==3)&&!(n=i.tag!==5)&&(n=i.type,n=n!=="head"&&n!=="body"&&!ab(i.type,i.memoizedProps)),n&&(n=zi)){if(ub(i))throw uD(),Error(fe(418));for(;n;)dD(i,n),n=xs(n.nextSibling)}if(W2(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));e:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(n===0){zi=xs(i.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}i=i.nextSibling}zi=null}}else zi=ji?xs(i.stateNode.nextSibling):null;return!0}function uD(){for(var i=zi;i;)i=xs(i.nextSibling)}function Qc(){zi=ji=null,Tt=!1}function Nw(i){Dr===null?Dr=[i]:Dr.push(i)}var Tz=Fo.ReactCurrentBatchConfig;function xr(i,n){if(i&&i.defaultProps){n=jt({},n),i=i.defaultProps;for(var o in i)n[o]===void 0&&(n[o]=i[o]);return n}return n}var Pp=zs(null),Bp=null,zc=null,Ow=null;function Pw(){Ow=zc=Bp=null}function Bw(i){var n=Pp.current;Et(Pp),i._currentValue=n}function fb(i,n,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),i===o)break;i=i.return}}function Hc(i,n){Bp=i,Ow=zc=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&n&&(ki=!0),i.firstContext=null)}function lr(i){var n=i._currentValue;if(Ow!==i)if(i={context:i,memoizedValue:n,next:null},zc===null){if(Bp===null)throw Error(fe(308));zc=i,Bp.dependencies={lanes:0,firstContext:i}}else zc=zc.next=i;return n}var ba=null;function Lw(i){ba===null?ba=[i]:ba.push(i)}function hD(i,n,o,c){var d=n.interleaved;return d===null?(o.next=o,Lw(n)):(o.next=d.next,d.next=o),n.interleaved=o,Mo(i,c)}function Mo(i,n){i.lanes|=n;var o=i.alternate;for(o!==null&&(o.lanes|=n),o=i,i=i.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),o=i,i=i.return;return o.tag===3?o.stateNode:null}var us=!1;function zw(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fD(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Do(i,n){return{eventTime:i,lane:n,tag:0,payload:null,callback:null,next:null}}function Es(i,n,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Je&2){var d=c.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),c.pending=n,Mo(i,o)}return d=c.interleaved,d===null?(n.next=n,Lw(c)):(n.next=d.next,d.next=n),c.interleaved=n,Mo(i,o)}function sp(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=i.pendingLanes,o|=c,n.lanes=o,yw(i,o)}}function q2(i,n){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?d=h=f:h=h.next=f,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}function Lp(i,n,o,c){var d=i.updateQueue;us=!1;var h=d.firstBaseUpdate,f=d.lastBaseUpdate,m=d.shared.pending;if(m!==null){d.shared.pending=null;var k=m,b=k.next;k.next=null,f===null?h=b:f.next=b,f=k;var w=i.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==f&&(m===null?w.firstBaseUpdate=b:m.next=b,w.lastBaseUpdate=k))}if(h!==null){var y=d.baseState;f=0,w=b=k=null,m=h;do{var C=m.lane,x=m.eventTime;if((c&C)===C){w!==null&&(w=w.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var D=i,T=m;switch(C=n,x=o,T.tag){case 1:if(D=T.payload,typeof D=="function"){y=D.call(x,y,C);break e}y=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=T.payload,C=typeof D=="function"?D.call(x,y,C):D,C==null)break e;y=jt({},y,C);break e;case 2:us=!0}}m.callback!==null&&m.lane!==0&&(i.flags|=64,C=d.effects,C===null?d.effects=[m]:C.push(m))}else x={eventTime:x,lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(b=w=x,k=y):w=w.next=x,f|=C;if(m=m.next,m===null){if(m=d.shared.pending,m===null)break;C=m,m=C.next,C.next=null,d.lastBaseUpdate=C,d.shared.pending=null}}while(1);if(w===null&&(k=y),d.baseState=k,d.firstBaseUpdate=b,d.lastBaseUpdate=w,n=d.shared.interleaved,n!==null){d=n;do f|=d.lane,d=d.next;while(d!==n)}else h===null&&(d.shared.lanes=0);Sa|=f,i.lanes=f,i.memoizedState=y}}function G2(i,n,o){if(i=n.effects,n.effects=null,i!==null)for(n=0;n<i.length;n++){var c=i[n],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(fe(191,d));d.call(c)}}}var pD=new hS.Component().refs;function pb(i,n,o,c){n=i.memoizedState,o=o(c,n),o=o==null?n:jt({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var pg={isMounted:function(i){return(i=i._reactInternals)?Ma(i)===i:!1},enqueueSetState:function(i,n,o){i=i._reactInternals;var c=ni(),d=Ds(i),h=Do(c,d);h.payload=n,o!=null&&(h.callback=o),n=Es(i,h,d),n!==null&&(Mr(n,i,d,c),sp(n,i,d))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var c=ni(),d=Ds(i),h=Do(c,d);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Es(i,h,d),n!==null&&(Mr(n,i,d,c),sp(n,i,d))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=ni(),c=Ds(i),d=Do(o,c);d.tag=2,n!=null&&(d.callback=n),n=Es(i,d,c),n!==null&&(Mr(n,i,c,o),sp(n,i,c))}};function Y2(i,n,o,c,d,h,f){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,h,f):n.prototype&&n.prototype.isPureReactComponent?!uu(o,c)||!uu(d,h):!0}function gD(i,n,o){var c=!1,d=Ns,h=n.contextType;return typeof h=="object"&&h!==null?h=lr(h):(d=wi(n)?Ca:qn.current,c=n.contextTypes,h=(c=c!=null)?Zc(i,d):Ns),n=new n(o,h),i.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=pg,i.stateNode=n,n._reactInternals=i,c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=d,i.__reactInternalMemoizedMaskedChildContext=h),n}function K2(i,n,o,c){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==i&&pg.enqueueReplaceState(n,n.state,null)}function gb(i,n,o,c){var d=i.stateNode;d.props=o,d.state=i.memoizedState,d.refs=pD,zw(i);var h=n.contextType;typeof h=="object"&&h!==null?d.context=lr(h):(h=wi(n)?Ca:qn.current,d.context=Zc(i,h)),d.state=i.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(pb(i,n,h,o),d.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&pg.enqueueReplaceState(d,d.state,null),Lp(i,o,d,c),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308)}function Td(i,n,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(fe(309));var c=o.stateNode}if(!c)throw Error(fe(147,i));var d=c,h=""+i;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(f){var m=d.refs;m===pD&&(m=d.refs={}),f===null?delete m[h]:m[h]=f},n._stringRef=h,n)}if(typeof i!="string")throw Error(fe(284));if(!o._owner)throw Error(fe(290,i))}return i}function Nf(i,n){throw i=Object.prototype.toString.call(n),Error(fe(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i))}function Z2(i){var n=i._init;return n(i._payload)}function mD(i){function n(N,L){if(i){var S=N.deletions;S===null?(N.deletions=[L],N.flags|=16):S.push(L)}}function o(N,L){if(!i)return null;for(;L!==null;)n(N,L),L=L.sibling;return null}function c(N,L){for(N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function d(N,L){return N=Ts(N,L),N.index=0,N.sibling=null,N}function h(N,L,S){return N.index=S,i?(S=N.alternate,S!==null?(S=S.index,S<L?(N.flags|=2,L):S):(N.flags|=2,L)):(N.flags|=1048576,L)}function f(N){return i&&N.alternate===null&&(N.flags|=2),N}function m(N,L,S,F){return L===null||L.tag!==6?(L=dk(S,N.mode,F),L.return=N,L):(L=d(L,S),L.return=N,L)}function k(N,L,S,F){var H=S.type;return H===Tc?w(N,L,S.props.children,F,S.key):L!==null&&(L.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ds&&Z2(H)===L.type)?(F=d(L,S.props),F.ref=Td(N,L,S),F.return=N,F):(F=hp(S.type,S.key,S.props,null,N.mode,F),F.ref=Td(N,L,S),F.return=N,F)}function b(N,L,S,F){return L===null||L.tag!==4||L.stateNode.containerInfo!==S.containerInfo||L.stateNode.implementation!==S.implementation?(L=uk(S,N.mode,F),L.return=N,L):(L=d(L,S.children||[]),L.return=N,L)}function w(N,L,S,F,H){return L===null||L.tag!==7?(L=ya(S,N.mode,F,H),L.return=N,L):(L=d(L,S),L.return=N,L)}function y(N,L,S){if(typeof L=="string"&&L!==""||typeof L=="number")return L=dk(""+L,N.mode,S),L.return=N,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _f:return S=hp(L.type,L.key,L.props,null,N.mode,S),S.ref=Td(N,null,L),S.return=N,S;case Dc:return L=uk(L,N.mode,S),L.return=N,L;case ds:var F=L._init;return y(N,F(L._payload),S)}if(Ld(L)||Cd(L))return L=ya(L,N.mode,S,null),L.return=N,L;Nf(N,L)}return null}function C(N,L,S,F){var H=L!==null?L.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return H!==null?null:m(N,L,""+S,F);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _f:return S.key===H?k(N,L,S,F):null;case Dc:return S.key===H?b(N,L,S,F):null;case ds:return H=S._init,C(N,L,H(S._payload),F)}if(Ld(S)||Cd(S))return H!==null?null:w(N,L,S,F,null);Nf(N,S)}return null}function x(N,L,S,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return N=N.get(S)||null,m(L,N,""+F,H);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _f:return N=N.get(F.key===null?S:F.key)||null,k(L,N,F,H);case Dc:return N=N.get(F.key===null?S:F.key)||null,b(L,N,F,H);case ds:var J=F._init;return x(N,L,S,J(F._payload),H)}if(Ld(F)||Cd(F))return N=N.get(S)||null,w(L,N,F,H,null);Nf(L,F)}return null}function D(N,L,S,F){for(var H=null,J=null,Y=L,ee=L=0,oe=null;Y!==null&&ee<S.length;ee++){Y.index>ee?(oe=Y,Y=null):oe=Y.sibling;var de=C(N,Y,S[ee],F);if(de===null){Y===null&&(Y=oe);break}i&&Y&&de.alternate===null&&n(N,Y),L=h(de,L,ee),J===null?H=de:J.sibling=de,J=de,Y=oe}if(ee===S.length)return o(N,Y),Tt&&ua(N,ee),H;if(Y===null){for(;ee<S.length;ee++)Y=y(N,S[ee],F),Y!==null&&(L=h(Y,L,ee),J===null?H=Y:J.sibling=Y,J=Y);return Tt&&ua(N,ee),H}for(Y=c(N,Y);ee<S.length;ee++)oe=x(Y,N,ee,S[ee],F),oe!==null&&(i&&oe.alternate!==null&&Y.delete(oe.key===null?ee:oe.key),L=h(oe,L,ee),J===null?H=oe:J.sibling=oe,J=oe);return i&&Y.forEach(function(K){return n(N,K)}),Tt&&ua(N,ee),H}function T(N,L,S,F){var H=Cd(S);if(typeof H!="function")throw Error(fe(150));if(S=H.call(S),S==null)throw Error(fe(151));for(var J=H=null,Y=L,ee=L=0,oe=null,de=S.next();Y!==null&&!de.done;ee++,de=S.next()){Y.index>ee?(oe=Y,Y=null):oe=Y.sibling;var K=C(N,Y,de.value,F);if(K===null){Y===null&&(Y=oe);break}i&&Y&&K.alternate===null&&n(N,Y),L=h(K,L,ee),J===null?H=K:J.sibling=K,J=K,Y=oe}if(de.done)return o(N,Y),Tt&&ua(N,ee),H;if(Y===null){for(;!de.done;ee++,de=S.next())de=y(N,de.value,F),de!==null&&(L=h(de,L,ee),J===null?H=de:J.sibling=de,J=de);return Tt&&ua(N,ee),H}for(Y=c(N,Y);!de.done;ee++,de=S.next())de=x(Y,N,ee,de.value,F),de!==null&&(i&&de.alternate!==null&&Y.delete(de.key===null?ee:de.key),L=h(de,L,ee),J===null?H=de:J.sibling=de,J=de);return i&&Y.forEach(function(Q){return n(N,Q)}),Tt&&ua(N,ee),H}function z(N,L,S,F){if(typeof S=="object"&&S!==null&&S.type===Tc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _f:e:{for(var H=S.key,J=L;J!==null;){if(J.key===H){if(H=S.type,H===Tc){if(J.tag===7){o(N,J.sibling),L=d(J,S.props.children),L.return=N,N=L;break e}}else if(J.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ds&&Z2(H)===J.type){o(N,J.sibling),L=d(J,S.props),L.ref=Td(N,J,S),L.return=N,N=L;break e}o(N,J);break}else n(N,J);J=J.sibling}S.type===Tc?(L=ya(S.props.children,N.mode,F,S.key),L.return=N,N=L):(F=hp(S.type,S.key,S.props,null,N.mode,F),F.ref=Td(N,L,S),F.return=N,N=F)}return f(N);case Dc:e:{for(J=S.key;L!==null;){if(L.key===J)if(L.tag===4&&L.stateNode.containerInfo===S.containerInfo&&L.stateNode.implementation===S.implementation){o(N,L.sibling),L=d(L,S.children||[]),L.return=N,N=L;break e}else{o(N,L);break}else n(N,L);L=L.sibling}L=uk(S,N.mode,F),L.return=N,N=L}return f(N);case ds:return J=S._init,z(N,L,J(S._payload),F)}if(Ld(S))return D(N,L,S,F);if(Cd(S))return T(N,L,S,F);Nf(N,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,L!==null&&L.tag===6?(o(N,L.sibling),L=d(L,S),L.return=N,N=L):(o(N,L),L=dk(S,N.mode,F),L.return=N,N=L),f(N)):o(N,L)}return z}var Jc=mD(!0),kD=mD(!1),Ou={},no=zs(Ou),gu=zs(Ou),mu=zs(Ou);function wa(i){if(i===Ou)throw Error(fe(174));return i}function jw(i,n){switch(_t(mu,n),_t(gu,i),_t(no,Ou),i=n.nodeType,i){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gk(null,"");break;default:i=i===8?n.parentNode:n,n=i.namespaceURI||null,i=i.tagName,n=Gk(n,i)}Et(no),_t(no,n)}function Xc(){Et(no),Et(gu),Et(mu)}function bD(i){wa(mu.current);var n=wa(no.current),o=Gk(n,i.type);n!==o&&(_t(gu,i),_t(no,o))}function Rw(i){gu.current===i&&(Et(no),Et(gu))}var Bt=zs(0);function zp(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rk=[];function Fw(){for(var i=0;i<rk.length;i++)rk[i]._workInProgressVersionPrimary=null;rk.length=0}var ap=Fo.ReactCurrentDispatcher,ok=Fo.ReactCurrentBatchConfig,Ea=0,zt=null,fn=null,xn=null,jp=!1,Yd=!1,ku=0,Iz=0;function $n(){throw Error(fe(321))}function $w(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!Nr(i[o],n[o]))return!1;return!0}function Vw(i,n,o,c,d,h){if(Ea=h,zt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ap.current=i===null||i.memoizedState===null?Pz:Bz,i=o(c,d),Yd){h=0;do{if(Yd=!1,ku=0,25<=h)throw Error(fe(301));h+=1,xn=fn=null,n.updateQueue=null,ap.current=Lz,i=o(c,d)}while(Yd)}if(ap.current=Rp,n=fn!==null&&fn.next!==null,Ea=0,xn=fn=zt=null,jp=!1,n)throw Error(fe(300));return i}function Uw(){var i=ku!==0;return ku=0,i}function Qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?zt.memoizedState=xn=i:xn=xn.next=i,xn}function dr(){if(fn===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=fn.next;var n=xn===null?zt.memoizedState:xn.next;if(n!==null)xn=n,fn=i;else{if(i===null)throw Error(fe(310));fn=i,i={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},xn===null?zt.memoizedState=xn=i:xn=xn.next=i}return xn}function bu(i,n){return typeof n=="function"?n(i):n}function sk(i){var n=dr(),o=n.queue;if(o===null)throw Error(fe(311));o.lastRenderedReducer=i;var c=fn,d=c.baseQueue,h=o.pending;if(h!==null){if(d!==null){var f=d.next;d.next=h.next,h.next=f}c.baseQueue=d=h,o.pending=null}if(d!==null){h=d.next,c=c.baseState;var m=f=null,k=null,b=h;do{var w=b.lane;if((Ea&w)===w)k!==null&&(k=k.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),c=b.hasEagerState?b.eagerState:i(c,b.action);else{var y={lane:w,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};k===null?(m=k=y,f=c):k=k.next=y,zt.lanes|=w,Sa|=w}b=b.next}while(b!==null&&b!==h);k===null?f=c:k.next=m,Nr(c,n.memoizedState)||(ki=!0),n.memoizedState=c,n.baseState=f,n.baseQueue=k,o.lastRenderedState=c}if(i=o.interleaved,i!==null){d=i;do h=d.lane,zt.lanes|=h,Sa|=h,d=d.next;while(d!==i)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function ak(i){var n=dr(),o=n.queue;if(o===null)throw Error(fe(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var f=d=d.next;do h=i(h,f.action),f=f.next;while(f!==d);Nr(h,n.memoizedState)||(ki=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,c]}function wD(){}function vD(i,n){var o=zt,c=dr(),d=n(),h=!Nr(c.memoizedState,d);if(h&&(c.memoizedState=d,ki=!0),c=c.queue,Hw(AD.bind(null,o,c,i),[i]),c.getSnapshot!==n||h||xn!==null&&xn.memoizedState.tag&1){if(o.flags|=2048,wu(9,yD.bind(null,o,c,d,n),void 0,null),En===null)throw Error(fe(349));Ea&30||_D(o,n,d)}return d}function _D(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=zt.updateQueue,n===null?(n={lastEffect:null,stores:null},zt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function yD(i,n,o,c){n.value=o,n.getSnapshot=c,CD(n)&&xD(i)}function AD(i,n,o){return o(function(){CD(n)&&xD(i)})}function CD(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!Nr(i,o)}catch{return!0}}function xD(i){var n=Mo(i,1);n!==null&&Mr(n,i,1,-1)}function Q2(i){var n=Qr();return typeof i=="function"&&(i=i()),n.memoizedState=n.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:i},n.queue=i,i=i.dispatch=Oz.bind(null,zt,i),[n.memoizedState,i]}function wu(i,n,o,c){return i={tag:i,create:n,destroy:o,deps:c,next:null},n=zt.updateQueue,n===null?(n={lastEffect:null,stores:null},zt.updateQueue=n,n.lastEffect=i.next=i):(o=n.lastEffect,o===null?n.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,n.lastEffect=i)),i}function ED(){return dr().memoizedState}function cp(i,n,o,c){var d=Qr();zt.flags|=i,d.memoizedState=wu(1|n,o,void 0,c===void 0?null:c)}function gg(i,n,o,c){var d=dr();c=c===void 0?null:c;var h=void 0;if(fn!==null){var f=fn.memoizedState;if(h=f.destroy,c!==null&&$w(c,f.deps)){d.memoizedState=wu(n,o,h,c);return}}zt.flags|=i,d.memoizedState=wu(1|n,o,h,c)}function J2(i,n){return cp(8390656,8,i,n)}function Hw(i,n){return gg(2048,8,i,n)}function SD(i,n){return gg(4,2,i,n)}function DD(i,n){return gg(4,4,i,n)}function TD(i,n){if(typeof n=="function")return i=i(),n(i),function(){n(null)};if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function ID(i,n,o){return o=o!=null?o.concat([i]):null,gg(4,4,TD.bind(null,n,i),o)}function Ww(){}function MD(i,n){var o=dr();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&$w(n,c[1])?c[0]:(o.memoizedState=[i,n],i)}function ND(i,n){var o=dr();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&$w(n,c[1])?c[0]:(i=i(),o.memoizedState=[i,n],i)}function OD(i,n,o){return Ea&21?(Nr(o,n)||(o=LS(),zt.lanes|=o,Sa|=o,i.baseState=!0),n):(i.baseState&&(i.baseState=!1,ki=!0),i.memoizedState=o)}function Mz(i,n){var o=ht;ht=o!==0&&4>o?o:4,i(!0);var c=ok.transition;ok.transition={};try{i(!1),n()}finally{ht=o,ok.transition=c}}function PD(){return dr().memoizedState}function Nz(i,n,o){var c=Ds(i);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},BD(i))LD(n,o);else if(o=hD(i,n,o,c),o!==null){var d=ni();Mr(o,i,c,d),zD(o,n,c)}}function Oz(i,n,o){var c=Ds(i),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(BD(i))LD(n,d);else{var h=i.alternate;if(i.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var f=n.lastRenderedState,m=h(f,o);if(d.hasEagerState=!0,d.eagerState=m,Nr(m,f)){var k=n.interleaved;k===null?(d.next=d,Lw(n)):(d.next=k.next,k.next=d),n.interleaved=d;return}}catch{}finally{}o=hD(i,n,d,c),o!==null&&(d=ni(),Mr(o,i,c,d),zD(o,n,c))}}function BD(i){var n=i.alternate;return i===zt||n!==null&&n===zt}function LD(i,n){Yd=jp=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function zD(i,n,o){if(o&4194240){var c=n.lanes;c&=i.pendingLanes,o|=c,n.lanes=o,yw(i,o)}}var Rp={readContext:lr,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},Pz={readContext:lr,useCallback:function(i,n){return Qr().memoizedState=[i,n===void 0?null:n],i},useContext:lr,useEffect:J2,useImperativeHandle:function(i,n,o){return o=o!=null?o.concat([i]):null,cp(4194308,4,TD.bind(null,n,i),o)},useLayoutEffect:function(i,n){return cp(4194308,4,i,n)},useInsertionEffect:function(i,n){return cp(4,2,i,n)},useMemo:function(i,n){var o=Qr();return n=n===void 0?null:n,i=i(),o.memoizedState=[i,n],i},useReducer:function(i,n,o){var c=Qr();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:n},c.queue=i,i=i.dispatch=Nz.bind(null,zt,i),[c.memoizedState,i]},useRef:function(i){var n=Qr();return i={current:i},n.memoizedState=i},useState:Q2,useDebugValue:Ww,useDeferredValue:function(i){return Qr().memoizedState=i},useTransition:function(){var i=Q2(!1),n=i[0];return i=Mz.bind(null,i[1]),Qr().memoizedState=i,[n,i]},useMutableSource:function(){},useSyncExternalStore:function(i,n,o){var c=zt,d=Qr();if(Tt){if(o===void 0)throw Error(fe(407));o=o()}else{if(o=n(),En===null)throw Error(fe(349));Ea&30||_D(c,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,J2(AD.bind(null,c,h,i),[i]),c.flags|=2048,wu(9,yD.bind(null,c,h,o,n),void 0,null),o},useId:function(){var i=Qr(),n=En.identifierPrefix;if(Tt){var o=Eo,c=xo;o=(c&~(1<<32-Ir(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=ku++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Iz++,n=":"+n+"r"+o.toString(32)+":";return i.memoizedState=n},unstable_isNewReconciler:!1},Bz={readContext:lr,useCallback:MD,useContext:lr,useEffect:Hw,useImperativeHandle:ID,useInsertionEffect:SD,useLayoutEffect:DD,useMemo:ND,useReducer:sk,useRef:ED,useState:function(){return sk(bu)},useDebugValue:Ww,useDeferredValue:function(i){var n=dr();return OD(n,fn.memoizedState,i)},useTransition:function(){var i=sk(bu)[0],n=dr().memoizedState;return[i,n]},useMutableSource:wD,useSyncExternalStore:vD,useId:PD,unstable_isNewReconciler:!1},Lz={readContext:lr,useCallback:MD,useContext:lr,useEffect:Hw,useImperativeHandle:ID,useInsertionEffect:SD,useLayoutEffect:DD,useMemo:ND,useReducer:ak,useRef:ED,useState:function(){return ak(bu)},useDebugValue:Ww,useDeferredValue:function(i){var n=dr();return fn===null?n.memoizedState=i:OD(n,fn.memoizedState,i)},useTransition:function(){var i=ak(bu)[0],n=dr().memoizedState;return[i,n]},useMutableSource:wD,useSyncExternalStore:vD,useId:PD,unstable_isNewReconciler:!1};function el(i,n){try{var o="",c=n;do o+=d7(c),c=c.return;while(c);var d=o}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:i,source:n,stack:d,digest:null}}function ck(i,n,o){return{value:i,source:null,stack:o??null,digest:n??null}}function mb(i,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var zz=typeof WeakMap=="function"?WeakMap:Map;function jD(i,n,o){o=Do(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){$p||($p=!0,Eb=c),mb(i,n)},o}function RD(i,n,o){o=Do(-1,o),o.tag=3;var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=n.value;o.payload=function(){return c(d)},o.callback=function(){mb(i,n)}}var h=i.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){mb(i,n),typeof c!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),o}function X2(i,n,o){var c=i.pingCache;if(c===null){c=i.pingCache=new zz;var d=new Set;c.set(n,d)}else d=c.get(n),d===void 0&&(d=new Set,c.set(n,d));d.has(o)||(d.add(o),i=Qz.bind(null,i,n,o),n.then(i,i))}function eE(i){do{var n;if((n=i.tag===13)&&(n=i.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return i;i=i.return}while(i!==null);return null}function tE(i,n,o,c,d){return i.mode&1?(i.flags|=65536,i.lanes=d,i):(i===n?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Do(-1,1),n.tag=2,Es(o,n,1))),o.lanes|=1),i)}var jz=Fo.ReactCurrentOwner,ki=!1;function Xn(i,n,o,c){n.child=i===null?kD(n,null,o,c):Jc(n,i.child,o,c)}function nE(i,n,o,c,d){o=o.render;var h=n.ref;return Hc(n,d),c=Vw(i,n,o,c,h,d),o=Uw(),i!==null&&!ki?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~d,No(i,n,d)):(Tt&&o&&Iw(n),n.flags|=1,Xn(i,n,c,d),n.child)}function iE(i,n,o,c,d){if(i===null){var h=o.type;return typeof h=="function"&&!Xw(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=h,FD(i,n,h,c,d)):(i=hp(o.type,null,c,n,n.mode,d),i.ref=n.ref,i.return=n,n.child=i)}if(h=i.child,!(i.lanes&d)){var f=h.memoizedProps;if(o=o.compare,o=o!==null?o:uu,o(f,c)&&i.ref===n.ref)return No(i,n,d)}return n.flags|=1,i=Ts(h,c),i.ref=n.ref,i.return=n,n.child=i}function FD(i,n,o,c,d){if(i!==null){var h=i.memoizedProps;if(uu(h,c)&&i.ref===n.ref)if(ki=!1,n.pendingProps=c=h,(i.lanes&d)!==0)i.flags&131072&&(ki=!0);else return n.lanes=i.lanes,No(i,n,d)}return kb(i,n,o,c,d)}function $D(i,n,o){var c=n.pendingProps,d=c.children,h=i!==null?i.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Rc,Oi),Oi|=o;else{if(!(o&1073741824))return i=h!==null?h.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:i,cachePool:null,transitions:null},n.updateQueue=null,_t(Rc,Oi),Oi|=i,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:o,_t(Rc,Oi),Oi|=c}else h!==null?(c=h.baseLanes|o,n.memoizedState=null):c=o,_t(Rc,Oi),Oi|=c;return Xn(i,n,d,o),n.child}function VD(i,n){var o=n.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function kb(i,n,o,c,d){var h=wi(o)?Ca:qn.current;return h=Zc(n,h),Hc(n,d),o=Vw(i,n,o,c,h,d),c=Uw(),i!==null&&!ki?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~d,No(i,n,d)):(Tt&&c&&Iw(n),n.flags|=1,Xn(i,n,o,d),n.child)}function rE(i,n,o,c,d){if(wi(o)){var h=!0;Mp(n)}else h=!1;if(Hc(n,d),n.stateNode===null)lp(i,n),gD(n,o,c),gb(n,o,c,d),c=!0;else if(i===null){var f=n.stateNode,m=n.memoizedProps;f.props=m;var k=f.context,b=o.contextType;typeof b=="object"&&b!==null?b=lr(b):(b=wi(o)?Ca:qn.current,b=Zc(n,b));var w=o.getDerivedStateFromProps,y=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function";y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==c||k!==b)&&K2(n,f,c,b),us=!1;var C=n.memoizedState;f.state=C,Lp(n,c,f,d),k=n.memoizedState,m!==c||C!==k||bi.current||us?(typeof w=="function"&&(pb(n,o,w,c),k=n.memoizedState),(m=us||Y2(n,o,m,c,C,k,b))?(y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=k),f.props=c,f.state=k,f.context=b,c=m):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{f=n.stateNode,fD(i,n),m=n.memoizedProps,b=n.type===n.elementType?m:xr(n.type,m),f.props=b,y=n.pendingProps,C=f.context,k=o.contextType,typeof k=="object"&&k!==null?k=lr(k):(k=wi(o)?Ca:qn.current,k=Zc(n,k));var x=o.getDerivedStateFromProps;(w=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==y||C!==k)&&K2(n,f,c,k),us=!1,C=n.memoizedState,f.state=C,Lp(n,c,f,d);var D=n.memoizedState;m!==y||C!==D||bi.current||us?(typeof x=="function"&&(pb(n,o,x,c),D=n.memoizedState),(b=us||Y2(n,o,b,c,C,D,k)||!1)?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(c,D,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(c,D,k)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&C===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&C===i.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=D),f.props=c,f.state=D,f.context=k,c=b):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&C===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&C===i.memoizedState||(n.flags|=1024),c=!1)}return bb(i,n,o,c,h,d)}function bb(i,n,o,c,d,h){VD(i,n);var f=(n.flags&128)!==0;if(!c&&!f)return d&&U2(n,o,!1),No(i,n,h);c=n.stateNode,jz.current=n;var m=f&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,i!==null&&f?(n.child=Jc(n,i.child,null,h),n.child=Jc(n,null,m,h)):Xn(i,n,m,h),n.memoizedState=c.state,d&&U2(n,o,!0),n.child}function UD(i){var n=i.stateNode;n.pendingContext?V2(i,n.pendingContext,n.pendingContext!==n.context):n.context&&V2(i,n.context,!1),jw(i,n.containerInfo)}function oE(i,n,o,c,d){return Qc(),Nw(d),n.flags|=256,Xn(i,n,o,c),n.child}var wb={dehydrated:null,treeContext:null,retryLane:0};function vb(i){return{baseLanes:i,cachePool:null,transitions:null}}function HD(i,n,o){var c=n.pendingProps,d=Bt.current,h=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=i!==null&&i.memoizedState===null?!1:(d&2)!==0),m?(h=!0,n.flags&=-129):(i===null||i.memoizedState!==null)&&(d|=1),_t(Bt,d&1),i===null)return hb(n),i=n.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(n.mode&1?i.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=c.children,i=c.fallback,h?(c=n.mode,h=n.child,f={mode:"hidden",children:f},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=f):h=bg(f,c,0,null),i=ya(i,c,o,null),h.return=n,i.return=n,h.sibling=i,n.child=h,n.child.memoizedState=vb(o),n.memoizedState=wb,i):qw(n,f));if(d=i.memoizedState,d!==null&&(m=d.dehydrated,m!==null))return Rz(i,n,f,c,m,d,o);if(h){h=c.fallback,f=n.mode,d=i.child,m=d.sibling;var k={mode:"hidden",children:c.children};return!(f&1)&&n.child!==d?(c=n.child,c.childLanes=0,c.pendingProps=k,n.deletions=null):(c=Ts(d,k),c.subtreeFlags=d.subtreeFlags&14680064),m!==null?h=Ts(m,h):(h=ya(h,f,o,null),h.flags|=2),h.return=n,c.return=n,c.sibling=h,n.child=c,c=h,h=n.child,f=i.child.memoizedState,f=f===null?vb(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=i.childLanes&~o,n.memoizedState=wb,c}return h=i.child,i=h.sibling,c=Ts(h,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=o),c.return=n,c.sibling=null,i!==null&&(o=n.deletions,o===null?(n.deletions=[i],n.flags|=16):o.push(i)),n.child=c,n.memoizedState=null,c}function qw(i,n){return n=bg({mode:"visible",children:n},i.mode,0,null),n.return=i,i.child=n}function Of(i,n,o,c){return c!==null&&Nw(c),Jc(n,i.child,null,o),i=qw(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function Rz(i,n,o,c,d,h,f){if(o)return n.flags&256?(n.flags&=-257,c=ck(Error(fe(422))),Of(i,n,f,c)):n.memoizedState!==null?(n.child=i.child,n.flags|=128,null):(h=c.fallback,d=n.mode,c=bg({mode:"visible",children:c.children},d,0,null),h=ya(h,d,f,null),h.flags|=2,c.return=n,h.return=n,c.sibling=h,n.child=c,n.mode&1&&Jc(n,i.child,null,f),n.child.memoizedState=vb(f),n.memoizedState=wb,h);if(!(n.mode&1))return Of(i,n,f,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var m=c.dgst;return c=m,h=Error(fe(419)),c=ck(h,c,void 0),Of(i,n,f,c)}if(m=(f&i.childLanes)!==0,ki||m){if(c=En,c!==null){switch(f&-f){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|f)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Mo(i,d),Mr(c,i,d,-1))}return Jw(),c=ck(Error(fe(421))),Of(i,n,f,c)}return d.data==="$?"?(n.flags|=128,n.child=i.child,n=Jz.bind(null,i),d._reactRetry=n,null):(i=h.treeContext,zi=xs(d.nextSibling),ji=n,Tt=!0,Dr=null,i!==null&&(ir[rr++]=xo,ir[rr++]=Eo,ir[rr++]=xa,xo=i.id,Eo=i.overflow,xa=n),n=qw(n,c.children),n.flags|=4096,n)}function sE(i,n,o){i.lanes|=n;var c=i.alternate;c!==null&&(c.lanes|=n),fb(i.return,n,o)}function lk(i,n,o,c,d){var h=i.memoizedState;h===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=o,h.tailMode=d)}function WD(i,n,o){var c=n.pendingProps,d=c.revealOrder,h=c.tail;if(Xn(i,n,c.children,o),c=Bt.current,c&2)c=c&1|2,n.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sE(i,o,n);else if(i.tag===19)sE(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}if(_t(Bt,c),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)i=o.alternate,i!==null&&zp(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),lk(n,!1,d,o,h);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(i=d.alternate,i!==null&&zp(i)===null){n.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}lk(n,!0,o,null,h);break;case"together":lk(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function lp(i,n){!(n.mode&1)&&i!==null&&(i.alternate=null,n.alternate=null,n.flags|=2)}function No(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),Sa|=n.lanes,!(o&n.childLanes))return null;if(i!==null&&n.child!==i.child)throw Error(fe(153));if(n.child!==null){for(i=n.child,o=Ts(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=Ts(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function Fz(i,n,o){switch(n.tag){case 3:UD(n),Qc();break;case 5:bD(n);break;case 1:wi(n.type)&&Mp(n);break;case 4:jw(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,d=n.memoizedProps.value;_t(Pp,c._currentValue),c._currentValue=d;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(_t(Bt,Bt.current&1),n.flags|=128,null):o&n.child.childLanes?HD(i,n,o):(_t(Bt,Bt.current&1),i=No(i,n,o),i!==null?i.sibling:null);_t(Bt,Bt.current&1);break;case 19:if(c=(o&n.childLanes)!==0,i.flags&128){if(c)return WD(i,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_t(Bt,Bt.current),c)break;return null;case 22:case 23:return n.lanes=0,$D(i,n,o)}return No(i,n,o)}var qD,_b,GD,YD;qD=function(i,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};_b=function(){};GD=function(i,n,o,c){var d=i.memoizedProps;if(d!==c){i=n.stateNode,wa(no.current);var h=null;switch(o){case"input":d=Uk(i,d),c=Uk(i,c),h=[];break;case"select":d=jt({},d,{value:void 0}),c=jt({},c,{value:void 0}),h=[];break;case"textarea":d=qk(i,d),c=qk(i,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(i.onclick=Tp)}Yk(o,c);var f;o=null;for(b in d)if(!c.hasOwnProperty(b)&&d.hasOwnProperty(b)&&d[b]!=null)if(b==="style"){var m=d[b];for(f in m)m.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ru.hasOwnProperty(b)?h||(h=[]):(h=h||[]).push(b,null));for(b in c){var k=c[b];if(m=d!=null?d[b]:void 0,c.hasOwnProperty(b)&&k!==m&&(k!=null||m!=null))if(b==="style")if(m){for(f in m)!m.hasOwnProperty(f)||k&&k.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in k)k.hasOwnProperty(f)&&m[f]!==k[f]&&(o||(o={}),o[f]=k[f])}else o||(h||(h=[]),h.push(b,o)),o=k;else b==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,m=m?m.__html:void 0,k!=null&&m!==k&&(h=h||[]).push(b,k)):b==="children"?typeof k!="string"&&typeof k!="number"||(h=h||[]).push(b,""+k):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ru.hasOwnProperty(b)?(k!=null&&b==="onScroll"&&Ct("scroll",i),h||m===k||(h=[])):(h=h||[]).push(b,k))}o&&(h=h||[]).push("style",o);var b=h;(n.updateQueue=b)&&(n.flags|=4)}};YD=function(i,n,o,c){o!==c&&(n.flags|=4)};function Id(i,n){if(!Tt)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Vn(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(n)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,n}function $z(i,n,o){var c=n.pendingProps;switch(Mw(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(n),null;case 1:return wi(n.type)&&Ip(),Vn(n),null;case 3:return c=n.stateNode,Xc(),Et(bi),Et(qn),Fw(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Mf(n)?n.flags|=4:i===null||i.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Dr!==null&&(Tb(Dr),Dr=null))),_b(i,n),Vn(n),null;case 5:Rw(n);var d=wa(mu.current);if(o=n.type,i!==null&&n.stateNode!=null)GD(i,n,o,c,d),i.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(fe(166));return Vn(n),null}if(i=wa(no.current),Mf(n)){c=n.stateNode,o=n.type;var h=n.memoizedProps;switch(c[Jr]=n,c[pu]=h,i=(n.mode&1)!==0,o){case"dialog":Ct("cancel",c),Ct("close",c);break;case"iframe":case"object":case"embed":Ct("load",c);break;case"video":case"audio":for(d=0;d<jd.length;d++)Ct(jd[d],c);break;case"source":Ct("error",c);break;case"img":case"image":case"link":Ct("error",c),Ct("load",c);break;case"details":Ct("toggle",c);break;case"input":g2(c,h),Ct("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},Ct("invalid",c);break;case"textarea":k2(c,h),Ct("invalid",c)}Yk(o,h),d=null;for(var f in h)if(h.hasOwnProperty(f)){var m=h[f];f==="children"?typeof m=="string"?c.textContent!==m&&(h.suppressHydrationWarning!==!0&&If(c.textContent,m,i),d=["children",m]):typeof m=="number"&&c.textContent!==""+m&&(h.suppressHydrationWarning!==!0&&If(c.textContent,m,i),d=["children",""+m]):ru.hasOwnProperty(f)&&m!=null&&f==="onScroll"&&Ct("scroll",c)}switch(o){case"input":yf(c),m2(c,h,!0);break;case"textarea":yf(c),b2(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Tp)}c=d,n.updateQueue=c,c!==null&&(n.flags|=4)}else{f=d.nodeType===9?d:d.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_S(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof c.is=="string"?i=f.createElement(o,{is:c.is}):(i=f.createElement(o),o==="select"&&(f=i,c.multiple?f.multiple=!0:c.size&&(f.size=c.size))):i=f.createElementNS(i,o),i[Jr]=n,i[pu]=c,qD(i,n,!1,!1),n.stateNode=i;e:{switch(f=Kk(o,c),o){case"dialog":Ct("cancel",i),Ct("close",i),d=c;break;case"iframe":case"object":case"embed":Ct("load",i),d=c;break;case"video":case"audio":for(d=0;d<jd.length;d++)Ct(jd[d],i);d=c;break;case"source":Ct("error",i),d=c;break;case"img":case"image":case"link":Ct("error",i),Ct("load",i),d=c;break;case"details":Ct("toggle",i),d=c;break;case"input":g2(i,c),d=Uk(i,c),Ct("invalid",i);break;case"option":d=c;break;case"select":i._wrapperState={wasMultiple:!!c.multiple},d=jt({},c,{value:void 0}),Ct("invalid",i);break;case"textarea":k2(i,c),d=qk(i,c),Ct("invalid",i);break;default:d=c}Yk(o,d),m=d;for(h in m)if(m.hasOwnProperty(h)){var k=m[h];h==="style"?CS(i,k):h==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&yS(i,k)):h==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&ou(i,k):typeof k=="number"&&ou(i,""+k):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ru.hasOwnProperty(h)?k!=null&&h==="onScroll"&&Ct("scroll",i):k!=null&&mw(i,h,k,f))}switch(o){case"input":yf(i),m2(i,c,!1);break;case"textarea":yf(i),b2(i);break;case"option":c.value!=null&&i.setAttribute("value",""+Ms(c.value));break;case"select":i.multiple=!!c.multiple,h=c.value,h!=null?Fc(i,!!c.multiple,h,!1):c.defaultValue!=null&&Fc(i,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(i.onclick=Tp)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Vn(n),null;case 6:if(i&&n.stateNode!=null)YD(i,n,i.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(fe(166));if(o=wa(mu.current),wa(no.current),Mf(n)){if(c=n.stateNode,o=n.memoizedProps,c[Jr]=n,(h=c.nodeValue!==o)&&(i=ji,i!==null))switch(i.tag){case 3:If(c.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&If(c.nodeValue,o,(i.mode&1)!==0)}h&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Jr]=n,n.stateNode=c}return Vn(n),null;case 13:if(Et(Bt),c=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tt&&zi!==null&&n.mode&1&&!(n.flags&128))uD(),Qc(),n.flags|=98560,h=!1;else if(h=Mf(n),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(fe(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(fe(317));h[Jr]=n}else Qc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Vn(n),h=!1}else Dr!==null&&(Tb(Dr),Dr=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(c=c!==null,c!==(i!==null&&i.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(i===null||Bt.current&1?pn===0&&(pn=3):Jw())),n.updateQueue!==null&&(n.flags|=4),Vn(n),null);case 4:return Xc(),_b(i,n),i===null&&hu(n.stateNode.containerInfo),Vn(n),null;case 10:return Bw(n.type._context),Vn(n),null;case 17:return wi(n.type)&&Ip(),Vn(n),null;case 19:if(Et(Bt),h=n.memoizedState,h===null)return Vn(n),null;if(c=(n.flags&128)!==0,f=h.rendering,f===null)if(c)Id(h,!1);else{if(pn!==0||i!==null&&i.flags&128)for(i=n.child;i!==null;){if(f=zp(i),f!==null){for(n.flags|=128,Id(h,!1),c=f.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)h=o,i=c,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=i,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,i=f.dependencies,h.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return _t(Bt,Bt.current&1|2),n.child}i=i.sibling}h.tail!==null&&Qt()>tl&&(n.flags|=128,c=!0,Id(h,!1),n.lanes=4194304)}else{if(!c)if(i=zp(f),i!==null){if(n.flags|=128,c=!0,o=i.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Id(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Tt)return Vn(n),null}else 2*Qt()-h.renderingStartTime>tl&&o!==1073741824&&(n.flags|=128,c=!0,Id(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(o=h.last,o!==null?o.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Qt(),n.sibling=null,o=Bt.current,_t(Bt,c?o&1|2:o&1),n):(Vn(n),null);case 22:case 23:return Qw(),c=n.memoizedState!==null,i!==null&&i.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?Oi&1073741824&&(Vn(n),n.subtreeFlags&6&&(n.flags|=8192)):Vn(n),null;case 24:return null;case 25:return null}throw Error(fe(156,n.tag))}function Vz(i,n){switch(Mw(n),n.tag){case 1:return wi(n.type)&&Ip(),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Xc(),Et(bi),Et(qn),Fw(),i=n.flags,i&65536&&!(i&128)?(n.flags=i&-65537|128,n):null;case 5:return Rw(n),null;case 13:if(Et(Bt),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(fe(340));Qc()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return Et(Bt),null;case 4:return Xc(),null;case 10:return Bw(n.type._context),null;case 22:case 23:return Qw(),null;case 24:return null;default:return null}}var Pf=!1,Hn=!1,Uz=typeof WeakSet=="function"?WeakSet:Set,_e=null;function jc(i,n){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ht(i,n,c)}else o.current=null}function yb(i,n,o){try{o()}catch(c){Ht(i,n,c)}}var aE=!1;function Hz(i,n){if(ob=Ep,i=JS(),Tw(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var f=0,m=-1,k=-1,b=0,w=0,y=i,C=null;t:for(;;){for(var x;y!==o||d!==0&&y.nodeType!==3||(m=f+d),y!==h||c!==0&&y.nodeType!==3||(k=f+c),y.nodeType===3&&(f+=y.nodeValue.length),(x=y.firstChild)!==null;)C=y,y=x;for(;;){if(y===i)break t;if(C===o&&++b===d&&(m=f),C===h&&++w===c&&(k=f),(x=y.nextSibling)!==null)break;y=C,C=y.parentNode}y=x}o=m===-1||k===-1?null:{start:m,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(sb={focusedElem:i,selectionRange:o},Ep=!1,_e=n;_e!==null;)if(n=_e,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,_e=i;else for(;_e!==null;){n=_e;try{var D=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var T=D.memoizedProps,z=D.memoizedState,N=n.stateNode,L=N.getSnapshotBeforeUpdate(n.elementType===n.type?T:xr(n.type,T),z);N.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(F){Ht(n,n.return,F)}if(i=n.sibling,i!==null){i.return=n.return,_e=i;break}_e=n.return}return D=aE,aE=!1,D}function Kd(i,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&i)===i){var h=d.destroy;d.destroy=void 0,h!==void 0&&yb(n,o,h)}d=d.next}while(d!==c)}}function mg(i,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&i)===i){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Ab(i){var n=i.ref;if(n!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof n=="function"?n(i):n.current=i}}function KD(i){var n=i.alternate;n!==null&&(i.alternate=null,KD(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&(delete n[Jr],delete n[pu],delete n[lb],delete n[Ez],delete n[Sz])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ZD(i){return i.tag===5||i.tag===3||i.tag===4}function cE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ZD(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cb(i,n,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(i,n):o.insertBefore(i,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(i,o)):(n=o,n.appendChild(i)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Tp));else if(c!==4&&(i=i.child,i!==null))for(Cb(i,n,o),i=i.sibling;i!==null;)Cb(i,n,o),i=i.sibling}function xb(i,n,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(c!==4&&(i=i.child,i!==null))for(xb(i,n,o),i=i.sibling;i!==null;)xb(i,n,o),i=i.sibling}var Pn=null,Er=!1;function os(i,n,o){for(o=o.child;o!==null;)QD(i,n,o),o=o.sibling}function QD(i,n,o){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(cg,o)}catch{}switch(o.tag){case 5:Hn||jc(o,n);case 6:var c=Pn,d=Er;Pn=null,os(i,n,o),Pn=c,Er=d,Pn!==null&&(Er?(i=Pn,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):Pn.removeChild(o.stateNode));break;case 18:Pn!==null&&(Er?(i=Pn,o=o.stateNode,i.nodeType===8?nk(i.parentNode,o):i.nodeType===1&&nk(i,o),lu(i)):nk(Pn,o.stateNode));break;case 4:c=Pn,d=Er,Pn=o.stateNode.containerInfo,Er=!0,os(i,n,o),Pn=c,Er=d;break;case 0:case 11:case 14:case 15:if(!Hn&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,f=h.destroy;h=h.tag,f!==void 0&&(h&2||h&4)&&yb(o,n,f),d=d.next}while(d!==c)}os(i,n,o);break;case 1:if(!Hn&&(jc(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(m){Ht(o,n,m)}os(i,n,o);break;case 21:os(i,n,o);break;case 22:o.mode&1?(Hn=(c=Hn)||o.memoizedState!==null,os(i,n,o),Hn=c):os(i,n,o);break;default:os(i,n,o)}}function lE(i){var n=i.updateQueue;if(n!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Uz),n.forEach(function(c){var d=Xz.bind(null,i,c);o.has(c)||(o.add(c),c.then(d,d))})}}function yr(i,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var h=i,f=n,m=f;e:for(;m!==null;){switch(m.tag){case 5:Pn=m.stateNode,Er=!1;break e;case 3:Pn=m.stateNode.containerInfo,Er=!0;break e;case 4:Pn=m.stateNode.containerInfo,Er=!0;break e}m=m.return}if(Pn===null)throw Error(fe(160));QD(h,f,d),Pn=null,Er=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(b){Ht(d,n,b)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)JD(n,i),n=n.sibling}function JD(i,n){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(yr(n,i),Zr(i),c&4){try{Kd(3,i,i.return),mg(3,i)}catch(T){Ht(i,i.return,T)}try{Kd(5,i,i.return)}catch(T){Ht(i,i.return,T)}}break;case 1:yr(n,i),Zr(i),c&512&&o!==null&&jc(o,o.return);break;case 5:if(yr(n,i),Zr(i),c&512&&o!==null&&jc(o,o.return),i.flags&32){var d=i.stateNode;try{ou(d,"")}catch(T){Ht(i,i.return,T)}}if(c&4&&(d=i.stateNode,d!=null)){var h=i.memoizedProps,f=o!==null?o.memoizedProps:h,m=i.type,k=i.updateQueue;if(i.updateQueue=null,k!==null)try{m==="input"&&h.type==="radio"&&h.name!=null&&wS(d,h),Kk(m,f);var b=Kk(m,h);for(f=0;f<k.length;f+=2){var w=k[f],y=k[f+1];w==="style"?CS(d,y):w==="dangerouslySetInnerHTML"?yS(d,y):w==="children"?ou(d,y):mw(d,w,y,b)}switch(m){case"input":Hk(d,h);break;case"textarea":vS(d,h);break;case"select":var C=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var x=h.value;x!=null?Fc(d,!!h.multiple,x,!1):C!==!!h.multiple&&(h.defaultValue!=null?Fc(d,!!h.multiple,h.defaultValue,!0):Fc(d,!!h.multiple,h.multiple?[]:"",!1))}d[pu]=h}catch(T){Ht(i,i.return,T)}}break;case 6:if(yr(n,i),Zr(i),c&4){if(i.stateNode===null)throw Error(fe(162));d=i.stateNode,h=i.memoizedProps;try{d.nodeValue=h}catch(T){Ht(i,i.return,T)}}break;case 3:if(yr(n,i),Zr(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lu(n.containerInfo)}catch(T){Ht(i,i.return,T)}break;case 4:yr(n,i),Zr(i);break;case 13:yr(n,i),Zr(i),d=i.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Kw=Qt())),c&4&&lE(i);break;case 22:if(w=o!==null&&o.memoizedState!==null,i.mode&1?(Hn=(b=Hn)||w,yr(n,i),Hn=b):yr(n,i),Zr(i),c&8192){if(b=i.memoizedState!==null,(i.stateNode.isHidden=b)&&!w&&i.mode&1)for(_e=i,w=i.child;w!==null;){for(y=_e=w;_e!==null;){switch(C=_e,x=C.child,C.tag){case 0:case 11:case 14:case 15:Kd(4,C,C.return);break;case 1:jc(C,C.return);var D=C.stateNode;if(typeof D.componentWillUnmount=="function"){c=C,o=C.return;try{n=c,D.props=n.memoizedProps,D.state=n.memoizedState,D.componentWillUnmount()}catch(T){Ht(c,o,T)}}break;case 5:jc(C,C.return);break;case 22:if(C.memoizedState!==null){uE(y);continue}}x!==null?(x.return=C,_e=x):uE(y)}w=w.sibling}e:for(w=null,y=i;;){if(y.tag===5){if(w===null){w=y;try{d=y.stateNode,b?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(m=y.stateNode,k=y.memoizedProps.style,f=k!=null&&k.hasOwnProperty("display")?k.display:null,m.style.display=AS("display",f))}catch(T){Ht(i,i.return,T)}}}else if(y.tag===6){if(w===null)try{y.stateNode.nodeValue=b?"":y.memoizedProps}catch(T){Ht(i,i.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===i)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;w===y&&(w=null),y=y.return}w===y&&(w=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:yr(n,i),Zr(i),c&4&&lE(i);break;case 21:break;default:yr(n,i),Zr(i)}}function Zr(i){var n=i.flags;if(n&2){try{e:{for(var o=i.return;o!==null;){if(ZD(o)){var c=o;break e}o=o.return}throw Error(fe(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ou(d,""),c.flags&=-33);var h=cE(i);xb(i,h,d);break;case 3:case 4:var f=c.stateNode.containerInfo,m=cE(i);Cb(i,m,f);break;default:throw Error(fe(161))}}catch(k){Ht(i,i.return,k)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function Wz(i,n,o){_e=i,XD(i)}function XD(i,n,o){for(var c=(i.mode&1)!==0;_e!==null;){var d=_e,h=d.child;if(d.tag===22&&c){var f=d.memoizedState!==null||Pf;if(!f){var m=d.alternate,k=m!==null&&m.memoizedState!==null||Hn;m=Pf;var b=Hn;if(Pf=f,(Hn=k)&&!b)for(_e=d;_e!==null;)f=_e,k=f.child,f.tag===22&&f.memoizedState!==null?hE(d):k!==null?(k.return=f,_e=k):hE(d);for(;h!==null;)_e=h,XD(h),h=h.sibling;_e=d,Pf=m,Hn=b}dE(i)}else d.subtreeFlags&8772&&h!==null?(h.return=d,_e=h):dE(i)}}function dE(i){for(;_e!==null;){var n=_e;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Hn||mg(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Hn)if(o===null)c.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:xr(n.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&G2(n,h,c);break;case 3:var f=n.updateQueue;if(f!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}G2(n,f,o)}break;case 5:var m=n.stateNode;if(o===null&&n.flags&4){o=m;var k=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var b=n.alternate;if(b!==null){var w=b.memoizedState;if(w!==null){var y=w.dehydrated;y!==null&&lu(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Hn||n.flags&512&&Ab(n)}catch(C){Ht(n,n.return,C)}}if(n===i){_e=null;break}if(o=n.sibling,o!==null){o.return=n.return,_e=o;break}_e=n.return}}function uE(i){for(;_e!==null;){var n=_e;if(n===i){_e=null;break}var o=n.sibling;if(o!==null){o.return=n.return,_e=o;break}_e=n.return}}function hE(i){for(;_e!==null;){var n=_e;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{mg(4,n)}catch(k){Ht(n,o,k)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var d=n.return;try{c.componentDidMount()}catch(k){Ht(n,d,k)}}var h=n.return;try{Ab(n)}catch(k){Ht(n,h,k)}break;case 5:var f=n.return;try{Ab(n)}catch(k){Ht(n,f,k)}}}catch(k){Ht(n,n.return,k)}if(n===i){_e=null;break}var m=n.sibling;if(m!==null){m.return=n.return,_e=m;break}_e=n.return}}var qz=Math.ceil,Fp=Fo.ReactCurrentDispatcher,Gw=Fo.ReactCurrentOwner,cr=Fo.ReactCurrentBatchConfig,Je=0,En=null,sn=null,Bn=0,Oi=0,Rc=zs(0),pn=0,vu=null,Sa=0,kg=0,Yw=0,Zd=null,mi=null,Kw=0,tl=1/0,Ao=null,$p=!1,Eb=null,Ss=null,Bf=!1,vs=null,Vp=0,Qd=0,Sb=null,dp=-1,up=0;function ni(){return Je&6?Qt():dp!==-1?dp:dp=Qt()}function Ds(i){return i.mode&1?Je&2&&Bn!==0?Bn&-Bn:Tz.transition!==null?(up===0&&(up=LS()),up):(i=ht,i!==0||(i=window.event,i=i===void 0?16:US(i.type)),i):1}function Mr(i,n,o,c){if(50<Qd)throw Qd=0,Sb=null,Error(fe(185));Iu(i,o,c),(!(Je&2)||i!==En)&&(i===En&&(!(Je&2)&&(kg|=o),pn===4&&gs(i,Bn)),vi(i,c),o===1&&Je===0&&!(n.mode&1)&&(tl=Qt()+500,fg&&js()))}function vi(i,n){var o=i.callbackNode;T7(i,n);var c=xp(i,i===En?Bn:0);if(c===0)o!==null&&_2(o),i.callbackNode=null,i.callbackPriority=0;else if(n=c&-c,i.callbackPriority!==n){if(o!=null&&_2(o),n===1)i.tag===0?Dz(fE.bind(null,i)):cD(fE.bind(null,i)),Cz(function(){!(Je&6)&&js()}),o=null;else{switch(zS(c)){case 1:o=_w;break;case 4:o=PS;break;case 16:o=Cp;break;case 536870912:o=BS;break;default:o=Cp}o=aT(o,eT.bind(null,i))}i.callbackPriority=n,i.callbackNode=o}}function eT(i,n){if(dp=-1,up=0,Je&6)throw Error(fe(327));var o=i.callbackNode;if(Wc()&&i.callbackNode!==o)return null;var c=xp(i,i===En?Bn:0);if(c===0)return null;if(c&30||c&i.expiredLanes||n)n=Up(i,c);else{n=c;var d=Je;Je|=2;var h=nT();(En!==i||Bn!==n)&&(Ao=null,tl=Qt()+500,_a(i,n));do try{Kz();break}catch(m){tT(i,m)}while(1);Pw(),Fp.current=h,Je=d,sn!==null?n=0:(En=null,Bn=0,n=pn)}if(n!==0){if(n===2&&(d=eb(i),d!==0&&(c=d,n=Db(i,d))),n===1)throw o=vu,_a(i,0),gs(i,c),vi(i,Qt()),o;if(n===6)gs(i,c);else{if(d=i.current.alternate,!(c&30)&&!Gz(d)&&(n=Up(i,c),n===2&&(h=eb(i),h!==0&&(c=h,n=Db(i,h))),n===1))throw o=vu,_a(i,0),gs(i,c),vi(i,Qt()),o;switch(i.finishedWork=d,i.finishedLanes=c,n){case 0:case 1:throw Error(fe(345));case 2:ha(i,mi,Ao);break;case 3:if(gs(i,c),(c&130023424)===c&&(n=Kw+500-Qt(),10<n)){if(xp(i,0)!==0)break;if(d=i.suspendedLanes,(d&c)!==c){ni(),i.pingedLanes|=i.suspendedLanes&d;break}i.timeoutHandle=cb(ha.bind(null,i,mi,Ao),n);break}ha(i,mi,Ao);break;case 4:if(gs(i,c),(c&4194240)===c)break;for(n=i.eventTimes,d=-1;0<c;){var f=31-Ir(c);h=1<<f,f=n[f],f>d&&(d=f),c&=~h}if(c=d,c=Qt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*qz(c/1960))-c,10<c){i.timeoutHandle=cb(ha.bind(null,i,mi,Ao),c);break}ha(i,mi,Ao);break;case 5:ha(i,mi,Ao);break;default:throw Error(fe(329))}}}return vi(i,Qt()),i.callbackNode===o?eT.bind(null,i):null}function Db(i,n){var o=Zd;return i.current.memoizedState.isDehydrated&&(_a(i,n).flags|=256),i=Up(i,n),i!==2&&(n=mi,mi=o,n!==null&&Tb(n)),i}function Tb(i){mi===null?mi=i:mi.push.apply(mi,i)}function Gz(i){for(var n=i;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],h=d.getSnapshot;d=d.value;try{if(!Nr(h(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(i,n){for(n&=~Yw,n&=~kg,i.suspendedLanes|=n,i.pingedLanes&=~n,i=i.expirationTimes;0<n;){var o=31-Ir(n),c=1<<o;i[o]=-1,n&=~c}}function fE(i){if(Je&6)throw Error(fe(327));Wc();var n=xp(i,0);if(!(n&1))return vi(i,Qt()),null;var o=Up(i,n);if(i.tag!==0&&o===2){var c=eb(i);c!==0&&(n=c,o=Db(i,c))}if(o===1)throw o=vu,_a(i,0),gs(i,n),vi(i,Qt()),o;if(o===6)throw Error(fe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=n,ha(i,mi,Ao),vi(i,Qt()),null}function Zw(i,n){var o=Je;Je|=1;try{return i(n)}finally{Je=o,Je===0&&(tl=Qt()+500,fg&&js())}}function Da(i){vs!==null&&vs.tag===0&&!(Je&6)&&Wc();var n=Je;Je|=1;var o=cr.transition,c=ht;try{if(cr.transition=null,ht=1,i)return i()}finally{ht=c,cr.transition=o,Je=n,!(Je&6)&&js()}}function Qw(){Oi=Rc.current,Et(Rc)}function _a(i,n){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Az(o)),sn!==null)for(o=sn.return;o!==null;){var c=o;switch(Mw(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ip();break;case 3:Xc(),Et(bi),Et(qn),Fw();break;case 5:Rw(c);break;case 4:Xc();break;case 13:Et(Bt);break;case 19:Et(Bt);break;case 10:Bw(c.type._context);break;case 22:case 23:Qw()}o=o.return}if(En=i,sn=i=Ts(i.current,null),Bn=Oi=n,pn=0,vu=null,Yw=kg=Sa=0,mi=Zd=null,ba!==null){for(n=0;n<ba.length;n++)if(o=ba[n],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,h=o.pending;if(h!==null){var f=h.next;h.next=d,c.next=f}o.pending=c}ba=null}return i}function tT(i,n){do{var o=sn;try{if(Pw(),ap.current=Rp,jp){for(var c=zt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}jp=!1}if(Ea=0,xn=fn=zt=null,Yd=!1,ku=0,Gw.current=null,o===null||o.return===null){pn=1,vu=n,sn=null;break}e:{var h=i,f=o.return,m=o,k=n;if(n=Bn,m.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var b=k,w=m,y=w.tag;if(!(w.mode&1)&&(y===0||y===11||y===15)){var C=w.alternate;C?(w.updateQueue=C.updateQueue,w.memoizedState=C.memoizedState,w.lanes=C.lanes):(w.updateQueue=null,w.memoizedState=null)}var x=eE(f);if(x!==null){x.flags&=-257,tE(x,f,m,h,n),x.mode&1&&X2(h,b,n),n=x,k=b;var D=n.updateQueue;if(D===null){var T=new Set;T.add(k),n.updateQueue=T}else D.add(k);break e}else{if(!(n&1)){X2(h,b,n),Jw();break e}k=Error(fe(426))}}else if(Tt&&m.mode&1){var z=eE(f);if(z!==null){!(z.flags&65536)&&(z.flags|=256),tE(z,f,m,h,n),Nw(el(k,m));break e}}h=k=el(k,m),pn!==4&&(pn=2),Zd===null?Zd=[h]:Zd.push(h),h=f;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var N=jD(h,k,n);q2(h,N);break e;case 1:m=k;var L=h.type,S=h.stateNode;if(!(h.flags&128)&&(typeof L.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ss===null||!Ss.has(S)))){h.flags|=65536,n&=-n,h.lanes|=n;var F=RD(h,m,n);q2(h,F);break e}}h=h.return}while(h!==null)}rT(o)}catch(H){n=H,sn===o&&o!==null&&(sn=o=o.return);continue}break}while(1)}function nT(){var i=Fp.current;return Fp.current=Rp,i===null?Rp:i}function Jw(){(pn===0||pn===3||pn===2)&&(pn=4),En===null||!(Sa&268435455)&&!(kg&268435455)||gs(En,Bn)}function Up(i,n){var o=Je;Je|=2;var c=nT();(En!==i||Bn!==n)&&(Ao=null,_a(i,n));do try{Yz();break}catch(d){tT(i,d)}while(1);if(Pw(),Je=o,Fp.current=c,sn!==null)throw Error(fe(261));return En=null,Bn=0,pn}function Yz(){for(;sn!==null;)iT(sn)}function Kz(){for(;sn!==null&&!v7();)iT(sn)}function iT(i){var n=sT(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,n===null?rT(i):sn=n,Gw.current=null}function rT(i){var n=i;do{var o=n.alternate;if(i=n.return,n.flags&32768){if(o=Vz(o,n),o!==null){o.flags&=32767,sn=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pn=6,sn=null;return}}else if(o=$z(o,n,Oi),o!==null){sn=o;return}if(n=n.sibling,n!==null){sn=n;return}sn=n=i}while(n!==null);pn===0&&(pn=5)}function ha(i,n,o){var c=ht,d=cr.transition;try{cr.transition=null,ht=1,Zz(i,n,o,c)}finally{cr.transition=d,ht=c}return null}function Zz(i,n,o,c){do Wc();while(vs!==null);if(Je&6)throw Error(fe(327));o=i.finishedWork;var d=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(fe(177));i.callbackNode=null,i.callbackPriority=0;var h=o.lanes|o.childLanes;if(I7(i,h),i===En&&(sn=En=null,Bn=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Bf||(Bf=!0,aT(Cp,function(){return Wc(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=cr.transition,cr.transition=null;var f=ht;ht=1;var m=Je;Je|=4,Gw.current=null,Hz(i,o),JD(o,i),mz(sb),Ep=!!ob,sb=ob=null,i.current=o,Wz(o),_7(),Je=m,ht=f,cr.transition=h}else i.current=o;if(Bf&&(Bf=!1,vs=i,Vp=d),h=i.pendingLanes,h===0&&(Ss=null),C7(o.stateNode),vi(i,Qt()),n!==null)for(c=i.onRecoverableError,o=0;o<n.length;o++)d=n[o],c(d.value,{componentStack:d.stack,digest:d.digest});if($p)throw $p=!1,i=Eb,Eb=null,i;return Vp&1&&i.tag!==0&&Wc(),h=i.pendingLanes,h&1?i===Sb?Qd++:(Qd=0,Sb=i):Qd=0,js(),null}function Wc(){if(vs!==null){var i=zS(Vp),n=cr.transition,o=ht;try{if(cr.transition=null,ht=16>i?16:i,vs===null)var c=!1;else{if(i=vs,vs=null,Vp=0,Je&6)throw Error(fe(331));var d=Je;for(Je|=4,_e=i.current;_e!==null;){var h=_e,f=h.child;if(_e.flags&16){var m=h.deletions;if(m!==null){for(var k=0;k<m.length;k++){var b=m[k];for(_e=b;_e!==null;){var w=_e;switch(w.tag){case 0:case 11:case 15:Kd(8,w,h)}var y=w.child;if(y!==null)y.return=w,_e=y;else for(;_e!==null;){w=_e;var C=w.sibling,x=w.return;if(KD(w),w===b){_e=null;break}if(C!==null){C.return=x,_e=C;break}_e=x}}}var D=h.alternate;if(D!==null){var T=D.child;if(T!==null){D.child=null;do{var z=T.sibling;T.sibling=null,T=z}while(T!==null)}}_e=h}}if(h.subtreeFlags&2064&&f!==null)f.return=h,_e=f;else e:for(;_e!==null;){if(h=_e,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Kd(9,h,h.return)}var N=h.sibling;if(N!==null){N.return=h.return,_e=N;break e}_e=h.return}}var L=i.current;for(_e=L;_e!==null;){f=_e;var S=f.child;if(f.subtreeFlags&2064&&S!==null)S.return=f,_e=S;else e:for(f=L;_e!==null;){if(m=_e,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:mg(9,m)}}catch(H){Ht(m,m.return,H)}if(m===f){_e=null;break e}var F=m.sibling;if(F!==null){F.return=m.return,_e=F;break e}_e=m.return}}if(Je=d,js(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(cg,i)}catch{}c=!0}return c}finally{ht=o,cr.transition=n}}return!1}function pE(i,n,o){n=el(o,n),n=jD(i,n,1),i=Es(i,n,1),n=ni(),i!==null&&(Iu(i,1,n),vi(i,n))}function Ht(i,n,o){if(i.tag===3)pE(i,i,o);else for(;n!==null;){if(n.tag===3){pE(n,i,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ss===null||!Ss.has(c))){i=el(o,i),i=RD(n,i,1),n=Es(n,i,1),i=ni(),n!==null&&(Iu(n,1,i),vi(n,i));break}}n=n.return}}function Qz(i,n,o){var c=i.pingCache;c!==null&&c.delete(n),n=ni(),i.pingedLanes|=i.suspendedLanes&o,En===i&&(Bn&o)===o&&(pn===4||pn===3&&(Bn&130023424)===Bn&&500>Qt()-Kw?_a(i,0):Yw|=o),vi(i,n)}function oT(i,n){n===0&&(i.mode&1?(n=xf,xf<<=1,!(xf&130023424)&&(xf=4194304)):n=1);var o=ni();i=Mo(i,n),i!==null&&(Iu(i,n,o),vi(i,o))}function Jz(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),oT(i,o)}function Xz(i,n){var o=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;default:throw Error(fe(314))}c!==null&&c.delete(n),oT(i,o)}var sT;sT=function(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps||bi.current)ki=!0;else{if(!(i.lanes&o)&&!(n.flags&128))return ki=!1,Fz(i,n,o);ki=!!(i.flags&131072)}else ki=!1,Tt&&n.flags&1048576&&lD(n,Op,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;lp(i,n),i=n.pendingProps;var d=Zc(n,qn.current);Hc(n,o),d=Vw(null,n,c,i,d,o);var h=Uw();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,wi(c)?(h=!0,Mp(n)):h=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,zw(n),d.updater=pg,n.stateNode=d,d._reactInternals=n,gb(n,c,i,o),n=bb(null,n,c,!0,h,o)):(n.tag=0,Tt&&h&&Iw(n),Xn(null,n,d,o),n=n.child),n;case 16:c=n.elementType;e:{switch(lp(i,n),i=n.pendingProps,d=c._init,c=d(c._payload),n.type=c,d=n.tag=tj(c),i=xr(c,i),d){case 0:n=kb(null,n,c,i,o);break e;case 1:n=rE(null,n,c,i,o);break e;case 11:n=nE(null,n,c,i,o);break e;case 14:n=iE(null,n,c,xr(c.type,i),o);break e}throw Error(fe(306,c,""))}return n;case 0:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:xr(c,d),kb(i,n,c,d,o);case 1:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:xr(c,d),rE(i,n,c,d,o);case 3:e:{if(UD(n),i===null)throw Error(fe(387));c=n.pendingProps,h=n.memoizedState,d=h.element,fD(i,n),Lp(n,c,null,o);var f=n.memoizedState;if(c=f.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){d=el(Error(fe(423)),n),n=oE(i,n,c,o,d);break e}else if(c!==d){d=el(Error(fe(424)),n),n=oE(i,n,c,o,d);break e}else for(zi=xs(n.stateNode.containerInfo.firstChild),ji=n,Tt=!0,Dr=null,o=kD(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qc(),c===d){n=No(i,n,o);break e}Xn(i,n,c,o)}n=n.child}return n;case 5:return bD(n),i===null&&hb(n),c=n.type,d=n.pendingProps,h=i!==null?i.memoizedProps:null,f=d.children,ab(c,d)?f=null:h!==null&&ab(c,h)&&(n.flags|=32),VD(i,n),Xn(i,n,f,o),n.child;case 6:return i===null&&hb(n),null;case 13:return HD(i,n,o);case 4:return jw(n,n.stateNode.containerInfo),c=n.pendingProps,i===null?n.child=Jc(n,null,c,o):Xn(i,n,c,o),n.child;case 11:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:xr(c,d),nE(i,n,c,d,o);case 7:return Xn(i,n,n.pendingProps,o),n.child;case 8:return Xn(i,n,n.pendingProps.children,o),n.child;case 12:return Xn(i,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,d=n.pendingProps,h=n.memoizedProps,f=d.value,_t(Pp,c._currentValue),c._currentValue=f,h!==null)if(Nr(h.value,f)){if(h.children===d.children&&!bi.current){n=No(i,n,o);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){f=h.child;for(var k=m.firstContext;k!==null;){if(k.context===c){if(h.tag===1){k=Do(-1,o&-o),k.tag=2;var b=h.updateQueue;if(b!==null){b=b.shared;var w=b.pending;w===null?k.next=k:(k.next=w.next,w.next=k),b.pending=k}}h.lanes|=o,k=h.alternate,k!==null&&(k.lanes|=o),fb(h.return,o,n),m.lanes|=o;break}k=k.next}}else if(h.tag===10)f=h.type===n.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(fe(341));f.lanes|=o,m=f.alternate,m!==null&&(m.lanes|=o),fb(f,o,n),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===n){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}Xn(i,n,d.children,o),n=n.child}return n;case 9:return d=n.type,c=n.pendingProps.children,Hc(n,o),d=lr(d),c=c(d),n.flags|=1,Xn(i,n,c,o),n.child;case 14:return c=n.type,d=xr(c,n.pendingProps),d=xr(c.type,d),iE(i,n,c,d,o);case 15:return FD(i,n,n.type,n.pendingProps,o);case 17:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:xr(c,d),lp(i,n),n.tag=1,wi(c)?(i=!0,Mp(n)):i=!1,Hc(n,o),gD(n,c,d),gb(n,c,d,o),bb(null,n,c,!0,i,o);case 19:return WD(i,n,o);case 22:return $D(i,n,o)}throw Error(fe(156,n.tag))};function aT(i,n){return OS(i,n)}function ej(i,n,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,n,o,c){return new ej(i,n,o,c)}function Xw(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tj(i){if(typeof i=="function")return Xw(i)?1:0;if(i!=null){if(i=i.$$typeof,i===bw)return 11;if(i===ww)return 14}return 2}function Ts(i,n){var o=i.alternate;return o===null?(o=sr(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function hp(i,n,o,c,d,h){var f=2;if(c=i,typeof i=="function")Xw(i)&&(f=1);else if(typeof i=="string")f=5;else e:switch(i){case Tc:return ya(o.children,d,h,n);case kw:f=8,d|=8;break;case Rk:return i=sr(12,o,n,d|2),i.elementType=Rk,i.lanes=h,i;case Fk:return i=sr(13,o,n,d),i.elementType=Fk,i.lanes=h,i;case $k:return i=sr(19,o,n,d),i.elementType=$k,i.lanes=h,i;case mS:return bg(o,d,h,n);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case pS:f=10;break e;case gS:f=9;break e;case bw:f=11;break e;case ww:f=14;break e;case ds:f=16,c=null;break e}throw Error(fe(130,i==null?i:typeof i,""))}return n=sr(f,o,n,d),n.elementType=i,n.type=c,n.lanes=h,n}function ya(i,n,o,c){return i=sr(7,i,c,n),i.lanes=o,i}function bg(i,n,o,c){return i=sr(22,i,c,n),i.elementType=mS,i.lanes=o,i.stateNode={isHidden:!1},i}function dk(i,n,o){return i=sr(6,i,null,n),i.lanes=o,i}function uk(i,n,o){return n=sr(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}function nj(i,n,o,c,d){this.tag=n,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ev(i,n,o,c,d,h,f,m,k){return i=new nj(i,n,o,m,k),n===1?(n=1,h===!0&&(n|=8)):n=0,h=sr(3,null,null,n),i.current=h,h.stateNode=i,h.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},zw(h),i}function ij(i,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:c==null?null:""+c,children:i,containerInfo:n,implementation:o}}function cT(i){if(!i)return Ns;i=i._reactInternals;e:{if(Ma(i)!==i||i.tag!==1)throw Error(fe(170));var n=i;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(wi(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(fe(171))}if(i.tag===1){var o=i.type;if(wi(o))return aD(i,o,n)}return n}function lT(i,n,o,c,d,h,f,m,k){return i=ev(o,c,!0,i,d,h,f,m,k),i.context=cT(null),o=i.current,c=ni(),d=Ds(o),h=Do(c,d),h.callback=n??null,Es(o,h,d),i.current.lanes=d,Iu(i,d,c),vi(i,c),i}function wg(i,n,o,c){var d=n.current,h=ni(),f=Ds(d);return o=cT(o),n.context===null?n.context=o:n.pendingContext=o,n=Do(h,f),n.payload={element:i},c=c===void 0?null:c,c!==null&&(n.callback=c),i=Es(d,n,f),i!==null&&(Mr(i,d,f,h),sp(i,d,f)),f}function Hp(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function gE(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function tv(i,n){gE(i,n),(i=i.alternate)&&gE(i,n)}function rj(){return null}var dT=typeof reportError=="function"?reportError:function(i){console.error(i)};function nv(i){this._internalRoot=i}vg.prototype.render=nv.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(fe(409));wg(i,n,null,null)};vg.prototype.unmount=nv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;Da(function(){wg(null,i,null,null)}),n[Io]=null}};function vg(i){this._internalRoot=i}vg.prototype.unstable_scheduleHydration=function(i){if(i){var n=FS();i={blockedOn:null,target:i,priority:n};for(var o=0;o<ps.length&&n!==0&&n<ps[o].priority;o++);ps.splice(o,0,i),o===0&&VS(i)}};function iv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _g(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mE(){}function oj(i,n,o,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var b=Hp(f);h.call(b)}}var f=lT(n,c,i,0,null,!1,!1,"",mE);return i._reactRootContainer=f,i[Io]=f.current,hu(i.nodeType===8?i.parentNode:i),Da(),f}for(;d=i.lastChild;)i.removeChild(d);if(typeof c=="function"){var m=c;c=function(){var b=Hp(k);m.call(b)}}var k=ev(i,0,!1,null,null,!1,!1,"",mE);return i._reactRootContainer=k,i[Io]=k.current,hu(i.nodeType===8?i.parentNode:i),Da(function(){wg(n,k,o,c)}),k}function yg(i,n,o,c,d){var h=o._reactRootContainer;if(h){var f=h;if(typeof d=="function"){var m=d;d=function(){var k=Hp(f);m.call(k)}}wg(n,f,i,d)}else f=oj(o,n,i,d,c);return Hp(f)}jS=function(i){switch(i.tag){case 3:var n=i.stateNode;if(n.current.memoizedState.isDehydrated){var o=zd(n.pendingLanes);o!==0&&(yw(n,o|1),vi(n,Qt()),!(Je&6)&&(tl=Qt()+500,js()))}break;case 13:Da(function(){var c=Mo(i,1);if(c!==null){var d=ni();Mr(c,i,1,d)}}),tv(i,1)}};Aw=function(i){if(i.tag===13){var n=Mo(i,134217728);if(n!==null){var o=ni();Mr(n,i,134217728,o)}tv(i,134217728)}};RS=function(i){if(i.tag===13){var n=Ds(i),o=Mo(i,n);if(o!==null){var c=ni();Mr(o,i,n,c)}tv(i,n)}};FS=function(){return ht};$S=function(i,n){var o=ht;try{return ht=i,n()}finally{ht=o}};Qk=function(i,n,o){switch(n){case"input":if(Hk(i,o),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==i&&c.form===i.form){var d=hg(c);if(!d)throw Error(fe(90));bS(c),Hk(c,d)}}}break;case"textarea":vS(i,o);break;case"select":n=o.value,n!=null&&Fc(i,!!o.multiple,n,!1)}};SS=Zw;DS=Da;var sj={usingClientEntryPoint:!1,Events:[Nu,Oc,hg,xS,ES,Zw]},Md={findFiberByHostInstance:ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aj={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=MS(i),i===null?null:i.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance||rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{cg=Lf.inject(aj),to=Lf}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sj;Ui.createPortal=function(i,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(n))throw Error(fe(200));return ij(i,n,null,o)};Ui.createRoot=function(i,n){if(!iv(i))throw Error(fe(299));var o=!1,c="",d=dT;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=ev(i,1,!1,null,null,o,!1,c,d),i[Io]=n.current,hu(i.nodeType===8?i.parentNode:i),new nv(n)};Ui.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(fe(188)):(i=Object.keys(i).join(","),Error(fe(268,i)));return i=MS(n),i=i===null?null:i.stateNode,i};Ui.flushSync=function(i){return Da(i)};Ui.hydrate=function(i,n,o){if(!_g(n))throw Error(fe(200));return yg(null,i,n,!0,o)};Ui.hydrateRoot=function(i,n,o){if(!iv(i))throw Error(fe(405));var c=o!=null&&o.hydratedSources||null,d=!1,h="",f=dT;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),n=lT(n,null,i,1,o??null,d,!1,h,f),i[Io]=n.current,hu(i),c)for(i=0;i<c.length;i++)o=c[i],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new vg(n)};Ui.render=function(i,n,o){if(!_g(n))throw Error(fe(200));return yg(null,i,n,!1,o)};Ui.unmountComponentAtNode=function(i){if(!_g(i))throw Error(fe(40));return i._reactRootContainer?(Da(function(){yg(null,null,i,!1,function(){i._reactRootContainer=null,i[Io]=null})}),!0):!1};Ui.unstable_batchedUpdates=Zw;Ui.unstable_renderSubtreeIntoContainer=function(i,n,o,c){if(!_g(o))throw Error(fe(200));if(i==null||i._reactInternals===void 0)throw Error(fe(38));return yg(i,n,o,!1,c)};Ui.version="18.2.0-next-9e3b772b8-20220608";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(i){console.error(i)}}uT(),lS.exports=Ui;var Pu=lS.exports;const cj=sg(Pu);var kE=Pu;zk.createRoot=kE.createRoot,zk.hydrateRoot=kE.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},_u.apply(this,arguments)}var _s;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(_s||(_s={}));const bE="popstate";function lj(i){i===void 0&&(i={});function n(c,d){let{pathname:h,search:f,hash:m}=c.location;return Ib("",{pathname:h,search:f,hash:m},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(c,d){return typeof d=="string"?d:Wp(d)}return uj(n,o,null,i)}function Xt(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function rv(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function dj(){return Math.random().toString(36).substr(2,8)}function wE(i,n){return{usr:i.state,key:i.key,idx:n}}function Ib(i,n,o,c){return o===void 0&&(o=null),_u({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof n=="string"?cl(n):n,{state:o,key:n&&n.key||c||dj()})}function Wp(i){let{pathname:n="/",search:o="",hash:c=""}=i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(n+=c.charAt(0)==="#"?c:"#"+c),n}function cl(i){let n={};if(i){let o=i.indexOf("#");o>=0&&(n.hash=i.substr(o),i=i.substr(0,o));let c=i.indexOf("?");c>=0&&(n.search=i.substr(c),i=i.substr(0,c)),i&&(n.pathname=i)}return n}function uj(i,n,o,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,f=d.history,m=_s.Pop,k=null,b=w();b==null&&(b=0,f.replaceState(_u({},f.state,{idx:b}),""));function w(){return(f.state||{idx:null}).idx}function y(){m=_s.Pop;let z=w(),N=z==null?null:z-b;b=z,k&&k({action:m,location:T.location,delta:N})}function C(z,N){m=_s.Push;let L=Ib(T.location,z,N);o&&o(L,z),b=w()+1;let S=wE(L,b),F=T.createHref(L);try{f.pushState(S,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;d.location.assign(F)}h&&k&&k({action:m,location:T.location,delta:1})}function x(z,N){m=_s.Replace;let L=Ib(T.location,z,N);o&&o(L,z),b=w();let S=wE(L,b),F=T.createHref(L);f.replaceState(S,"",F),h&&k&&k({action:m,location:T.location,delta:0})}function D(z){let N=d.location.origin!=="null"?d.location.origin:d.location.href,L=typeof z=="string"?z:Wp(z);return Xt(N,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,N)}let T={get action(){return m},get location(){return i(d,f)},listen(z){if(k)throw new Error("A history only accepts one active listener");return d.addEventListener(bE,y),k=z,()=>{d.removeEventListener(bE,y),k=null}},createHref(z){return n(d,z)},createURL:D,encodeLocation(z){let N=D(z);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:C,replace:x,go(z){return f.go(z)}};return T}var vE;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(vE||(vE={}));function hj(i,n,o){o===void 0&&(o="/");let c=typeof n=="string"?cl(n):n,d=ov(c.pathname||"/",o);if(d==null)return null;let h=hT(i);fj(h);let f=null;for(let m=0;f==null&&m<h.length;++m)f=yj(h[m],xj(d));return f}function hT(i,n,o,c){n===void 0&&(n=[]),o===void 0&&(o=[]),c===void 0&&(c="");let d=(h,f,m)=>{let k={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};k.relativePath.startsWith("/")&&(Xt(k.relativePath.startsWith(c),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(c.length));let b=Is([c,k.relativePath]),w=o.concat(k);h.children&&h.children.length>0&&(Xt(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),hT(h.children,n,w,b)),!(h.path==null&&!h.index)&&n.push({path:b,score:vj(b,h.index),routesMeta:w})};return i.forEach((h,f)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))d(h,f);else for(let k of fT(h.path))d(h,f,k)}),n}function fT(i){let n=i.split("/");if(n.length===0)return[];let[o,...c]=n,d=o.endsWith("?"),h=o.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let f=fT(c.join("/")),m=[];return m.push(...f.map(k=>k===""?h:[h,k].join("/"))),d&&m.push(...f),m.map(k=>i.startsWith("/")&&k===""?"/":k)}function fj(i){i.sort((n,o)=>n.score!==o.score?o.score-n.score:_j(n.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const pj=/^:\w+$/,gj=3,mj=2,kj=1,bj=10,wj=-2,_E=i=>i==="*";function vj(i,n){let o=i.split("/"),c=o.length;return o.some(_E)&&(c+=wj),n&&(c+=mj),o.filter(d=>!_E(d)).reduce((d,h)=>d+(pj.test(h)?gj:h===""?kj:bj),c)}function _j(i,n){return i.length===n.length&&i.slice(0,-1).every((c,d)=>c===n[d])?i[i.length-1]-n[n.length-1]:0}function yj(i,n){let{routesMeta:o}=i,c={},d="/",h=[];for(let f=0;f<o.length;++f){let m=o[f],k=f===o.length-1,b=d==="/"?n:n.slice(d.length)||"/",w=Aj({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},b);if(!w)return null;Object.assign(c,w.params);let y=m.route;h.push({params:c,pathname:Is([d,w.pathname]),pathnameBase:Tj(Is([d,w.pathnameBase])),route:y}),w.pathnameBase!=="/"&&(d=Is([d,w.pathnameBase]))}return h}function Aj(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,c]=Cj(i.path,i.caseSensitive,i.end),d=n.match(o);if(!d)return null;let h=d[0],f=h.replace(/(.)\/+$/,"$1"),m=d.slice(1);return{params:c.reduce((b,w,y)=>{let{paramName:C,isOptional:x}=w;if(C==="*"){let T=m[y]||"";f=h.slice(0,h.length-T.length).replace(/(.)\/+$/,"$1")}const D=m[y];return x&&!D?b[C]=void 0:b[C]=Ej(D||"",C),b},{}),pathname:h,pathnameBase:f,pattern:i}}function Cj(i,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),rv(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let c=[],d="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(f,m,k)=>(c.push({paramName:m,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(c.push({paramName:"*"}),d+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":i!==""&&i!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),c]}function xj(i){try{return decodeURI(i)}catch(n){return rv(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),i}}function Ej(i,n){try{return decodeURIComponent(i)}catch(o){return rv(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+o+").")),i}}function ov(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,c=i.charAt(o);return c&&c!=="/"?null:i.slice(o)||"/"}function Sj(i,n){n===void 0&&(n="/");let{pathname:o,search:c="",hash:d=""}=typeof i=="string"?cl(i):i;return{pathname:o?o.startsWith("/")?o:Dj(o,n):n,search:Ij(c),hash:Mj(d)}}function Dj(i,n){let o=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function hk(i,n,o,c){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sv(i){return i.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function av(i,n,o,c){c===void 0&&(c=!1);let d;typeof i=="string"?d=cl(i):(d=_u({},i),Xt(!d.pathname||!d.pathname.includes("?"),hk("?","pathname","search",d)),Xt(!d.pathname||!d.pathname.includes("#"),hk("#","pathname","hash",d)),Xt(!d.search||!d.search.includes("#"),hk("#","search","hash",d)));let h=i===""||d.pathname==="",f=h?"/":d.pathname,m;if(c||f==null)m=o;else{let y=n.length-1;if(f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),y-=1;d.pathname=C.join("/")}m=y>=0?n[y]:"/"}let k=Sj(d,m),b=f&&f!=="/"&&f.endsWith("/"),w=(h||f===".")&&o.endsWith("/");return!k.pathname.endsWith("/")&&(b||w)&&(k.pathname+="/"),k}const Is=i=>i.join("/").replace(/\/\/+/g,"/"),Tj=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ij=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Mj=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Nj(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const pT=["post","put","patch","delete"];new Set(pT);const Oj=["get",...pT];new Set(Oj);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},qp.apply(this,arguments)}const cv=M.createContext(null),Pj=M.createContext(null),ll=M.createContext(null),Ag=M.createContext(null),$o=M.createContext({outlet:null,matches:[],isDataRoute:!1}),gT=M.createContext(null);function Bj(i,n){let{relative:o}=n===void 0?{}:n;dl()||Xt(!1);let{basename:c,navigator:d}=M.useContext(ll),{hash:h,pathname:f,search:m}=kT(i,{relative:o}),k=f;return c!=="/"&&(k=f==="/"?c:Is([c,f])),d.createHref({pathname:k,search:m,hash:h})}function dl(){return M.useContext(Ag)!=null}function ul(){return dl()||Xt(!1),M.useContext(Ag).location}function mT(i){M.useContext(ll).static||M.useLayoutEffect(i)}function ro(){let{isDataRoute:i}=M.useContext($o);return i?Yj():Lj()}function Lj(){dl()||Xt(!1);let i=M.useContext(cv),{basename:n,navigator:o}=M.useContext(ll),{matches:c}=M.useContext($o),{pathname:d}=ul(),h=JSON.stringify(sv(c).map(k=>k.pathnameBase)),f=M.useRef(!1);return mT(()=>{f.current=!0}),M.useCallback(function(k,b){if(b===void 0&&(b={}),!f.current)return;if(typeof k=="number"){o.go(k);return}let w=av(k,JSON.parse(h),d,b.relative==="path");i==null&&n!=="/"&&(w.pathname=w.pathname==="/"?n:Is([n,w.pathname])),(b.replace?o.replace:o.push)(w,b.state,b)},[n,o,h,d,i])}function lv(){let{matches:i}=M.useContext($o),n=i[i.length-1];return n?n.params:{}}function kT(i,n){let{relative:o}=n===void 0?{}:n,{matches:c}=M.useContext($o),{pathname:d}=ul(),h=JSON.stringify(sv(c).map(f=>f.pathnameBase));return M.useMemo(()=>av(i,JSON.parse(h),d,o==="path"),[i,h,d,o])}function zj(i,n){return jj(i,n)}function jj(i,n,o){dl()||Xt(!1);let{navigator:c}=M.useContext(ll),{matches:d}=M.useContext($o),h=d[d.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let k=ul(),b;if(n){var w;let T=typeof n=="string"?cl(n):n;m==="/"||(w=T.pathname)!=null&&w.startsWith(m)||Xt(!1),b=T}else b=k;let y=b.pathname||"/",C=m==="/"?y:y.slice(m.length)||"/",x=hj(i,{pathname:C}),D=Uj(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Is([m,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Is([m,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,o);return n&&D?M.createElement(Ag.Provider,{value:{location:qp({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:_s.Pop}},D):D}function Rj(){let i=Gj(),n=Nj(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),o?M.createElement("pre",{style:d},o):null,h)}const Fj=M.createElement(Rj,null);class $j extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error?M.createElement($o.Provider,{value:this.props.routeContext},M.createElement(gT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vj(i){let{routeContext:n,match:o,children:c}=i,d=M.useContext(cv);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),M.createElement($o.Provider,{value:n},c)}function Uj(i,n,o){var c;if(n===void 0&&(n=[]),o===void 0&&(o=null),i==null){var d;if((d=o)!=null&&d.errors)i=o.matches;else return null}let h=i,f=(c=o)==null?void 0:c.errors;if(f!=null){let m=h.findIndex(k=>k.route.id&&(f==null?void 0:f[k.route.id]));m>=0||Xt(!1),h=h.slice(0,Math.min(h.length,m+1))}return h.reduceRight((m,k,b)=>{let w=k.route.id?f==null?void 0:f[k.route.id]:null,y=null;o&&(y=k.route.errorElement||Fj);let C=n.concat(h.slice(0,b+1)),x=()=>{let D;return w?D=y:k.route.Component?D=M.createElement(k.route.Component,null):k.route.element?D=k.route.element:D=m,M.createElement(Vj,{match:k,routeContext:{outlet:m,matches:C,isDataRoute:o!=null},children:D})};return o&&(k.route.ErrorBoundary||k.route.errorElement||b===0)?M.createElement($j,{location:o.location,revalidation:o.revalidation,component:y,error:w,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}var bT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(bT||{}),Gp=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Gp||{});function Hj(i){let n=M.useContext(cv);return n||Xt(!1),n}function Wj(i){let n=M.useContext(Pj);return n||Xt(!1),n}function qj(i){let n=M.useContext($o);return n||Xt(!1),n}function wT(i){let n=qj(),o=n.matches[n.matches.length-1];return o.route.id||Xt(!1),o.route.id}function Gj(){var i;let n=M.useContext(gT),o=Wj(Gp.UseRouteError),c=wT(Gp.UseRouteError);return n||((i=o.errors)==null?void 0:i[c])}function Yj(){let{router:i}=Hj(bT.UseNavigateStable),n=wT(Gp.UseNavigateStable),o=M.useRef(!1);return mT(()=>{o.current=!0}),M.useCallback(function(d,h){h===void 0&&(h={}),o.current&&(typeof d=="number"?i.navigate(d):i.navigate(d,qp({fromRouteId:n},h)))},[i,n])}function Kj(i){let{to:n,replace:o,state:c,relative:d}=i;dl()||Xt(!1);let{matches:h}=M.useContext($o),{pathname:f}=ul(),m=ro(),k=av(n,sv(h).map(w=>w.pathnameBase),f,d==="path"),b=JSON.stringify(k);return M.useEffect(()=>m(JSON.parse(b),{replace:o,state:c,relative:d}),[m,b,d,o,c]),null}function nr(i){Xt(!1)}function Zj(i){let{basename:n="/",children:o=null,location:c,navigationType:d=_s.Pop,navigator:h,static:f=!1}=i;dl()&&Xt(!1);let m=n.replace(/^\/*/,"/"),k=M.useMemo(()=>({basename:m,navigator:h,static:f}),[m,h,f]);typeof c=="string"&&(c=cl(c));let{pathname:b="/",search:w="",hash:y="",state:C=null,key:x="default"}=c,D=M.useMemo(()=>{let T=ov(b,m);return T==null?null:{location:{pathname:T,search:w,hash:y,state:C,key:x},navigationType:d}},[m,b,w,y,C,x,d]);return D==null?null:M.createElement(ll.Provider,{value:k},M.createElement(Ag.Provider,{children:o,value:D}))}function Qj(i){let{children:n,location:o}=i;return zj(Mb(n),o)}new Promise(()=>{});function Mb(i,n){n===void 0&&(n=[]);let o=[];return M.Children.forEach(i,(c,d)=>{if(!M.isValidElement(c))return;let h=[...n,d];if(c.type===M.Fragment){o.push.apply(o,Mb(c.props.children,h));return}c.type!==nr&&Xt(!1),!c.props.index||!c.props.children||Xt(!1);let f={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=Mb(c.props.children,h)),o.push(f)}),o}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nb(){return Nb=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},Nb.apply(this,arguments)}function Jj(i,n){if(i==null)return{};var o={},c=Object.keys(i),d,h;for(h=0;h<c.length;h++)d=c[h],!(n.indexOf(d)>=0)&&(o[d]=i[d]);return o}function Xj(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eR(i,n){return i.button===0&&(!n||n==="_self")&&!Xj(i)}const tR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nR="startTransition",yE=aS[nR];function iR(i){let{basename:n,children:o,future:c,window:d}=i,h=M.useRef();h.current==null&&(h.current=lj({window:d,v5Compat:!0}));let f=h.current,[m,k]=M.useState({action:f.action,location:f.location}),{v7_startTransition:b}=c||{},w=M.useCallback(y=>{b&&yE?yE(()=>k(y)):k(y)},[k,b]);return M.useLayoutEffect(()=>f.listen(w),[f,w]),M.createElement(Zj,{basename:n,children:o,location:m.location,navigationType:m.action,navigator:f})}const rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pi=M.forwardRef(function(n,o){let{onClick:c,relative:d,reloadDocument:h,replace:f,state:m,target:k,to:b,preventScrollReset:w,unstable_viewTransition:y}=n,C=Jj(n,tR),{basename:x}=M.useContext(ll),D,T=!1;if(typeof b=="string"&&oR.test(b)&&(D=b,rR))try{let S=new URL(window.location.href),F=b.startsWith("//")?new URL(S.protocol+b):new URL(b),H=ov(F.pathname,x);F.origin===S.origin&&H!=null?b=H+F.search+F.hash:T=!0}catch{}let z=Bj(b,{relative:d}),N=sR(b,{replace:f,state:m,target:k,preventScrollReset:w,relative:d,unstable_viewTransition:y});function L(S){c&&c(S),S.defaultPrevented||N(S)}return M.createElement("a",Nb({},C,{href:D||z,onClick:T||h?c:L,ref:o,target:k}))});var AE;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(AE||(AE={}));var CE;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(CE||(CE={}));function sR(i,n){let{target:o,replace:c,state:d,preventScrollReset:h,relative:f,unstable_viewTransition:m}=n===void 0?{}:n,k=ro(),b=ul(),w=kT(i,{relative:f});return M.useCallback(y=>{if(eR(y,o)){y.preventDefault();let C=c!==void 0?c:Wp(b)===Wp(w);k(i,{replace:C,state:d,preventScrollReset:h,relative:f,unstable_viewTransition:m})}},[b,k,w,c,d,o,i,h,f,m])}function Oo(i){return Array.isArray?Array.isArray(i):yT(i)==="[object Array]"}const aR=1/0;function cR(i){if(typeof i=="string")return i;let n=i+"";return n=="0"&&1/i==-aR?"-0":n}function lR(i){return i==null?"":cR(i)}function eo(i){return typeof i=="string"}function vT(i){return typeof i=="number"}function dR(i){return i===!0||i===!1||uR(i)&&yT(i)=="[object Boolean]"}function _T(i){return typeof i=="object"}function uR(i){return _T(i)&&i!==null}function Bi(i){return i!=null}function fk(i){return!i.trim().length}function yT(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const hR="Incorrect 'index' type",fR=i=>`Invalid value for key ${i}`,pR=i=>`Pattern length exceeds max of ${i}.`,gR=i=>`Missing ${i} property in key`,mR=i=>`Property 'weight' in key '${i}' must be a positive integer`,xE=Object.prototype.hasOwnProperty;class kR{constructor(n){this._keys=[],this._keyMap={};let o=0;n.forEach(c=>{let d=AT(c);this._keys.push(d),this._keyMap[d.id]=d,o+=d.weight}),this._keys.forEach(c=>{c.weight/=o})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function AT(i){let n=null,o=null,c=null,d=1,h=null;if(eo(i)||Oo(i))c=i,n=EE(i),o=Ob(i);else{if(!xE.call(i,"name"))throw new Error(gR("name"));const f=i.name;if(c=f,xE.call(i,"weight")&&(d=i.weight,d<=0))throw new Error(mR(f));n=EE(f),o=Ob(f),h=i.getFn}return{path:n,id:o,weight:d,src:c,getFn:h}}function EE(i){return Oo(i)?i:i.split(".")}function Ob(i){return Oo(i)?i.join("."):i}function bR(i,n){let o=[],c=!1;const d=(h,f,m)=>{if(Bi(h))if(!f[m])o.push(h);else{let k=f[m];const b=h[k];if(!Bi(b))return;if(m===f.length-1&&(eo(b)||vT(b)||dR(b)))o.push(lR(b));else if(Oo(b)){c=!0;for(let w=0,y=b.length;w<y;w+=1)d(b[w],f,m+1)}else f.length&&d(b,f,m+1)}};return d(i,eo(n)?n.split("."):n,0),c?o:o[0]}const wR={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vR={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,n)=>i.score===n.score?i.idx<n.idx?-1:1:i.score<n.score?-1:1},_R={location:0,threshold:.6,distance:100},yR={useExtendedSearch:!1,getFn:bR,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Pe={...vR,...wR,..._R,...yR};const AR=/[^ ]+/g;function CR(i=1,n=3){const o=new Map,c=Math.pow(10,n);return{get(d){const h=d.match(AR).length;if(o.has(h))return o.get(h);const f=1/Math.pow(h,.5*i),m=parseFloat(Math.round(f*c)/c);return o.set(h,m),m},clear(){o.clear()}}}class dv{constructor({getFn:n=Pe.getFn,fieldNormWeight:o=Pe.fieldNormWeight}={}){this.norm=CR(o,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((o,c)=>{this._keysMap[o.id]=c})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,eo(this.docs[0])?this.docs.forEach((n,o)=>{this._addString(n,o)}):this.docs.forEach((n,o)=>{this._addObject(n,o)}),this.norm.clear())}add(n){const o=this.size();eo(n)?this._addString(n,o):this._addObject(n,o)}removeAt(n){this.records.splice(n,1);for(let o=n,c=this.size();o<c;o+=1)this.records[o].i-=1}getValueForItemAtKeyId(n,o){return n[this._keysMap[o]]}size(){return this.records.length}_addString(n,o){if(!Bi(n)||fk(n))return;let c={v:n,i:o,n:this.norm.get(n)};this.records.push(c)}_addObject(n,o){let c={i:o,$:{}};this.keys.forEach((d,h)=>{let f=d.getFn?d.getFn(n):this.getFn(n,d.path);if(Bi(f)){if(Oo(f)){let m=[];const k=[{nestedArrIndex:-1,value:f}];for(;k.length;){const{nestedArrIndex:b,value:w}=k.pop();if(Bi(w))if(eo(w)&&!fk(w)){let y={v:w,i:b,n:this.norm.get(w)};m.push(y)}else Oo(w)&&w.forEach((y,C)=>{k.push({nestedArrIndex:C,value:y})})}c.$[h]=m}else if(eo(f)&&!fk(f)){let m={v:f,n:this.norm.get(f)};c.$[h]=m}}}),this.records.push(c)}toJSON(){return{keys:this.keys,records:this.records}}}function CT(i,n,{getFn:o=Pe.getFn,fieldNormWeight:c=Pe.fieldNormWeight}={}){const d=new dv({getFn:o,fieldNormWeight:c});return d.setKeys(i.map(AT)),d.setSources(n),d.create(),d}function xR(i,{getFn:n=Pe.getFn,fieldNormWeight:o=Pe.fieldNormWeight}={}){const{keys:c,records:d}=i,h=new dv({getFn:n,fieldNormWeight:o});return h.setKeys(c),h.setIndexRecords(d),h}function zf(i,{errors:n=0,currentLocation:o=0,expectedLocation:c=0,distance:d=Pe.distance,ignoreLocation:h=Pe.ignoreLocation}={}){const f=n/i.length;if(h)return f;const m=Math.abs(c-o);return d?f+m/d:m?1:f}function ER(i=[],n=Pe.minMatchCharLength){let o=[],c=-1,d=-1,h=0;for(let f=i.length;h<f;h+=1){let m=i[h];m&&c===-1?c=h:!m&&c!==-1&&(d=h-1,d-c+1>=n&&o.push([c,d]),c=-1)}return i[h-1]&&h-c>=n&&o.push([c,h-1]),o}const fa=32;function SR(i,n,o,{location:c=Pe.location,distance:d=Pe.distance,threshold:h=Pe.threshold,findAllMatches:f=Pe.findAllMatches,minMatchCharLength:m=Pe.minMatchCharLength,includeMatches:k=Pe.includeMatches,ignoreLocation:b=Pe.ignoreLocation}={}){if(n.length>fa)throw new Error(pR(fa));const w=n.length,y=i.length,C=Math.max(0,Math.min(c,y));let x=h,D=C;const T=m>1||k,z=T?Array(y):[];let N;for(;(N=i.indexOf(n,D))>-1;){let Y=zf(n,{currentLocation:N,expectedLocation:C,distance:d,ignoreLocation:b});if(x=Math.min(Y,x),D=N+w,T){let ee=0;for(;ee<w;)z[N+ee]=1,ee+=1}}D=-1;let L=[],S=1,F=w+y;const H=1<<w-1;for(let Y=0;Y<w;Y+=1){let ee=0,oe=F;for(;ee<oe;)zf(n,{errors:Y,currentLocation:C+oe,expectedLocation:C,distance:d,ignoreLocation:b})<=x?ee=oe:F=oe,oe=Math.floor((F-ee)/2+ee);F=oe;let de=Math.max(1,C-oe+1),K=f?y:Math.min(C+oe,y)+w,Q=Array(K+2);Q[K+1]=(1<<Y)-1;for(let U=K;U>=de;U-=1){let W=U-1,X=o[i.charAt(W)];if(T&&(z[W]=+!!X),Q[U]=(Q[U+1]<<1|1)&X,Y&&(Q[U]|=(L[U+1]|L[U])<<1|1|L[U+1]),Q[U]&H&&(S=zf(n,{errors:Y,currentLocation:W,expectedLocation:C,distance:d,ignoreLocation:b}),S<=x)){if(x=S,D=W,D<=C)break;de=Math.max(1,2*C-D)}}if(zf(n,{errors:Y+1,currentLocation:C,expectedLocation:C,distance:d,ignoreLocation:b})>x)break;L=Q}const J={isMatch:D>=0,score:Math.max(.001,S)};if(T){const Y=ER(z,m);Y.length?k&&(J.indices=Y):J.isMatch=!1}return J}function DR(i){let n={};for(let o=0,c=i.length;o<c;o+=1){const d=i.charAt(o);n[d]=(n[d]||0)|1<<c-o-1}return n}class xT{constructor(n,{location:o=Pe.location,threshold:c=Pe.threshold,distance:d=Pe.distance,includeMatches:h=Pe.includeMatches,findAllMatches:f=Pe.findAllMatches,minMatchCharLength:m=Pe.minMatchCharLength,isCaseSensitive:k=Pe.isCaseSensitive,ignoreLocation:b=Pe.ignoreLocation}={}){if(this.options={location:o,threshold:c,distance:d,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:b},this.pattern=k?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const w=(C,x)=>{this.chunks.push({pattern:C,alphabet:DR(C),startIndex:x})},y=this.pattern.length;if(y>fa){let C=0;const x=y%fa,D=y-x;for(;C<D;)w(this.pattern.substr(C,fa),C),C+=fa;if(x){const T=y-fa;w(this.pattern.substr(T),T)}}else w(this.pattern,0)}searchIn(n){const{isCaseSensitive:o,includeMatches:c}=this.options;if(o||(n=n.toLowerCase()),this.pattern===n){let D={isMatch:!0,score:0};return c&&(D.indices=[[0,n.length-1]]),D}const{location:d,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:k,ignoreLocation:b}=this.options;let w=[],y=0,C=!1;this.chunks.forEach(({pattern:D,alphabet:T,startIndex:z})=>{const{isMatch:N,score:L,indices:S}=SR(n,D,T,{location:d+z,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:k,includeMatches:c,ignoreLocation:b});N&&(C=!0),y+=L,N&&S&&(w=[...w,...S])});let x={isMatch:C,score:C?y/this.chunks.length:1};return C&&c&&(x.indices=w),x}}class Rs{constructor(n){this.pattern=n}static isMultiMatch(n){return SE(n,this.multiRegex)}static isSingleMatch(n){return SE(n,this.singleRegex)}search(){}}function SE(i,n){const o=i.match(n);return o?o[1]:null}class TR extends Rs{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const o=n===this.pattern;return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}class IR extends Rs{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const c=n.indexOf(this.pattern)===-1;return{isMatch:c,score:c?0:1,indices:[0,n.length-1]}}}class MR extends Rs{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const o=n.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}class NR extends Rs{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const o=!n.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class OR extends Rs{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const o=n.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class PR extends Rs{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const o=!n.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class ET extends Rs{constructor(n,{location:o=Pe.location,threshold:c=Pe.threshold,distance:d=Pe.distance,includeMatches:h=Pe.includeMatches,findAllMatches:f=Pe.findAllMatches,minMatchCharLength:m=Pe.minMatchCharLength,isCaseSensitive:k=Pe.isCaseSensitive,ignoreLocation:b=Pe.ignoreLocation}={}){super(n),this._bitapSearch=new xT(n,{location:o,threshold:c,distance:d,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:b})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class ST extends Rs{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let o=0,c;const d=[],h=this.pattern.length;for(;(c=n.indexOf(this.pattern,o))>-1;)o=c+h,d.push([c,o-1]);const f=!!d.length;return{isMatch:f,score:f?0:1,indices:d}}}const Pb=[TR,ST,MR,NR,PR,OR,IR,ET],DE=Pb.length,BR=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,LR="|";function zR(i,n={}){return i.split(LR).map(o=>{let c=o.trim().split(BR).filter(h=>h&&!!h.trim()),d=[];for(let h=0,f=c.length;h<f;h+=1){const m=c[h];let k=!1,b=-1;for(;!k&&++b<DE;){const w=Pb[b];let y=w.isMultiMatch(m);y&&(d.push(new w(y,n)),k=!0)}if(!k)for(b=-1;++b<DE;){const w=Pb[b];let y=w.isSingleMatch(m);if(y){d.push(new w(y,n));break}}}return d})}const jR=new Set([ET.type,ST.type]);class RR{constructor(n,{isCaseSensitive:o=Pe.isCaseSensitive,includeMatches:c=Pe.includeMatches,minMatchCharLength:d=Pe.minMatchCharLength,ignoreLocation:h=Pe.ignoreLocation,findAllMatches:f=Pe.findAllMatches,location:m=Pe.location,threshold:k=Pe.threshold,distance:b=Pe.distance}={}){this.query=null,this.options={isCaseSensitive:o,includeMatches:c,minMatchCharLength:d,findAllMatches:f,ignoreLocation:h,location:m,threshold:k,distance:b},this.pattern=o?n:n.toLowerCase(),this.query=zR(this.pattern,this.options)}static condition(n,o){return o.useExtendedSearch}searchIn(n){const o=this.query;if(!o)return{isMatch:!1,score:1};const{includeMatches:c,isCaseSensitive:d}=this.options;n=d?n:n.toLowerCase();let h=0,f=[],m=0;for(let k=0,b=o.length;k<b;k+=1){const w=o[k];f.length=0,h=0;for(let y=0,C=w.length;y<C;y+=1){const x=w[y],{isMatch:D,indices:T,score:z}=x.search(n);if(D){if(h+=1,m+=z,c){const N=x.constructor.type;jR.has(N)?f=[...f,...T]:f.push(T)}}else{m=0,h=0,f.length=0;break}}if(h){let y={isMatch:!0,score:m/h};return c&&(y.indices=f),y}}return{isMatch:!1,score:1}}}const Bb=[];function FR(...i){Bb.push(...i)}function Lb(i,n){for(let o=0,c=Bb.length;o<c;o+=1){let d=Bb[o];if(d.condition(i,n))return new d(i,n)}return new xT(i,n)}const Yp={AND:"$and",OR:"$or"},zb={PATH:"$path",PATTERN:"$val"},jb=i=>!!(i[Yp.AND]||i[Yp.OR]),$R=i=>!!i[zb.PATH],VR=i=>!Oo(i)&&_T(i)&&!jb(i),TE=i=>({[Yp.AND]:Object.keys(i).map(n=>({[n]:i[n]}))});function DT(i,n,{auto:o=!0}={}){const c=d=>{let h=Object.keys(d);const f=$R(d);if(!f&&h.length>1&&!jb(d))return c(TE(d));if(VR(d)){const k=f?d[zb.PATH]:h[0],b=f?d[zb.PATTERN]:d[k];if(!eo(b))throw new Error(fR(k));const w={keyId:Ob(k),pattern:b};return o&&(w.searcher=Lb(b,n)),w}let m={children:[],operator:h[0]};return h.forEach(k=>{const b=d[k];Oo(b)&&b.forEach(w=>{m.children.push(c(w))})}),m};return jb(i)||(i=TE(i)),c(i)}function UR(i,{ignoreFieldNorm:n=Pe.ignoreFieldNorm}){i.forEach(o=>{let c=1;o.matches.forEach(({key:d,norm:h,score:f})=>{const m=d?d.weight:null;c*=Math.pow(f===0&&m?Number.EPSILON:f,(m||1)*(n?1:h))}),o.score=c})}function HR(i,n){const o=i.matches;n.matches=[],Bi(o)&&o.forEach(c=>{if(!Bi(c.indices)||!c.indices.length)return;const{indices:d,value:h}=c;let f={indices:d,value:h};c.key&&(f.key=c.key.src),c.idx>-1&&(f.refIndex=c.idx),n.matches.push(f)})}function WR(i,n){n.score=i.score}function qR(i,n,{includeMatches:o=Pe.includeMatches,includeScore:c=Pe.includeScore}={}){const d=[];return o&&d.push(HR),c&&d.push(WR),i.map(h=>{const{idx:f}=h,m={item:n[f],refIndex:f};return d.length&&d.forEach(k=>{k(h,m)}),m})}class hl{constructor(n,o={},c){this.options={...Pe,...o},this.options.useExtendedSearch,this._keyStore=new kR(this.options.keys),this.setCollection(n,c)}setCollection(n,o){if(this._docs=n,o&&!(o instanceof dv))throw new Error(hR);this._myIndex=o||CT(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Bi(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const o=[];for(let c=0,d=this._docs.length;c<d;c+=1){const h=this._docs[c];n(h,c)&&(this.removeAt(c),c-=1,d-=1,o.push(h))}return o}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:o=-1}={}){const{includeMatches:c,includeScore:d,shouldSort:h,sortFn:f,ignoreFieldNorm:m}=this.options;let k=eo(n)?eo(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return UR(k,{ignoreFieldNorm:m}),h&&k.sort(f),vT(o)&&o>-1&&(k=k.slice(0,o)),qR(k,this._docs,{includeMatches:c,includeScore:d})}_searchStringList(n){const o=Lb(n,this.options),{records:c}=this._myIndex,d=[];return c.forEach(({v:h,i:f,n:m})=>{if(!Bi(h))return;const{isMatch:k,score:b,indices:w}=o.searchIn(h);k&&d.push({item:h,idx:f,matches:[{score:b,value:h,norm:m,indices:w}]})}),d}_searchLogical(n){const o=DT(n,this.options),c=(m,k,b)=>{if(!m.children){const{keyId:y,searcher:C}=m,x=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(k,y),searcher:C});return x&&x.length?[{idx:b,item:k,matches:x}]:[]}const w=[];for(let y=0,C=m.children.length;y<C;y+=1){const x=m.children[y],D=c(x,k,b);if(D.length)w.push(...D);else if(m.operator===Yp.AND)return[]}return w},d=this._myIndex.records,h={},f=[];return d.forEach(({$:m,i:k})=>{if(Bi(m)){let b=c(o,m,k);b.length&&(h[k]||(h[k]={idx:k,item:m,matches:[]},f.push(h[k])),b.forEach(({matches:w})=>{h[k].matches.push(...w)}))}}),f}_searchObjectList(n){const o=Lb(n,this.options),{keys:c,records:d}=this._myIndex,h=[];return d.forEach(({$:f,i:m})=>{if(!Bi(f))return;let k=[];c.forEach((b,w)=>{k.push(...this._findMatches({key:b,value:f[w],searcher:o}))}),k.length&&h.push({idx:m,item:f,matches:k})}),h}_findMatches({key:n,value:o,searcher:c}){if(!Bi(o))return[];let d=[];if(Oo(o))o.forEach(({v:h,i:f,n:m})=>{if(!Bi(h))return;const{isMatch:k,score:b,indices:w}=c.searchIn(h);k&&d.push({score:b,key:n,value:h,idx:f,norm:m,indices:w})});else{const{v:h,n:f}=o,{isMatch:m,score:k,indices:b}=c.searchIn(h);m&&d.push({score:k,key:n,value:h,norm:f,indices:b})}return d}}hl.version="7.0.0";hl.createIndex=CT;hl.parseIndex=xR;hl.config=Pe;hl.parseQuery=DT;FR(RR);const GR=(i,n,o)=>{const d=new hl(n,{keys:o}).search(i);return i?d.map(f=>f.item):n};class Na extends Error{}class YR extends Na{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class KR extends Na{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class ZR extends Na{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Rd extends Na{}class TT extends Na{constructor(n){super(`Invalid unit ${n}`)}}class or extends Na{}class ss extends Na{constructor(){super("Zone is an abstract class")}}const be="numeric",Or="short",Ri="long",Kp={year:be,month:be,day:be},IT={year:be,month:Or,day:be},QR={year:be,month:Or,day:be,weekday:Or},MT={year:be,month:Ri,day:be},NT={year:be,month:Ri,day:be,weekday:Ri},OT={hour:be,minute:be},PT={hour:be,minute:be,second:be},BT={hour:be,minute:be,second:be,timeZoneName:Or},LT={hour:be,minute:be,second:be,timeZoneName:Ri},zT={hour:be,minute:be,hourCycle:"h23"},jT={hour:be,minute:be,second:be,hourCycle:"h23"},RT={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Or},FT={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Ri},$T={year:be,month:be,day:be,hour:be,minute:be},VT={year:be,month:be,day:be,hour:be,minute:be,second:be},UT={year:be,month:Or,day:be,hour:be,minute:be},HT={year:be,month:Or,day:be,hour:be,minute:be,second:be},JR={year:be,month:Or,day:be,weekday:Or,hour:be,minute:be},WT={year:be,month:Ri,day:be,hour:be,minute:be,timeZoneName:Or},qT={year:be,month:Ri,day:be,hour:be,minute:be,second:be,timeZoneName:Or},GT={year:be,month:Ri,day:be,weekday:Ri,hour:be,minute:be,timeZoneName:Ri},YT={year:be,month:Ri,day:be,weekday:Ri,hour:be,minute:be,second:be,timeZoneName:Ri};class Bu{get type(){throw new ss}get name(){throw new ss}get ianaName(){return this.name}get isUniversal(){throw new ss}offsetName(n,o){throw new ss}formatOffset(n,o){throw new ss}offset(n){throw new ss}equals(n){throw new ss}get isValid(){throw new ss}}let pk=null;class Cg extends Bu{static get instance(){return pk===null&&(pk=new Cg),pk}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:o,locale:c}){return ZT(n,o,c)}formatOffset(n,o){return Xd(this.offset(n),o)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}let fp={};function XR(i){return fp[i]||(fp[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),fp[i]}const e8={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function t8(i,n){const o=i.format(n).replace(/\u200E/g,""),c=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(o),[,d,h,f,m,k,b,w]=c;return[f,d,h,m,k,b,w]}function n8(i,n){const o=i.formatToParts(n),c=[];for(let d=0;d<o.length;d++){const{type:h,value:f}=o[d],m=e8[h];h==="era"?c[m]=f:qe(m)||(c[m]=parseInt(f,10))}return c}let jf={};class Po extends Bu{static create(n){return jf[n]||(jf[n]=new Po(n)),jf[n]}static resetCache(){jf={},fp={}}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Po.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:o,locale:c}){return ZT(n,o,c,this.name)}formatOffset(n,o){return Xd(this.offset(n),o)}offset(n){const o=new Date(n);if(isNaN(o))return NaN;const c=XR(this.name);let[d,h,f,m,k,b,w]=c.formatToParts?n8(c,o):t8(c,o);m==="BC"&&(d=-Math.abs(d)+1);const C=Eg({year:d,month:h,day:f,hour:k===24?0:k,minute:b,second:w,millisecond:0});let x=+o;const D=x%1e3;return x-=D>=0?D:1e3+D,(C-x)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let IE={};function i8(i,n={}){const o=JSON.stringify([i,n]);let c=IE[o];return c||(c=new Intl.ListFormat(i,n),IE[o]=c),c}let Rb={};function Fb(i,n={}){const o=JSON.stringify([i,n]);let c=Rb[o];return c||(c=new Intl.DateTimeFormat(i,n),Rb[o]=c),c}let $b={};function r8(i,n={}){const o=JSON.stringify([i,n]);let c=$b[o];return c||(c=new Intl.NumberFormat(i,n),$b[o]=c),c}let Vb={};function o8(i,n={}){const{base:o,...c}=n,d=JSON.stringify([i,c]);let h=Vb[d];return h||(h=new Intl.RelativeTimeFormat(i,n),Vb[d]=h),h}let Fd=null;function s8(){return Fd||(Fd=new Intl.DateTimeFormat().resolvedOptions().locale,Fd)}function a8(i){const n=i.indexOf("-x-");n!==-1&&(i=i.substring(0,n));const o=i.indexOf("-u-");if(o===-1)return[i];{let c,d;try{c=Fb(i).resolvedOptions(),d=i}catch{const k=i.substring(0,o);c=Fb(k).resolvedOptions(),d=k}const{numberingSystem:h,calendar:f}=c;return[d,h,f]}}function c8(i,n,o){return(o||n)&&(i.includes("-u-")||(i+="-u"),o&&(i+=`-ca-${o}`),n&&(i+=`-nu-${n}`)),i}function l8(i){const n=[];for(let o=1;o<=12;o++){const c=Le.utc(2009,o,1);n.push(i(c))}return n}function d8(i){const n=[];for(let o=1;o<=7;o++){const c=Le.utc(2016,11,13+o);n.push(i(c))}return n}function Rf(i,n,o,c){const d=i.listingMode();return d==="error"?null:d==="en"?o(n):c(n)}function u8(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}class h8{constructor(n,o,c){this.padTo=c.padTo||0,this.floor=c.floor||!1;const{padTo:d,floor:h,...f}=c;if(!o||Object.keys(f).length>0){const m={useGrouping:!1,...c};c.padTo>0&&(m.minimumIntegerDigits=c.padTo),this.inf=r8(n,m)}}format(n){if(this.inf){const o=this.floor?Math.floor(n):n;return this.inf.format(o)}else{const o=this.floor?Math.floor(n):hv(n,3);return on(o,this.padTo)}}}class f8{constructor(n,o,c){this.opts=c,this.originalZone=void 0;let d;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&Po.create(m).valid?(d=m,this.dt=n):(d="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,d=n.zone.name):(d="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const h={...this.opts};h.timeZone=h.timeZone||d,this.dtf=Fb(o,h)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(o=>{if(o.type==="timeZoneName"){const c=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...o,value:c}}else return o}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class p8{constructor(n,o,c){this.opts={style:"long",...c},!o&&KT()&&(this.rtf=o8(n,c))}format(n,o){return this.rtf?this.rtf.format(n,o):M8(o,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,o){return this.rtf?this.rtf.formatToParts(n,o):[]}}class xt{static fromOpts(n){return xt.create(n.locale,n.numberingSystem,n.outputCalendar,n.defaultToEN)}static create(n,o,c,d=!1){const h=n||rn.defaultLocale,f=h||(d?"en-US":s8()),m=o||rn.defaultNumberingSystem,k=c||rn.defaultOutputCalendar;return new xt(f,m,k,h)}static resetCache(){Fd=null,Rb={},$b={},Vb={}}static fromObject({locale:n,numberingSystem:o,outputCalendar:c}={}){return xt.create(n,o,c)}constructor(n,o,c,d){const[h,f,m]=a8(n);this.locale=h,this.numberingSystem=o||f||null,this.outputCalendar=c||m||null,this.intl=c8(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=d,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=u8(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&o?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:xt.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,o=!1){return Rf(this,n,XT,()=>{const c=o?{month:n,day:"numeric"}:{month:n},d=o?"format":"standalone";return this.monthsCache[d][n]||(this.monthsCache[d][n]=l8(h=>this.extract(h,c,"month"))),this.monthsCache[d][n]})}weekdays(n,o=!1){return Rf(this,n,n4,()=>{const c=o?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},d=o?"format":"standalone";return this.weekdaysCache[d][n]||(this.weekdaysCache[d][n]=d8(h=>this.extract(h,c,"weekday"))),this.weekdaysCache[d][n]})}meridiems(){return Rf(this,void 0,()=>i4,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Le.utc(2016,11,13,9),Le.utc(2016,11,13,19)].map(o=>this.extract(o,n,"dayperiod"))}return this.meridiemCache})}eras(n){return Rf(this,n,r4,()=>{const o={era:n};return this.eraCache[n]||(this.eraCache[n]=[Le.utc(-40,1,1),Le.utc(2017,1,1)].map(c=>this.extract(c,o,"era"))),this.eraCache[n]})}extract(n,o,c){const d=this.dtFormatter(n,o),h=d.formatToParts(),f=h.find(m=>m.type.toLowerCase()===c);return f?f.value:null}numberFormatter(n={}){return new h8(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,o={}){return new f8(n,this.intl,o)}relFormatter(n={}){return new p8(this.intl,this.isEnglish(),n)}listFormatter(n={}){return i8(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}}let gk=null;class ei extends Bu{static get utcInstance(){return gk===null&&(gk=new ei(0)),gk}static instance(n){return n===0?ei.utcInstance:new ei(n)}static parseSpecifier(n){if(n){const o=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new ei(Sg(o[1],o[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,o){return Xd(this.fixed,o)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class g8 extends Bu{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ms(i,n){if(qe(i)||i===null)return n;if(i instanceof Bu)return i;if(m8(i)){const o=i.toLowerCase();return o==="default"?n:o==="local"||o==="system"?Cg.instance:o==="utc"||o==="gmt"?ei.utcInstance:ei.parseSpecifier(o)||Po.create(i)}else return Aa(i)?ei.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new g8(i)}let ME=()=>Date.now(),NE="system",OE=null,PE=null,BE=null,LE=60,zE;class rn{static get now(){return ME}static set now(n){ME=n}static set defaultZone(n){NE=n}static get defaultZone(){return ms(NE,Cg.instance)}static get defaultLocale(){return OE}static set defaultLocale(n){OE=n}static get defaultNumberingSystem(){return PE}static set defaultNumberingSystem(n){PE=n}static get defaultOutputCalendar(){return BE}static set defaultOutputCalendar(n){BE=n}static get twoDigitCutoffYear(){return LE}static set twoDigitCutoffYear(n){LE=n%100}static get throwOnInvalid(){return zE}static set throwOnInvalid(n){zE=n}static resetCaches(){xt.resetCache(),Po.resetCache()}}function qe(i){return typeof i>"u"}function Aa(i){return typeof i=="number"}function xg(i){return typeof i=="number"&&i%1===0}function m8(i){return typeof i=="string"}function k8(i){return Object.prototype.toString.call(i)==="[object Date]"}function KT(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function b8(i){return Array.isArray(i)?i:[i]}function jE(i,n,o){if(i.length!==0)return i.reduce((c,d)=>{const h=[n(d),d];return c&&o(c[0],h[0])===c[0]?c:h},null)[1]}function w8(i,n){return n.reduce((o,c)=>(o[c]=i[c],o),{})}function nl(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function So(i,n,o){return xg(i)&&i>=n&&i<=o}function v8(i,n){return i-n*Math.floor(i/n)}function on(i,n=2){const o=i<0;let c;return o?c="-"+(""+-i).padStart(n,"0"):c=(""+i).padStart(n,"0"),c}function hs(i){if(!(qe(i)||i===null||i===""))return parseInt(i,10)}function aa(i){if(!(qe(i)||i===null||i===""))return parseFloat(i)}function uv(i){if(!(qe(i)||i===null||i==="")){const n=parseFloat("0."+i)*1e3;return Math.floor(n)}}function hv(i,n,o=!1){const c=10**n;return(o?Math.trunc:Math.round)(i*c)/c}function Lu(i){return i%4===0&&(i%100!==0||i%400===0)}function Jd(i){return Lu(i)?366:365}function Zp(i,n){const o=v8(n-1,12)+1,c=i+(n-o)/12;return o===2?Lu(c)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function Eg(i){let n=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(n=new Date(n),n.setUTCFullYear(i.year,i.month-1,i.day)),+n}function Qp(i){const n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7,o=i-1,c=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7;return n===4||c===3?53:52}function Ub(i){return i>99?i:i>rn.twoDigitCutoffYear?1900+i:2e3+i}function ZT(i,n,o,c=null){const d=new Date(i),h={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};c&&(h.timeZone=c);const f={timeZoneName:n,...h},m=new Intl.DateTimeFormat(o,f).formatToParts(d).find(k=>k.type.toLowerCase()==="timezonename");return m?m.value:null}function Sg(i,n){let o=parseInt(i,10);Number.isNaN(o)&&(o=0);const c=parseInt(n,10)||0,d=o<0||Object.is(o,-0)?-c:c;return o*60+d}function QT(i){const n=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(n))throw new or(`Invalid unit value ${i}`);return n}function Jp(i,n){const o={};for(const c in i)if(nl(i,c)){const d=i[c];if(d==null)continue;o[n(c)]=QT(d)}return o}function Xd(i,n){const o=Math.trunc(Math.abs(i/60)),c=Math.trunc(Math.abs(i%60)),d=i>=0?"+":"-";switch(n){case"short":return`${d}${on(o,2)}:${on(c,2)}`;case"narrow":return`${d}${o}${c>0?`:${c}`:""}`;case"techie":return`${d}${on(o,2)}${on(c,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Dg(i){return w8(i,["hour","minute","second","millisecond"])}const _8=["January","February","March","April","May","June","July","August","September","October","November","December"],JT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y8=["J","F","M","A","M","J","J","A","S","O","N","D"];function XT(i){switch(i){case"narrow":return[...y8];case"short":return[...JT];case"long":return[..._8];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const e4=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],t4=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],A8=["M","T","W","T","F","S","S"];function n4(i){switch(i){case"narrow":return[...A8];case"short":return[...t4];case"long":return[...e4];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const i4=["AM","PM"],C8=["Before Christ","Anno Domini"],x8=["BC","AD"],E8=["B","A"];function r4(i){switch(i){case"narrow":return[...E8];case"short":return[...x8];case"long":return[...C8];default:return null}}function S8(i){return i4[i.hour<12?0:1]}function D8(i,n){return n4(n)[i.weekday-1]}function T8(i,n){return XT(n)[i.month-1]}function I8(i,n){return r4(n)[i.year<0?0:1]}function M8(i,n,o="always",c=!1){const d={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},h=["hours","minutes","seconds"].indexOf(i)===-1;if(o==="auto"&&h){const y=i==="days";switch(n){case 1:return y?"tomorrow":`next ${d[i][0]}`;case-1:return y?"yesterday":`last ${d[i][0]}`;case 0:return y?"today":`this ${d[i][0]}`}}const f=Object.is(n,-0)||n<0,m=Math.abs(n),k=m===1,b=d[i],w=c?k?b[1]:b[2]||b[1]:k?d[i][0]:i;return f?`${m} ${w} ago`:`in ${m} ${w}`}function RE(i,n){let o="";for(const c of i)c.literal?o+=c.val:o+=n(c.val);return o}const N8={D:Kp,DD:IT,DDD:MT,DDDD:NT,t:OT,tt:PT,ttt:BT,tttt:LT,T:zT,TT:jT,TTT:RT,TTTT:FT,f:$T,ff:UT,fff:WT,ffff:GT,F:VT,FF:HT,FFF:qT,FFFF:YT};class Wn{static create(n,o={}){return new Wn(n,o)}static parseFormat(n){let o=null,c="",d=!1;const h=[];for(let f=0;f<n.length;f++){const m=n.charAt(f);m==="'"?(c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),o=null,c="",d=!d):d||m===o?c+=m:(c.length>0&&h.push({literal:/^\s+$/.test(c),val:c}),c=m,o=m)}return c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),h}static macroTokenToFormatOpts(n){return N8[n]}constructor(n,o){this.opts=o,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,o){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...o}).format()}dtFormatter(n,o={}){return this.loc.dtFormatter(n,{...this.opts,...o})}formatDateTime(n,o){return this.dtFormatter(n,o).format()}formatDateTimeParts(n,o){return this.dtFormatter(n,o).formatToParts()}formatInterval(n,o){return this.dtFormatter(n.start,o).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,o){return this.dtFormatter(n,o).resolvedOptions()}num(n,o=0){if(this.opts.forceSimple)return on(n,o);const c={...this.opts};return o>0&&(c.padTo=o),this.loc.numberFormatter(c).format(n)}formatDateTimeFromString(n,o){const c=this.loc.listingMode()==="en",d=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",h=(x,D)=>this.loc.extract(n,x,D),f=x=>n.isOffsetFixed&&n.offset===0&&x.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,x.format):"",m=()=>c?S8(n):h({hour:"numeric",hourCycle:"h12"},"dayperiod"),k=(x,D)=>c?T8(n,x):h(D?{month:x}:{month:x,day:"numeric"},"month"),b=(x,D)=>c?D8(n,x):h(D?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),w=x=>{const D=Wn.macroTokenToFormatOpts(x);return D?this.formatWithSystemDefault(n,D):x},y=x=>c?I8(n,x):h({era:x},"era"),C=x=>{switch(x){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return m();case"d":return d?h({day:"numeric"},"day"):this.num(n.day);case"dd":return d?h({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return b("short",!0);case"cccc":return b("long",!0);case"ccccc":return b("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return b("short",!1);case"EEEE":return b("long",!1);case"EEEEE":return b("narrow",!1);case"L":return d?h({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return d?h({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return k("short",!0);case"LLLL":return k("long",!0);case"LLLLL":return k("narrow",!0);case"M":return d?h({month:"numeric"},"month"):this.num(n.month);case"MM":return d?h({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return k("short",!1);case"MMMM":return k("long",!1);case"MMMMM":return k("narrow",!1);case"y":return d?h({year:"numeric"},"year"):this.num(n.year);case"yy":return d?h({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return d?h({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return d?h({year:"numeric"},"year"):this.num(n.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return w(x)}};return RE(Wn.parseFormat(o),C)}formatDurationFromString(n,o){const c=k=>{switch(k[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},d=k=>b=>{const w=c(b);return w?this.num(k.get(w),b.length):b},h=Wn.parseFormat(o),f=h.reduce((k,{literal:b,val:w})=>b?k:k.concat(w),[]),m=n.shiftTo(...f.map(c).filter(k=>k));return RE(h,d(m))}}class Tr{constructor(n,o){this.reason=n,this.explanation=o}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const o4=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function fl(...i){const n=i.reduce((o,c)=>o+c.source,"");return RegExp(`^${n}$`)}function pl(...i){return n=>i.reduce(([o,c,d],h)=>{const[f,m,k]=h(n,d);return[{...o,...f},m||c,k]},[{},null,1]).slice(0,2)}function gl(i,...n){if(i==null)return[null,null];for(const[o,c]of n){const d=o.exec(i);if(d)return c(d)}return[null,null]}function s4(...i){return(n,o)=>{const c={};let d;for(d=0;d<i.length;d++)c[i[d]]=hs(n[o+d]);return[c,null,o+d]}}const a4=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,O8=`(?:${a4.source}?(?:\\[(${o4.source})\\])?)?`,fv=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,c4=RegExp(`${fv.source}${O8}`),pv=RegExp(`(?:T${c4.source})?`),P8=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,B8=/(\d{4})-?W(\d\d)(?:-?(\d))?/,L8=/(\d{4})-?(\d{3})/,z8=s4("weekYear","weekNumber","weekDay"),j8=s4("year","ordinal"),R8=/(\d{4})-(\d\d)-(\d\d)/,l4=RegExp(`${fv.source} ?(?:${a4.source}|(${o4.source}))?`),F8=RegExp(`(?: ${l4.source})?`);function qc(i,n,o){const c=i[n];return qe(c)?o:hs(c)}function $8(i,n){return[{year:qc(i,n),month:qc(i,n+1,1),day:qc(i,n+2,1)},null,n+3]}function ml(i,n){return[{hours:qc(i,n,0),minutes:qc(i,n+1,0),seconds:qc(i,n+2,0),milliseconds:uv(i[n+3])},null,n+4]}function zu(i,n){const o=!i[n]&&!i[n+1],c=Sg(i[n+1],i[n+2]),d=o?null:ei.instance(c);return[{},d,n+3]}function ju(i,n){const o=i[n]?Po.create(i[n]):null;return[{},o,n+1]}const V8=RegExp(`^T?${fv.source}$`),U8=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function H8(i){const[n,o,c,d,h,f,m,k,b]=i,w=n[0]==="-",y=k&&k[0]==="-",C=(x,D=!1)=>x!==void 0&&(D||x&&w)?-x:x;return[{years:C(aa(o)),months:C(aa(c)),weeks:C(aa(d)),days:C(aa(h)),hours:C(aa(f)),minutes:C(aa(m)),seconds:C(aa(k),k==="-0"),milliseconds:C(uv(b),y)}]}const W8={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gv(i,n,o,c,d,h,f){const m={year:n.length===2?Ub(hs(n)):hs(n),month:JT.indexOf(o)+1,day:hs(c),hour:hs(d),minute:hs(h)};return f&&(m.second=hs(f)),i&&(m.weekday=i.length>3?e4.indexOf(i)+1:t4.indexOf(i)+1),m}const q8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function G8(i){const[,n,o,c,d,h,f,m,k,b,w,y]=i,C=gv(n,d,c,o,h,f,m);let x;return k?x=W8[k]:b?x=0:x=Sg(w,y),[C,new ei(x)]}function Y8(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const K8=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Z8=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Q8=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function FE(i){const[,n,o,c,d,h,f,m]=i;return[gv(n,d,c,o,h,f,m),ei.utcInstance]}function J8(i){const[,n,o,c,d,h,f,m]=i;return[gv(n,m,o,c,d,h,f),ei.utcInstance]}const X8=fl(P8,pv),e9=fl(B8,pv),t9=fl(L8,pv),n9=fl(c4),d4=pl($8,ml,zu,ju),i9=pl(z8,ml,zu,ju),r9=pl(j8,ml,zu,ju),o9=pl(ml,zu,ju);function s9(i){return gl(i,[X8,d4],[e9,i9],[t9,r9],[n9,o9])}function a9(i){return gl(Y8(i),[q8,G8])}function c9(i){return gl(i,[K8,FE],[Z8,FE],[Q8,J8])}function l9(i){return gl(i,[U8,H8])}const d9=pl(ml);function u9(i){return gl(i,[V8,d9])}const h9=fl(R8,F8),f9=fl(l4),p9=pl(ml,zu,ju);function g9(i){return gl(i,[h9,d4],[f9,p9])}const $E="Invalid Duration",u4={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},m9={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...u4},Xi=146097/400,kc=146097/4800,k9={years:{quarters:4,months:12,weeks:Xi/7,days:Xi,hours:Xi*24,minutes:Xi*24*60,seconds:Xi*24*60*60,milliseconds:Xi*24*60*60*1e3},quarters:{months:3,weeks:Xi/28,days:Xi/4,hours:Xi*24/4,minutes:Xi*24*60/4,seconds:Xi*24*60*60/4,milliseconds:Xi*24*60*60*1e3/4},months:{weeks:kc/7,days:kc,hours:kc*24,minutes:kc*24*60,seconds:kc*24*60*60,milliseconds:kc*24*60*60*1e3},...u4},va=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],b9=va.slice(0).reverse();function as(i,n,o=!1){const c={values:o?n.values:{...i.values,...n.values||{}},loc:i.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||i.conversionAccuracy,matrix:n.matrix||i.matrix};return new Qe(c)}function h4(i,n){let o=n.milliseconds??0;for(const c of b9.slice(1))n[c]&&(o+=n[c]*i[c].milliseconds);return o}function VE(i,n){const o=h4(i,n)<0?-1:1;va.reduceRight((c,d)=>{if(qe(n[d]))return c;if(c){const h=n[c]*o,f=i[d][c],m=Math.floor(h/f);n[d]+=m*o,n[c]-=m*f*o}return d},null),va.reduce((c,d)=>{if(qe(n[d]))return c;if(c){const h=n[c]%1;n[c]-=h,n[d]+=h*i[c][d]}return d},null)}function w9(i){const n={};for(const[o,c]of Object.entries(i))c!==0&&(n[o]=c);return n}class Qe{constructor(n){const o=n.conversionAccuracy==="longterm"||!1;let c=o?k9:m9;n.matrix&&(c=n.matrix),this.values=n.values,this.loc=n.loc||xt.create(),this.conversionAccuracy=o?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=c,this.isLuxonDuration=!0}static fromMillis(n,o){return Qe.fromObject({milliseconds:n},o)}static fromObject(n,o={}){if(n==null||typeof n!="object")throw new or(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new Qe({values:Jp(n,Qe.normalizeUnit),loc:xt.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static fromDurationLike(n){if(Aa(n))return Qe.fromMillis(n);if(Qe.isDuration(n))return n;if(typeof n=="object")return Qe.fromObject(n);throw new or(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,o){const[c]=l9(n);return c?Qe.fromObject(c,o):Qe.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,o){const[c]=u9(n);return c?Qe.fromObject(c,o):Qe.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,o=null){if(!n)throw new or("need to specify a reason the Duration is invalid");const c=n instanceof Tr?n:new Tr(n,o);if(rn.throwOnInvalid)throw new ZR(c);return new Qe({invalid:c})}static normalizeUnit(n){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!o)throw new TT(n);return o}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,o={}){const c={...o,floor:o.round!==!1&&o.floor!==!1};return this.isValid?Wn.create(this.loc,c).formatDurationFromString(this,n):$E}toHuman(n={}){if(!this.isValid)return $E;const o=va.map(c=>{const d=this.values[c];return qe(d)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:c.slice(0,-1)}).format(d)}).filter(c=>c);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(o)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=hv(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Le.fromMillis(o,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?h4(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const o=Qe.fromDurationLike(n),c={};for(const d of va)(nl(o.values,d)||nl(this.values,d))&&(c[d]=o.get(d)+this.get(d));return as(this,{values:c},!0)}minus(n){if(!this.isValid)return this;const o=Qe.fromDurationLike(n);return this.plus(o.negate())}mapUnits(n){if(!this.isValid)return this;const o={};for(const c of Object.keys(this.values))o[c]=QT(n(this.values[c],c));return as(this,{values:o},!0)}get(n){return this[Qe.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const o={...this.values,...Jp(n,Qe.normalizeUnit)};return as(this,{values:o})}reconfigure({locale:n,numberingSystem:o,conversionAccuracy:c,matrix:d}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:o}),matrix:d,conversionAccuracy:c};return as(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return VE(this.matrix,n),as(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=w9(this.normalize().shiftToAll().toObject());return as(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>Qe.normalizeUnit(f));const o={},c={},d=this.toObject();let h;for(const f of va)if(n.indexOf(f)>=0){h=f;let m=0;for(const b in c)m+=this.matrix[b][f]*c[b],c[b]=0;Aa(d[f])&&(m+=d[f]);const k=Math.trunc(m);o[f]=k,c[f]=(m*1e3-k*1e3)/1e3}else Aa(d[f])&&(c[f]=d[f]);for(const f in c)c[f]!==0&&(o[h]+=f===h?c[f]:c[f]/this.matrix[h][f]);return VE(this.matrix,o),as(this,{values:o},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const o of Object.keys(this.values))n[o]=this.values[o]===0?0:-this.values[o];return as(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function o(c,d){return c===void 0||c===0?d===void 0||d===0:c===d}for(const c of va)if(!o(this.values[c],n.values[c]))return!1;return!0}}const bc="Invalid Interval";function v9(i,n){return!i||!i.isValid?Vt.invalid("missing or invalid start"):!n||!n.isValid?Vt.invalid("missing or invalid end"):n<i?Vt.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${n.toISO()}`):null}class Vt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,o=null){if(!n)throw new or("need to specify a reason the Interval is invalid");const c=n instanceof Tr?n:new Tr(n,o);if(rn.throwOnInvalid)throw new KR(c);return new Vt({invalid:c})}static fromDateTimes(n,o){const c=Od(n),d=Od(o),h=v9(c,d);return h??new Vt({start:c,end:d})}static after(n,o){const c=Qe.fromDurationLike(o),d=Od(n);return Vt.fromDateTimes(d,d.plus(c))}static before(n,o){const c=Qe.fromDurationLike(o),d=Od(n);return Vt.fromDateTimes(d.minus(c),d)}static fromISO(n,o){const[c,d]=(n||"").split("/",2);if(c&&d){let h,f;try{h=Le.fromISO(c,o),f=h.isValid}catch{f=!1}let m,k;try{m=Le.fromISO(d,o),k=m.isValid}catch{k=!1}if(f&&k)return Vt.fromDateTimes(h,m);if(f){const b=Qe.fromISO(d,o);if(b.isValid)return Vt.after(h,b)}else if(k){const b=Qe.fromISO(c,o);if(b.isValid)return Vt.before(m,b)}}return Vt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds"){if(!this.isValid)return NaN;const o=this.start.startOf(n),c=this.end.startOf(n);return Math.floor(c.diff(o,n).get(n))+(c.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:o}={}){return this.isValid?Vt.fromDateTimes(n||this.s,o||this.e):this}splitAt(...n){if(!this.isValid)return[];const o=n.map(Od).filter(f=>this.contains(f)).sort(),c=[];let{s:d}=this,h=0;for(;d<this.e;){const f=o[h]||this.e,m=+f>+this.e?this.e:f;c.push(Vt.fromDateTimes(d,m)),d=m,h+=1}return c}splitBy(n){const o=Qe.fromDurationLike(n);if(!this.isValid||!o.isValid||o.as("milliseconds")===0)return[];let{s:c}=this,d=1,h;const f=[];for(;c<this.e;){const m=this.start.plus(o.mapUnits(k=>k*d));h=+m>+this.e?this.e:m,f.push(Vt.fromDateTimes(c,h)),c=h,d+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const o=this.s>n.s?this.s:n.s,c=this.e<n.e?this.e:n.e;return o>=c?null:Vt.fromDateTimes(o,c)}union(n){if(!this.isValid)return this;const o=this.s<n.s?this.s:n.s,c=this.e>n.e?this.e:n.e;return Vt.fromDateTimes(o,c)}static merge(n){const[o,c]=n.sort((d,h)=>d.s-h.s).reduce(([d,h],f)=>h?h.overlaps(f)||h.abutsStart(f)?[d,h.union(f)]:[d.concat([h]),f]:[d,f],[[],null]);return c&&o.push(c),o}static xor(n){let o=null,c=0;const d=[],h=n.map(k=>[{time:k.s,type:"s"},{time:k.e,type:"e"}]),f=Array.prototype.concat(...h),m=f.sort((k,b)=>k.time-b.time);for(const k of m)c+=k.type==="s"?1:-1,c===1?o=k.time:(o&&+o!=+k.time&&d.push(Vt.fromDateTimes(o,k.time)),o=null);return Vt.merge(d)}difference(...n){return Vt.xor([this].concat(n)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:bc}toLocaleString(n=Kp,o={}){return this.isValid?Wn.create(this.s.loc.clone(o),n).formatInterval(this):bc}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:bc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:bc}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:bc}toFormat(n,{separator:o="  "}={}){return this.isValid?`${this.s.toFormat(n)}${o}${this.e.toFormat(n)}`:bc}toDuration(n,o){return this.isValid?this.e.diff(this.s,n,o):Qe.invalid(this.invalidReason)}mapEndpoints(n){return Vt.fromDateTimes(n(this.s),n(this.e))}}class Ff{static hasDST(n=rn.defaultZone){const o=Le.now().setZone(n).set({month:12});return!n.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(n){return Po.isValidZone(n)}static normalizeZone(n){return ms(n,rn.defaultZone)}static months(n="long",{locale:o=null,numberingSystem:c=null,locObj:d=null,outputCalendar:h="gregory"}={}){return(d||xt.create(o,c,h)).months(n)}static monthsFormat(n="long",{locale:o=null,numberingSystem:c=null,locObj:d=null,outputCalendar:h="gregory"}={}){return(d||xt.create(o,c,h)).months(n,!0)}static weekdays(n="long",{locale:o=null,numberingSystem:c=null,locObj:d=null}={}){return(d||xt.create(o,c,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:o=null,numberingSystem:c=null,locObj:d=null}={}){return(d||xt.create(o,c,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return xt.create(n).meridiems()}static eras(n="short",{locale:o=null}={}){return xt.create(o,null,"gregory").eras(n)}static features(){return{relative:KT()}}}function UE(i,n){const o=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),c=o(n)-o(i);return Math.floor(Qe.fromMillis(c).as("days"))}function _9(i,n,o){const c=[["years",(k,b)=>b.year-k.year],["quarters",(k,b)=>b.quarter-k.quarter+(b.year-k.year)*4],["months",(k,b)=>b.month-k.month+(b.year-k.year)*12],["weeks",(k,b)=>{const w=UE(k,b);return(w-w%7)/7}],["days",UE]],d={},h=i;let f,m;for(const[k,b]of c)o.indexOf(k)>=0&&(f=k,d[k]=b(i,n),m=h.plus(d),m>n?(d[k]--,i=h.plus(d),i>n&&(m=i,d[k]--,i=h.plus(d))):i=m);return[i,d,m,f]}function y9(i,n,o,c){let[d,h,f,m]=_9(i,n,o);const k=n-d,b=o.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);b.length===0&&(f<n&&(f=d.plus({[m]:1})),f!==d&&(h[m]=(h[m]||0)+k/(f-d)));const w=Qe.fromObject(h,c);return b.length>0?Qe.fromMillis(k,c).shiftTo(...b).plus(w):w}const mv={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},HE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},A9=mv.hanidec.replace(/[\[|\]]/g,"").split("");function C9(i){let n=parseInt(i,10);if(isNaN(n)){n="";for(let o=0;o<i.length;o++){const c=i.charCodeAt(o);if(i[o].search(mv.hanidec)!==-1)n+=A9.indexOf(i[o]);else for(const d in HE){const[h,f]=HE[d];c>=h&&c<=f&&(n+=c-h)}}return parseInt(n,10)}else return n}function Ar({numberingSystem:i},n=""){return new RegExp(`${mv[i||"latn"]}${n}`)}const x9="missing Intl.DateTimeFormat.formatToParts support";function st(i,n=o=>o){return{regex:i,deser:([o])=>n(C9(o))}}const E9=String.fromCharCode(160),f4=`[ ${E9}]`,p4=new RegExp(f4,"g");function S9(i){return i.replace(/\./g,"\\.?").replace(p4,f4)}function WE(i){return i.replace(/\./g,"").replace(p4," ").toLowerCase()}function Cr(i,n){return i===null?null:{regex:RegExp(i.map(S9).join("|")),deser:([o])=>i.findIndex(c=>WE(o)===WE(c))+n}}function qE(i,n){return{regex:i,deser:([,o,c])=>Sg(o,c),groups:n}}function $f(i){return{regex:i,deser:([n])=>n}}function D9(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function T9(i,n){const o=Ar(n),c=Ar(n,"{2}"),d=Ar(n,"{3}"),h=Ar(n,"{4}"),f=Ar(n,"{6}"),m=Ar(n,"{1,2}"),k=Ar(n,"{1,3}"),b=Ar(n,"{1,6}"),w=Ar(n,"{1,9}"),y=Ar(n,"{2,4}"),C=Ar(n,"{4,6}"),x=z=>({regex:RegExp(D9(z.val)),deser:([N])=>N,literal:!0}),T=(z=>{if(i.literal)return x(z);switch(z.val){case"G":return Cr(n.eras("short"),0);case"GG":return Cr(n.eras("long"),0);case"y":return st(b);case"yy":return st(y,Ub);case"yyyy":return st(h);case"yyyyy":return st(C);case"yyyyyy":return st(f);case"M":return st(m);case"MM":return st(c);case"MMM":return Cr(n.months("short",!0),1);case"MMMM":return Cr(n.months("long",!0),1);case"L":return st(m);case"LL":return st(c);case"LLL":return Cr(n.months("short",!1),1);case"LLLL":return Cr(n.months("long",!1),1);case"d":return st(m);case"dd":return st(c);case"o":return st(k);case"ooo":return st(d);case"HH":return st(c);case"H":return st(m);case"hh":return st(c);case"h":return st(m);case"mm":return st(c);case"m":return st(m);case"q":return st(m);case"qq":return st(c);case"s":return st(m);case"ss":return st(c);case"S":return st(k);case"SSS":return st(d);case"u":return $f(w);case"uu":return $f(m);case"uuu":return st(o);case"a":return Cr(n.meridiems(),0);case"kkkk":return st(h);case"kk":return st(y,Ub);case"W":return st(m);case"WW":return st(c);case"E":case"c":return st(o);case"EEE":return Cr(n.weekdays("short",!1),1);case"EEEE":return Cr(n.weekdays("long",!1),1);case"ccc":return Cr(n.weekdays("short",!0),1);case"cccc":return Cr(n.weekdays("long",!0),1);case"Z":case"ZZ":return qE(new RegExp(`([+-]${m.source})(?::(${c.source}))?`),2);case"ZZZ":return qE(new RegExp(`([+-]${m.source})(${c.source})?`),2);case"z":return $f(/[a-z_+-/]{1,256}?/i);case" ":return $f(/[^\S\n\r]/);default:return x(z)}})(i)||{invalidReason:x9};return T.token=i,T}const I9={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function M9(i,n,o){const{type:c,value:d}=i;if(c==="literal"){const k=/^\s+$/.test(d);return{literal:!k,val:k?" ":d}}const h=n[c];let f=c;c==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=o.hour12?"hour12":"hour24");let m=I9[f];if(typeof m=="object"&&(m=m[h]),m)return{literal:!1,val:m}}function N9(i){return[`^${i.map(o=>o.regex).reduce((o,c)=>`${o}(${c.source})`,"")}$`,i]}function O9(i,n,o){const c=i.match(n);if(c){const d={};let h=1;for(const f in o)if(nl(o,f)){const m=o[f],k=m.groups?m.groups+1:1;!m.literal&&m.token&&(d[m.token.val[0]]=m.deser(c.slice(h,h+k))),h+=k}return[c,d]}else return[c,{}]}function P9(i){const n=h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let o=null,c;return qe(i.z)||(o=Po.create(i.z)),qe(i.Z)||(o||(o=new ei(i.Z)),c=i.Z),qe(i.q)||(i.M=(i.q-1)*3+1),qe(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),qe(i.u)||(i.S=uv(i.u)),[Object.keys(i).reduce((h,f)=>{const m=n(f);return m&&(h[m]=i[f]),h},{}),o,c]}let mk=null;function B9(){return mk||(mk=Le.fromMillis(1555555555555)),mk}function L9(i,n){if(i.literal)return i;const o=Wn.macroTokenToFormatOpts(i.val),c=k4(o,n);return c==null||c.includes(void 0)?i:c}function g4(i,n){return Array.prototype.concat(...i.map(o=>L9(o,n)))}function m4(i,n,o){const c=g4(Wn.parseFormat(o),i),d=c.map(f=>T9(f,i)),h=d.find(f=>f.invalidReason);if(h)return{input:n,tokens:c,invalidReason:h.invalidReason};{const[f,m]=N9(d),k=RegExp(f,"i"),[b,w]=O9(n,k,m),[y,C,x]=w?P9(w):[null,null,void 0];if(nl(w,"a")&&nl(w,"H"))throw new Rd("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:c,regex:k,rawMatches:b,matches:w,result:y,zone:C,specificOffset:x}}}function z9(i,n,o){const{result:c,zone:d,specificOffset:h,invalidReason:f}=m4(i,n,o);return[c,d,h,f]}function k4(i,n){if(!i)return null;const c=Wn.create(n,i).dtFormatter(B9()),d=c.formatToParts(),h=c.resolvedOptions();return d.map(f=>M9(f,i,h))}const b4=[0,31,59,90,120,151,181,212,243,273,304,334],w4=[0,31,60,91,121,152,182,213,244,274,305,335];function ar(i,n){return new Tr("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${i}, which is invalid`)}function v4(i,n,o){const c=new Date(Date.UTC(i,n-1,o));i<100&&i>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const d=c.getUTCDay();return d===0?7:d}function _4(i,n,o){return o+(Lu(i)?w4:b4)[n-1]}function y4(i,n){const o=Lu(i)?w4:b4,c=o.findIndex(h=>h<n),d=n-o[c];return{month:c+1,day:d}}function Hb(i){const{year:n,month:o,day:c}=i,d=_4(n,o,c),h=v4(n,o,c);let f=Math.floor((d-h+10)/7),m;return f<1?(m=n-1,f=Qp(m)):f>Qp(n)?(m=n+1,f=1):m=n,{weekYear:m,weekNumber:f,weekday:h,...Dg(i)}}function GE(i){const{weekYear:n,weekNumber:o,weekday:c}=i,d=v4(n,1,4),h=Jd(n);let f=o*7+c-d-3,m;f<1?(m=n-1,f+=Jd(m)):f>h?(m=n+1,f-=Jd(n)):m=n;const{month:k,day:b}=y4(m,f);return{year:m,month:k,day:b,...Dg(i)}}function kk(i){const{year:n,month:o,day:c}=i,d=_4(n,o,c);return{year:n,ordinal:d,...Dg(i)}}function YE(i){const{year:n,ordinal:o}=i,{month:c,day:d}=y4(n,o);return{year:n,month:c,day:d,...Dg(i)}}function j9(i){const n=xg(i.weekYear),o=So(i.weekNumber,1,Qp(i.weekYear)),c=So(i.weekday,1,7);return n?o?c?!1:ar("weekday",i.weekday):ar("week",i.week):ar("weekYear",i.weekYear)}function R9(i){const n=xg(i.year),o=So(i.ordinal,1,Jd(i.year));return n?o?!1:ar("ordinal",i.ordinal):ar("year",i.year)}function A4(i){const n=xg(i.year),o=So(i.month,1,12),c=So(i.day,1,Zp(i.year,i.month));return n?o?c?!1:ar("day",i.day):ar("month",i.month):ar("year",i.year)}function C4(i){const{hour:n,minute:o,second:c,millisecond:d}=i,h=So(n,0,23)||n===24&&o===0&&c===0&&d===0,f=So(o,0,59),m=So(c,0,59),k=So(d,0,999);return h?f?m?k?!1:ar("millisecond",d):ar("second",c):ar("minute",o):ar("hour",n)}const bk="Invalid DateTime",KE=864e13;function Vf(i){return new Tr("unsupported zone",`the zone "${i.name}" is not supported`)}function wk(i){return i.weekData===null&&(i.weekData=Hb(i.c)),i.weekData}function ca(i,n){const o={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Le({...o,...n,old:o})}function x4(i,n,o){let c=i-n*60*1e3;const d=o.offset(c);if(n===d)return[c,n];c-=(d-n)*60*1e3;const h=o.offset(c);return d===h?[c,d]:[i-Math.min(d,h)*60*1e3,Math.max(d,h)]}function Uf(i,n){i+=n*60*1e3;const o=new Date(i);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function pp(i,n,o){return x4(Eg(i),n,o)}function ZE(i,n){const o=i.o,c=i.c.year+Math.trunc(n.years),d=i.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,h={...i.c,year:c,month:d,day:Math.min(i.c.day,Zp(c,d))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=Qe.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),m=Eg(h);let[k,b]=x4(m,o,i.zone);return f!==0&&(k+=f,b=i.zone.offset(k)),{ts:k,o:b}}function Nd(i,n,o,c,d,h){const{setZone:f,zone:m}=o;if(i&&Object.keys(i).length!==0||n){const k=n||m,b=Le.fromObject(i,{...o,zone:k,specificOffset:h});return f?b:b.setZone(m)}else return Le.invalid(new Tr("unparsable",`the input "${d}" can't be parsed as ${c}`))}function Hf(i,n,o=!0){return i.isValid?Wn.create(xt.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(i,n):null}function vk(i,n){const o=i.c.year>9999||i.c.year<0;let c="";return o&&i.c.year>=0&&(c+="+"),c+=on(i.c.year,o?6:4),n?(c+="-",c+=on(i.c.month),c+="-",c+=on(i.c.day)):(c+=on(i.c.month),c+=on(i.c.day)),c}function QE(i,n,o,c,d,h){let f=on(i.c.hour);return n?(f+=":",f+=on(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!o)&&(f+=":")):f+=on(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!o)&&(f+=on(i.c.second),(i.c.millisecond!==0||!c)&&(f+=".",f+=on(i.c.millisecond,3))),d&&(i.isOffsetFixed&&i.offset===0&&!h?f+="Z":i.o<0?(f+="-",f+=on(Math.trunc(-i.o/60)),f+=":",f+=on(Math.trunc(-i.o%60))):(f+="+",f+=on(Math.trunc(i.o/60)),f+=":",f+=on(Math.trunc(i.o%60)))),h&&(f+="["+i.zone.ianaName+"]"),f}const E4={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},F9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},S4=["year","month","day","hour","minute","second","millisecond"],V9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],U9=["year","ordinal","hour","minute","second","millisecond"];function JE(i){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!n)throw new TT(i);return n}function XE(i,n){const o=ms(n.zone,rn.defaultZone),c=xt.fromObject(n),d=rn.now();let h,f;if(qe(i.year))h=d;else{for(const b of S4)qe(i[b])&&(i[b]=E4[b]);const m=A4(i)||C4(i);if(m)return Le.invalid(m);const k=o.offset(d);[h,f]=pp(i,k,o)}return new Le({ts:h,zone:o,loc:c,o:f})}function e5(i,n,o){const c=qe(o.round)?!0:o.round,d=(f,m)=>(f=hv(f,c||o.calendary?0:2,!0),n.loc.clone(o).relFormatter(o).format(f,m)),h=f=>o.calendary?n.hasSame(i,f)?0:n.startOf(f).diff(i.startOf(f),f).get(f):n.diff(i,f).get(f);if(o.unit)return d(h(o.unit),o.unit);for(const f of o.units){const m=h(f);if(Math.abs(m)>=1)return d(m,f)}return d(i>n?-0:0,o.units[o.units.length-1])}function t5(i){let n={},o;return i.length>0&&typeof i[i.length-1]=="object"?(n=i[i.length-1],o=Array.from(i).slice(0,i.length-1)):o=Array.from(i),[n,o]}class Le{constructor(n){const o=n.zone||rn.defaultZone;let c=n.invalid||(Number.isNaN(n.ts)?new Tr("invalid input"):null)||(o.isValid?null:Vf(o));this.ts=qe(n.ts)?rn.now():n.ts;let d=null,h=null;if(!c)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(o))[d,h]=[n.old.c,n.old.o];else{const m=o.offset(this.ts);d=Uf(this.ts,m),c=Number.isNaN(d.year)?new Tr("invalid input"):null,d=c?null:d,h=c?null:m}this._zone=o,this.loc=n.loc||xt.create(),this.invalid=c,this.weekData=null,this.c=d,this.o=h,this.isLuxonDateTime=!0}static now(){return new Le({})}static local(){const[n,o]=t5(arguments),[c,d,h,f,m,k,b]=o;return XE({year:c,month:d,day:h,hour:f,minute:m,second:k,millisecond:b},n)}static utc(){const[n,o]=t5(arguments),[c,d,h,f,m,k,b]=o;return n.zone=ei.utcInstance,XE({year:c,month:d,day:h,hour:f,minute:m,second:k,millisecond:b},n)}static fromJSDate(n,o={}){const c=k8(n)?n.valueOf():NaN;if(Number.isNaN(c))return Le.invalid("invalid input");const d=ms(o.zone,rn.defaultZone);return d.isValid?new Le({ts:c,zone:d,loc:xt.fromObject(o)}):Le.invalid(Vf(d))}static fromMillis(n,o={}){if(Aa(n))return n<-KE||n>KE?Le.invalid("Timestamp out of range"):new Le({ts:n,zone:ms(o.zone,rn.defaultZone),loc:xt.fromObject(o)});throw new or(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,o={}){if(Aa(n))return new Le({ts:n*1e3,zone:ms(o.zone,rn.defaultZone),loc:xt.fromObject(o)});throw new or("fromSeconds requires a numerical input")}static fromObject(n,o={}){n=n||{};const c=ms(o.zone,rn.defaultZone);if(!c.isValid)return Le.invalid(Vf(c));const d=rn.now(),h=qe(o.specificOffset)?c.offset(d):o.specificOffset,f=Jp(n,JE),m=!qe(f.ordinal),k=!qe(f.year),b=!qe(f.month)||!qe(f.day),w=k||b,y=f.weekYear||f.weekNumber,C=xt.fromObject(o);if((w||m)&&y)throw new Rd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&m)throw new Rd("Can't mix ordinal dates with month/day");const x=y||f.weekday&&!w;let D,T,z=Uf(d,h);x?(D=V9,T=F9,z=Hb(z)):m?(D=U9,T=$9,z=kk(z)):(D=S4,T=E4);let N=!1;for(const ee of D){const oe=f[ee];qe(oe)?N?f[ee]=T[ee]:f[ee]=z[ee]:N=!0}const L=x?j9(f):m?R9(f):A4(f),S=L||C4(f);if(S)return Le.invalid(S);const F=x?GE(f):m?YE(f):f,[H,J]=pp(F,h,c),Y=new Le({ts:H,zone:c,o:J,loc:C});return f.weekday&&w&&n.weekday!==Y.weekday?Le.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${Y.toISO()}`):Y}static fromISO(n,o={}){const[c,d]=s9(n);return Nd(c,d,o,"ISO 8601",n)}static fromRFC2822(n,o={}){const[c,d]=a9(n);return Nd(c,d,o,"RFC 2822",n)}static fromHTTP(n,o={}){const[c,d]=c9(n);return Nd(c,d,o,"HTTP",o)}static fromFormat(n,o,c={}){if(qe(n)||qe(o))throw new or("fromFormat requires an input string and a format");const{locale:d=null,numberingSystem:h=null}=c,f=xt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),[m,k,b,w]=z9(f,n,o);return w?Le.invalid(w):Nd(m,k,c,`format ${o}`,n,b)}static fromString(n,o,c={}){return Le.fromFormat(n,o,c)}static fromSQL(n,o={}){const[c,d]=g9(n);return Nd(c,d,o,"SQL",n)}static invalid(n,o=null){if(!n)throw new or("need to specify a reason the DateTime is invalid");const c=n instanceof Tr?n:new Tr(n,o);if(rn.throwOnInvalid)throw new YR(c);return new Le({invalid:c})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,o={}){const c=k4(n,xt.fromObject(o));return c?c.map(d=>d?d.val:null).join(""):null}static expandFormat(n,o={}){return g4(Wn.parseFormat(n),xt.fromObject(o)).map(d=>d.val).join("")}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?wk(this).weekYear:NaN}get weekNumber(){return this.isValid?wk(this).weekNumber:NaN}get weekday(){return this.isValid?wk(this).weekday:NaN}get ordinal(){return this.isValid?kk(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ff.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ff.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ff.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ff.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,o=6e4,c=Eg(this.c),d=this.zone.offset(c-n),h=this.zone.offset(c+n),f=this.zone.offset(c-d*o),m=this.zone.offset(c-h*o);if(f===m)return[this];const k=c-f*o,b=c-m*o,w=Uf(k,f),y=Uf(b,m);return w.hour===y.hour&&w.minute===y.minute&&w.second===y.second&&w.millisecond===y.millisecond?[ca(this,{ts:k}),ca(this,{ts:b})]:[this]}get isInLeapYear(){return Lu(this.year)}get daysInMonth(){return Zp(this.year,this.month)}get daysInYear(){return this.isValid?Jd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Qp(this.weekYear):NaN}resolvedLocaleOptions(n={}){const{locale:o,numberingSystem:c,calendar:d}=Wn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:o,numberingSystem:c,outputCalendar:d}}toUTC(n=0,o={}){return this.setZone(ei.instance(n),o)}toLocal(){return this.setZone(rn.defaultZone)}setZone(n,{keepLocalTime:o=!1,keepCalendarTime:c=!1}={}){if(n=ms(n,rn.defaultZone),n.equals(this.zone))return this;if(n.isValid){let d=this.ts;if(o||c){const h=n.offset(this.ts),f=this.toObject();[d]=pp(f,h,n)}return ca(this,{ts:d,zone:n})}else return Le.invalid(Vf(n))}reconfigure({locale:n,numberingSystem:o,outputCalendar:c}={}){const d=this.loc.clone({locale:n,numberingSystem:o,outputCalendar:c});return ca(this,{loc:d})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const o=Jp(n,JE),c=!qe(o.weekYear)||!qe(o.weekNumber)||!qe(o.weekday),d=!qe(o.ordinal),h=!qe(o.year),f=!qe(o.month)||!qe(o.day),m=h||f,k=o.weekYear||o.weekNumber;if((m||d)&&k)throw new Rd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&d)throw new Rd("Can't mix ordinal dates with month/day");let b;c?b=GE({...Hb(this.c),...o}):qe(o.ordinal)?(b={...this.toObject(),...o},qe(o.day)&&(b.day=Math.min(Zp(b.year,b.month),b.day))):b=YE({...kk(this.c),...o});const[w,y]=pp(b,this.o,this.zone);return ca(this,{ts:w,o:y})}plus(n){if(!this.isValid)return this;const o=Qe.fromDurationLike(n);return ca(this,ZE(this,o))}minus(n){if(!this.isValid)return this;const o=Qe.fromDurationLike(n).negate();return ca(this,ZE(this,o))}startOf(n){if(!this.isValid)return this;const o={},c=Qe.normalizeUnit(n);switch(c){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(c==="weeks"&&(o.weekday=1),c==="quarters"){const d=Math.ceil(this.month/3);o.month=(d-1)*3+1}return this.set(o)}endOf(n){return this.isValid?this.plus({[n]:1}).startOf(n).minus(1):this}toFormat(n,o={}){return this.isValid?Wn.create(this.loc.redefaultToEN(o)).formatDateTimeFromString(this,n):bk}toLocaleString(n=Kp,o={}){return this.isValid?Wn.create(this.loc.clone(o),n).formatDateTime(this):bk}toLocaleParts(n={}){return this.isValid?Wn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:o=!1,suppressMilliseconds:c=!1,includeOffset:d=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const f=n==="extended";let m=vk(this,f);return m+="T",m+=QE(this,f,o,c,d,h),m}toISODate({format:n="extended"}={}){return this.isValid?vk(this,n==="extended"):null}toISOWeekDate(){return Hf(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:o=!1,includeOffset:c=!0,includePrefix:d=!1,extendedZone:h=!1,format:f="extended"}={}){return this.isValid?(d?"T":"")+QE(this,f==="extended",o,n,c,h):null}toRFC2822(){return Hf(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Hf(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?vk(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:o=!1,includeOffsetSpace:c=!0}={}){let d="HH:mm:ss.SSS";return(o||n)&&(c&&(d+=" "),o?d+="z":n&&(d+="ZZ")),Hf(this,d,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():bk}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const o={...this.c};return n.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this.loc.numberingSystem,o.locale=this.loc.locale),o}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,o="milliseconds",c={}){if(!this.isValid||!n.isValid)return Qe.invalid("created by diffing an invalid DateTime");const d={locale:this.locale,numberingSystem:this.numberingSystem,...c},h=b8(o).map(Qe.normalizeUnit),f=n.valueOf()>this.valueOf(),m=f?this:n,k=f?n:this,b=y9(m,k,h,d);return f?b.negate():b}diffNow(n="milliseconds",o={}){return this.diff(Le.now(),n,o)}until(n){return this.isValid?Vt.fromDateTimes(this,n):this}hasSame(n,o){if(!this.isValid)return!1;const c=n.valueOf(),d=this.setZone(n.zone,{keepLocalTime:!0});return d.startOf(o)<=c&&c<=d.endOf(o)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const o=n.base||Le.fromObject({},{zone:this.zone}),c=n.padding?this<o?-n.padding:n.padding:0;let d=["years","months","days","hours","minutes","seconds"],h=n.unit;return Array.isArray(n.unit)&&(d=n.unit,h=void 0),e5(o,this.plus(c),{...n,numeric:"always",units:d,unit:h})}toRelativeCalendar(n={}){return this.isValid?e5(n.base||Le.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Le.isDateTime))throw new or("min requires all arguments be DateTimes");return jE(n,o=>o.valueOf(),Math.min)}static max(...n){if(!n.every(Le.isDateTime))throw new or("max requires all arguments be DateTimes");return jE(n,o=>o.valueOf(),Math.max)}static fromFormatExplain(n,o,c={}){const{locale:d=null,numberingSystem:h=null}=c,f=xt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0});return m4(f,n,o)}static fromStringExplain(n,o,c={}){return Le.fromFormatExplain(n,o,c)}static get DATE_SHORT(){return Kp}static get DATE_MED(){return IT}static get DATE_MED_WITH_WEEKDAY(){return QR}static get DATE_FULL(){return MT}static get DATE_HUGE(){return NT}static get TIME_SIMPLE(){return OT}static get TIME_WITH_SECONDS(){return PT}static get TIME_WITH_SHORT_OFFSET(){return BT}static get TIME_WITH_LONG_OFFSET(){return LT}static get TIME_24_SIMPLE(){return zT}static get TIME_24_WITH_SECONDS(){return jT}static get TIME_24_WITH_SHORT_OFFSET(){return RT}static get TIME_24_WITH_LONG_OFFSET(){return FT}static get DATETIME_SHORT(){return $T}static get DATETIME_SHORT_WITH_SECONDS(){return VT}static get DATETIME_MED(){return UT}static get DATETIME_MED_WITH_SECONDS(){return HT}static get DATETIME_MED_WITH_WEEKDAY(){return JR}static get DATETIME_FULL(){return WT}static get DATETIME_FULL_WITH_SECONDS(){return qT}static get DATETIME_HUGE(){return GT}static get DATETIME_HUGE_WITH_SECONDS(){return YT}}function Od(i){if(Le.isDateTime(i))return i;if(i&&i.valueOf&&Aa(i.valueOf()))return Le.fromJSDate(i);if(i&&typeof i=="object")return Le.fromObject(i);throw new or(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const n5=["year","month","week","day","hour","minute","second"],Xp=i=>{const o=Le.fromISO(i).diffNow().shiftTo(...n5),c=n5.find(h=>o.get(h)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(o.as(c)),c)},D4="/Book-Chronicles/assets/like-21544d1e.png",H9=i=>{const n=/<oembed[^>]*>/g,o=i.match(n);if(o){const d=`<iframe src="${o[0].match(/url="([^"]*)"/)[1]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;i=i.replace(n,d)}return i};function W9(i){return{__html:H9(i||"")}}function T4(i){return R.jsx("div",{dangerouslySetInnerHTML:W9(i)})}function je(){return je=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},je.apply(this,arguments)}function Lt(i,n,{checkForDefaultPrevented:o=!0}={}){return function(d){if(i==null||i(d),o===!1||!d.defaultPrevented)return n==null?void 0:n(d)}}function q9(i,n){typeof i=="function"?i(n):i!=null&&(i.current=n)}function I4(...i){return n=>i.forEach(o=>q9(o,n))}function Vi(...i){return M.useCallback(I4(...i),i)}function kl(i,n=[]){let o=[];function c(h,f){const m=M.createContext(f),k=o.length;o=[...o,f];function b(y){const{scope:C,children:x,...D}=y,T=(C==null?void 0:C[i][k])||m,z=M.useMemo(()=>D,Object.values(D));return M.createElement(T.Provider,{value:z},x)}function w(y,C){const x=(C==null?void 0:C[i][k])||m,D=M.useContext(x);if(D)return D;if(f!==void 0)return f;throw new Error(`\`${y}\` must be used within \`${h}\``)}return b.displayName=h+"Provider",[b,w]}const d=()=>{const h=o.map(f=>M.createContext(f));return function(m){const k=(m==null?void 0:m[i])||h;return M.useMemo(()=>({[`__scope${i}`]:{...m,[i]:k}}),[m,k])}};return d.scopeName=i,[c,G9(d,...n)]}function G9(...i){const n=i[0];if(i.length===1)return n;const o=()=>{const c=i.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(h){const f=c.reduce((m,{useScope:k,scopeName:b})=>{const y=k(h)[`__scope${b}`];return{...m,...y}},{});return M.useMemo(()=>({[`__scope${n.scopeName}`]:f}),[f])}};return o.scopeName=n.scopeName,o}const yu=M.forwardRef((i,n)=>{const{children:o,...c}=i,d=M.Children.toArray(o),h=d.find(Y9);if(h){const f=h.props.children,m=d.map(k=>k===h?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:k);return M.createElement(Wb,je({},c,{ref:n}),M.isValidElement(f)?M.cloneElement(f,void 0,m):null)}return M.createElement(Wb,je({},c,{ref:n}),o)});yu.displayName="Slot";const Wb=M.forwardRef((i,n)=>{const{children:o,...c}=i;return M.isValidElement(o)?M.cloneElement(o,{...K9(c,o.props),ref:n?I4(n,o.ref):o.ref}):M.Children.count(o)>1?M.Children.only(null):null});Wb.displayName="SlotClone";const M4=({children:i})=>M.createElement(M.Fragment,null,i);function Y9(i){return M.isValidElement(i)&&i.type===M4}function K9(i,n){const o={...n};for(const c in n){const d=i[c],h=n[c];/^on[A-Z]/.test(c)?d&&h?o[c]=(...m)=>{h(...m),d(...m)}:d&&(o[c]=d):c==="style"?o[c]={...d,...h}:c==="className"&&(o[c]=[d,h].filter(Boolean).join(" "))}return{...i,...o}}const Z9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gn=Z9.reduce((i,n)=>{const o=M.forwardRef((c,d)=>{const{asChild:h,...f}=c,m=h?yu:n;return M.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),M.createElement(m,je({},f,{ref:d}))});return o.displayName=`Primitive.${n}`,{...i,[n]:o}},{});function Q9(i,n){i&&Pu.flushSync(()=>i.dispatchEvent(n))}function Bo(i){const n=M.useRef(i);return M.useEffect(()=>{n.current=i}),M.useMemo(()=>(...o)=>{var c;return(c=n.current)===null||c===void 0?void 0:c.call(n,...o)},[])}function J9(i,n=globalThis==null?void 0:globalThis.document){const o=Bo(i);M.useEffect(()=>{const c=d=>{d.key==="Escape"&&o(d)};return n.addEventListener("keydown",c),()=>n.removeEventListener("keydown",c)},[o,n])}const qb="dismissableLayer.update",X9="dismissableLayer.pointerDownOutside",eF="dismissableLayer.focusOutside";let i5;const tF=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N4=M.forwardRef((i,n)=>{var o;const{disableOutsidePointerEvents:c=!1,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:k,...b}=i,w=M.useContext(tF),[y,C]=M.useState(null),x=(o=y==null?void 0:y.ownerDocument)!==null&&o!==void 0?o:globalThis==null?void 0:globalThis.document,[,D]=M.useState({}),T=Vi(n,ee=>C(ee)),z=Array.from(w.layers),[N]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),L=z.indexOf(N),S=y?z.indexOf(y):-1,F=w.layersWithOutsidePointerEventsDisabled.size>0,H=S>=L,J=nF(ee=>{const oe=ee.target,de=[...w.branches].some(K=>K.contains(oe));!H||de||(h==null||h(ee),m==null||m(ee),ee.defaultPrevented||k==null||k())},x),Y=iF(ee=>{const oe=ee.target;[...w.branches].some(K=>K.contains(oe))||(f==null||f(ee),m==null||m(ee),ee.defaultPrevented||k==null||k())},x);return J9(ee=>{S===w.layers.size-1&&(d==null||d(ee),!ee.defaultPrevented&&k&&(ee.preventDefault(),k()))},x),M.useEffect(()=>{if(y)return c&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(i5=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(y)),w.layers.add(y),r5(),()=>{c&&w.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=i5)}},[y,x,c,w]),M.useEffect(()=>()=>{y&&(w.layers.delete(y),w.layersWithOutsidePointerEventsDisabled.delete(y),r5())},[y,w]),M.useEffect(()=>{const ee=()=>D({});return document.addEventListener(qb,ee),()=>document.removeEventListener(qb,ee)},[]),M.createElement(gn.div,je({},b,{ref:T,style:{pointerEvents:F?H?"auto":"none":void 0,...i.style},onFocusCapture:Lt(i.onFocusCapture,Y.onFocusCapture),onBlurCapture:Lt(i.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Lt(i.onPointerDownCapture,J.onPointerDownCapture)}))});function nF(i,n=globalThis==null?void 0:globalThis.document){const o=Bo(i),c=M.useRef(!1),d=M.useRef(()=>{});return M.useEffect(()=>{const h=m=>{if(m.target&&!c.current){let w=function(){O4(X9,o,b,{discrete:!0})};var k=w;const b={originalEvent:m};m.pointerType==="touch"?(n.removeEventListener("click",d.current),d.current=w,n.addEventListener("click",d.current,{once:!0})):w()}else n.removeEventListener("click",d.current);c.current=!1},f=window.setTimeout(()=>{n.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(f),n.removeEventListener("pointerdown",h),n.removeEventListener("click",d.current)}},[n,o]),{onPointerDownCapture:()=>c.current=!0}}function iF(i,n=globalThis==null?void 0:globalThis.document){const o=Bo(i),c=M.useRef(!1);return M.useEffect(()=>{const d=h=>{h.target&&!c.current&&O4(eF,o,{originalEvent:h},{discrete:!1})};return n.addEventListener("focusin",d),()=>n.removeEventListener("focusin",d)},[n,o]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function r5(){const i=new CustomEvent(qb);document.dispatchEvent(i)}function O4(i,n,o,{discrete:c}){const d=o.originalEvent.target,h=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:o});n&&d.addEventListener(i,n,{once:!0}),c?Q9(d,h):d.dispatchEvent(h)}const il=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},rF=aS["useId".toString()]||(()=>{});let oF=0;function Gc(i){const[n,o]=M.useState(rF());return il(()=>{i||o(c=>c??String(oF++))},[i]),i||(n?`radix-${n}`:"")}const sF=["top","right","bottom","left"],Os=Math.min,Li=Math.max,eg=Math.round,Wf=Math.floor,Ps=i=>({x:i,y:i}),aF={left:"right",right:"left",bottom:"top",top:"bottom"},cF={start:"end",end:"start"};function Gb(i,n,o){return Li(i,Os(n,o))}function Lo(i,n){return typeof i=="function"?i(n):i}function zo(i){return i.split("-")[0]}function bl(i){return i.split("-")[1]}function kv(i){return i==="x"?"y":"x"}function bv(i){return i==="y"?"height":"width"}function wl(i){return["top","bottom"].includes(zo(i))?"y":"x"}function wv(i){return kv(wl(i))}function lF(i,n,o){o===void 0&&(o=!1);const c=bl(i),d=wv(i),h=bv(d);let f=d==="x"?c===(o?"end":"start")?"right":"left":c==="start"?"bottom":"top";return n.reference[h]>n.floating[h]&&(f=tg(f)),[f,tg(f)]}function dF(i){const n=tg(i);return[Yb(i),n,Yb(n)]}function Yb(i){return i.replace(/start|end/g,n=>cF[n])}function uF(i,n,o){const c=["left","right"],d=["right","left"],h=["top","bottom"],f=["bottom","top"];switch(i){case"top":case"bottom":return o?n?d:c:n?c:d;case"left":case"right":return n?h:f;default:return[]}}function hF(i,n,o,c){const d=bl(i);let h=uF(zo(i),o==="start",c);return d&&(h=h.map(f=>f+"-"+d),n&&(h=h.concat(h.map(Yb)))),h}function tg(i){return i.replace(/left|right|bottom|top/g,n=>aF[n])}function fF(i){return{top:0,right:0,bottom:0,left:0,...i}}function P4(i){return typeof i!="number"?fF(i):{top:i,right:i,bottom:i,left:i}}function ng(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function o5(i,n,o){let{reference:c,floating:d}=i;const h=wl(n),f=wv(n),m=bv(f),k=zo(n),b=h==="y",w=c.x+c.width/2-d.width/2,y=c.y+c.height/2-d.height/2,C=c[m]/2-d[m]/2;let x;switch(k){case"top":x={x:w,y:c.y-d.height};break;case"bottom":x={x:w,y:c.y+c.height};break;case"right":x={x:c.x+c.width,y};break;case"left":x={x:c.x-d.width,y};break;default:x={x:c.x,y:c.y}}switch(bl(n)){case"start":x[f]-=C*(o&&b?-1:1);break;case"end":x[f]+=C*(o&&b?-1:1);break}return x}const pF=async(i,n,o)=>{const{placement:c="bottom",strategy:d="absolute",middleware:h=[],platform:f}=o,m=h.filter(Boolean),k=await(f.isRTL==null?void 0:f.isRTL(n));let b=await f.getElementRects({reference:i,floating:n,strategy:d}),{x:w,y}=o5(b,c,k),C=c,x={},D=0;for(let T=0;T<m.length;T++){const{name:z,fn:N}=m[T],{x:L,y:S,data:F,reset:H}=await N({x:w,y,initialPlacement:c,placement:C,strategy:d,middlewareData:x,rects:b,platform:f,elements:{reference:i,floating:n}});if(w=L??w,y=S??y,x={...x,[z]:{...x[z],...F}},H&&D<=50){D++,typeof H=="object"&&(H.placement&&(C=H.placement),H.rects&&(b=H.rects===!0?await f.getElementRects({reference:i,floating:n,strategy:d}):H.rects),{x:w,y}=o5(b,C,k)),T=-1;continue}}return{x:w,y,placement:C,strategy:d,middlewareData:x}};async function Au(i,n){var o;n===void 0&&(n={});const{x:c,y:d,platform:h,rects:f,elements:m,strategy:k}=i,{boundary:b="clippingAncestors",rootBoundary:w="viewport",elementContext:y="floating",altBoundary:C=!1,padding:x=0}=Lo(n,i),D=P4(x),z=m[C?y==="floating"?"reference":"floating":y],N=ng(await h.getClippingRect({element:(o=await(h.isElement==null?void 0:h.isElement(z)))==null||o?z:z.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(m.floating)),boundary:b,rootBoundary:w,strategy:k})),L=y==="floating"?{...f.floating,x:c,y:d}:f.reference,S=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m.floating)),F=await(h.isElement==null?void 0:h.isElement(S))?await(h.getScale==null?void 0:h.getScale(S))||{x:1,y:1}:{x:1,y:1},H=ng(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({rect:L,offsetParent:S,strategy:k}):L);return{top:(N.top-H.top+D.top)/F.y,bottom:(H.bottom-N.bottom+D.bottom)/F.y,left:(N.left-H.left+D.left)/F.x,right:(H.right-N.right+D.right)/F.x}}const Kb=i=>({name:"arrow",options:i,async fn(n){const{x:o,y:c,placement:d,rects:h,platform:f,elements:m,middlewareData:k}=n,{element:b,padding:w=0}=Lo(i,n)||{};if(b==null)return{};const y=P4(w),C={x:o,y:c},x=wv(d),D=bv(x),T=await f.getDimensions(b),z=x==="y",N=z?"top":"left",L=z?"bottom":"right",S=z?"clientHeight":"clientWidth",F=h.reference[D]+h.reference[x]-C[x]-h.floating[D],H=C[x]-h.reference[x],J=await(f.getOffsetParent==null?void 0:f.getOffsetParent(b));let Y=J?J[S]:0;(!Y||!await(f.isElement==null?void 0:f.isElement(J)))&&(Y=m.floating[S]||h.floating[D]);const ee=F/2-H/2,oe=Y/2-T[D]/2-1,de=Os(y[N],oe),K=Os(y[L],oe),Q=de,q=Y-T[D]-K,U=Y/2-T[D]/2+ee,W=Gb(Q,U,q),X=!k.arrow&&bl(d)!=null&&U!=W&&h.reference[D]/2-(U<Q?de:K)-T[D]/2<0,se=X?U<Q?U-Q:U-q:0;return{[x]:C[x]+se,data:{[x]:W,centerOffset:U-W-se,...X&&{alignmentOffset:se}},reset:X}}}),B4=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(n){var o,c;const{placement:d,middlewareData:h,rects:f,initialPlacement:m,platform:k,elements:b}=n,{mainAxis:w=!0,crossAxis:y=!0,fallbackPlacements:C,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:T=!0,...z}=Lo(i,n);if((o=h.arrow)!=null&&o.alignmentOffset)return{};const N=zo(d),L=zo(m)===m,S=await(k.isRTL==null?void 0:k.isRTL(b.floating)),F=C||(L||!T?[tg(m)]:dF(m));!C&&D!=="none"&&F.push(...hF(m,T,D,S));const H=[m,...F],J=await Au(n,z),Y=[];let ee=((c=h.flip)==null?void 0:c.overflows)||[];if(w&&Y.push(J[N]),y){const Q=lF(d,f,S);Y.push(J[Q[0]],J[Q[1]])}if(ee=[...ee,{placement:d,overflows:Y}],!Y.every(Q=>Q<=0)){var oe,de;const Q=(((oe=h.flip)==null?void 0:oe.index)||0)+1,q=H[Q];if(q)return{data:{index:Q,overflows:ee},reset:{placement:q}};let U=(de=ee.filter(W=>W.overflows[0]<=0).sort((W,X)=>W.overflows[1]-X.overflows[1])[0])==null?void 0:de.placement;if(!U)switch(x){case"bestFit":{var K;const W=(K=ee.map(X=>[X.placement,X.overflows.filter(se=>se>0).reduce((se,re)=>se+re,0)]).sort((X,se)=>X[1]-se[1])[0])==null?void 0:K[0];W&&(U=W);break}case"initialPlacement":U=m;break}if(d!==U)return{reset:{placement:U}}}return{}}}};function s5(i,n){return{top:i.top-n.height,right:i.right-n.width,bottom:i.bottom-n.height,left:i.left-n.width}}function a5(i){return sF.some(n=>i[n]>=0)}const gF=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(n){const{rects:o}=n,{strategy:c="referenceHidden",...d}=Lo(i,n);switch(c){case"referenceHidden":{const h=await Au(n,{...d,elementContext:"reference"}),f=s5(h,o.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:a5(f)}}}case"escaped":{const h=await Au(n,{...d,altBoundary:!0}),f=s5(h,o.floating);return{data:{escapedOffsets:f,escaped:a5(f)}}}default:return{}}}}};async function mF(i,n){const{placement:o,platform:c,elements:d}=i,h=await(c.isRTL==null?void 0:c.isRTL(d.floating)),f=zo(o),m=bl(o),k=wl(o)==="y",b=["left","top"].includes(f)?-1:1,w=h&&k?-1:1,y=Lo(n,i);let{mainAxis:C,crossAxis:x,alignmentAxis:D}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return m&&typeof D=="number"&&(x=m==="end"?D*-1:D),k?{x:x*w,y:C*b}:{x:C*b,y:x*w}}const L4=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(n){var o,c;const{x:d,y:h,placement:f,middlewareData:m}=n,k=await mF(n,i);return f===((o=m.offset)==null?void 0:o.placement)&&(c=m.arrow)!=null&&c.alignmentOffset?{}:{x:d+k.x,y:h+k.y,data:{...k,placement:f}}}}},z4=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(n){const{x:o,y:c,placement:d}=n,{mainAxis:h=!0,crossAxis:f=!1,limiter:m={fn:z=>{let{x:N,y:L}=z;return{x:N,y:L}}},...k}=Lo(i,n),b={x:o,y:c},w=await Au(n,k),y=wl(zo(d)),C=kv(y);let x=b[C],D=b[y];if(h){const z=C==="y"?"top":"left",N=C==="y"?"bottom":"right",L=x+w[z],S=x-w[N];x=Gb(L,x,S)}if(f){const z=y==="y"?"top":"left",N=y==="y"?"bottom":"right",L=D+w[z],S=D-w[N];D=Gb(L,D,S)}const T=m.fn({...n,[C]:x,[y]:D});return{...T,data:{x:T.x-o,y:T.y-c}}}}},kF=function(i){return i===void 0&&(i={}),{options:i,fn(n){const{x:o,y:c,placement:d,rects:h,middlewareData:f}=n,{offset:m=0,mainAxis:k=!0,crossAxis:b=!0}=Lo(i,n),w={x:o,y:c},y=wl(d),C=kv(y);let x=w[C],D=w[y];const T=Lo(m,n),z=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(k){const S=C==="y"?"height":"width",F=h.reference[C]-h.floating[S]+z.mainAxis,H=h.reference[C]+h.reference[S]-z.mainAxis;x<F?x=F:x>H&&(x=H)}if(b){var N,L;const S=C==="y"?"width":"height",F=["top","left"].includes(zo(d)),H=h.reference[y]-h.floating[S]+(F&&((N=f.offset)==null?void 0:N[y])||0)+(F?0:z.crossAxis),J=h.reference[y]+h.reference[S]+(F?0:((L=f.offset)==null?void 0:L[y])||0)-(F?z.crossAxis:0);D<H?D=H:D>J&&(D=J)}return{[C]:x,[y]:D}}}},bF=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(n){const{placement:o,rects:c,platform:d,elements:h}=n,{apply:f=()=>{},...m}=Lo(i,n),k=await Au(n,m),b=zo(o),w=bl(o),y=wl(o)==="y",{width:C,height:x}=c.floating;let D,T;b==="top"||b==="bottom"?(D=b,T=w===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(T=b,D=w==="end"?"top":"bottom");const z=x-k[D],N=C-k[T],L=!n.middlewareData.shift;let S=z,F=N;if(y){const J=C-k.left-k.right;F=w||L?Os(N,J):J}else{const J=x-k.top-k.bottom;S=w||L?Os(z,J):J}if(L&&!w){const J=Li(k.left,0),Y=Li(k.right,0),ee=Li(k.top,0),oe=Li(k.bottom,0);y?F=C-2*(J!==0||Y!==0?J+Y:Li(k.left,k.right)):S=x-2*(ee!==0||oe!==0?ee+oe:Li(k.top,k.bottom))}await f({...n,availableWidth:F,availableHeight:S});const H=await d.getDimensions(h.floating);return C!==H.width||x!==H.height?{reset:{rects:!0}}:{}}}};function Bs(i){return j4(i)?(i.nodeName||"").toLowerCase():"#document"}function Fi(i){var n;return(i==null||(n=i.ownerDocument)==null?void 0:n.defaultView)||window}function Vo(i){var n;return(n=(j4(i)?i.ownerDocument:i.document)||window.document)==null?void 0:n.documentElement}function j4(i){return i instanceof Node||i instanceof Fi(i).Node}function jo(i){return i instanceof Element||i instanceof Fi(i).Element}function io(i){return i instanceof HTMLElement||i instanceof Fi(i).HTMLElement}function c5(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Fi(i).ShadowRoot}function Ru(i){const{overflow:n,overflowX:o,overflowY:c,display:d}=ur(i);return/auto|scroll|overlay|hidden|clip/.test(n+c+o)&&!["inline","contents"].includes(d)}function wF(i){return["table","td","th"].includes(Bs(i))}function vv(i){const n=_v(),o=ur(i);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!n&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!n&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(c=>(o.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(o.contain||"").includes(c))}function vF(i){let n=rl(i);for(;io(n)&&!Tg(n);){if(vv(n))return n;n=rl(n)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tg(i){return["html","body","#document"].includes(Bs(i))}function ur(i){return Fi(i).getComputedStyle(i)}function Ig(i){return jo(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function rl(i){if(Bs(i)==="html")return i;const n=i.assignedSlot||i.parentNode||c5(i)&&i.host||Vo(i);return c5(n)?n.host:n}function R4(i){const n=rl(i);return Tg(n)?i.ownerDocument?i.ownerDocument.body:i.body:io(n)&&Ru(n)?n:R4(n)}function Cu(i,n,o){var c;n===void 0&&(n=[]),o===void 0&&(o=!0);const d=R4(i),h=d===((c=i.ownerDocument)==null?void 0:c.body),f=Fi(d);return h?n.concat(f,f.visualViewport||[],Ru(d)?d:[],f.frameElement&&o?Cu(f.frameElement):[]):n.concat(d,Cu(d,[],o))}function F4(i){const n=ur(i);let o=parseFloat(n.width)||0,c=parseFloat(n.height)||0;const d=io(i),h=d?i.offsetWidth:o,f=d?i.offsetHeight:c,m=eg(o)!==h||eg(c)!==f;return m&&(o=h,c=f),{width:o,height:c,$:m}}function yv(i){return jo(i)?i:i.contextElement}function Yc(i){const n=yv(i);if(!io(n))return Ps(1);const o=n.getBoundingClientRect(),{width:c,height:d,$:h}=F4(n);let f=(h?eg(o.width):o.width)/c,m=(h?eg(o.height):o.height)/d;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const _F=Ps(0);function $4(i){const n=Fi(i);return!_v()||!n.visualViewport?_F:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yF(i,n,o){return n===void 0&&(n=!1),!o||n&&o!==Fi(i)?!1:n}function Ta(i,n,o,c){n===void 0&&(n=!1),o===void 0&&(o=!1);const d=i.getBoundingClientRect(),h=yv(i);let f=Ps(1);n&&(c?jo(c)&&(f=Yc(c)):f=Yc(i));const m=yF(h,o,c)?$4(h):Ps(0);let k=(d.left+m.x)/f.x,b=(d.top+m.y)/f.y,w=d.width/f.x,y=d.height/f.y;if(h){const C=Fi(h),x=c&&jo(c)?Fi(c):c;let D=C.frameElement;for(;D&&c&&x!==C;){const T=Yc(D),z=D.getBoundingClientRect(),N=ur(D),L=z.left+(D.clientLeft+parseFloat(N.paddingLeft))*T.x,S=z.top+(D.clientTop+parseFloat(N.paddingTop))*T.y;k*=T.x,b*=T.y,w*=T.x,y*=T.y,k+=L,b+=S,D=Fi(D).frameElement}}return ng({width:w,height:y,x:k,y:b})}function AF(i){let{rect:n,offsetParent:o,strategy:c}=i;const d=io(o),h=Vo(o);if(o===h)return n;let f={scrollLeft:0,scrollTop:0},m=Ps(1);const k=Ps(0);if((d||!d&&c!=="fixed")&&((Bs(o)!=="body"||Ru(h))&&(f=Ig(o)),io(o))){const b=Ta(o);m=Yc(o),k.x=b.x+o.clientLeft,k.y=b.y+o.clientTop}return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+k.x,y:n.y*m.y-f.scrollTop*m.y+k.y}}function CF(i){return Array.from(i.getClientRects())}function V4(i){return Ta(Vo(i)).left+Ig(i).scrollLeft}function xF(i){const n=Vo(i),o=Ig(i),c=i.ownerDocument.body,d=Li(n.scrollWidth,n.clientWidth,c.scrollWidth,c.clientWidth),h=Li(n.scrollHeight,n.clientHeight,c.scrollHeight,c.clientHeight);let f=-o.scrollLeft+V4(i);const m=-o.scrollTop;return ur(c).direction==="rtl"&&(f+=Li(n.clientWidth,c.clientWidth)-d),{width:d,height:h,x:f,y:m}}function EF(i,n){const o=Fi(i),c=Vo(i),d=o.visualViewport;let h=c.clientWidth,f=c.clientHeight,m=0,k=0;if(d){h=d.width,f=d.height;const b=_v();(!b||b&&n==="fixed")&&(m=d.offsetLeft,k=d.offsetTop)}return{width:h,height:f,x:m,y:k}}function SF(i,n){const o=Ta(i,!0,n==="fixed"),c=o.top+i.clientTop,d=o.left+i.clientLeft,h=io(i)?Yc(i):Ps(1),f=i.clientWidth*h.x,m=i.clientHeight*h.y,k=d*h.x,b=c*h.y;return{width:f,height:m,x:k,y:b}}function l5(i,n,o){let c;if(n==="viewport")c=EF(i,o);else if(n==="document")c=xF(Vo(i));else if(jo(n))c=SF(n,o);else{const d=$4(i);c={...n,x:n.x-d.x,y:n.y-d.y}}return ng(c)}function U4(i,n){const o=rl(i);return o===n||!jo(o)||Tg(o)?!1:ur(o).position==="fixed"||U4(o,n)}function DF(i,n){const o=n.get(i);if(o)return o;let c=Cu(i,[],!1).filter(m=>jo(m)&&Bs(m)!=="body"),d=null;const h=ur(i).position==="fixed";let f=h?rl(i):i;for(;jo(f)&&!Tg(f);){const m=ur(f),k=vv(f);!k&&m.position==="fixed"&&(d=null),(h?!k&&!d:!k&&m.position==="static"&&!!d&&["absolute","fixed"].includes(d.position)||Ru(f)&&!k&&U4(i,f))?c=c.filter(w=>w!==f):d=m,f=rl(f)}return n.set(i,c),c}function TF(i){let{element:n,boundary:o,rootBoundary:c,strategy:d}=i;const f=[...o==="clippingAncestors"?DF(n,this._c):[].concat(o),c],m=f[0],k=f.reduce((b,w)=>{const y=l5(n,w,d);return b.top=Li(y.top,b.top),b.right=Os(y.right,b.right),b.bottom=Os(y.bottom,b.bottom),b.left=Li(y.left,b.left),b},l5(n,m,d));return{width:k.right-k.left,height:k.bottom-k.top,x:k.left,y:k.top}}function IF(i){return F4(i)}function MF(i,n,o){const c=io(n),d=Vo(n),h=o==="fixed",f=Ta(i,!0,h,n);let m={scrollLeft:0,scrollTop:0};const k=Ps(0);if(c||!c&&!h)if((Bs(n)!=="body"||Ru(d))&&(m=Ig(n)),c){const b=Ta(n,!0,h,n);k.x=b.x+n.clientLeft,k.y=b.y+n.clientTop}else d&&(k.x=V4(d));return{x:f.left+m.scrollLeft-k.x,y:f.top+m.scrollTop-k.y,width:f.width,height:f.height}}function d5(i,n){return!io(i)||ur(i).position==="fixed"?null:n?n(i):i.offsetParent}function H4(i,n){const o=Fi(i);if(!io(i))return o;let c=d5(i,n);for(;c&&wF(c)&&ur(c).position==="static";)c=d5(c,n);return c&&(Bs(c)==="html"||Bs(c)==="body"&&ur(c).position==="static"&&!vv(c))?o:c||vF(i)||o}const NF=async function(i){let{reference:n,floating:o,strategy:c}=i;const d=this.getOffsetParent||H4,h=this.getDimensions;return{reference:MF(n,await d(o),c),floating:{x:0,y:0,...await h(o)}}};function OF(i){return ur(i).direction==="rtl"}const PF={convertOffsetParentRelativeRectToViewportRelativeRect:AF,getDocumentElement:Vo,getClippingRect:TF,getOffsetParent:H4,getElementRects:NF,getClientRects:CF,getDimensions:IF,getScale:Yc,isElement:jo,isRTL:OF};function BF(i,n){let o=null,c;const d=Vo(i);function h(){clearTimeout(c),o&&o.disconnect(),o=null}function f(m,k){m===void 0&&(m=!1),k===void 0&&(k=1),h();const{left:b,top:w,width:y,height:C}=i.getBoundingClientRect();if(m||n(),!y||!C)return;const x=Wf(w),D=Wf(d.clientWidth-(b+y)),T=Wf(d.clientHeight-(w+C)),z=Wf(b),L={rootMargin:-x+"px "+-D+"px "+-T+"px "+-z+"px",threshold:Li(0,Os(1,k))||1};let S=!0;function F(H){const J=H[0].intersectionRatio;if(J!==k){if(!S)return f();J?f(!1,J):c=setTimeout(()=>{f(!1,1e-7)},100)}S=!1}try{o=new IntersectionObserver(F,{...L,root:d.ownerDocument})}catch{o=new IntersectionObserver(F,L)}o.observe(i)}return f(!0),h}function W4(i,n,o,c){c===void 0&&(c={});const{ancestorScroll:d=!0,ancestorResize:h=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:k=!1}=c,b=yv(i),w=d||h?[...b?Cu(b):[],...Cu(n)]:[];w.forEach(N=>{d&&N.addEventListener("scroll",o,{passive:!0}),h&&N.addEventListener("resize",o)});const y=b&&m?BF(b,o):null;let C=-1,x=null;f&&(x=new ResizeObserver(N=>{let[L]=N;L&&L.target===b&&x&&(x.unobserve(n),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{x&&x.observe(n)})),o()}),b&&!k&&x.observe(b),x.observe(n));let D,T=k?Ta(i):null;k&&z();function z(){const N=Ta(i);T&&(N.x!==T.x||N.y!==T.y||N.width!==T.width||N.height!==T.height)&&o(),T=N,D=requestAnimationFrame(z)}return o(),()=>{w.forEach(N=>{d&&N.removeEventListener("scroll",o),h&&N.removeEventListener("resize",o)}),y&&y(),x&&x.disconnect(),x=null,k&&cancelAnimationFrame(D)}}const Zb=(i,n,o)=>{const c=new Map,d={platform:PF,...o},h={...d.platform,_c:c};return pF(i,n,{...d,platform:h})},LF=i=>{function n(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:i,fn(o){const{element:c,padding:d}=typeof i=="function"?i(o):i;return c&&n(c)?c.current!=null?Kb({element:c.current,padding:d}).fn(o):{}:c?Kb({element:c,padding:d}).fn(o):{}}}};var gp=typeof document<"u"?M.useLayoutEffect:M.useEffect;function ig(i,n){if(i===n)return!0;if(typeof i!=typeof n)return!1;if(typeof i=="function"&&i.toString()===n.toString())return!0;let o,c,d;if(i&&n&&typeof i=="object"){if(Array.isArray(i)){if(o=i.length,o!=n.length)return!1;for(c=o;c--!==0;)if(!ig(i[c],n[c]))return!1;return!0}if(d=Object.keys(i),o=d.length,o!==Object.keys(n).length)return!1;for(c=o;c--!==0;)if(!{}.hasOwnProperty.call(n,d[c]))return!1;for(c=o;c--!==0;){const h=d[c];if(!(h==="_owner"&&i.$$typeof)&&!ig(i[h],n[h]))return!1}return!0}return i!==i&&n!==n}function q4(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function u5(i,n){const o=q4(i);return Math.round(n*o)/o}function h5(i){const n=M.useRef(i);return gp(()=>{n.current=i}),n}function zF(i){i===void 0&&(i={});const{placement:n="bottom",strategy:o="absolute",middleware:c=[],platform:d,elements:{reference:h,floating:f}={},transform:m=!0,whileElementsMounted:k,open:b}=i,[w,y]=M.useState({x:0,y:0,strategy:o,placement:n,middlewareData:{},isPositioned:!1}),[C,x]=M.useState(c);ig(C,c)||x(c);const[D,T]=M.useState(null),[z,N]=M.useState(null),L=M.useCallback(X=>{X!=J.current&&(J.current=X,T(X))},[T]),S=M.useCallback(X=>{X!==Y.current&&(Y.current=X,N(X))},[N]),F=h||D,H=f||z,J=M.useRef(null),Y=M.useRef(null),ee=M.useRef(w),oe=h5(k),de=h5(d),K=M.useCallback(()=>{if(!J.current||!Y.current)return;const X={placement:n,strategy:o,middleware:C};de.current&&(X.platform=de.current),Zb(J.current,Y.current,X).then(se=>{const re={...se,isPositioned:!0};Q.current&&!ig(ee.current,re)&&(ee.current=re,Pu.flushSync(()=>{y(re)}))})},[C,n,o,de]);gp(()=>{b===!1&&ee.current.isPositioned&&(ee.current.isPositioned=!1,y(X=>({...X,isPositioned:!1})))},[b]);const Q=M.useRef(!1);gp(()=>(Q.current=!0,()=>{Q.current=!1}),[]),gp(()=>{if(F&&(J.current=F),H&&(Y.current=H),F&&H){if(oe.current)return oe.current(F,H,K);K()}},[F,H,K,oe]);const q=M.useMemo(()=>({reference:J,floating:Y,setReference:L,setFloating:S}),[L,S]),U=M.useMemo(()=>({reference:F,floating:H}),[F,H]),W=M.useMemo(()=>{const X={position:o,left:0,top:0};if(!U.floating)return X;const se=u5(U.floating,w.x),re=u5(U.floating,w.y);return m?{...X,transform:"translate("+se+"px, "+re+"px)",...q4(U.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:se,top:re}},[o,m,U.floating,w.x,w.y]);return M.useMemo(()=>({...w,update:K,refs:q,elements:U,floatingStyles:W}),[w,K,q,U,W])}const jF=M.forwardRef((i,n)=>{const{children:o,width:c=10,height:d=5,...h}=i;return M.createElement(gn.svg,je({},h,{ref:n,width:c,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),i.asChild?o:M.createElement("polygon",{points:"0,0 30,0 15,10"}))}),RF=jF;function FF(i){const[n,o]=M.useState(void 0);return il(()=>{if(i){o({width:i.offsetWidth,height:i.offsetHeight});const c=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const h=d[0];let f,m;if("borderBoxSize"in h){const k=h.borderBoxSize,b=Array.isArray(k)?k[0]:k;f=b.inlineSize,m=b.blockSize}else f=i.offsetWidth,m=i.offsetHeight;o({width:f,height:m})});return c.observe(i,{box:"border-box"}),()=>c.unobserve(i)}else o(void 0)},[i]),n}const G4="Popper",[Y4,K4]=kl(G4),[$F,Z4]=Y4(G4),VF=i=>{const{__scopePopper:n,children:o}=i,[c,d]=M.useState(null);return M.createElement($F,{scope:n,anchor:c,onAnchorChange:d},o)},UF="PopperAnchor",HF=M.forwardRef((i,n)=>{const{__scopePopper:o,virtualRef:c,...d}=i,h=Z4(UF,o),f=M.useRef(null),m=Vi(n,f);return M.useEffect(()=>{h.onAnchorChange((c==null?void 0:c.current)||f.current)}),c?null:M.createElement(gn.div,je({},d,{ref:m}))}),Q4="PopperContent",[WF,qF]=Y4(Q4),GF=M.forwardRef((i,n)=>{var o,c,d,h,f,m,k,b;const{__scopePopper:w,side:y="bottom",sideOffset:C=0,align:x="center",alignOffset:D=0,arrowPadding:T=0,avoidCollisions:z=!0,collisionBoundary:N=[],collisionPadding:L=0,sticky:S="partial",hideWhenDetached:F=!1,updatePositionStrategy:H="optimized",onPlaced:J,...Y}=i,ee=Z4(Q4,w),[oe,de]=M.useState(null),K=Vi(n,lt=>de(lt)),[Q,q]=M.useState(null),U=FF(Q),W=(o=U==null?void 0:U.width)!==null&&o!==void 0?o:0,X=(c=U==null?void 0:U.height)!==null&&c!==void 0?c:0,se=y+(x!=="center"?"-"+x:""),re=typeof L=="number"?L:{top:0,right:0,bottom:0,left:0,...L},ie=Array.isArray(N)?N:[N],pe=ie.length>0,ge={padding:re,boundary:ie.filter(QF),altBoundary:pe},{refs:Se,floatingStyles:nt,placement:wt,isPositioned:it,middlewareData:Ee}=zF({strategy:"fixed",placement:se,whileElementsMounted:(...lt)=>W4(...lt,{animationFrame:H==="always"}),elements:{reference:ee.anchor},middleware:[L4({mainAxis:C+X,alignmentAxis:D}),z&&z4({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?kF():void 0,...ge}),z&&B4({...ge}),bF({...ge,apply:({elements:lt,rects:Mt,availableWidth:en,availableHeight:fr})=>{const{width:Rt,height:Nt}=Mt.reference,Fe=lt.floating.style;Fe.setProperty("--radix-popper-available-width",`${en}px`),Fe.setProperty("--radix-popper-available-height",`${fr}px`),Fe.setProperty("--radix-popper-anchor-width",`${Rt}px`),Fe.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),Q&&LF({element:Q,padding:T}),JF({arrowWidth:W,arrowHeight:X}),F&&gF({strategy:"referenceHidden",...ge})]}),[an,Me]=J4(wt),It=Bo(J);il(()=>{it&&(It==null||It())},[it,It]);const oi=(d=Ee.arrow)===null||d===void 0?void 0:d.x,_i=(h=Ee.arrow)===null||h===void 0?void 0:h.y,hr=((f=Ee.arrow)===null||f===void 0?void 0:f.centerOffset)!==0,[Wi,yi]=M.useState();return il(()=>{oe&&yi(window.getComputedStyle(oe).zIndex)},[oe]),M.createElement("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...nt,transform:it?nt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Wi,"--radix-popper-transform-origin":[(m=Ee.transformOrigin)===null||m===void 0?void 0:m.x,(k=Ee.transformOrigin)===null||k===void 0?void 0:k.y].join(" ")},dir:i.dir},M.createElement(WF,{scope:w,placedSide:an,onArrowChange:q,arrowX:oi,arrowY:_i,shouldHideArrow:hr},M.createElement(gn.div,je({"data-side":an,"data-align":Me},Y,{ref:K,style:{...Y.style,animation:it?void 0:"none",opacity:(b=Ee.hide)!==null&&b!==void 0&&b.referenceHidden?0:void 0}}))))}),YF="PopperArrow",KF={top:"bottom",right:"left",bottom:"top",left:"right"},ZF=M.forwardRef(function(n,o){const{__scopePopper:c,...d}=n,h=qF(YF,c),f=KF[h.placedSide];return M.createElement("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0}},M.createElement(RF,je({},d,{ref:o,style:{...d.style,display:"block"}})))});function QF(i){return i!==null}const JF=i=>({name:"transformOrigin",options:i,fn(n){var o,c,d,h,f;const{placement:m,rects:k,middlewareData:b}=n,y=((o=b.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,C=y?0:i.arrowWidth,x=y?0:i.arrowHeight,[D,T]=J4(m),z={start:"0%",center:"50%",end:"100%"}[T],N=((c=(d=b.arrow)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0)+C/2,L=((h=(f=b.arrow)===null||f===void 0?void 0:f.y)!==null&&h!==void 0?h:0)+x/2;let S="",F="";return D==="bottom"?(S=y?z:`${N}px`,F=`${-x}px`):D==="top"?(S=y?z:`${N}px`,F=`${k.floating.height+x}px`):D==="right"?(S=`${-x}px`,F=y?z:`${L}px`):D==="left"&&(S=`${k.floating.width+x}px`,F=y?z:`${L}px`),{data:{x:S,y:F}}}});function J4(i){const[n,o="center"]=i.split("-");return[n,o]}const XF=VF,e$=HF,t$=GF,n$=ZF,X4=M.forwardRef((i,n)=>{var o;const{container:c=globalThis==null||(o=globalThis.document)===null||o===void 0?void 0:o.body,...d}=i;return c?cj.createPortal(M.createElement(gn.div,je({},d,{ref:n})),c):null});function i$(i,n){return M.useReducer((o,c)=>{const d=n[o][c];return d??o},i)}const Oa=i=>{const{present:n,children:o}=i,c=r$(n),d=typeof o=="function"?o({present:c.isPresent}):M.Children.only(o),h=Vi(c.ref,d.ref);return typeof o=="function"||c.isPresent?M.cloneElement(d,{ref:h}):null};Oa.displayName="Presence";function r$(i){const[n,o]=M.useState(),c=M.useRef({}),d=M.useRef(i),h=M.useRef("none"),f=i?"mounted":"unmounted",[m,k]=i$(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const b=qf(c.current);h.current=m==="mounted"?b:"none"},[m]),il(()=>{const b=c.current,w=d.current;if(w!==i){const C=h.current,x=qf(b);i?k("MOUNT"):x==="none"||(b==null?void 0:b.display)==="none"?k("UNMOUNT"):k(w&&C!==x?"ANIMATION_OUT":"UNMOUNT"),d.current=i}},[i,k]),il(()=>{if(n){const b=y=>{const x=qf(c.current).includes(y.animationName);y.target===n&&x&&Pu.flushSync(()=>k("ANIMATION_END"))},w=y=>{y.target===n&&(h.current=qf(c.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",b),n.addEventListener("animationend",b),()=>{n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",b),n.removeEventListener("animationend",b)}}else k("ANIMATION_END")},[n,k]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:M.useCallback(b=>{b&&(c.current=getComputedStyle(b)),o(b)},[])}}function qf(i){return(i==null?void 0:i.animationName)||"none"}function Mg({prop:i,defaultProp:n,onChange:o=()=>{}}){const[c,d]=o$({defaultProp:n,onChange:o}),h=i!==void 0,f=h?i:c,m=Bo(o),k=M.useCallback(b=>{if(h){const y=typeof b=="function"?b(i):b;y!==i&&m(y)}else d(b)},[h,i,d,m]);return[f,k]}function o$({defaultProp:i,onChange:n}){const o=M.useState(i),[c]=o,d=M.useRef(c),h=Bo(n);return M.useEffect(()=>{d.current!==c&&(h(c),d.current=c)},[c,d,h]),o}const s$=M.forwardRef((i,n)=>M.createElement(gn.span,je({},i,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}))),a$=s$,[Ng,hG]=kl("Tooltip",[K4]),Og=K4(),c$="TooltipProvider",l$=700,Qb="tooltip.open",[d$,Av]=Ng(c$),u$=i=>{const{__scopeTooltip:n,delayDuration:o=l$,skipDelayDuration:c=300,disableHoverableContent:d=!1,children:h}=i,[f,m]=M.useState(!0),k=M.useRef(!1),b=M.useRef(0);return M.useEffect(()=>{const w=b.current;return()=>window.clearTimeout(w)},[]),M.createElement(d$,{scope:n,isOpenDelayed:f,delayDuration:o,onOpen:M.useCallback(()=>{window.clearTimeout(b.current),m(!1)},[]),onClose:M.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>m(!0),c)},[c]),isPointerInTransitRef:k,onPointerInTransitChange:M.useCallback(w=>{k.current=w},[]),disableHoverableContent:d},h)},Cv="Tooltip",[h$,Fu]=Ng(Cv),f$=i=>{const{__scopeTooltip:n,children:o,open:c,defaultOpen:d=!1,onOpenChange:h,disableHoverableContent:f,delayDuration:m}=i,k=Av(Cv,i.__scopeTooltip),b=Og(n),[w,y]=M.useState(null),C=Gc(),x=M.useRef(0),D=f??k.disableHoverableContent,T=m??k.delayDuration,z=M.useRef(!1),[N=!1,L]=Mg({prop:c,defaultProp:d,onChange:Y=>{Y?(k.onOpen(),document.dispatchEvent(new CustomEvent(Qb))):k.onClose(),h==null||h(Y)}}),S=M.useMemo(()=>N?z.current?"delayed-open":"instant-open":"closed",[N]),F=M.useCallback(()=>{window.clearTimeout(x.current),z.current=!1,L(!0)},[L]),H=M.useCallback(()=>{window.clearTimeout(x.current),L(!1)},[L]),J=M.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{z.current=!0,L(!0)},T)},[T,L]);return M.useEffect(()=>()=>window.clearTimeout(x.current),[]),M.createElement(XF,b,M.createElement(h$,{scope:n,contentId:C,open:N,stateAttribute:S,trigger:w,onTriggerChange:y,onTriggerEnter:M.useCallback(()=>{k.isOpenDelayed?J():F()},[k.isOpenDelayed,J,F]),onTriggerLeave:M.useCallback(()=>{D?H():window.clearTimeout(x.current)},[H,D]),onOpen:F,onClose:H,disableHoverableContent:D},o))},f5="TooltipTrigger",p$=M.forwardRef((i,n)=>{const{__scopeTooltip:o,...c}=i,d=Fu(f5,o),h=Av(f5,o),f=Og(o),m=M.useRef(null),k=Vi(n,m,d.onTriggerChange),b=M.useRef(!1),w=M.useRef(!1),y=M.useCallback(()=>b.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),M.createElement(e$,je({asChild:!0},f),M.createElement(gn.button,je({"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute},c,{ref:k,onPointerMove:Lt(i.onPointerMove,C=>{C.pointerType!=="touch"&&!w.current&&!h.isPointerInTransitRef.current&&(d.onTriggerEnter(),w.current=!0)}),onPointerLeave:Lt(i.onPointerLeave,()=>{d.onTriggerLeave(),w.current=!1}),onPointerDown:Lt(i.onPointerDown,()=>{b.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Lt(i.onFocus,()=>{b.current||d.onOpen()}),onBlur:Lt(i.onBlur,d.onClose),onClick:Lt(i.onClick,d.onClose)})))}),eI="TooltipPortal",[g$,m$]=Ng(eI,{forceMount:void 0}),k$=i=>{const{__scopeTooltip:n,forceMount:o,children:c,container:d}=i,h=Fu(eI,n);return M.createElement(g$,{scope:n,forceMount:o},M.createElement(Oa,{present:o||h.open},M.createElement(X4,{asChild:!0,container:d},c)))},xu="TooltipContent",b$=M.forwardRef((i,n)=>{const o=m$(xu,i.__scopeTooltip),{forceMount:c=o.forceMount,side:d="top",...h}=i,f=Fu(xu,i.__scopeTooltip);return M.createElement(Oa,{present:c||f.open},f.disableHoverableContent?M.createElement(tI,je({side:d},h,{ref:n})):M.createElement(w$,je({side:d},h,{ref:n})))}),w$=M.forwardRef((i,n)=>{const o=Fu(xu,i.__scopeTooltip),c=Av(xu,i.__scopeTooltip),d=M.useRef(null),h=Vi(n,d),[f,m]=M.useState(null),{trigger:k,onClose:b}=o,w=d.current,{onPointerInTransitChange:y}=c,C=M.useCallback(()=>{m(null),y(!1)},[y]),x=M.useCallback((D,T)=>{const z=D.currentTarget,N={x:D.clientX,y:D.clientY},L=C$(N,z.getBoundingClientRect()),S=x$(N,L),F=E$(T.getBoundingClientRect()),H=D$([...S,...F]);m(H),y(!0)},[y]);return M.useEffect(()=>()=>C(),[C]),M.useEffect(()=>{if(k&&w){const D=z=>x(z,w),T=z=>x(z,k);return k.addEventListener("pointerleave",D),w.addEventListener("pointerleave",T),()=>{k.removeEventListener("pointerleave",D),w.removeEventListener("pointerleave",T)}}},[k,w,x,C]),M.useEffect(()=>{if(f){const D=T=>{const z=T.target,N={x:T.clientX,y:T.clientY},L=(k==null?void 0:k.contains(z))||(w==null?void 0:w.contains(z)),S=!S$(N,f);L?C():S&&(C(),b())};return document.addEventListener("pointermove",D),()=>document.removeEventListener("pointermove",D)}},[k,w,f,b,C]),M.createElement(tI,je({},i,{ref:h}))}),[v$,_$]=Ng(Cv,{isInside:!1}),tI=M.forwardRef((i,n)=>{const{__scopeTooltip:o,children:c,"aria-label":d,onEscapeKeyDown:h,onPointerDownOutside:f,...m}=i,k=Fu(xu,o),b=Og(o),{onClose:w}=k;return M.useEffect(()=>(document.addEventListener(Qb,w),()=>document.removeEventListener(Qb,w)),[w]),M.useEffect(()=>{if(k.trigger){const y=C=>{const x=C.target;x!=null&&x.contains(k.trigger)&&w()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[k.trigger,w]),M.createElement(N4,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:y=>y.preventDefault(),onDismiss:w},M.createElement(t$,je({"data-state":k.stateAttribute},b,m,{ref:n,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),M.createElement(M4,null,c),M.createElement(v$,{scope:o,isInside:!0},M.createElement(a$,{id:k.contentId,role:"tooltip"},d||c))))}),y$="TooltipArrow",A$=M.forwardRef((i,n)=>{const{__scopeTooltip:o,...c}=i,d=Og(o);return _$(y$,o).isInside?null:M.createElement(n$,je({},d,c,{ref:n}))});function C$(i,n){const o=Math.abs(n.top-i.y),c=Math.abs(n.bottom-i.y),d=Math.abs(n.right-i.x),h=Math.abs(n.left-i.x);switch(Math.min(o,c,d,h)){case h:return"left";case d:return"right";case o:return"top";case c:return"bottom";default:throw new Error("unreachable")}}function x$(i,n,o=5){const c=[];switch(n){case"top":c.push({x:i.x-o,y:i.y+o},{x:i.x+o,y:i.y+o});break;case"bottom":c.push({x:i.x-o,y:i.y-o},{x:i.x+o,y:i.y-o});break;case"left":c.push({x:i.x+o,y:i.y-o},{x:i.x+o,y:i.y+o});break;case"right":c.push({x:i.x-o,y:i.y-o},{x:i.x-o,y:i.y+o});break}return c}function E$(i){const{top:n,right:o,bottom:c,left:d}=i;return[{x:d,y:n},{x:o,y:n},{x:o,y:c},{x:d,y:c}]}function S$(i,n){const{x:o,y:c}=i;let d=!1;for(let h=0,f=n.length-1;h<n.length;f=h++){const m=n[h].x,k=n[h].y,b=n[f].x,w=n[f].y;k>c!=w>c&&o<(b-m)*(c-k)/(w-k)+m&&(d=!d)}return d}function D$(i){const n=i.slice();return n.sort((o,c)=>o.x<c.x?-1:o.x>c.x?1:o.y<c.y?-1:o.y>c.y?1:0),T$(n)}function T$(i){if(i.length<=1)return i.slice();const n=[];for(let c=0;c<i.length;c++){const d=i[c];for(;n.length>=2;){const h=n[n.length-1],f=n[n.length-2];if((h.x-f.x)*(d.y-f.y)>=(h.y-f.y)*(d.x-f.x))n.pop();else break}n.push(d)}n.pop();const o=[];for(let c=i.length-1;c>=0;c--){const d=i[c];for(;o.length>=2;){const h=o[o.length-1],f=o[o.length-2];if((h.x-f.x)*(d.y-f.y)>=(h.y-f.y)*(d.x-f.x))o.pop();else break}o.push(d)}return o.pop(),n.length===1&&o.length===1&&n[0].x===o[0].x&&n[0].y===o[0].y?n:n.concat(o)}const I$=u$,M$=f$,N$=p$,O$=k$,P$=b$,B$=A$;function nI(i,n){if(i==null)return{};var o={},c=Object.keys(i),d,h;for(h=0;h<c.length;h++)d=c[h],!(n.indexOf(d)>=0)&&(o[d]=i[d]);return o}var L$=["color"],z$=M.forwardRef(function(i,n){var o=i.color,c=o===void 0?"currentColor":o,d=nI(i,L$);return M.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d,{ref:n}),M.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:c,fillRule:"evenodd",clipRule:"evenodd"}))}),j$=["color"],R$=M.forwardRef(function(i,n){var o=i.color,c=o===void 0?"currentColor":o,d=nI(i,j$);return M.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d,{ref:n}),M.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:c,fillRule:"evenodd",clipRule:"evenodd"}))});const $u=i=>{let n="back-pastel-green pastel-green";return i==="review"?n="back-pastel-purple pastel-purple":(i==="recommendation"||i==="recommend")&&(n="back-pastel-red pastel-red"),n},iI=({tags:i,subtracted:n})=>{const o=()=>(i=i.slice(n),i.map(c=>{let d=$u(c);return R.jsxs("p",{className:`post-category ${d}`,children:["#",c]},c)}));return R.jsx("div",{children:R.jsx(I$,{children:R.jsxs(M$,{children:[R.jsx(N$,{asChild:!0,children:R.jsx("button",{className:"IconButton tags-plus-button",children:R.jsx(R$,{})})}),R.jsx(O$,{children:R.jsxs(P$,{className:"TooltipContent",sideOffset:5,children:[o(),R.jsx(B$,{className:"TooltipArrow"})]})})]})})})};function rI({id:i,title:n,created_at:o,vote:c,tags:d,username:h,img_url:f,content:m,currentUserLiked:k}){const b=()=>d.slice(0,1).map(x=>{let D=$u(x);return R.jsxs("p",{className:`post-category ${D}`,children:["#",x]},x+i)}),w=m.length>=300?m.replace(/<p>&nbsp;<\/p>/g,"").substring(0,300)+"...":m.replace(/<p>&nbsp;<\/p>/g,""),y=T4(w);return R.jsxs(Pi,{className:"post-preview",to:`/Book-Chronicles/post/${i}`,children:[R.jsxs("div",{className:"post-preview-top",children:[R.jsxs("p",{className:"time-ago",children:["Posted ",o?Xp(o):" "]}),d.length>1?R.jsxs("div",{className:"preview-tags-container",children:[b(),R.jsx("small",{children:R.jsx(iI,{tags:d,subtracted:1})})]}):R.jsx("div",{className:"preview-tags-container",children:b()})]}),R.jsxs("div",{className:"post-preview-middle",children:[R.jsx("h2",{className:"pastel-black",children:n}),R.jsxs("div",{className:"post-preview-img-content",children:[f?R.jsx("img",{className:"post-preview-image",src:f}):"",R.jsxs("div",{className:"post-preview-content",children:[y," "]})]})]}),R.jsxs("div",{className:"post-preview-bot",children:[R.jsxs("div",{className:"vote-image",children:[R.jsx("img",{src:D4,className:"upvotes pastel-red"}),R.jsx("span",{className:"",children:R.jsxs("b",{className:k?"pastel-orange":"",children:[c," "]})})]}),R.jsx("p",{children:h?"~ "+h:""})]})]})}let F$={data:""},$$=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||F$,V$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,U$=/\/\*[^]*?\*\/|  +/g,p5=/\n+/g,ks=(i,n)=>{let o="",c="",d="";for(let h in i){let f=i[h];h[0]=="@"?h[1]=="i"?o=h+" "+f+";":c+=h[1]=="f"?ks(f,h):h+"{"+ks(f,h[1]=="k"?"":n)+"}":typeof f=="object"?c+=ks(f,n?n.replace(/([^,])+/g,m=>h.replace(/(^:.*)|([^,])+/g,k=>/&/.test(k)?k.replace(/&/g,m):m?m+" "+k:k)):h):f!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),d+=ks.p?ks.p(h,f):h+":"+f+";")}return o+(n&&d?n+"{"+d+"}":d)+c},_o={},oI=i=>{if(typeof i=="object"){let n="";for(let o in i)n+=o+oI(i[o]);return n}return i},H$=(i,n,o,c,d)=>{let h=oI(i),f=_o[h]||(_o[h]=(k=>{let b=0,w=11;for(;b<k.length;)w=101*w+k.charCodeAt(b++)>>>0;return"go"+w})(h));if(!_o[f]){let k=h!==i?i:(b=>{let w,y,C=[{}];for(;w=V$.exec(b.replace(U$,""));)w[4]?C.shift():w[3]?(y=w[3].replace(p5," ").trim(),C.unshift(C[0][y]=C[0][y]||{})):C[0][w[1]]=w[2].replace(p5," ").trim();return C[0]})(i);_o[f]=ks(d?{["@keyframes "+f]:k}:k,o?"":"."+f)}let m=o&&_o.g?_o.g:null;return o&&(_o.g=_o[f]),((k,b,w,y)=>{y?b.data=b.data.replace(y,k):b.data.indexOf(k)===-1&&(b.data=w?k+b.data:b.data+k)})(_o[f],n,c,m),f},W$=(i,n,o)=>i.reduce((c,d,h)=>{let f=n[h];if(f&&f.call){let m=f(o),k=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=k?"."+k:m&&typeof m=="object"?m.props?"":ks(m,""):m===!1?"":m}return c+d+(f??"")},"");function Pg(i){let n=this||{},o=i.call?i(n.p):i;return H$(o.unshift?o.raw?W$(o,[].slice.call(arguments,1),n.p):o.reduce((c,d)=>Object.assign(c,d&&d.call?d(n.p):d),{}):o,$$(n.target),n.g,n.o,n.k)}let sI,Jb,Xb;Pg.bind({g:1});let Ro=Pg.bind({k:1});function q$(i,n,o,c){ks.p=n,sI=i,Jb=o,Xb=c}function Fs(i,n){let o=this||{};return function(){let c=arguments;function d(h,f){let m=Object.assign({},h),k=m.className||d.className;o.p=Object.assign({theme:Jb&&Jb()},m),o.o=/ *go\d+/.test(k),m.className=Pg.apply(o,c)+(k?" "+k:""),n&&(m.ref=f);let b=i;return i[0]&&(b=m.as||i,delete m.as),Xb&&b[0]&&Xb(m),sI(b,m)}return n?n(d):d}}var G$=i=>typeof i=="function",rg=(i,n)=>G$(i)?i(n):i,Y$=(()=>{let i=0;return()=>(++i).toString()})(),aI=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");i=!n||n.matches}return i}})(),K$=20,mp=new Map,Z$=1e3,g5=i=>{if(mp.has(i))return;let n=setTimeout(()=>{mp.delete(i),Pa({type:4,toastId:i})},Z$);mp.set(i,n)},Q$=i=>{let n=mp.get(i);n&&clearTimeout(n)},ew=(i,n)=>{switch(n.type){case 0:return{...i,toasts:[n.toast,...i.toasts].slice(0,K$)};case 1:return n.toast.id&&Q$(n.toast.id),{...i,toasts:i.toasts.map(h=>h.id===n.toast.id?{...h,...n.toast}:h)};case 2:let{toast:o}=n;return i.toasts.find(h=>h.id===o.id)?ew(i,{type:1,toast:o}):ew(i,{type:0,toast:o});case 3:let{toastId:c}=n;return c?g5(c):i.toasts.forEach(h=>{g5(h.id)}),{...i,toasts:i.toasts.map(h=>h.id===c||c===void 0?{...h,visible:!1}:h)};case 4:return n.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==n.toastId)};case 5:return{...i,pausedAt:n.time};case 6:let d=n.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+d}))}}},kp=[],bp={toasts:[],pausedAt:void 0},Pa=i=>{bp=ew(bp,i),kp.forEach(n=>{n(bp)})},J$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},X$=(i={})=>{let[n,o]=M.useState(bp);M.useEffect(()=>(kp.push(o),()=>{let d=kp.indexOf(o);d>-1&&kp.splice(d,1)}),[n]);let c=n.toasts.map(d=>{var h,f;return{...i,...i[d.type],...d,duration:d.duration||((h=i[d.type])==null?void 0:h.duration)||(i==null?void 0:i.duration)||J$[d.type],style:{...i.style,...(f=i[d.type])==null?void 0:f.style,...d.style}}});return{...n,toasts:c}},eV=(i,n="blank",o)=>({createdAt:Date.now(),visible:!0,type:n,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...o,id:(o==null?void 0:o.id)||Y$()}),Vu=i=>(n,o)=>{let c=eV(n,i,o);return Pa({type:2,toast:c}),c.id},Jt=(i,n)=>Vu("blank")(i,n);Jt.error=Vu("error");Jt.success=Vu("success");Jt.loading=Vu("loading");Jt.custom=Vu("custom");Jt.dismiss=i=>{Pa({type:3,toastId:i})};Jt.remove=i=>Pa({type:4,toastId:i});Jt.promise=(i,n,o)=>{let c=Jt.loading(n.loading,{...o,...o==null?void 0:o.loading});return i.then(d=>(Jt.success(rg(n.success,d),{id:c,...o,...o==null?void 0:o.success}),d)).catch(d=>{Jt.error(rg(n.error,d),{id:c,...o,...o==null?void 0:o.error})}),i};var tV=(i,n)=>{Pa({type:1,toast:{id:i,height:n}})},nV=()=>{Pa({type:5,time:Date.now()})},iV=i=>{let{toasts:n,pausedAt:o}=X$(i);M.useEffect(()=>{if(o)return;let h=Date.now(),f=n.map(m=>{if(m.duration===1/0)return;let k=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(k<0){m.visible&&Jt.dismiss(m.id);return}return setTimeout(()=>Jt.dismiss(m.id),k)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[n,o]);let c=M.useCallback(()=>{o&&Pa({type:6,time:Date.now()})},[o]),d=M.useCallback((h,f)=>{let{reverseOrder:m=!1,gutter:k=8,defaultPosition:b}=f||{},w=n.filter(x=>(x.position||b)===(h.position||b)&&x.height),y=w.findIndex(x=>x.id===h.id),C=w.filter((x,D)=>D<y&&x.visible).length;return w.filter(x=>x.visible).slice(...m?[C+1]:[0,C]).reduce((x,D)=>x+(D.height||0)+k,0)},[n]);return{toasts:n,handlers:{updateHeight:tV,startPause:nV,endPause:c,calculateOffset:d}}},rV=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oV=Ro`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sV=Ro`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aV=Fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cV=Ro`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lV=Fs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${cV} 1s linear infinite;
`,dV=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uV=Ro`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hV=Fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fV=Fs("div")`
  position: absolute;
`,pV=Fs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gV=Ro`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mV=Fs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kV=({toast:i})=>{let{icon:n,type:o,iconTheme:c}=i;return n!==void 0?typeof n=="string"?M.createElement(mV,null,n):n:o==="blank"?null:M.createElement(pV,null,M.createElement(lV,{...c}),o!=="loading"&&M.createElement(fV,null,o==="error"?M.createElement(aV,{...c}):M.createElement(hV,{...c})))},bV=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wV=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,vV="0%{opacity:0;} 100%{opacity:1;}",_V="0%{opacity:1;} 100%{opacity:0;}",yV=Fs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AV=Fs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CV=(i,n)=>{let o=i.includes("top")?1:-1,[c,d]=aI()?[vV,_V]:[bV(o),wV(o)];return{animation:n?`${Ro(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ro(d)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xV=M.memo(({toast:i,position:n,style:o,children:c})=>{let d=i.height?CV(i.position||n||"top-center",i.visible):{opacity:0},h=M.createElement(kV,{toast:i}),f=M.createElement(AV,{...i.ariaProps},rg(i.message,i));return M.createElement(yV,{className:i.className,style:{...d,...o,...i.style}},typeof c=="function"?c({icon:h,message:f}):M.createElement(M.Fragment,null,h,f))});q$(M.createElement);var EV=({id:i,className:n,style:o,onHeightUpdate:c,children:d})=>{let h=M.useCallback(f=>{if(f){let m=()=>{let k=f.getBoundingClientRect().height;c(i,k)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,c]);return M.createElement("div",{ref:h,className:n,style:o},d)},SV=(i,n)=>{let o=i.includes("top"),c=o?{top:0}:{bottom:0},d=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:aI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(o?1:-1)}px)`,...c,...d}},DV=Pg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gf=16,TV=({reverseOrder:i,position:n="top-center",toastOptions:o,gutter:c,children:d,containerStyle:h,containerClassName:f})=>{let{toasts:m,handlers:k}=iV(o);return M.createElement("div",{style:{position:"fixed",zIndex:9999,top:Gf,left:Gf,right:Gf,bottom:Gf,pointerEvents:"none",...h},className:f,onMouseEnter:k.startPause,onMouseLeave:k.endPause},m.map(b=>{let w=b.position||n,y=k.calculateOffset(b,{reverseOrder:i,gutter:c,defaultPosition:n}),C=SV(w,y);return M.createElement(EV,{id:b.id,key:b.id,onHeightUpdate:k.updateHeight,className:b.visible?DV:"",style:C},b.type==="custom"?rg(b.message,b):d?d(b):M.createElement(xV,{toast:b,position:w}))}))},ti=Jt;function IV({supabase:i,session:n}){const[o,c]=M.useState([]),[d,h]=M.useState({created_at:!1,vote:!0}),[f,m]=M.useState(""),b=(n?n.user:{user_metadata:{}}).id,w=async()=>{const{data:D,error:T}=await i.from("posts").select().order("created_at",{ascending:!1});c(D)};M.useEffect(()=>{const D=w();ti.promise(D,{loading:"Loading your posts...",success:"Bookshelf Loaded",error:"Error when fetching"})},[]);const y=D=>{m(D.target.value)},C=()=>GR(f,o,["title","tags","username"]).map(T=>{const z=T.user_likes[b];return R.jsx(rI,{id:T.id,title:T.title,created_at:T.created_at,vote:T.vote,tags:T.tags,username:T.username,img_url:T.img,content:T.content,currentUserLiked:z},T.id)}),x=D=>{const T=JSON.parse(JSON.stringify(o));D==="vote"?(d.vote?T.sort((z,N)=>N.vote-z.vote):T.sort((z,N)=>z.vote-N.vote),h(z=>({...z,vote:!d.vote}))):(d.created_at?T.sort((z,N)=>new Date(N.created_at)-new Date(z.created_at)):T.sort((z,N)=>new Date(z.created_at)-new Date(N.created_at)),h(z=>({...z,created_at:!d.created_at}))),c(T)};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"home-title-outside-container",children:R.jsxs("div",{className:"home-title-container",children:[R.jsxs("h1",{className:"home-title",children:[R.jsx("span",{className:"pastel-black",children:"Home"})," ",R.jsx("span",{className:"accent",children:"Feed"})]}),R.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),R.jsx("div",{className:"input-outside-container",children:R.jsxs("div",{className:"input-container",children:[R.jsx("input",{className:"search-input",onChange:y,placeholder:"Search",type:"text"}),R.jsxs("div",{className:"sort-posts-container",children:[R.jsx("span",{children:"Order by: "}),R.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{x("created_at")},children:"Newest"}),R.jsx("button",{className:"btn sort-button",onClick:()=>{x("vote")},children:"Most Popular"})]})]})}),R.jsx("div",{className:"post-preview-container",children:C()})]})}function MV(){const i=ro();return M.useEffect(()=>{i("/")},[]),R.jsx("div",{children:"NotFound"})}var og={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */og.exports;(function(i,n){(function(o,c){i.exports=c(M)})(self,o=>(()=>{var c={703:(m,k,b)=>{var w=b(414);function y(){}function C(){}C.resetWarningCache=y,m.exports=function(){function x(z,N,L,S,F,H){if(H!==w){var J=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw J.name="Invariant Violation",J}}function D(){return x}x.isRequired=x;var T={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:D,element:x,elementType:x,instanceOf:D,node:x,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:C,resetWarningCache:y};return T.PropTypes=T,T}},697:(m,k,b)=>{m.exports=b(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=o}},d={};function h(m){var k=d[m];if(k!==void 0)return k.exports;var b=d[m]={exports:{}};return c[m](b,b.exports,h),b.exports}h.n=m=>{var k=m&&m.__esModule?()=>m.default:()=>m;return h.d(k,{a:k}),k},h.d=(m,k)=>{for(var b in k)h.o(k,b)&&!h.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:k[b]})},h.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k),h.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var f={};return(()=>{h.r(f),h.d(f,{CKEditor:()=>po,CKEditorContext:()=>Za,useMultiRootEditor:()=>sm});var m=h(787),k=h.n(m),b=h(697),w=h.n(b);const y=new Array(256).fill("").map((O,P)=>("0"+P.toString(16)).slice(-2));class C{constructor(P){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof P.crashNumberLimit=="number"?P.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof P.minimumNonErrorTimePeriod=="number"?P.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=V=>{const Z="error"in V?V.error:V.reason;Z instanceof Error&&this._handleError(Z,V)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(P,V){this._listeners[P]||(this._listeners[P]=[]),this._listeners[P].push(V)}off(P,V){this._listeners[P]=this._listeners[P].filter(Z=>Z!==V)}_fire(P,...V){const Z=this._listeners[P]||[];for(const ae of Z)ae.apply(this,[null,...V])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(P,V){if(this._shouldReactToError(P)){this.crashes.push({message:P.message,stack:P.stack,filename:V instanceof ErrorEvent?V.filename:void 0,lineno:V instanceof ErrorEvent?V.lineno:void 0,colno:V instanceof ErrorEvent?V.colno:void 0,date:this._now()});const Z=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:P,causesRestart:Z}),Z?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(P){return P.is&&P.is("CKEditorError")&&P.context!==void 0&&P.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(P)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(O,P=new Set){const V=[O],Z=new Set;let ae=0;for(;V.length>ae;){const ve=V[ae++];if(!Z.has(ve)&&D(ve)&&!P.has(ve))if(Z.add(ve),Symbol.iterator in ve)try{for(const he of ve)V.push(he)}catch{}else for(const he in ve)he!=="defaultValue"&&V.push(ve[he])}return Z}function D(O){const P=Object.prototype.toString.call(O),V=typeof O;return!(V==="number"||V==="boolean"||V==="string"||V==="symbol"||V==="function"||P==="[object Date]"||P==="[object RegExp]"||P==="[object Module]"||O==null||O._watchdogExcluded||O instanceof EventTarget||O instanceof Event)}function T(O,P,V=new Set){if(O===P&&typeof(Z=O)=="object"&&Z!==null)return!0;var Z;const ae=x(O,V),ve=x(P,V);for(const he of ae)if(ve.has(he))return!0;return!1}const z=function(O){var P=typeof O;return O!=null&&(P=="object"||P=="function")},N=typeof ma=="object"&&ma&&ma.Object===Object&&ma;var L=typeof self=="object"&&self&&self.Object===Object&&self;const S=N||L||Function("return this")(),F=function(){return S.Date.now()};var H=/\s/;const J=function(O){for(var P=O.length;P--&&H.test(O.charAt(P)););return P};var Y=/^\s+/;const ee=function(O){return O&&O.slice(0,J(O)+1).replace(Y,"")},oe=S.Symbol;var de=Object.prototype,K=de.hasOwnProperty,Q=de.toString,q=oe?oe.toStringTag:void 0;const U=function(O){var P=K.call(O,q),V=O[q];try{O[q]=void 0;var Z=!0}catch{}var ae=Q.call(O);return Z&&(P?O[q]=V:delete O[q]),ae};var W=Object.prototype.toString;const X=function(O){return W.call(O)};var se=oe?oe.toStringTag:void 0;const re=function(O){return O==null?O===void 0?"[object Undefined]":"[object Null]":se&&se in Object(O)?U(O):X(O)},ie=function(O){return O!=null&&typeof O=="object"},pe=function(O){return typeof O=="symbol"||ie(O)&&re(O)=="[object Symbol]"};var ge=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,wt=parseInt;const it=function(O){if(typeof O=="number")return O;if(pe(O))return NaN;if(z(O)){var P=typeof O.valueOf=="function"?O.valueOf():O;O=z(P)?P+"":P}if(typeof O!="string")return O===0?O:+O;O=ee(O);var V=Se.test(O);return V||nt.test(O)?wt(O.slice(2),V?2:8):ge.test(O)?NaN:+O};var Ee=Math.max,an=Math.min;const Me=function(O,P,V){var Z,ae,ve,he,we,ze,Ne=0,Yn=!1,In=!1,dn=!0;if(typeof O!="function")throw new TypeError("Expected a function");function kn(bn){var Zn=Z,Ae=ae;return Z=ae=void 0,Ne=bn,he=O.apply(Ae,Zn)}function Yi(bn){var Zn=bn-ze;return ze===void 0||Zn>=P||Zn<0||In&&bn-Ne>=ve}function Ei(){var bn=F();if(Yi(bn))return ft(bn);we=setTimeout(Ei,function(Zn){var Ae=P-(Zn-ze);return In?an(Ae,ve-(Zn-Ne)):Ae}(bn))}function ft(bn){return we=void 0,dn&&Z?kn(bn):(Z=ae=void 0,he)}function Kn(){var bn=F(),Zn=Yi(bn);if(Z=arguments,ae=this,ze=bn,Zn){if(we===void 0)return function(Ae){return Ne=Ae,we=setTimeout(Ei,P),Yn?kn(Ae):he}(ze);if(In)return clearTimeout(we),we=setTimeout(Ei,P),kn(ze)}return we===void 0&&(we=setTimeout(Ei,P)),he}return P=it(P)||0,z(V)&&(Yn=!!V.leading,ve=(In="maxWait"in V)?Ee(it(V.maxWait)||0,P):ve,dn="trailing"in V?!!V.trailing:dn),Kn.cancel=function(){we!==void 0&&clearTimeout(we),Ne=0,Z=ze=ae=we=void 0},Kn.flush=function(){return we===void 0?he:ft(F())},Kn},It=function(O,P,V){var Z=!0,ae=!0;if(typeof O!="function")throw new TypeError("Expected a function");return z(V)&&(Z="leading"in V?!!V.leading:Z,ae="trailing"in V?!!V.trailing:ae),Me(O,P,{leading:Z,maxWait:P,trailing:ae})},oi=function(O,P){return function(V){return O(P(V))}},_i=oi(Object.getPrototypeOf,Object);var hr=Function.prototype,Wi=Object.prototype,yi=hr.toString,lt=Wi.hasOwnProperty,Mt=yi.call(Object);const en=function(O){if(!ie(O)||re(O)!="[object Object]")return!1;var P=_i(O);if(P===null)return!0;var V=lt.call(P,"constructor")&&P.constructor;return typeof V=="function"&&V instanceof V&&yi.call(V)==Mt},fr=function(O){return ie(O)&&O.nodeType===1&&!en(O)},Rt=function(){this.__data__=[],this.size=0},Nt=function(O,P){return O===P||O!=O&&P!=P},Fe=function(O,P){for(var V=O.length;V--;)if(Nt(O[V][0],P))return V;return-1};var oo=Array.prototype.splice;const so=function(O){var P=this.__data__,V=Fe(P,O);return!(V<0)&&(V==P.length-1?P.pop():oo.call(P,V,1),--this.size,!0)},Ai=function(O){var P=this.__data__,V=Fe(P,O);return V<0?void 0:P[V][1]},Uo=function(O){return Fe(this.__data__,O)>-1},Ho=function(O,P){var V=this.__data__,Z=Fe(V,O);return Z<0?(++this.size,V.push([O,P])):V[Z][1]=P,this};function si(O){var P=-1,V=O==null?0:O.length;for(this.clear();++P<V;){var Z=O[P];this.set(Z[0],Z[1])}}si.prototype.clear=Rt,si.prototype.delete=so,si.prototype.get=Ai,si.prototype.has=Uo,si.prototype.set=Ho;const zn=si,Sn=function(){this.__data__=new zn,this.size=0},yt=function(O){var P=this.__data__,V=P.delete(O);return this.size=P.size,V},Wt=function(O){return this.__data__.get(O)},ai=function(O){return this.__data__.has(O)},qi=function(O){if(!z(O))return!1;var P=re(O);return P=="[object Function]"||P=="[object GeneratorFunction]"||P=="[object AsyncFunction]"||P=="[object Proxy]"},Gi=S["__core-js_shared__"];var cn=function(){var O=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}();const Dn=function(O){return!!cn&&cn in O};var ao=Function.prototype.toString;const Tn=function(O){if(O!=null){try{return ao.call(O)}catch{}try{return O+""}catch{}}return""};var pr=/^\[object .+?Constructor\]$/,Br=Function.prototype,qt=Object.prototype,Gt=Br.toString,Yt=qt.hasOwnProperty,Ce=RegExp("^"+Gt.call(Yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ge=function(O){return!(!z(O)||Dn(O))&&(qi(O)?Ce:pr).test(Tn(O))},ln=function(O,P){return O==null?void 0:O[P]},jn=function(O,P){var V=ln(O,P);return Ge(V)?V:void 0},ci=jn(S,"Map"),ke=jn(Object,"create"),Te=function(){this.__data__=ke?ke(null):{},this.size=0},De=function(O){var P=this.has(O)&&delete this.__data__[O];return this.size-=P?1:0,P};var St=Object.prototype.hasOwnProperty;const Dt=function(O){var P=this.__data__;if(ke){var V=P[O];return V==="__lodash_hash_undefined__"?void 0:V}return St.call(P,O)?P[O]:void 0};var li=Object.prototype.hasOwnProperty;const Ci=function(O){var P=this.__data__;return ke?P[O]!==void 0:li.call(P,O)},Ot=function(O,P){var V=this.__data__;return this.size+=this.has(O)?0:1,V[O]=ke&&P===void 0?"__lodash_hash_undefined__":P,this};function Pt(O){var P=-1,V=O==null?0:O.length;for(this.clear();++P<V;){var Z=O[P];this.set(Z[0],Z[1])}}Pt.prototype.clear=Te,Pt.prototype.delete=De,Pt.prototype.get=Dt,Pt.prototype.has=Ci,Pt.prototype.set=Ot;const at=Pt,co=function(){this.size=0,this.__data__={hash:new at,map:new(ci||zn),string:new at}},yl=function(O){var P=typeof O;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?O!=="__proto__":O===null},Gn=function(O,P){var V=O.__data__;return yl(P)?V[typeof P=="string"?"string":"hash"]:V.map},Ba=function(O){var P=Gn(this,O).delete(O);return this.size-=P?1:0,P},La=function(O){return Gn(this,O).get(O)},za=function(O){return Gn(this,O).has(O)},ct=function(O,P){var V=Gn(this,O),Z=V.size;return V.set(O,P),this.size+=V.size==Z?0:1,this};function mn(O){var P=-1,V=O==null?0:O.length;for(this.clear();++P<V;){var Z=O[P];this.set(Z[0],Z[1])}}mn.prototype.clear=co,mn.prototype.delete=Ba,mn.prototype.get=La,mn.prototype.has=za,mn.prototype.set=ct;const $s=mn,lo=function(O,P){var V=this.__data__;if(V instanceof zn){var Z=V.__data__;if(!ci||Z.length<199)return Z.push([O,P]),this.size=++V.size,this;V=this.__data__=new $s(Z)}return V.set(O,P),this.size=V.size,this};function Lr(O){var P=this.__data__=new zn(O);this.size=P.size}Lr.prototype.clear=Sn,Lr.prototype.delete=yt,Lr.prototype.get=Wt,Lr.prototype.has=ai,Lr.prototype.set=lo;const xi=Lr,Vs=function(O,P){for(var V=-1,Z=O==null?0:O.length;++V<Z&&P(O[V],V,O)!==!1;);return O},Wo=function(){try{var O=jn(Object,"defineProperty");return O({},"",{}),O}catch{}}(),Wu=function(O,P,V){P=="__proto__"&&Wo?Wo(O,P,{configurable:!0,enumerable:!0,value:V,writable:!0}):O[P]=V};var Fg=Object.prototype.hasOwnProperty;const qu=function(O,P,V){var Z=O[P];Fg.call(O,P)&&Nt(Z,V)&&(V!==void 0||P in O)||Wu(O,P,V)},ja=function(O,P,V,Z){var ae=!V;V||(V={});for(var ve=-1,he=P.length;++ve<he;){var we=P[ve],ze=Z?Z(V[we],O[we],we,V,O):void 0;ze===void 0&&(ze=O[we]),ae?Wu(V,we,ze):qu(V,we,ze)}return V},$g=function(O,P){for(var V=-1,Z=Array(O);++V<O;)Z[V]=P(V);return Z},Gu=function(O){return ie(O)&&re(O)=="[object Arguments]"};var Yu=Object.prototype,qo=Yu.hasOwnProperty,Ku=Yu.propertyIsEnumerable;const Vg=Gu(function(){return arguments}())?Gu:function(O){return ie(O)&&qo.call(O,"callee")&&!Ku.call(O,"callee")},Al=Array.isArray,Ra=function(){return!1};var Zu=n&&!n.nodeType&&n,Qu=Zu&&!0&&i&&!i.nodeType&&i,Ju=Qu&&Qu.exports===Zu?S.Buffer:void 0;const Xu=(Ju?Ju.isBuffer:void 0)||Ra;var Go=/^(?:0|[1-9]\d*)$/;const Fa=function(O,P){var V=typeof O;return!!(P=P??9007199254740991)&&(V=="number"||V!="symbol"&&Go.test(O))&&O>-1&&O%1==0&&O<P},eh=function(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=9007199254740991};var Xe={};Xe["[object Float32Array]"]=Xe["[object Float64Array]"]=Xe["[object Int8Array]"]=Xe["[object Int16Array]"]=Xe["[object Int32Array]"]=Xe["[object Uint8Array]"]=Xe["[object Uint8ClampedArray]"]=Xe["[object Uint16Array]"]=Xe["[object Uint32Array]"]=!0,Xe["[object Arguments]"]=Xe["[object Array]"]=Xe["[object ArrayBuffer]"]=Xe["[object Boolean]"]=Xe["[object DataView]"]=Xe["[object Date]"]=Xe["[object Error]"]=Xe["[object Function]"]=Xe["[object Map]"]=Xe["[object Number]"]=Xe["[object Object]"]=Xe["[object RegExp]"]=Xe["[object Set]"]=Xe["[object String]"]=Xe["[object WeakMap]"]=!1;const Us=function(O){return ie(O)&&eh(O.length)&&!!Xe[re(O)]},Cl=function(O){return function(P){return O(P)}};var Hs=n&&!n.nodeType&&n,uo=Hs&&!0&&i&&!i.nodeType&&i,xl=uo&&uo.exports===Hs&&N.process;const zr=function(){try{var O=uo&&uo.require&&uo.require("util").types;return O||xl&&xl.binding&&xl.binding("util")}catch{}}();var ho=zr&&zr.isTypedArray;const Ug=ho?Cl(ho):Us;var th=Object.prototype.hasOwnProperty;const El=function(O,P){var V=Al(O),Z=!V&&Vg(O),ae=!V&&!Z&&Xu(O),ve=!V&&!Z&&!ae&&Ug(O),he=V||Z||ae||ve,we=he?$g(O.length,String):[],ze=we.length;for(var Ne in O)!P&&!th.call(O,Ne)||he&&(Ne=="length"||ae&&(Ne=="offset"||Ne=="parent")||ve&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||Fa(Ne,ze))||we.push(Ne);return we};var Hg=Object.prototype;const Sl=function(O){var P=O&&O.constructor;return O===(typeof P=="function"&&P.prototype||Hg)},Dl=oi(Object.keys,Object);var Wg=Object.prototype.hasOwnProperty;const nh=function(O){if(!Sl(O))return Dl(O);var P=[];for(var V in Object(O))Wg.call(O,V)&&V!="constructor"&&P.push(V);return P},Tl=function(O){return O!=null&&eh(O.length)&&!qi(O)},$a=function(O){return Tl(O)?El(O):nh(O)},Ws=function(O,P){return O&&ja(P,$a(P),O)},qg=function(O){var P=[];if(O!=null)for(var V in Object(O))P.push(V);return P};var Il=Object.prototype.hasOwnProperty;const ih=function(O){if(!z(O))return qg(O);var P=Sl(O),V=[];for(var Z in O)(Z!="constructor"||!P&&Il.call(O,Z))&&V.push(Z);return V},dt=function(O){return Tl(O)?El(O,!0):ih(O)},Gg=function(O,P){return O&&ja(P,dt(P),O)};var Va=n&&!n.nodeType&&n,Ml=Va&&!0&&i&&!i.nodeType&&i,Yo=Ml&&Ml.exports===Va?S.Buffer:void 0,Ua=Yo?Yo.allocUnsafe:void 0;const Ko=function(O,P){if(P)return O.slice();var V=O.length,Z=Ua?Ua(V):new O.constructor(V);return O.copy(Z),Z},rh=function(O,P){var V=-1,Z=O.length;for(P||(P=Array(Z));++V<Z;)P[V]=O[V];return P},Nl=function(O,P){for(var V=-1,Z=O==null?0:O.length,ae=0,ve=[];++V<Z;){var he=O[V];P(he,V,O)&&(ve[ae++]=he)}return ve},oh=function(){return[]};var sh=Object.prototype.propertyIsEnumerable,ah=Object.getOwnPropertySymbols;const qs=ah?function(O){return O==null?[]:(O=Object(O),Nl(ah(O),function(P){return sh.call(O,P)}))}:oh,Yg=function(O,P){return ja(O,qs(O),P)},ch=function(O,P){for(var V=-1,Z=P.length,ae=O.length;++V<Z;)O[ae+V]=P[V];return O},lh=Object.getOwnPropertySymbols?function(O){for(var P=[];O;)ch(P,qs(O)),O=_i(O);return P}:oh,Ha=function(O,P){return ja(O,lh(O),P)},Wa=function(O,P,V){var Z=P(O);return Al(O)?Z:ch(Z,V(O))},Kg=function(O){return Wa(O,$a,qs)},Zg=function(O){return Wa(O,dt,lh)},Ol=jn(S,"DataView"),Pl=jn(S,"Promise"),jr=jn(S,"Set"),Bl=jn(S,"WeakMap");var Ll="[object Map]",zl="[object Promise]",jl="[object Set]",Rl="[object WeakMap]",Fl="[object DataView]",dh=Tn(Ol),Qg=Tn(ci),uh=Tn(Pl),Jg=Tn(jr),hh=Tn(Bl),gr=re;(Ol&&gr(new Ol(new ArrayBuffer(1)))!=Fl||ci&&gr(new ci)!=Ll||Pl&&gr(Pl.resolve())!=zl||jr&&gr(new jr)!=jl||Bl&&gr(new Bl)!=Rl)&&(gr=function(O){var P=re(O),V=P=="[object Object]"?O.constructor:void 0,Z=V?Tn(V):"";if(Z)switch(Z){case dh:return Fl;case Qg:return Ll;case uh:return zl;case Jg:return jl;case hh:return Rl}return P});const $l=gr;var fh=Object.prototype.hasOwnProperty;const ph=function(O){var P=O.length,V=new O.constructor(P);return P&&typeof O[0]=="string"&&fh.call(O,"index")&&(V.index=O.index,V.input=O.input),V},gh=S.Uint8Array,qa=function(O){var P=new O.constructor(O.byteLength);return new gh(P).set(new gh(O)),P},Vl=function(O,P){var V=P?qa(O.buffer):O.buffer;return new O.constructor(V,O.byteOffset,O.byteLength)};var Xg=/\w*$/;const Ul=function(O){var P=new O.constructor(O.source,Xg.exec(O));return P.lastIndex=O.lastIndex,P};var Ga=oe?oe.prototype:void 0,Ya=Ga?Ga.valueOf:void 0;const Hl=function(O){return Ya?Object(Ya.call(O)):{}},mh=function(O,P){var V=P?qa(O.buffer):O.buffer;return new O.constructor(V,O.byteOffset,O.length)},kh=function(O,P,V){var Z=O.constructor;switch(P){case"[object ArrayBuffer]":return qa(O);case"[object Boolean]":case"[object Date]":return new Z(+O);case"[object DataView]":return Vl(O,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mh(O,V);case"[object Map]":case"[object Set]":return new Z;case"[object Number]":case"[object String]":return new Z(O);case"[object RegExp]":return Ul(O);case"[object Symbol]":return Hl(O)}};var Wl=Object.create;const bh=function(){function O(){}return function(P){if(!z(P))return{};if(Wl)return Wl(P);O.prototype=P;var V=new O;return O.prototype=void 0,V}}(),wh=function(O){return typeof O.constructor!="function"||Sl(O)?{}:bh(_i(O))},em=function(O){return ie(O)&&$l(O)=="[object Map]"};var vh=zr&&zr.isMap;const tm=vh?Cl(vh):em,nm=function(O){return ie(O)&&$l(O)=="[object Set]"};var _h=zr&&zr.isSet;const fo=_h?Cl(_h):nm;var Zo="[object Arguments]",yh="[object Function]",Ah="[object Object]",rt={};rt[Zo]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object DataView]"]=rt["[object Boolean]"]=rt["[object Date]"]=rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Map]"]=rt["[object Number]"]=rt[Ah]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object Symbol]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Error]"]=rt[yh]=rt["[object WeakMap]"]=!1;const ql=function O(P,V,Z,ae,ve,he){var we,ze=1&V,Ne=2&V,Yn=4&V;if(Z&&(we=ve?Z(P,ae,ve,he):Z(P)),we!==void 0)return we;if(!z(P))return P;var In=Al(P);if(In){if(we=ph(P),!ze)return rh(P,we)}else{var dn=$l(P),kn=dn==yh||dn=="[object GeneratorFunction]";if(Xu(P))return Ko(P,ze);if(dn==Ah||dn==Zo||kn&&!ve){if(we=Ne||kn?{}:wh(P),!ze)return Ne?Ha(P,Gg(we,P)):Yg(P,Ws(we,P))}else{if(!rt[dn])return ve?P:{};we=kh(P,dn,ze)}}he||(he=new xi);var Yi=he.get(P);if(Yi)return Yi;he.set(P,we),fo(P)?P.forEach(function(ft){we.add(O(ft,V,Z,ft,P,he))}):tm(P)&&P.forEach(function(ft,Kn){we.set(Kn,O(ft,V,Z,Kn,P,he))});var Ei=In?void 0:(Yn?Ne?Zg:Kg:Ne?dt:$a)(P);return Vs(Ei||P,function(ft,Kn){Ei&&(ft=P[Kn=ft]),qu(we,Kn,O(ft,V,Z,Kn,P,he))}),we},im=function(O,P){return ql(O,5,P=typeof P=="function"?P:void 0)};class Gl extends C{constructor(P,V={}){super(V),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=It(this._save.bind(this),typeof V.saveInterval=="number"?V.saveInterval:5e3),P&&(this._creator=(Z,ae)=>P.create(Z,ae)),this._destructor=Z=>Z.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(P){this._creator=P}setDestructor(P){this._destructor=P}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(P=>{console.error("An error happened during the editor destroying.",P)}).then(()=>{const P={},V=[],Z=this._config.rootsAttributes||{},ae={};for(const[he,we]of Object.entries(this._data.roots))we.isLoaded?(P[he]="",ae[he]=Z[he]||{}):V.push(he);const ve={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:V,rootsAttributes:ae,_watchdogInitialData:this._data};return delete ve.initialData,ve.extraPlugins.push(rm),this._initUsingData?this.create(P,ve,ve.context):fr(this._elementOrData)?this.create(this._elementOrData,ve,ve.context):this.create(this._editables,ve,ve.context)}).then(()=>{this._fire("restart")})}create(P=this._elementOrData,V=this._config,Z){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=P,this._initUsingData=typeof P=="string"||Object.keys(P).length>0&&typeof Object.values(P)[0]=="string",this._config=this._cloneEditorConfiguration(V)||{},this._config.context=Z,this._creator(P,this._config))).then(ae=>{this._editor=ae,ae.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ae.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const P=this._editor;return this._editor=null,P.model.document.off("change:data",this._throttledSave),this._destructor(P)})}_save(){const P=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=P}catch(V){console.error(V,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(P){this._excludedProps=P}_getData(){const P=this._editor,V=P.model.document.roots.filter(we=>we.isAttached()&&we.rootName!="$graveyard"),{plugins:Z}=P,ae=Z.has("CommentsRepository")&&Z.get("CommentsRepository"),ve=Z.has("TrackChanges")&&Z.get("TrackChanges"),he={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};V.forEach(we=>{he.roots[we.rootName]={content:JSON.stringify(Array.from(we.getChildren())),attributes:JSON.stringify(Array.from(we.getAttributes())),isLoaded:we._isLoaded}});for(const we of P.model.markers)we._affectsData&&(he.markers[we.name]={rangeJSON:we.getRange().toJSON(),usingOperation:we._managedUsingOperations,affectsData:we._affectsData});return ae&&(he.commentThreads=JSON.stringify(ae.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),ve&&(he.suggestions=JSON.stringify(ve.getSuggestions({toJSON:!0,skipNotAttached:!0}))),he}_getEditables(){const P={};for(const V of this.editor.model.document.getRootNames()){const Z=this.editor.ui.getEditableElement(V);Z&&(P[V]=Z)}return P}_isErrorComingFromThisItem(P){return T(this._editor,P.context,this._excludedProps)}_cloneEditorConfiguration(P){return im(P,(V,Z)=>fr(V)||Z==="context"?V:void 0)}}class rm{constructor(P){this.editor=P,this._data=P.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",P=>{P.stop(),this.editor.model.enqueueChange({isUndoable:!1},V=>{this._restoreCollaborationData(),this._restoreEditorData(V)}),this.editor.data.fire("ready")},{priority:999})}_createNode(P,V){if("name"in V){const Z=P.createElement(V.name,V.attributes);if(V.children)for(const ae of V.children)Z._appendChild(this._createNode(P,ae));return Z}return P.createText(V.data,V.attributes)}_restoreEditorData(P){const V=this.editor;Object.entries(this._data.roots).forEach(([Z,{content:ae,attributes:ve}])=>{const he=JSON.parse(ae),we=JSON.parse(ve),ze=V.model.document.getRoot(Z);for(const[Ne,Yn]of we)P.setAttribute(Ne,Yn,ze);for(const Ne of he){const Yn=this._createNode(P,Ne);P.insert(Yn,ze,"end")}}),Object.entries(this._data.markers).forEach(([Z,ae])=>{const{document:ve}=V.model,{rangeJSON:{start:he,end:we},...ze}=ae,Ne=ve.getRoot(he.root),Yn=P.createPositionFromPath(Ne,he.path,he.stickiness),In=P.createPositionFromPath(Ne,we.path,we.stickiness),dn=P.createRange(Yn,In);P.addMarker(Z,{range:dn,...ze})})}_restoreCollaborationData(){const P=JSON.parse(this._data.commentThreads),V=JSON.parse(this._data.suggestions);P.forEach(Z=>{const ae=this.editor.config.get("collaboration.channelId"),ve=this.editor.plugins.get("CommentsRepository");ve.hasCommentThread(Z.threadId)&&ve.getCommentThread(Z.threadId).remove(),ve.addCommentThread({channelId:ae,...Z})}),V.forEach(Z=>{const ae=this.editor.plugins.get("TrackChangesEditing");ae.hasSuggestion(Z.id)?ae.getSuggestion(Z.id).attributes=Z.attributes:ae.addSuggestionData(Z)})}}const Qo=Symbol("MainQueueId");class Ka extends C{constructor(P,V={}){super(V),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new om,this._watchdogConfig=V,this._creator=Z=>P.create(Z),this._destructor=Z=>Z.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(P){this._creator=P}setDestructor(P){this._destructor=P}get context(){return this._context}create(P={}){return this._actionQueues.enqueue(Qo,()=>(this._contextConfig=P,this._create()))}getItem(P){return this._getWatchdog(P)._item}getItemState(P){return this._getWatchdog(P).state}add(P){const V=Yl(P);return Promise.all(V.map(Z=>this._actionQueues.enqueue(Z.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ae;if(this._watchdogs.has(Z.id))throw new Error(`Item with the given id is already added: '${Z.id}'.`);if(Z.type==="editor")return ae=new Gl(null,this._watchdogConfig),ae.setCreator(Z.creator),ae._setExcludedProperties(this._contextProps),Z.destructor&&ae.setDestructor(Z.destructor),this._watchdogs.set(Z.id,ae),ae.on("error",(ve,{error:he,causesRestart:we})=>{this._fire("itemError",{itemId:Z.id,error:he}),we&&this._actionQueues.enqueue(Z.id,()=>new Promise(ze=>{const Ne=()=>{ae.off("restart",Ne),this._fire("itemRestart",{itemId:Z.id}),ze()};ae.on("restart",Ne)}))}),ae.create(Z.sourceElementOrData,Z.config,this._context);throw new Error(`Not supported item type: '${Z.type}'.`)})))}remove(P){const V=Yl(P);return Promise.all(V.map(Z=>this._actionQueues.enqueue(Z,()=>{const ae=this._getWatchdog(Z);return this._watchdogs.delete(Z),ae.destroy()})))}destroy(){return this._actionQueues.enqueue(Qo,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Qo,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(P=>{console.error("An error happened during destroying the context or items.",P)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(P=>(this._context=P,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(V=>(V._setExcludedProperties(this._contextProps),V.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const P=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(V=>V.destroy())).then(()=>this._destructor(P))})}_getWatchdog(P){const V=this._watchdogs.get(P);if(!V)throw new Error(`Item with the given id was not registered: ${P}.`);return V}_isErrorComingFromThisItem(P){for(const V of this._watchdogs.values())if(V._isErrorComingFromThisItem(P))return!1;return T(this._context,P.context)}}class om{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(P){this._onEmptyCallbacks.push(P)}enqueue(P,V){const Z=P===Qo;this._activeActions++,this._queues.get(P)||this._queues.set(P,Promise.resolve());const ae=(Z?Promise.all(this._queues.values()):Promise.all([this._queues.get(Qo),this._queues.get(P)])).then(V),ve=ae.catch(()=>{});return this._queues.set(P,ve),ae.finally(()=>{this._activeActions--,this._queues.get(P)===ve&&this._activeActions===0&&this._onEmptyCallbacks.forEach(he=>he())})}}function Yl(O){return Array.isArray(O)?O:[O]}const Kl=k().createContext("contextWatchdog");class Za extends k().Component{constructor(P,V){super(P,V),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(P){return this._shouldComponentUpdate(P)}async _shouldComponentUpdate(P){return P.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(P.config)),P.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(P.config),!0):this.props.children!==P.children}render(){return k().createElement(Kl.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(P){this.contextWatchdog=new Ka(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(V,Z)=>{this.props.onError(Z.error,{phase:"runtime",willContextRestart:Z.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(P).catch(V=>{this.props.onError(V,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Za.defaultProps={isLayoutReady:!0,onError:(O,P)=>console.error(O,P)},Za.propTypes={id:w().string,isLayoutReady:w().bool,context:w().func,watchdogConfig:w().object,config:w().object,onReady:w().func,onError:w().func};const Zl="Lock from React integration (@ckeditor/ckeditor5-react)";class po extends k().Component{constructor(P){super(P),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:V}=window;if(V){const[Z]=V.split(".").map(Number);Z<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(P){return!!this.editor&&(P.id!==this.props.id||P.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(P)&&this.editor.data.set(P.data),"disabled"in P&&(P.disabled?this.editor.enableReadOnlyMode(Zl):this.editor.disableReadOnlyMode(Zl)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Ka?this.watchdog=new Ch(this.context):this.watchdog=new po._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((P,V)=>this._createEditor(P,V)),this.watchdog.on("error",(P,{error:V,causesRestart:Z})=>{(this.props.onError||console.error)(V,{phase:"runtime",willEditorRestart:Z})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(P=>{(this.props.onError||console.error)(P,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(P,V){return this.props.editor.create(P,V).then(Z=>{"disabled"in this.props&&this.props.disabled&&Z.enableReadOnlyMode(Zl);const ae=Z.model.document,ve=Z.editing.view.document;return ae.on("change:data",he=>{this.props.onChange&&this.props.onChange(he,Z)}),ve.on("focus",he=>{this.props.onFocus&&this.props.onFocus(he,Z)}),ve.on("blur",he=>{this.props.onBlur&&this.props.onBlur(he,Z)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Z)}),Z})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(P=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,P()):this.instance?(await this.instance.destroy(),this.instance=null,P()):void P())})}_shouldUpdateEditor(P){return this.props.data!==P.data&&this.editor.data.get()!==P.data}_getConfig(){const P=this.props.config||{};return this.props.data&&P.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...P,initialData:P.initialData||this.props.data||""}}}po.contextType=Kl,po.propTypes={editor:w().func.isRequired,data:w().string,config:w().object,disableWatchdog:w().bool,watchdogConfig:w().object,onChange:w().func,onReady:w().func,onFocus:w().func,onBlur:w().func,onError:w().func,disabled:w().bool,id:w().any},po._EditorWatchdog=Gl;class Ch{constructor(P){this._contextWatchdog=P,this._id=function(){const V=4294967296*Math.random()>>>0,Z=4294967296*Math.random()>>>0,ae=4294967296*Math.random()>>>0,ve=4294967296*Math.random()>>>0;return"e"+y[V>>0&255]+y[V>>8&255]+y[V>>16&255]+y[V>>24&255]+y[Z>>0&255]+y[Z>>8&255]+y[Z>>16&255]+y[Z>>24&255]+y[ae>>0&255]+y[ae>>8&255]+y[ae>>16&255]+y[ae>>24&255]+y[ve>>0&255]+y[ve>>8&255]+y[ve>>16&255]+y[ve>>24&255]}()}setCreator(P){this._creator=P}create(P,V){return this._contextWatchdog.add({sourceElementOrData:P,config:V,creator:this._creator,id:this._id,type:"editor"})}on(P,V){this._contextWatchdog.on("itemError",(Z,{itemId:ae,error:ve})=>{ae===this._id&&V(null,{error:ve,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Qa="Lock from React integration (@ckeditor/ckeditor5-react)",sm=O=>{let P=null;const V=(0,m.useRef)(null),Z=(0,m.useContext)(Kl),[ae,ve]=(0,m.useState)(null),[he,we]=(0,m.useState)(O.data),[ze,Ne]=(0,m.useState)(O.rootsAttributes||{}),[Yn,In]=(0,m.useState)([]),dn=(0,m.useRef)(!0),kn=(0,m.useRef)(null),Yi=k().createElement("div",{ref:kn});(0,m.useEffect)(()=>((async()=>(await V.current,O.isLayoutReady!==!1&&Zn()))(),()=>{bn().then(()=>{V.current=null})}),[O.isLayoutReady]),(0,m.useEffect)(()=>{ae&&(O.disabled?ae.enableReadOnlyMode(Qa):ae.disableReadOnlyMode(Qa))},[O.disabled]),(0,m.useEffect)(()=>{const Oe=kn.current;if(ae&&!V.current){const pt=ae.getFullData();we({...pt}),Ne({...ae.getRootsAttributes()}),In([...Object.keys(pt).map($e=>ft(ae,$e))]),Oe&&Oe.appendChild(ae.ui.view.toolbar.element)}return()=>{Oe&&Oe.firstChild&&Oe.removeChild(Oe.firstChild)}},[ae&&ae.id]);const Ei=()=>{const Oe=O.config||{};return O.data&&Oe.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Oe,rootsAttributes:ze}},ft=(Oe,pt)=>k().createElement("div",{id:pt,key:pt,ref:$e=>{if($e){const Si=Oe.ui.view.createEditable(pt,$e);Oe.ui.addEditable(Si),Oe.editing.view.forceRender()}}}),Kn=(Oe,pt)=>O.editor.create(Oe,pt).then($e=>{O.disabled&&O.disabled&&$e.enableReadOnlyMode(Qa);const Si=$e.model.document,Ve=$e.editing.view.document;return Si.on("change:data",mr=>((Rn,Qn)=>{const wn=Rn.model.document,Fn={},Kt={};wn.differ.getChanges().forEach(At=>{let un;if(un=At.type=="insert"||At.type=="remove"?At.position.root:At.range.root,!un.isAttached())return;const{rootName:go}=un;Fn[go]=Rn.getData({rootName:go})}),wn.differ.getChangedRoots().forEach(At=>{if(At.state)return void(Fn[At.name]!==void 0&&delete Fn[At.name]);const un=At.name;Kt[un]=Rn.getRootAttributes(un)}),Object.keys(Fn).length&&we(At=>({...At,...Fn})),Object.keys(Kt).length&&Ne(At=>({...At,...Kt})),O.onChange&&O.onChange(Qn,Rn)})($e,mr)),$e.on("addRoot",(mr,Rn)=>((Qn,wn,Fn)=>{const Kt=Fn.rootName,At=ft(Qn,Kt);we(un=>({...un,[Kt]:Qn.getData({rootName:Kt})})),Ne(un=>({...un,[Kt]:Qn.getRootAttributes(Kt)})),In(un=>[...un,At])})($e,0,Rn)),$e.on("detachRoot",(mr,Rn)=>((Qn,wn,Fn)=>{const Kt=Fn.rootName;In(At=>At.filter(un=>un.props.id!==Kt)),we(At=>{const{[Kt]:un,...go}=At;return{...go}}),Ne(At=>{const{[Kt]:un,...go}=At;return{...go}}),Qn.detachEditable(Fn)})($e,0,Rn)),Ve.on("focus",mr=>{O.onFocus&&O.onFocus(mr,$e)}),Ve.on("blur",mr=>{O.onBlur&&O.onBlur(mr,$e)}),ve($e),O.onReady&&O.onReady($e),$e}),bn=async()=>{ve(null),we({}),Ne({}),In([]),V.current=new Promise(Oe=>{setTimeout(async()=>P?(await P.destroy(),P=null,Oe()):ae?(await ae.destroy(),Oe()):void Oe())})},Zn=async()=>{O.disableWatchdog?await Kn(O.data,Ei()):P||(P=Z instanceof Ka?new Ch(Z):new Gl(O.editor,O.watchdogConfig),P.setCreator((Oe,pt)=>Kn(Oe,pt)),P.on("error",(Oe,{error:pt,causesRestart:$e})=>{(O.onError||console.error)(pt,{phase:"runtime",willEditorRestart:$e})}),await P.create(he,Ei()).catch(Oe=>{(O.onError||console.error)(Oe,{phase:"initialization",willEditorRestart:!1})}))};(0,m.useEffect)(()=>{if(ae&&dn.current){dn.current=!1;const Oe=Object.keys(he),pt=Object.keys(ze);if(!Oe.every(wn=>pt.includes(wn)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const $e=ae.getFullData(),Si=ae.getRootsAttributes(),{addedKeys:Ve,removedKeys:mr}=Ae($e,he||{}),Rn=Oe.some(wn=>$e[wn]!==void 0&&JSON.stringify($e[wn])!==JSON.stringify(he[wn])),Qn=pt.filter(wn=>JSON.stringify(Si[wn])!==JSON.stringify(ze[wn]));ae.model.change(wn=>{Ft(Ve),Ja(mr),Rn&&xh(),Qn.length&&Eh(wn,Qn)})}},[he,ze]);const Ae=(Oe,pt)=>{const $e=Object.keys(Oe),Si=Object.keys(pt);return{addedKeys:Si.filter(Ve=>!$e.includes(Ve)),removedKeys:$e.filter(Ve=>!Si.includes(Ve))}},Ft=Oe=>{Oe.forEach(pt=>{ae.addRoot(pt,{data:he[pt]||"",attributes:(ze==null?void 0:ze[pt])||{},isUndoable:!0})})},Ja=Oe=>{Oe.forEach(pt=>{ae.detachRoot(pt,!0)})},xh=()=>{ae.data.set(he,{suppressErrorInCollaboration:!0})},Eh=(Oe,pt)=>{pt.forEach($e=>{Object.keys(ze[$e]).forEach(Si=>{ae.registerRootAttribute(Si)}),Oe.clearAttributes(ae.model.document.getRoot($e)),Oe.setAttributes(ze[$e],ae.model.document.getRoot($e))})},Sh=(0,m.useCallback)(Oe=>{dn.current=!0,we(Oe)},[we]),Re=(0,m.useCallback)(Oe=>{dn.current=!0,Ne(Oe)},[Ne]);return{editor:ae,editableElements:Yn,toolbarElement:Yi,data:he,setData:Sh,attributes:ze,setAttributes:Re}}})(),f})())})(og,og.exports);var NV=og.exports,Ut={exports:{}},On=Ut.exports;(function(i){const n=i.en=i.en||{};n.dictionary=Object.assign(n.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Dim grey":"Dim grey",Disc:"Disc",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal line":"Horizontal line","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Save:"Save","Select all":"Select all","Show more items":"Show more items","Side image":"Side image",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,n){typeof On=="object"&&typeof Ut=="object"?Ut.exports=n():typeof define=="function"&&define.amd?define([],n):typeof On=="object"?On.InlineEditor=n():i.InlineEditor=n()}(self,()=>(()=>{var i={8168:(d,h,f)=>{const m=f(8874),k={};for(const w of Object.keys(m))k[m[w]]=w;const b={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=b;for(const w of Object.keys(b)){if(!("channels"in b[w]))throw new Error("missing channels property: "+w);if(!("labels"in b[w]))throw new Error("missing channel labels property: "+w);if(b[w].labels.length!==b[w].channels)throw new Error("channel and label counts mismatch: "+w);const{channels:y,labels:C}=b[w];delete b[w].channels,delete b[w].labels,Object.defineProperty(b[w],"channels",{value:y}),Object.defineProperty(b[w],"labels",{value:C})}b.rgb.hsl=function(w){const y=w[0]/255,C=w[1]/255,x=w[2]/255,D=Math.min(y,C,x),T=Math.max(y,C,x),z=T-D;let N,L;T===D?N=0:y===T?N=(C-x)/z:C===T?N=2+(x-y)/z:x===T&&(N=4+(y-C)/z),N=Math.min(60*N,360),N<0&&(N+=360);const S=(D+T)/2;return L=T===D?0:S<=.5?z/(T+D):z/(2-T-D),[N,100*L,100*S]},b.rgb.hsv=function(w){let y,C,x,D,T;const z=w[0]/255,N=w[1]/255,L=w[2]/255,S=Math.max(z,N,L),F=S-Math.min(z,N,L),H=function(J){return(S-J)/6/F+.5};return F===0?(D=0,T=0):(T=F/S,y=H(z),C=H(N),x=H(L),z===S?D=x-C:N===S?D=.3333333333333333+y-x:L===S&&(D=.6666666666666666+C-y),D<0?D+=1:D>1&&(D-=1)),[360*D,100*T,100*S]},b.rgb.hwb=function(w){const y=w[0],C=w[1];let x=w[2];const D=b.rgb.hsl(w)[0],T=1/255*Math.min(y,Math.min(C,x));return x=1-.00392156862745098*Math.max(y,Math.max(C,x)),[D,100*T,100*x]},b.rgb.cmyk=function(w){const y=w[0]/255,C=w[1]/255,x=w[2]/255,D=Math.min(1-y,1-C,1-x);return[100*((1-y-D)/(1-D)||0),100*((1-C-D)/(1-D)||0),100*((1-x-D)/(1-D)||0),100*D]},b.rgb.keyword=function(w){const y=k[w];if(y)return y;let C,x=1/0;for(const z of Object.keys(m)){const N=m[z],L=(T=N,((D=w)[0]-T[0])**2+(D[1]-T[1])**2+(D[2]-T[2])**2);L<x&&(x=L,C=z)}var D,T;return C},b.keyword.rgb=function(w){return m[w]},b.rgb.xyz=function(w){let y=w[0]/255,C=w[1]/255,x=w[2]/255;return y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,C=C>.04045?((C+.055)/1.055)**2.4:C/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,[100*(.4124*y+.3576*C+.1805*x),100*(.2126*y+.7152*C+.0722*x),100*(.0193*y+.1192*C+.9505*x)]},b.rgb.lab=function(w){const y=b.rgb.xyz(w);let C=y[0],x=y[1],D=y[2];return C/=95.047,x/=100,D/=108.883,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,[116*x-16,500*(C-x),200*(x-D)]},b.hsl.rgb=function(w){const y=w[0]/360,C=w[1]/100,x=w[2]/100;let D,T,z;if(C===0)return z=255*x,[z,z,z];D=x<.5?x*(1+C):x+C-x*C;const N=2*x-D,L=[0,0,0];for(let S=0;S<3;S++)T=y+.3333333333333333*-(S-1),T<0&&T++,T>1&&T--,z=6*T<1?N+6*(D-N)*T:2*T<1?D:3*T<2?N+(D-N)*(.6666666666666666-T)*6:N,L[S]=255*z;return L},b.hsl.hsv=function(w){const y=w[0];let C=w[1]/100,x=w[2]/100,D=C;const T=Math.max(x,.01);return x*=2,C*=x<=1?x:2-x,D*=T<=1?T:2-T,[y,100*(x===0?2*D/(T+D):2*C/(x+C)),100*((x+C)/2)]},b.hsv.rgb=function(w){const y=w[0]/60,C=w[1]/100;let x=w[2]/100;const D=Math.floor(y)%6,T=y-Math.floor(y),z=255*x*(1-C),N=255*x*(1-C*T),L=255*x*(1-C*(1-T));switch(x*=255,D){case 0:return[x,L,z];case 1:return[N,x,z];case 2:return[z,x,L];case 3:return[z,N,x];case 4:return[L,z,x];case 5:return[x,z,N]}},b.hsv.hsl=function(w){const y=w[0],C=w[1]/100,x=w[2]/100,D=Math.max(x,.01);let T,z;z=(2-C)*x;const N=(2-C)*D;return T=C*D,T/=N<=1?N:2-N,T=T||0,z/=2,[y,100*T,100*z]},b.hwb.rgb=function(w){const y=w[0]/360;let C=w[1]/100,x=w[2]/100;const D=C+x;let T;D>1&&(C/=D,x/=D);const z=Math.floor(6*y),N=1-x;T=6*y-z,1&z&&(T=1-T);const L=C+T*(N-C);let S,F,H;switch(z){default:case 6:case 0:S=N,F=L,H=C;break;case 1:S=L,F=N,H=C;break;case 2:S=C,F=N,H=L;break;case 3:S=C,F=L,H=N;break;case 4:S=L,F=C,H=N;break;case 5:S=N,F=C,H=L}return[255*S,255*F,255*H]},b.cmyk.rgb=function(w){const y=w[0]/100,C=w[1]/100,x=w[2]/100,D=w[3]/100;return[255*(1-Math.min(1,y*(1-D)+D)),255*(1-Math.min(1,C*(1-D)+D)),255*(1-Math.min(1,x*(1-D)+D))]},b.xyz.rgb=function(w){const y=w[0]/100,C=w[1]/100,x=w[2]/100;let D,T,z;return D=3.2406*y+-1.5372*C+-.4986*x,T=-.9689*y+1.8758*C+.0415*x,z=.0557*y+-.204*C+1.057*x,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,z=z>.0031308?1.055*z**.4166666666666667-.055:12.92*z,D=Math.min(Math.max(0,D),1),T=Math.min(Math.max(0,T),1),z=Math.min(Math.max(0,z),1),[255*D,255*T,255*z]},b.xyz.lab=function(w){let y=w[0],C=w[1],x=w[2];return y/=95.047,C/=100,x/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,[116*C-16,500*(y-C),200*(C-x)]},b.lab.xyz=function(w){let y,C,x;C=(w[0]+16)/116,y=w[1]/500+C,x=C-w[2]/200;const D=C**3,T=y**3,z=x**3;return C=D>.008856?D:(C-.13793103448275862)/7.787,y=T>.008856?T:(y-.13793103448275862)/7.787,x=z>.008856?z:(x-.13793103448275862)/7.787,y*=95.047,C*=100,x*=108.883,[y,C,x]},b.lab.lch=function(w){const y=w[0],C=w[1],x=w[2];let D;return D=360*Math.atan2(x,C)/2/Math.PI,D<0&&(D+=360),[y,Math.sqrt(C*C+x*x),D]},b.lch.lab=function(w){const y=w[0],C=w[1],x=w[2]/360*2*Math.PI;return[y,C*Math.cos(x),C*Math.sin(x)]},b.rgb.ansi16=function(w,y=null){const[C,x,D]=w;let T=y===null?b.rgb.hsv(w)[2]:y;if(T=Math.round(T/50),T===0)return 30;let z=30+(Math.round(D/255)<<2|Math.round(x/255)<<1|Math.round(C/255));return T===2&&(z+=60),z},b.hsv.ansi16=function(w){return b.rgb.ansi16(b.hsv.rgb(w),w[2])},b.rgb.ansi256=function(w){const y=w[0],C=w[1],x=w[2];return y===C&&C===x?y<8?16:y>248?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(C/255*5)+Math.round(x/255*5)},b.ansi16.rgb=function(w){let y=w%10;if(y===0||y===7)return w>50&&(y+=3.5),y=y/10.5*255,[y,y,y];const C=.5*(1+~~(w>50));return[(1&y)*C*255,(y>>1&1)*C*255,(y>>2&1)*C*255]},b.ansi256.rgb=function(w){if(w>=232){const C=10*(w-232)+8;return[C,C,C]}let y;return w-=16,[Math.floor(w/36)/5*255,Math.floor((y=w%36)/6)/5*255,y%6/5*255]},b.rgb.hex=function(w){const y=(((255&Math.round(w[0]))<<16)+((255&Math.round(w[1]))<<8)+(255&Math.round(w[2]))).toString(16).toUpperCase();return"000000".substring(y.length)+y},b.hex.rgb=function(w){const y=w.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!y)return[0,0,0];let C=y[0];y[0].length===3&&(C=C.split("").map(D=>D+D).join(""));const x=parseInt(C,16);return[x>>16&255,x>>8&255,255&x]},b.rgb.hcg=function(w){const y=w[0]/255,C=w[1]/255,x=w[2]/255,D=Math.max(Math.max(y,C),x),T=Math.min(Math.min(y,C),x),z=D-T;let N,L;return N=z<1?T/(1-z):0,L=z<=0?0:D===y?(C-x)/z%6:D===C?2+(x-y)/z:4+(y-C)/z,L/=6,L%=1,[360*L,100*z,100*N]},b.hsl.hcg=function(w){const y=w[1]/100,C=w[2]/100,x=C<.5?2*y*C:2*y*(1-C);let D=0;return x<1&&(D=(C-.5*x)/(1-x)),[w[0],100*x,100*D]},b.hsv.hcg=function(w){const y=w[1]/100,C=w[2]/100,x=y*C;let D=0;return x<1&&(D=(C-x)/(1-x)),[w[0],100*x,100*D]},b.hcg.rgb=function(w){const y=w[0]/360,C=w[1]/100,x=w[2]/100;if(C===0)return[255*x,255*x,255*x];const D=[0,0,0],T=y%1*6,z=T%1,N=1-z;let L=0;switch(Math.floor(T)){case 0:D[0]=1,D[1]=z,D[2]=0;break;case 1:D[0]=N,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=z;break;case 3:D[0]=0,D[1]=N,D[2]=1;break;case 4:D[0]=z,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=N}return L=(1-C)*x,[255*(C*D[0]+L),255*(C*D[1]+L),255*(C*D[2]+L)]},b.hcg.hsv=function(w){const y=w[1]/100,C=y+w[2]/100*(1-y);let x=0;return C>0&&(x=y/C),[w[0],100*x,100*C]},b.hcg.hsl=function(w){const y=w[1]/100,C=w[2]/100*(1-y)+.5*y;let x=0;return C>0&&C<.5?x=y/(2*C):C>=.5&&C<1&&(x=y/(2*(1-C))),[w[0],100*x,100*C]},b.hcg.hwb=function(w){const y=w[1]/100,C=y+w[2]/100*(1-y);return[w[0],100*(C-y),100*(1-C)]},b.hwb.hcg=function(w){const y=w[1]/100,C=1-w[2]/100,x=C-y;let D=0;return x<1&&(D=(C-x)/(1-x)),[w[0],100*x,100*D]},b.apple.rgb=function(w){return[w[0]/65535*255,w[1]/65535*255,w[2]/65535*255]},b.rgb.apple=function(w){return[w[0]/255*65535,w[1]/255*65535,w[2]/255*65535]},b.gray.rgb=function(w){return[w[0]/100*255,w[0]/100*255,w[0]/100*255]},b.gray.hsl=function(w){return[0,0,w[0]]},b.gray.hsv=b.gray.hsl,b.gray.hwb=function(w){return[0,100,w[0]]},b.gray.cmyk=function(w){return[0,0,0,w[0]]},b.gray.lab=function(w){return[w[0],0,0]},b.gray.hex=function(w){const y=255&Math.round(w[0]/100*255),C=((y<<16)+(y<<8)+y).toString(16).toUpperCase();return"000000".substring(C.length)+C},b.rgb.gray=function(w){return[(w[0]+w[1]+w[2])/3/255*100]}},2085:(d,h,f)=>{const m=f(8168),k=f(4111),b={};Object.keys(m).forEach(w=>{b[w]={},Object.defineProperty(b[w],"channels",{value:m[w].channels}),Object.defineProperty(b[w],"labels",{value:m[w].labels});const y=k(w);Object.keys(y).forEach(C=>{const x=y[C];b[w][C]=function(D){const T=function(...z){const N=z[0];if(N==null)return N;N.length>1&&(z=N);const L=D(z);if(typeof L=="object")for(let S=L.length,F=0;F<S;F++)L[F]=Math.round(L[F]);return L};return"conversion"in D&&(T.conversion=D.conversion),T}(x),b[w][C].raw=function(D){const T=function(...z){const N=z[0];return N==null?N:(N.length>1&&(z=N),D(z))};return"conversion"in D&&(T.conversion=D.conversion),T}(x)})}),d.exports=b},4111:(d,h,f)=>{const m=f(8168);function k(y){const C=function(){const D={},T=Object.keys(m);for(let z=T.length,N=0;N<z;N++)D[T[N]]={distance:-1,parent:null};return D}(),x=[y];for(C[y].distance=0;x.length;){const D=x.pop(),T=Object.keys(m[D]);for(let z=T.length,N=0;N<z;N++){const L=T[N],S=C[L];S.distance===-1&&(S.distance=C[D].distance+1,S.parent=D,x.unshift(L))}}return C}function b(y,C){return function(x){return C(y(x))}}function w(y,C){const x=[C[y].parent,y];let D=m[C[y].parent][y],T=C[y].parent;for(;C[T].parent;)x.unshift(C[T].parent),D=b(m[C[T].parent][T],D),T=C[T].parent;return D.conversion=x,D}d.exports=function(y){const C=k(y),x={},D=Object.keys(C);for(let T=D.length,z=0;z<T;z++){const N=D[z];C[N].parent!==null&&(x[N]=w(N,C))}return x}},8874:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const y=w},3789:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const y=w},799:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const y=w},7372:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const y=w},5037:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const y=w},4249:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const y=w},9893:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const y=w},2430:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const y=w},2423:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const y=w},8879:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD,CCfA,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const y=w},8340:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const y=w},2400:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const y=w},3534:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const y=w},1547:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const y=w},6618:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const y=w},2926:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const y=w},5269:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},3925:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const y=w},7536:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CCtDD,oCD0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CCzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},4874:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const y=w},4330:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const y=w},5782:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`],sourceRoot:""}]);const y=w},3190:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const y=w},4784:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const y=w},9938:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const y=w},2591:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const y=w},9292:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const y=w},8705:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const y=w},1922:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const y=w},7138:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},4029:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},4971:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=w},7258:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=w},4923:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const y=w},4257:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const y=w},6306:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const y=w},5062:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},1883:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},4791:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},2704:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const y=w},9847:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},1874:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCXD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAkBD,CAbC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const y=w},4746:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const y=w},1977:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const y=w},2470:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},3525:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const y=w},2933:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,4WAGE,+HAYF,CAfA,4WAOE,wIAQF,CAfA,wVAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},179:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,oJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAgED,CA9DC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA6CD,CA/CA,uCAME,eAyCF,CA/CA,uCAUE,gBAqCF,CA/CA,6BAgBC,qCA+BD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},4460:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},7592:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const y=w},6356:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},3707:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},6603:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CCvBD,oCDMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CCpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},9332:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const y=w},6446:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const y=w},5224:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const y=w},4176:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const y=w},4768:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=w},3888:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const y=w},5167:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CC3GhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJ2GD,CIrGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const y=w},7153:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=w},4875:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const y=w},2347:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const y=w},5948:(d,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),k=f.n(m),b=f(3645),w=f.n(b)()(k());w.push([d.id,".ck-editor.ck-plugin-full-screen{align-items:center;background-color:#fff;display:flex;flex-direction:column;height:100vh;left:0;position:fixed;top:0;width:100%;z-index:100}.ck-editor.ck-plugin-full-screen .ck-editor__main,.ck-editor.ck-plugin-full-screen .ck-editor__top{max-width:1000px;width:100%}.ck-editor.ck-plugin-full-screen .ck-editor__top{margin-top:2em}.ck-editor.ck-plugin-full-screen .ck-editor__main{flex-grow:1;margin-bottom:2em;overflow-y:hidden}.ck-editor.ck-plugin-full-screen .ck-source-editing-area{height:100%}.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea{overflow-y:scroll}","",{version:3,sources:["webpack://./plugins/fullscreen/theme/fullscreen.css"],names:[],mappings:"AAAA,iCASE,kBAAmB,CACnB,qBAAsB,CAHtB,YAAa,CACb,qBAAsB,CAFtB,YAAa,CAHb,MAAO,CAFP,cAAe,CACf,KAAM,CAGN,UAAW,CADX,WAOF,CAEA,mGAGE,gBAAiB,CADjB,UAEF,CAEA,iDACE,cACF,CAEA,kDAEE,WAAY,CAEZ,iBAAkB,CADlB,iBAEF,CAGA,yDACE,WACF,CAEA,kEACE,iBACF",sourcesContent:[`.ck-editor.ck-plugin-full-screen {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #fff;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top,
.ck-editor.ck-plugin-full-screen .ck-editor__main {
  width: 100%;
  max-width: 1000px;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top {
  margin-top: 2em;
}

.ck-editor.ck-plugin-full-screen .ck-editor__main {
  /* Fill the rest of the height of the parent */
  flex-grow: 1;
  overflow-y: hidden;
  margin-bottom: 2em;
}

/* Make source view also cover the whole viewport */
.ck-editor.ck-plugin-full-screen .ck-source-editing-area {
  height: 100%;
}

.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea {
  overflow-y: scroll;
}
`],sourceRoot:""}]);const y=w},3645:d=>{d.exports=function(h){var f=[];return f.toString=function(){return this.map(function(m){var k=h(m);return m[2]?"@media ".concat(m[2]," {").concat(k,"}"):k}).join("")},f.i=function(m,k,b){typeof m=="string"&&(m=[[null,m,""]]);var w={};if(b)for(var y=0;y<this.length;y++){var C=this[y][0];C!=null&&(w[C]=!0)}for(var x=0;x<m.length;x++){var D=[].concat(m[x]);b&&w[D[0]]||(k&&(D[2]?D[2]="".concat(k," and ").concat(D[2]):D[2]=k),f.push(D))}},f}},4015:d=>{function h(m,k){return function(b){if(Array.isArray(b))return b}(m)||function(b,w){var y=b&&(typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"]);if(y!=null){var C,x,D=[],T=!0,z=!1;try{for(y=y.call(b);!(T=(C=y.next()).done)&&(D.push(C.value),!w||D.length!==w);T=!0);}catch(N){z=!0,x=N}finally{try{T||y.return==null||y.return()}finally{if(z)throw x}}return D}}(m,k)||function(b,w){if(b){if(typeof b=="string")return f(b,w);var y=Object.prototype.toString.call(b).slice(8,-1);if(y==="Object"&&b.constructor&&(y=b.constructor.name),y==="Map"||y==="Set")return Array.from(b);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return f(b,w)}}(m,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(m,k){(k==null||k>m.length)&&(k=m.length);for(var b=0,w=new Array(k);b<k;b++)w[b]=m[b];return w}d.exports=function(m){var k=h(m,4),b=k[1],w=k[3];if(!w)return b;if(typeof btoa=="function"){var y=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),x="/*# ".concat(C," */"),D=w.sources.map(function(T){return"/*# sourceURL=".concat(w.sourceRoot||"").concat(T," */")});return[b].concat(D).concat([x]).join(`
`)}return[b].join(`
`)}},3379:(d,h,f)=>{var m,k=function(){return m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m},b=function(){var H={};return function(J){if(H[J]===void 0){var Y=document.querySelector(J);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch{Y=null}H[J]=Y}return H[J]}}(),w=[];function y(H){for(var J=-1,Y=0;Y<w.length;Y++)if(w[Y].identifier===H){J=Y;break}return J}function C(H,J){for(var Y={},ee=[],oe=0;oe<H.length;oe++){var de=H[oe],K=J.base?de[0]+J.base:de[0],Q=Y[K]||0,q="".concat(K," ").concat(Q);Y[K]=Q+1;var U=y(q),W={css:de[1],media:de[2],sourceMap:de[3]};U!==-1?(w[U].references++,w[U].updater(W)):w.push({identifier:q,updater:F(W,J),references:1}),ee.push(q)}return ee}function x(H){var J=document.createElement("style"),Y=H.attributes||{};if(Y.nonce===void 0){var ee=f.nc;ee&&(Y.nonce=ee)}if(Object.keys(Y).forEach(function(de){J.setAttribute(de,Y[de])}),typeof H.insert=="function")H.insert(J);else{var oe=b(H.insert||"head");if(!oe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");oe.appendChild(J)}return J}var D,T=(D=[],function(H,J){return D[H]=J,D.filter(Boolean).join(`
`)});function z(H,J,Y,ee){var oe=Y?"":ee.media?"@media ".concat(ee.media," {").concat(ee.css,"}"):ee.css;if(H.styleSheet)H.styleSheet.cssText=T(J,oe);else{var de=document.createTextNode(oe),K=H.childNodes;K[J]&&H.removeChild(K[J]),K.length?H.insertBefore(de,K[J]):H.appendChild(de)}}function N(H,J,Y){var ee=Y.css,oe=Y.media,de=Y.sourceMap;if(oe?H.setAttribute("media",oe):H.removeAttribute("media"),de&&typeof btoa<"u"&&(ee+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(de))))," */")),H.styleSheet)H.styleSheet.cssText=ee;else{for(;H.firstChild;)H.removeChild(H.firstChild);H.appendChild(document.createTextNode(ee))}}var L=null,S=0;function F(H,J){var Y,ee,oe;if(J.singleton){var de=S++;Y=L||(L=x(J)),ee=z.bind(null,Y,de,!1),oe=z.bind(null,Y,de,!0)}else Y=x(J),ee=N.bind(null,Y,J),oe=function(){(function(K){if(K.parentNode===null)return!1;K.parentNode.removeChild(K)})(Y)};return ee(H),function(K){if(K){if(K.css===H.css&&K.media===H.media&&K.sourceMap===H.sourceMap)return;ee(H=K)}else oe()}}d.exports=function(H,J){(J=J||{}).singleton||typeof J.singleton=="boolean"||(J.singleton=k());var Y=C(H=H||[],J);return function(ee){if(ee=ee||[],Object.prototype.toString.call(ee)==="[object Array]"){for(var oe=0;oe<Y.length;oe++){var de=y(Y[oe]);w[de].references--}for(var K=C(ee,J),Q=0;Q<Y.length;Q++){var q=y(Y[Q]);w[q].references===0&&(w[q].updater(),w.splice(q,1))}Y=K}}}}},n={};function o(d){var h=n[d];if(h!==void 0)return h.exports;var f=n[d]={id:d,exports:{}};return i[d](f,f.exports,o),f.exports}o.n=d=>{var h=d&&d.__esModule?()=>d.default:()=>d;return o.d(h,{a:h}),h},o.d=(d,h)=>{for(var f in h)o.o(h,f)&&!o.o(d,f)&&Object.defineProperty(d,f,{enumerable:!0,get:h[f]})},o.o=(d,h)=>Object.prototype.hasOwnProperty.call(d,h),o.nc=void 0;var c={};return(()=>{o.d(c,{default:()=>PL});const d=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),h={isMac:m(d),isWindows:function(a){return a.indexOf("windows")>-1}(d),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(d),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(d),isiOS:function(a){return!!a.match(/iphone|ipad/i)||m(a)&&navigator.maxTouchPoints>0}(d),isAndroid:function(a){return a.indexOf("android")>-1}(d),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(d),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}},f=h;function m(a){return a.indexOf("macintosh")>-1}function k(a,e,t,r){t=t||function(g,v){return g===v};const s=Array.isArray(a)?a:Array.prototype.slice.call(a),l=Array.isArray(e)?e:Array.prototype.slice.call(e),u=function(g,v,_){const A=b(g,v,_);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const E=w(g,A),I=w(v,A),B=b(E,I,_),j=g.length-B,$=v.length-B;return{firstIndex:A,lastIndexOld:j,lastIndexNew:$}}(s,l,t);return r?function(g,v){const{firstIndex:_,lastIndexOld:A,lastIndexNew:E}=g;if(_===-1)return Array(v).fill("equal");let I=[];return _>0&&(I=I.concat(Array(_).fill("equal"))),E-_>0&&(I=I.concat(Array(E-_).fill("insert"))),A-_>0&&(I=I.concat(Array(A-_).fill("delete"))),E<v&&(I=I.concat(Array(v-E).fill("equal"))),I}(u,l.length):function(g,v){const _=[],{firstIndex:A,lastIndexOld:E,lastIndexNew:I}=v;return I-A>0&&_.push({index:A,type:"insert",values:g.slice(A,I)}),E-A>0&&_.push({index:A+(I-A),type:"delete",howMany:E-A}),_}(l,u)}function b(a,e,t){for(let r=0;r<Math.max(a.length,e.length);r++)if(a[r]===void 0||e[r]===void 0||!t(a[r],e[r]))return r;return-1}function w(a,e){return a.slice(e).reverse()}function y(a,e,t){t=t||function(j,$){return j===$};const r=a.length,s=e.length;if(r>200||s>200||r+s>300)return y.fastDiff(a,e,t,!0);let l,u;if(s<r){const j=a;a=e,e=j,l="delete",u="insert"}else l="insert",u="delete";const p=a.length,g=e.length,v=g-p,_={},A={};function E(j){const $=(A[j-1]!==void 0?A[j-1]:-1)+1,G=A[j+1]!==void 0?A[j+1]:-1,te=$>G?-1:1;_[j+te]&&(_[j]=_[j+te].slice(0)),_[j]||(_[j]=[]),_[j].push($>G?l:u);let le=Math.max($,G),xe=le-j;for(;xe<p&&le<g&&t(a[xe],e[le]);)xe++,le++,_[j].push("equal");return le}let I,B=0;do{for(I=-B;I<v;I++)A[I]=E(I);for(I=v+B;I>v;I--)A[I]=E(I);A[v]=E(v),B++}while(A[v]!==g);return _[v].slice(1)}y.fastDiff=k;const C=function(){return function a(){a.called=!0}};class x{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=C(),this.off=C()}}const D=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function T(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+D[a>>0&255]+D[a>>8&255]+D[a>>16&255]+D[a>>24&255]+D[e>>0&255]+D[e>>8&255]+D[e>>16&255]+D[e>>24&255]+D[t>>0&255]+D[t>>8&255]+D[t>>16&255]+D[t>>24&255]+D[r>>0&255]+D[r>>8&255]+D[r>>16&255]+D[r>>24&255]}const z={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function N(a,e){const t=z.get(e.priority);for(let r=0;r<a.length;r++)if(z.get(a[r].priority)<t)return void a.splice(r,0,e);a.push(e)}const L="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class S extends Error{constructor(e,t,r){super(function(s,l){const u=new WeakSet,p=(_,A)=>{if(typeof A=="object"&&A!==null){if(u.has(A))return`[object ${A.constructor.name}]`;u.add(A)}return A},g=l?` ${JSON.stringify(l,p)}`:"",v=H(s);return s+g+v}(e,r)),this.name="CKEditorError",this.context=t,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const r=new S(e.message,t);throw r.stack=e.stack,r}}function F(a,e){console.warn(...J(a,e))}function H(a){return`
Read more: ${L}#error-${a}`}function J(a,e){const t=H(a);return e?[a,e,t]:[a,t]}const Y="40.0.0",ee=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new S("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Y;const oe=Symbol("listeningTo"),de=Symbol("emitterId"),K=Symbol("delegations"),Q=q(Object);function q(a){return a?class extends a{on(e,t,r){this.listenTo(this,e,t,r)}once(e,t,r){let s=!1;this.listenTo(this,e,(l,...u)=>{s||(s=!0,l.off(),t.call(this,l,...u))},r)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,r,s={}){let l,u;this[oe]||(this[oe]={});const p=this[oe];W(e)||U(e);const g=W(e);(l=p[g])||(l=p[g]={emitter:e,callbacks:{}}),(u=l.callbacks[t])||(u=l.callbacks[t]=[]),u.push(r),function(v,_,A,E,I){_._addEventListener?_._addEventListener(A,E,I):v._addEventListener.call(_,A,E,I)}(this,e,t,r,s)}stopListening(e,t,r){const s=this[oe];let l=e&&W(e);const u=s&&l?s[l]:void 0,p=u&&t?u.callbacks[t]:void 0;if(!(!s||e&&!u||t&&!p))if(r)pe(this,e,t,r),p.indexOf(r)!==-1&&(p.length===1?delete u.callbacks[t]:pe(this,e,t,r));else if(p){for(;r=p.pop();)pe(this,e,t,r);delete u.callbacks[t]}else if(u){for(t in u.callbacks)this.stopListening(e,t);delete s[l]}else{for(l in s)this.stopListening(s[l].emitter);delete this[oe]}}fire(e,...t){try{const r=e instanceof x?e:new x(this,e),s=r.name;let l=re(this,s);if(r.path.push(this),l){const p=[r,...t];l=Array.from(l);for(let g=0;g<l.length&&(l[g].callback.apply(this,p),r.off.called&&(delete r.off.called,this._removeEventListener(s,l[g].callback)),!r.stop.called);g++);}const u=this[K];if(u){const p=u.get(s),g=u.get("*");p&&ie(p,r,t),g&&ie(g,r,t)}return r.return}catch(r){S.rethrowUnexpectedError(r,this)}}delegate(...e){return{to:(t,r)=>{this[K]||(this[K]=new Map),e.forEach(s=>{const l=this[K].get(s);l?l.set(t,r):this[K].set(s,new Map([[t,r]]))})}}}stopDelegating(e,t){if(this[K])if(e)if(t){const r=this[K].get(e);r&&r.delete(t)}else this[K].delete(e);else this[K].clear()}_addEventListener(e,t,r){(function(u,p){const g=X(u);if(g[p])return;let v=p,_=null;const A=[];for(;v!==""&&!g[v];)g[v]={callbacks:[],childEvents:[]},A.push(g[v]),_&&g[v].childEvents.push(_),_=v,v=v.substr(0,v.lastIndexOf(":"));if(v!==""){for(const E of A)E.callbacks=g[v].callbacks.slice();g[v].childEvents.push(_)}})(this,e);const s=se(this,e),l={callback:t,priority:z.get(r.priority)};for(const u of s)N(u,l)}_removeEventListener(e,t){const r=se(this,e);for(const s of r)for(let l=0;l<s.length;l++)s[l].callback==t&&(s.splice(l,1),l--)}}:Q}function U(a,e){a[de]||(a[de]=e||T())}function W(a){return a[de]}function X(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function se(a,e){const t=X(a)[e];if(!t)return[];let r=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const l=se(a,t.childEvents[s]);r=r.concat(l)}return r}function re(a,e){let t;return a._events&&(t=a._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?re(a,e.substr(0,e.lastIndexOf(":"))):null}function ie(a,e,t){for(let[r,s]of a){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const l=new x(e.source,s);l.path=[...e.path],r.fire(l,...t)}}function pe(a,e,t,r){e._removeEventListener?e._removeEventListener(t,r):a._removeEventListener.call(e,t,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{q[a]=Q.prototype[a]});const ge=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},Se=Symbol("observableProperties"),nt=Symbol("boundObservables"),wt=Symbol("boundProperties"),it=Symbol("decoratedMethods"),Ee=Symbol("decoratedOriginal"),an=Me(q());function Me(a){return a?class extends a{set(e,t){if(ge(e))return void Object.keys(e).forEach(s=>{this.set(s,e[s])},this);It(this);const r=this[Se];if(e in this&&!r.has(e))throw new S("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>r.get(e),set(s){const l=r.get(e);let u=this.fire(`set:${e}`,e,s,l);u===void 0&&(u=s),l===u&&r.has(e)||(r.set(e,u),this.fire(`change:${e}`,e,u,l))}}),this[e]=t}bind(...e){if(!e.length||!hr(e))throw new S("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new S("observable-bind-duplicate-properties",this);It(this);const t=this[wt];e.forEach(s=>{if(t.has(s))throw new S("observable-bind-rebind",this)});const r=new Map;return e.forEach(s=>{const l={property:s,to:[]};t.set(s,l),r.set(s,l)}),{to:oi,toMany:_i,_observable:this,_bindProperties:e,_to:[],_bindings:r}}unbind(...e){if(!this[Se])return;const t=this[wt],r=this[nt];if(e.length){if(!hr(e))throw new S("observable-unbind-wrong-properties",this);e.forEach(s=>{const l=t.get(s);l&&(l.to.forEach(([u,p])=>{const g=r.get(u),v=g[p];v.delete(l),v.size||delete g[p],Object.keys(g).length||(r.delete(u),this.stopListening(u,"change"))}),t.delete(s))})}else r.forEach((s,l)=>{this.stopListening(l,"change")}),r.clear(),t.clear()}decorate(e){It(this);const t=this[e];if(!t)throw new S("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(r,s)=>{r.return=t.apply(this,s)}),this[e]=function(...r){return this.fire(e,r)},this[e][Ee]=t,this[it]||(this[it]=[]),this[it].push(e)}stopListening(e,t,r){if(!e&&this[it]){for(const s of this[it])this[s]=this[s][Ee];delete this[it]}super.stopListening(e,t,r)}}:an}function It(a){a[Se]||(Object.defineProperty(a,Se,{value:new Map}),Object.defineProperty(a,nt,{value:new Map}),Object.defineProperty(a,wt,{value:new Map}))}function oi(...a){const e=function(...l){if(!l.length)throw new S("observable-bind-to-parse-error",null);const u={to:[]};let p;return typeof l[l.length-1]=="function"&&(u.callback=l.pop()),l.forEach(g=>{if(typeof g=="string")p.properties.push(g);else{if(typeof g!="object")throw new S("observable-bind-to-parse-error",null);p={observable:g,properties:[]},u.to.push(p)}}),u}(...a),t=Array.from(this._bindings.keys()),r=t.length;if(!e.callback&&e.to.length>1)throw new S("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new S("observable-bind-to-extra-callback",this);var s;e.to.forEach(l=>{if(l.properties.length&&l.properties.length!==r)throw new S("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),s=this._observable,this._to.forEach(l=>{const u=s[nt];let p;u.get(l.observable)||s.listenTo(l.observable,"change",(g,v)=>{p=u.get(l.observable)[v],p&&p.forEach(_=>{Wi(s,_.property)})})}),function(l){let u;l._bindings.forEach((p,g)=>{l._to.forEach(v=>{u=v.properties[p.callback?0:l._bindProperties.indexOf(g)],p.to.push([v.observable,u]),function(_,A,E,I){const B=_[nt],j=B.get(E),$=j||{};$[I]||($[I]=new Set),$[I].add(A),j||B.set(E,$)}(l._observable,p,v.observable,u)})})}(this),this._bindProperties.forEach(l=>{Wi(this._observable,l)})}function _i(a,e,t){if(this._bindings.size>1)throw new S("observable-bind-to-many-not-one-binding",this);this.to(...function(r,s){const l=r.map(u=>[u,s]);return Array.prototype.concat.apply([],l)}(a,e),t)}function hr(a){return a.every(e=>typeof e=="string")}function Wi(a,e){const t=a[wt].get(e);let r;t.callback?r=t.callback.apply(a,t.to.map(s=>s[0][s[1]])):(r=t.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=r:a.set(e,r)}function yi(a){let e=0;for(const t of a)e++;return e}function lt(a,e){const t=Math.min(a.length,e.length);for(let r=0;r<t;r++)if(a[r]!=e[r])return r;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function Mt(a){return!(!a||!a[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Me[a]=an.prototype[a]});const en=typeof global=="object"&&global&&global.Object===Object&&global;var fr=typeof self=="object"&&self&&self.Object===Object&&self;const Rt=en||fr||Function("return this")(),Nt=Rt.Symbol;var Fe=Object.prototype,oo=Fe.hasOwnProperty,so=Fe.toString,Ai=Nt?Nt.toStringTag:void 0;const Uo=function(a){var e=oo.call(a,Ai),t=a[Ai];try{a[Ai]=void 0;var r=!0}catch{}var s=so.call(a);return r&&(e?a[Ai]=t:delete a[Ai]),s};var Ho=Object.prototype.toString;const si=function(a){return Ho.call(a)};var zn=Nt?Nt.toStringTag:void 0;const Sn=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":zn&&zn in Object(a)?Uo(a):si(a)},yt=Array.isArray,Wt=function(a){return a!=null&&typeof a=="object"},ai=function(a){return typeof a=="string"||!yt(a)&&Wt(a)&&Sn(a)=="[object String]"};function qi(a,e,t={},r=[]){const s=t&&t.xmlns,l=s?a.createElementNS(s,e):a.createElement(e);for(const u in t)l.setAttribute(u,t[u]);!ai(r)&&Mt(r)||(r=[r]);for(let u of r)ai(u)&&(u=a.createTextNode(u)),l.appendChild(u);return l}const Gi=function(a,e){return function(t){return a(e(t))}},cn=Gi(Object.getPrototypeOf,Object);var Dn=Function.prototype,ao=Object.prototype,Tn=Dn.toString,pr=ao.hasOwnProperty,Br=Tn.call(Object);const qt=function(a){if(!Wt(a)||Sn(a)!="[object Object]")return!1;var e=cn(a);if(e===null)return!0;var t=pr.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Tn.call(t)==Br},Gt=function(){this.__data__=[],this.size=0},Yt=function(a,e){return a===e||a!=a&&e!=e},Ce=function(a,e){for(var t=a.length;t--;)if(Yt(a[t][0],e))return t;return-1};var Ge=Array.prototype.splice;const ln=function(a){var e=this.__data__,t=Ce(e,a);return!(t<0)&&(t==e.length-1?e.pop():Ge.call(e,t,1),--this.size,!0)},jn=function(a){var e=this.__data__,t=Ce(e,a);return t<0?void 0:e[t][1]},ci=function(a){return Ce(this.__data__,a)>-1},ke=function(a,e){var t=this.__data__,r=Ce(t,a);return r<0?(++this.size,t.push([a,e])):t[r][1]=e,this};function Te(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Te.prototype.clear=Gt,Te.prototype.delete=ln,Te.prototype.get=jn,Te.prototype.has=ci,Te.prototype.set=ke;const De=Te,St=function(){this.__data__=new De,this.size=0},Dt=function(a){var e=this.__data__,t=e.delete(a);return this.size=e.size,t},li=function(a){return this.__data__.get(a)},Ci=function(a){return this.__data__.has(a)},Ot=function(a){if(!ge(a))return!1;var e=Sn(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Pt=Rt["__core-js_shared__"];var at=function(){var a=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const co=function(a){return!!at&&at in a};var yl=Function.prototype.toString;const Gn=function(a){if(a!=null){try{return yl.call(a)}catch{}try{return a+""}catch{}}return""};var Ba=/^\[object .+?Constructor\]$/,La=Function.prototype,za=Object.prototype,ct=La.toString,mn=za.hasOwnProperty,$s=RegExp("^"+ct.call(mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const lo=function(a){return!(!ge(a)||co(a))&&(Ot(a)?$s:Ba).test(Gn(a))},Lr=function(a,e){return a==null?void 0:a[e]},xi=function(a,e){var t=Lr(a,e);return lo(t)?t:void 0},Vs=xi(Rt,"Map"),Wo=xi(Object,"create"),Wu=function(){this.__data__=Wo?Wo(null):{},this.size=0},Fg=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var qu=Object.prototype.hasOwnProperty;const ja=function(a){var e=this.__data__;if(Wo){var t=e[a];return t==="__lodash_hash_undefined__"?void 0:t}return qu.call(e,a)?e[a]:void 0};var $g=Object.prototype.hasOwnProperty;const Gu=function(a){var e=this.__data__;return Wo?e[a]!==void 0:$g.call(e,a)},Yu=function(a,e){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=Wo&&e===void 0?"__lodash_hash_undefined__":e,this};function qo(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}qo.prototype.clear=Wu,qo.prototype.delete=Fg,qo.prototype.get=ja,qo.prototype.has=Gu,qo.prototype.set=Yu;const Ku=qo,Vg=function(){this.size=0,this.__data__={hash:new Ku,map:new(Vs||De),string:new Ku}},Al=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},Ra=function(a,e){var t=a.__data__;return Al(e)?t[typeof e=="string"?"string":"hash"]:t.map},Zu=function(a){var e=Ra(this,a).delete(a);return this.size-=e?1:0,e},Qu=function(a){return Ra(this,a).get(a)},Ju=function(a){return Ra(this,a).has(a)},Xu=function(a,e){var t=Ra(this,a),r=t.size;return t.set(a,e),this.size+=t.size==r?0:1,this};function Go(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Go.prototype.clear=Vg,Go.prototype.delete=Zu,Go.prototype.get=Qu,Go.prototype.has=Ju,Go.prototype.set=Xu;const Fa=Go,eh=function(a,e){var t=this.__data__;if(t instanceof De){var r=t.__data__;if(!Vs||r.length<199)return r.push([a,e]),this.size=++t.size,this;t=this.__data__=new Fa(r)}return t.set(a,e),this.size=t.size,this};function Xe(a){var e=this.__data__=new De(a);this.size=e.size}Xe.prototype.clear=St,Xe.prototype.delete=Dt,Xe.prototype.get=li,Xe.prototype.has=Ci,Xe.prototype.set=eh;const Us=Xe,Cl=function(a,e){for(var t=-1,r=a==null?0:a.length;++t<r&&e(a[t],t,a)!==!1;);return a},Hs=function(){try{var a=xi(Object,"defineProperty");return a({},"",{}),a}catch{}}(),uo=function(a,e,t){e=="__proto__"&&Hs?Hs(a,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):a[e]=t};var xl=Object.prototype.hasOwnProperty;const zr=function(a,e,t){var r=a[e];xl.call(a,e)&&Yt(r,t)&&(t!==void 0||e in a)||uo(a,e,t)},ho=function(a,e,t,r){var s=!t;t||(t={});for(var l=-1,u=e.length;++l<u;){var p=e[l],g=r?r(t[p],a[p],p,t,a):void 0;g===void 0&&(g=a[p]),s?uo(t,p,g):zr(t,p,g)}return t},Ug=function(a,e){for(var t=-1,r=Array(a);++t<a;)r[t]=e(t);return r},th=function(a){return Wt(a)&&Sn(a)=="[object Arguments]"};var El=Object.prototype,Hg=El.hasOwnProperty,Sl=El.propertyIsEnumerable;const Dl=th(function(){return arguments}())?th:function(a){return Wt(a)&&Hg.call(a,"callee")&&!Sl.call(a,"callee")},Wg=function(){return!1};var nh=typeof On=="object"&&On&&!On.nodeType&&On,Tl=nh&&typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,$a=Tl&&Tl.exports===nh?Rt.Buffer:void 0;const Ws=($a?$a.isBuffer:void 0)||Wg;var qg=/^(?:0|[1-9]\d*)$/;const Il=function(a,e){var t=typeof a;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&qg.test(a))&&a>-1&&a%1==0&&a<e},ih=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;const Gg=function(a){return Wt(a)&&ih(a.length)&&!!dt[Sn(a)]},Va=function(a){return function(e){return a(e)}};var Ml=typeof On=="object"&&On&&!On.nodeType&&On,Yo=Ml&&typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,Ua=Yo&&Yo.exports===Ml&&en.process;const Ko=function(){try{var a=Yo&&Yo.require&&Yo.require("util").types;return a||Ua&&Ua.binding&&Ua.binding("util")}catch{}}();var rh=Ko&&Ko.isTypedArray;const Nl=rh?Va(rh):Gg;var oh=Object.prototype.hasOwnProperty;const sh=function(a,e){var t=yt(a),r=!t&&Dl(a),s=!t&&!r&&Ws(a),l=!t&&!r&&!s&&Nl(a),u=t||r||s||l,p=u?Ug(a.length,String):[],g=p.length;for(var v in a)!e&&!oh.call(a,v)||u&&(v=="length"||s&&(v=="offset"||v=="parent")||l&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Il(v,g))||p.push(v);return p};var ah=Object.prototype;const qs=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||ah)},Yg=Gi(Object.keys,Object);var ch=Object.prototype.hasOwnProperty;const lh=function(a){if(!qs(a))return Yg(a);var e=[];for(var t in Object(a))ch.call(a,t)&&t!="constructor"&&e.push(t);return e},Ha=function(a){return a!=null&&ih(a.length)&&!Ot(a)},Wa=function(a){return Ha(a)?sh(a):lh(a)},Kg=function(a,e){return a&&ho(e,Wa(e),a)},Zg=function(a){var e=[];if(a!=null)for(var t in Object(a))e.push(t);return e};var Ol=Object.prototype.hasOwnProperty;const Pl=function(a){if(!ge(a))return Zg(a);var e=qs(a),t=[];for(var r in a)(r!="constructor"||!e&&Ol.call(a,r))&&t.push(r);return t},jr=function(a){return Ha(a)?sh(a,!0):Pl(a)},Bl=function(a,e){return a&&ho(e,jr(e),a)};var Ll=typeof On=="object"&&On&&!On.nodeType&&On,zl=Ll&&typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,jl=zl&&zl.exports===Ll?Rt.Buffer:void 0,Rl=jl?jl.allocUnsafe:void 0;const Fl=function(a,e){if(e)return a.slice();var t=a.length,r=Rl?Rl(t):new a.constructor(t);return a.copy(r),r},dh=function(a,e){var t=-1,r=a.length;for(e||(e=Array(r));++t<r;)e[t]=a[t];return e},Qg=function(a,e){for(var t=-1,r=a==null?0:a.length,s=0,l=[];++t<r;){var u=a[t];e(u,t,a)&&(l[s++]=u)}return l},uh=function(){return[]};var Jg=Object.prototype.propertyIsEnumerable,hh=Object.getOwnPropertySymbols;const gr=hh?function(a){return a==null?[]:(a=Object(a),Qg(hh(a),function(e){return Jg.call(a,e)}))}:uh,$l=function(a,e){return ho(a,gr(a),e)},fh=function(a,e){for(var t=-1,r=e.length,s=a.length;++t<r;)a[s+t]=e[t];return a},ph=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)fh(e,gr(a)),a=cn(a);return e}:uh,gh=function(a,e){return ho(a,ph(a),e)},qa=function(a,e,t){var r=e(a);return yt(a)?r:fh(r,t(a))},Vl=function(a){return qa(a,Wa,gr)},Xg=function(a){return qa(a,jr,ph)},Ul=xi(Rt,"DataView"),Ga=xi(Rt,"Promise"),Ya=xi(Rt,"Set"),Hl=xi(Rt,"WeakMap");var mh="[object Map]",kh="[object Promise]",Wl="[object Set]",bh="[object WeakMap]",wh="[object DataView]",em=Gn(Ul),vh=Gn(Vs),tm=Gn(Ga),nm=Gn(Ya),_h=Gn(Hl),fo=Sn;(Ul&&fo(new Ul(new ArrayBuffer(1)))!=wh||Vs&&fo(new Vs)!=mh||Ga&&fo(Ga.resolve())!=kh||Ya&&fo(new Ya)!=Wl||Hl&&fo(new Hl)!=bh)&&(fo=function(a){var e=Sn(a),t=e=="[object Object]"?a.constructor:void 0,r=t?Gn(t):"";if(r)switch(r){case em:return wh;case vh:return mh;case tm:return kh;case nm:return Wl;case _h:return bh}return e});const Zo=fo;var yh=Object.prototype.hasOwnProperty;const Ah=function(a){var e=a.length,t=new a.constructor(e);return e&&typeof a[0]=="string"&&yh.call(a,"index")&&(t.index=a.index,t.input=a.input),t},rt=Rt.Uint8Array,ql=function(a){var e=new a.constructor(a.byteLength);return new rt(e).set(new rt(a)),e},im=function(a,e){var t=e?ql(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.byteLength)};var Gl=/\w*$/;const rm=function(a){var e=new a.constructor(a.source,Gl.exec(a));return e.lastIndex=a.lastIndex,e};var Qo=Nt?Nt.prototype:void 0,Ka=Qo?Qo.valueOf:void 0;const om=function(a){return Ka?Object(Ka.call(a)):{}},Yl=function(a,e){var t=e?ql(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.length)},Kl=function(a,e,t){var r=a.constructor;switch(e){case"[object ArrayBuffer]":return ql(a);case"[object Boolean]":case"[object Date]":return new r(+a);case"[object DataView]":return im(a,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Yl(a,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(a);case"[object RegExp]":return rm(a);case"[object Symbol]":return om(a)}};var Za=Object.create;const Zl=function(){function a(){}return function(e){if(!ge(e))return{};if(Za)return Za(e);a.prototype=e;var t=new a;return a.prototype=void 0,t}}(),po=function(a){return typeof a.constructor!="function"||qs(a)?{}:Zl(cn(a))},Ch=function(a){return Wt(a)&&Zo(a)=="[object Map]"};var Qa=Ko&&Ko.isMap;const sm=Qa?Va(Qa):Ch,O=function(a){return Wt(a)&&Zo(a)=="[object Set]"};var P=Ko&&Ko.isSet;const V=P?Va(P):O;var Z="[object Arguments]",ae="[object Function]",ve="[object Object]",he={};he[Z]=he["[object Array]"]=he["[object ArrayBuffer]"]=he["[object DataView]"]=he["[object Boolean]"]=he["[object Date]"]=he["[object Float32Array]"]=he["[object Float64Array]"]=he["[object Int8Array]"]=he["[object Int16Array]"]=he["[object Int32Array]"]=he["[object Map]"]=he["[object Number]"]=he[ve]=he["[object RegExp]"]=he["[object Set]"]=he["[object String]"]=he["[object Symbol]"]=he["[object Uint8Array]"]=he["[object Uint8ClampedArray]"]=he["[object Uint16Array]"]=he["[object Uint32Array]"]=!0,he["[object Error]"]=he[ae]=he["[object WeakMap]"]=!1;const we=function a(e,t,r,s,l,u){var p,g=1&t,v=2&t,_=4&t;if(r&&(p=l?r(e,s,l,u):r(e)),p!==void 0)return p;if(!ge(e))return e;var A=yt(e);if(A){if(p=Ah(e),!g)return dh(e,p)}else{var E=Zo(e),I=E==ae||E=="[object GeneratorFunction]";if(Ws(e))return Fl(e,g);if(E==ve||E==Z||I&&!l){if(p=v||I?{}:po(e),!g)return v?gh(e,Bl(p,e)):$l(e,Kg(p,e))}else{if(!he[E])return l?e:{};p=Kl(e,E,g)}}u||(u=new Us);var B=u.get(e);if(B)return B;u.set(e,p),V(e)?e.forEach(function($){p.add(a($,t,r,$,e,u))}):sm(e)&&e.forEach(function($,G){p.set(G,a($,t,r,G,e,u))});var j=A?void 0:(_?v?Xg:Vl:v?jr:Wa)(e);return Cl(j||e,function($,G){j&&($=e[G=$]),zr(p,G,a($,t,r,G,e,u))}),p},ze=function(a,e){return we(a,5,e=typeof e=="function"?e:void 0)},Ne=function(a){return Wt(a)&&a.nodeType===1&&!qt(a)};class Yn{constructor(e,t){this._config={},t&&this.define(In(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,r,s=!1){if(qt(t))return void this._setObjectToTarget(e,t,s);const l=t.split(".");t=l.pop();for(const u of l)qt(e[u])||(e[u]={}),e=e[u];if(qt(r))return qt(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,r,s);s&&e[t]!==void 0||(e[t]=r)}_getFromSource(e,t){const r=t.split(".");t=r.pop();for(const s of r){if(!qt(e[s])){e=null;break}e=e[s]}return e?In(e[t]):void 0}_setObjectToTarget(e,t,r){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],r)})}}function In(a){return ze(a,dn)}function dn(a){return Ne(a)?a:void 0}function kn(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Yi(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const Ei=ft(q());function ft(a){return a?class extends a{listenTo(e,t,r,s={}){if(kn(e)||Yi(e)){const l={capture:!!s.useCapture,passive:!!s.usePassive},u=this._getProxyEmitter(e,l)||new Kn(e,l);this.listenTo(u,t,r,s)}else super.listenTo(e,t,r,s)}stopListening(e,t,r){if(kn(e)||Yi(e)){const s=this._getAllProxyEmitters(e);for(const l of s)this.stopListening(l,t,r)}else super.stopListening(e,t,r)}_getProxyEmitter(e,t){return function(r,s){const l=r[oe];return l&&l[s]?l[s].emitter:null}(this,bn(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Ei}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{ft[a]=Ei.prototype[a]});class Kn extends q(){constructor(e,t){super(),U(this,bn(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,r){this.attach(e),q().prototype._addEventListener.call(this,e,t,r)}_removeEventListener(e,t){q().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=r=>{this.fire(e,r)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function bn(a,e){let t=function(r){return r["data-ck-expando"]||(r["data-ck-expando"]=T())}(a);for(const r of Object.keys(e).sort())e[r]&&(t+="-"+r);return t}let Zn;try{Zn={window,document}}catch{Zn={window:{},document:{}}}const Ae=Zn;function Ft(a){return Object.prototype.toString.call(a)=="[object Text]"}function Ja(a){return Object.prototype.toString.apply(a)=="[object Range]"}function xh(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Eh(a){return a&&a.parentNode?a.offsetParent===Ae.document.body?null:a.offsetParent:null}const Sh=["top","right","bottom","left","width","height"];class Re{constructor(e){const t=Ja(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),$e(e)||t)if(t){const r=Re.getDomRangeRects(e);Oe(this,Re.getBoundingRect(r))}else Oe(this,e.getBoundingClientRect());else if(Yi(e)){const{innerWidth:r,innerHeight:s}=e;Oe(this,{top:0,right:r,bottom:s,left:0,width:r,height:s})}else Oe(this,e)}clone(){return new Re(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const r=new Re(t);return r._source=this._source,r}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(pt(e))return t;let r,s=e,l=e.parentNode||e.commonAncestorContainer;for(;l&&!pt(l);){const p=((u=l)instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).overflow:"visible")==="visible";s instanceof HTMLElement&&Si(s)==="absolute"&&(r=s);const g=Si(l);if(p||r&&(g==="relative"&&p||g!=="relative")){s=l,l=l.parentNode;continue}const v=new Re(l),_=t.getIntersection(v);if(!_)return null;_.getArea()<t.getArea()&&(t=_),s=l,l=l.parentNode}var u;return t}isEqual(e){for(const t of Sh)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Ae.window,r=this.clone().moveBy(e,t);if($e(r._source)){const s=Eh(r._source);s&&function(l,u){const p=new Re(u),g=xh(u);let v=0,_=0;v-=p.left,_-=p.top,v+=u.scrollLeft,_+=u.scrollTop,v-=g.left,_-=g.top,l.moveBy(v,_)}(r,s)}return r}excludeScrollbarsAndBorders(){const e=this._source;let t,r,s;if(Yi(e))t=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const l=xh(e);t=e.offsetWidth-e.clientWidth-l.left-l.right,r=e.offsetHeight-e.clientHeight-l.top-l.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const t=[],r=Array.from(e.getClientRects());if(r.length)for(const s of r)t.push(new Re(s));else{let s=e.startContainer;Ft(s)&&(s=s.parentNode);const l=new Re(s.getBoundingClientRect());l.right=l.left,l.width=0,t.push(l)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const s of e)r++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return r==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Re(t))}}function Oe(a,e){for(const t of Sh)a[t]=e[t]}function pt(a){return!!$e(a)&&a===a.ownerDocument.body}function $e(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function Si(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}class Ve{constructor(e,t){Ve._observerInstance||Ve._createObserver(),this._element=e,this._callback=t,Ve._addElementCallback(e,t),Ve._observerInstance.observe(e)}get element(){return this._element}destroy(){Ve._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Ve._elementCallbacks||(Ve._elementCallbacks=new Map);let r=Ve._elementCallbacks.get(e);r||(r=new Set,Ve._elementCallbacks.set(e,r)),r.add(t)}static _deleteElementCallback(e,t){const r=Ve._getElementCallbacks(e);r&&(r.delete(t),r.size||(Ve._elementCallbacks.delete(e),Ve._observerInstance.unobserve(e))),Ve._elementCallbacks&&!Ve._elementCallbacks.size&&(Ve._observerInstance=null,Ve._elementCallbacks=null)}static _getElementCallbacks(e){return Ve._elementCallbacks?Ve._elementCallbacks.get(e):null}static _createObserver(){Ve._observerInstance=new Ae.window.ResizeObserver(e=>{for(const t of e){const r=Ve._getElementCallbacks(t.target);if(r)for(const s of r)s(t)}})}}function mr(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function Rn(a){return e=>e+a}function Qn(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function wn(a,e,t){a.insertBefore(t,a.childNodes[e]||null)}function Fn(a){return a&&a.nodeType===Node.COMMENT_NODE}function Kt(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}function At({element:a,target:e,positions:t,limiter:r,fitInViewport:s,viewportOffsetConfig:l}){Ot(e)&&(e=e()),Ot(r)&&(r=r());const u=Eh(a),p=function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const I=new Re(Ae.window);return I.top+=E.top,I.height-=E.top,I.bottom-=E.bottom,I.height-=E.bottom,I}(l),g=new Re(a),v=un(e,p);let _;if(!v||!p.getIntersection(v))return null;const A={targetRect:v,elementRect:g,positionedElementAncestor:u,viewportRect:p};if(r||s){if(r){const E=un(r,p);E&&(A.limiterRect=E)}_=function(E,I){const{elementRect:B}=I,j=B.getArea(),$=E.map(le=>new go(le,I)).filter(le=>!!le.name);let G=0,te=null;for(const le of $){const{limiterIntersectionArea:xe,viewportIntersectionArea:We}=le;if(xe===j)return le;const gi=We**2+xe**2;gi>G&&(G=gi,te=le)}return te}(t,A)}else _=new go(t[0],A);return _}function un(a,e){const t=new Re(a).getVisible();return t?t.getIntersection(e):null}Ve._observerInstance=null,Ve._elementCallbacks=null;class go{constructor(e,t){const r=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!r)return;const{left:s,top:l,name:u,config:p}=r;this.name=u,this.config=p,this._positioningFunctionCoordinates={left:s,top:l},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Bv(a){const e=a.parentNode;e&&e.removeChild(a)}function HI({window:a,rect:e,alignToTop:t,forceScroll:r,viewportOffset:s}){const l=e.clone().moveBy(0,s.bottom),u=e.clone().moveBy(0,-s.top),p=new Re(a).excludeScrollbarsAndBorders(),g=t&&r,v=[u,l].every(B=>p.contains(B));let{scrollX:_,scrollY:A}=a;const E=_,I=A;g?A-=p.top-e.top+s.top:v||(zv(u,p)?A-=p.top-e.top+s.top:Lv(l,p)&&(A+=t?e.top-p.top-s.top:e.bottom-p.bottom+s.bottom)),v||(jv(e,p)?_-=p.left-e.left+s.left:Rv(e,p)&&(_+=e.right-p.right+s.right)),_==E&&A===I||a.scrollTo(_,A)}function WI({parent:a,getRect:e,alignToTop:t,forceScroll:r,ancestorOffset:s=0,limiterElement:l}){const u=am(a),p=t&&r;let g,v,_;const A=l||u.document.body;for(;a!=A;)v=e(),g=new Re(a).excludeScrollbarsAndBorders(),_=g.contains(v),p?a.scrollTop-=g.top-v.top+s:_||(zv(v,g)?a.scrollTop-=g.top-v.top+s:Lv(v,g)&&(a.scrollTop+=t?v.top-g.top-s:v.bottom-g.bottom+s)),_||(jv(v,g)?a.scrollLeft-=g.left-v.left+s:Rv(v,g)&&(a.scrollLeft+=v.right-g.right+s)),a=a.parentNode}function Lv(a,e){return a.bottom>e.bottom}function zv(a,e){return a.top<e.top}function jv(a,e){return a.left<e.left}function Rv(a,e){return a.right>e.right}function am(a){return Ja(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function qI(a){if(Ja(a)){let e=a.commonAncestorContainer;return Ft(e)&&(e=e.parentNode),e}return a.parentNode}function Fv(a,e){const t=am(a),r=new Re(a);if(t===e)return r;{let s=t;for(;s!=e;){const l=s.frameElement,u=new Re(l).excludeScrollbarsAndBorders();r.moveBy(u.left,u.top),s=s.parent}}return r}const GI={ctrl:"",cmd:"",alt:"",shift:""},YI={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ye=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),KI=Object.fromEntries(Object.entries(Ye).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function Xa(a){let e;if(typeof a=="string"){if(e=Ye[a.toLowerCase()],!e)throw new S("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?Ye.alt:0)+(a.ctrlKey?Ye.ctrl:0)+(a.shiftKey?Ye.shift:0)+(a.metaKey?Ye.cmd:0);return e}function Ql(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(t=>t.trim())}(a)),a.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return Xa(t.slice(0,-1));const r=Xa(t);return(f.isMac||f.isiOS)&&r==Ye.ctrl?Ye.cmd:r}(e):e).reduce((e,t)=>t+e,0)}function $v(a){let e=Ql(a);return Object.entries(f.isMac||f.isiOS?GI:YI).reduce((t,[r,s])=>(e&Ye[r]&&(e&=~Ye[r],t+=s),t),"")+(e?KI[e]:"")}function Vv(a,e){const t=e==="ltr";switch(a){case Ye.arrowleft:return t?"left":"right";case Ye.arrowright:return t?"right":"left";case Ye.arrowup:return"up";case Ye.arrowdown:return"down"}}function vn(a){return Array.isArray(a)?a:[a]}function ZI(a,e,t=1){if(typeof t!="number")throw new S("translation-service-quantity-not-a-number",null,{quantity:t});const r=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS).length;r===1&&(a=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(r===0||!function(g,v){return!!Ae.window.CKEDITOR_TRANSLATIONS[g]&&!!Ae.window.CKEDITOR_TRANSLATIONS[g].dictionary[v]}(a,s))return t!==1?e.plural:e.string;const l=Ae.window.CKEDITOR_TRANSLATIONS[a].dictionary,u=Ae.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(g=>g===1?0:1),p=l[s];return typeof p=="string"?p:p[Number(u(t))]}Ae.window.CKEDITOR_TRANSLATIONS||(Ae.window.CKEDITOR_TRANSLATIONS={});const QI=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Uv(a){return QI.includes(a)?"rtl":"ltr"}class JI{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Uv(this.uiLanguage),this.contentLanguageDirection=Uv(this.contentLanguage),this.t=(r,s)=>this._t(r,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=vn(t),typeof e=="string"&&(e={string:e});const r=e.plural?t[0]:1;return function(s,l){return s.replace(/%(\d+)/g,(u,p)=>p<l.length?l[p]:u)}(ZI(this.uiLanguage,e,r),t)}}class Ki extends q(){constructor(e={},t={}){super();const r=Mt(e);if(r||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new S("collection-add-item-invalid-index",this);let r=0;for(const s of e){const l=this._getItemIdBeforeAdding(s),u=t+r;this._items.splice(u,0,s),this._itemMap.set(l,s),this.fire("add",s,u),r++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new S("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,r]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:r}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new S("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(r=>new t(r))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(r=>r[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,r=(s,l,u)=>{const p=t._bindToCollection==this,g=t._bindToInternalToExternalMap.get(l);if(p&&g)this._bindToExternalToInternalMap.set(l,g),this._bindToInternalToExternalMap.set(g,l);else{const v=e(l);if(!v)return void this._skippedIndexesFromExternal.push(u);let _=u;for(const A of this._skippedIndexesFromExternal)u>A&&_--;for(const A of t._skippedIndexesFromExternal)_>=A&&_++;this._bindToExternalToInternalMap.set(l,v),this._bindToInternalToExternalMap.set(v,l),this.add(v,_);for(let A=0;A<t._skippedIndexesFromExternal.length;A++)_<=t._skippedIndexesFromExternal[A]&&t._skippedIndexesFromExternal[A]++}};for(const s of t)r(0,s,t.getIndex(s));this.listenTo(t,"add",r),this.listenTo(t,"remove",(s,l,u)=>{const p=this._bindToExternalToInternalMap.get(l);p&&this.remove(p),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,v)=>(u<v&&g.push(v-1),u>v&&g.push(v),g),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let r;if(t in e){if(r=e[t],typeof r!="string")throw new S("collection-add-invalid-id",this);if(this.get(r))throw new S("collection-add-item-already-exists",this)}else e[t]=r=T();return r}_remove(e){let t,r,s,l=!1;const u=this._idProperty;if(typeof e=="string"?(r=e,s=this._itemMap.get(r),l=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],l=!s,s&&(r=s[u])):(s=e,r=s[u],t=this._items.indexOf(s),l=t==-1||!this._itemMap.get(r)),l)throw new S("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(r);const p=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(p),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _n(a){const e=a.next();return e.done?null:e.value}class di extends ft(Me()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new S("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class kr{constructor(){this._listener=new(ft())}listenTo(e){this._listener.listenTo(e,"keydown",(t,r)=>{this._listener.fire("_keydown:"+Xa(r),r)})}set(e,t,r={}){const s=Ql(e),l=r.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(u,p)=>{t(p,()=>{p.preventDefault(),p.stopPropagation(),u.stop()}),u.return=!0},{priority:l})}press(e){return!!this._listener.fire("_keydown:"+Xa(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Rr(a){return Mt(a)?new Map(a):function(e){const t=new Map;for(const r in e)t.set(r,e[r]);return t}(a)}function cm(a,e){let t;function r(...s){r.cancel(),t=setTimeout(()=>a(...s),e)}return r.cancel=()=>{clearTimeout(t)},r}function lm(a,e){return!!(t=a.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(a.charAt(e));var t}function dm(a,e){return!!(t=a.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const XI=function(){const a=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${a}|${e}(?:${e})*`,"ug")}();function Hv(a,e){const t=String(a).matchAll(XI);return Array.from(t).some(r=>r.index<e&&e<r.index+r[0].length)}class ue extends Me(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Wv,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Wv),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Wv(a){a.return=!1,a.stop()}class bt extends Me(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const r=e.model.document.selection,s=r.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",qv,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",qv),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function qv(a){a.return=!1,a.stop()}class Gv extends bt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){N(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class Yv extends q(){constructor(e,t=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,l]of r)this._contextPlugins.set(s,l),this._contextPlugins.set(l,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new S("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return t}has(e){return this._plugins.has(e)}init(e,t=[],r=[]){const s=this,l=this._context;(function B(j,$=new Set){j.forEach(G=>{g(G)&&($.has(G)||($.add(G),G.pluginName&&!s._availablePlugins.has(G.pluginName)&&s._availablePlugins.set(G.pluginName,G),G.requires&&B(G.requires,$)))})})(e),E(e);const u=[...function B(j,$=new Set){return j.map(G=>g(G)?G:s._availablePlugins.get(G)).reduce((G,te)=>$.has(te)?G:($.add(te),te.requires&&(E(te.requires,te),B(te.requires,$).forEach(le=>G.add(le))),G.add(te)),new Set)}(e.filter(B=>!_(B,t)))];(function(B,j){for(const $ of j){if(typeof $!="function")throw new S("plugincollection-replace-plugin-invalid-type",null,{pluginItem:$});const G=$.pluginName;if(!G)throw new S("plugincollection-replace-plugin-missing-name",null,{pluginItem:$});if($.requires&&$.requires.length)throw new S("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:G});const te=s._availablePlugins.get(G);if(!te)throw new S("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:G});const le=B.indexOf(te);if(le===-1){if(s._contextPlugins.has(te))return;throw new S("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:G})}if(te.requires&&te.requires.length)throw new S("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:G});B.splice(le,1,$),s._availablePlugins.set(G,$)}})(u,r);const p=function(B){return B.map(j=>{let $=s._contextPlugins.get(j);return $=$||new j(l),s._add(j,$),$})}(u);return I(p,"init").then(()=>I(p,"afterInit")).then(()=>p);function g(B){return typeof B=="function"}function v(B){return g(B)&&!!B.isContextPlugin}function _(B,j){return j.some($=>$===B||A(B)===$||A($)===B)}function A(B){return g(B)?B.pluginName||B.name:B}function E(B,j=null){B.map($=>g($)?$:s._availablePlugins.get($)||$).forEach($=>{(function(G,te){if(!g(G))throw te?new S("plugincollection-soft-required",l,{missingPlugin:G,requiredBy:A(te)}):new S("plugincollection-plugin-not-found",l,{plugin:G})})($,j),function(G,te){if(v(te)&&!v(G))throw new S("plugincollection-context-required",l,{plugin:A(G),requiredBy:A(te)})}($,j),function(G,te){if(te&&_(G,t))throw new S("plugincollection-required",l,{plugin:A(G),requiredBy:A(te)})}($,j)})}function I(B,j){return B.reduce(($,G)=>G[j]?s._contextPlugins.has(G)?$:$.then(G[j].bind(G)):$,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new S("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,t)}}}class Kv{constructor(e){this._contextOwner=null,this.config=new Yn(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new Yv(this,t);const r=this.config.get("language")||{};this.locale=new JI({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ki}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const r of e.concat(t)){if(typeof r!="function")throw new S("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new S("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new S("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const r=new this(e);t(r.initPlugins().then(()=>r))})}}class Zv extends Me(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var e3=o(3379),ye=o.n(e3),Qv=o(7372),t3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Qv.Z,t3),Qv.Z.locals;const Dh=new WeakMap;let Jv=!1;function Xv({view:a,element:e,text:t,isDirectHost:r=!0,keepOnFocus:s=!1}){const l=a.document;function u(p){Dh.get(l).set(e,{text:p,isDirectHost:r,keepOnFocus:s,hostElement:r?e:null}),a.change(g=>um(l,g))}Dh.has(l)||(Dh.set(l,new Map),l.registerPostFixer(p=>um(l,p)),l.on("change:isComposing",()=>{a.change(p=>um(l,p))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(p,g,v)=>{u(v)}),e.placeholder?u(e.placeholder):t&&u(t),t&&function(){Jv||F("enableplaceholder-deprecated-text-option"),Jv=!0}()}function n3(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function um(a,e){const t=Dh.get(a),r=[];let s=!1;for(const[l,u]of t)u.isDirectHost&&(r.push(l),e_(e,l,u)&&(s=!0));for(const[l,u]of t){if(u.isDirectHost)continue;const p=i3(l);p&&(r.includes(p)||(u.hostElement=p,e_(e,l,u)&&(s=!0)))}return s}function e_(a,e,t){const{text:r,isDirectHost:s,hostElement:l}=t;let u=!1;return l.getAttribute("data-placeholder")!==r&&(a.setAttribute("data-placeholder",r,l),u=!0),(s||e.childCount==1)&&function(p,g){if(!p.isAttached()||Array.from(p.getChildren()).some(E=>!E.is("uiElement")))return!1;const _=p.document,A=_.selection.anchor;return!(_.isComposing&&A&&A.parent===p||!g&&_.isFocused&&(!A||A.parent===p))}(l,t.keepOnFocus)?function(p,g){return!g.hasClass("ck-placeholder")&&(p.addClass("ck-placeholder",g),!0)}(a,l)&&(u=!0):n3(a,l)&&(u=!0),u}function i3(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Gs{is(){throw new Error("is() method is abstract")}}const t_=function(a){return we(a,4)};class Ys extends q(Gs){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new S("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),s=e.getAncestors(t);let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),s=lt(t,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<r[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=t_(this);return delete e.parent,e}}Ys.prototype.is=function(a){return a==="node"||a==="view:node"};class gt extends Ys{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof gt&&(this===e||this.data===e.data)}_clone(){return new gt(this.document,this.data)}}gt.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class Fr extends Gs{constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.data.length)throw new S("view-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.data.length)throw new S("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}}Fr.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class Zi{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const r of this._patterns){const s=n_(t,r);if(s)return{element:t,pattern:r,match:s}}return null}matchAll(...e){const t=[];for(const r of e)for(const s of this._patterns){const l=n_(r,s);l&&t.push({element:r,pattern:s,match:l})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function n_(a,e){if(typeof e=="function")return e(a);const t={};return e.name&&(t.name=function(r,s){return r instanceof RegExp?!!s.match(r):r===s}(e.name,a.name),!t.name)||e.attributes&&(t.attributes=function(r,s){const l=new Set(s.getAttributeKeys());return qt(r)?(r.style!==void 0&&F("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&F("matcher-pattern-deprecated-attributes-class-key",r)):(l.delete("style"),l.delete("class")),hm(r,l,u=>s.getAttribute(u))}(e.attributes,a),!t.attributes)||e.classes&&(t.classes=function(r,s){return hm(r,s.getClassNames(),()=>{})}(e.classes,a),!t.classes)||e.styles&&(t.styles=function(r,s){return hm(r,s.getStyleNames(!0),l=>s.getStyle(l))}(e.styles,a),!t.styles)?null:t}function hm(a,e,t){const r=function(u){return Array.isArray(u)?u.map(p=>qt(p)?(p.key!==void 0&&p.value!==void 0||F("matcher-pattern-missing-key-or-value",p),[p.key,p.value]):[p,!0]):qt(u)?Object.entries(u):[[u,!0]]}(a),s=Array.from(e),l=[];if(r.forEach(([u,p])=>{s.forEach(g=>{(function(v,_){return v===!0||v===_||v instanceof RegExp&&_.match(v)})(u,g)&&function(v,_,A){if(v===!0)return!0;const E=A(_);return v===E||v instanceof RegExp&&!!String(E).match(v)}(p,g,t)&&l.push(g)})}),r.length&&!(l.length<r.length))return l}const Th=function(a){return typeof a=="symbol"||Wt(a)&&Sn(a)=="[object Symbol]"};var r3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o3=/^\w*$/;const s3=function(a,e){if(yt(a))return!1;var t=typeof a;return!(t!="number"&&t!="symbol"&&t!="boolean"&&a!=null&&!Th(a))||o3.test(a)||!r3.test(a)||e!=null&&a in Object(e)};function fm(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],l=t.cache;if(l.has(s))return l.get(s);var u=a.apply(this,r);return t.cache=l.set(s,u)||l,u};return t.cache=new(fm.Cache||Fa),t}fm.Cache=Fa;const a3=fm,c3=function(a){var e=a3(a,function(r){return t.size===500&&t.clear(),r}),t=e.cache;return e};var l3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d3=/\\(\\)?/g,u3=c3(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(l3,function(t,r,s,l){e.push(s?l.replace(d3,"$1"):r||t)}),e});const h3=u3,f3=function(a,e){for(var t=-1,r=a==null?0:a.length,s=Array(r);++t<r;)s[t]=e(a[t],t,a);return s};var i_=Nt?Nt.prototype:void 0,r_=i_?i_.toString:void 0;const p3=function a(e){if(typeof e=="string")return e;if(yt(e))return f3(e,a)+"";if(Th(e))return r_?r_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},pm=function(a){return a==null?"":p3(a)},gm=function(a,e){return yt(a)?a:s3(a,e)?[a]:h3(pm(a))},g3=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},mm=function(a){if(typeof a=="string"||Th(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},o_=function(a,e){for(var t=0,r=(e=gm(e,a)).length;a!=null&&t<r;)a=a[mm(e[t++])];return t&&t==r?a:void 0},s_=function(a,e,t){var r=-1,s=a.length;e<0&&(e=-e>s?0:s+e),(t=t>s?s:t)<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var l=Array(s);++r<s;)l[r]=a[r+e];return l},m3=function(a,e){return e.length<2?a:o_(a,s_(e,0,-1))},k3=function(a,e){return e=gm(e,a),(a=m3(a,e))==null||delete a[mm(g3(e))]},b3=function(a,e){return a==null||k3(a,e)},Ih=function(a,e,t){var r=a==null?void 0:o_(a,e);return r===void 0?t:r},km=function(a,e,t){(t!==void 0&&!Yt(a[e],t)||t===void 0&&!(e in a))&&uo(a,e,t)},w3=function(a){return function(e,t,r){for(var s=-1,l=Object(e),u=r(e),p=u.length;p--;){var g=u[a?p:++s];if(t(l[g],g,l)===!1)break}return e}}(),v3=function(a){return Wt(a)&&Ha(a)},bm=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},_3=function(a){return ho(a,jr(a))},y3=function(a,e,t,r,s,l,u){var p=bm(a,t),g=bm(e,t),v=u.get(g);if(v)km(a,t,v);else{var _=l?l(p,g,t+"",a,e,u):void 0,A=_===void 0;if(A){var E=yt(g),I=!E&&Ws(g),B=!E&&!I&&Nl(g);_=g,E||I||B?yt(p)?_=p:v3(p)?_=dh(p):I?(A=!1,_=Fl(g,!0)):B?(A=!1,_=Yl(g,!0)):_=[]:qt(g)||Dl(g)?(_=p,Dl(p)?_=_3(p):ge(p)&&!Ot(p)||(_=po(g))):A=!1}A&&(u.set(g,_),s(_,g,r,l,u),u.delete(g)),km(a,t,_)}},A3=function a(e,t,r,s,l){e!==t&&w3(t,function(u,p){if(l||(l=new Us),ge(u))y3(e,t,p,r,a,s,l);else{var g=s?s(bm(e,p),u,p+"",e,t,l):void 0;g===void 0&&(g=u),km(e,p,g)}},jr)},Ks=function(a){return a},C3=function(a,e,t){switch(t.length){case 0:return a.call(e);case 1:return a.call(e,t[0]);case 2:return a.call(e,t[0],t[1]);case 3:return a.call(e,t[0],t[1],t[2])}return a.apply(e,t)};var a_=Math.max;const x3=function(a,e,t){return e=a_(e===void 0?a.length-1:e,0),function(){for(var r=arguments,s=-1,l=a_(r.length-e,0),u=Array(l);++s<l;)u[s]=r[e+s];s=-1;for(var p=Array(e+1);++s<e;)p[s]=r[s];return p[e]=t(u),C3(a,this,p)}},E3=function(a){return function(){return a}},S3=Hs?function(a,e){return Hs(a,"toString",{configurable:!0,enumerable:!1,value:E3(e),writable:!0})}:Ks;var D3=Date.now;const T3=function(a){var e=0,t=0;return function(){var r=D3(),s=16-(r-t);if(t=r,s>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(S3),I3=function(a,e){return T3(x3(a,e,Ks),a+"")},M3=function(a,e,t){if(!ge(t))return!1;var r=typeof e;return!!(r=="number"?Ha(t)&&Il(e,t.length):r=="string"&&e in t)&&Yt(t[e],a)},c_=function(a){return I3(function(e,t){var r=-1,s=t.length,l=s>1?t[s-1]:void 0,u=s>2?t[2]:void 0;for(l=a.length>3&&typeof l=="function"?(s--,l):void 0,u&&M3(t[0],t[1],u)&&(l=s<3?void 0:l,s=1),e=Object(e);++r<s;){var p=t[r];p&&a(e,p,r,l)}return e})},l_=c_(function(a,e,t){A3(a,e,t)}),N3=function(a,e,t,r){if(!ge(a))return a;for(var s=-1,l=(e=gm(e,a)).length,u=l-1,p=a;p!=null&&++s<l;){var g=mm(e[s]),v=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(s!=u){var _=p[g];(v=r?r(_,g,p):void 0)===void 0&&(v=ge(_)?_:Il(e[s+1])?[]:{})}zr(p,g,v),p=p[g]}return a},O3=function(a,e,t){return a==null?a:N3(a,e,t)};class P3{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(r){let s=null,l=0,u=0,p=null;const g=new Map;if(r==="")return g;r.charAt(r.length-1)!=";"&&(r+=";");for(let v=0;v<r.length;v++){const _=r.charAt(v);if(s===null)switch(_){case":":p||(p=r.substr(l,v-l),u=v+1);break;case'"':case"'":s=_;break;case";":{const A=r.substr(u,v-u);p&&g.set(p.trim(),A.trim()),p=null,l=v+1;break}}else _===s&&(s=null)}return g}(e).entries());for(const[r,s]of t)this._styleProcessor.toNormalizedForm(r,s,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(t)}set(e,t){if(ge(e))for(const[r,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=wm(e);b3(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ge(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const r of t)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const r=t.splice(0,t.length-1).join("."),s=Ih(this._styles,r);s&&!Array.from(Object.keys(s)).length&&this.remove(r)}}class B3{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,r){if(ge(t))vm(r,wm(e),t);else if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:l,value:u}=s(t);vm(r,l,u)}else vm(r,e,t)}getNormalized(e,t){if(!e)return l_({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return Ih(t,r);const s=r(e,t);if(s)return s}return Ih(t,wm(e))}getReducedForm(e,t){const r=this.getNormalized(e,t);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const l=this.getNormalized(s,e);return l&&typeof l=="object"?Object.keys(l).length:l}),r=new Set([...t,...Object.keys(e)]);return Array.from(r.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const r of t)this._mapStyleNames(r,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function wm(a){return a.replace("-",".")}function vm(a,e,t){let r=t;ge(t)&&(r=l_({},Ih(a,e),t)),O3(a,e,r)}class Di extends Ys{constructor(e,t,r,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(l){const u=Rr(l);for(const[p,g]of u)g===null?u.delete(p):typeof g!="string"&&u.set(p,String(g));return u}(r),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");d_(this._classes,l),this._attrs.delete("class")}this._styles=new P3(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Di))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,r]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==r)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Zi(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(t.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),r=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,t);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let r=0;const s=function(l,u){return typeof u=="string"?[new gt(l,u)]:(Mt(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new gt(l,p):p instanceof Fr?new gt(l,p.data):p))}(this.document,t);for(const l of s)l.parent!==null&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(e,0,l),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const r=String(t);this._fireChange("attributes",this),e=="class"?d_(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of vn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of vn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of vn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function d_(a,e){const t=e.split(/\s+/);a.clear(),t.forEach(r=>a.add(r))}Di.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Jl extends Di{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=u_}}function u_(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of a)if(!t.is("uiElement"))return null;return this.childCount}Jl.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Mh extends Me(Jl){constructor(e,t,r,s){super(e,t,r,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",l=>l&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Mh.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const h_=Symbol("rootName");class f_ extends Mh{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(h_)}set rootName(e){this._setCustomProperty(h_,e)}set _name(e){this.name=e}}f_.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Zs{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new S("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new S("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=me._createAt(e.startPosition):this._position=me._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r;do r=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(r instanceof gt){if(e.isAtEnd)return this._position=me._createAfter(r),this._next();s=r.data[e.offset]}else s=r.getChild(e.offset);if(s instanceof Di){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new me(s,0);return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof gt){if(this.singleCharacters)return e=new me(s,0),this._position=e,this._next();let l,u=s.data.length;return s==this._boundaryEndParent?(u=this.boundaries.end.offset,l=new Fr(s,0,u),e=me._createAfter(l)):(l=new Fr(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,t,e,u)}if(typeof s=="string"){let l;this.singleCharacters?l=1:l=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const u=new Fr(r,e.offset,l);return e.offset+=l,this._position=e,this._formatReturnValue("text",u,t,e,l)}return e=me._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,t,e)}_previous(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(r instanceof gt){if(e.isAtStart)return this._position=me._createBefore(r),this._previous();s=r.data[e.offset-1]}else s=r.getChild(e.offset-1);if(s instanceof Di)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new me(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof gt){if(this.singleCharacters)return e=new me(s,s.data.length),this._position=e,this._previous();let l,u=s.data.length;if(s==this._boundaryStartParent){const p=this.boundaries.start.offset;l=new Fr(s,p,s.data.length-p),u=l.data.length,e=me._createBefore(l)}else l=new Fr(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,t,e,u)}if(typeof s=="string"){let l;if(this.singleCharacters)l=1;else{const p=r===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-p}e.offset-=l;const u=new Fr(r,e.offset,l);return this._position=e,this._formatReturnValue("text",u,t,e,l)}return e=me._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}_formatReturnValue(e,t,r,s,l){return t instanceof Fr&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?r=me._createAfter(t.textNode):(s=me._createAfter(t.textNode),this._position=s)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?r=me._createBefore(t.textNode):(s=me._createBefore(t.textNode),this._position=s))),{done:!1,value:{type:e,item:t,previousPosition:r,nextPosition:s,length:l}}}}class me extends Gs{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Mh);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=me._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Zs(t);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let s=0;for(;t[s]==r[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),r.push(e.offset);const s=lt(t,r);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<r[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Zs(e)}clone(){return new me(this.parent,this.offset)}static _createAt(e,t){if(e instanceof me)return new this(e.parent,e.offset);{const r=e;if(t=="end")t=r.is("$text")?r.data.length:r.childCount;else{if(t=="before")return this._createBefore(r);if(t=="after")return this._createAfter(r);if(t!==0&&!t)throw new S("view-createpositionat-offset-required",r)}return new me(r,t)}}static _createAfter(e){if(e.is("$textProxy"))return new me(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new S("view-position-after-root",e,{root:e});return new me(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new me(e.textNode,e.offsetInText);if(!e.parent)throw new S("view-position-before-root",e,{root:e});return new me(e.parent,e.index)}}me.prototype.is=function(a){return a==="position"||a==="view:position"};class Ie extends Gs{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Zs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Nh,{direction:"backward"}),t=this.end.getLastMatchingPosition(Nh);return e.parent.is("$text")&&e.isAtStart&&(e=me._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=me._createAfter(t.parent)),new Ie(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Nh);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ie(e,e);let t=this.end.getLastMatchingPosition(Nh,{direction:"backward"});const r=e.nodeAfter,s=t.nodeBefore;return r&&r.is("$text")&&(e=new me(r,0)),s&&s.is("$text")&&(t=new me(s,s.data.length)),new Ie(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Ie(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Ie(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new Ie(t,r)}return null}getWalker(e={}){return e.boundaries=this,new Zs(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Ie(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Zs(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Zs(e);yield t.position;for(const r of t)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,r,s){return new this(new me(e,t),new me(r,s))}static _createFromPositionAndShift(e,t){const r=e,s=e.getShiftedBy(t);return t>0?new this(r,s):new this(s,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(me._createBefore(e),t)}}function Nh(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Ie.prototype.is=function(a){return a==="range"||a==="view:range"};class br extends q(Gs){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const s of e._ranges)if(t.isEqual(s)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=yi(this.getRanges());if(t!=yi(e.getRanges()))return!1;if(t==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let s=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),r.start.isEqual(l.start)&&r.end.isEqual(l.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof br||t instanceof _m)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Ie)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof me)this._setRanges([new Ie(t)]),this._setFakeOptions(s);else if(t instanceof Ys){const l=!!s&&!!s.backward;let u;if(r===void 0)throw new S("view-selection-setto-required-second-parameter",this);u=r=="in"?Ie._createIn(t):r=="on"?Ie._createOn(t):new Ie(me._createAt(t,r)),this._setRanges([u],l),this._setFakeOptions(s)}else{if(!Mt(t))throw new S("view-selection-setto-not-selectable",this);this._setRanges(t,s&&s.backward),this._setFakeOptions(s)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new S("view-selection-setfocus-no-ranges",this);const r=me._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),r.compareWith(s)=="before"?this._addRange(new Ie(r,s),!0):this._addRange(new Ie(s,r)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Ie))throw new S("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new S("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Ie(e.start,e.end))}}br.prototype.is=function(a){return a==="selection"||a==="view:selection"};class _m extends q(Gs){constructor(...e){super(),this._selection=new br,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}_m.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class ec extends x{constructor(e,t,r){super(e,t),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ym=Symbol("bubbling contexts");function Am(a){return class extends a{fire(e,...t){try{const r=e instanceof x?e:new x(this,e),s=Cm(this);if(!s.size)return;if(Xl(r,"capturing",this),tc(s,"$capture",r,...t))return r.return;const l=r.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,p=!!u&&!!p_(s,u);let g=u||function(v){if(!v)return null;const _=v.start.parent,A=v.end.parent,E=_.getPath(),I=A.getPath();return E.length>I.length?_:A}(l);if(Xl(r,"atTarget",g),!p){if(tc(s,"$text",r,...t))return r.return;Xl(r,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(tc(s,"$root",r,...t))return r.return}else if(g.is("element")&&tc(s,g.name,r,...t))return r.return;if(tc(s,g,r,...t))return r.return;g=g.parent,Xl(r,"bubbling",g)}return Xl(r,"bubbling",this),tc(s,"$document",r,...t),r.return}catch(r){S.rethrowUnexpectedError(r,this)}}_addEventListener(e,t,r){const s=vn(r.context||"$document"),l=Cm(this);for(const u of s){let p=l.get(u);p||(p=new(q()),l.set(u,p)),this.listenTo(p,e,t,r)}}_removeEventListener(e,t){const r=Cm(this);for(const s of r.values())this.stopListening(s,e,t)}}}{const a=Am(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Am[e]=a.prototype[e]})}function Xl(a,e,t){a instanceof ec&&(a._eventPhase=e,a._currentTarget=t)}function tc(a,e,t,...r){const s=typeof e=="string"?a.get(e):p_(a,e);return!!s&&(s.fire(t,...r),t.stop.called)}function p_(a,e){for(const[t,r]of a)if(typeof t=="function"&&t(e))return r;return null}function Cm(a){return a[ym]||(a[ym]=new Map),a[ym]}class Oh extends Am(Me()){constructor(e){super(),this._postFixers=new Set,this.selection=new _m,this.roots=new Ki({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(t=r(e),t)break;while(t)}}class Qs extends Di{constructor(e,t,r,s){super(e,t,r,s),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=L3}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new S("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function L3(){if(xm(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(xm(a)>1)return null;a=a.parent}return!a||xm(a)>1?null:this.childCount}function xm(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Qs.DEFAULT_PRIORITY=10,Qs.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Em extends Di{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=z3}_insertChild(e,t){if(t&&(t instanceof Ys||Array.from(t).length>0))throw new S("view-emptyelement-cannot-add",[this,t]);return 0}}function z3(){return null}Em.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Ph extends Di{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=R3}_insertChild(e,t){if(t&&(t instanceof Ys||Array.from(t).length>0))throw new S("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const r of this.getAttributeKeys())t.setAttribute(r,this.getAttribute(r));return t}}function j3(a){a.document.on("arrowKey",(e,t)=>function(r,s,l){if(s.keyCode==Ye.arrowright){const u=s.domTarget.ownerDocument.defaultView.getSelection(),p=u.rangeCount==1&&u.getRangeAt(0).collapsed;if(p||s.shiftKey){const g=u.focusNode,v=u.focusOffset,_=l.domPositionToView(g,v);if(_===null)return;let A=!1;const E=_.getLastMatchingPosition(I=>(I.item.is("uiElement")&&(A=!0),!(!I.item.is("uiElement")&&!I.item.is("attributeElement"))));if(A){const I=l.viewPositionToDom(E);p?u.collapse(I.parent,I.offset):u.extend(I.parent,I.offset)}}}}(0,t,a.domConverter),{priority:"low"})}function R3(){return null}Ph.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Sm extends Di{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=F3}_insertChild(e,t){if(t&&(t instanceof Ys||Array.from(t).length>0))throw new S("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function F3(){return null}Sm.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Js extends q(Gs){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let r=0;const s=function(l,u){return typeof u=="string"?[new gt(l,u)]:(Mt(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new gt(l,p):p instanceof Fr?new gt(l,p.data):p))}(this.document,t);for(const l of s)l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Js.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class g_{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Js(this.document,e)}createText(e){return new gt(this.document,e)}createAttributeElement(e,t,r={}){const s=new Qs(this.document,e,t);return typeof r.priority=="number"&&(s._priority=r.priority),r.id&&(s._id=r.id),r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createContainerElement(e,t,r={},s={}){let l=null;qt(r)?s=r:l=r;const u=new Jl(this.document,e,t,l);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createEditableElement(e,t,r={}){const s=new Mh(this.document,e,t);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createEmptyElement(e,t,r={}){const s=new Em(this.document,e,t);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createUIElement(e,t,r){const s=new Ph(this.document,e,t);return r&&(s.render=r),s}createRawElement(e,t,r,s={}){const l=new Sm(this.document,e,t);return r&&(l.render=r),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){qt(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof me?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new S("view-writer-break-non-container-element",this.document);if(!t.parent)throw new S("view-writer-break-root",this.document);if(e.isAtStart)return me._createBefore(t);if(!e.isAtEnd){const r=t._clone(!1);this.insert(me._createAfter(t),r);const s=new Ie(e,me._createAt(t,"end")),l=new me(r,0);this.move(s,l)}return me._createAfter(t)}mergeAttributes(e){const t=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const u=r.parent,p=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new me(u,p))}const s=r.getChild(t-1),l=r.getChild(t);if(!s||!l)return e;if(s.is("$text")&&l.is("$text"))return k_(s,l);if(s.is("attributeElement")&&l.is("attributeElement")&&s.isSimilar(l)){const u=s.childCount;return s._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new me(s,u))}return e}mergeContainers(e){const t=e.nodeBefore,r=e.nodeAfter;if(!(t&&r&&t.is("containerElement")&&r.is("containerElement")))throw new S("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),l=s instanceof gt?me._createAt(s,"end"):me._createAt(t,"end");return this.move(Ie._createIn(r),me._createAt(t,"end")),this.remove(Ie._createOn(r)),l}insert(e,t){b_(t=Mt(t)?[...t]:[t],this.document);const r=t.reduce((u,p)=>{const g=u[u.length-1],v=!p.is("uiElement");return g&&g.breakAttributes==v?g.nodes.push(p):u.push({breakAttributes:v,nodes:[p]}),u},[]);let s=null,l=e;for(const{nodes:u,breakAttributes:p}of r){const g=this._insertNodes(l,u,p);s||(s=g.start),l=g.end}return s?new Ie(s,l):new Ie(e)}remove(e){const t=e instanceof Ie?e:Ie._createOn(e);if(ed(t,this.document),t.isCollapsed)return new Js(this.document);const{start:r,end:s}=this._breakAttributesRange(t,!0),l=r.parent,u=s.offset-r.offset,p=l._removeChildren(r.offset,u);for(const v of p)this._removeFromClonedElementsGroup(v);const g=this.mergeAttributes(r);return t.start=g,t.end=g.clone(),new Js(this.document,p)}clear(e,t){ed(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of r){const l=s.item;let u;if(l.is("element")&&t.isSimilar(l))u=Ie._createOn(l);else if(!s.nextPosition.isAfter(e.start)&&l.is("$textProxy")){const p=l.getAncestors().find(g=>g.is("element")&&t.isSimilar(g));p&&(u=Ie._createIn(p))}u&&(u.end.isAfter(e.end)&&(u.end=e.end),u.start.isBefore(e.start)&&(u.start=e.start),this.remove(u))}}move(e,t){let r;if(t.isAfter(e.end)){const s=(t=this._breakAttributes(t,!0)).parent,l=s.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),t.offset+=s.childCount-l}else r=this.remove(e);return this.insert(t,r)}wrap(e,t){if(!(t instanceof Qs))throw new S("view-writer-wrap-invalid-attribute",this.document);if(ed(e,this.document),e.isCollapsed){let s=e.start;s.parent.is("element")&&(r=s.parent,!Array.from(r.getChildren()).some(u=>!u.is("uiElement")))&&(s=s.getLastMatchingPosition(u=>u.item.is("uiElement"))),s=this._wrapPosition(s,t);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(e.start)&&this.setSelection(s),new Ie(s)}return this._wrapRange(e,t);var r}unwrap(e,t){if(!(t instanceof Qs))throw new S("view-writer-unwrap-invalid-attribute",this.document);if(ed(e,this.document),e.isCollapsed)return e;const{start:r,end:s}=this._breakAttributesRange(e,!0),l=r.parent,u=this._unwrapChildren(l,r.offset,s.offset,t),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const g=this.mergeAttributes(u.end);return new Ie(p,g)}rename(e,t){const r=new Jl(this.document,e,t.getAttributes());return this.insert(me._createAfter(t),r),this.move(Ie._createIn(t),me._createAt(r,0)),this.remove(Ie._createOn(t)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return me._createAt(e,t)}createPositionAfter(e){return me._createAfter(e)}createPositionBefore(e){return me._createBefore(e)}createRange(e,t){return new Ie(e,t)}createRangeOn(e){return Ie._createOn(e)}createRangeIn(e){return Ie._createIn(e)}createSelection(...e){return new br(...e)}createSlot(e="children"){if(!this._slotFactory)throw new S("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,r){let s,l;if(s=r?Dm(e):e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new S("view-writer-invalid-position-container",this.document);l=r?this._breakAttributes(e,!0):e.parent.is("$text")?Tm(e):e;const u=s._insertChild(l.offset,t);for(const _ of t)this._addToClonedElementsGroup(_);const p=l.getShiftedBy(u),g=this.mergeAttributes(l);g.isEqual(l)||p.offset--;const v=this.mergeAttributes(p);return new Ie(g,v)}_wrapChildren(e,t,r,s){let l=t;const u=[];for(;l<r;){const g=e.getChild(l),v=g.is("$text"),_=g.is("attributeElement");if(_&&this._wrapAttributeElement(s,g))u.push(new me(e,l));else if(v||!_||$3(s,g)){const A=s._clone();g._remove(),A._appendChild(g),e._insertChild(l,A),this._addToClonedElementsGroup(A),u.push(new me(e,l))}else this._wrapChildren(g,0,g.childCount,s);l++}let p=0;for(const g of u)g.offset-=p,g.offset!=t&&(this.mergeAttributes(g).isEqual(g)||(p++,r--));return Ie._createFromParentsAndOffsets(e,t,e,r)}_unwrapChildren(e,t,r,s){let l=t;const u=[];for(;l<r;){const g=e.getChild(l);if(g.is("attributeElement"))if(g.isSimilar(s)){const v=g.getChildren(),_=g.childCount;g._remove(),e._insertChild(l,v),this._removeFromClonedElementsGroup(g),u.push(new me(e,l),new me(e,l+_)),l+=_,r+=_-1}else this._unwrapAttributeElement(s,g)?(u.push(new me(e,l),new me(e,l+1)),l++):(this._unwrapChildren(g,0,g.childCount,s),l++);else l++}let p=0;for(const g of u)g.offset-=p,!(g.offset==t||g.offset==r)&&(this.mergeAttributes(g).isEqual(g)||(p++,r--));return Ie._createFromParentsAndOffsets(e,t,e,r)}_wrapRange(e,t){const{start:r,end:s}=this._breakAttributesRange(e,!0),l=r.parent,u=this._wrapChildren(l,r.offset,s.offset,t),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const g=this.mergeAttributes(u.end);return new Ie(p,g)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return m_(e.clone());e.parent.is("$text")&&(e=Tm(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const s=new Ie(e,e.getShiftedBy(1));this.wrap(s,t);const l=new me(r.parent,r.index);r._remove();const u=l.nodeBefore,p=l.nodeAfter;return u instanceof gt&&p instanceof gt?k_(u,p):m_(l)}_wrapAttributeElement(e,t){if(!w_(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&t.hasAttribute(r)&&t.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(t.hasStyle(r)&&t.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&(t.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),t));for(const r of e.getStyleNames())t.hasStyle(r)||this.setStyle(r,e.getStyle(r),t);for(const r of e.getClassNames())t.hasClass(r)||this.addClass(r,t);return!0}_unwrapAttributeElement(e,t){if(!w_(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&(!t.hasAttribute(r)||t.getAttribute(r)!==e.getAttribute(r)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!t.hasStyle(r)||t.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&this.removeAttribute(r,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const r=e.start,s=e.end;if(ed(e,this.document),e.isCollapsed){const g=this._breakAttributes(e.start,t);return new Ie(g,g)}const l=this._breakAttributes(s,t),u=l.parent.childCount,p=this._breakAttributes(r,t);return l.offset+=l.parent.childCount-u,new Ie(p,l)}_breakAttributes(e,t=!1){const r=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new S("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new S("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new S("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Im(s.parent)||Im(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Tm(e),t);if(r==s.childCount){const l=new me(s.parent,s.index+1);return this._breakAttributes(l,t)}if(r===0){const l=new me(s.parent,s.index);return this._breakAttributes(l,t)}{const l=s.index+1,u=s._clone();s.parent._insertChild(l,u),this._addToClonedElementsGroup(u);const p=s.childCount-r,g=s._removeChildren(r,p);u._appendChild(g);const v=new me(s.parent,l);return this._breakAttributes(v,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let r=this._cloneGroups.get(t);r||(r=new Set,this._cloneGroups.set(t,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const r=this._cloneGroups.get(t);r&&r.delete(e)}}function Dm(a){let e=a.parent;for(;!Im(e);){if(!e)return;e=e.parent}return e}function $3(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function m_(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new me(e,e.data.length);const t=a.nodeAfter;return t&&t.is("$text")?new me(t,0):a}function Tm(a){if(a.offset==a.parent.data.length)return new me(a.parent.parent,a.parent.index+1);if(a.offset===0)return new me(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new gt(a.root.document,e)),new me(a.parent.parent,a.parent.index+1)}function k_(a,e){const t=a.data.length;return a._data+=e.data,e._remove(),new me(a,t)}const V3=[gt,Qs,Jl,Em,Sm,Ph];function b_(a,e){for(const t of a){if(!V3.some(r=>t instanceof r))throw new S("view-writer-insert-invalid-node-type",e);t.is("$text")||b_(t.getChildren(),e)}}function Im(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function ed(a,e){const t=Dm(a.start),r=Dm(a.end);if(!t||!r||t!==r)throw new S("view-writer-invalid-range-container",e)}function w_(a,e){return a.id===null&&e.id===null}const v_=a=>a.createTextNode(""),__=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},y_=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},wr=7,td="".repeat(wr);function Ti(a){return typeof a=="string"?a.substr(0,wr)===td:Ft(a)&&a.data.substr(0,wr)===td}function nd(a){return a.data.length==wr&&Ti(a)}function A_(a){const e=typeof a=="string"?a:a.data;return Ti(a)?e.slice(wr):e}function U3(a,e){if(e.keyCode==Ye.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const r=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Ti(r)&&s<=wr&&t.collapse(r,0)}}}var C_=o(5037),H3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(C_.Z,H3),C_.Z.locals;class W3 extends Me(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),f.isBlink&&!f.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new S("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!f.isAndroid)return;let e=null;const t=!(f.isBlink&&!f.isAndroid)||!this.isSelecting;for(const r of this.markedChildren)this._updateChildrenMappings(r);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=me._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(t)if(e){const r=this.domConverter.viewPositionToDom(e),s=r.parent.ownerDocument;Ti(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=x_(s,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(r,s),u=this._findUpdateActions(l,r,s,q3);if(u.indexOf("update")!==-1){const p={equal:0,insert:0,delete:0};for(const g of u)if(g==="update"){const v=p.equal+p.insert,_=p.equal+p.delete,A=e.getChild(v);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,r[_]),Bv(s[v]),p.equal++}else p[g]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?me._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Ft(t.parent)&&Ti(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Ti(e))throw new S("view-renderer-filler-was-lost",this);nd(e)?e.remove():e.data=e.data.substr(wr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(u){if(u.getAttribute("contenteditable")=="false")return!1;const p=u.findAncestor(g=>g.hasAttribute("contenteditable"));return!p||p.getAttribute("contenteditable")=="true"}(t)||r===t.getFillerOffset())return!1;const s=e.nodeBefore,l=e.nodeAfter;return!(s instanceof gt||l instanceof gt)&&(!f.isAndroid||!s&&!l)}_updateText(e,t){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(s=td+s),E_(r,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.attributes).map(l=>l.name),s=e.getAttributeKeys();for(const l of s)this.domConverter.setDomElementAttribute(t,l,e.getAttribute(l),e);for(const l of r)e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(t,l)}_updateChildren(e,t){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(f.isAndroid){let A=null;for(const E of Array.from(r.childNodes)){if(A&&Ft(A)&&Ft(E)){r.normalize();break}A=E}}const s=t.inlineFillerPosition,l=r.childNodes,u=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&x_(r.ownerDocument,u,s.offset);const p=this._diffNodeLists(l,u),g=this._findUpdateActions(p,l,u,G3);let v=0;const _=new Set;for(const A of g)A==="delete"?(_.add(l[v]),Bv(l[v])):A!=="equal"&&A!=="update"||v++;v=0;for(const A of g)A==="insert"?(wn(r,v,u[v]),v++):A==="update"?(E_(l[v],u[v].data),v++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(u[v])),v++);for(const A of _)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(e,t){return e=function(r,s){const l=Array.from(r);return l.length==0||!s||l[l.length-1]==s&&l.pop(),l}(e,this._fakeSelectionContainer),y(e,t,Y3.bind(null,this.domConverter))}_findUpdateActions(e,t,r,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let l=[],u=[],p=[];const g={equal:0,insert:0,delete:0};for(const v of e)v==="insert"?p.push(r[g.equal+g.insert]):v==="delete"?u.push(t[g.equal+g.delete]):(l=l.concat(y(u,p,s).map(_=>_==="equal"?"update":_)),l.push("equal"),u=[],p=[]),g[v]++;return l.concat(y(u,p,s).map(v=>v==="equal"?"update":v))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(f.isBlink&&!f.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&f.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(u){const p=u.createElement("div");return p.className="ck-fake-selection-container",Object.assign(p.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),p.textContent="",p}(t));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;r.parentElement&&r.parentElement==e||e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),l=t.createRange();s.removeAllRanges(),l.selectNodeContents(r),s.addRange(l)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(r.parent,r.offset,s.parent,s.offset),f.isGecko&&function(l,u){const p=l.parent;if(p.nodeType!=Node.ELEMENT_NODE||l.offset!=p.childNodes.length-1)return;const g=p.childNodes[l.offset];g&&g.tagName=="BR"&&u.addRange(u.getRangeAt(0))}(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!t||t.parentElement!==e||r.anchorNode!==t&&!t.contains(r.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const r=e.activeElement,s=this.domConverter.mapDomToView(r);r&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function x_(a,e,t){const r=e instanceof Array?e:e.childNodes,s=r[t];if(Ft(s))return s.data=td+s.data,s;{const l=a.createTextNode(td);return Array.isArray(e)?r.splice(t,0,l):wn(e,t,l),l}}function q3(a,e){return kn(a)&&kn(e)&&!Ft(a)&&!Ft(e)&&!Fn(a)&&!Fn(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function G3(a,e){return kn(a)&&kn(e)&&Ft(a)&&Ft(e)}function Y3(a,e,t){return e===t||(Ft(e)&&Ft(t)?e.data===t.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(t)))}function E_(a,e){const t=a.data;if(t==e)return;const r=k(t,e);for(const s of r)s.type==="insert"?a.insertData(s.index,s.values.join("")):a.deleteData(s.index,s.howMany)}const K3=y_(Ae.document),Z3=v_(Ae.document),Q3=__(Ae.document),Bh="data-ck-unsafe-attribute-",S_="data-ck-unsafe-element";class Lh{constructor(e,{blockFillerMode:t,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Zi,this._inlineObjectElementMatcher=new Zi,this.document=e,this.renderingMode=r,this.blockFillerMode=t||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ae.document:Ae.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new br(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,r){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const r=new DOMParser().parseFromString(t,"text/html"),s=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);const u=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),p=[];let g;for(;g=u.nextNode();)p.push(g);for(const v of p){for(const A of v.getAttributeNames())this.setDomElementAttribute(v,A,v.getAttribute(A));const _=v.tagName.toLowerCase();this._shouldRenameElement(_)&&(I_(_),v.replaceWith(this._createReplacementDomElement(_,v)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let r;if(e.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,e);else{if(e.is("uiElement"))return r=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(r,e),r;this._shouldRenameElement(e.name)?(I_(e.name),r=this._createReplacementDomElement(e.name)):r=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(r,this),t.bind&&this.bindElements(r,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(r,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))r.appendChild(s);return r}}setDomElementAttribute(e,t,r,s){const l=this.shouldRenderAttribute(t,r,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);l||F("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:r}),function(u){try{Ae.document.createAttribute(u)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!l?e.removeAttribute(t):e.hasAttribute(Bh+t)&&l&&e.removeAttribute(Bh+t),e.setAttribute(l?t:Bh+t,r)):F("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:r})}removeDomElementAttribute(e,t){t!=S_&&(e.removeAttribute(t),e.removeAttribute(Bh+t))}*viewChildrenToDom(e,t={}){const r=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const l of e.getChildren()){r===s&&(yield this._getBlockFiller());const u=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!_n(l.getAttributes());u&&this.renderingMode=="data"?yield*this.viewChildrenToDom(l,t):(u&&F("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,t)),s++}r===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(r.parent,r.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const r=this.findCorrespondingDomText(t);if(!r)return null;let s=e.offset;return Ti(r)&&(s+=wr),{parent:r,offset:s}}{let r,s,l;if(e.offset===0){if(r=this.mapViewToDom(t),!r)return null;l=r.childNodes[0]}else{const u=e.nodeBefore;if(s=u.is("$text")?this.findCorrespondingDomText(u):this.mapViewToDom(u),!s)return null;r=s.parentNode,l=s.nextSibling}return Ft(l)&&Ti(l)?{parent:l,offset:wr}:{parent:r,offset:s?Qn(s)+1:0}}}domToView(e,t={}){const r=[],s=this._domToView(e,t,r),l=s.next().value;return l?(s.next(),this._processDomInlineNodes(null,r,t),l.is("$text")&&l.data.length==0?null:l):null}*domChildrenToView(e,t={},r=[]){for(let s=0;s<e.childNodes.length;s++){const l=e.childNodes[s],u=this._domToView(l,t,r),p=u.next().value;p!==null&&(this._isBlockViewElement(p)&&this._processDomInlineNodes(e,r,t),yield p,u.next())}this._processDomInlineNodes(e,r,t)}domSelectionToView(e){if(function(s){if(!f.isGecko||!s.rangeCount)return!1;const l=s.getRangeAt(0).startContainer;try{Object.prototype.toString.call(l)}catch{return!0}return!1}(e))return new br([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Ft(s)&&(s=s.parentNode);const l=this.fakeSelectionToView(s);if(l)return l}const t=this.isDomSelectionBackward(e),r=[];for(let s=0;s<e.rangeCount;s++){const l=e.getRangeAt(s),u=this.domRangeToView(l);u&&r.push(u)}return new br(r,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return t&&r?new Ie(t,r):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Qn(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return me._createBefore(r);if(Ft(e)){if(nd(e))return this.domPositionToView(e.parentNode,Qn(e));const s=this.findCorrespondingViewText(e);let l=t;return s?(Ti(e)&&(l-=wr,l=l<0?0:l),new me(s,l)):null}if(t===0){const s=this.mapDomToView(e);if(s)return new me(s,0)}else{const s=e.childNodes[t-1];if(Ft(s)&&nd(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Qn(s));const l=Ft(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(l&&l.parent)return new me(l.parent,l.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(nd(e))return null;const t=this.getHostViewElement(e);if(t)return t;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const s=this.mapDomToView(r);if(s){const l=s.nextSibling;return l instanceof gt?l:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const l=s.getChild(0);return l instanceof gt?l:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:r,scrollY:s}=Ae.window,l=[];D_(t,u=>{const{scrollLeft:p,scrollTop:g}=u;l.push([p,g])}),t.focus(),D_(t,u=>{const[p,g]=l.shift();u.scrollLeft=p,u.scrollTop=g}),Ae.window.scrollTo(r,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(t);r&&r.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(K3):!(e.tagName!=="BR"||!T_(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Q3)||function(t,r){return t.isEqualNode(Z3)&&T_(t,r)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=t.collapsed;return t.detach(),r}getHostViewElement(e){const t=function(r){const s=[];let l=r;for(;l&&l.nodeType!=Node.DOCUMENT_NODE;)s.unshift(l),l=l.parentNode;return s}(e);for(t.pop();t.length;){const r=t.pop(),s=this._domToViewMapping.get(r);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return v_(this._domDocument);case"markedNbsp":return __(this._domDocument);case"br":return y_(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Ft(e)&&Ti(e)&&t<wr||this.isElement(e)&&Ti(e.childNodes[t]))return!1;const r=this.mapDomToView(e);return!r||!r.is("uiElement")&&!r.is("rawElement")}*_domToView(e,t,r){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(Fn(e)&&t.skipComments)return null;if(Ft(e)){if(nd(e))return null;{const l=e.data;if(l==="")return null;const u=new gt(this.document,l);return r.push(u),u}}{let l=this.mapDomToView(e);if(l)return this._isInlineObjectElement(l)&&r.push(l),l;if(this.isDocumentFragment(e))l=new Js(this.document),t.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,t),t.bind&&this.bindElements(e,l);const p=e.attributes;if(p)for(let g=p.length,v=0;v<g;v++)l._setAttribute(p[v].name,p[v].value);if(this._isViewElementWithRawContent(l,t))return l._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(l)||r.push(l),l;if(Fn(e))return l._setCustomProperty("$rawContent",e.data),l}yield l;const u=[];if(t.withChildren!==!1)for(const p of this.domChildrenToView(e,t,u))l._appendChild(p);if(this._isInlineObjectElement(l))r.push(l);else for(const p of u)r.push(p)}}_processDomInlineNodes(e,t,r){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let l=0;l<t.length;l++){const u=t[l];if(!u.is("$text")){s=!1;continue}let p,g=!1;if(J3(u,this.preElements))p=A_(u.data);else{p=u.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(p.charAt(p.length-1));const v=l>0?t[l-1]:null,_=l+1<t.length?t[l+1]:null,A=!v||v.is("element")&&v.name=="br"||s,E=!_&&!Ti(u.data);r.withChildren!==!1&&(A&&(p=p.replace(/^ /,"")),E&&(p=p.replace(/ $/,""))),p=A_(p),p=p.replace(/ \u00A0/g,"  ");const I=_&&_.is("element")&&_.name!="br",B=_&&_.is("$text")&&_.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(p)||!_||I||B)&&(p=p.replace(/\u00A0$/," ")),(A||v&&v.is("element")&&v.name!="br")&&(p=p.replace(/^\u00A0/," "))}p.length==0&&u.parent?(u._remove(),t.splice(l,1),l--):(u._data=p,s=g)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return t;if(t.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),s=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&r&&!s||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const r=new Zs({startPosition:t?me._createAfter(e):me._createBefore(e),direction:t?"forward":"backward"});for(const s of r){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(Fn(e))return new Ph(this.document,"$comment");const r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Di(this.document,r)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const r=this._domDocument.createElement("span");if(r.setAttribute(S_,e),t){for(;t.firstChild;)r.appendChild(t.firstChild);for(const s of t.getAttributeNames())r.setAttribute(s,t.getAttribute(s))}return r}}function J3(a,e){return a.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function D_(a,e){let t=a;for(;t;)e(t),t=t.parentElement}function T_(a,e){const t=a.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function I_(a){a==="script"&&F("domconverter-unsafe-script-element-detected"),a==="style"&&F("domconverter-unsafe-style-element-detected")}class $r extends ft(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const M_=c_(function(a,e){ho(e,jr(e),a)});class nc{constructor(e,t,r){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,M_(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Xs extends $r{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(r,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,r){this.isEnabled&&this.document.fire(e,new nc(this.view,t,r))}}class X3 extends Xs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Xa(this)}};this.fire(e.type,e,t)}}const Mm=function(){return Rt.Date.now()};var eM=/\s/;const tM=function(a){for(var e=a.length;e--&&eM.test(a.charAt(e)););return e};var nM=/^\s+/;const iM=function(a){return a&&a.slice(0,tM(a)+1).replace(nM,"")};var rM=/^[-+]0x[0-9a-f]+$/i,oM=/^0b[01]+$/i,sM=/^0o[0-7]+$/i,aM=parseInt;const N_=function(a){if(typeof a=="number")return a;if(Th(a))return NaN;if(ge(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=ge(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=iM(a);var t=oM.test(a);return t||sM.test(a)?aM(a.slice(2),t?2:8):rM.test(a)?NaN:+a};var cM=Math.max,lM=Math.min;const id=function(a,e,t){var r,s,l,u,p,g,v=0,_=!1,A=!1,E=!0;if(typeof a!="function")throw new TypeError("Expected a function");function I(te){var le=r,xe=s;return r=s=void 0,v=te,u=a.apply(xe,le)}function B(te){var le=te-g;return g===void 0||le>=e||le<0||A&&te-v>=l}function j(){var te=Mm();if(B(te))return $(te);p=setTimeout(j,function(le){var xe=e-(le-g);return A?lM(xe,l-(le-v)):xe}(te))}function $(te){return p=void 0,E&&r?I(te):(r=s=void 0,u)}function G(){var te=Mm(),le=B(te);if(r=arguments,s=this,g=te,le){if(p===void 0)return function(xe){return v=xe,p=setTimeout(j,e),_?I(xe):u}(g);if(A)return clearTimeout(p),p=setTimeout(j,e),I(g)}return p===void 0&&(p=setTimeout(j,e)),u}return e=N_(e)||0,ge(t)&&(_=!!t.leading,l=(A="maxWait"in t)?cM(N_(t.maxWait)||0,e):l,E="trailing"in t?!!t.trailing:E),G.cancel=function(){p!==void 0&&clearTimeout(p),v=0,r=g=s=p=void 0},G.flush=function(){return p===void 0?u:$(Mm())},G};class dM extends $r{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=id(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,r=new br(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ye.arrowleft&&e!=Ye.arrowup||r.setTo(r.getFirstPosition()),e!=Ye.arrowright&&e!=Ye.arrowdown||r.setTo(r.getLastPosition());const s={oldSelection:t,newSelection:r,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}const uM=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},hM=function(a){return this.__data__.has(a)};function zh(a){var e=-1,t=a==null?0:a.length;for(this.__data__=new Fa;++e<t;)this.add(a[e])}zh.prototype.add=zh.prototype.push=uM,zh.prototype.has=hM;const fM=zh,pM=function(a,e){for(var t=-1,r=a==null?0:a.length;++t<r;)if(e(a[t],t,a))return!0;return!1},gM=function(a,e){return a.has(e)},O_=function(a,e,t,r,s,l){var u=1&t,p=a.length,g=e.length;if(p!=g&&!(u&&g>p))return!1;var v=l.get(a),_=l.get(e);if(v&&_)return v==e&&_==a;var A=-1,E=!0,I=2&t?new fM:void 0;for(l.set(a,e),l.set(e,a);++A<p;){var B=a[A],j=e[A];if(r)var $=u?r(j,B,A,e,a,l):r(B,j,A,a,e,l);if($!==void 0){if($)continue;E=!1;break}if(I){if(!pM(e,function(G,te){if(!gM(I,te)&&(B===G||s(B,G,t,r,l)))return I.push(te)})){E=!1;break}}else if(B!==j&&!s(B,j,t,r,l)){E=!1;break}}return l.delete(a),l.delete(e),E},mM=function(a){var e=-1,t=Array(a.size);return a.forEach(function(r,s){t[++e]=[s,r]}),t},kM=function(a){var e=-1,t=Array(a.size);return a.forEach(function(r){t[++e]=r}),t};var P_=Nt?Nt.prototype:void 0,Nm=P_?P_.valueOf:void 0;const bM=function(a,e,t,r,s,l,u){switch(t){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!l(new rt(a),new rt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Yt(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var p=mM;case"[object Set]":var g=1&r;if(p||(p=kM),a.size!=e.size&&!g)return!1;var v=u.get(a);if(v)return v==e;r|=2,u.set(a,e);var _=O_(p(a),p(e),r,s,l,u);return u.delete(a),_;case"[object Symbol]":if(Nm)return Nm.call(a)==Nm.call(e)}return!1};var wM=Object.prototype.hasOwnProperty;const vM=function(a,e,t,r,s,l){var u=1&t,p=Vl(a),g=p.length;if(g!=Vl(e).length&&!u)return!1;for(var v=g;v--;){var _=p[v];if(!(u?_ in e:wM.call(e,_)))return!1}var A=l.get(a),E=l.get(e);if(A&&E)return A==e&&E==a;var I=!0;l.set(a,e),l.set(e,a);for(var B=u;++v<g;){var j=a[_=p[v]],$=e[_];if(r)var G=u?r($,j,_,e,a,l):r(j,$,_,a,e,l);if(!(G===void 0?j===$||s(j,$,t,r,l):G)){I=!1;break}B||(B=_=="constructor")}if(I&&!B){var te=a.constructor,le=e.constructor;te==le||!("constructor"in a)||!("constructor"in e)||typeof te=="function"&&te instanceof te&&typeof le=="function"&&le instanceof le||(I=!1)}return l.delete(a),l.delete(e),I};var B_="[object Arguments]",L_="[object Array]",jh="[object Object]",z_=Object.prototype.hasOwnProperty;const _M=function(a,e,t,r,s,l){var u=yt(a),p=yt(e),g=u?L_:Zo(a),v=p?L_:Zo(e),_=(g=g==B_?jh:g)==jh,A=(v=v==B_?jh:v)==jh,E=g==v;if(E&&Ws(a)){if(!Ws(e))return!1;u=!0,_=!1}if(E&&!_)return l||(l=new Us),u||Nl(a)?O_(a,e,t,r,s,l):bM(a,e,g,t,r,s,l);if(!(1&t)){var I=_&&z_.call(a,"__wrapped__"),B=A&&z_.call(e,"__wrapped__");if(I||B){var j=I?a.value():a,$=B?e.value():e;return l||(l=new Us),s(j,$,t,r,l)}}return!!E&&(l||(l=new Us),vM(a,e,t,r,s,l))},j_=function a(e,t,r,s,l){return e===t||(e==null||t==null||!Wt(e)&&!Wt(t)?e!=e&&t!=t:_M(e,t,r,s,a,l))},yM=function(a,e,t){var r=(t=typeof t=="function"?t:void 0)?t(a,e):void 0;return r===void 0?j_(a,e,void 0,t):!!r};class R_ extends $r{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,r=new Set,s=new Set;for(const u of e){const p=t.mapDomToView(u.target);p&&(p.is("uiElement")||p.is("rawElement")||u.type!=="childList"||this._isBogusBrMutation(u)||s.add(p))}for(const u of e){const p=t.mapDomToView(u.target);if((!p||!p.is("uiElement")&&!p.is("rawElement"))&&u.type==="characterData"){const g=t.findCorrespondingViewText(u.target);g&&!s.has(g.parent)?r.add(g):!g&&Ti(u.target)&&s.add(t.mapDomToView(u.target.parentNode))}}let l=!1;for(const u of r)l=!0,this.renderer.markToSync("text",u);for(const u of s){const p=t.mapViewToDom(u),g=Array.from(u.getChildren()),v=Array.from(t.domChildrenToView(p,{withChildren:!1}));yM(g,v,AM)||(l=!0,this.renderer.markToSync("children",u))}l&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function AM(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class Rh extends Xs{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(r,s)=>{const l=t.selection.editableElement;l!==null&&l!==s.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class CM extends $r{constructor(e){super(e),this.mutationObserver=e.getObserver(R_),this.focusObserver=e.getObserver(Rh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=id(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=id(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,r=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(s,l)=>{this.document.isComposing&&!f.isAndroid||(this._handleSelectionChange(l,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const r=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(r);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(s)||!this.domConverter.isDomSelectionCorrect(r))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(s))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:s,domSelection:r};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class xM extends Xs{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class F_{constructor(e,t={}){this._files=t.cacheFiles?$_(e):null,this._native=e}get files(){return this._files||(this._files=$_(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,r){this._native.setDragImage(e,t,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function $_(a){const e=Array.from(a.files||[]),t=Array.from(a.items||[]);return e.length?e:t.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class EM extends Xs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),r=this.view,s=r.document;let l=null,u=null,p=[];if(e.dataTransfer&&(l=new F_(e.dataTransfer)),e.data!==null?u=e.data:l&&(u=l.getData("text/plain")),s.selection.isFake)p=Array.from(s.selection.getRanges());else if(t.length)p=t.map(g=>{const v=r.domConverter.domPositionToView(g.startContainer,g.startOffset),_=r.domConverter.domPositionToView(g.endContainer,g.endOffset);return v?r.createRange(v,_):_?r.createRange(_):void 0}).filter(g=>!!g);else if(f.isAndroid){const g=e.target.ownerDocument.defaultView.getSelection();p=Array.from(r.domConverter.domSelectionToView(g).getRanges())}if(f.isAndroid&&e.inputType=="insertCompositionText"&&u&&u.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(p[0].end)]});else if(e.inputType=="insertText"&&u&&u.includes(`
`)){const g=u.split(/\n{1,2}/g);let v=p;for(let _=0;_<g.length;_++){const A=g[_];A!=""&&(this.fire(e.type,e,{data:A,dataTransfer:l,targetRanges:v,inputType:e.inputType,isComposing:e.isComposing}),v=[s.selection.getFirstRange()]),_+1<g.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:v}),v=[s.selection.getFirstRange()])}}else this.fire(e.type,e,{data:u,dataTransfer:l,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing})}}class SM extends $r{constructor(e){super(e),this.document.on("keydown",(t,r)=>{if(this.isEnabled&&((s=r.keyCode)==Ye.arrowright||s==Ye.arrowleft||s==Ye.arrowup||s==Ye.arrowdown)){const l=new ec(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,r),l.stop.called&&t.stop()}var s})}observe(){}stopObserving(){}}class DM extends $r{constructor(e){super(e);const t=this.document;t.on("keydown",(r,s)=>{if(!this.isEnabled||s.keyCode!=Ye.tab||s.ctrlKey)return;const l=new ec(t,"tab",t.selection.getFirstRange());t.fire(l,s),l.stop.called&&r.stop()})}observe(){}stopObserving(){}}const Jo=function(a){return we(a,5)};class TM extends Me(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Oh(e),this.domConverter=new Lh(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new W3(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new g_(this.document),this.addObserver(R_),this.addObserver(Rh),this.addObserver(CM),this.addObserver(X3),this.addObserver(dM),this.addObserver(xM),this.addObserver(SM),this.addObserver(EM),this.addObserver(DM),this.document.on("arrowKey",U3,{priority:"low"}),j3(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),f.isiOS&&this.listenTo(this.document,"blur",(t,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();const s={};for(const{name:u,value:p}of Array.from(e.attributes))s[u]=p,u==="class"?this._writer.addClass(p.split(" "),r):this._writer.setAttribute(u,p,r);this._initialDomRootAttributes.set(e,s);const l=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};l(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(u,p)=>this._renderer.markToSync("children",p)),r.on("change:attributes",(u,p)=>this._renderer.markToSync("attributes",p)),r.on("change:text",(u,p)=>this._renderer.markToSync("text",p)),r.on("change:isReadOnly",()=>this.change(l)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const u of this._observers.values())u.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const r=this._initialDomRootAttributes.get(t);for(const s in r)t.setAttribute(s,r[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[r,s]of this.domRoots)t.observe(s,r);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:r=20,ancestorOffset:s=20}={}){const l=this.document.selection.getFirstRange();if(!l)return;const u=Jo({alignToTop:e,forceScroll:t,viewportOffset:r,ancestorOffset:s});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const p={target:this.domConverter.viewRangeToDom(l),viewportOffset:r,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",p,u),function({target:g,viewportOffset:v=0,ancestorOffset:_=0,alignToTop:A,forceScroll:E}){const I=am(g);let B=I,j=null;for(v=function($){return typeof $=="number"?{top:$,bottom:$,left:$,right:$}:$}(v);B;){let $;$=qI(B==I?g:j),WI({parent:$,getRect:()=>Fv(g,B),alignToTop:A,ancestorOffset:_,forceScroll:E});const G=Fv(g,B);if(HI({window:B,rect:G,viewportOffset:v,alignToTop:A,forceScroll:E}),B.parent!=B){if(j=B.frameElement,B=B.parent,!j)return}else B=null}}(p)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new S("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){S.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Rh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return me._createAt(e,t)}createPositionAfter(e){return me._createAfter(e)}createPositionBefore(e){return me._createBefore(e)}createRange(e,t){return new Ie(e,t)}createRangeOn(e){return Ie._createOn(e)}createRangeIn(e){return Ie._createIn(e)}createSelection(...e){return new br(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Xo{is(){throw new Error("is() method is abstract")}}class ea extends Xo{constructor(e){super(),this.parent=null,this._attrs=Rr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new S("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new S("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),s=e.getAncestors(t);let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),s=lt(t,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<r[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,r)=>(t[r[0]]=r[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Rr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}ea.prototype.is=function(a){return a==="node"||a==="model:node"};class rd{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((r,s)=>r+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new S("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const r of this._nodes){if(e>=t&&e<t+r.offsetSize)return this.getNodeIndex(r);t+=r.offsetSize}if(t!=e)throw new S("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const r of t)if(!(r instanceof ea))throw new S("model-nodelist-insertnodes-not-node",this);this._nodes=function(r,s,l,u){if(Math.max(s.length,r.length)>1e4)return r.slice(0,l).concat(s).concat(r.slice(l+u,r.length));{const p=Array.from(r);return p.splice(l,u,...s),p}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class mt extends ea{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new mt(this.data,this.getAttributes())}static fromJSON(e){return new mt(e.data,e.attributes)}}mt.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class vr extends Xo{constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new S("model-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.offsetSize)throw new S("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}vr.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class ut extends ea{constructor(e,t,r){super(t),this._children=new rd,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}findAncestor(e,t={}){let r=t.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new ut(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=function(s){return typeof s=="string"?[new mt(s)]:(Mt(s)||(s=[s]),Array.from(s).map(l=>typeof l=="string"?new mt(l):l instanceof vr?new mt(l.data,l.getAttributes()):l))}(t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const s of r)s.parent=null;return r}static fromJSON(e){let t;if(e.children){t=[];for(const r of e.children)r.name?t.push(ut.fromJSON(r)):t.push(mt.fromJSON(r))}return new ut(e.name,e.attributes,t)}}ut.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Vr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new S("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new S("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=ce._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r,s,l;do s=this.position,l=this._visitedParent,{done:t,value:r}=this.next();while(!t&&e(r));t||(this._position=s,this._visitedParent=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=od(t,r),l=s||V_(t,r,s);if(l instanceof ut){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=l;return this._position=t,ta("elementStart",l,e,t,1)}if(l instanceof mt){let u;if(this.singleCharacters)u=1;else{let v=l.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<v&&(v=this.boundaries.end.offset),u=v-t.offset}const p=t.offset-l.startOffset,g=new vr(l,p,u);return t.offset+=u,this._position=t,ta("text",g,e,t,u)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():ta("elementEnd",r,e,t)}_previous(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,l=od(t,s),u=l||U_(t,s,l);if(u instanceof ut)return t.offset--,this.shallow?(this._position=t,ta("elementStart",u,e,t,1)):(t.path.push(u.maxOffset),this._position=t,this._visitedParent=u,this.ignoreElementEnd?this._previous():ta("elementEnd",u,e,t));if(u instanceof mt){let p;if(this.singleCharacters)p=1;else{let _=u.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>_&&(_=this.boundaries.start.offset),p=t.offset-_}const g=t.offset-u.startOffset,v=new vr(u,g-p,p);return t.offset-=p,this._position=t,ta("text",v,e,t,p)}return t.path.pop(),this._position=t,this._visitedParent=r.parent,ta("elementStart",r,e,t,1)}}function ta(a,e,t,r,s){return{done:!1,value:{type:a,item:e,previousPosition:t,nextPosition:r,length:s}}}class ce extends Xo{constructor(e,t,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new S("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new S("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new S("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new S("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return od(this,this.parent)}get nodeAfter(){const e=this.parent;return V_(this,e,od(this,e))}get nodeBefore(){const e=this.parent;return U_(this,e,od(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=lt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Vr(t);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=lt(this.path,e.path),r=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,r)}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let s=0;for(;t[s]==r[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),r=t.offset+e;return t.offset=r<0?0:r,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let r=0;r<t;r++){const s=this.path[r]-e.path[r];if(s<-1||s>1)return!1;if(s===1)return H_(e,this,r);if(s===-1)return H_(this,e,r)}return this.path.length===e.path.length||(this.path.length>e.path.length?Om(this.path,t):Om(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:lt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ce._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let r;return t.containsPosition(this)||t.start.isEqual(this)?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):r=this.isEqual(e.deletionPosition)?ce._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,t){const r=ce._createAt(this);if(this.root!=e.root)return r;if(lt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if(lt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;r.path[s]-=t}}return r}_getTransformedByInsertion(e,t){const r=ce._createAt(this);if(this.root!=e.root)return r;if(lt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=t);else if(lt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(r.path[s]+=t)}return r}_getTransformedByMove(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return ce._createAt(this);const s=this._getTransformedByDeletion(e,r);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,r)}_getCombined(e,t){const r=e.path.length-1,s=ce._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[r]-e.offset,s.path=[...s.path,...this.path.slice(r+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,r="toNone"){if(e instanceof ce)return new ce(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,r);if(t=="after")return this._createAfter(s,r);if(t!==0&&!t)throw new S("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new S("model-position-parent-incorrect",[this,e]);const l=s.getPath();return l.push(t),new this(s.root,l,r)}}static _createAfter(e,t){if(!e.parent)throw new S("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new S("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const r=new ce(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new S("model-position-fromjson-no-root",t,{rootName:e.root});return new ce(t.getRoot(e.root),e.path,e.stickiness)}}function od(a,e){const t=e.getChild(e.offsetToIndex(a.offset));return t&&t.is("$text")&&t.startOffset<a.offset?t:null}function V_(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset))}function U_(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function H_(a,e,t){return t+1!==a.path.length&&!!Om(e.path,t+1)&&!!function(r,s){let l=r.parent,u=r.path.length-1,p=0;for(;u>=s;){if(r.path[u]+p!==l.maxOffset)return!1;p=1,u--,l=l.parent}return!0}(a,t+1)}function Om(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}ce.prototype.is=function(a){return a==="position"||a==="model:position"};class ne extends Xo{constructor(e,t){super(),this.start=ce._createAt(e),this.end=t?ce._createAt(t):ce._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Vr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return lt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&s}containsItem(e){const t=ce._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ne(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ne(e.end,this.end))):t.push(new ne(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new ne(t,r)}return null}getJoined(e,t=!1){let r=this.isIntersecting(e);if(r||(r=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let s=this.start,l=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(l)&&(l=e.end),new ne(s,l)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,r=ce._createAt(this.start);let s=r.parent;for(;r.path.length>t+1;){const l=s.maxOffset-r.offset;l!==0&&e.push(new ne(r,r.getShiftedBy(l))),r.path=r.path.slice(0,-1),r.offset++,s=s.parent}for(;r.path.length<=this.end.path.length;){const l=this.end.path[r.path.length-1],u=l-r.offset;u!==0&&e.push(new ne(r,r.getShiftedBy(u))),r.offset=l,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Vr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Vr(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Vr(e);yield t.position;for(const r of t)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ne(this.start,this.end)]}getTransformedByOperations(e){const t=[new ne(this.start,this.end)];for(const r of e)for(let s=0;s<t.length;s++){const l=t[s].getTransformedByOperation(r);t.splice(s,1,...l),s+=l.length-1}for(let r=0;r<t.length;r++){const s=t[r];for(let l=r+1;l<t.length;l++){const u=t[l];(s.containsRange(u)||u.containsRange(s)||s.isEqual(u))&&t.splice(l,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const r=e.sourcePosition,s=e.howMany,l=e.targetPosition;return this._getTransformedByMove(r,l,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),t.root!=r.root&&(r=this.end.getShiftedBy(-1)),new ne(t,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ne(this.start);let t=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return t.root!=r.root&&(r=this.end.getShiftedBy(-1)),t.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(t=ce._createAt(r),t.offset=0):(e.deletionPosition.isEqual(t)||(r=e.deletionPosition),t=e.targetPosition),new ne(t,r)):new ne(t,r)}_getTransformedByInsertion(e,t,r=!1){if(r&&this.containsPosition(e))return[new ne(this.start,e),new ne(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new ne(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,r,s=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(e,t,r);return[new ne(A)]}const l=ne._createFromPositionAndShift(e,r),u=t._getTransformedByDeletion(e,r);if(this.containsPosition(t)&&!s&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const A=this.start._getTransformedByMove(e,t,r),E=this.end._getTransformedByMove(e,t,r);return[new ne(A,E)]}let p;const g=this.getDifference(l);let v=null;const _=this.getIntersection(l);if(g.length==1?v=new ne(g[0].start._getTransformedByDeletion(e,r),g[0].end._getTransformedByDeletion(e,r)):g.length==2&&(v=new ne(this.start,this.end._getTransformedByDeletion(e,r))),p=v?v._getTransformedByInsertion(u,r,_!==null||s):[],_){const A=new ne(_.start._getCombined(l.start,u),_.end._getCombined(l.start,u));p.length==2?p.splice(1,0,A):p.push(A)}return p}_getTransformedByDeletion(e,t){let r=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return r==null&&s==null?null:(r==null&&(r=e),s==null&&(s=e),new ne(r,s))}static _createFromPositionAndShift(e,t){const r=e,s=e.getShiftedBy(t);return t>0?new this(r,s):new this(s,r)}static _createIn(e){return new this(ce._createAt(e,0),ce._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ce._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new S("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((l,u)=>l.start.isAfter(u.start)?1:-1);const r=e.indexOf(t),s=new this(t.start,t.end);if(r>0)for(let l=r-1;e[l].end.isEqual(s.start);l++)s.start=ce._createAt(e[l].start);for(let l=r+1;l<e.length&&e[l].start.isEqual(s.end);l++)s.end=ce._createAt(e[l].end);return s}static fromJSON(e,t){return new this(ce.fromJSON(e.start,t),ce.fromJSON(e.end,t))}}ne.prototype.is=function(a){return a==="range"||a==="model:range"};class W_ extends q(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const r=this._modelToViewMapping.get(t.modelPosition.parent);if(!r)throw new S("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(r,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const r=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(r),l=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r);t.modelPosition=ce._createAt(s,l)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const r=this._markerNameToElements.get(t)||new Set;r.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,r),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const r=this._markerNameToElements.get(t);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ne(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ie(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const r={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const r=new Set;for(const s of t)if(s.is("attributeElement"))for(const l of s.getElementsWithSameId())r.add(l);else r.add(s);return r}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,r){if(r!=e)return this._toModelOffset(e.parent,e.index,r)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let s=0;for(let l=0;l<t;l++)s+=this.getModelLength(e.getChild(l));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const r of e.getChildren())t+=this.getModelLength(r);return t}}findPositionIn(e,t){let r,s=0,l=0,u=0;if(e.is("$text"))return new me(e,t);for(;l<t;)r=e.getChild(u),s=this.getModelLength(r),l+=s,u++;return l==t?this._moveViewPositionToTextNode(new me(e,u)):this.findPositionIn(r,t-(l-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,r=e.nodeAfter;return t instanceof gt?new me(t,t.data.length):r instanceof gt?new me(r,0):e}}class IM{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Fh(t),e instanceof vr&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Fh(t),e instanceof vr&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Fh(t),e instanceof vr&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const s=r.get(t);return s===void 0?null:s}revert(e,t){t=Fh(t),e instanceof vr&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,t);return r===!1?(this._consumable.get(e).set(t,!0),!0):r!==!0&&null}verifyAllConsumed(e){const t=[];for(const[r,s]of this._consumable)for(const[l,u]of s){const p=l.split(":")[0];u&&e==p&&t.push({event:l,item:r.name||r.description})}if(t.length)throw new S("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const s=r.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,r=e.endOffset,s=e.parent,l=Symbol("$textProxy:"+e.data);let u,p;return u=this._textProxyRegistry.get(t),u||(u=new Map,this._textProxyRegistry.set(t,u)),p=u.get(r),p||(p=new Map,u.set(r,p)),p.set(s,l),l}}function Fh(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}class q_ extends q(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,r){const s=this._createConversionApi(r,e.getRefreshedItems());for(const u of e.getMarkersToRemove())this._convertMarkerRemove(u.name,u.range,s);const l=this._reduceChanges(e.getChanges());for(const u of l)u.type==="insert"?this._convertInsert(ne._createFromPositionAndShift(u.position,u.length),s):u.type==="reinsert"?this._convertReinsert(ne._createFromPositionAndShift(u.position,u.length),s):u.type==="remove"?this._convertRemove(u.position,u.length,u.name,s):this._convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,s);for(const u of s.mapper.flushUnboundMarkerNames()){const p=t.get(u).getRange();this._convertMarkerRemove(u,p,s),this._convertMarkerAdd(u,p,s)}for(const u of e.getMarkersToAdd())this._convertMarkerAdd(u.name,u.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,r,s={}){const l=this._createConversionApi(r,void 0,s);this._convertInsert(e,l);for(const[u,p]of t)this._convertMarkerAdd(u,p,l);l.consumable.verifyAllConsumed("insert")}convertSelection(e,t,r){const s=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},s);const l=e.getFirstPosition().root;if(!s.mapper.toViewElement(l))return;const u=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,u),this.fire("selection",{selection:e},s),e.isCollapsed){for(const p of u)if(s.consumable.test(e,"addMarker:"+p.name)){const g=p.getRange();if(!MM(e.getFirstPosition(),p,s.mapper))continue;const v={item:e,markerName:p.name,markerRange:g};this.fire(`addMarker:${p.name}`,v,s)}for(const p of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+p)){const g={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};this.fire(`attribute:${p}:$text`,g,s)}}}_convertInsert(e,t,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(G_))this._testAndFire("insert",s,t)}_convertRemove(e,t,r,s){this.fire(`remove:${r}`,{position:e,length:t},s)}_convertAttribute(e,t,r,s,l){this._addConsumablesForRange(l.consumable,e,`attribute:${t}`);for(const u of e){const p={item:u.item,range:ne._createFromPositionAndShift(u.previousPosition,u.length),attributeKey:t,attributeOldValue:r,attributeNewValue:s};this._testAndFire(`attribute:${t}`,p,l)}}_convertReinsert(e,t){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,r);for(const s of r.map(G_))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,r){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(r.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},r),r.consumable.consume(t,s)){this._addConsumablesForRange(r.consumable,t,s);for(const l of t.getItems()){if(!r.consumable.test(l,s))continue;const u={item:l,range:ne._createOn(l),markerName:e,markerRange:t};this.fire(s,u,r)}}}_convertMarkerRemove(e,t,r){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},r)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const r of t){const s=r.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const l of s.getAttributeKeys())e.add(s,"attribute:"+l)}}return e}_addConsumablesForRange(e,t,r){for(const s of t.getItems())e.add(s,r);return e}_addConsumablesForSelection(e,t,r){e.add(t,"selection");for(const s of r)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,r){const s=function(g,v){const _=v.item.is("element")?v.item.name:"$text";return`${g}:${_}`}(e,t),l=t.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(t.item):t.item,u=this._firedEventsMap.get(r),p=u.get(l);if(p){if(p.has(s))return;p.add(s)}else u.set(l,new Set([s]));this.fire(s,t,r)}_testAndFireAddAttributes(e,t){const r={item:e,range:ne._createOn(e)};for(const s of r.item.getAttributeKeys())r.attributeKey=s,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(s),this._testAndFire(`attribute:${s}`,r,t)}_createConversionApi(e,t=new Set,r={}){const s={...this._conversionApi,consumable:new IM,writer:e,options:r,convertItem:l=>this._convertInsert(ne._createOn(l),s),convertChildren:l=>this._convertInsert(ne._createIn(l),s,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,s),canReuseView:l=>!t.has(s.mapper.toModelElement(l))};return this._firedEventsMap.set(s,new Map),s}}function MM(a,e,t){const r=e.getRange(),s=Array.from(a.getAncestors());return s.shift(),s.reverse(),!s.some(l=>{if(r.containsItem(l))return!!t.toViewElement(l).getCustomProperty("addHighlight")})}function G_(a){return{item:a.item,range:ne._createFromPositionAndShift(a.previousPosition,a.length)}}class Ii extends q(Xo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const s of e._ranges)if(t.isEqual(s)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ne(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new ne(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new ne(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),t===null)this._setRanges([]);else if(t instanceof Ii)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ne)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof ce)this._setRanges([new ne(t)]);else if(t instanceof ea){const l=!!s&&!!s.backward;let u;if(r=="in")u=ne._createIn(t);else if(r=="on")u=ne._createOn(t);else{if(r===void 0)throw new S("model-selection-setto-required-second-parameter",[this,t]);u=new ne(ce._createAt(t,r))}this._setRanges([u],l)}else{if(!Mt(t))throw new S("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,s&&!!s.backward)}}_setRanges(e,t=!1){const r=Array.from(e),s=r.some(l=>{if(!(l instanceof ne))throw new S("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(u=>!u.isEqual(l))});(r.length!==this._ranges.length||s)&&(this._replaceAllRanges(r),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new S("model-selection-setfocus-no-ranges",[this,e]);const r=ce._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(s)=="before"?(this._pushRange(new ne(r,s)),this._lastRangeBackward=!0):(this._pushRange(new ne(s,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const r=K_(t.start,e);OM(r,t)&&(yield r);for(const l of t.getWalker()){const u=l.item;l.type=="elementEnd"&&NM(u,e,t)&&(yield u)}const s=K_(t.end,e);PM(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=ce._createAt(e,0),r=ce._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ne(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new S("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Y_(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function NM(a,e,t){return Y_(a,e)&&Pm(a,t)}function K_(a,e){const t=a.parent.root.document.model.schema,r=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const l=r.find(u=>!s&&(s=t.isLimit(u),!s&&Y_(u,e)));return r.forEach(u=>e.add(u)),l}function Pm(a,e){const t=function(r){const s=r.root.document.model.schema;let l=r.parent;for(;l;){if(s.isBlock(l))return l;l=l.parent}}(a);return t?!e.containsRange(ne._createOn(t),!0):!0}function OM(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(ce._createAt(a,a.maxOffset))&&Pm(a,e))}function PM(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(ce._createAt(a,0))&&Pm(a,e))}Ii.prototype.is=function(a){return a==="selection"||a==="model:selection"};class ui extends q(ne){constructor(e,t){super(e,t),BM.call(this)}detach(){this.stopListening()}toRange(){return new ne(this.start,this.end)}static fromRange(e){return new ui(e.start,e.end)}}function BM(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&LM.call(this,t)},{priority:"low"})}function LM(a){const e=this.getTransformedByOperation(a),t=ne._createFromRanges(e),r=!t.isEqual(this),s=function(u,p){switch(p.type){case"insert":return u.containsPosition(p.position);case"move":case"remove":case"reinsert":case"merge":return u.containsPosition(p.sourcePosition)||u.start.isEqual(p.sourcePosition)||u.containsPosition(p.targetPosition);case"split":return u.containsPosition(p.splitPosition)||u.containsPosition(p.insertionPosition)}return!1}(this,a);let l=null;if(r){t.root.rootName=="$graveyard"&&(l=a.type=="remove"?a.sourcePosition:a.deletionPosition);const u=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",u,{deletionPosition:l})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:l})}ui.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const $h="selection:";class _r extends q(Xo){constructor(e){super(),this._selection=new zM(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return $h+e}static _isStoreAttributeKey(e){return e.startsWith($h)}}_r.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class zM extends Ii{constructor(e){super(),this.markers=new Ki({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,r,s,l)=>{this._updateMarker(r,l)}),this.listenTo(this._document,"change",(t,r)=>{(function(s,l){const u=s.document.differ;for(const p of u.getChanges()){if(p.type!="insert")continue;const g=p.position.parent;p.length===g.maxOffset&&s.enqueueChange(l,v=>{const _=Array.from(g.getAttributeKeys()).filter(A=>A.startsWith($h));for(const A of _)v.removeAttribute(A,g)})}})(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=T();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new S("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new S("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=ui.fromRange(e);return t.on("change:range",(r,s,l)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const u=this._ranges.indexOf(t);this._ranges.splice(u,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const l=s.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const u=s.getRange();for(const p of this.getRanges())u.containsRange(p,!p.isCollapsed)&&e.push(s)}const r=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,t){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let s=!1;const l=Array.from(this.markers),u=this.markers.has(e);if(t){let p=!1;for(const g of this.getRanges())if(t.containsRange(g,!g.isCollapsed)){p=!0;break}p&&!u?(this.markers.add(e),s=!0):!p&&u&&(this.markers.remove(e),s=!0)}else u&&(this.markers.remove(e),s=!0);s&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(e){const t=Rr(this._getSurroundingAttributes()),r=Rr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,u]of this._attributePriority)u=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(t);const s=[];for(const[l,u]of this.getAttributes())r.has(l)&&r.get(l)===u||s.push(l);for(const[l]of r)this.hasAttribute(l)||s.push(l);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,r=!0){const s=r?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const r=t?"normal":"low";return(r!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,r),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[r,s]of this.getAttributes())e.get(r)!==s&&this._removeAttribute(r,!1);for(const[r,s]of e)this._setAttribute(r,s,!1)&&t.add(r);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith($h)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=sd(s,t)),r||(r=sd(l,t)),!this.isGravityOverridden&&!r){let u=s;for(;u&&!r;)u=u.previousSibling,r=sd(u,t)}if(!r){let u=l;for(;u&&!r;)u=u.nextSibling,r=sd(u,t)}r||(r=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const l of s){if(l.item.is("element")&&t.isObject(l.item)){r=sd(l.item,t);break}if(l.type=="text"){r=l.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function sd(a,e){if(!a)return null;if(a instanceof vr||a instanceof mt)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const t=[];for(const[r,s]of a.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&t.push([r,s]);return t}class Z_{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class jM extends Z_{elementToElement(e){return this.add(function(t){const r=X_(t.model),s=ad(t.view,"container");return r.attributes.length&&(r.children=!0),l=>{l.on(`insert:${r.name}`,function(u,p=FM){return(g,v,_)=>{if(!p(v.item,_.consumable,{preflight:!0}))return;const A=u(v.item,_,v);if(!A)return;p(v.item,_.consumable);const E=_.mapper.toViewPosition(v.range.start);_.mapper.bindElements(v.item,A),_.writer.insert(E,A),_.convertAttributes(v.item),ry(A,v.item.getChildren(),_,{reconversion:v.reconversion})}}(s,iy(r)),{priority:t.converterPriority||"normal"}),(r.children||r.attributes.length)&&l.on("reduceChanges",ny(r),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const r=X_(t.model),s=ad(t.view,"container");return r.children=!0,l=>{if(l._conversionApi.schema.checkChild(r.name,"$text"))throw new S("conversion-element-to-structure-disallowed-text",l,{elementName:r.name});var u,p;l.on(`insert:${r.name}`,(u=s,p=iy(r),(g,v,_)=>{if(!p(v.item,_.consumable,{preflight:!0}))return;const A=new Map;_.writer._registerSlotFactory(function(B,j,$){return(G,te)=>{const le=G.createContainerElement("$slot");let xe=null;if(te==="children")xe=Array.from(B.getChildren());else{if(typeof te!="function")throw new S("conversion-slot-mode-unknown",$.dispatcher,{modeOrFilter:te});xe=Array.from(B.getChildren()).filter(We=>te(We))}return j.set(le,xe),le}}(v.item,A,_));const E=u(v.item,_,v);if(_.writer._clearSlotFactory(),!E)return;(function(B,j,$){const G=Array.from(j.values()).flat(),te=new Set(G);if(te.size!=G.length)throw new S("conversion-slot-filter-overlap",$.dispatcher,{element:B});if(te.size!=B.childCount)throw new S("conversion-slot-filter-incomplete",$.dispatcher,{element:B})})(v.item,A,_),p(v.item,_.consumable);const I=_.mapper.toViewPosition(v.range.start);_.mapper.bindElements(v.item,E),_.writer.insert(I,E),_.convertAttributes(v.item),function(B,j,$,G){$.mapper.on("modelToViewPosition",xe,{priority:"highest"});let te=null,le=null;for([te,le]of j)ry(B,le,$,G),$.writer.move($.writer.createRangeIn(te),$.writer.createPositionBefore(te)),$.writer.remove(te);function xe(We,gi){const Kr=gi.modelPosition.nodeAfter,Jn=le.indexOf(Kr);Jn<0||(gi.viewPosition=gi.mapper.findPositionIn(te,Jn))}$.mapper.off("modelToViewPosition",xe)}(E,A,_,{reconversion:v.reconversion})}),{priority:t.converterPriority||"normal"}),l.on("reduceChanges",ny(r),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Jo(t);let r=t.model;typeof r=="string"&&(r={key:r});let s=`attribute:${r.key}`;if(r.name&&(s+=":"+r.name),r.values)for(const u of r.values)t.view[u]=ad(t.view[u],"attribute");else t.view=ad(t.view,"attribute");const l=ey(t);return u=>{u.on(s,function(p){return(g,v,_)=>{if(!_.consumable.test(v.item,g.name))return;const A=p(v.attributeOldValue,_,v),E=p(v.attributeNewValue,_,v);if(!A&&!E)return;_.consumable.consume(v.item,g.name);const I=_.writer,B=I.document.selection;if(v.item instanceof Ii||v.item instanceof _r)I.wrap(B.getFirstRange(),E);else{let j=_.mapper.toViewRange(v.range);v.attributeOldValue!==null&&A&&(j=I.unwrap(j,A)),v.attributeNewValue!==null&&E&&I.wrap(j,E)}}}(l),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Jo(t);let r=t.model;typeof r=="string"&&(r={key:r});let s=`attribute:${r.key}`;if(r.name&&(s+=":"+r.name),r.values)for(const u of r.values)t.view[u]=ty(t.view[u]);else t.view=ty(t.view);const l=ey(t);return u=>{var p;u.on(s,(p=l,(g,v,_)=>{if(!_.consumable.test(v.item,g.name))return;const A=p(v.attributeOldValue,_,v),E=p(v.attributeNewValue,_,v);if(!A&&!E)return;_.consumable.consume(v.item,g.name);const I=_.mapper.toViewElement(v.item),B=_.writer;if(!I)throw new S("conversion-attribute-to-attribute-on-text",_.dispatcher,v);if(v.attributeOldValue!==null&&A)if(A.key=="class"){const j=vn(A.value);for(const $ of j)B.removeClass($,I)}else if(A.key=="style"){const j=Object.keys(A.value);for(const $ of j)B.removeStyle($,I)}else B.removeAttribute(A.key,I);if(v.attributeNewValue!==null&&E)if(E.key=="class"){const j=vn(E.value);for(const $ of j)B.addClass($,I)}else if(E.key=="style"){const j=Object.keys(E.value);for(const $ of j)B.setStyle($,E.value[$],I)}else B.setAttribute(E.key,E.value,I)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const r=ad(t.view,"ui");return s=>{var l;s.on(`addMarker:${t.model}`,(l=r,(u,p,g)=>{p.isOpening=!0;const v=l(p,g);p.isOpening=!1;const _=l(p,g);if(!v||!_)return;const A=p.markerRange;if(A.isCollapsed&&!g.consumable.consume(A,u.name))return;for(const B of A)if(!g.consumable.consume(B.item,u.name))return;const E=g.mapper,I=g.writer;I.insert(E.toViewPosition(A.start),v),g.mapper.bindElementToMarker(v,p.markerName),A.isCollapsed||(I.insert(E.toViewPosition(A.end),_),g.mapper.bindElementToMarker(_,p.markerName)),u.stop()}),{priority:t.converterPriority||"normal"}),s.on(`removeMarker:${t.model}`,(u,p,g)=>{const v=g.mapper.markerNameToElements(p.markerName);if(v){for(const _ of v)g.mapper.unbindElementFromMarkerName(_,p.markerName),g.writer.clear(g.writer.createRangeOn(_),_);g.writer.clearClonedElementsGroup(p.markerName),u.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return r=>{var s;r.on(`addMarker:${t.model}`,(s=t.view,(l,u,p)=>{if(!u.item||!(u.item instanceof Ii||u.item instanceof _r||u.item.is("$textProxy")))return;const g=Bm(s,u,p);if(!g||!p.consumable.consume(u.item,l.name))return;const v=p.writer,_=Q_(v,g),A=v.document.selection;if(u.item instanceof Ii||u.item instanceof _r)v.wrap(A.getFirstRange(),_);else{const E=p.mapper.toViewRange(u.range),I=v.wrap(E,_);for(const B of I.getItems())if(B.is("attributeElement")&&B.isSimilar(_)){p.mapper.bindElementToMarker(B,u.markerName);break}}}),{priority:t.converterPriority||"normal"}),r.on(`addMarker:${t.model}`,function(l){return(u,p,g)=>{if(!p.item||!(p.item instanceof ut))return;const v=Bm(l,p,g);if(!v||!g.consumable.test(p.item,u.name))return;const _=g.mapper.toViewElement(p.item);if(_&&_.getCustomProperty("addHighlight")){g.consumable.consume(p.item,u.name);for(const A of ne._createIn(p.item))g.consumable.consume(A.item,u.name);_.getCustomProperty("addHighlight")(_,v,g.writer),g.mapper.bindElementToMarker(_,p.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${t.model}`,function(l){return(u,p,g)=>{if(p.markerRange.isCollapsed)return;const v=Bm(l,p,g);if(!v)return;const _=Q_(g.writer,v),A=g.mapper.markerNameToElements(p.markerName);if(A){for(const E of A)g.mapper.unbindElementFromMarkerName(E,p.markerName),E.is("attributeElement")?g.writer.unwrap(g.writer.createRangeOn(E),_):E.getCustomProperty("removeHighlight")(E,v.id,g.writer);g.writer.clearClonedElementsGroup(p.markerName),u.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Jo(t);const r=t.model;let s=t.view;return s||(s=l=>({group:r,name:l.substr(t.model.length+1)})),l=>{var u;l.on(`addMarker:${r}`,(u=s,(p,g,v)=>{const _=u(g.markerName,v);if(!_)return;const A=g.markerRange;v.consumable.consume(A,p.name)&&(J_(A,!1,v,g,_),J_(A,!0,v,g,_),p.stop())}),{priority:t.converterPriority||"normal"}),l.on(`removeMarker:${r}`,function(p){return(g,v,_)=>{const A=p(v.markerName,_);if(!A)return;const E=_.mapper.markerNameToElements(v.markerName);if(E){for(const B of E)_.mapper.unbindElementFromMarkerName(B,v.markerName),B.is("containerElement")?(I(`data-${A.group}-start-before`,B),I(`data-${A.group}-start-after`,B),I(`data-${A.group}-end-before`,B),I(`data-${A.group}-end-after`,B)):_.writer.clear(_.writer.createRangeOn(B),B);_.writer.clearClonedElementsGroup(v.markerName),g.stop()}function I(B,j){if(j.hasAttribute(B)){const $=new Set(j.getAttribute(B).split(","));$.delete(A.name),$.size==0?_.writer.removeAttribute(B,j):_.writer.setAttribute(B,Array.from($).join(","),j)}}}}(s),{priority:t.converterPriority||"normal"})}}(e))}}function Q_(a,e){const t=a.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function J_(a,e,t,r,s){const l=e?a.start:a.end,u=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,p=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(u||p){let g,v;e&&u||!e&&!p?(g=u,v=!0):(g=p,v=!1);const _=t.mapper.toViewElement(g);if(_)return void function(A,E,I,B,j,$){const G=`data-${$.group}-${E?"start":"end"}-${I?"before":"after"}`,te=A.hasAttribute(G)?A.getAttribute(G).split(","):[];te.unshift($.name),B.writer.setAttribute(G,te.join(","),A),B.mapper.bindElementToMarker(A,j.markerName)}(_,e,v,t,r,s)}(function(g,v,_,A,E){const I=`${E.group}-${v?"start":"end"}`,B=E.name?{name:E.name}:null,j=_.writer.createUIElement(I,B);_.writer.insert(g,j),_.mapper.bindElementToMarker(j,A.markerName)})(t.mapper.toViewPosition(l),e,t,r,s)}function X_(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function ad(a,e){return typeof a=="function"?a:(t,r)=>function(s,l,u){typeof s=="string"&&(s={name:s});let p;const g=l.writer,v=Object.assign({},s.attributes);if(u=="container")p=g.createContainerElement(s.name,v);else if(u=="attribute"){const _={priority:s.priority||Qs.DEFAULT_PRIORITY};p=g.createAttributeElement(s.name,v,_)}else p=g.createUIElement(s.name,v);if(s.styles){const _=Object.keys(s.styles);for(const A of _)g.setStyle(A,s.styles[A],p)}if(s.classes){const _=s.classes;if(typeof _=="string")g.addClass(_,p);else for(const A of _)g.addClass(A,p)}return p}(a,r,e)}function ey(a){return a.model.values?(e,t,r)=>{const s=a.view[e];return s?s(e,t,r):null}:a.view}function ty(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function Bm(a,e,t){const r=typeof a=="function"?a(e,t):a;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function ny(a){const e=function(t){return(r,s)=>{if(!r.is("element",t.name))return!1;if(s.type=="attribute"){if(t.attributes.includes(s.attributeKey))return!0}else if(t.children)return!0;return!1}}(a);return(t,r)=>{const s=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const l of r.changes){const u=l.type=="attribute"?l.range.start.nodeAfter:l.position.parent;if(u&&e(u,l)){if(!r.reconvertedElements.has(u)){r.reconvertedElements.add(u);const p=ce._createBefore(u);let g=s.length;for(let v=s.length-1;v>=0;v--){const _=s[v],A=(_.type=="attribute"?_.range.start:_.position).compareWith(p);if(A=="before"||_.type=="remove"&&A=="same")break;g=v}s.splice(g,0,{type:"remove",name:u.name,position:p,length:1},{type:"reinsert",name:u.name,position:p,length:1})}}else s.push(l)}r.changes=s}}function iy(a){return(e,t,r={})=>{const s=["insert"];for(const l of a.attributes)e.hasAttribute(l)&&s.push(`attribute:${l}`);return!!s.every(l=>t.test(e,l))&&(r.preflight||s.forEach(l=>t.consume(e,l)),!0)}}function ry(a,e,t,r){for(const s of e)RM(a.root,s,t,r)||t.convertItem(s)}function RM(a,e,t,r){const{writer:s,mapper:l}=t;if(!r.reconversion)return!1;const u=l.toViewElement(e);return!(!u||u.root==a)&&!!t.canReuseView(u)&&(s.move(s.createRangeOn(u),l.toViewPosition(ce._createBefore(e))),!0)}function FM(a,e,{preflight:t}={}){return t?e.test(a,"insert"):e.consume(a,"insert")}function oy(a){const{schema:e,document:t}=a.model;for(const r of t.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return a.insertElement("paragraph",r),!0;return!1}function sy(a,e,t){const r=t.createContext(a);return!!t.checkChild(r,"paragraph")&&!!t.checkChild(r.push("paragraph"),e)}function ay(a,e){const t=e.createElement("paragraph");return e.insert(t,a),e.createPositionAt(t,0)}class $M extends Z_{elementToElement(e){return this.add(cy(e))}elementToAttribute(e){return this.add(function(t){t=Jo(t),ly(t);const r=dy(t,!1),s=Lm(t.view),l=s?`element:${s}`:"element";return u=>{u.on(l,r,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Jo(t);let r=null;(typeof t.view=="string"||t.view.key)&&(r=function(l){typeof l.view=="string"&&(l.view={key:l.view});const u=l.view.key;let p;return u=="class"||u=="style"?p={[u=="class"?"classes":"styles"]:l.view.value}:p={attributes:{[u]:l.view.value===void 0?/[\s\S]*/:l.view.value}},l.view.name&&(p.name=l.view.name),l.view=p,u}(t)),ly(t,r);const s=dy(t,!0);return l=>{l.on("element",s,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const r=function(s){return(l,u)=>{const p=typeof s=="string"?s:s(l,u);return u.writer.createElement("$marker",{"data-name":p})}}(t.model);return cy({...t,model:r})}(e))}dataToMarker(e){return this.add(function(t){t=Jo(t),t.model||(t.model=u=>u?t.view+":"+u:t.view);const r={view:t.view,model:t.model},s=zm(uy(r,"start")),l=zm(uy(r,"end"));return u=>{u.on(`element:${t.view}-start`,s,{priority:t.converterPriority||"normal"}),u.on(`element:${t.view}-end`,l,{priority:t.converterPriority||"normal"});const p=z.low,g=z.highest,v=z.get(t.converterPriority)/g;u.on("element",function(_){return(A,E,I)=>{const B=`data-${_.view}`;function j($,G){for(const te of G){const le=_.model(te,I),xe=I.writer.createElement("$marker",{"data-name":le});I.writer.insert(xe,$),E.modelCursor.isEqual($)?E.modelCursor=E.modelCursor.getShiftedBy(1):E.modelCursor=E.modelCursor._getTransformedByInsertion($,1),E.modelRange=E.modelRange._getTransformedByInsertion($,1)[0]}}(I.consumable.test(E.viewItem,{attributes:B+"-end-after"})||I.consumable.test(E.viewItem,{attributes:B+"-start-after"})||I.consumable.test(E.viewItem,{attributes:B+"-end-before"})||I.consumable.test(E.viewItem,{attributes:B+"-start-before"}))&&(E.modelRange||Object.assign(E,I.convertChildren(E.viewItem,E.modelCursor)),I.consumable.consume(E.viewItem,{attributes:B+"-end-after"})&&j(E.modelRange.end,E.viewItem.getAttribute(B+"-end-after").split(",")),I.consumable.consume(E.viewItem,{attributes:B+"-start-after"})&&j(E.modelRange.end,E.viewItem.getAttribute(B+"-start-after").split(",")),I.consumable.consume(E.viewItem,{attributes:B+"-end-before"})&&j(E.modelRange.start,E.viewItem.getAttribute(B+"-end-before").split(",")),I.consumable.consume(E.viewItem,{attributes:B+"-start-before"})&&j(E.modelRange.start,E.viewItem.getAttribute(B+"-start-before").split(",")))}}(r),{priority:p+v})}}(e))}}function cy(a){const e=zm(a=Jo(a)),t=Lm(a.view),r=t?`element:${t}`:"element";return s=>{s.on(r,e,{priority:a.converterPriority||"normal"})}}function Lm(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function zm(a){const e=new Zi(a.view);return(t,r,s)=>{const l=e.match(r.viewItem);if(!l)return;const u=l.match;if(u.name=!0,!s.consumable.test(r.viewItem,u))return;const p=function(g,v,_){return g instanceof Function?g(v,_):_.writer.createElement(g)}(a.model,r.viewItem,s);p&&s.safeInsert(p,r.modelCursor)&&(s.consumable.consume(r.viewItem,u),s.convertChildren(r.viewItem,p),s.updateConversionResult(p,r))}}function ly(a,e=null){const t=e===null||(l=>l.getAttribute(e)),r=typeof a.model!="object"?a.model:a.model.key,s=typeof a.model!="object"||a.model.value===void 0?t:a.model.value;a.model={key:r,value:s}}function dy(a,e){const t=new Zi(a.view);return(r,s,l)=>{if(!s.modelRange&&e)return;const u=t.match(s.viewItem);if(!u||(function(_,A){const E=typeof _=="function"?_(A):_;return typeof E=="object"&&!Lm(E)?!1:!E.classes&&!E.attributes&&!E.styles}(a.view,s.viewItem)?u.match.name=!0:delete u.match.name,!l.consumable.test(s.viewItem,u.match)))return;const p=a.model.key,g=typeof a.model.value=="function"?a.model.value(s.viewItem,l):a.model.value;if(g===null)return;s.modelRange||Object.assign(s,l.convertChildren(s.viewItem,s.modelCursor)),function(_,A,E,I){let B=!1;for(const j of Array.from(_.getItems({shallow:E})))I.schema.checkAttribute(j,A.key)&&(B=!0,j.hasAttribute(A.key)||I.writer.setAttribute(A.key,A.value,j));return B}(s.modelRange,{key:p,value:g},e,l)&&(l.consumable.test(s.viewItem,{name:!0})&&(u.match.name=!0),l.consumable.consume(s.viewItem,u.match))}}function uy(a,e){return{view:`${a.view}-${e}`,model:(t,r)=>{const s=t.getAttribute("name"),l=a.model(s,r);return r.writer.createElement("$marker",{"data-name":l})}}}function VM(a){a.document.registerPostFixer(e=>function(t,r){const s=r.document.selection,l=r.schema,u=[];let p=!1;for(const g of s.getRanges()){const v=hy(g,l);v&&!v.isEqual(g)?(u.push(v),p=!0):u.push(g)}return p&&t.setSelection(function(g){const v=[...g],_=new Set;let A=1;for(;A<v.length;){const E=v[A],I=v.slice(0,A);for(const[B,j]of I.entries())if(!_.has(B)){if(E.isEqual(j))_.add(B);else if(E.isIntersecting(j)){_.add(B),_.add(A);const $=E.getJoined(j);v.push($)}}A++}return v.filter((E,I)=>!_.has(I))}(u),{backward:s.isBackward}),!1}(e,a))}function hy(a,e){return a.isCollapsed?function(t,r){const s=t.start,l=r.getNearestSelectionRange(s);if(!l){const p=s.getAncestors().reverse().find(g=>r.isObject(g));return p?ne._createOn(p):null}if(!l.isCollapsed)return l;const u=l.start;return s.isEqual(u)?null:new ne(u)}(a,e):function(t,r){const{start:s,end:l}=t,u=r.checkChild(s,"$text"),p=r.checkChild(l,"$text"),g=r.getLimitElement(s),v=r.getLimitElement(l);if(g===v){if(u&&p)return null;if(function(E,I,B){const j=E.nodeAfter&&!B.isLimit(E.nodeAfter)||B.checkChild(E,"$text"),$=I.nodeBefore&&!B.isLimit(I.nodeBefore)||B.checkChild(I,"$text");return j||$}(s,l,r)){const E=s.nodeAfter&&r.isSelectable(s.nodeAfter)?null:r.getNearestSelectionRange(s,"forward"),I=l.nodeBefore&&r.isSelectable(l.nodeBefore)?null:r.getNearestSelectionRange(l,"backward"),B=E?E.start:s,j=I?I.end:l;return new ne(B,j)}}const _=g&&!g.is("rootElement"),A=v&&!v.is("rootElement");if(_||A){const E=s.nodeAfter&&l.nodeBefore&&s.nodeAfter.parent===l.nodeBefore.parent,I=_&&(!E||!py(s.nodeAfter,r)),B=A&&(!E||!py(l.nodeBefore,r));let j=s,$=l;return I&&(j=ce._createBefore(fy(g,r))),B&&($=ce._createAfter(fy(v,r))),new ne(j,$)}return null}(a,e)}function fy(a,e){let t=a,r=t;for(;e.isLimit(r)&&r.parent;)t=r,r=r.parent;return t}function py(a,e){return a&&e.isSelectable(a)}class UM extends Me(){constructor(e,t){super(),this.model=e,this.view=new TM(t),this.mapper=new W_,this.downcastDispatcher=new q_({mapper:this.mapper,schema:e.schema});const r=this.model.document,s=r.selection,l=this.model.markers;var u,p,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(v=>{this.downcastDispatcher.convertChanges(r.differ,l,v),this.downcastDispatcher.convertSelection(s,l,v)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(v,_){return(A,E)=>{const I=E.newSelection,B=[];for(const $ of I.getRanges())B.push(_.toModelRange($));const j=v.createSelection(B,{backward:I.isBackward});j.isEqual(v.document.selection)||v.change($=>{$.setSelection(j)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(u=this.mapper,p=this.model.schema,g=this.view,(v,_)=>{if(!g.document.isComposing||f.isAndroid)for(let A=0;A<_.targetRanges.length;A++){const E=_.targetRanges[A],I=u.toModelRange(E),B=hy(I,p);B&&!B.isEqual(I)&&(_.targetRanges[A]=u.toViewRange(B))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(v,_,A)=>{if(!A.consumable.consume(_.item,v.name))return;const E=A.writer,I=A.mapper.toViewPosition(_.range.start),B=E.createText(_.item.data);E.insert(I,B)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(v,_,A)=>{A.convertAttributes(_.item),_.reconversion||!_.item.is("element")||_.item.isEmpty||A.convertChildren(_.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(v,_,A)=>{const E=A.mapper.toViewPosition(_.position),I=_.position.getShiftedBy(_.length),B=A.mapper.toViewPosition(I,{isPhantom:!0}),j=A.writer.createRange(E,B),$=A.writer.remove(j.getTrimmed());for(const G of A.writer.createRangeIn($).getItems())A.mapper.unbindViewElement(G,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(v,_,A)=>{const E=A.writer,I=E.document.selection;for(const B of I.getRanges())B.isCollapsed&&B.end.parent.isAttached()&&A.writer.mergeAttributes(B.start);E.setSelection(null)}),this.downcastDispatcher.on("selection",(v,_,A)=>{const E=_.selection;if(E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=[];for(const B of E.getRanges())I.push(A.mapper.toViewRange(B));A.writer.setSelection(I,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(v,_,A)=>{const E=_.selection;if(!E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=A.writer,B=E.getFirstPosition(),j=A.mapper.toViewPosition(B),$=I.breakAttributes(j);I.setSelection($)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(v=>{if(v.rootName=="$graveyard")return null;const _=new f_(this.view.document,v.name);return _.rootName=v.rootName,this.mapper.bindElements(v,_),_})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,r=this.model.markers.get(t);if(!r)throw new S("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class cd{constructor(){this._consumables=new Map}add(e,t){let r;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?r=this._consumables.get(e):(r=new HM(e),this._consumables.set(e,r)),r.add(t))}test(e,t){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const u of r)u!="style"&&u!="class"&&t.attributes.push(u);const s=e.getClassNames();for(const u of s)t.classes.push(u);const l=e.getStyleNames();for(const u of l)t.styles.push(u);return t}static createFrom(e,t){if(t||(t=new cd),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,cd.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const r of e.getChildren())t=cd.createFrom(r,t);return t}}const Vh=["attributes","classes","styles"];class HM{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Vh)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Vh)if(t in e){const r=this._test(t,e[t]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Vh)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Vh)t in e&&this._revert(t,e[t])}_add(e,t){const r=yt(t)?t:[t],s=this._consumables[e];for(const l of r){if(e==="attributes"&&(l==="class"||l==="style"))throw new S("viewconsumable-invalid-attribute",this);if(s.set(l,!0),e==="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))s.set(u,!0)}}_test(e,t){const r=yt(t)?t:[t],s=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style"){const u=s.get(l);if(u===void 0)return null;if(!u)return!1}else{const u=l=="class"?"classes":"styles",p=this._test(u,[...this._consumables[u].keys()]);if(p!==!0)return p}return!0}_consume(e,t){const r=yt(t)?t:[t],s=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style"){if(s.set(l,!1),e=="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))s.set(u,!1)}else{const u=l=="class"?"classes":"styles";this._consume(u,[...this._consumables[u].keys()])}}_revert(e,t){const r=yt(t)?t:[t],s=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style")s.get(l)===!1&&s.set(l,!0);else{const u=l=="class"?"classes":"styles";this._revert(u,[...this._consumables[u].keys()])}}}class WM extends Me(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new na(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new na(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new S("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new S("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const r=this.getDefinition(e.last);return!!r&&r.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof ce){const r=e.nodeBefore,s=e.nodeAfter;if(!(r instanceof ut))throw new S("schema-check-merge-no-element-before",this);if(!(s instanceof ut))throw new S("schema-check-merge-no-element-after",this);return this.checkMerge(r,s)}for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[r,s])=>{if(!s)return;const l=e(r,s);typeof l=="boolean"&&(t.stop(),t.return=l)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[r,s])=>{const l=e(r,s);typeof l=="boolean"&&(t.stop(),t.return=l)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof ce?t=e.parent:t=(e instanceof ne?[e]:Array.from(e.getRanges())).reduce((r,s)=>{const l=s.getCommonAncestor();return r?r.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new mt("",e.getAttributes())];return this.checkAttribute(r,t)}{const r=e.getRanges();for(const s of r)for(const l of s)if(this.checkAttribute(l.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(r){for(const s of r)yield*s.getMinimalFlatRanges()}(e);for(const r of e)yield*this._getValidRangesForRange(r,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ne(e);let r,s;const l=e.getAncestors().reverse().find(u=>this.isLimit(u))||e.root;t!="both"&&t!="backward"||(r=new Vr({boundaries:ne._createIn(l),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(s=new Vr({boundaries:ne._createIn(l),startPosition:e}));for(const u of function*(p,g){let v=!1;for(;!v;){if(v=!0,p){const _=p.next();_.done||(v=!1,yield{walker:p,value:_.value})}if(g){const _=g.next();_.done||(v=!1,yield{walker:g,value:_.value})}}}(r,s)){const p=u.walker==r?"elementEnd":"elementStart",g=u.value;if(g.type==p&&this.isObject(g.item))return ne._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new ne(g.nextPosition)}return null}findAllowedParent(e,t){let r=e.parent;for(;r;){if(this.checkChild(r,t))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,t,r){const s=r.model;for(const[l,u]of Object.entries(t))s.schema.checkAttribute(e,l)&&r.setAttribute(l,u,e)}removeDisallowedAttributes(e,t){for(const r of e)if(r.is("$text"))gy(this,r,t);else{const s=ne._createIn(r).getPositions();for(const l of s)gy(this,l.nodeBefore||l.parent,t)}}getAttributesWithProperty(e,t,r){const s={};for(const[l,u]of e.getAttributes()){const p=this.getAttributeProperties(l);p[t]!==void 0&&(r!==void 0&&r!==p[t]||(s[l]=u))}return s}createContext(e){return new na(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,r=Object.keys(t);for(const s of r)e[s]=qM(t[s],s);for(const s of r)GM(e,s);for(const s of r)YM(e,s);for(const s of r)KM(e,s);for(const s of r)ZM(e,s),QM(e,s);for(const s of r)JM(e,s),XM(e,s),eN(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,r=t.length-1){const s=t.getItem(r);if(e.allowIn.includes(s.name)){if(r==0)return!0;{const l=this.getDefinition(s);return this._checkContextMatch(l,t,r-1)}}return!1}*_getValidRangesForRange(e,t){let r=e.start,s=e.start;for(const l of e.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(ne._createIn(l),t)),this.checkAttribute(l,t)||(r.isEqual(s)||(yield new ne(r,s)),r=ce._createAfter(l)),s=ce._createAfter(l);r.isEqual(s)||(yield new ne(r,s))}}class na{constructor(e){if(e instanceof na)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(nN)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new na([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function qM(a,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(r,s){for(const l of r){const u=Object.keys(l).filter(p=>p.startsWith("is"));for(const p of u)s[p]=!!l[p]}}(a,t),ia(a,t,"allowIn"),ia(a,t,"allowContentOf"),ia(a,t,"allowWhere"),ia(a,t,"allowAttributes"),ia(a,t,"allowAttributesOf"),ia(a,t,"allowChildren"),ia(a,t,"inheritTypesFrom"),function(r,s){for(const l of r){const u=l.inheritAllFrom;u&&(s.allowContentOf.push(u),s.allowWhere.push(u),s.allowAttributesOf.push(u),s.inheritTypesFrom.push(u))}}(a,t),t}function GM(a,e){const t=a[e];for(const r of t.allowChildren){const s=a[r];s&&s.allowIn.push(e)}t.allowChildren.length=0}function YM(a,e){for(const t of a[e].allowContentOf)a[t]&&tN(a,t).forEach(r=>{r.allowIn.push(e)});delete a[e].allowContentOf}function KM(a,e){for(const t of a[e].allowWhere){const r=a[t];if(r){const s=r.allowIn;a[e].allowIn.push(...s)}}delete a[e].allowWhere}function ZM(a,e){for(const t of a[e].allowAttributesOf){const r=a[t];if(r){const s=r.allowAttributes;a[e].allowAttributes.push(...s)}}delete a[e].allowAttributesOf}function QM(a,e){const t=a[e];for(const r of t.inheritTypesFrom){const s=a[r];if(s){const l=Object.keys(s).filter(u=>u.startsWith("is"));for(const u of l)u in t||(t[u]=s[u])}}delete t.inheritTypesFrom}function JM(a,e){const t=a[e],r=t.allowIn.filter(s=>a[s]);t.allowIn=Array.from(new Set(r))}function XM(a,e){const t=a[e];for(const r of t.allowIn)a[r].allowChildren.push(e)}function eN(a,e){const t=a[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function ia(a,e,t){for(const r of a){const s=r[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function tN(a,e){const t=a[e];return(r=a,Object.keys(r).map(s=>r[s])).filter(s=>s.allowIn.includes(t.name));var r}function nN(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function gy(a,e,t){for(const r of e.getAttributeKeys())a.checkAttribute(e,r)||t.removeAttribute(r,e)}class iN extends q(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,r)=>this._convertItem(t,r),convertChildren:(t,r)=>this._convertChildren(t,r),safeInsert:(t,r)=>this._safeInsert(t,r),updateConversionResult:(t,r)=>this._updateConversionResult(t,r),splitToAllowedParent:(t,r)=>this._splitToAllowedParent(t,r),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(u,p){let g;for(const v of new na(u)){const _={};for(const E of v.getAttributeKeys())_[E]=v.getAttribute(E);const A=p.createElement(v.name,_);g&&p.insert(A,g),g=ce._createAt(A,0)}return g}(r,t),this.conversionApi.writer=t,this.conversionApi.consumable=cd.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),l=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const u of Array.from(this._modelCursor.parent.getChildren()))t.append(u,l);l.markers=function(u,p){const g=new Set,v=new Map,_=ne._createIn(u).getItems();for(const A of _)A.is("element","$marker")&&g.add(A);for(const A of g){const E=A.getAttribute("data-name"),I=p.createPositionBefore(A);v.has(E)?v.get(E).end=I.clone():v.set(E,new ne(I.clone())),p.remove(A)}return v}(l,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(e,t){const r={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof ne))throw new S("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,t){let r=t.is("position")?t:ce._createAt(t,0);const s=new ne(r);for(const l of Array.from(e.getChildren())){const u=this._convertItem(l,r);u.modelRange instanceof ne&&(s.end=u.modelRange.end,r=u.modelCursor)}return{modelRange:s,modelCursor:r}}_safeInsert(e,t){const r=this._splitToAllowedParent(e,t);return!!r&&(this.conversionApi.writer.insert(e,r.position),!0)}_updateConversionResult(e,t){const r=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(r[r.length-1])));const l=this._cursorParents.get(e);t.modelCursor=l?s.createPositionAt(l,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:r,writer:s}=this.conversionApi;let l=r.findAllowedParent(t,e);if(l){if(l===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return sy(t,e,r)?{position:ay(t,s)}:null;const u=this.conversionApi.writer.split(t,l),p=[];for(const v of u.range.getWalker())if(v.type=="elementEnd")p.push(v.item);else{const _=p.pop(),A=v.item;this._registerSplitPair(_,A)}const g=u.range.end.parent;return this._cursorParents.set(e,g),{position:u.position,cursorParent:g}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(t,r),r.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class rN{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class oN{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Lh(e,{renderingMode:"data"}),this.htmlWriter=new rN}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),r=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);return r}}class sN extends q(){constructor(e,t){super(),this.model=e,this.mapper=new W_,this.downcastDispatcher=new q_({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(r,s,l)=>{if(!l.consumable.consume(s.item,r.name))return;const u=l.writer,p=l.mapper.toViewPosition(s.range.start),g=u.createText(s.item.data);u.insert(p,g)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(r,s,l)=>{l.convertAttributes(s.item),s.reconversion||!s.item.is("element")||s.item.isEmpty||l.convertChildren(s.item)},{priority:"lowest"}),this.upcastDispatcher=new iN({schema:e.schema}),this.viewDocument=new Oh(t),this.stylesProcessor=t,this.htmlProcessor=new oN(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new g_(this.viewDocument),this.upcastDispatcher.on("text",(r,s,{schema:l,consumable:u,writer:p})=>{let g=s.modelCursor;if(!u.test(s.viewItem))return;if(!l.checkChild(g,"$text")){if(!sy(g,"$text",l)||s.viewItem.data.trim().length==0)return;const _=g.nodeBefore;g=ay(g,p),_&&_.is("element","$marker")&&(p.move(p.createRangeOn(_),g),g=p.createPositionAfter(_))}u.consume(s.viewItem);const v=p.createText(s.viewItem.data);p.insert(v,g),s.modelRange=p.createRange(g,g.getShiftedBy(v.offsetSize)),s.modelCursor=s.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(r,s,l)=>{if(!s.modelRange&&l.consumable.consume(s.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(s.viewItem,s.modelCursor);s.modelRange=u,s.modelCursor=p}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(r,s,l)=>{if(!s.modelRange&&l.consumable.consume(s.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(s.viewItem,s.modelCursor);s.modelRange=u,s.modelCursor=p}},{priority:"lowest"}),Me().prototype.decorate.call(this,"init"),Me().prototype.decorate.call(this,"set"),Me().prototype.decorate.call(this,"get"),Me().prototype.decorate.call(this,"toView"),Me().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},oy)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([t]))throw new S("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||F("datacontroller-get-detached-root",this),r!=="empty"||this.model.hasContent(s,{ignoreWhitespaces:!0})?this.stringify(s,e):""}stringify(e,t={}){const r=this.toView(e,t);return this.processor.toData(r)}toView(e,t={}){const r=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const l=ne._createIn(e),u=new Js(r);this.mapper.bindElements(e,u);const p=e.is("documentFragment")?e.markers:function(g){const v=[],_=g.root.document;if(!_)return new Map;const A=ne._createIn(g);for(const E of _.model.markers){const I=E.getRange(),B=I.isCollapsed,j=I.start.isEqual(A.start)||I.end.isEqual(A.end);if(B&&j)v.push([E.name,I]);else{const $=A.getIntersection(I);$&&v.push([E.name,$])}}return v.sort(([E,I],[B,j])=>{if(I.end.compareWith(j.start)!=="after")return 1;if(I.start.compareWith(j.end)!=="before")return-1;switch(I.start.compareWith(j.start)){case"before":return 1;case"after":return-1;default:switch(I.end.compareWith(j.end)){case"before":return 1;case"after":return-1;default:return B.localeCompare(E)}}}),new Map(v)}(e);return this.downcastDispatcher.convert(l,p,s,t),u}init(e){if(this.model.document.version)throw new S("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new S("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const s of Object.keys(t)){const l=this.model.document.getRoot(s);r.insert(this.parse(t[s],l),l,0)}}),Promise.resolve()}set(e,t={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new S("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(r)){const u=this.model.document.getRoot(l);s.remove(s.createRangeIn(u)),s.insert(this.parse(r[l],u),u,0)}})}parse(e,t="$root"){const r=this.processor.toView(e);return this.toModel(r,t)}toModel(e,t="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class aN{constructor(e,t){this._helpers=new Map,this._downcast=vn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=vn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const r=this._downcast.includes(t);if(!this._upcast.includes(t)&&!r)throw new S("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new S("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:r}of jm(e))this.for("upcast").elementToElement({model:t,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:r}of jm(e))this.for("upcast").elementToAttribute({view:r,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:r}of jm(e))this.for("upcast").attributeToAttribute({view:r,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:r}){if(this._helpers.has(e))throw new S("conversion-group-exists",this);const s=r?new jM(t):new $M(t);this._helpers.set(e,s)}}function*jm(a){if(a.model.values)for(const e of a.model.values){const t={key:a.model.key,value:e},r=a.view[e],s=a.upcastAlso?a.upcastAlso[e]:void 0;yield*my(t,r,s)}else yield*my(a.model,a.view,a.upcastAlso)}function*my(a,e,t){if(yield{model:a,view:e},t)for(const r of vn(t))yield{model:a,view:r}}class Mi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Rm(a,e){const t=by(e),r=t.reduce((u,p)=>u+p.offsetSize,0),s=a.parent;ud(a);const l=a.index;return s._insertChild(l,t),dd(s,l+t.length),dd(s,l),new ne(a,a.getShiftedBy(r))}function ky(a){if(!a.isFlat)throw new S("operation-utils-remove-range-not-flat",this);const e=a.start.parent;ud(a.start),ud(a.end);const t=e._removeChildren(a.start.index,a.end.index-a.start.index);return dd(e,a.start.index),t}function ld(a,e){if(!a.isFlat)throw new S("operation-utils-move-range-not-flat",this);const t=ky(a);return Rm(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),t)}function by(a){const e=[];(function t(r){if(typeof r=="string")e.push(new mt(r));else if(r instanceof vr)e.push(new mt(r.data,r.getAttributes()));else if(r instanceof ea)e.push(r);else if(Mt(r))for(const s of r)t(s)})(a);for(let t=1;t<e.length;t++){const r=e[t],s=e[t-1];r instanceof mt&&s instanceof mt&&wy(r,s)&&(e.splice(t-1,2,new mt(s.data+r.data,s.getAttributes())),t--)}return e}function dd(a,e){const t=a.getChild(e-1),r=a.getChild(e);if(t&&r&&t.is("$text")&&r.is("$text")&&wy(t,r)){const s=new mt(t.data+r.data,t.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,s)}}function ud(a){const e=a.textNode,t=a.parent;if(e){const r=a.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const l=new mt(e.data.substr(0,r),e.getAttributes()),u=new mt(e.data.substr(r),e.getAttributes());t._insertChild(s,[l,u])}}function wy(a,e){const t=a.getAttributes(),r=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;r.next()}return r.next().done}class et extends Mi{constructor(e,t,r,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ne._createFromPositionAndShift(this.sourcePosition,this.howMany),ne._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new et(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new et(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,r=this.sourcePosition.offset,s=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new S("move-operation-nodes-do-not-exist",this);if(e===t&&r<s&&s<r+this.howMany)throw new S("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&lt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=r&&this.targetPosition.path[l]<r+this.howMany)throw new S("move-operation-node-into-itself",this)}}_execute(){ld(ne._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const r=ce.fromJSON(e.sourcePosition,t),s=ce.fromJSON(e.targetPosition,t);return new this(r,e.howMany,s,e.baseVersion)}}class yn extends Mi{constructor(e,t,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new rd(by(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new rd([...this.nodes].map(r=>r._clone(!0))),t=new yn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new ce(e,[0]);return new et(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new S("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new rd([...e].map(t=>t._clone(!0))),Rm(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const r=[];for(const l of e.nodes)l.name?r.push(ut.fromJSON(l)):r.push(mt.fromJSON(l));const s=new yn(ce.fromJSON(e.position,t),r,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class kt extends Mi{constructor(e,t,r,s,l){super(l),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=r,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ce(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.splitPosition,e)}get affectedSelectable(){const e=[ne._createFromPositionAndShift(this.splitPosition,0),ne._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ne._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new kt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new ce(e,[0]);return new $t(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new S("split-operation-position-invalid",this);if(!e.parent)throw new S("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new S("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new S("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)ld(ne._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Rm(this.insertionPosition,t)}ld(new ne(ce._createAt(e,this.splitPosition.offset),ce._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new ce(e.root,t,"toPrevious")}static fromJSON(e,t){const r=ce.fromJSON(e.splitPosition,t),s=ce.fromJSON(e.insertionPosition,t),l=e.graveyardPosition?ce.fromJSON(e.graveyardPosition,t):null;return new this(r,e.howMany,s,l,e.baseVersion)}}class $t extends Mi{constructor(e,t,r,s,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new ce(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ne._createOn(e),ne._createFromPositionAndShift(this.targetPosition,0),ne._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new $t(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),r=new ce(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new kt(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new S("merge-operation-source-position-invalid",this);if(!t.parent)throw new S("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new S("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;ld(ne._createIn(e),this.targetPosition),ld(ne._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const r=ce.fromJSON(e.sourcePosition,t),s=ce.fromJSON(e.targetPosition,t),l=ce.fromJSON(e.graveyardPosition,t);return new this(r,e.howMany,s,l,e.baseVersion)}}class hi extends Mi{constructor(e,t,r,s,l,u){super(u),this.name=e,this.oldRange=t?t.clone():null,this.newRange=r?r.clone():null,this.affectsData=l,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new hi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new hi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new hi(e.name,e.oldRange?ne.fromJSON(e.oldRange,t):null,e.newRange?ne.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const vy=function(a,e){return j_(a,e)};class Zt extends Mi{constructor(e,t,r,s,l){super(l),this.range=e.clone(),this.key=t,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Zt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Zt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new S("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!vy(e.getAttribute(this.key),this.oldValue))throw new S("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new S("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){vy(this.oldValue,this.newValue)||function(e,t,r){ud(e.start),ud(e.end);for(const s of e.getItems({shallow:!0})){const l=s.is("$textProxy")?s.textNode:s;r!==null?l._setAttribute(t,r):l._removeAttribute(t),dd(l.parent,l.index)}dd(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Zt(ne.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class tn extends Mi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new tn(this.baseVersion)}getReversed(){return new tn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class fi extends Mi{constructor(e,t,r,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new fi(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new fi(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ut))throw new S("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new S("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new fi(ce.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class mo extends Mi{constructor(e,t,r,s,l){super(l),this.root=e,this.key=t,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new mo(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mo(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new S("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new S("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new S("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new S("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new mo(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ur extends Mi{constructor(e,t,r,s,l){super(l),this.rootName=e,this.elementName=t,this.isAdd=r,this._document=s,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ur(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ur(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Ur(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Qi={};Qi[Zt.className]=Zt,Qi[yn.className]=yn,Qi[hi.className]=hi,Qi[et.className]=et,Qi[tn.className]=tn,Qi[Mi.className]=Mi,Qi[fi.className]=fi,Qi[mo.className]=mo,Qi[Ur.className]=Ur,Qi[kt.className]=kt,Qi[$t.className]=$t;class cN{static fromJSON(e,t){return Qi[e.__className].fromJSON(e,t)}}const Fm=new Map;function Ke(a,e,t){let r=Fm.get(a);r||(r=new Map,Fm.set(a,r)),r.set(e,t)}function lN(a){return[a]}function _y(a,e,t={}){const r=function(s,l){const u=Fm.get(s);return u&&u.has(l)?u.get(l):lN}(a.constructor,e.constructor);try{return r(a=a.clone(),e,t)}catch(s){throw s}}function dN(a,e,t){a=a.slice(),e=e.slice();const r=new uN(t.document,t.useRelations,t.forceWeakRemove);r.setOriginalOperations(a),r.setOriginalOperations(e);const s=r.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:s};const l=new WeakMap;for(const g of a)l.set(g,0);const u={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let p=0;for(;p<a.length;){const g=a[p],v=l.get(g);if(v==e.length){p++;continue}const _=e[v],A=_y(g,_,r.getContext(g,_,!0)),E=_y(_,g,r.getContext(_,g,!1));r.updateRelation(g,_),r.setOriginalOperations(A,g),r.setOriginalOperations(E,_);for(const I of A)l.set(I,v+E.length);a.splice(p,1,...A),e.splice(v,1,...E)}if(t.padWithNoOps){const g=a.length-u.originalOperationsACount,v=e.length-u.originalOperationsBCount;Ay(a,v-g),Ay(e,g-v)}return yy(a,u.nextBaseVersionB),yy(e,u.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:s}}class uN{constructor(e,t,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,t=null){const r=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,r||s)}updateRelation(e,t){if(e instanceof et)t instanceof $t?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof et&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof kt){if(t instanceof $t)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof et)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const r=ne._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const s=r.end.offset-e.splitPosition.offset,l=e.splitPosition.offset-r.start.offset;this._setRelation(e,t,{howMany:s,offset:l})}}}else if(e instanceof $t)t instanceof $t?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof kt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof hi){const r=e.newRange;if(!r)return;if(t instanceof et){const s=ne._createFromPositionAndShift(t.sourcePosition,t.howMany),l=s.containsPosition(r.start)||s.start.isEqual(r.start),u=s.containsPosition(r.end)||s.end.isEqual(r.end);!l&&!u||s.containsRange(r)||this._setRelation(e,t,{side:l?"left":"right",path:l?r.start.path.slice():r.end.path.slice()})}else if(t instanceof $t){const s=r.start.isEqual(t.targetPosition),l=r.start.isEqual(t.deletionPosition),u=r.end.isEqual(t.deletionPosition),p=r.end.isEqual(t.sourcePosition);(s||l||u||p)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:u,wasInRightElement:p})}}}getContext(e,t,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const r=this.originalOperations.get(t),s=this._history.getUndoneOperation(r);if(!s)return null;const l=this.originalOperations.get(e),u=this._relations.get(l);return u&&u.get(s)||null}_setRelation(e,t,r){const s=this.originalOperations.get(e),l=this.originalOperations.get(t);let u=this._relations.get(s);u||(u=new Map,this._relations.set(s,u)),u.set(l,r)}}function yy(a,e){for(const t of a)t.baseVersion=e++}function Ay(a,e){for(let t=0;t<e;t++)a.push(new tn(0))}function Cy(a,e,t){const r=a.nodes.getNode(0).getAttribute(e);if(r==t)return null;const s=new ne(a.position,a.position.getShiftedBy(a.howMany));return new Zt(s,e,r,t,0)}function xy(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function ic(a,e){const t=[];for(let r=0;r<a.length;r++){const s=a[r],l=new et(s.start,s.end.offset-s.start.offset,e,0);t.push(l);for(let u=r+1;u<a.length;u++)a[u]=a[u]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];e=e._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return t}Ke(Zt,Zt,(a,e,t)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const r=a.range.getDifference(e.range).map(l=>new Zt(l,a.key,a.oldValue,a.newValue,0)),s=a.range.getIntersection(e.range);return s&&t.aIsStrong&&r.push(new Zt(s,e.key,e.newValue,a.newValue,0)),r.length==0?[new tn(0)]:r}return[a]}),Ke(Zt,yn,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const t=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new Zt(r,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const r=Cy(e,a.key,a.oldValue);r&&t.unshift(r)}return t}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),Ke(Zt,$t,(a,e)=>{const t=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&t.push(ne._createFromPositionAndShift(e.graveyardPosition,1));const r=a.range._getTransformedByMergeOperation(e);return r.isCollapsed||t.push(r),t.map(s=>new Zt(s,a.key,a.oldValue,a.newValue,a.baseVersion))}),Ke(Zt,et,(a,e)=>function(r,s){const l=ne._createFromPositionAndShift(s.sourcePosition,s.howMany);let u=null,p=[];l.containsRange(r,!0)?u=r:r.start.hasSameParentAs(l.start)?(p=r.getDifference(l),u=r.getIntersection(l)):p=[r];const g=[];for(let v of p){v=v._getTransformedByDeletion(s.sourcePosition,s.howMany);const _=s.getMovedRangeStart(),A=v.start.hasSameParentAs(_),E=v._getTransformedByInsertion(_,s.howMany,A);g.push(...E)}return u&&g.push(u._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany,!1)[0]),g}(a.range,e).map(r=>new Zt(r,a.key,a.oldValue,a.newValue,a.baseVersion))),Ke(Zt,kt,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const t=a.clone();return t.range=new ne(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,t]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),Ke(yn,Zt,(a,e)=>{const t=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const r=Cy(a,e.key,e.newValue);r&&t.push(r)}return t}),Ke(yn,yn,(a,e,t)=>(a.position.isEqual(e.position)&&t.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),Ke(yn,et,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Ke(yn,kt,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),Ke(yn,$t,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),Ke(hi,yn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),Ke(hi,hi,(a,e,t)=>{if(a.name==e.name){if(!t.aIsStrong)return[new tn(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),Ke(hi,$t,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),Ke(hi,et,(a,e,t)=>{if(a.oldRange&&(a.oldRange=ne._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(t.abRelation){const r=ne._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=r.end,a.newRange.start.path=t.abRelation.path,[a];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=r.start,a.newRange.end.path=t.abRelation.path,[a]}a.newRange=ne._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),Ke(hi,kt,(a,e,t)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(t.abRelation){const r=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?a.newRange.start=ce._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(a.newRange.start=ce._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?a.newRange.end=ce._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?a.newRange.end=ce._createAt(e.insertionPosition):a.newRange.end=r.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),Ke($t,yn,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),Ke($t,$t,(a,e,t)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),a.sourcePosition=new ce(e.graveyardPosition.root,r),a.howMany=0,[a]}return[new tn(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const r=a.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),u=a.targetPosition._getTransformedByMergeOperation(e);return[new et(l,a.howMany,u,0)]}return[new tn(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Ke($t,et,(a,e,t)=>{const r=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.sourcePosition)?[new tn(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),Ke($t,kt,(a,e,t)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,s=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(r||s||t.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(t.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),Ke(et,yn,(a,e)=>{const t=ne._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=t.start,a.howMany=t.end.offset-t.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),Ke(et,et,(a,e,t)=>{const r=ne._createFromPositionAndShift(a.sourcePosition,a.howMany),s=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);let l,u=t.aIsStrong,p=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?p=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(p=!1),l=a.targetPosition.isEqual(e.targetPosition)&&p?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xy(a,e)&&xy(e,a))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(s,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ic([r],l);if(s.containsPosition(a.targetPosition)&&s.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ic([r],l);const g=lt(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(g=="prefix"||g=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ic([r],l);a.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?a.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(u=!1):u=!0;const v=[],_=r.getDifference(s);for(const E of _){E.start=E.start._getTransformedByDeletion(e.sourcePosition,e.howMany),E.end=E.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const I=lt(E.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",B=E._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,I);v.push(...B)}const A=r.getIntersection(s);return A!==null&&u&&(A.start=A.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.end=A.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),v.length===0?v.push(A):v.length==1?s.start.isBefore(r.start)||s.start.isEqual(r.start)?v.unshift(A):v.push(A):v.splice(1,0,A)),v.length===0?[new tn(a.baseVersion)]:ic(v,l)}),Ke(et,kt,(a,e,t)=>{let r=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(r=a.targetPosition._getTransformedBySplitOperation(e));const s=ne._createFromPositionAndShift(a.sourcePosition,a.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=r,[a];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let u=new ne(e.splitPosition,s.end);return u=u._getTransformedBySplitOperation(e),ic([new ne(s.start,e.splitPosition),u],r)}a.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(r=a.targetPosition);const l=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const u=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);a.howMany>1&&u&&!t.aWasUndone&&l.push(ne._createFromPositionAndShift(e.insertionPosition,1))}return ic(l,r)}),Ke(et,$t,(a,e,t)=>{const r=ne._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(a.type!="remove"||t.forceWeakRemove){if(a.howMany==1)return t.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new tn(0)]}else if(!t.aWasUndone){const l=[];let u=e.graveyardPosition.clone(),p=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(l.push(new et(a.sourcePosition,a.howMany-1,a.targetPosition,0)),u=u._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),p=p._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const g=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),v=new et(u,1,g,0),_=v.getMovedRangeStart().path.slice();_.push(0);const A=new ce(v.targetPosition.root,_);p=p._getTransformedByMove(u,g,1);const E=new et(p,e.howMany,A,0);return l.push(v),l.push(E),l}}const s=ne._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=s.start,a.howMany=s.end.offset-s.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),Ke(fi,yn,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),Ke(fi,$t,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),Ke(fi,et,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Ke(fi,fi,(a,e,t)=>{if(a.position.isEqual(e.position)){if(!t.aIsStrong)return[new tn(0)];a.oldName=e.newName}return[a]}),Ke(fi,kt,(a,e)=>{if(lt(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new fi(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,t]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),Ke(mo,mo,(a,e,t)=>{if(a.root===e.root&&a.key===e.key){if(!t.aIsStrong||a.newValue===e.newValue)return[new tn(0)];a.oldValue=e.newValue}return[a]}),Ke(Ur,Ur,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new tn(0)]:[a]),Ke(kt,yn,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),Ke(kt,$t,(a,e,t)=>{if(!a.graveyardPosition&&!t.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const s=new ce(e.graveyardPosition.root,r),l=kt.getInsertionPosition(new ce(e.graveyardPosition.root,r)),u=new kt(s,0,l,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=kt.getInsertionPosition(a.splitPosition),a.graveyardPosition=u.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[u,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=kt.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Ke(kt,et,(a,e,t)=>{const r=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const l=r.start.isEqual(a.graveyardPosition)||r.containsPosition(a.graveyardPosition);if(!t.bWasUndone&&l){const u=a.splitPosition._getTransformedByMoveOperation(e),p=a.graveyardPosition._getTransformedByMoveOperation(e),g=p.path.slice();g.push(0);const v=new ce(p.root,g);return[new et(u,a.howMany,v,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const s=a.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=kt.getInsertionPosition(a.splitPosition),[a];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:l,offset:u}=t.abRelation;return a.howMany+=l,a.splitPosition=a.splitPosition.getShiftedBy(u),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.splitPosition)){const l=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=l,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=kt.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=kt.getInsertionPosition(a.splitPosition),[a]}),Ke(kt,kt,(a,e,t)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new tn(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new tn(0)];if(t.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const r=a.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new et(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&l.push(new et(a.splitPosition,a.howMany,a.moveTargetPosition,0)),l}return[new tn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&t.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const s=new ce(e.insertionPosition.root,r);return[a,new et(a.insertionPosition,1,s,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=kt.getInsertionPosition(a.splitPosition),[a]});class nn extends q(ce){constructor(e,t,r="toNone"){if(super(e,t,r),!this.root.is("rootElement"))throw new S("model-liveposition-root-not-rootelement",e);hN.call(this)}detach(){this.stopListening()}toPosition(){return new ce(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function hN(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&fN.call(this,t)},{priority:"low"})}function fN(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}nn.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class rc{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},F("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:r=!0,isUndo:s=!1,isTyping:l=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=r,this.isUndo=s,this.isTyping=l}get type(){return F("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class pN{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const r of t.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const r=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);r||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const r=ne._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(r)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}break}case"split":{const r=t.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const r=t.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const l=t.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,t.targetPosition.offset,r.maxOffset);break}case"detachRoot":case"addRoot":{const r=t.affectedSelectable;if(!r._isLoaded||r.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const r=t.root.rootName;this._bufferRootAttributeChange(r,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,r){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=r:(s={newMarkerData:r,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:t,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:t,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const r=e.range&&!t.range,s=!e.range&&t.range,l=e.range&&t.range&&!e.range.isEqual(t.range);if(r||s||l)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const r of this._changesInElement.keys()){const s=this._changesInElement.get(r).sort((_,A)=>_.offset===A.offset?_.type!=A.type?_.type=="remove"?-1:1:0:_.offset<A.offset?-1:1),l=this._elementSnapshots.get(r),u=Ey(r.getChildren()),p=gN(l.length,s);let g=0,v=0;for(const _ of p)if(_==="i")t.push(this._getInsertDiff(r,g,u[g])),g++;else if(_==="r")t.push(this._getRemoveDiff(r,g,l[v])),v++;else if(_==="a"){const A=u[g].attributes,E=l[v].attributes;let I;if(u[g].name=="$text")I=new ne(ce._createAt(r,g),ce._createAt(r,g+1));else{const B=r.offsetToIndex(g);I=new ne(ce._createAt(r,g),ce._createAt(r.getChild(B),0))}t.push(...this._getAttributesDiff(I,E,A)),g++,v++}else g++,v++}t.sort((r,s)=>r.position.root!=s.position.root?r.position.root.rootName<s.position.root.rootName?-1:1:r.position.isEqual(s.position)?r.changeCount-s.changeCount:r.position.isBefore(s.position)?-1:1);for(let r=1,s=0;r<t.length;r++){const l=t[s],u=t[r],p=l.type=="remove"&&u.type=="remove"&&l.name=="$text"&&u.name=="$text"&&l.position.isEqual(u.position),g=l.type=="insert"&&u.type=="insert"&&l.name=="$text"&&u.name=="$text"&&l.position.parent==u.position.parent&&l.position.offset+l.length==u.position.offset,v=l.type=="attribute"&&u.type=="attribute"&&l.position.parent==u.position.parent&&l.range.isFlat&&u.range.isFlat&&l.position.offset+l.length==u.position.offset&&l.attributeKey==u.attributeKey&&l.attributeOldValue==u.attributeOldValue&&l.attributeNewValue==u.attributeNewValue;p||g||v?(l.length++,v&&(l.range.end=l.range.end.getShiftedBy(1)),t[r]=null):s=r}t=t.filter(r=>r);for(const r of t)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(mN),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,r,s){const l=this._changedRoots.get(e)||{name:e},u=l.attributes||{};if(u[t]){const p=u[t];s===p.oldValue?delete u[t]:p.newValue=s}else u[t]={oldValue:r,newValue:s};Object.entries(u).length===0?(delete l.attributes,l.state===void 0&&this._changedRoots.delete(e)):(l.attributes=u,this._changedRoots.set(e,l))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=ne._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(t)){const s=r.getData();this.bufferMarkerChange(r.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const r=t.getData();this.bufferMarkerChange(t.name,{...r,range:null},r)}}}_markInsert(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const r=this._getChangesForElement(e);this._handleChange(t,r),r.push(t);for(let s=0;s<r.length;s++)r[s].howMany<1&&(r.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Ey(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const r of t){const s=e.offset+e.howMany,l=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<l&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<l){const u=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:s,howMany:u-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(s<=r.offset)r.offset-=e.howMany;else if(s<=l)if(e.offset<r.offset){const u=s-r.offset;r.offset=e.offset,r.howMany-=u,e.nodesToHandle-=u}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<l){const u=l-e.offset;r.howMany-=u,e.nodesToHandle-=u}}if(r.type=="remove"&&(s<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(s<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const u=s-r.offset;r.offset=e.offset,r.howMany-=u}else if(e.offset<l)if(s<=l){const u=r.howMany;r.howMany=e.offset-r.offset;const p=u-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:p,count:this._changeCount++})}else r.howMany-=l-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&s>r.offset){if(s>l){const u={type:"attribute",offset:l,howMany:s-l,count:this._changeCount++};this._handleChange(u,t),t.push(u)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<l&&(s>l?(e.nodesToHandle=s-l,e.offset=l):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&s>r.offset){const u={type:"attribute",offset:r.offset,howMany:s-r.offset,count:this._changeCount++};this._handleChange(u,t),t.push(u),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&s<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&s>=l&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,r){return{type:"insert",position:ce._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,r){return{type:"remove",position:ce._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,r){const s=[];r=new Map(r);for(const[l,u]of t){const p=r.has(l)?r.get(l):null;p!==u&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:u,attributeNewValue:p,changeCount:this._changeCount++}),r.delete(l)}for(const[l,u]of r)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:u,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const r=this._changesInElement.get(t),s=e.startOffset;if(r){for(const l of r)if(l.type=="insert"&&s>=l.offset&&s<l.offset+l.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,r){const s=new ne(ce._createAt(e,t),ce._createAt(e,t+r));for(const l of s.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function Ey(a){const e=[];for(const t of a)if(t.is("$text"))for(let r=0;r<t.data.length;r++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function gN(a,e){const t=[];let r=0,s=0;for(const l of e){if(l.offset>r){for(let u=0;u<l.offset-r;u++)t.push("e");s+=l.offset-r}if(l.type=="insert"){for(let u=0;u<l.howMany;u++)t.push("i");r=l.offset+l.howMany}else if(l.type=="remove"){for(let u=0;u<l.howMany;u++)t.push("r");r=l.offset,s+=l.howMany}else t.push(..."a".repeat(l.howMany).split("")),r=l.offset+l.howMany,s+=l.howMany}if(s<a)for(let l=0;l<a-s-r;l++)t.push("e");return t}function mN(a){const e="position"in a&&a.position.root.rootName=="$graveyard",t="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!t}class kN{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new S("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let s=t-1;for(const[p,g]of this._gaps)e>p&&e<g&&(e=g),s>p&&s<g&&(s=p-1);if(s<r.baseVersion||e>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(e);l===void 0&&(l=0);let u=this._baseVersionToOperationIndex.get(s);return u===void 0&&(u=this._operations.length-1),this._operations.slice(l,u+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Uh extends ut{constructor(e,t,r="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Uh.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};const Sy="$graveyard";class bN extends q(){constructor(e){super(),this.model=e,this.history=new kN,this.selection=new _r(this),this.roots=new Ki({idProperty:"rootName"}),this.differ=new pN(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Sy),this.listenTo(e,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,r,s,l,u)=>{const p={...r.getData(),range:l};this.differ.bufferMarkerChange(r.name,u,p),s===null&&r.on("change",(g,v)=>{const _=r.getData();this.differ.bufferMarkerChange(r.name,{..._,range:v},_)})}),this.registerPostFixer(t=>{let r=!1;for(const s of this.roots)s.isAttached()||s.isEmpty||(t.remove(t.createRangeIn(s)),r=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Sy)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new S("model-document-createroot-name-exists",this,{name:t});const r=new Uh(this,e,t);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=t_(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,r=t.schema,s=t.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return Dy(e.start)&&Dy(e.end)}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(this.selection.refresh(),t=r(e),t)break;while(t)}}function Dy(a){const e=a.textNode;if(e){const t=e.data,r=a.offset-e.startOffset;return!lm(t,r)&&!dm(t,r)}return!0}class wN extends q(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof oc?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,r=!1,s=!1){const l=e instanceof oc?e.name:e;if(l.includes(","))throw new S("markercollection-incorrect-marker-name",this);const u=this._markers.get(l);if(u){const v=u.getData(),_=u.getRange();let A=!1;return _.isEqual(t)||(u._attachLiveRange(ui.fromRange(t)),A=!0),r!=u.managedUsingOperations&&(u._managedUsingOperations=r,A=!0),typeof s=="boolean"&&s!=u.affectsData&&(u._affectsData=s,A=!0),A&&this.fire(`update:${l}`,u,_,t,v),u}const p=ui.fromRange(t),g=new oc(l,p,r,s);return this._markers.set(l,g),this.fire(`update:${l}`,g,null,t,{...g.getData(),range:null}),g}_remove(e){const t=e instanceof oc?e.name:e,r=this._markers.get(t);return!!r&&(this._markers.delete(t),this.fire(`update:${t}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0)}_refresh(e){const t=e instanceof oc?e.name:e,r=this._markers.get(t);if(!r)throw new S("markercollection-refresh-marker-not-exists",this);const s=r.getRange();this.fire(`update:${t}`,r,s,s,r.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class oc extends q(Xo){constructor(e,t,r,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=r,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}oc.prototype.is=function(a){return a==="marker"||a==="model:marker"};class vN extends Mi{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new S("detach-operation-on-document-node",this)}_execute(){ky(ne._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ko extends Xo{constructor(e){super(),this.markers=new Map,this._children=new rd,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const r of e)r.name?t.push(ut.fromJSON(r)):t.push(mt.fromJSON(r));return new ko(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=function(s){return typeof s=="string"?[new mt(s)]:(Mt(s)||(s=[s]),Array.from(s).map(l=>typeof l=="string"?new mt(l):l instanceof vr?new mt(l.data,l.getAttributes()):l))}(t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const s of r)s.parent=null;return r}}ko.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class _N{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new mt(e,t)}createElement(e,t){return new ut(e,t)}createDocumentFragment(){return new ko}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,r=0){if(this._assertWriterUsedCorrectly(),e instanceof mt&&e.data=="")return;const s=ce._createAt(t,r);if(e.parent){if(My(e.root,s.root))return void this.move(ne._createOn(e),s);if(e.root.document)throw new S("model-writer-insert-forbidden-move",this);this.remove(e)}const l=s.root.document?s.root.document.version:null,u=new yn(s,e,l);if(e instanceof mt&&(u.shouldReceiveAttributes=!0),this.batch.addOperation(u),this.model.applyOperation(u),e instanceof ko)for(const[p,g]of e.markers){const v=ce._createAt(g.root,0),_={range:new ne(g.start._getCombined(v,s),g.end._getCombined(v,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(p)?this.updateMarker(p,_):this.addMarker(p,_)}}insertText(e,t,r,s){t instanceof ko||t instanceof ut||t instanceof ce?this.insert(this.createText(e),t,r):this.insert(this.createText(e,t),r,s)}insertElement(e,t,r,s){t instanceof ko||t instanceof ut||t instanceof ce?this.insert(this.createElement(e),t,r):this.insert(this.createElement(e,t),r,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,r){t instanceof ko||t instanceof ut?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),r,"end")}appendElement(e,t,r){t instanceof ko||t instanceof ut?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),r,"end")}setAttribute(e,t,r){if(this._assertWriterUsedCorrectly(),r instanceof ne){const s=r.getMinimalFlatRanges();for(const l of s)Ty(this,e,t,l)}else Iy(this,e,t,r)}setAttributes(e,t){for(const[r,s]of Rr(e))this.setAttribute(r,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ne){const r=t.getMinimalFlatRanges();for(const s of r)Ty(this,e,null,s)}else Iy(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=r=>{for(const s of r.getAttributeKeys())this.removeAttribute(s,r)};if(e instanceof ne)for(const r of e.getItems())t(r);else t(e)}move(e,t,r){if(this._assertWriterUsedCorrectly(),!(e instanceof ne))throw new S("writer-move-invalid-range",this);if(!e.isFlat)throw new S("writer-move-range-not-flat",this);const s=ce._createAt(t,r);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!My(e.root,s.root))throw new S("writer-move-different-document",this);const l=e.root.document?e.root.document.version:null,u=new et(e.start,e.end.offset-e.start.offset,s,l);this.batch.addOperation(u),this.model.applyOperation(u)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof ne?e:ne._createOn(e)).getMinimalFlatRanges().reverse();for(const r of t)this._addOperationForAffectedMarkers("move",r),yN(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ut))throw new S("writer-merge-no-element-before",this);if(!(r instanceof ut))throw new S("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,r){return this.model.createPositionFromPath(e,t,r)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,r=e.nodeAfter;this.move(ne._createIn(r),ce._createAt(t,"end")),this.remove(r)}_merge(e){const t=ce._createAt(e.nodeBefore,"end"),r=ce._createAt(e.nodeAfter,0),s=e.root.document.graveyard,l=new ce(s,[0]),u=e.root.document.version,p=new $t(r,e.nodeAfter.maxOffset,t,l,u);this.batch.addOperation(p),this.model.applyOperation(p)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ut))throw new S("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,s=new fi(ce._createBefore(e),e.name,t,r);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let r,s,l=e.parent;if(!l.parent)throw new S("writer-split-element-no-parent",this);if(t||(t=l.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new S("writer-split-invalid-limit-element",this);do{const u=l.root.document?l.root.document.version:null,p=l.maxOffset-e.offset,g=kt.getInsertionPosition(e),v=new kt(e,p,g,null,u);this.batch.addOperation(v),this.model.applyOperation(v),r||s||(r=l,s=e.parent.nextSibling),l=(e=this.createPositionAfter(e.parent)).parent}while(l!==t);return{position:e,range:new ne(ce._createAt(r,"end"),ce._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new S("writer-wrap-range-not-flat",this);const r=t instanceof ut?t:new ut(t);if(r.childCount>0)throw new S("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new S("writer-wrap-element-attached",this);this.insert(r,e.start);const s=new ne(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,ce._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new S("writer-unwrap-element-no-parent",this);this.move(ne._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new S("writer-addmarker-no-usingoperation",this);const r=t.usingOperation,s=t.range,l=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new S("writer-addmarker-marker-exists",this);if(!s)throw new S("writer-addmarker-no-range",this);return r?(hd(this,e,null,s,l),this.model.markers.get(e)):this.model.markers._set(e,s,r,l)}updateMarker(e,t){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,s=this.model.markers.get(r);if(!s)throw new S("writer-updatemarker-marker-not-exists",this);if(!t)return F("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),void this.model.markers._refresh(s);const l=typeof t.usingOperation=="boolean",u=typeof t.affectsData=="boolean",p=u?t.affectsData:s.affectsData;if(!l&&!t.range&&!u)throw new S("writer-updatemarker-wrong-options",this);const g=s.getRange(),v=t.range?t.range:g;l&&t.usingOperation!==s.managedUsingOperations?t.usingOperation?hd(this,r,null,v,p):(hd(this,r,g,null,p),this.model.markers._set(r,v,void 0,p)):s.managedUsingOperations?hd(this,r,g,v,p):this.model.markers._set(r,v,void 0,p)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new S("writer-removemarker-no-marker",this);const r=this.model.markers.get(t);if(!r.managedUsingOperations)return void this.model.markers._remove(t);hd(this,t,r.getRange(),null,r.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new S("writer-addroot-root-exists",this);const s=this.model.document,l=new Ur(e,t,!0,s,s.version);return this.batch.addOperation(l),this.model.applyOperation(l),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new S("writer-detachroot-no-root",this);for(const l of this.model.markers)l.getRange().root===t&&this.removeMarker(l);for(const l of t.getAttributeKeys())this.removeAttribute(l,t);this.remove(this.createRangeIn(t));const r=this.model.document,s=new Ur(t.rootName,t.name,!1,r,r.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[r,s]of Rr(e))this._setSelectionAttribute(r,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const s=_r._getStoreAttributeKey(e);this.setAttribute(s,t,r.anchor.parent)}r._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const r=_r._getStoreAttributeKey(e);this.removeAttribute(r,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new S("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const s=r.getRange();let l=!1;if(e==="move"){const u=t;l=u.containsPosition(s.start)||u.start.isEqual(s.start)||u.containsPosition(s.end)||u.end.isEqual(s.end)}else{const u=t,p=u.nodeBefore,g=u.nodeAfter,v=s.start.parent==p&&s.start.isAtEnd,_=s.end.parent==g&&s.end.offset==0,A=s.end.nodeAfter==g,E=s.start.nodeAfter==g;l=v||_||A||E}l&&this.updateMarker(r.name,{range:s})}}}function Ty(a,e,t,r){const s=a.model,l=s.document;let u,p,g,v=r.start;for(const A of r.getWalker({shallow:!0}))g=A.item.getAttribute(e),u&&p!=g&&(p!=t&&_(),v=u),u=A.nextPosition,p=g;function _(){const A=new ne(v,u),E=A.root.document?l.version:null,I=new Zt(A,e,p,t,E);a.batch.addOperation(I),s.applyOperation(I)}u instanceof ce&&u!=v&&p!=t&&_()}function Iy(a,e,t,r){const s=a.model,l=s.document,u=r.getAttribute(e);let p,g;if(u!=t){if(r.root===r){const v=r.document?l.version:null;g=new mo(r,e,u,t,v)}else{p=new ne(ce._createBefore(r),a.createPositionAfter(r));const v=p.root.document?l.version:null;g=new Zt(p,e,u,t,v)}a.batch.addOperation(g),s.applyOperation(g)}}function hd(a,e,t,r,s){const l=a.model,u=l.document,p=new hi(e,t,r,l.markers,!!s,u.version);a.batch.addOperation(p),l.applyOperation(p)}function yN(a,e,t,r){let s;if(a.root.document){const l=r.document,u=new ce(l.graveyard,[0]);s=new et(a,e,u,l.version)}else s=new vN(a,e);t.addOperation(s),r.applyOperation(s)}function My(a,e){return a===e||a instanceof Uh&&e instanceof Uh}function AN(a,e,t={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const s=a.schema;a.change(l=>{if(!t.doNotResetEntireContent&&function(v,_){const A=v.getLimitElement(_);if(!_.containsEntireContent(A))return!1;const E=_.getFirstRange();return E.start.parent==E.end.parent?!1:v.checkChild(A,"paragraph")}(s,e))return void function(v,_){const A=v.model.schema.getLimitElement(_);v.remove(v.createRangeIn(A)),Py(v,v.createPositionAt(A,0),_)}(l,e);const u={};if(!t.doNotAutoparagraph){const v=e.getSelectedElement();v&&Object.assign(u,s.getAttributesWithProperty(v,"copyOnReplace",!0))}const[p,g]=function(v){const _=v.root.document.model,A=v.start;let E=v.end;if(_.hasContent(v,{ignoreMarkers:!0})){const I=function(B){const j=B.parent,$=j.root.document.model.schema,G=j.getAncestors({parentFirst:!0,includeSelf:!0});for(const te of G){if($.isLimit(te))return null;if($.isBlock(te))return te}}(E);if(I&&E.isTouching(_.createPositionAt(I,0))){const B=_.createSelection(v);_.modifySelection(B,{direction:"backward"});const j=B.getLastPosition(),$=_.createRange(j,E);_.hasContent($,{ignoreMarkers:!0})||(E=j)}}return[nn.fromPosition(A,"toPrevious"),nn.fromPosition(E,"toNext")]}(r);p.isTouching(g)||l.remove(l.createRange(p,g)),t.leaveUnmerged||(function(v,_,A){const E=v.model;if(!$m(v.model.schema,_,A))return;const[I,B]=function(j,$){const G=j.getAncestors(),te=$.getAncestors();let le=0;for(;G[le]&&G[le]==te[le];)le++;return[G[le],te[le]]}(_,A);!I||!B||(!E.hasContent(I,{ignoreMarkers:!0})&&E.hasContent(B,{ignoreMarkers:!0})?Oy(v,_,A,I.parent):Ny(v,_,A,I.parent))}(l,p,g),s.removeDisallowedAttributes(p.parent.getChildren(),l)),By(l,e,p),!t.doNotAutoparagraph&&function(v,_){const A=v.checkChild(_,"$text"),E=v.checkChild(_,"paragraph");return!A&&E}(s,p)&&Py(l,p,e,u),p.detach(),g.detach()})}function Ny(a,e,t,r){const s=e.parent,l=t.parent;if(s!=r&&l!=r){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(l)).isEqual(e)||a.insert(l,e),a.merge(e);t.parent.isEmpty;){const u=t.parent;t=a.createPositionBefore(u),a.remove(u)}$m(a.model.schema,e,t)&&Ny(a,e,t,r)}}function Oy(a,e,t,r){const s=e.parent,l=t.parent;if(s!=r&&l!=r){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(l)).isEqual(e)||a.insert(s,t);e.parent.isEmpty;){const u=e.parent;e=a.createPositionBefore(u),a.remove(u)}t=a.createPositionBefore(l),function(u,p){const g=p.nodeBefore,v=p.nodeAfter;g.name!=v.name&&u.rename(g,v.name),u.clearAttributes(g),u.setAttributes(Object.fromEntries(v.getAttributes()),g),u.merge(p)}(a,t),$m(a.model.schema,e,t)&&Oy(a,e,t,r)}}function $m(a,e,t){const r=e.parent,s=t.parent;return r!=s&&!a.isLimit(r)&&!a.isLimit(s)&&function(l,u,p){const g=new ne(l,u);for(const v of g.getWalker())if(p.isLimit(v.item))return!1;return!0}(e,t,a)}function Py(a,e,t,r={}){const s=a.createElement("paragraph");a.model.schema.setAllowedAttributes(s,r,a),a.insert(s,e),By(a,t,a.createPositionAt(s,0))}function By(a,e,t){e instanceof _r?a.setSelection(t):e.setTo(t)}function Ly(a,e){const t=[];Array.from(a.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(a.start)||r.start.isEqual(a.start))&&(r.end.isBefore(a.end)||r.end.isEqual(a.end))).forEach(r=>{t.push(r.start.parent),e.remove(r)}),t.forEach(r=>{let s=r;for(;s.parent&&s.isEmpty;){const l=e.createRangeOn(s);s=s.parent,e.remove(l)}})}class CN{constructor(e,t,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new S("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ne._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ne(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=nn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new S("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=nn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=nn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ut)||!this._canMergeLeft(e))return;const t=nn._createBefore(e);t.stickiness="toNext";const r=nn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=nn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=nn._createAt(t.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ut)||!this._canMergeRight(e))return;const t=nn._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new S("insertcontent-invalid-insertion-position",this);this.position=ce._createAt(t.nodeBefore,"end");const r=nn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=nn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=nn._createAt(t.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ut&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ut&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===t&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function zy(a,e,t="auto"){const r=a.getSelectedElement();if(r&&e.schema.isObject(r)&&!e.schema.isInline(r))return t=="before"||t=="after"?e.createRange(e.createPositionAt(r,t)):e.createRangeOn(r);const s=_n(a.getSelectedBlocks());if(!s)return e.createRange(a.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const l=e.createPositionAfter(s);return a.focus.isTouching(l)?e.createRange(l):e.createRange(e.createPositionBefore(s))}function xN(a,e,t,r={}){if(!a.schema.isObject(e))throw new S("insertobject-element-not-an-object",a,{object:e});const s=t||a.document.selection;let l=s;r.findOptimalPosition&&a.schema.isBlock(e)&&(l=a.createSelection(zy(s,a,r.findOptimalPosition)));const u=_n(s.getSelectedBlocks()),p={};return u&&Object.assign(p,a.schema.getAttributesWithProperty(u,"copyOnReplace",!0)),a.change(g=>{l.isCollapsed||a.deleteContent(l,{doNotAutoparagraph:!0});let v=e;const _=l.anchor.parent;!a.schema.checkChild(_,e)&&a.schema.checkChild(_,"paragraph")&&a.schema.checkChild("paragraph",e)&&(v=g.createElement("paragraph"),g.insert(e,v)),a.schema.setAllowedAttributes(v,p,g);const A=a.insertContent(v,l);return A.isCollapsed||r.setSelection&&function(E,I,B,j){const $=E.model;if(B=="on")return void E.setSelection(I,"on");if(B!="after")throw new S("insertobject-invalid-place-parameter-value",$);let G=I.nextSibling;if($.schema.isInline(I))return void E.setSelection(I,"after");!(G&&$.schema.checkChild(G,"$text"))&&$.schema.checkChild(I.parent,"paragraph")&&(G=E.createElement("paragraph"),$.schema.setAllowedAttributes(G,j,E),$.insertContent(G,E.createPositionAfter(I))),G&&E.setSelection(G,0)}(g,e,r.setSelection,p),A})}const EN=' ,.?!:;"-()';function SN(a,e){const{isForward:t,walker:r,unit:s,schema:l,treatEmojiAsSingleUnit:u}=a,{type:p,item:g,nextPosition:v}=e;if(p=="text")return a.unit==="word"?function(_,A){let E=_.position.textNode;for(E||(E=A?_.position.nodeAfter:_.position.nodeBefore);E&&E.is("$text");){const I=_.position.offset-E.startOffset;if(IN(E,I,A))E=A?_.position.nodeAfter:_.position.nodeBefore;else{if(TN(E.data,I,A))break;_.next()}}return _.position}(r,t):function(_,A,E){const I=_.position.textNode;if(I){const B=I.data;let j=_.position.offset-I.startOffset;for(;lm(B,j)||A=="character"&&dm(B,j)||E&&Hv(B,j);)_.next(),j=_.position.offset-I.startOffset}return _.position}(r,s,u);if(p==(t?"elementStart":"elementEnd")){if(l.isSelectable(g))return ce._createAt(g,t?"after":"before");if(l.checkChild(v,"$text"))return v}else{if(l.isLimit(g))return void r.skip(()=>!0);if(l.checkChild(v,"$text"))return v}}function DN(a,e){const t=a.root,r=ce._createAt(t,e?"end":0);return e?new ne(a,r):new ne(r,a)}function TN(a,e,t){const r=e+(t?0:-1);return EN.includes(a.charAt(r))}function IN(a,e,t){return e===(t?a.offsetSize:0)}class MN extends Me(){constructor(){super(),this.markers=new wN,this.document=new bN(this),this.schema=new WM,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),VM(this),this.document.registerPostFixer(oy),this.on("insertContent",(e,[t,r])=>{e.return=function(s,l,u){return s.change(p=>{const g=u||s.document.selection;g.isCollapsed||s.deleteContent(g,{doNotAutoparagraph:!0});const v=new CN(s,p,g.anchor),_=[];let A;if(l.is("documentFragment")){if(l.markers.size){const B=[];for(const[j,$]of l.markers){const{start:G,end:te}=$,le=G.isEqual(te);B.push({position:G,name:j,isCollapsed:le},{position:te,name:j,isCollapsed:le})}B.sort(({position:j},{position:$})=>j.isBefore($)?1:-1);for(const{position:j,name:$,isCollapsed:G}of B){let te=null,le=null;const xe=j.parent===l&&j.isAtStart,We=j.parent===l&&j.isAtEnd;xe||We?G&&(le=xe?"start":"end"):(te=p.createElement("$marker"),p.insert(te,j)),_.push({name:$,element:te,collapsed:le})}}A=l.getChildren()}else A=[l];v.handleNodes(A);let E=v.getSelectionRange();if(l.is("documentFragment")&&_.length){const B=E?ui.fromRange(E):null,j={};for(let $=_.length-1;$>=0;$--){const{name:G,element:te,collapsed:le}=_[$],xe=!j[G];if(xe&&(j[G]=[]),te){const We=p.createPositionAt(te,"before");j[G].push(We),p.remove(te)}else{const We=v.getAffectedRange();if(!We){le&&j[G].push(v.position);continue}le?j[G].push(We[le]):j[G].push(xe?We.start:We.end)}}for(const[$,[G,te]]of Object.entries(j))G&&te&&G.root===te.root&&p.addMarker($,{usingOperation:!0,affectsData:!0,range:new ne(G,te)});B&&(E=B.toRange(),B.detach())}E&&(g instanceof _r?p.setSelection(E):g.setTo(E));const I=v.getAffectedRange()||s.createRange(g.anchor);return v.destroy(),I})}(this,t,r)}),this.on("insertObject",(e,[t,r,s])=>{e.return=xN(this,t,r,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new rc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){S.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new rc):e instanceof rc||(e=new rc(e)):e=new rc,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){S.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,t,r,...s){const l=Vm(t,r);return this.fire("insertContent",[e,l,r,...s])}insertObject(e,t,r,s,...l){const u=Vm(t,r);return this.fire("insertObject",[e,u,s,s,...l])}deleteContent(e,t){AN(this,e,t)}modifySelection(e,t){(function(r,s,l={}){const u=r.schema,p=l.direction!="backward",g=l.unit?l.unit:"character",v=!!l.treatEmojiAsSingleUnit,_=s.focus,A=new Vr({boundaries:DN(_,p),singleCharacters:!0,direction:p?"forward":"backward"}),E={walker:A,schema:u,isForward:p,unit:g,treatEmojiAsSingleUnit:v};let I;for(;I=A.next();){if(I.done)return;const B=SN(E,I.value);if(B)return void(s instanceof _r?r.change(j=>{j.setSelectionFocus(B)}):s.setFocus(B))}})(this,e,t)}getSelectedContent(e){return function(t,r){return t.change(s=>{const l=s.createDocumentFragment(),u=r.getFirstRange();if(!u||u.isCollapsed)return l;const p=u.start.root,g=u.start.getCommonPath(u.end),v=p.getNodeByPath(g);let _;_=u.start.parent==u.end.parent?u:s.createRange(s.createPositionAt(v,u.start.path[g.length]),s.createPositionAt(v,u.end.path[g.length]+1));const A=_.end.offset-_.start.offset;for(const E of _.getItems({shallow:!0}))E.is("$textProxy")?s.appendText(E.data,E.getAttributes(),l):s.append(s.cloneElement(E,!0),l);if(_!=u){const E=u._getTransformedByMove(_.start,s.createPositionAt(l,0),A)[0],I=s.createRange(s.createPositionAt(l,0),E.start);Ly(s.createRange(E.end,s.createPositionAt(l,"end")),s),Ly(I,s)}return l})}(this,e)}hasContent(e,t={}){const r=e instanceof ne?e:ne._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:l=!1}=t;if(!l){for(const u of this.markers.getMarkersIntersectingRange(r))if(u.affectsData)return!0}for(const u of r.getItems())if(this.schema.isContent(u)&&(!u.is("$textProxy")||!s||u.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Vm(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,r){return new ce(e,t,r)}createPositionAt(e,t){return ce._createAt(e,t)}createPositionAfter(e){return ce._createAfter(e)}createPositionBefore(e){return ce._createBefore(e)}createRange(e,t){return new ne(e,t)}createRangeIn(e){return ne._createIn(e)}createRangeOn(e){return ne._createOn(e)}createSelection(...e){return new Ii(...e)}createBatch(e){return new rc(e)}createOperationFromJSON(e){return cN.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new _N(this,t);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Vm(a,e){if(a)return a instanceof Ii||a instanceof _r?a:a instanceof ea?e||e===0?new Ii(a,e):a.is("rootElement")?new Ii(a,"in"):new Ii(a,"on"):new Ii(a)}class NN extends Xs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Hh extends Xs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class ra{constructor(e){this.document=e}createDocumentFragment(e){return new Js(this.document,e)}createElement(e,t,r){return new Di(this.document,e,t,r)}createText(e){return new gt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,r){return r._insertChild(e,t)}removeChildren(e,t,r){return r._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const r=e.parent;if(r){const s=r.getChildIndex(e);return this.removeChildren(s,1,r),this.insertChild(s,t,r),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const r=t.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),t)}}rename(e,t){const r=new Di(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,r)?r:null}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){qt(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return me._createAt(e,t)}createPositionAfter(e){return me._createAfter(e)}createPositionBefore(e){return me._createBefore(e)}createRange(e,t){return new Ie(e,t)}createRangeOn(e){return Ie._createOn(e)}createRangeIn(e){return Ie._createIn(e)}createSelection(...e){return new br(...e)}}class ON{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const r=this.get(e);if(!r)throw new S("commandcollection-command-not-found",this,{commandName:e});return r.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class PN extends kr{constructor(e){super(),this.editor=e}set(e,t,r={}){if(typeof t=="string"){const s=t;t=(l,u)=>{this.editor.execute(s),u()}}super.set(e,t,r)}}class BN extends Me(){constructor(e={}){super();const t=this.constructor,r=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new Kv({language:r}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Yn(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new Yv(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new ON,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new MN,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const l=new B3;this.data=new sN(this.model,l),this.editing=new UM(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new aN([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new PN(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new S("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new S("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new S("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),r=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],l=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),r,l)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(r){S.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Wh(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=Wh(Object);Wh.setData=a.prototype.setData,Wh.getData=a.prototype.getData}function Um(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new S("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;mr(this.sourceElement,t||r?e:"")}}}Um.updateSourceElement=Um(Object).prototype.updateSourceElement;class jy extends Zv{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ki({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new S("pendingactions-add-invalid-message",this);const t=new(Me());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ue={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class Ry{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r="error"in t?t.error:t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(r=>r!==t)}_fire(e,...t){const r=this._listeners[e]||[];for(const s of r)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Hm(a,e=new Set){const t=[a],r=new Set;let s=0;for(;t.length>s;){const l=t[s++];if(!r.has(l)&&LN(l)&&!e.has(l))if(r.add(l),Symbol.iterator in l)try{for(const u of l)t.push(u)}catch{}else for(const u in l)u!=="defaultValue"&&t.push(l[u])}return r}function LN(a){const e=Object.prototype.toString.call(a),t=typeof a;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function Fy(a,e,t=new Set){if(a===e&&typeof(r=a)=="object"&&r!==null)return!0;var r;const s=Hm(a,t),l=Hm(e,t);for(const u of s)if(l.has(u))return!0;return!1}const fd=function(a,e,t){var r=!0,s=!0;if(typeof a!="function")throw new TypeError("Expected a function");return ge(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),id(a,e,{leading:r,maxWait:e,trailing:s})};class $y extends Ry{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=fd(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(r,s)=>e.create(r,s)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],r=this._config.rootsAttributes||{},s={};for(const[u,p]of Object.entries(this._data.roots))p.isLoaded?(e[u]="",s[u]=r[u]||{}):t.push(u);const l={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete l.initialData,l.extraPlugins.push(zN),this._initUsingData?this.create(e,l,l.context):Ne(this._elementOrData)?this.create(this._elementOrData,l,l.context):this.create(this._editables,l,l.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:r}=e,s=r.has("CommentsRepository")&&r.get("CommentsRepository"),l=r.has("TrackChanges")&&r.get("TrackChanges"),u={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(p=>{u.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of e.model.markers)p._affectsData&&(u.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return s&&(u.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),l&&(u.suggestions=JSON.stringify(l.getSuggestions({toJSON:!0,skipNotAttached:!0}))),u}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(t);r&&(e[t]=r)}return e}_isErrorComingFromThisItem(e){return Fy(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return ze(e,(t,r)=>Ne(t)||r==="context"?t:void 0)}}class zN{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const r=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)r._appendChild(this._createNode(e,s));return r}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([r,{content:s,attributes:l}])=>{const u=JSON.parse(s),p=JSON.parse(l),g=t.model.document.getRoot(r);for(const[v,_]of p)e.setAttribute(v,_,g);for(const v of u){const _=this._createNode(e,v);e.insert(_,g,"end")}}),Object.entries(this._data.markers).forEach(([r,s])=>{const{document:l}=t.model,{rangeJSON:{start:u,end:p},...g}=s,v=l.getRoot(u.root),_=e.createPositionFromPath(v,u.path,u.stickiness),A=e.createPositionFromPath(v,p.path,p.stickiness),E=e.createRange(_,A);e.addMarker(r,{range:E,...g})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(r=>{const s=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(r.threadId)&&l.getCommentThread(r.threadId).remove(),l.addCommentThread({channelId:s,...r})}),t.forEach(r=>{const s=this.editor.plugins.get("TrackChangesEditing");s.hasSuggestion(r.id)?s.getSuggestion(r.id).attributes=r.attributes:s.addSuggestionData(r)})}}const pd=Symbol("MainQueueId");class jN{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const r=e===pd;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(pd),this._queues.get(e)])).then(t),l=s.catch(()=>{});return this._queues.set(e,l),s.finally(()=>{this._activeActions--,this._queues.get(e)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(u=>u())})}}function Vy(a){return Array.isArray(a)?a:[a]}function Wm({emitter:a,activator:e,callback:t,contextElements:r}){a.listenTo(document,"mousedown",(s,l)=>{if(!e())return;const u=typeof l.composedPath=="function"?l.composedPath():[],p=typeof r=="function"?r():r;for(const g of p)if(g.contains(l.target)||u.includes(g))return;t()})}function qm(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function qh({view:a}){a.listenTo(a.element,"submit",(e,t)=>{t.preventDefault(),a.fire("submit")},{useCapture:!0})}class Hr extends Ki{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,r,s)=>{this._renderViewIntoCollectionParent(r,s)}),this.on("remove",(t,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new S("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const r of this)for(const s of e)r.delegate(s).to(t);this.on("add",(r,s)=>{for(const l of e)s.delegate(l).to(t)}),this.on("remove",(r,s)=>{for(const l of e)s.stopDelegating(l,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}var Uy=o(5167),RN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Uy.Z,RN),Uy.Z.locals;class Be extends ft(Me()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ki,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Wr.bind(this,this)}createCollection(e){const t=new Hr(e);return this._viewCollections.add(t),t}registerChild(e){Mt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Mt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Wr(e)}extendTemplate(e){Wr.extend(this.template,e)}render(){if(this.isRendered)throw new S("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Wr extends q(){constructor(e){super(),Object.assign(this,Gy(qy(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new S("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const r of t.children)Yh(r)?yield r:Gm(r)&&(yield*e(r))}(this)}static bind(e,t){return{to:(r,s)=>new FN({eventNameOrFunction:r,attribute:r,observable:e,emitter:t,callback:s}),if:(r,s,l)=>new Hy({observable:e,emitter:t,attribute:r,valueIfTrue:s,callback:l})}}static extend(e,t){if(e._isRendered)throw new S("template-extend-render",[this,e]);Qy(e,Gy(qy(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new S("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Gh(this.text)?this._bindToObservable({schema:this.text,updater:$N(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,r=e.revertData;for(const s in this.attributes){const l=t.getAttribute(s),u=this.attributes[s];r&&(r.attributes[s]=l);const p=Jy(u)?u[0].ns:null;if(Gh(u)){const g=Jy(u)?u[0].value:u;r&&Xy(s)&&g.unshift(l),this._bindToObservable({schema:g,updater:VN(t,s,p),data:e})}else if(s=="style"&&typeof u[0]!="string")this._renderStyleAttribute(u[0],e);else{r&&l&&Xy(s)&&u.unshift(l);const g=u.map(v=>v&&v.value||v).reduce((v,_)=>v.concat(_),[]).reduce(Ky,"");sc(g)||t.setAttributeNS(p,s,g)}}}_renderStyleAttribute(e,t){const r=t.node;for(const s in e){const l=e[s];Gh(l)?this._bindToObservable({schema:[l],updater:UN(r,s),data:t}):r.style[s]=l}}_renderElementChildren(e){const t=e.node,r=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let l=0;for(const u of this.children)if(Ym(u)){if(!s){u.setParent(t);for(const p of u)r.appendChild(p.element)}}else if(Yh(u))s||(u.isRendered||u.render(),r.appendChild(u.element));else if(kn(u))r.appendChild(u);else if(s){const p={children:[],bindings:[],attributes:{}};e.revertData.children.push(p),u._renderNode({intoFragment:!1,node:r.childNodes[l++],isApplying:!0,revertData:p})}else r.appendChild(u.render());e.intoFragment&&t.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const r=this.eventListeners[t].map(s=>{const[l,u]=t.split("@");return s.activateDomEventListener(l,u,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:t,data:r}){const s=r.revertData;Wy(e,t,r);const l=e.filter(u=>!sc(u)).filter(u=>u.observable).map(u=>u.activateAttributeListener(e,t,r));s&&s.bindings.push(l)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const l of s)l();if(t.text)return void(e.textContent=t.text);const r=e;for(const s in t.attributes){const l=t.attributes[s];l===null?r.removeAttribute(s):r.setAttribute(s,l)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(r.childNodes[s],t.children[s])}}class gd{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,r){const s=()=>Wy(e,t,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class FN extends gd{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,r){const s=(l,u)=>{t&&!u.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(u):this.observable.fire(this.eventNameOrFunction,u))};return this.emitter.listenTo(r.node,e,s),()=>{this.emitter.stopListening(r.node,e,s)}}}class Hy extends gd{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!sc(super.getValue(e))&&(this.valueIfTrue||!0)}}function Gh(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Gh):a instanceof gd)}function Wy(a,e,{node:t}){const r=function(l,u){return l.map(p=>p instanceof gd?p.getValue(u):p)}(a,t);let s;s=a.length==1&&a[0]instanceof Hy?r[0]:r.reduce(Ky,""),sc(s)?e.remove():e.set(s)}function $N(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function VN(a,e,t){return{set(r){a.setAttributeNS(t,e,r)},remove(){a.removeAttributeNS(t,e)}}}function UN(a,e){return{set(t){a.style[e]=t},remove(){a.style[e]=null}}}function qy(a){return ze(a,e=>{if(e&&(e instanceof gd||Gm(e)||Yh(e)||Ym(e)))return e})}function Gy(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=vn(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const t in e)Yy(e,t);return e}(a.on),delete a.on),!a.text){a.attributes&&function(t){for(const r in t)t[r].value&&(t[r].value=vn(t[r].value)),Yy(t,r)}(a.attributes);const e=[];if(a.children)if(Ym(a.children))e.push(a.children);else for(const t of a.children)Gm(t)||Yh(t)||kn(t)?e.push(t):e.push(new Wr(t));a.children=e}return a}function Yy(a,e){a[e]=vn(a[e])}function Ky(a,e){return sc(e)?a:sc(a)?e:`${a} ${e}`}function Zy(a,e){for(const t in e)a[t]?a[t].push(...e[t]):a[t]=e[t]}function Qy(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),Zy(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),Zy(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new S("ui-template-extend-children-mismatch",a);let t=0;for(const r of e.children)Qy(a.children[t++],r)}}function sc(a){return!a&&a!==0}function Yh(a){return a instanceof Be}function Gm(a){return a instanceof Wr}function Ym(a){return a instanceof Hr}function Jy(a){return ge(a[0])&&a[0].ns}function Xy(a){return a=="class"||a=="style"}class HN extends Hr{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Wr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=qi(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var eA=o(1977),WN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(eA.Z,WN),eA.Z.locals;class bo extends Be{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:r,value:s}of Array.from(e.attributes))bo.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}bo.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class qN extends Be{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var tA=o(4971),GN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(tA.Z,GN),tA.Z.locals;class ot extends Be{constructor(e,t=new qN){super(e),this._focusDelayed=null;const r=this.bindTemplate,s=T();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new bo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",u=>!u),r.if("isVisible","ck-hidden",u=>!u),r.to("isOn",u=>u?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",u=>u||"button"),tabindex:r.to("tabindex"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,u=>!u),"aria-checked":r.to("isOn"),"aria-pressed":r.to("isOn",u=>!!this.isToggleable&&String(!!u)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(u=>{this.isEnabled?this.fire("execute"):u.preventDefault()})}};f.isSafari&&(this._focusDelayed||(this._focusDelayed=cm(()=>this.focus(),0)),l.on.mousedown=r.to(()=>{this._focusDelayed()}),l.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Be;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>$v(t))}]}),e}_getTooltipString(e,t,r){return e?typeof e=="string"?e:(r&&(r=$v(r)),e instanceof Function?e(t,r):`${t}${r?` (${r})`:""}`):""}}var nA=o(7258),YN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(nA.Z,YN),nA.Z.locals;class Km extends ot{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Be;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var iA=o(4923),KN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(iA.Z,KN),iA.Z.locals,o(8874),o(2085);var rA=o(3525),ZN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(rA.Z,ZN),rA.Z.locals;class QN extends Be{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${T()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var oA=o(2933),JN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(oA.Z,JN),oA.Z.locals;class md extends Be{constructor(e,t){super(e);const r=`ck-labeled-field-view-${T()}`,s=`ck-labeled-field-view-status-${T()}`;this.fieldView=t(this,r,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(u,p)=>u||p);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",u=>!u),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new QN(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Be(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",s=>!s)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class XN extends Be{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new di,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var sA=o(2470),eO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(sA.Z,eO),sA.Z.locals;class tO extends XN{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class nO extends tO{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var aA=o(5224),iO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(aA.Z,iO),aA.Z.locals;class rO extends Be{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",r=>`ck-dropdown__panel_${r}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():F("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var cA=o(5062),oO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(cA.Z,oO),cA.Z.locals;class ac extends Be{constructor(e,t,r){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new kr,this.focusTracker=new di,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,r,s)=>{if(s)if(this.panelPosition==="auto"){const l=ac._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:r,southWest:s,northEast:l,northWest:u,southMiddleEast:p,southMiddleWest:g,northMiddleEast:v,northMiddleWest:_}=ac.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,s,p,g,e,l,u,v,_,t]:[s,r,g,p,e,u,l,_,v,t]}}ac.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},ac._getOptimalPosition=At;const lA='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class dA extends ot{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new bo;return e.content=lA,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class wo extends q(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let r=e.actions[t];typeof r=="string"&&(r=[r]);for(const s of r)e.keystrokeHandler.set(s,(l,u)=>{this[t](),u()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Zm)||null}get last(){return this.focusables.filter(Zm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,r)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=r),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,r=this.focusables.length;if(!r)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+r+e)%r;do{const l=this.focusables.get(s);if(Zm(l))return l;s=(s+r+e)%r}while(s!==t);return null}}function Zm(a){return!(!("focus"in a)||!Kt(a.element))}class uA extends Be{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class sO extends Be{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function hA(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}var fA=o(4768),aO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(fA.Z,aO),fA.Z.locals;const{threeVerticalDots:pA}=Ue,cO={alignLeft:Ue.alignLeft,bold:Ue.bold,importExport:Ue.importExport,paragraph:Ue.paragraph,plus:Ue.plus,text:Ue.text,threeVerticalDots:Ue.threeVerticalDots,pilcrow:Ue.pilcrow,dragIndicator:Ue.dragIndicator};class Qm extends Be{constructor(e,t){super(e);const r=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new di,this.keystrokes=new kr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new lO(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l=e.uiLanguageDirection==="rtl";this._focusCycler=new wo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const u=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];var p;this.options.shouldGroupWhenFull&&this.options.isFloating&&u.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:u,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(p=this,p.bindTemplate.to(g=>{g.target===p.element&&g.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new uO(this):new dO(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,r){this.items.addMany(this._buildItemsFromConfig(e,t,r))}_buildItemsFromConfig(e,t,r){const s=hA(e),l=r||s.removeItems;return this._cleanItemsConfiguration(s.items,t,l).map(u=>ge(u)?this._createNestedToolbarDropdown(u,t,l):u==="|"?new uA:u==="-"?new sO:t.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,t,r){const s=e.filter((l,u,p)=>l==="|"||r.indexOf(l)===-1&&(l==="-"?!this.options.shouldGroupWhenFull||(F("toolbarview-line-break-ignored-when-grouping-items",p),!1):!(!ge(l)&&!t.has(l))||(F("toolbarview-item-unavailable",{item:l}),!1)));return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=u=>u!=="-"&&u!=="|",r=e.length,s=e.findIndex(t);if(s===-1)return[];const l=r-e.slice().reverse().findIndex(t);return e.slice(s,l).filter((u,p,g)=>t(u)?!0:!(p>0&&g[p-1]===u))}_createNestedToolbarDropdown(e,t,r){let{label:s,icon:l,items:u,tooltip:p=!0,withText:g=!1}=e;if(u=this._cleanItemsConfiguration(u,t,r),!u.length)return null;const v=es(this.locale);return s||F("toolbarview-nested-toolbar-dropdown-missing-label",e),v.class="ck-toolbar__nested-toolbar-dropdown",v.buttonView.set({label:s,tooltip:p,withText:!!g}),l!==!1?v.buttonView.icon=cO[l]||l||pA:v.buttonView.withText=!0,Zh(v,()=>v.toolbarView._buildItemsFromConfig(u,t,r)),v}}class lO extends Be{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class dO{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>r),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class uO{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,r)=>{const s=r.index,l=Array.from(r.added);for(const u of r.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=s;u<s+l.length;u++){const p=l[u-s];u>this.ungroupedItems.length?this.groupedItems.add(p,u-this.ungroupedItems.length):this.ungroupedItems.add(p,u)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Kt(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,r=new Re(e.lastChild),s=new Re(e);if(!this.cachedPadding){const l=Ae.window.getComputedStyle(e),u=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(l[u])}return t==="ltr"?r.right>s.right-this.cachedPadding:r.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ve(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new uA),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,r=es(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Zh(r,this.groupedItems),r.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:pA}),r}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Kh extends Be{constructor(e){super(e);const t=this.bindTemplate,r=`ck-editor__label_${T()}`,s=new mA(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(r),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:r}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}_createLabel(e){const t=new Be(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:r.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var gA=o(179),hO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(gA.Z,hO),gA.Z.locals;class mA extends Be{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Hr,this.items=this.createCollection(),this.focusTracker=new di,this.keystrokes=new kr,this._focusCycler=new wo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Kh?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const r of t.removed)r instanceof Kh?this._deregisterFocusableItemsGroup(r):this._deregisterFocusableListItem(r);for(const r of Array.from(t.added).reverse())r instanceof Kh?this._registerFocusableItemsGroup(r,t.index):this._registerFocusableListItem(r,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,r)=>{for(const s of r.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(r.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,l)=>{const u=t!==void 0?t+l:void 0;this._registerFocusableListItem(s,u)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class kA extends Be{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class fO extends Be{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var bA=o(4791),pO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(bA.Z,pO),bA.Z.locals;class Jm extends Be{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new kr,this.focusTracker=new di,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new ot;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new ot,t=e.bindTemplate;return e.icon=lA,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var wA=o(2704),gO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(wA.Z,gO),wA.Z.locals;var vA=o(1883),mO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(vA.Z,mO),vA.Z.locals;function es(a,e=dA){const t=new e(a),r=new rO(a),s=new ac(a,t,r);return t.bind("isEnabled").to(s),t instanceof Jm?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),function(l){(function(u){u.on("render",()=>{Wm({emitter:u,activator:()=>u.isOpen,callback:()=>{u.isOpen=!1},contextElements:()=>[u.element,...u.focusTracker._elements]})})})(l),function(u){u.on("execute",p=>{p.source instanceof Km||(u.isOpen=!1)})}(l),function(u){u.focusTracker.on("change:isFocused",(p,g,v)=>{u.isOpen&&!v&&(u.isOpen=!1)})}(l),function(u){u.keystrokes.set("arrowdown",(p,g)=>{u.isOpen&&(u.panelView.focus(),g())}),u.keystrokes.set("arrowup",(p,g)=>{u.isOpen&&(u.panelView.focusLast(),g())})}(l),function(u){u.on("change:isOpen",(p,g,v)=>{if(v)return;const _=u.panelView.element;_&&_.contains(Ae.document.activeElement)&&u.buttonView.focus()})}(l),function(u){u.on("change:isOpen",(p,g,v)=>{v&&u.panelView.focus()},{priority:"low"})}(l)}(s),s}function Zh(a,e,t={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?_A(a,e,t):a.once("change:isOpen",()=>_A(a,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&CA(a,()=>a.toolbarView.items.find(r=>r.isOn))}function _A(a,e,t){const r=a.locale,s=r.t,l=a.toolbarView=new Qm(r),u=typeof e=="function"?e():e;l.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(l.maxWidth=t.maxWidth),t.class&&(l.class=t.class),t.isCompact&&(l.isCompact=t.isCompact),t.isVertical&&(l.isVertical=!0),u instanceof Hr?l.items.bindTo(u).using(p=>p):l.items.addMany(u),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function yA(a,e,t={}){a.isOpen?AA(a,e,t):a.once("change:isOpen",()=>AA(a,e,t),{priority:"highest"}),CA(a,()=>a.listView.items.find(r=>r instanceof kA&&r.children.first.isOn))}function AA(a,e,t){const r=a.locale,s=a.listView=new mA(r),l=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,xA(a,s.items,l,r),a.panelView.children.add(s),s.items.delegate("execute").to(a)}function CA(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():F("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:z.low-10})}function xA(a,e,t,r){e.bindTo(t).using(s=>{if(s.type==="separator")return new fO(r);if(s.type==="group"){const l=new Kh(r);return l.set({label:s.label}),xA(a,l.items,s.items,r),l.items.delegate("execute").to(a),l}if(s.type==="button"||s.type==="switchbutton"){const l=new kA(r);let u;return u=s.type==="button"?new ot(r):new Km(r),u.bind(...Object.keys(s.model)).to(s.model),u.delegate("execute").to(l),l.children.add(u),l}return null})}const kd=(a,e,t)=>{const r=new nO(a.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isReadOnly").to(a,"isEnabled",s=>!s),r.bind("hasError").to(a,"errorText",s=>!!s),r.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(r),r},bd=(a,e=0,t=1)=>a>t?t:a<e?e:a,Mn=(a,e=0,t=Math.pow(10,e))=>Math.round(t*a)/t,Xm=a=>(a[0]==="#"&&(a=a.substring(1)),a.length<6?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?Mn(parseInt(a[3]+a[3],16)/255,2):1}:{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16),a:a.length===8?Mn(parseInt(a.substring(6,8),16)/255,2):1}),kO=({h:a,s:e,v:t,a:r})=>{const s=(200-e)*t/100;return{h:Mn(a),s:Mn(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:Mn(s/2),a:Mn(r,2)}},e0=a=>{const{h:e,s:t,l:r}=kO(a);return`hsl(${e}, ${t}%, ${r}%)`},bO=({h:a,s:e,v:t,a:r})=>{a=a/360*6,e/=100,t/=100;const s=Math.floor(a),l=t*(1-e),u=t*(1-(a-s)*e),p=t*(1-(1-a+s)*e),g=s%6;return{r:Mn(255*[t,u,l,l,p,t][g]),g:Mn(255*[p,t,t,u,l,l][g]),b:Mn(255*[l,l,p,t,t,u][g]),a:Mn(r,2)}},Qh=a=>{const e=a.toString(16);return e.length<2?"0"+e:e},wO=({r:a,g:e,b:t,a:r})=>{const s=r<1?Qh(Mn(255*r)):"";return"#"+Qh(a)+Qh(e)+Qh(t)+s},vO=({r:a,g:e,b:t,a:r})=>{const s=Math.max(a,e,t),l=s-Math.min(a,e,t),u=l?s===a?(e-t)/l:s===e?2+(t-a)/l:4+(a-e)/l:0;return{h:Mn(60*(u<0?u+6:u)),s:Mn(s?l/s*100:0),v:Mn(s/255*100),a:r}},EA=(a,e)=>{if(a===e)return!0;for(const t in a)if(a[t]!==e[t])return!1;return!0},SA={},DA=a=>{let e=SA[a];return e||(e=document.createElement("template"),e.innerHTML=a,SA[a]=e),e},t0=(a,e,t)=>{a.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let cc=!1;const n0=a=>"touches"in a,TA=(a,e)=>{const t=n0(e)?e.touches[0]:e,r=a.el.getBoundingClientRect();t0(a.el,"move",a.getMove({x:bd((t.pageX-(r.left+window.pageXOffset))/r.width),y:bd((t.pageY-(r.top+window.pageYOffset))/r.height)}))};class IA{constructor(e,t,r,s){const l=DA(`<div role="slider" tabindex="0" part="${t}" ${r}><div part="${t}-pointer"></div></div>`);e.appendChild(l.content.cloneNode(!0));const u=e.querySelector(`[part=${t}]`);u.addEventListener("mousedown",this),u.addEventListener("touchstart",this),u.addEventListener("keydown",this),this.el=u,this.xy=s,this.nodes=[u.firstChild,u]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(cc?"touchmove":"mousemove",this),t(cc?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(t=>!(cc&&!n0(t)||(cc||(cc=n0(t)),0)))(e)||!cc&&e.button!=0)return;this.el.focus(),TA(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),TA(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,r)=>{const s=r.keyCode;s>40||t.xy&&s<37||s<33||(r.preventDefault(),t0(t.el,"move",t.getMove({x:s===39?.01:s===37?-.01:s===34?.05:s===33?-.05:s===35?1:s===36?-1:0,y:s===40?.01:s===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((t,r)=>{for(const s in t)this.nodes[r].style.setProperty(s,t[s])})}}class _O extends IA{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:e0({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Mn(e)}`)}getMove(e,t){return{h:t?bd(this.h+360*e.x,0,360):360*e.x}}}class yO extends IA{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:e0(e)},{"background-color":e0({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Mn(e.s)}%, Brightness ${Mn(e.v)}%`)}getMove(e,t){return{s:t?bd(this.hsva.s+100*e.x,0,100):100*e.x,v:t?bd(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const Jh=Symbol("same"),i0=Symbol("color"),MA=Symbol("hsva"),r0=Symbol("update"),NA=Symbol("parts"),OA=Symbol("css"),PA=Symbol("sliders");class AO extends HTMLElement{static get observedAttributes(){return["color"]}get[OA](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[PA](){return[yO,_O]}get color(){return this[i0]}set color(e){if(!this[Jh](e)){const t=this.colorModel.toHsva(e);this[r0](t),this[i0]=e}}constructor(){super();const e=DA(`<style>${this[OA].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[NA]=this[PA].map(r=>new r(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,r){const s=this.colorModel.fromAttr(r);this[Jh](s)||(this.color=s)}handleEvent(e){const t=this[MA],r={...t,...e.detail};let s;this[r0](r),EA(r,t)||this[Jh](s=this.colorModel.fromHsva(r))||(this[i0]=s,t0(this,"color-changed",{value:s}))}[Jh](e){return this.color&&this.colorModel.equal(e,this.color)}[r0](e){this[MA]=e,this[NA].forEach(t=>t.update(e))}}const CO={defaultColor:"#000",toHsva:a=>vO(Xm(a)),fromHsva:({h:a,s:e,v:t})=>wO(bO({h:a,s:e,v:t,a:1})),equal:(a,e)=>a.toLowerCase()===e.toLowerCase()||EA(Xm(a),Xm(e)),fromAttr:a=>a};class xO extends AO{get colorModel(){return CO}}customElements.define("hex-color-picker",class extends xO{});var BA=o(4257),EO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(BA.Z,EO),BA.Z.locals;var LA=o(6306),SO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(LA.Z,SO),LA.Z.locals;class DO{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(o0(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new S("componentfactory-item-missing",this,{name:e});return this._components.get(o0(e)).callback(this.editor.locale)}has(e){return this._components.has(o0(e))}}function o0(a){return String(a).toLowerCase()}var zA=o(4460),TO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(zA.Z,TO),zA.Z.locals;const jA=Rn("px"),RA=Ae.document.body,IO={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Nn extends Be{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",jA),left:t.to("left",jA)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Nn.defaultPositions,r=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:RA,fitInViewport:!0},e),s=Nn._getOptimalPosition(r)||IO,l=parseInt(s.left),u=parseInt(s.top),p=s.name,g=s.config||{},{withArrow:v=!0}=g;this.top=u,this.left=l,this.position=p,this.withArrow=v}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=s0(e.target),r=e.limiter?s0(e.limiter):RA;this.listenTo(Ae.document,"scroll",(s,l)=>{const u=l.target,p=t&&u.contains(t),g=r&&u.contains(r);!p&&!g&&t&&r||this.attachTo(e)},{useCapture:!0}),this.listenTo(Ae.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Ae.document,"scroll"),this.stopListening(Ae.window,"resize")}}function s0(a){return Ne(a)?a:Ja(a)?a.commonAncestorContainer:typeof a=="function"?s0(a()):null}function FA(a={}){const{sideOffset:e=Nn.arrowSideOffset,heightOffset:t=Nn.arrowHeightOffset,stickyVerticalOffset:r=Nn.stickyVerticalOffset,config:s}=a;return{northWestArrowSouthWest:(p,g)=>({top:l(p,g),left:p.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.left-.25*g.width-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(p,g)=>({top:l(p,g),left:p.left-g.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.left-.75*g.width+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(p,g)=>({top:l(p,g),left:p.left-g.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(p,g)=>({top:l(p,g),left:p.left+p.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.left+p.width/2-.25*g.width-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.left+p.width/2-.75*g.width+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(p,g)=>({top:l(p,g),left:p.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.right-.25*g.width-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(p,g)=>({top:l(p,g),left:p.right-g.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.right-.75*g.width+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(p,g)=>({top:l(p,g),left:p.right-g.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:p=>({top:u(p),left:p.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(p,g)=>({top:u(p),left:p.left-.25*g.width-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(p,g)=>({top:u(p),left:p.left-g.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(p,g)=>({top:u(p),left:p.left-.75*g.width+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(p,g)=>({top:u(p),left:p.left-g.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:p=>({top:u(p),left:p.left+p.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(p,g)=>({top:u(p),left:p.left+p.width/2-.25*g.width-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(p,g)=>({top:u(p),left:p.left+p.width/2-g.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(p,g)=>({top:u(p),left:p.left+p.width/2-.75*g.width+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(p,g)=>({top:u(p),left:p.left+p.width/2-g.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:p=>({top:u(p),left:p.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(p,g)=>({top:u(p),left:p.right-.25*g.width-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(p,g)=>({top:u(p),left:p.right-g.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(p,g)=>({top:u(p),left:p.right-.75*g.width+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(p,g)=>({top:u(p),left:p.right-g.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(p,g)=>({top:p.top+p.height/2-g.height/2,left:p.left-g.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(p,g)=>({top:p.top+p.height/2-g.height/2,left:p.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(p,g,v,_)=>{const A=_||v;return p.getIntersection(A)?A.height-p.height>r?null:{top:A.top+r,left:p.left+p.width/2-g.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null}};function l(p,g){return p.top-g.height-t}function u(p){return p.bottom+t}}Nn.arrowSideOffset=25,Nn.arrowHeightOffset=10,Nn.stickyVerticalOffset=20,Nn._getOptimalPosition=At,Nn.defaultPositions=FA();var $A=o(3888),MO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()($A.Z,MO),$A.Z.locals;const VA="ck-tooltip";class An extends ft(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,An._editors.add(e),An._instance)return An._instance;An._instance=this,this.tooltipTextView=new Be(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Nn(e.locale),this.balloonPanelView.class=VA,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=id(this._pinTooltip,600),this.listenTo(Ae.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;An._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),An._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),An._instance=null)}static getPositioningFunctions(e){const t=An.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const r=a0(t);var s;r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,{text:(s=r).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:t,relatedTarget:r}){if(e.name==="mouseleave"){if(!Ne(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=a0(t),l=a0(r);s&&s!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:r,cssClass:s}){const l=_n(An._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:An.getPositioningFunctions(r)}),this._resizeObserver=new Ve(e,()=>{Kt(e)||this._unpinTooltip()}),this.balloonPanelView.class=[VA,s].filter(u=>u).join(" ");for(const u of An._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of An._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Kt(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:An.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function a0(a){return Ne(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}An.defaultBalloonPositions=FA({heightOffset:5,sideOffset:13}),An._editors=new Set,An._instance=null;const NO=50,OO=350,PO="Powered by";class BO extends ft(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=fd(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function r(I){return I.length>=40&&I.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let s="";try{s=atob(t)}catch{return"INVALID"}const l=s.split("-"),u=l[0],p=l[1];if(!p)return r(t);try{atob(p)}catch{try{if(atob(u),!atob(u).length)return r(t)}catch{return r(t)}}if(u.length<40||u.length>255)return"INVALID";let g="";try{atob(u),g=atob(p)}catch{return"INVALID"}if(g.length!==8)return"INVALID";const v=Number(g.substring(0,4)),_=Number(g.substring(4,6))-1,A=Number(g.substring(6,8)),E=new Date(v,_,A);return E<ee||isNaN(Number(E))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,r,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,r,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Nn,r=HA(e),s=new LO(e.locale,r.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,r){const s=HA(t),l=s.side==="right"?function(u,p){return UA(u,p,(g,v)=>g.left+g.width-v.width-p.horizontalOffset)}(r,s):function(u,p){return UA(u,p,g=>g.left+p.horizontalOffset)}(r,s);return{target:r,positions:[l]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!t||!r)return void(this._lastFocusedEditableElement=null);const s=Array.from(e.ui.getEditableElementsNames()).map(l=>e.ui.getEditableElement(l));s.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=s[0]}}class LO extends Be{constructor(e,t){super(e);const r=new bo,s=this.bindTemplate;r.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],r],on:{dragstart:s.to(l=>l.preventDefault())}}]})}}function UA(a,e,t){return(r,s)=>{const l=new Re(a);if(l.width<OO||l.height<NO)return null;let u;u=e.position==="inside"?l.bottom-s.height:l.bottom-s.height/2,u-=e.verticalOffset;const p=t(l,s),g=r.clone().moveTo(p,u).getIntersection(s.clone().moveTo(p,u)).getVisible();return!g||g.getArea()<s.getArea()?null:{top:u,left:p,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function HA(a){const e=a.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:PO,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class zO extends Me(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new DO(e),this.focusTracker=new di,this.tooltipManager=new An(e),this.poweredBy=new BO(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let r,s;e.keystrokes.set("Alt+F10",(l,u)=>{const p=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(p)&&!Array.from(t.domRoots.values()).includes(p)&&(r=p);const g=this._getCurrentFocusedToolbarDefinition();g&&s||(s=this._getFocusableCandidateToolbarDefinitions());for(let v=0;v<s.length;v++){const _=s.shift();if(s.push(_),_!==g&&this._focusFocusableCandidateToolbar(_)){g&&g.options.afterBlur&&g.options.afterBlur();break}}u()}),e.keystrokes.set("Esc",(l,u)=>{const p=this._getCurrentFocusedToolbarDefinition();p&&(r?(r.focus(),r=null):e.editing.view.focus(),p.options.afterBlur&&p.options.afterBlur(),u())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:r,options:s}=t;(Kt(r.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,r)=>WA(t)-WA(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:r}}=e;return r&&r(),!!Kt(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=r.top,t.viewportOffset.bottom+=r.bottom,t.viewportOffset.left+=r.left,t.viewportOffset.right+=r.right}}function WA(a){const{toolbarView:e,options:t}=a;let r=10;return Kt(e.element)&&r--,t.isContextual&&r--,r}var qA=o(9847),jO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(qA.Z,jO),qA.Z.locals;class RO extends Be{constructor(e){super(e),this.body=new HN(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class FO extends Be{constructor(e,t,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(r){e.change(s=>{const l=e.document.getRoot(r.name);s.addClass(r.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(r.isFocused?"ck-blurred":"ck-focused",l)})}e.isRenderingInProgress?function r(s){e.once("change:isRenderingInProgress",(l,u,p)=>{p?r(s):t(s)})}(this):t(this)}}class $O extends FO{constructor(e,t,r,s={}){super(e,t,r);const l=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const r=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),r)})}}var GA=o(1874),VO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(GA.Z,VO),GA.Z.locals;class YA extends Zv{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class KA extends Me(){constructor(e,t){super(),t&&M_(this,t),e&&this.set(e)}}var ZA=o(7592),UO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ZA.Z,UO),ZA.Z.locals;var QA=o(6356),HO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(QA.Z,HO),QA.Z.locals;const Xh=Rn("px");class ef extends ue{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,r=t.document.selection.editableElement;return r?t.domConverter.mapViewToDom(r.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new S("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const r=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new S("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new S("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Nn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new WO(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,s)=>{if(s<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[l,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new qO(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,r)=>!r&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:r=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class WO extends Be{constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new di,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const r=new ot(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r}}class qO extends Be{constructor(e,t){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:r.to("top",Xh),left:r.to("left",Xh),width:r.to("width",Xh),height:r.to("height",Xh)}},children:this.content}),this.on("change:numberOfPanels",(s,l,u,p)=>{u>p?this._addPanels(u-p):this._removePanels(p-u),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Be;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:r,height:s}=new Re(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:r,height:s})}}}var JA=o(3707),GO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(JA.Z,GO),JA.Z.locals;class YO extends md{constructor(e,t){const r=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:kd},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new bo,this.iconView.content=Ue.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new ot(e),this.resetButtonView.set({label:r("Clear"),icon:Ue.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",l=>!l),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class KO extends Be{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class ZO extends Be{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new di,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new wo({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var XA=/[\\^$.*+?()[\]{}|]/g,QO=RegExp(XA.source);const eC=function(a){return(a=pm(a))&&QO.test(a)?a.replace(XA,"\\$&"):a};var tC=o(9332),JO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(tC.Z,JO),tC.Z.locals;class XO extends Be{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new di,this.keystrokes=new kr,this.resultsView=new ZO(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new KO,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new wo({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(r,{resultsCount:s,totalItemsCount:l})=>{this.resultsCount=s,this.totalItemsCount=l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(eC(e),"ig"):null,r=this.filteredView.filter(t);this.fire("search",{query:e,...r})}_createSearchTextQueryView(){const e=new YO(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function r(s,{query:l,resultsCount:u,totalItemsCount:p}){return typeof s=="function"?s(l,u,p):s}this.on("search",(s,l)=>{if(l.resultsCount)t.set({isVisible:!1});else{const u=this._config.infoView&&this._config.infoView.text;let p,g;l.totalItemsCount?u&&u.notFound?(p=u.notFound.primary,g=u.notFound.secondary):(p=e("No results found"),g=""):u&&u.noSearchableItems?(p=u.noSearchableItems.primary,g=u.noSearchableItems.secondary):(p=e("No searchable items"),g=""),t.set({primaryText:r(p,l),secondaryText:r(g,l),isVisible:!0})}})}}var nC=o(4029),eP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(nC.Z,eP),nC.Z.locals;class wd extends XO{constructor(e,t){super(e,t),this._config=t;const r=Rn("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",l=>!l),s.to("_position",l=>`ck-search__results_${l}`)],style:{width:s.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(l,u,p)=>{this._updateResultsVisibility(),p?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,u)=>{this.resultsView.isVisible=!1,u()}),this.listenTo(Ae.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:u})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=u,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Re(this.queryView.fieldView.element).width;const e=wd._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:wd.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=this._config.queryMinChars===void 0?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}wd.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,e)=>({top:a.top-e.height,left:a.left,name:"n"})],wd._getOptimalPosition=At;var iC=o(4746),tP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(iC.Z,tP),iC.Z.locals;var rC=o(6446),nP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(rC.Z,nP),rC.Z.locals;var oC=o(4176),iP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(oC.Z,iP),oC.Z.locals;class rP extends zO{constructor(e,t){super(e),this.view=t,this._toolbarConfig=hA(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,r=e.editing.view,s=t.editable,l=r.document.getRoot();s.name=l.rootName,t.render();const u=s.element;this.setEditableElement(s.name,u),s.bind("isFocused").to(this.focusTracker),r.attachDomRoot(u),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,r=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:l})=>l||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:r,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,r=t.document.getRoot(),s=e.config.get("placeholder");if(s){const l=typeof s=="string"?s:s[r.rootName];l&&(r.placeholder=l)}Xv({view:t,element:r,isDirectHost:!1,keepOnFocus:!0})}}const oP=Rn("px");class sP extends RO{constructor(e,t,r,s={}){super(e);const l=e.t;this.toolbar=new Qm(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new Nn(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new $O(e,t,r,{label:u=>l("Rich Text Editor. Editing area: %0",u.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const e=this.editable.element;this._resizeObserver=new Ve(e,()=>{this.toolbar.maxWidth=oP(new Re(e).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let r;return r=e.top>t.height+this.viewportTopOffset?e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?this.viewportTopOffset:e.bottom,r}_getPanelPositions(){const e=[(t,r)=>({top:this._getPanelPositionTop(t,r),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,r)=>({top:this._getPanelPositionTop(t,r),left:t.left+t.width-r.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class tf extends Wh(Um(BN)){constructor(e,t={}){if(!nf(e)&&t.initialData!==void 0)throw new S("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",function(l){return nf(l)?(u=l,u instanceof HTMLTextAreaElement?u.value:u.innerHTML):l;var u}(e)),this.model.document.createRoot(),nf(e)&&(this.sourceElement=e,function(l,u){if(u.ckeditorInstance)throw new S("editor-source-element-already-used",l);u.ckeditorInstance=l,l.once("destroy",()=>{delete u.ckeditorInstance})}(this,e));const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new sP(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:r});this.ui=new rP(this,s),function(l){if(!Ot(l.updateSourceElement))throw new S("attachtoform-missing-elementapi-interface",l);const u=l.sourceElement;if(function(p){return!!p&&p.tagName.toLowerCase()==="textarea"}(u)&&u.form){let p;const g=u.form,v=()=>l.updateSourceElement();Ot(g.submit)&&(p=g.submit,g.submit=()=>{v(),p.apply(g)}),g.addEventListener("submit",v),l.on("destroy",()=>{g.removeEventListener("submit",v),p&&(g.submit=p)})}}(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(r=>{if(nf(e)&&e.tagName==="TEXTAREA")throw new S("editor-wrong-element",null);const s=new this(e,t);r(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function nf(a){return Ne(a)}tf.Context=Kv,tf.EditorWatchdog=$y,tf.ContextWatchdog=class extends Ry{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new jN,this._watchdogConfig=e,this._creator=t=>a.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(pd,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=Vy(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return r=new $y(null,this._watchdogConfig),r.setCreator(t.creator),r._setExcludedProperties(this._contextProps),t.destructor&&r.setDestructor(t.destructor),this._watchdogs.set(t.id,r),r.on("error",(s,{error:l,causesRestart:u})=>{this._fire("itemError",{itemId:t.id,error:l}),u&&this._actionQueues.enqueue(t.id,()=>new Promise(p=>{const g=()=>{r.off("restart",g),this._fire("itemRestart",{itemId:t.id}),p()};r.on("restart",g)}))}),r.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(a){const e=Vy(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const r=this._getWatchdog(t);return this._watchdogs.delete(t),r.destroy()})))}destroy(){return this._actionQueues.enqueue(pd,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(pd,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=Hm(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return Fy(this._context,a.context)}};const c0=["left","right","center","justify"];function sC(a){return c0.includes(a)}function aC(a,e){return e.contentLanguageDirection=="rtl"?a==="right":a==="left"}function cC(a){const e=a.map(r=>{let s;return s=typeof r=="string"?{name:r}:r,s}).filter(r=>{const s=c0.includes(r.name);return s||F("alignment-config-name-not-recognized",{option:r}),s}),t=e.filter(r=>!!r.className).length;if(t&&t<e.length)throw new S("alignment-config-classnames-are-missing",{configuredOptions:a});return e.forEach((r,s,l)=>{const u=l.slice(s+1);if(u.some(p=>p.name==r.name))throw new S("alignment-config-name-already-defined",{option:r,configuredOptions:a});if(r.className&&u.some(p=>p.className==r.className))throw new S("alignment-config-classname-already-defined",{option:r,configuredOptions:a})}),e}const l0="alignment";class aP extends bt{refresh(){const e=this.editor.locale,t=_n(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,r=t.locale,s=t.model,l=s.document,u=e.value;s.change(p=>{const g=Array.from(l.selection.getSelectedBlocks()).filter(_=>this._canBeAligned(_)),v=g[0].getAttribute("alignment");aC(u,r)||v===u||!u?function(_,A){for(const E of _)A.removeAttribute(l0,E)}(g,p):function(_,A,E){for(const I of _)A.setAttribute(l0,E,I)}(g,p,u)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,l0)}}class cP extends ue{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:c0.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,r=e.model.schema,s=cC(e.config.get("alignment.options")).filter(g=>sC(g.name)&&!aC(g.name,t)),l=s.some(g=>!!g.className);r.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),l?e.conversion.attributeToAttribute(function(g){const v={};for(const A of g)v[A.name]={key:"class",value:A.className};return{model:{key:"alignment",values:g.map(A=>A.name)},view:v}}(s)):e.conversion.for("downcast").attributeToAttribute(function(g){const v={};for(const{name:A}of g)v[A]={key:"style",value:{"text-align":A}};return{model:{key:"alignment",values:g.map(A=>A.name)},view:v}}(s));const u=function(g){const v=[];for(const{name:_}of g)v.push({view:{key:"style",value:{"text-align":_}},model:{key:"alignment",value:_}});return v}(s);for(const g of u)e.conversion.for("upcast").attributeToAttribute(g);const p=function(g){const v=[];for(const{name:_}of g)v.push({view:{key:"align",value:_},model:{key:"alignment",value:_}});return v}(s);for(const g of p)e.conversion.for("upcast").attributeToAttribute(g);e.commands.add("alignment",new aP(e))}}const rf=new Map([["left",Ue.alignLeft],["right",Ue.alignRight],["center",Ue.alignCenter],["justify",Ue.alignJustify]]);class lP extends ue{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,r=e.t,s=cC(e.config.get("alignment.options"));s.map(l=>l.name).filter(sC).forEach(l=>this._addButton(l)),t.add("alignment",l=>{const u=es(l);Zh(u,()=>s.map(v=>t.create(`alignment:${v.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:r("Text alignment toolbar")}),u.buttonView.set({label:r("Text alignment"),tooltip:!0}),u.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const p=l.contentLanguageDirection==="rtl"?rf.get("right"):rf.get("left"),g=e.commands.get("alignment");return u.buttonView.bind("icon").to(g,"value",v=>rf.get(v)||p),u.bind("isEnabled").to(g,"isEnabled"),this.listenTo(u,"execute",()=>{e.editing.view.focus()}),u})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,r=>{const s=t.commands.get("alignment"),l=new ot(r);return l.set({label:this.localizedOptionTitles[e],icon:rf.get(e),tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(s),l.bind("isOn").to(s,"value",u=>u===e),this.listenTo(l,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),l})}}class lC{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(r,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class dP extends bt{constructor(e,t){super(e),this._buffer=new lC(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,r=t.document,s=e.text||"",l=s.length;let u=r.selection;if(e.selection?u=e.selection:e.range&&(u=t.createSelection(e.range)),!t.canEditAt(u))return;const p=e.resultRange;t.enqueueChange(this._buffer.batch,g=>{this._buffer.lock(),t.deleteContent(u),s&&t.insertContent(g.createText(s,r.selection.getAttributes()),u),p?g.setSelection(p):u.is("documentSelection")||g.setSelection(u),this._buffer.unlock(),this._buffer.input(l)})}}const dC=["insertText","insertReplacementText"];class uP extends $r{constructor(e){super(e),this.focusObserver=e.getObserver(Rh),f.isAndroid&&dC.push("insertCompositionText");const t=e.document;t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{data:l,targetRanges:u,inputType:p,domEvent:g}=s;if(!dC.includes(p))return;this.focusObserver.flush();const v=new x(t,"insertText");t.fire(v,new nc(e,g,{text:l,selection:e.createSelection(u)})),v.stop.called&&r.stop()}),t.on("compositionend",(r,{data:s,domEvent:l})=>{this.isEnabled&&!f.isAndroid&&s&&t.fire("insertText",new nc(e,l,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class uC extends ue{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,r=e.editing.view,s=t.document.selection;r.addObserver(uP);const l=new dP(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(r.document,"insertText",(u,p)=>{r.document.isComposing||p.preventDefault();const{text:g,selection:v,resultRange:_}=p,A=Array.from(v.getRanges()).map(B=>e.editing.mapper.toModelRange(B));let E=g;if(f.isAndroid){const B=Array.from(A[0].getItems()).reduce((j,$)=>j+($.is("$textProxy")?$.data:""),"");B&&(B.length<=E.length?E.startsWith(B)&&(E=E.substring(B.length),A[0].start=A[0].start.getShiftedBy(B.length)):B.startsWith(E)&&(A[0].start=A[0].start.getShiftedBy(E.length),E=""))}const I={text:E,selection:t.createSelection(A)};_&&(I.resultRange=e.editing.mapper.toModelRange(_)),e.execute("insertText",I),r.scrollToTheSelection()}),f.isAndroid?this.listenTo(r.document,"keydown",(u,p)=>{!s.isCollapsed&&p.keyCode==229&&r.document.isComposing&&hC(t,l)}):this.listenTo(r.document,"compositionstart",()=>{s.isCollapsed||hC(t,l)})}}function hC(a,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),a.enqueueChange(t.batch,()=>{a.deleteContent(a.document.selection)}),t.unlock()}class fC extends bt{constructor(e,t){super(e),this.direction=t,this._buffer=new lC(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,r=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const l=s.createSelection(e.selection||r.selection);if(!t.canEditAt(l))return;const u=e.sequence||1,p=l.isCollapsed;if(l.isCollapsed&&t.modifySelection(l,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(u))return void this._replaceEntireContentWithParagraph(s);if(this._shouldReplaceFirstBlockWithParagraph(l,u))return void this.editor.execute("paragraph",{selection:l});if(l.isCollapsed)return;let g=0;l.getFirstRange().getMinimalFlatRanges().forEach(v=>{g+=yi(v.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(l,{doNotResetEntireContent:p,direction:this.direction}),this._buffer.input(g),s.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const l=s.getChild(0);return!l||!l.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r),l=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(l,s),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const r=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),l=r.schema.getLimitElement(s),u=l.getChild(0);return s.parent==u&&!!e.containsEntireContent(u)&&!!r.schema.checkChild(l,"paragraph")&&u.name!="paragraph"}}const pC="word",ts="selection",lc="backward",vd="forward",gC={deleteContent:{unit:ts,direction:lc},deleteContentBackward:{unit:"codePoint",direction:lc},deleteWordBackward:{unit:pC,direction:lc},deleteHardLineBackward:{unit:ts,direction:lc},deleteSoftLineBackward:{unit:ts,direction:lc},deleteContentForward:{unit:"character",direction:vd},deleteWordForward:{unit:pC,direction:vd},deleteHardLineForward:{unit:ts,direction:vd},deleteSoftLineForward:{unit:ts,direction:vd}};class hP extends $r{constructor(e){super(e);const t=e.document;let r=0;t.on("keydown",()=>{r++}),t.on("keyup",()=>{r=0}),t.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{targetRanges:u,domEvent:p,inputType:g}=l,v=gC[g];if(!v)return;const _={direction:v.direction,unit:v.unit,sequence:r};_.unit==ts&&(_.selectionToRemove=e.createSelection(u[0])),g==="deleteContentBackward"&&(f.isAndroid&&(_.sequence=1),function(E){if(E.length!=1||E[0].isCollapsed)return!1;const I=E[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let B=0;for(const{nextPosition:j}of I){if(j.parent.is("$text")){const $=j.parent.data,G=j.offset;if(lm($,G)||dm($,G)||Hv($,G))continue;B++}else B++;if(B>1)return!0}return!1}(u)&&(_.unit=ts,_.selectionToRemove=e.createSelection(u)));const A=new ec(t,"delete",u[0]);t.fire(A,new nc(e,p,_)),A.stop.called&&s.stop()}),f.isBlink&&function(s){const l=s.view,u=l.document;let p=null,g=!1;function v(A){return A==Ye.backspace||A==Ye.delete}function _(A){return A==Ye.backspace?lc:vd}u.on("keydown",(A,{keyCode:E})=>{p=E,g=!1}),u.on("keyup",(A,{keyCode:E,domEvent:I})=>{const B=u.selection,j=s.isEnabled&&E==p&&v(E)&&!B.isCollapsed&&!g;if(p=null,j){const $=B.getFirstRange(),G=new ec(u,"delete",$),te={unit:ts,direction:_(E),selectionToRemove:B};u.fire(G,new nc(l,I,te))}}),u.on("beforeinput",(A,{inputType:E})=>{const I=gC[E];v(p)&&I&&I.direction==_(p)&&(g=!0)},{priority:"high"}),u.on("beforeinput",(A,{inputType:E,data:I})=>{p==Ye.delete&&E=="insertText"&&I==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class qr extends ue{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,r=t.document,s=e.model.document;t.addObserver(hP),this._undoOnBackspace=!1;const l=new fC(e,"forward");e.commands.add("deleteForward",l),e.commands.add("forwardDelete",l),e.commands.add("delete",new fC(e,"backward")),this.listenTo(r,"delete",(u,p)=>{r.isComposing||p.preventDefault();const{direction:g,sequence:v,selectionToRemove:_,unit:A}=p,E=g==="forward"?"deleteForward":"delete",I={sequence:v};if(A=="selection"){const B=Array.from(_.getRanges()).map(j=>e.editing.mapper.toModelRange(j));I.selection=e.model.createSelection(B)}else I.unit=A;e.execute(E,I),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(u,p)=>{this._undoOnBackspace&&p.direction=="backward"&&p.sequence==1&&p.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),p.preventDefault(),u.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class fP extends ue{static get requires(){return[uC,qr]}static get pluginName(){return"Typing"}}function mC(a,e){let t=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((r,{item:s})=>s.is("$text")||s.is("$textProxy")?r+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,a.end)}}class kC extends Me(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:r})=>{r&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,r)=>{!r.isUndo&&r.isLocal&&this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,t={}){const r=this.model,s=r.document.selection,l=r.createRange(r.createPositionAt(s.focus.parent,0),s.focus),{text:u,range:p}=mC(l,r),g=this.testCallback(u);if(!g&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!g,g){const v=Object.assign(t,{text:u,range:p});typeof g=="object"&&Object.assign(v,g),this.fire(`matched:${e}`,v)}}}class bC extends ue{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,r=e.editing.view,s=e.locale,l=t.document.selection;this.listenTo(r.document,"arrowKey",(u,p)=>{if(!l.isCollapsed||p.shiftKey||p.altKey||p.ctrlKey)return;const g=p.keyCode==Ye.arrowright,v=p.keyCode==Ye.arrowleft;if(!g&&!v)return;const _=s.contentLanguageDirection;let A=!1;A=_==="ltr"&&g||_==="rtl"&&v?this._handleForwardMovement(p):this._handleBackwardMovement(p),A===!0&&u.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(l,"change:range",(u,p)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!p.directChange&&sf(l.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,r=this.editor.model.document.selection,s=r.getFirstPosition();return!this._isGravityOverridden&&(!s.isAtStart||!d0(r,t))&&!!sf(s,t)&&(of(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,r=this.editor.model,s=r.document.selection,l=s.getFirstPosition();return this._isGravityOverridden?(of(e),this._restoreGravity(),u0(r,t,l),!0):l.isAtStart?!!d0(s,t)&&(of(e),u0(r,t,l),!0):!!function(u,p){const g=u.getShiftedBy(-1);return sf(g,p)}(l,t)&&(l.isAtEnd&&!d0(s,t)&&sf(l,t)?(of(e),u0(r,t,l),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function d0(a,e){for(const t of e)if(a.hasAttribute(t))return!0;return!1}function u0(a,e,t){const r=t.nodeBefore;a.change(s=>{if(r){const l=[],u=a.schema.isObject(r)&&a.schema.isInline(r);for(const[p,g]of r.getAttributes())!a.schema.checkAttribute("$text",p)||u&&a.schema.getAttributeProperties(p).copyFromObject===!1||l.push([p,g]);s.setSelectionAttribute(l)}else s.removeSelectionAttribute(e)})}function of(a){a.preventDefault()}function sf(a,e){const{nodeBefore:t,nodeAfter:r}=a;for(const s of e){const l=t?t.getAttribute(s):void 0;if((r?r.getAttribute(s):void 0)!==l)return!0}return!1}const wC={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:dc('"'),to:[null,"",null,""]},quotesSecondary:{from:dc("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:dc("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:dc('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:dc('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:dc("'"),to:[null,"",null,""]}},vC={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},pP=["symbols","mathematical","typography","quotes"];function gP(a){return typeof a=="string"?new RegExp(`(${eC(a)})$`):a}function mP(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function kP(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function dc(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function uc(a,e,t,r){return r.createRange(_C(a,e,t,!0,r),_C(a,e,t,!1,r))}function _C(a,e,t,r,s){let l=a.textNode||(r?a.nodeBefore:a.nodeAfter),u=null;for(;l&&l.getAttribute(e)==t;)u=l,l=r?l.previousSibling:l.nextSibling;return u?s.createPositionAt(u,r?"before":"after"):a}function ns(a,e,t,r){let s,l=null;typeof r=="function"?s=r:(l=a.commands.get(r),s=()=>{a.execute(r)}),a.model.document.on("change:data",(u,p)=>{if(l&&!l.isEnabled||!e.isEnabled)return;const g=_n(a.model.document.selection.getRanges());if(!g.isCollapsed||p.isUndo||!p.isLocal)return;const v=Array.from(a.model.document.differ.getChanges()),_=v[0];if(v.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const A=_.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||l&&l.value===!0)return;const E=A.getChild(0),I=a.model.createRangeOn(E);if(!I.containsRange(g)&&!g.end.isEqual(I.end))return;const B=t.exec(E.data.substr(0,g.end.offset));B&&a.model.enqueueChange(j=>{const $=j.createPositionAt(A,0),G=j.createPositionAt(A,B[0].length),te=new ui($,G);if(s({match:B})!==!1){j.remove(te);const le=a.model.document.selection.getFirstRange(),xe=j.createRangeIn(A);!A.isEmpty||xe.isEqual(le)||xe.containsRange(le,!0)||j.remove(A)}te.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function hc(a,e,t,r){let s,l;t instanceof RegExp?s=t:l=t,l=l||(u=>{let p;const g=[],v=[];for(;(p=s.exec(u))!==null&&!(p&&p.length<4);){let{index:_,1:A,2:E,3:I}=p;const B=A+E+I;_+=p[0].length-B.length;const j=[_,_+A.length],$=[_+A.length+E.length,_+A.length+E.length+I.length];g.push(j),g.push($),v.push([_+A.length,_+A.length+E.length])}return{remove:g,format:v}}),a.model.document.on("change:data",(u,p)=>{if(p.isUndo||!p.isLocal||!e.isEnabled)return;const g=a.model,v=g.document.selection;if(!v.isCollapsed)return;const _=Array.from(g.document.differ.getChanges()),A=_[0];if(_.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const E=v.focus,I=E.parent,{text:B,range:j}=function(le,xe){let We=le.start;return{text:Array.from(le.getItems()).reduce((Kr,Jn)=>!Jn.is("$text")&&!Jn.is("$textProxy")||Jn.getAttribute("code")?(We=xe.createPositionAfter(Jn),""):Kr+Jn.data,""),range:xe.createRange(We,le.end)}}(g.createRange(g.createPositionAt(I,0),E),g),$=l(B),G=yC(j.start,$.format,g),te=yC(j.start,$.remove,g);G.length&&te.length&&g.enqueueChange(le=>{if(r(le,G)!==!1){for(const xe of te.reverse())le.remove(xe);g.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function yC(a,e,t){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>t.createRange(a.getShiftedBy(r[0]),a.getShiftedBy(r[1])))}function af(a,e){return(t,r)=>{if(!a.commands.get(e).isEnabled)return!1;const s=a.model.schema.getValidRanges(r,e);for(const l of s)t.setAttribute(e,!0,l);t.removeSelectionAttribute(e)}}class AC extends bt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(l=>{if(r.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const u=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const p of u)s?l.setAttribute(this.attributeKey,s,p):l.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const s of r.getRanges())for(const l of s.getItems())if(t.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const fc="bold";class bP extends ue{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:fc}),e.model.schema.setAttributeProperties(fc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:fc,view:"strong",upcastAlso:["b",t=>{const r=t.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(fc,new AC(e,fc)),e.keystrokes.set("CTRL+B",fc)}}const h0="bold";class wP extends ue{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(h0,r=>{const s=e.commands.get(h0),l=new ot(r);return l.set({label:t("Bold"),icon:Ue.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(h0),e.editing.view.focus()}),l})}}var CC=o(5363),vP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(CC.Z,vP),CC.Z.locals;const pc="italic";class _P extends ue{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:pc}),e.model.schema.setAttributeProperties(pc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:pc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(pc,new AC(e,pc)),e.keystrokes.set("CTRL+I",pc)}}const f0="italic";class yP extends ue{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(f0,r=>{const s=e.commands.get(f0),l=new ot(r);return l.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(f0),e.editing.view.focus()}),l})}}function*xC(a,e){for(const t of e)t&&a.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class AP extends bt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,r=t.document.selection,s=t.schema,l=r.isCollapsed,u=r.getFirstRange(),p=u.start.parent,g=u.end.parent;if(s.isLimit(p)||s.isLimit(g))return l||p!=g||t.deleteContent(r),!1;if(l){const v=xC(e.model.schema,r.getAttributes());return EC(e,u.start),e.setSelectionAttribute(v),!0}{const v=!(u.start.isAtStart&&u.end.isAtEnd),_=p==g;if(t.deleteContent(r,{leaveUnmerged:v}),v){if(_)return EC(e,r.focus),!0;e.setSelection(g,0)}}return!1}}function EC(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const CP={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class SC extends $r{constructor(e){super(e);const t=this.document;let r=!1;t.on("keydown",(s,l)=>{r=l.shiftKey}),t.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;let u=l.inputType;f.isSafari&&r&&u=="insertParagraph"&&(u="insertLineBreak");const p=l.domEvent,g=CP[u];if(!g)return;const v=new ec(t,"enter",l.targetRanges[0]);t.fire(v,new nc(e,p,{isSoft:g.isSoft})),v.stop.called&&s.stop()})}observe(){}stopObserving(){}}class cf extends ue{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,r=t.document;t.addObserver(SC),e.commands.add("enter",new AP(e)),this.listenTo(r,"enter",(s,l)=>{r.isComposing||l.preventDefault(),l.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class xP extends bt{execute(){const e=this.editor.model,t=e.document;e.change(r=>{(function(s,l,u){const p=u.isCollapsed,g=u.getFirstRange(),v=g.start.parent,_=g.end.parent,A=v==_;if(p){const E=xC(s.schema,u.getAttributes());DC(s,l,g.end),l.removeSelectionAttribute(u.getAttributeKeys()),l.setSelectionAttribute(E)}else{const E=!(g.start.isAtStart&&g.end.isAtEnd);s.deleteContent(u,{leaveUnmerged:E}),A?DC(s,l,u.focus):E&&l.setSelection(_,0)}})(e,r,t.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(r,s){if(s.rangeCount>1)return!1;const l=s.anchor;if(!l||!r.checkChild(l,"softBreak"))return!1;const u=s.getFirstRange(),p=u.start.parent,g=u.end.parent;return!((p0(p,r)||p0(g,r))&&p!==g)}(e.schema,t.selection)}}function DC(a,e,t){const r=e.createElement("softBreak");a.insertContent(r,t),e.setSelection(r,"after")}function p0(a,e){return!a.is("rootElement")&&(e.isLimit(a)||p0(a.parent,e))}class EP extends ue{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,r=e.conversion,s=e.editing.view,l=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(u,{writer:p})=>p.createEmptyElement("br")}),s.addObserver(SC),e.commands.add("shiftEnter",new xP(e)),this.listenTo(l,"enter",(u,p)=>{l.isComposing||p.preventDefault(),p.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class SP extends bt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.schema,s=t.document.selection,l=Array.from(s.getSelectedBlocks()),u=e.forceValue===void 0?!this.value:e.forceValue;t.change(p=>{if(u){const g=l.filter(v=>lf(v)||IC(r,v));this._applyQuote(p,g)}else this._removeQuote(p,l.filter(lf))})}_getValue(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!lf(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=_n(e.getSelectedBlocks());return!!r&&IC(t,r)}_removeQuote(e,t){TC(e,t).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd)return void e.unwrap(r.start.parent);if(r.start.isAtStart){const l=e.createPositionBefore(r.start.parent);return void e.move(r,l)}r.end.isAtEnd||e.split(r.end);const s=e.createPositionAfter(r.end.parent);e.move(r,s)})}_applyQuote(e,t){const r=[];TC(e,t).reverse().forEach(s=>{let l=lf(s.start);l||(l=e.createElement("blockQuote"),e.wrap(s,l)),r.push(l)}),r.reverse().reduce((s,l)=>s.nextSibling==l?(e.merge(e.createPositionAfter(s)),s):l)}}function lf(a){return a.parent.name=="blockQuote"?a.parent:null}function TC(a,e){let t,r=0;const s=[];for(;r<e.length;){const l=e[r],u=e[r+1];t||(t=a.createPositionBefore(l)),u&&l.nextSibling==u||(s.push(a.createRange(t,a.createPositionAfter(l))),t=null),r++}return s}function IC(a,e){const t=a.checkChild(e.parent,"blockQuote"),r=a.checkChild(["$root","blockQuote"],e);return t&&r}class DP extends ue{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[cf,qr]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new SP(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(u=>{const p=e.model.document.differ.getChanges();for(const g of p)if(g.type=="insert"){const v=g.position.nodeAfter;if(!v)continue;if(v.is("element","blockQuote")&&v.isEmpty)return u.remove(v),!0;if(v.is("element","blockQuote")&&!t.checkChild(g.position,v))return u.unwrap(v),!0;if(v.is("element")){const _=u.createRangeIn(v);for(const A of _.getItems())if(A.is("element","blockQuote")&&!t.checkChild(u.createPositionBefore(A),A))return u.unwrap(A),!0}}else if(g.type=="remove"){const v=g.position.parent;if(v.is("element","blockQuote")&&v.isEmpty)return u.remove(v),!0}return!1});const r=this.editor.editing.view.document,s=e.model.document.selection,l=e.commands.get("blockQuote");this.listenTo(r,"enter",(u,p)=>{!s.isCollapsed||!l.value||s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(u,p)=>{if(p.direction!="backward"||!s.isCollapsed||!l.value)return;const g=s.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"})}}var MC=o(3789),TP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(MC.Z,TP),MC.Z.locals;class IP extends ue{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",r=>{const s=e.commands.get("blockQuote"),l=new ot(r);return l.set({label:t("Block quote"),icon:Ue.quote,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),l})}}class _d extends Xs{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function r(s){return(l,u)=>{u.preventDefault();const p=u.dropRange?[u.dropRange]:null,g=new x(t,s);t.fire(g,{dataTransfer:u.dataTransfer,method:l.name,targetRanges:p,target:u.target,domEvent:u.domEvent}),g.stop.called&&u.stopPropagation()}}this.listenTo(t,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",r("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",s={dataTransfer:new F_(t,{cacheFiles:r})};e.type!="drop"&&e.type!="dragover"||(s.dropRange=function(l,u){const p=u.target.ownerDocument,g=u.clientX,v=u.clientY;let _;return p.caretRangeFromPoint&&p.caretRangeFromPoint(g,v)?_=p.caretRangeFromPoint(g,v):u.rangeParent&&(_=p.createRange(),_.setStart(u.rangeParent,u.rangeOffset),_.collapse(!0)),_?l.domConverter.domRangeToView(_):null}(this.view,e)),this.fire(e.type,e,s)}}const NC=["figcaption","li"];function OC(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let t=null;for(const r of a.getChildren()){const s=OC(r);t&&(t.is("containerElement")||r.is("containerElement"))&&(NC.includes(t.name)||NC.includes(r.name)?e+=`
`:e+=`

`),e+=s,t=r}}return e}class Gr extends ue{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(_d),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,r){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:r})}_setupPasteDrop(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document;this.listenTo(s,"clipboardInput",(l,u)=>{u.method!="paste"||e.model.canEditAt(e.model.document.selection)||l.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(l,u)=>{const p=u.dataTransfer;let g;if(u.content)g=u.content;else{let A="";p.getData("text/html")?A=function(E){return E.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(I,B)=>B.length==1?" ":B).replace(/<!--[\s\S]*?-->/g,"")}(p.getData("text/html")):p.getData("text/plain")&&(((v=(v=p.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||v.includes("<br>"))&&(v=`<p>${v}</p>`),A=v),g=this.editor.data.htmlProcessor.toView(A)}var v;const _=new x(this,"inputTransformation");this.fire(_,{content:g,dataTransfer:p,targetRanges:u.targetRanges,method:u.method}),_.stop.called&&l.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(l,u)=>{if(u.content.isEmpty)return;const p=this.editor.data.toModel(u.content,"$clipboardHolder");p.childCount!=0&&(l.stop(),t.change(()=>{this.fire("contentInsertion",{content:p,method:u.method,dataTransfer:u.dataTransfer,targetRanges:u.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(l,u)=>{u.resultRange=t.insertContent(u.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,r=e.editing.view.document,s=(l,u)=>{const p=u.dataTransfer;u.preventDefault(),this._fireOutputTransformationEvent(p,t.selection,l.name)};this.listenTo(r,"copy",s,{priority:"low"}),this.listenTo(r,"cut",(l,u)=>{e.model.canEditAt(e.model.document.selection)?s(l,u):u.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(l,u)=>{const p=e.data.toView(u.content);r.fire("clipboardOutput",{dataTransfer:u.dataTransfer,content:p,method:u.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(l,u)=>{u.content.isEmpty||(u.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(u.content)),u.dataTransfer.setData("text/plain",OC(u.content))),u.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class MP extends q(){constructor(){super(...arguments),this._stack=[]}add(e,t){const r=this._stack,s=r[0];this._insertDescriptor(e);const l=r[0];s===l||g0(s,l)||this.fire("change:top",{oldDescriptor:s,newDescriptor:l,writer:t})}remove(e,t){const r=this._stack,s=r[0];this._removeDescriptor(e);const l=r[0];s===l||g0(s,l)||this.fire("change:top",{oldDescriptor:s,newDescriptor:l,writer:t})}_insertDescriptor(e){const t=this._stack,r=t.findIndex(l=>l.id===e.id);if(g0(e,t[r]))return;r>-1&&t.splice(r,1);let s=0;for(;t[s]&&NP(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,r=t.findIndex(s=>s.id===e);r>-1&&t.splice(r,1)}}function g0(a,e){return a&&e&&a.priority==e.priority&&df(a.classes)==df(e.classes)}function NP(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&df(a.classes)>df(e.classes)}function df(a){return Array.isArray(a)?a.sort().join(","):a}const OP='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',PP="ck-widget",PC="ck-widget_selected";function Cn(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function m0(a,e,t={}){if(!a.is("containerElement"))throw new S("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(PP,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=zP,e.setCustomProperty("widgetLabel",[],a),t.label&&function(r,s){r.getCustomProperty("widgetLabel").push(s)}(a,t.label),t.hasSelectionHandle&&function(r,s){const l=s.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(u){const p=this.toDomElement(u),g=new bo;return g.set("content",OP),g.render(),p.appendChild(g.element),p});s.insert(s.createPositionAt(r,0),l),s.addClass(["ck-widget_with-selection-handle"],r)}(a,e),BC(a,e),a}function BP(a,e,t){if(e.classes&&t.addClass(vn(e.classes),a),e.attributes)for(const r in e.attributes)t.setAttribute(r,e.attributes[r],a)}function LP(a,e,t){if(e.classes&&t.removeClass(vn(e.classes),a),e.attributes)for(const r in e.attributes)t.removeAttribute(r,a)}function BC(a,e,t=BP,r=LP){const s=new MP;s.on("change:top",(l,u)=>{u.oldDescriptor&&r(a,u.oldDescriptor,u.writer),u.newDescriptor&&t(a,u.newDescriptor,u.writer)}),e.setCustomProperty("addHighlight",(l,u,p)=>s.add(u,p),a),e.setCustomProperty("removeHighlight",(l,u,p)=>s.remove(u,p),a)}function k0(a,e){const t=a.getSelectedElement();if(t){const r=is(a);if(r)return e.createRange(e.createPositionAt(t,r))}return zy(a,e)}function zP(){return null}const vo="widget-type-around";function oa(a,e,t){return!!a&&Cn(a)&&!t.isInline(e)}function is(a){return a.getAttribute(vo)}var LC=o(2347),jP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(LC.Z,jP),LC.Z.locals;const zC=["before","after"],RP=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,jC="ck-widget__type-around_disabled";class FP extends ue{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[cf,qr]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(r,s,l)=>{t.change(u=>{for(const p of t.document.roots)l?u.removeClass(jC,p):u.addClass(jC,p)}),l||e.model.change(u=>{u.removeSelectionAttribute(vo)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const r=this.editor,s=r.editing.view,l=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,t),attributes:l}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,r,s){this.listenTo(e,t,(...l)=>{this.isEnabled&&r(...l)},s)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=is(e);if(!t)return!1;const r=e.getSelectedElement();return this._insertParagraph(r,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,r=e.locale.t,s={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(l,u,p)=>{const g=p.mapper.toViewElement(u.item);g&&oa(g,u.item,t)&&(function(v,_,A){const E=v.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(I){const B=this.toDomElement(I);return function(j,$){for(const G of zC){const te=new Wr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${G}`],title:$[G],"aria-hidden":"true"},children:[j.ownerDocument.importNode(RP,!0)]});j.appendChild(te.render())}}(B,_),function(j){const $=new Wr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});j.appendChild($.render())}(B),B});v.insert(v.createPositionAt(A,"end"),E)}(p.writer,s,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,r=t.document.selection,s=t.schema,l=e.editing.view;function u(p){return`ck-widget_type-around_show-fake-caret_${p}`}this._listenToIfEnabled(l.document,"arrowKey",(p,g)=>{this._handleArrowKeyPress(p,g)},{context:[Cn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(p,g)=>{g.directChange&&e.model.change(v=>{v.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const p=r.getSelectedElement();p&&oa(e.editing.mapper.toViewElement(p),p,s)||e.model.change(g=>{g.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(p,g,v)=>{const _=v.writer;if(this._currentFakeCaretModelElement){const B=v.mapper.toViewElement(this._currentFakeCaretModelElement);B&&(_.removeClass(zC.map(u),B),this._currentFakeCaretModelElement=null)}const A=g.selection.getSelectedElement();if(!A)return;const E=v.mapper.toViewElement(A);if(!oa(E,A,s))return;const I=is(g.selection);I&&(_.addClass(u(I),E),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(p,g,v)=>{v||e.model.change(_=>{_.removeSelectionAttribute(vo)})})}_handleArrowKeyPress(e,t){const r=this.editor,s=r.model,l=s.document.selection,u=s.schema,p=r.editing.view,g=function(A,E){const I=Vv(A,E);return I==="down"||I==="right"}(t.keyCode,r.locale.contentLanguageDirection),v=p.document.selection.getSelectedElement();let _;oa(v,r.editing.mapper.toModelElement(v),u)?_=this._handleArrowKeyPressOnSelectedWidget(g):l.isCollapsed?_=this._handleArrowKeyPressWhenSelectionNextToAWidget(g):t.shiftKey||(_=this._handleArrowKeyPressWhenNonCollapsedSelection(g)),_&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,r=is(t.document.selection);return t.change(s=>r?r!==(e?"after":"before")?(s.removeSelectionAttribute(vo),!0):!1:(s.setSelectionAttribute(vo,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,r=t.model,s=r.schema,l=t.plugins.get("Widget"),u=l._getObjectElementNextToSelection(e);return!!oa(t.editing.mapper.toViewElement(u),u,s)&&(r.change(p=>{l._setSelectionOverElement(u),p.setSelectionAttribute(vo,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,r=t.model,s=r.schema,l=t.editing.mapper,u=r.document.selection,p=e?u.getLastPosition().nodeBefore:u.getFirstPosition().nodeAfter;return!!oa(l.toViewElement(p),p,s)&&(r.change(g=>{g.setSelection(p,"on"),g.setSelectionAttribute(vo,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(r,s)=>{const l=s.domTarget.closest(".ck-widget__type-around__button");if(!l)return;const u=function(v){return v.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),p=function(v,_){const A=v.closest(".ck-widget");return _.mapDomToView(A)}(l,t.domConverter),g=e.editing.mapper.toModelElement(p);this._insertParagraph(g,u),s.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(s,l)=>{if(s.eventPhase!="atTarget")return;const u=t.getSelectedElement(),p=e.editing.mapper.toViewElement(u),g=e.model.schema;let v;this._insertParagraphAccordingToFakeCaretPosition()?v=!0:oa(p,u,g)&&(this._insertParagraph(u,l.isSoft?"before":"after"),v=!0),v&&(l.preventDefault(),s.stop())},{context:Cn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=e.selection)},{priority:"high"}),f.isAndroid?this._listenToIfEnabled(e,"keydown",(t,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,r=e.model,s=r.schema;this._listenToIfEnabled(t.document,"delete",(l,u)=>{if(l.eventPhase!="atTarget")return;const p=is(r.document.selection);if(!p)return;const g=u.direction,v=r.document.selection.getSelectedElement(),_=g=="forward";if(p==="before"===_)e.execute("delete",{selection:r.createSelection(v,"on")});else{const A=s.getNearestSelectionRange(r.createPositionAt(v,p),g);if(A)if(A.isCollapsed){const E=r.createSelection(A.start);if(r.modifySelection(E,{direction:g}),E.focus.isEqual(A.start)){const I=function(B,j){let $=j;for(const G of j.getAncestors({parentFirst:!0})){if(G.childCount>1||B.isLimit(G))break;$=G}return $}(s,A.start.parent);r.deleteContent(r.createSelection(I,"on"),{doNotAutoparagraph:!0})}else r.change(I=>{I.setSelection(A),e.execute(_?"deleteForward":"delete")})}else r.change(E=>{E.setSelection(A),e.execute(_?"deleteForward":"delete")})}u.preventDefault(),l.stop()},{context:Cn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,r=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[l,u])=>{if(u&&!u.is("documentSelection"))return;const p=is(r);return p?(s.stop(),t.change(g=>{const v=r.getSelectedElement(),_=t.createPositionAt(v,p),A=g.createSelection(_),E=t.insertContent(l,A);return g.setSelection(A),E})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,s)=>{const[,l,u={}]=s;if(l&&!l.is("documentSelection"))return;const p=is(t);p&&(u.findOptimalPosition=p,s[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[s])=>{s&&!s.is("documentSelection")||is(t)&&r.stop()},{priority:"high"})}}function $P(a){const e=a.model;return(t,r)=>{const s=r.keyCode==Ye.arrowup,l=r.keyCode==Ye.arrowdown,u=r.shiftKey,p=e.document.selection;if(!s&&!l)return;const g=l;if(u&&function(_,A){return!_.isCollapsed&&_.isBackward==A}(p,g))return;const v=function(_,A,E){const I=_.model;if(E){const B=A.isCollapsed?A.focus:A.getLastPosition(),j=RC(I,B,"forward");if(!j)return null;const $=I.createRange(B,j),G=FC(I.schema,$,"backward");return G?I.createRange(B,G):null}{const B=A.isCollapsed?A.focus:A.getFirstPosition(),j=RC(I,B,"backward");if(!j)return null;const $=I.createRange(j,B),G=FC(I.schema,$,"forward");return G?I.createRange(G,B):null}}(a,p,g);if(v){if(v.isCollapsed&&(p.isCollapsed||u))return;(v.isCollapsed||function(_,A,E){const I=_.model,B=_.view.domConverter;if(E){const le=I.createSelection(A.start);I.modifySelection(le),le.focus.isAtEnd||A.start.isEqual(le.focus)||(A=I.createRange(le.focus,A.end))}const j=_.mapper.toViewRange(A),$=B.viewRangeToDom(j),G=Re.getDomRangeRects($);let te;for(const le of G)if(te!==void 0){if(Math.round(le.top)>=te)return!1;te=Math.max(te,Math.round(le.bottom))}else te=Math.round(le.bottom);return!0}(a,v,g))&&(e.change(_=>{const A=g?v.end:v.start;if(u){const E=e.createSelection(p.anchor);E.setFocus(A),_.setSelection(E)}else _.setSelection(A)}),t.stop(),r.preventDefault(),r.stopPropagation())}}}function RC(a,e,t){const r=a.schema,s=a.createRangeIn(e.root),l=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:u,item:p,type:g}of s.getWalker({startPosition:e,direction:t})){if(r.isLimit(p)&&!r.isInline(p))return u;if(g==l&&r.isBlock(p))return null}return null}function FC(a,e,t){const r=t=="backward"?e.end:e.start;if(a.checkChild(r,"$text"))return r;for(const{nextPosition:s}of e.getWalker({direction:t}))if(a.checkChild(s,"$text"))return s;return null}var $C=o(7153),VP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()($C.Z,VP),$C.Z.locals;class yd extends ue{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[FP,qr]}init(){const e=this.editor,t=e.editing.view,r=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,l,u)=>{const p=u.writer,g=l.selection;if(g.isCollapsed)return;const v=g.getSelectedElement();if(!v)return;const _=e.editing.mapper.toViewElement(v);var A;Cn(_)&&u.consumable.consume(g,"selection")&&p.setSelection(p.createRangeOn(_),{fake:!0,label:(A=_,A.getCustomProperty("widgetLabel").reduce((E,I)=>typeof I=="function"?E?E+". "+I():I():E?E+". "+I:I,""))})}),this.editor.editing.downcastDispatcher.on("selection",(s,l,u)=>{this._clearPreviouslySelectedWidgets(u.writer);const p=u.writer,g=p.document.selection;let v=null;for(const _ of g.getRanges())for(const A of _){const E=A.item;Cn(E)&&!UP(E,v)&&(p.addClass(PC,E),this._previouslySelected.add(E),v=E)}},{priority:"low"}),t.addObserver(Hh),this.listenTo(r,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(r,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Cn,"$text"]}),this.listenTo(r,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(r,"arrowKey",$P(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(s,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const r=this.editor,s=r.editing.view,l=s.document;let u=t.target;if(function(g){let v=g;for(;v;){if(v.is("editableElement")&&!v.is("rootElement"))return!0;if(Cn(v))return!1;v=v.parent}return!1}(u)){if((f.isSafari||f.isGecko)&&t.domEvent.detail>=3){const g=r.editing.mapper,v=u.is("attributeElement")?u.findAncestor(A=>!A.is("attributeElement")):u,_=g.toModelElement(v);t.preventDefault(),this.editor.model.change(A=>{A.setSelection(_,"in")})}return}if(!Cn(u)&&(u=u.findAncestor(Cn),!u))return;f.isAndroid&&t.preventDefault(),l.isFocused||s.focus();const p=r.editing.mapper.toModelElement(u);this._setSelectionOverElement(p)}_handleSelectionChangeOnArrowKeyPress(e,t){const r=t.keyCode,s=this.editor.model,l=s.schema,u=s.document.selection,p=u.getSelectedElement(),g=Vv(r,this.editor.locale.contentLanguageDirection),v=g=="down"||g=="right",_=g=="up"||g=="down";if(p&&l.isObject(p)){const E=v?u.getLastPosition():u.getFirstPosition(),I=l.getNearestSelectionRange(E,v?"forward":"backward");return void(I&&(s.change(B=>{B.setSelection(I)}),t.preventDefault(),e.stop()))}if(!u.isCollapsed&&!t.shiftKey){const E=u.getFirstPosition(),I=u.getLastPosition(),B=E.nodeAfter,j=I.nodeBefore;return void((B&&l.isObject(B)||j&&l.isObject(j))&&(s.change($=>{$.setSelection(v?I:E)}),t.preventDefault(),e.stop()))}if(!u.isCollapsed)return;const A=this._getObjectElementNextToSelection(v);if(A&&l.isObject(A)){if(l.isInline(A)&&_)return;this._setSelectionOverElement(A),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const r=this.editor.model,s=r.schema,l=r.document.selection.getSelectedElement();l&&s.isObject(l)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change(s=>{let l=t.anchor.parent;for(;l.isEmpty;){const u=l;l=u.parent,s.remove(u)}this._setSelectionOverElement(r)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,r=t.schema,s=t.document.selection,l=t.createSelection(s);if(t.modifySelection(l,{direction:e?"forward":"backward"}),l.isEqual(s))return null;const u=e?l.focus.nodeBefore:l.focus.nodeAfter;return u&&r.isObject(u)?u:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(PC,t);this._previouslySelected.clear()}}function UP(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class VC extends ue{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[ef]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",r=>{(function(s){const l=s.getSelectedElement();return!(!l||!Cn(l))})(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:r,getRelatedElement:s,balloonClassName:l="ck-toolbar-container"}){if(!r.length)return void F("widget-toolbar-no-items",{toolbarId:e});const u=this.editor,p=u.t,g=new Qm(u.locale);if(g.ariaLabel=t||p("Widget toolbar"),this._toolbarDefinitions.has(e))throw new S("widget-toolbar-duplicated",this,{toolbarId:e});const v={view:g,getRelatedElement:s,balloonClassName:l,itemsConfig:r,initialized:!1};u.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const _=s(u.editing.view.document.selection);_&&this._showToolbar(v,_)},afterBlur:()=>{this._hideToolbar(v)}}),this._toolbarDefinitions.set(e,v)}_updateToolbarsVisibility(){let e=0,t=null,r=null;for(const s of this._toolbarDefinitions.values()){const l=s.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const u=l.getAncestors().length;u>e&&(e=u,t=l,r=s)}else this._isToolbarVisible(s)&&this._hideToolbar(s);else this._isToolbarInBalloon(s)&&this._hideToolbar(s)}r&&this._showToolbar(r,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?UC(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:HC(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const s=r.getRelatedElement(this.editor.editing.view.document.selection);UC(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function UC(a,e){const t=a.plugins.get("ContextualBalloon"),r=HC(a,e);t.updatePosition(r)}function HC(a,e){const t=a.editing.view,r=Nn.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class HP extends Me(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,r){const s=new Re(t);this.activeHandlePosition=function(u){const p=["top-left","top-right","bottom-right","bottom-left"];for(const g of p)if(u.classList.contains(WP(g)))return g}(e),this._referenceCoordinates=function(u,p){const g=new Re(u),v=p.split("-"),_={x:v[1]=="right"?g.right:g.left,y:v[0]=="bottom"?g.bottom:g.top};return _.x+=u.ownerDocument.defaultView.scrollX,_.y+=u.ownerDocument.defaultView.scrollY,_}(t,function(u){const p=u.split("-"),g={top:"bottom",bottom:"top",left:"right",right:"left"};return`${g[p[0]]}-${g[p[1]]}`}(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const l=r.style.width;l&&l.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(l):this._originalWidthPercents=function(u,p){const g=u.parentElement;let v=parseFloat(g.ownerDocument.defaultView.getComputedStyle(g).width);const _=5;let A=0,E=g;for(;isNaN(v);){if(E=E.parentElement,++A>_)return 0;v=parseFloat(g.ownerDocument.defaultView.getComputedStyle(E).width)}return p.width/v*100}(r,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function WP(a){return`ck-widget__resizer__handle-${a}`}class qP extends Be{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(r,s)=>r!==null&&s!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(r,s,l)=>e.unit==="px"?`${r}${s}`:`${l}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(r,s,l)=>s<50||l<50?"above-center":r)}_dismiss(){this.unbind(),this._isVisible=!1}}class WC extends Me(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,r)=>t&&r),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(e=>{e.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(r=>{const s=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(l){const u=this.toDomElement(l);return e._appendHandles(u),e._appendSizeUI(u),u});r.insert(r.createPositionAt(t,"end"),s),r.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new HP(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(g=>{const v=this._options.unit||"%",_=(v==="%"?t.widthPercents:t.width)+v;g.setStyle("width",_,this._options.viewElement)});const r=this._getHandleHost(),s=new Re(r),l=Math.round(s.width),u=Math.round(s.height),p=new Re(r);t.width=Math.round(p.width),t.height=Math.round(p.height),this.redraw(s),this.state.update({...t,handleHostWidth:l,handleHostHeight:u})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!((r=t)&&r.ownerDocument&&r.ownerDocument.contains(r)))return;var r;const s=t.parentElement,l=this._getHandleHost(),u=this._viewResizerWrapper,p=[u.getStyle("width"),u.getStyle("height"),u.getStyle("left"),u.getStyle("top")];let g;if(s.isSameNode(l)){const v=e||new Re(l);g=[v.width+"px",v.height+"px",void 0,void 0]}else g=[l.offsetWidth+"px",l.offsetHeight+"px",l.offsetLeft+"px",l.offsetTop+"px"];lt(p,g)!=="same"&&this._options.editor.editing.view.change(v=>{v.setStyle({width:g[0],height:g[1],left:g[2],top:g[3]},u)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,r={x:(s=e).pageX,y:s.pageY};var s;const l=!this._options.isCentered||this._options.isCentered(this),u={x:t._referenceCoordinates.x-(r.x+t.originalWidth),y:r.y-t.originalHeight-t._referenceCoordinates.y};l&&t.activeHandlePosition.endsWith("-right")&&(u.x=r.x-(t._referenceCoordinates.x+t.originalWidth)),l&&(u.x*=2);let p=Math.abs(t.originalWidth+u.x),g=Math.abs(t.originalHeight+u.y);return(p/t.aspectRatio>g?"width":"height")=="width"?g=p/t.aspectRatio:p=g*t.aspectRatio,{width:Math.round(p),height:Math.round(g),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*p*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const s of t)e.appendChild(new Wr({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(r=s,`ck-widget__resizer__handle-${r}`)}}).render());var r}_appendSizeUI(e){this._sizeView=new qP,this._sizeView.render(),e.appendChild(this._sizeView.element)}}var qC=o(4875),GP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(qC.Z,GP),qC.Z.locals;class b0 extends ue{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Ae.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(Hh),this._observer=new(ft()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=fd(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,l]of this._resizers)s.isAttached()||(this._resizers.delete(s),l.destroy())},{priority:"lowest"}),this._observer.listenTo(Ae.window,"resize",this._redrawSelectedResizerThrottled);const r=this.editor.editing.view.document.selection;r.on("change",()=>{const s=r.getSelectedElement(),l=this.getResizerByViewElement(s)||null;l?this.select(l):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new WC(e),r=this.editor.plugins;if(t.attach(),r.has("WidgetToolbarRepository")){const l=r.get("WidgetToolbarRepository");t.on("begin",()=>{l.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{l.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{l.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const r=t.domTarget;WC.isResizeHandle(r)&&(this._activeResizer=this._getResizerByHandle(r)||null,this._activeResizer&&(this._activeResizer.begin(r),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const w0=Rn("px");class YP extends Be{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>w0(t)),top:e.to("top",t=>w0(t)),width:e.to("width",t=>w0(t))}}})}}class uf extends ue{constructor(){super(...arguments),this.removeDropMarkerDelayed=cm(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=fd(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=fd(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new YP,this._domEmitter=new(ft()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,r,s,l){this.removeDropMarkerDelayed.cancel();const u=GC(this.editor,e,t,r,s,l);u&&this._updateDropMarkerThrottled(u)}getFinalDropRange(e,t,r,s,l){const u=GC(this.editor,e,t,r,s,l);return this.removeDropMarker(),u}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:r})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,r=t.model.markers;t.model.change(s=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const r=this.toDomElement(t);return r.append("",t.createElement("span"),""),r})}_updateDropTargetLine(e){const t=this.editor.editing,r=e.start.nodeBefore,s=e.start.nodeAfter,l=e.start.parent,u=r?t.mapper.toViewElement(r):null,p=u?t.view.domConverter.mapViewToDom(u):null,g=s?t.mapper.toViewElement(s):null,v=g?t.view.domConverter.mapViewToDom(g):null,_=t.mapper.toViewElement(l),A=t.view.domConverter.mapViewToDom(_),E=this._getScrollableRect(_),{scrollX:I,scrollY:B}=Ae.window,j=p?new Re(p):null,$=v?new Re(v):null,G=new Re(A).excludeScrollbarsAndBorders(),te=j?j.bottom:G.top,le=$?$.top:G.bottom,xe=Ae.window.getComputedStyle(A),We=te<=le?(te+le)/2:le;if(E.top<We&&We<E.bottom){const gi=G.left+parseFloat(xe.paddingLeft),Kr=G.right-parseFloat(xe.paddingRight),Jn=Math.max(gi+I,E.left),rs=Math.min(Kr+I,E.right);this._dropTargetLineView.set({isVisible:!0,left:Jn,top:We+B,width:rs-Jn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let r;if(this._scrollables.has(t))r=this._scrollables.get(t).domElement;else{r=function(l){let u=l;do{u=u.parentElement;const p=Ae.window.getComputedStyle(u).overflowY;if(p=="auto"||p=="scroll")break}while(u.tagName!="BODY");return u}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Ve(r,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:r,resizeObserver:s})}return new Re(r).excludeScrollbarsAndBorders()}}function GC(a,e,t,r,s,l){const u=a.model,p=a.editing.mapper;let g=KC(a,e);for(;g;){if(!l){if(u.schema.checkChild(g,"$text")){const v=t?t[0].start:null,_=v?p.toModelPosition(v):null;if(_){if(u.schema.checkChild(_,"$text"))return u.createRange(_);if(v)return hf(a,KC(a,v.parent),r,s)}}else if(u.schema.isInline(g))return hf(a,g,r,s)}if(u.schema.isBlock(g))return hf(a,g,r,s);if(u.schema.checkChild(g,"$block")){const v=Array.from(g.getChildren()).filter(E=>E.is("element")&&!KP(a,E));let _=0,A=v.length;if(A==0)return u.createRange(u.createPositionAt(g,"end"));for(;_<A-1;){const E=Math.floor((_+A)/2);YC(a,v[E],r,s)=="before"?A=E:_=E}return hf(a,v[_],r,s)}g=g.parent}return null}function KP(a,e){const t=a.editing.mapper,r=a.editing.view.domConverter,s=t.toViewElement(e),l=r.mapViewToDom(s);return Ae.window.getComputedStyle(l).float!="none"}function hf(a,e,t,r){const s=a.model;return s.createRange(s.createPositionAt(e,YC(a,e,t,r)))}function YC(a,e,t,r){const s=a.editing.mapper,l=a.editing.view.domConverter,u=s.toViewElement(e),p=l.mapViewToDom(u),g=new Re(p);return a.model.schema.isInline(e)?t<(g.left+g.right)/2?"before":"after":r<(g.top+g.bottom)/2?"before":"after"}function KC(a,e){const t=a.editing.mapper,r=a.editing.view,s=t.toModelElement(e);if(s)return s;const l=r.createPositionBefore(e),u=t.findMappedViewAncestor(l);return t.toModelElement(u)}class ZP extends ue{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(ft())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,r,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),f.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(r,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(Ae.document,"dragover",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"drop",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(r,s,l)=>{t.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,r=t.document.selection,s=this.editor.editing.view,l=Array.from(r.getSelectedBlocks()),u=t.createRange(t.createPositionBefore(l[0]),t.createPositionAfter(l[l.length-1]));t.change(p=>p.setSelection(u)),this._isBlockDragging=!0,s.focus(),s.getObserver(_d).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,s=document.elementFromPoint(t,r),l=this.editor.editing.view;s&&s.closest(".ck-editor__editable")&&l.getObserver(_d).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var ZC=o(799),QP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ZC.Z,QP),ZC.Z.locals;class JP extends ue{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=cm(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(ft())}static get pluginName(){return"DragDrop"}static get requires(){return[Gr,yd,uf,ZP]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(_d),t.addObserver(Hh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,s,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,s,l)=>{l||this._finalizeDragging(!1)}),f.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document,l=e.plugins.get(uf);this.listenTo(s,"dragstart",(u,p)=>{if(p.target&&p.target.is("editableElement")||(this._prepareDraggedRange(p.target),!this._draggedRange))return void p.preventDefault();this._draggingUid=T(),p.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",p.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const g=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(p.dataTransfer,g,"dragstart");const{dataTransfer:v,domTarget:_,domEvent:A}=p,{clientX:E}=A;this._updatePreview({dataTransfer:v,domTarget:_,clientX:E}),p.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(u,p)=>{this._finalizeDragging(!p.dataTransfer.isCanceled&&p.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Ae.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(s,"dragleave",()=>{l.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(u,p)=>{if(!this.isEnabled)return void(p.dataTransfer.dropEffect="none");const{clientX:g,clientY:v}=p.domEvent;l.updateDropMarker(p.target,p.targetRanges,g,v,this._blockMode),this._draggedRange||(p.dataTransfer.dropEffect="copy"),f.isGecko||(p.dataTransfer.effectAllowed=="copy"?p.dataTransfer.dropEffect="copy":["all","copyMove"].includes(p.dataTransfer.effectAllowed)&&(p.dataTransfer.dropEffect="move")),u.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,r=e.plugins.get(uf);this.listenTo(t,"clipboardInput",(s,l)=>{if(l.method!="drop")return;const{clientX:u,clientY:p}=l.domEvent,g=r.getFinalDropRange(l.target,l.targetRanges,u,p,this._blockMode);if(!g)return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),QC(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(g,!0))return this._finalizeDragging(!1),void s.stop();l.targetRanges=[e.editing.mapper.toViewRange(g)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Gr);e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=r.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=QC(r.dataTransfer)=="move",l=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(l&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,r=t.document;this.listenTo(r,"mousedown",(s,l)=>{if(f.isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let u=JC(l.target);if(f.isBlink&&!e.isReadOnly&&!u&&!r.selection.isCollapsed){const p=r.selection.getSelectedElement();p&&Cn(p)||(u=r.selection.editableElement)}u&&(t.change(p=>{p.setAttribute("draggable","true",u)}),this._draggableElement=e.editing.mapper.toModelElement(u))}),this.listenTo(r,"mouseup",()=>{f.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,r=t.model;t.plugins.get(uf).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(s=>{const l=r.createSelection(this._draggedRange);r.deleteContent(l,{doNotAutoparagraph:!0});const u=l.getFirstPosition().parent;u.isEmpty&&!r.schema.checkChild(u,"$text")&&r.schema.checkChild(u,"paragraph")&&s.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,r=t.model,s=r.document.selection,l=e?JC(e):null;if(l){const v=t.editing.mapper.toModelElement(l);this._draggedRange=ui.fromRange(r.createRangeOn(v)),this._blockMode=r.schema.isBlock(v),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const u=Array.from(s.getSelectedBlocks()),p=s.getFirstRange();if(u.length==0)return void(this._draggedRange=ui.fromRange(p));const g=XC(r,u);if(u.length>1)this._draggedRange=ui.fromRange(g),this._blockMode=!0;else if(u.length==1){const v=p.start.isTouching(g.start)&&p.end.isTouching(g.end);this._draggedRange=ui.fromRange(v?g:p),this._blockMode=v}r.change(v=>v.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:r}){const s=this.editor.editing.view,l=s.document.selection.editableElement,u=s.domConverter.mapViewToDom(l),p=Ae.window.getComputedStyle(u);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=qi(Ae.document,"div",{style:"position: fixed; left: -999999px;"}),Ae.document.body.appendChild(this._previewContainer));const g=new Re(u);if(u.contains(t))return;const v=parseFloat(p.paddingLeft),_=qi(Ae.document,"div");_.className="ck ck-content",_.style.width=p.width,_.style.paddingLeft=`${g.left-r+v}px`,f.isiOS&&(_.style.backgroundColor="white"),_.innerHTML=e.getData("text/html"),e.setDragImage(_,0,0),this._previewContainer.appendChild(_)}}function QC(a){return f.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function JC(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Cn);if(Cn(a))return a;const e=a.findAncestor(t=>Cn(t)||t.is("editableElement"));return Cn(e)?e:null}function XC(a,e){const t=e[0],r=e[e.length-1],s=t.getCommonAncestor(r),l=a.createPositionBefore(t),u=a.createPositionAfter(r);if(s&&s.is("element")&&!a.schema.isLimit(s)){const p=a.createRangeOn(s),g=l.isTouching(p.start),v=u.isTouching(p.end);if(g&&v)return XC(a,[s])}return a.createRange(l,u)}class XP extends ue{static get pluginName(){return"PastePlainText"}static get requires(){return[Gr]}init(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document,l=t.document.selection;let u=!1;r.addObserver(_d),this.listenTo(s,"keydown",(p,g)=>{u=g.shiftKey}),e.plugins.get(Gr).on("contentInsertion",(p,g)=>{(u||function(v,_){if(v.childCount>1)return!1;const A=v.getChild(0);return _.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(g.content,t.schema))&&t.change(v=>{const _=Array.from(l.getAttributes()).filter(([E])=>t.schema.getAttributeProperties(E).isFormatting);l.isCollapsed||t.deleteContent(l,{doNotAutoparagraph:!0}),_.push(...l.getAttributes());const A=v.createRangeIn(g.content);for(const E of A.getItems())E.is("$textProxy")&&v.setAttributes(_,E)})})}}class v0 extends ue{static get pluginName(){return"Clipboard"}static get requires(){return[Gr,JP,XP]}}class e6 extends bt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let r=e.schema.getLimitElement(t);if(t.containsEntireContent(r)||!e1(e.schema,r))do if(r=r.parent,!r)return;while(!e1(e.schema,r));e.change(s=>{s.setSelection(r,"in")})}}function e1(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const t6=Ql("Ctrl+A");class n6 extends ue{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new e6(e)),this.listenTo(t,"keydown",(r,s)=>{Xa(s)===t6&&(e.execute("selectAll"),s.preventDefault())})}}class i6 extends ue{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const r=e.commands.get("selectAll"),s=new ot(t),l=t.t;return s.set({label:l("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class r6 extends ue{static get requires(){return[n6,i6]}static get pluginName(){return"SelectAll"}}class t1 extends bt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,r)=>{r[1]={...r[1]};const s=r[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,r={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,r){const s=this.editor.model,l=s.document,u=[],p=e.map(v=>v.getTransformedByOperations(r)),g=p.flat();for(const v of p){const _=v.filter(A=>A.root!=l.graveyard).filter(A=>!s6(A,g));_.length&&(o6(_),u.push(_[0]))}u.length&&s.change(v=>{v.setSelection(u,{backward:t})})}_undo(e,t){const r=this.editor.model,s=r.document;this._createdBatches.add(t);const l=e.operations.slice().filter(u=>u.isDocumentOperation);l.reverse();for(const u of l){const p=u.baseVersion+1,g=Array.from(s.history.getOperations(p)),v=dN([u.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let _ of v){const A=_.affectedSelectable;A&&!r.canEditAt(A)&&(_=new tn(_.baseVersion)),t.addOperation(_),r.applyOperation(_),s.history.setOperationAsUndone(u,_)}}}}function o6(a){a.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<a.length;e++){const t=a[e-1].getJoined(a[e],!0);t&&(e--,a.splice(e,2,t))}}function s6(a,e){return e.some(t=>t!==a&&t.containsRange(a,!0))}class a6 extends t1{execute(e=null){const t=e?this._stack.findIndex(l=>l.batch==e):this._stack.length-1,r=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(r.batch,s);const l=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,l)}),this.fire("revert",r.batch,s),this.refresh()}}class c6 extends t1{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}class l6 extends ue{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new a6(e),this._redoCommand=new c6(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,r)=>{const s=r[0];if(!s.isDocumentOperation)return;const l=s.batch,u=this._redoCommand.createdBatches.has(l),p=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(u?this._undoCommand.addBatch(l):p||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,r,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const n1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',i1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class d6 extends ue{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,r=e.t,s=t.uiLanguageDirection=="ltr"?n1:i1,l=t.uiLanguageDirection=="ltr"?i1:n1;this._addButton("undo",r("Undo"),"CTRL+Z",s),this._addButton("redo",r("Redo"),"CTRL+Y",l)}_addButton(e,t,r,s){const l=this.editor;l.ui.componentFactory.add(e,u=>{const p=l.commands.get(e),g=new ot(u);return g.set({label:t,icon:s,keystroke:r,tooltip:!0}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{l.execute(e),l.editing.view.focus()}),g})}}class _0 extends ue{static get requires(){return[l6,d6]}static get pluginName(){return"Undo"}}class u6 extends bt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=_n(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&r1(t,e.schema)}execute(e={}){const t=this.editor.model,r=t.document,s=e.selection||r.selection;t.canEditAt(s)&&t.change(l=>{const u=s.getSelectedBlocks();for(const p of u)!p.is("element","paragraph")&&r1(p,t.schema)&&l.rename(p,"paragraph")})}}function r1(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class h6 extends bt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,r=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(l=>{if(s=this._findPositionToInsertParagraph(s,l),!s)return;const u=l.createElement("paragraph");r&&t.schema.setAllowedAttributes(u,r,l),t.insertContent(u,s),l.setSelection(u,"in")})}_findPositionToInsertParagraph(e,t){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const s=r.schema.findAllowedParent(e,"paragraph");if(!s)return null;const l=e.parent,u=r.schema.checkChild(l,"$text");return l.isEmpty||u&&e.isAtEnd?r.createPositionAfter(l):!l.isEmpty&&u&&e.isAtStart?r.createPositionBefore(l):t.split(e,s).position}}class Ad extends ue{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new u6(e)),e.commands.add("insertParagraph",new h6(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:s})=>Ad.paragraphLikeElements.has(r.name)?r.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Ad.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class f6 extends bt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>o1(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,r=t.document,s=e.value;t.change(l=>{const u=Array.from(r.selection.getSelectedBlocks()).filter(p=>o1(p,s,t.schema));for(const p of u)p.is("element",s)||l.rename(p,s)})}}function o1(a,e,t){return t.checkChild(a.parent,e)&&!t.isObject(a)}const s1="paragraph";class p6 extends ue{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Ad]}init(){const e=this.editor,t=e.config.get("heading.options"),r=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),r.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new f6(e,r))}afterInit(){const e=this.editor,t=e.commands.get("enter"),r=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,l)=>{const u=e.model.document.selection.getFirstPosition().parent;r.some(p=>u.is("element",p.model))&&!u.is("element",s1)&&u.childCount===0&&l.writer.rename(u,s1)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:z.low+1})}}var a1=o(4249),g6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(a1.Z,g6),a1.Z.locals;class m6 extends ue{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,r=function(u){const p=u.t,g={Paragraph:p("Paragraph"),"Heading 1":p("Heading 1"),"Heading 2":p("Heading 2"),"Heading 3":p("Heading 3"),"Heading 4":p("Heading 4"),"Heading 5":p("Heading 5"),"Heading 6":p("Heading 6")};return u.config.get("heading.options").map(v=>{const _=g[v.title];return _&&_!=v.title&&(v.title=_),v})}(e),s=t("Choose heading"),l=t("Heading");e.ui.componentFactory.add("heading",u=>{const p={},g=new Ki,v=e.commands.get("heading"),_=e.commands.get("paragraph"),A=[v];for(const I of r){const B={type:"button",model:new KA({label:I.title,class:I.class,role:"menuitemradio",withText:!0})};I.model==="paragraph"?(B.model.bind("isOn").to(_,"value"),B.model.set("commandName","paragraph"),A.push(_)):(B.model.bind("isOn").to(v,"value",j=>j===I.model),B.model.set({commandName:"heading",commandValue:I.model})),g.add(B),p[I.model]=I.title}const E=es(u);return yA(E,g,{ariaLabel:l,role:"menu"}),E.buttonView.set({ariaLabel:l,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:l}),E.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),E.bind("isEnabled").toMany(A,"isEnabled",(...I)=>I.some(B=>B)),E.buttonView.bind("label").to(v,"value",_,"value",(I,B)=>{const j=I||B&&"paragraph";return typeof j=="boolean"?s:p[j]?p[j]:s}),this.listenTo(E,"execute",I=>{const{commandName:B,commandValue:j}=I.source;e.execute(B,j?{value:j}:void 0),e.editing.view.focus()}),E})}}class k6 extends bt{refresh(){const e=this.editor.model,t=e.schema,r=e.document.selection;this.isEnabled=function(s,l,u){const p=function(g,v){const _=k0(g,v),A=_.start.parent;return A.isEmpty&&!A.is("element","$root")?A.parent:A}(s,u);return l.checkChild(p,"horizontalLine")}(r,t,e)}execute(){const e=this.editor.model;e.change(t=>{const r=t.createElement("horizontalLine");e.insertObject(r,null,null,{setSelection:"after"})})}}var c1=o(9893),b6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(c1.Z,b6),c1.Z.locals;class w6 extends ue{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,r=e.t,s=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(l,{writer:u})=>u.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(l,{writer:u})=>{const p=r("Horizontal line"),g=u.createContainerElement("div",null,u.createEmptyElement("hr"));return u.addClass("ck-horizontal-line",g),u.setCustomProperty("hr",!0,g),function(v,_,A){return _.setCustomProperty("horizontalLine",!0,v),m0(v,_,{label:A})}(g,u,p)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new k6(e))}}class v6 extends ue{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",r=>{const s=e.commands.get("horizontalLine"),l=new ot(r);return l.set({label:t("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),l})}}function l1(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function d1(a,e){const t=a.plugins.get("ImageUtils"),r=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return l=>t.isInlineImageView(l)?r&&(l.getStyle("display")=="block"||l.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(l):null;function s(l){const u={name:!0};return l.hasAttribute("src")&&(u.attributes=["src"]),u}}function y0(a,e){const t=_n(e.getSelectedBlocks());return!t||a.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function ff(a){return a&&a.endsWith("px")?parseInt(a):null}function pf(a){const e=ff(a.getStyle("width")),t=ff(a.getStyle("height"));return!(!e||!t)}const _6=/^(image|image-inline)$/;class pi extends ue{constructor(){super(...arguments),this._domEmitter=new(ft())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,r=null,s={}){const l=this.editor,u=l.model,p=u.document.selection;r=u1(l,t||p,r),e={...Object.fromEntries(p.getAttributes()),...e};for(const g in e)u.schema.checkAttribute(r,g)||delete e[g];return u.change(g=>{const{setImageSizes:v=!0}=s,_=g.createElement(r,e);return u.insertObject(_,t,null,{setSelection:"on",findOptimalPosition:t||r=="imageInline"?void 0:"auto"}),_.parent?(v&&this.setImageNaturalSizeAttributes(_),_):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const s=new Ae.window.Image;this._domEmitter.listenTo(s,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(r.batch,l=>{l.setAttribute("width",s.naturalWidth,e),l.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:_6})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,r){if(u1(t,r,null)=="imageBlock"){const l=function(u,p){const g=k0(u,p),v=g.start.parent;return v.isEmpty&&!v.is("element","$root")?v.parent:v}(r,t.model);if(t.model.schema.checkChild(l,"imageBlock"))return!0}else if(t.model.schema.checkChild(r.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(r=>!r.is("element","imageBlock"))}(e)}toImageWidget(e,t,r){return t.setCustomProperty("image",!0,e),m0(e,t,{label:()=>{const s=this.findViewImgElement(e).getAttribute("alt");return s?`${s} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Cn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:r}of t.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function u1(a,e,t){const r=a.model.schema,s=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?y0(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const y6=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class A6 extends bt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,r=t.plugins.get("ImageUtils"),s=t.model,l=r.getClosestSelectedImageElement(s.document.selection);s.change(u=>{u.setAttribute("alt",e.newValue,l)})}}class C6 extends ue{static get requires(){return[pi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new A6(this.editor))}}var h1=o(5269),x6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(h1.Z,x6),h1.Z.locals;var f1=o(6603),E6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(f1.Z,E6),f1.Z.locals;class S6 extends Be{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new di,this.keystrokes=new kr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Ue.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Ue.cancel,"ck-button-cancel","cancel"),this._focusables=new Hr,this._focusCycler=new wo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),qh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,r,s){const l=new ot(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),s&&l.delegate("execute").to(this,s),l}_createLabeledInputView(){const e=this.locale.t,t=new md(this.locale,kd);return t.label=e("Text alternative"),t}}function p1(a){const e=a.editing.view,t=Nn.defaultPositions,r=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class D6 extends ue{static get requires(){return[ef]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const s=e.commands.get("imageTextAlternative"),l=new ot(r);return l.set({label:t("Change image text alternative"),icon:Ue.lowVision,tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),l.bind("isOn").to(s,"value",u=>!!u),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const e=this.editor,t=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(qm(S6))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,l)=>{this._hideForm(!0),l()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(s){const l=s.plugins.get("ContextualBalloon");if(s.plugins.get("ImageUtils").getClosestSelectedImageWidget(s.editing.view.document.selection)){const u=p1(s);l.updatePosition(u)}}(e):this._hideForm(!0)}),Wm({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:p1(e)}),r.fieldView.value=r.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class g1 extends ue{static get requires(){return[C6,D6]}static get pluginName(){return"ImageTextAlternative"}}function m1(a,e){const t=(r,s,l)=>{if(!l.consumable.consume(s.item,r.name))return;const u=l.writer,p=l.mapper.toViewElement(s.item),g=a.findViewImgElement(p);s.attributeNewValue===null?(u.removeAttribute("srcset",g),u.removeAttribute("sizes",g)):s.attributeNewValue&&(u.setAttribute("srcset",s.attributeNewValue,g),u.setAttribute("sizes","100vw",g))};return r=>{r.on(`attribute:srcset:${e}`,t)}}function gf(a,e,t){const r=(s,l,u)=>{if(!u.consumable.consume(l.item,s.name))return;const p=u.writer,g=u.mapper.toViewElement(l.item),v=a.findViewImgElement(g);p.setAttribute(l.attributeKey,l.attributeNewValue||"",v)};return s=>{s.on(`attribute:${t}:${e}`,r)}}class k1 extends $r{observe(e){this.listenTo(e,"load",(t,r)=>{const s=r.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class T6 extends bt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&F("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&F("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=vn(e.source),r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(r.getAttributes());t.forEach((u,p)=>{const g=r.getSelectedElement();if(typeof u=="string"&&(u={src:u}),p&&g&&s.isImage(g)){const v=this.editor.model.createPositionAfter(g);s.insertImage({...u,...l},v)}else s.insertImage({...u,...l})})}}class I6 extends bt{refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(r=>{r.setAttribute("src",e.source,t),r.removeAttribute("srcset",t),r.removeAttribute("sizes",t)})}}class b1 extends ue{static get requires(){return[pi]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(k1),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new T6(e),s=new I6(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",r)}}class w1 extends ue{static get requires(){return[pi]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";function l(u,p,g,v){u.on(`attribute:${p}:${e}`,(_,A,E)=>{if(!E.consumable.consume(A.item,_.name))return;const I=E.writer,B=E.mapper.toViewElement(A.item),j=r.findViewImgElement(B);if(A.attributeNewValue!==null?I.setAttribute(g,A.attributeNewValue,j):I.removeAttribute(g,j),A.item.hasAttribute("sources"))return;const $=A.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!$&&!v)return;const G=A.item.getAttribute("width"),te=A.item.getAttribute("height"),le=j.getStyle("aspect-ratio");G&&te&&!le&&I.setStyle("aspect-ratio",`${G}/${te}`,j)})}t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:u=>pf(u)?ff(u.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:u=>pf(u)?ff(u.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(u=>{l(u,"width","width",!0),l(u,"height","height",!0)}),t.conversion.for("dataDowncast").add(u=>{l(u,"width","width",!1),l(u,"height","height",!1)})}}class v1 extends bt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,r=this.editor.model,s=t.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(r.document.selection),u=Object.fromEntries(l.getAttributes());return u.src||u.uploadId?r.change(p=>{const{setImageSizes:g=!0}=e,v=Array.from(r.markers).filter(E=>E.getRange().containsItem(l)),_=s.insertImage(u,r.createSelection(l,"on"),this._modelElementName,{setImageSizes:g});if(!_)return null;const A=p.createRangeOn(_);for(const E of v){const I=E.getRange(),B=I.root.rootName!="$graveyard"?I.getJoined(A,!0):A;p.updateMarker(E,{range:B})}return{oldElement:l,newElement:_}}):null}}class _1 extends ue{static get requires(){return[b1,w1,pi,Gr]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new v1(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>l1(u)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>s.toImageWidget(l1(u),u,t("image widget"))}),r.for("downcast").add(gf(s,"imageBlock","src")).add(gf(s,"imageBlock","alt")).add(m1(s,"imageBlock")),r.for("upcast").elementToElement({view:d1(e,"imageBlock"),model:(l,{writer:u})=>u.createElement("imageBlock",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)}).add(function(l){const u=(p,g,v)=>{if(!v.consumable.test(g.viewItem,{name:!0,classes:"image"}))return;const _=l.findViewImgElement(g.viewItem);if(!_||!v.consumable.test(_,{name:!0}))return;v.consumable.consume(g.viewItem,{name:!0,classes:"image"});const A=_n(v.convertItem(_,g.modelCursor).modelRange.getItems());A?(v.convertChildren(g.viewItem,A),v.updateConversionResult(A,g)):v.consumable.revert(g.viewItem,{name:!0,classes:"image"})};return p=>{p.on("element:figure",u)}}(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const g=Array.from(p.content.getChildren());let v;if(!g.every(s.isInlineImageView))return;v=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):t.document.selection.getFirstRange();const _=t.createSelection(v);if(y0(t.schema,_)==="imageBlock"){const A=new ra(r.document),E=g.map(I=>A.createElement("figure",{class:"image"},I));p.content=A.createDocumentFragment(E)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&t.change(g=>{const v=g.createRangeIn(p.content);for(const _ of v.getItems())_.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(_)})})}}var y1=o(2430),M6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(y1.Z,M6),y1.Z.locals;class N6 extends ue{static get requires(){return[_1,yd,g1]}static get pluginName(){return"ImageBlock"}}class O6 extends ue{static get requires(){return[b1,w1,pi,Gr]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((r,s)=>{if(r.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new v1(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(l,{writer:u})=>u.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(l,{writer:u})=>s.toImageWidget(function(p){return p.createContainerElement("span",{class:"image-inline"},p.createEmptyElement("img"))}(u),u,t("image widget"))}),r.for("downcast").add(gf(s,"imageInline","src")).add(gf(s,"imageInline","alt")).add(m1(s,"imageInline")),r.for("upcast").elementToElement({view:d1(e,"imageInline"),model:(l,{writer:u})=>u.createElement("imageInline",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const g=Array.from(p.content.getChildren());let v;if(!g.every(s.isBlockImageView))return;v=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):t.document.selection.getFirstRange();const _=t.createSelection(v);if(y0(t.schema,_)==="imageInline"){const A=new ra(r.document),E=g.map(I=>I.childCount===1?(Array.from(I.getAttributes()).forEach(B=>A.setAttribute(...B,s.findViewImgElement(I))),I.getChild(0)):I);p.content=A.createDocumentFragment(E)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&t.change(g=>{const v=g.createRangeIn(p.content);for(const _ of v.getItems())_.is("element","imageInline")&&s.setImageNaturalSizeAttributes(_)})})}}class P6 extends ue{static get requires(){return[O6,yd,g1]}static get pluginName(){return"ImageInline"}}class A1 extends ue{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[pi]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&t.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class B6 extends bt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(_1))return this.isEnabled=!1,void(this.value=!1);const s=e.model.document.selection,l=s.getSelectedElement();if(!l){const u=t.getCaptionFromModelSelection(s);return this.isEnabled=!!u,void(this.value=!!u)}this.isEnabled=r.isImage(l),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(l):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,t)})}_showImageCaption(e,t){const r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),l=this.editor.plugins.get("ImageUtils");let u=r.getSelectedElement();const p=s._getSavedCaption(u);l.isInlineImage(u)&&(this.editor.execute("imageTypeBlock"),u=r.getSelectedElement());const g=p||e.createElement("caption");e.append(g,u),t&&e.setSelection(g,"in")}_hideImageCaption(e){const t=this.editor,r=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),l=t.plugins.get("ImageCaptionUtils");let u,p=r.getSelectedElement();p?u=l.getCaptionFromImageModelElement(p):(u=l.getCaptionFromModelSelection(r),p=u.parent),s._saveCaption(p,u),e.setSelection(p,"on"),e.remove(u)}}class L6 extends ue{static get requires(){return[pi,A1]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new B6(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),l=e.t;e.conversion.for("upcast").elementToElement({view:u=>s.matchImageCaptionViewElement(u),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>r.isBlockImage(u.parent)?p.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>{if(!r.isBlockImage(u.parent))return null;const g=p.createEditableElement("figcaption");p.setCustomProperty("imageCaption",!0,g),g.placeholder=l("Enter image caption"),Xv({view:t,element:g,keepOnFocus:!0});const v=u.parent.getAttribute("alt");return function(_,A,E={}){return A.addClass(["ck-editor__editable","ck-editor__nested-editable"],_),A.setAttribute("role","textbox",_),E.label&&A.setAttribute("aria-label",E.label,_),A.setAttribute("contenteditable",_.isReadOnly?"false":"true",_),_.on("change:isReadOnly",(I,B,j)=>{A.setAttribute("contenteditable",j?"false":"true",_)}),_.on("change:isFocused",(I,B,j)=>{j?A.addClass("ck-editor__nested-editable_focused",_):A.removeClass("ck-editor__nested-editable_focused",_)}),BC(_,A),_}(g,p,{label:v?l("Caption for image: %0",[v]):l("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),l=e.commands.get("imageTypeBlock"),u=p=>{if(!p.return)return;const{oldElement:g,newElement:v}=p.return;if(!g)return;if(t.isBlockImage(g)){const A=r.getCaptionFromImageModelElement(g);if(A)return void this._saveCaption(v,A)}const _=this._getSavedCaption(g);_&&this._saveCaption(v,_)};s&&this.listenTo(s,"execute",u,{priority:"low"}),l&&this.listenTo(l,"execute",u,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?ut.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const l=t.document.differ.getChanges();for(const u of l){if(u.attributeKey!=="alt")continue;const p=u.range.start.nodeAfter;if(r.isBlockImage(p)){const g=s.getCaptionFromImageModelElement(p);if(!g)return;e.editing.reconvertItem(g)}}})}}class z6 extends ue{static get requires(){return[A1]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",l=>{const u=e.commands.get("toggleImageCaption"),p=new ot(l);return p.set({icon:Ue.caption,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(u,"value","isEnabled"),p.bind("label").to(u,"value",g=>s(g?"Toggle caption off":"Toggle caption on")),this.listenTo(p,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const g=r.getCaptionFromModelSelection(e.model.document.selection);if(g){const v=e.editing.mapper.toViewElement(g);t.scrollToTheSelection(),t.change(_=>{_.addClass("image__caption_highlighted",v)})}e.editing.view.focus()}),p})}}var C1=o(2423),j6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(C1.Z,j6),C1.Z.locals;class R6 extends Me(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((r,s)=>{t.onload=()=>{const l=t.result;this._data=l,r(l)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class sa extends ue{constructor(){super(...arguments),this.loaders=new Ki,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[jy]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return F("filerepository-no-upload-adapter"),null;const t=new x1(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(r=>{this._loadersMap.set(r,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let r=0;for(const s of this.loaders)r+=s.uploaded;this.uploaded=r}),t.on("change:uploadTotal",()=>{let r=0;for(const s of this.loaders)s.uploadTotal&&(r+=s.uploadTotal);this.uploadTotal=r}),t}destroyLoader(e){const t=e instanceof x1?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((r,s)=>{r===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(jy);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,r=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class x1 extends Me(){constructor(e,t){super(),this.id=T(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new R6,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,s)=>s?r/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new S("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new S("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((r,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(l=>{t.isFulfilled=!0,r(l)}).catch(l=>{t.isFulfilled=!0,s(l)})}),t}}class F6 extends Be{constructor(e){super(e),this.buttonView=new ot(e),this._fileInputView=new $6(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class $6 extends Be{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class V6{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const r=this.reader=new window.FileReader;r.addEventListener("load",()=>{e({default:r.result})}),r.addEventListener("error",s=>{t(s)}),r.addEventListener("abort",()=>{t()}),this.loader.file.then(s=>{r.readAsDataURL(s)})})}abort(){this.reader.abort()}}function E1(a){const e=a.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function U6(a){return new Promise((e,t)=>{const r=a.getAttribute("src");fetch(r).then(s=>s.blob()).then(s=>{const l=S1(s,r),u=l.replace("image/",""),p=new File([s],`image.${u}`,{type:l});e(p)}).catch(s=>s&&s.name==="TypeError"?function(l){return function(u){return new Promise((p,g)=>{const v=Ae.document.createElement("img");v.addEventListener("load",()=>{const _=Ae.document.createElement("canvas");_.width=v.width,_.height=v.height,_.getContext("2d").drawImage(v,0,0),_.toBlob(A=>A?p(A):g())}),v.addEventListener("error",()=>g()),v.src=u})}(l).then(u=>{const p=S1(u,l),g=p.replace("image/","");return new File([u],`image.${g}`,{type:p})})}(r).then(e).catch(t):t(s))})}function S1(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class H6 extends ue{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,r=s=>{const l=new F6(s),u=e.commands.get("uploadImage"),p=e.config.get("image.upload.types"),g=E1(p);return l.set({acceptedType:p.map(v=>`image/${v}`).join(","),allowMultipleFiles:!0}),l.buttonView.set({label:t("Insert image"),icon:Ue.image,tooltip:!0}),l.buttonView.bind("isEnabled").to(u),l.on("done",(v,_)=>{const A=Array.from(_).filter(E=>g.test(E.type));A.length&&(e.execute("uploadImage",{file:A}),e.editing.view.focus())}),l};e.ui.componentFactory.add("uploadImage",r),e.ui.componentFactory.add("imageUpload",r)}}var D1=o(2926),W6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(D1.Z,W6),D1.Z.locals;var T1=o(1547),q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(T1.Z,q6),T1.Z.locals;var I1=o(6618),G6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(I1.Z,G6),I1.Z.locals;class Y6 extends ue{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,r,s)=>{const l=this.editor,u=r.item,p=u.getAttribute("uploadId");if(!s.consumable.consume(r.item,t.name))return;const g=l.plugins.get("ImageUtils"),v=l.plugins.get(sa),_=p?r.attributeNewValue:null,A=this.placeholder,E=l.editing.mapper.toViewElement(u),I=s.writer;if(_=="reading")return M1(E,I),void N1(g,A,E,I);if(_=="uploading"){const B=v.loaders.get(p);return M1(E,I),void(B?(O1(E,I),function(j,$,G,te){const le=function(xe){const We=xe.createUIElement("div",{class:"ck-progress-bar"});return xe.setCustomProperty("progressBar",!0,We),We}($);$.insert($.createPositionAt(j,"end"),le),G.on("change:uploadedPercent",(xe,We,gi)=>{te.change(Kr=>{Kr.setStyle("width",gi+"%",le)})})}(E,I,B,l.editing.view),function(j,$,G,te){if(te.data){const le=j.findViewImgElement($);G.setAttribute("src",te.data,le)}}(g,E,I,B)):N1(g,A,E,I))}_=="complete"&&v.loaders.get(p)&&function(B,j,$){const G=j.createUIElement("div",{class:"ck-image-upload-complete-icon"});j.insert(j.createPositionAt(B,"end"),G),setTimeout(()=>{$.change(te=>te.remove(te.createRangeOn(G)))},3e3)}(E,I,l.editing.view),function(B,j){B1(B,j,"progressBar")}(E,I),O1(E,I),function(B,j){j.removeClass("ck-appear",B)}(E,I)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function M1(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function N1(a,e,t,r){t.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",t);const s=a.findViewImgElement(t);s.getAttribute("src")!==e&&r.setAttribute("src",e,s),P1(t,"placeholder")||r.insert(r.createPositionAfter(s),function(l){const u=l.createUIElement("div",{class:"ck-upload-placeholder-loader"});return l.setCustomProperty("placeholder",!0,u),u}(r))}function O1(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),B1(a,e,"placeholder")}function P1(a,e){for(const t of a.getChildren())if(t.getCustomProperty(e))return t}function B1(a,e,t){const r=P1(a,t);r&&e.remove(e.createRangeOn(r))}class K6 extends bt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(r)}execute(e){const t=vn(e.file),r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(r.getAttributes());t.forEach((u,p)=>{const g=r.getSelectedElement();if(p&&g&&s.isImage(g)){const v=this.editor.model.createPositionAfter(g);this._uploadImage(u,l,v)}else this._uploadImage(u,l)})}_uploadImage(e,t,r){const s=this.editor,l=s.plugins.get(sa).createLoader(e),u=s.plugins.get("ImageUtils");l&&u.insertImage({...t,uploadId:l.id},r)}}class Z6 extends ue{static get requires(){return[sa,YA,Gr,pi]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,r=e.conversion,s=e.plugins.get(sa),l=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline"),p=E1(e.config.get("image.upload.types")),g=new K6(e);e.commands.add("uploadImage",g),e.commands.add("imageUpload",g),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(v,_)=>{if(A=_.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const E=Array.from(_.dataTransfer.files).filter(I=>!!I&&p.test(I.type));E.length&&(v.stop(),e.model.change(I=>{_.targetRanges&&I.setSelection(_.targetRanges.map(B=>e.editing.mapper.toModelRange(B))),e.execute("uploadImage",{file:E})}))}),this.listenTo(u,"inputTransformation",(v,_)=>{const A=Array.from(e.editing.view.createRangeIn(_.content)).map(I=>I.item).filter(I=>function(B,j){return!(!B.isInlineImageView(j)||!j.getAttribute("src")||!j.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!j.getAttribute("src").match(/^blob:/g))}(l,I)&&!I.getAttribute("uploadProcessed")).map(I=>({promise:U6(I),imageElement:I}));if(!A.length)return;const E=new ra(e.editing.view.document);for(const I of A){E.setAttribute("uploadProcessed",!0,I.imageElement);const B=s.createLoader(I.promise);B&&(E.setAttribute("src","",I.imageElement),E.setAttribute("uploadId",B.id,I.imageElement))}}),e.editing.view.document.on("dragover",(v,_)=>{_.preventDefault()}),t.on("change",()=>{const v=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),_=new Set;for(const A of v)if(A.type=="insert"&&A.name!="$text"){const E=A.position.nodeAfter,I=A.position.root.rootName=="$graveyard";for(const B of Q6(e,E)){const j=B.getAttribute("uploadId");if(!j)continue;const $=s.loaders.get(j);$&&(I?_.has(j)||$.abort():(_.add(j),this._uploadImageElements.set(j,B),$.status=="idle"&&this._readAndUpload($)))}}}),this.on("uploadComplete",(v,{imageElement:_,data:A})=>{const E=A.urls?A.urls:A;this.editor.model.change(I=>{I.setAttribute("src",E.default,_),this._parseAndSetSrcsetAttributeOnImage(E,_,I),l.setImageNaturalSizeAttributes(_)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,r=t.model,s=t.locale.t,l=t.plugins.get(sa),u=t.plugins.get(YA),p=t.plugins.get("ImageUtils"),g=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},_=>{_.setAttribute("uploadStatus","reading",g.get(e.id))}),e.read().then(()=>{const _=e.upload(),A=g.get(e.id);if(f.isSafari){const E=t.editing.mapper.toViewElement(A),I=p.findViewImgElement(E);t.editing.view.once("render",()=>{if(!I.parent)return;const B=t.editing.view.domConverter.mapViewToDom(I.parent);if(!B)return;const j=B.style.display;B.style.display="none",B._ckHack=B.offsetHeight,B.style.display=j})}return r.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","uploading",A)}),_}).then(_=>{r.enqueueChange({isUndoable:!1},A=>{const E=g.get(e.id);A.setAttribute("uploadStatus","complete",E),this.fire("uploadComplete",{data:_,imageElement:E})}),v()}).catch(_=>{if(e.status!=="error"&&e.status!=="aborted")throw _;e.status=="error"&&_&&u.showWarning(_,{title:s("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},A=>{A.remove(g.get(e.id))}),v()});function v(){r.enqueueChange({isUndoable:!1},_=>{const A=g.get(e.id);_.removeAttribute("uploadId",A),_.removeAttribute("uploadStatus",A),g.delete(e.id)}),l.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,r){let s=0;const l=Object.keys(e).filter(u=>{const p=parseInt(u,10);if(!isNaN(p))return s=Math.max(s,p),!0}).map(u=>`${e[u]} ${u}w`).join(", ");if(l!=""){const u={srcset:l};t.hasAttribute("width")||t.hasAttribute("height")||(u.width=s),r.setAttributes(u,t)}}}function Q6(a,e){const t=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(r=>t.isImage(r.item)).map(r=>r.item)}class L1 extends ue{static get pluginName(){return"ImageUpload"}static get requires(){return[Z6,H6,Y6]}}var z1=o(8340),J6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(z1.Z,J6),z1.Z.locals;class X6 extends Be{constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",r.to("class")],role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}var j1=o(8879),eB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(j1.Z,eB),j1.Z.locals;class tB extends Be{constructor(e,t={}){super(e);const{insertButtonView:r,cancelButtonView:s}=this._createActionButtons(e);this.insertButtonView=r,this.cancelButtonView=s,this.set("imageURLInputValue",""),this.focusTracker=new di,this.keystrokes=new kr,this._focusables=new Hr,this._focusCycler=new wo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new Ki);for(const[l,u]of Object.entries(t))l==="insertImageViaUrl"&&(u.fieldView.bind("value").to(this,"imageURLInputValue",p=>p||""),u.fieldView.on("input",()=>{this.imageURLInputValue=u.fieldView.element.value.trim()})),u.name=l,this._integrations.add(u);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new X6(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),qh({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(e){return this._integrations.find(t=>t.name===e)}_createActionButtons(e){const t=e.t,r=new ot(e),s=new ot(e);return r.set({label:t("Insert"),icon:Ue.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),s.set({label:t("Cancel"),icon:Ue.cancel,class:"ck-button-cancel",withText:!0}),r.bind("isEnabled").to(this,"imageURLInputValue",l=>!!l),r.delegate("execute").to(this,"submit"),s.delegate("execute").to(this,"cancel"),{insertButtonView:r,cancelButtonView:s}}focus(){this._focusCycler.focusFirst()}}function nB(a){const e=a.t,t=new md(a,kd);return t.set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t}class R1 extends ue{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=r=>this._createDropdownView(r);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,r=e.t,s=t.commands.get("uploadImage"),l=t.commands.get("insertImage");this.dropdownView=es(e,s?Jm:void 0);const u=this.dropdownView.buttonView,p=this.dropdownView.panelView;if(u.set({label:r("Insert image"),icon:Ue.image,tooltip:!0}),p.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),s){const g=this.dropdownView.buttonView;g.actionView=t.ui.componentFactory.create("uploadImage"),g.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(s||l)}_setUpDropdown(e){const t=this.editor,r=t.t,s=this.dropdownView,l=s.panelView,u=this.editor.plugins.get("ImageUtils"),p=t.commands.get("replaceImageSource");let g;function v(){t.editing.view.focus(),s.isOpen=!1}return s.bind("isEnabled").to(e),s.once("change:isOpen",()=>{g=new tB(t.locale,function(_){const A=_.config.get("image.insert.integrations"),E=_.plugins.get("ImageInsertUI"),I={insertImageViaUrl:nB(_.locale)};if(!A)return I;if(A.find(B=>B==="openCKFinder")&&_.ui.componentFactory.has("ckfinder")){const B=_.ui.componentFactory.create("ckfinder");B.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),B.delegate("execute").to(E,"cancel"),I.openCKFinder=B}return A.reduce((B,j)=>(I[j]?B[j]=I[j]:_.ui.componentFactory.has(j)&&(B[j]=_.ui.componentFactory.create(j)),B),{})}(t)),g.delegate("submit","cancel").to(s),l.children.add(g)}),s.on("change:isOpen",()=>{const _=t.model.document.selection.getSelectedElement(),A=g.insertButtonView,E=g.getIntegration("insertImageViaUrl");s.isOpen&&(u.isImage(_)?(g.imageURLInputValue=p.value,A.label=r("Update"),E.label=r("Update image URL")):(g.imageURLInputValue="",A.label=r("Insert"),E.label=r("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",()=>{v(),function(){const _=t.model.document.selection.getSelectedElement();u.isImage(_)?t.execute("replaceImageSource",{source:g.imageURLInputValue}):t.execute("insertImage",{source:g.imageURLInputValue})}()}),s.on("cancel",()=>{v()}),s}}class iB extends ue{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[R1]}}class rB extends bt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("resizedWidth")?this.value={width:t.getAttribute("resizedWidth"),height:null}:this.value=null}execute(e){const t=this.editor,r=t.model,s=t.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(r.document.selection);this.value={width:e.width,height:null},l&&r.change(u=>{u.setAttribute("resizedWidth",e.width,l),u.removeAttribute("resizedHeight",l),s.setImageNaturalSizeAttributes(l)})}}class F1 extends ue{static get requires(){return[pi]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new rB(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${e}`,(l,u,p)=>{if(!p.consumable.consume(u.item,l.name))return;const g=p.writer,v=p.mapper.toViewElement(u.item);u.attributeNewValue!==null?(g.setStyle("width",u.attributeNewValue,v),g.addClass("image_resized",v)):(g.removeStyle("width",v),g.removeClass("image_resized",v))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),t.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${e}`,(l,u,p)=>{if(!p.consumable.consume(u.item,l.name))return;const g=p.writer,v=p.mapper.toViewElement(u.item),_=e==="imageInline"?r.findViewImgElement(v):v;u.attributeNewValue!==null?g.setStyle("height",u.attributeNewValue,_):g.removeStyle("height",_)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>pf(s)?null:s.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>pf(s)?null:s.getStyle("height")}})}}const A0={small:Ue.objectSizeSmall,medium:Ue.objectSizeMedium,large:Ue.objectSizeLarge,original:Ue.objectSizeFull};class oB extends ue{static get requires(){return[F1]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),r=e.commands.get("resizeImage");this.bind("isEnabled").to(r);for(const s of t)this._registerImageResizeButton(s);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:r,value:s,icon:l}=e,u=s?s+this._resizeUnit:null;t.ui.componentFactory.add(r,p=>{const g=new ot(p),v=t.commands.get("resizeImage"),_=this._getOptionLabelValue(e,!0);if(!A0[l])throw new S("imageresizebuttons-missing-icon",t,e);return g.set({label:_,icon:A0[l],tooltip:_,isToggleable:!0}),g.bind("isEnabled").to(this),g.bind("isOn").to(v,"value",$1(u)),this.listenTo(g,"execute",()=>{t.execute("resizeImage",{width:u})}),g})}_registerImageResizeDropdown(e){const t=this.editor,r=t.t,s=e.find(u=>!u.value),l=u=>{const p=t.commands.get("resizeImage"),g=es(u,dA),v=g.buttonView,_=r("Resize image");return v.set({tooltip:_,commandValue:s.value,icon:A0.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:_,ariaLabelledBy:void 0}),v.bind("label").to(p,"value",A=>A&&A.width?A.width:this._getOptionLabelValue(s)),g.bind("isEnabled").to(this),yA(g,()=>this._getResizeDropdownListItemDefinitions(e,p),{ariaLabel:r("Image resize list"),role:"menu"}),this.listenTo(g,"execute",A=>{t.execute(A.source.commandName,{width:A.source.commandValue}),t.editing.view.focus()}),g};t.ui.componentFactory.add("resizeImage",l),t.ui.componentFactory.add("imageResize",l)}_getOptionLabelValue(e,t=!1){const r=this.editor.t;return e.label?e.label:t?e.value?r("Resize image to %0",e.value+this._resizeUnit):r("Resize image to the original size"):e.value?e.value+this._resizeUnit:r("Original")}_getResizeDropdownListItemDefinitions(e,t){const r=new Ki;return e.map(s=>{const l=s.value?s.value+this._resizeUnit:null,u={type:"button",model:new KA({commandName:"resizeImage",commandValue:l,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};u.model.bind("isOn").to(t,"value",$1(l)),r.add(u)}),r}}function $1(a){return e=>a===null&&e===a||e!==null&&e.width===a}const C0="image_resized";class sB extends ue{static get requires(){return[b0,pi]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils");t.addObserver(k1),this.listenTo(t.document,"imageLoaded",(s,l)=>{if(!l.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const u=e.editing.view.domConverter,p=u.domToView(l.target),g=r.getImageWidgetFromImageView(p);let v=this.editor.plugins.get(b0).getResizerByViewElement(g);if(v)return void v.redraw();const _=e.editing.mapper,A=_.toModelElement(g);v=e.plugins.get(b0).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:A,viewElement:g,editor:e,getHandleHost:E=>E.querySelector("img"),getResizeHost:()=>u.mapViewToDom(_.toViewElement(A.parent)),isCentered(){const E=A.getAttribute("imageStyle");return!E||E=="block"||E=="alignCenter"},onCommit(E){t.change(I=>{I.removeClass(C0,g)}),e.execute("resizeImage",{width:E})}}),v.on("updateSize",()=>{g.hasClass(C0)||t.change(I=>{I.addClass(C0,g)});const E=A.name==="imageInline"?p:g;E.getStyle("height")&&t.change(I=>{I.removeStyle("height",E)})}),v.bind("isEnabled").to(this)})}}var V1=o(2400),aB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(V1.Z,aB),V1.Z.locals;class cB extends bt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(r=>{if(r.isDefault)for(const s of r.modelElements)this._defaultStyles[s]=r.name;return[r.name,r]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,r=t.model,s=t.plugins.get("ImageUtils");r.change(l=>{const u=e.value,{setImageSizes:p=!0}=e;let g=s.getClosestSelectedImageElement(r.document.selection);u&&this.shouldConvertImageType(u,g)&&(this.editor.execute(s.isBlockImage(g)?"imageTypeInline":"imageTypeBlock",{setImageSizes:p}),g=s.getClosestSelectedImageElement(r.document.selection)),!u||this._styles.get(u).isDefault?l.removeAttribute("imageStyle",g):l.setAttribute("imageStyle",u,g),p&&s.setImageNaturalSizeAttributes(g)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:lB,objectInline:U1,objectLeft:H1,objectRight:x0,objectCenter:E0,objectBlockLeft:W1,objectBlockRight:q1}=Ue,mf={get inline(){return{name:"inline",title:"In line",icon:U1,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:H1,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:W1,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:E0,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:x0,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:q1,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:E0,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:x0,modelElements:["imageBlock"],className:"image-style-side"}}},G1={full:lB,left:W1,right:q1,center:E0,inlineLeft:H1,inlineRight:x0,inline:U1},Y1=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function K1(a){F("image-style-configuration-definition-invalid",a)}const S0={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?mf[t]?{...mf[t]}:{name:t}:function(r,s){const l={...s};for(const u in r)Object.prototype.hasOwnProperty.call(s,u)||(l[u]=r[u]);return l}(mf[t.name],t),typeof t.icon=="string"&&(t.icon=G1[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:r,isInlinePluginLoaded:s}){const{modelElements:l,name:u}=t;if(!(l&&l.length&&u))return K1({style:t}),!1;{const p=[r?"imageBlock":null,s?"imageInline":null];if(!l.some(g=>p.includes(g)))return F("image-style-missing-dependency",{style:t,missingPlugins:l.map(g=>g==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...Y1]:[]},warnInvalidStyle:K1,DEFAULT_OPTIONS:mf,DEFAULT_ICONS:G1,DEFAULT_DROPDOWN_DEFINITIONS:Y1};function Z1(a,e){for(const t of e)if(t.name===a)return t}class Q1 extends ue{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[pi]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=S0,r=this.editor,s=r.plugins.has("ImageBlockEditing"),l=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",t(s,l)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:l}),this._setupConversion(s,l),this._setupPostFixer(),r.commands.add("imageStyle",new cB(r,this.normalizedStyles))}_setupConversion(e,t){const r=this.editor,s=r.model.schema,l=(u=this.normalizedStyles,(g,v,_)=>{if(!_.consumable.consume(v.item,g.name))return;const A=Z1(v.attributeNewValue,u),E=Z1(v.attributeOldValue,u),I=_.mapper.toViewElement(v.item),B=_.writer;E&&B.removeClass(E.className,I),A&&B.addClass(A.className,I)});var u;const p=function(g){const v={imageInline:g.filter(_=>!_.isDefault&&_.modelElements.includes("imageInline")),imageBlock:g.filter(_=>!_.isDefault&&_.modelElements.includes("imageBlock"))};return(_,A,E)=>{if(!A.modelRange)return;const I=A.viewItem,B=_n(A.modelRange.getItems());if(B&&E.schema.checkAttribute(B,"imageStyle"))for(const j of v[B.name])E.consumable.consume(I,{classes:j.className})&&E.writer.setAttribute("imageStyle",j.name,B)}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",l),r.data.downcastDispatcher.on("attribute:imageStyle",l),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",p,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",p,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,r=e.plugins.get(pi),s=new Map(this.normalizedStyles.map(l=>[l.name,l]));t.registerPostFixer(l=>{let u=!1;for(const p of t.differ.getChanges())if(p.type=="insert"||p.type=="attribute"&&p.attributeKey=="imageStyle"){let g=p.type=="insert"?p.position.nodeAfter:p.range.start.nodeAfter;if(g&&g.is("element","paragraph")&&g.childCount>0&&(g=g.getChild(0)),!r.isImage(g))continue;const v=g.getAttribute("imageStyle");if(!v)continue;const _=s.get(v);_&&_.modelElements.includes(g.name)||(l.removeAttribute("imageStyle",g),u=!0)}return u})}}var J1=o(3534),dB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(J1.Z,dB),J1.Z.locals;class uB extends ue{static get requires(){return[Q1]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],r=X1(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const l of r)this._createButton(l);const s=X1([...t.filter(ge),...S0.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const l of s)this._createDropdown(l,r)}_createDropdown(e,t){const r=this.editor.ui.componentFactory;r.add(e.name,s=>{let l;const{defaultItem:u,items:p,title:g}=e,v=p.filter(I=>t.find(({name:B})=>ex(B)===I)).map(I=>{const B=r.create(I);return I===u&&(l=B),B});p.length!==v.length&&S0.warnInvalidStyle({dropdown:e});const _=es(s,Jm),A=_.buttonView,E=A.arrowView;return Zh(_,v,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:tx(g,l.label),class:null,tooltip:!0}),E.unbind("label"),E.set({label:g}),A.bind("icon").toMany(v,"isOn",(...I)=>{const B=I.findIndex(Ks);return B<0?l.icon:v[B].icon}),A.bind("label").toMany(v,"isOn",(...I)=>{const B=I.findIndex(Ks);return tx(g,B<0?l.label:v[B].label)}),A.bind("isOn").toMany(v,"isOn",(...I)=>I.some(Ks)),A.bind("class").toMany(v,"isOn",(...I)=>I.some(Ks)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{v.some(({isOn:I})=>I)?_.isOpen=!_.isOpen:l.fire("execute")}),_.bind("isEnabled").toMany(v,"isEnabled",(...I)=>I.some(Ks)),this.listenTo(_,"execute",()=>{this.editor.editing.view.focus()}),_})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(ex(t),r=>{const s=this.editor.commands.get("imageStyle"),l=new ot(r);return l.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(s,"isEnabled"),l.bind("isOn").to(s,"value",u=>u===t),l.on("execute",this._executeCommand.bind(this,t)),l})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function X1(a,e){for(const t of a)e[t.title]&&(t.title=e[t.title]);return a}function ex(a){return`imageStyle:${a}`}function tx(a,e){return(a?a+": ":"")+e}class hB extends ue{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Gv(e)),e.commands.add("outdent",new Gv(e))}}const nx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ix='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class fB extends ue{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,r=e.t,s=t.uiLanguageDirection=="ltr"?nx:ix,l=t.uiLanguageDirection=="ltr"?ix:nx;this._defineButton("indent",r("Increase indent"),s),this._defineButton("outdent",r("Decrease indent"),l)}_defineButton(e,t,r){const s=this.editor;s.ui.componentFactory.add(e,l=>{const u=s.commands.get(e),p=new ot(l);return p.set({label:t,icon:r,tooltip:!0}),p.bind("isEnabled").to(u,"isEnabled"),this.listenTo(p,"execute",()=>{s.execute(e),s.editing.view.focus()}),p})}}class pB{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,r,s)=>{if(!s.consumable.test(r.item,"attribute:linkHref")||!r.item.is("selection")&&!s.schema.isInline(r.item))return;const l=s.writer,u=l.document.selection;for(const p of this._definitions){const g=l.createAttributeElement("a",p.attributes,{priority:5});p.classes&&l.addClass(p.classes,g);for(const v in p.styles)l.setStyle(v,p.styles[v],g);l.setCustomProperty("link",!0,g),p.callback(r.attributeNewValue)?r.item.is("selection")?l.wrap(u.getFirstRange(),g):l.wrap(s.mapper.toViewRange(r.range),g):l.unwrap(s.mapper.toViewRange(r.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,r,{writer:s,mapper:l})=>{const u=l.toViewElement(r.item),p=Array.from(u.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const v=Rr(g.attributes);if(g.callback(r.attributeNewValue)){for(const[_,A]of v)_==="class"?s.addClass(A,p):s.setAttribute(_,A,p);g.classes&&s.addClass(g.classes,p);for(const _ in g.styles)s.setStyle(_,g.styles[_],p)}else{for(const[_,A]of v)_==="class"?s.removeClass(A,p):s.removeAttribute(_,p);g.classes&&s.removeClass(g.classes,p);for(const _ in g.styles)s.removeStyle(_,p)}}})}}}const gB=function(a,e,t){var r=a.length;return t=t===void 0?r:t,!e&&t>=r?a:s_(a,e,t)};var mB=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const rx=function(a){return mB.test(a)},kB=function(a){return a.split("")};var ox="\\ud800-\\udfff",bB="["+ox+"]",D0="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",T0="\\ud83c[\\udffb-\\udfff]",sx="[^"+ox+"]",ax="(?:\\ud83c[\\udde6-\\uddff]){2}",cx="[\\ud800-\\udbff][\\udc00-\\udfff]",lx="(?:"+D0+"|"+T0+")?",dx="[\\ufe0e\\ufe0f]?",wB=dx+lx+("(?:\\u200d(?:"+[sx,ax,cx].join("|")+")"+dx+lx+")*"),vB="(?:"+[sx+D0+"?",D0,ax,cx,bB].join("|")+")",_B=RegExp(T0+"(?="+T0+")|"+vB+wB,"g");const yB=function(a){return a.match(_B)||[]},AB=function(a){return rx(a)?yB(a):kB(a)},CB=function(a){return function(e){e=pm(e);var t=rx(e)?AB(e):void 0,r=t?t[0]:e.charAt(0),s=t?gB(t,1).join(""):e.slice(1);return r[a]()+s}}("toUpperCase"),xB=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,EB=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,SB=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,DB=/^((\w+:(\/{2,})?)|(\W))/i,kf="Ctrl+K";function ux(a,{writer:e}){const t=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,t),t}function hx(a){const e=String(a);return function(t){return!!t.replace(xB,"").match(EB)}(e)?e:"#"}function I0(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function M0(a,e){const t=(r=a,SB.test(r)?"mailto:":e);var r;const s=!!t&&!fx(a);return a&&s?t+a:a}function fx(a){return DB.test(a)}function px(a){window.open(a,"_blank","noopener")}class TB extends bt{constructor(){super(...arguments),this.manualDecorators=new Ki,this.automaticDecorators=new pB}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement()||_n(t.getSelectedBlocks());I0(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const r=this.editor.model,s=r.document.selection,l=[],u=[];for(const p in t)t[p]?l.push(p):u.push(p);r.change(p=>{if(s.isCollapsed){const g=s.getFirstPosition();if(s.hasAttribute("linkHref")){const v=gx(s);let _=uc(g,"linkHref",s.getAttribute("linkHref"),r);s.getAttribute("linkHref")===v&&(_=this._updateLinkContent(r,p,_,e)),p.setAttribute("linkHref",e,_),l.forEach(A=>{p.setAttribute(A,!0,_)}),u.forEach(A=>{p.removeAttribute(A,_)}),p.setSelection(p.createPositionAfter(_.end.nodeBefore))}else if(e!==""){const v=Rr(s.getAttributes());v.set("linkHref",e),l.forEach(A=>{v.set(A,!0)});const{end:_}=r.insertContent(p.createText(e,v),g);p.setSelection(_)}["linkHref",...l,...u].forEach(v=>{p.removeSelectionAttribute(v)})}else{const g=r.schema.getValidRanges(s.getRanges(),"linkHref"),v=[];for(const A of s.getSelectedBlocks())r.schema.checkAttribute(A,"linkHref")&&v.push(p.createRangeOn(A));const _=v.slice();for(const A of g)this._isRangeToUpdate(A,v)&&_.push(A);for(const A of _){let E=A;if(_.length===1){const I=gx(s);s.getAttribute("linkHref")===I&&(E=this._updateLinkContent(r,p,A,e),p.setSelection(p.createSelection(E)))}p.setAttribute("linkHref",e,E),l.forEach(I=>{p.setAttribute(I,!0,E)}),u.forEach(I=>{p.removeAttribute(I,E)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,r=t.document.selection,s=r.getSelectedElement();return I0(s,t.schema)?s.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,t){for(const r of t)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,t,r,s){const l=t.createText(s,{linkHref:s});return e.insertContent(l,r)}}function gx(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class IB extends bt{refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement();I0(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,r=t.document.selection,s=e.commands.get("link");t.change(l=>{const u=r.isCollapsed?[uc(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),t)]:t.schema.getValidRanges(r.getRanges(),"linkHref");for(const p of u)if(l.removeAttribute("linkHref",p),s)for(const g of s.manualDecorators)l.removeAttribute(g.id,p)})}}class MB extends Me(){constructor({id:e,label:t,attributes:r,classes:s,styles:l,defaultValue:u}){super(),this.id=e,this.set("value",void 0),this.defaultValue=u,this.label=t,this.attributes=r,this.classes=s,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var mx=o(3925),NB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(mx.Z,NB),mx.Z.locals;const kx="automatic",OB=/^(https?:)?\/\//;class N0 extends ue{static get pluginName(){return"LinkEditing"}static get requires(){return[bC,uC,Gr]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:ux}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(r,s)=>ux(hx(r),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:r=>r.getAttribute("href")}}),e.commands.add("link",new TB(e)),e.commands.add("unlink",new IB(e));const t=function(r,s){const l={"Open in a new tab":r("Open in a new tab"),Downloadable:r("Downloadable")};return s.forEach(u=>("label"in u&&l[u.label]&&(u.label=l[u.label]),u)),s}(e.t,function(r){const s=[];if(r)for(const[l,u]of Object.entries(r)){const p=Object.assign({},u,{id:`link${CB(l)}`});s.push(p)}return s}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(r=>r.mode===kx)),this._enableManualDecorators(t.filter(r=>r.mode==="manual")),e.plugins.get(bC).registerAttribute("linkHref"),function(r,s,l,u){const p=r.editing.view,g=new Set;p.document.registerPostFixer(v=>{const _=r.model.document.selection;let A=!1;if(_.hasAttribute(s)){const E=uc(_.getFirstPosition(),s,_.getAttribute(s),r.model),I=r.editing.mapper.toViewRange(E);for(const B of I.getItems())B.is("element",l)&&!B.hasClass(u)&&(v.addClass(u,B),g.add(B),A=!0)}return A}),r.conversion.for("editingDowncast").add(v=>{function _(){p.change(A=>{for(const E of g.values())A.removeClass(u,E),g.delete(E)})}v.on("insert",_,{priority:"highest"}),v.on("remove",_,{priority:"highest"}),v.on("attribute",_,{priority:"highest"}),v.on("selection",_,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,r=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:kx,callback:s=>!!s&&OB.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&t.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,r=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const l=new MB(s);r.add(l),t.conversion.for("downcast").attributeToElement({model:l.id,view:(u,{writer:p,schema:g},{item:v})=>{if((v.is("selection")||g.isInline(v))&&u){const _=p.createAttributeElement("a",l.attributes,{priority:5});l.classes&&p.addClass(l.classes,_);for(const A in l.styles)p.setStyle(A,l.styles[A],_);return p.setCustomProperty("link",!0,_),_}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...l._createPattern()},model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,s)=>{if(!(f.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let l=s.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(r.stop(),s.preventDefault(),px(u))},{context:"$capture"}),this.listenTo(t,"keydown",(r,s)=>{const l=e.commands.get("link").value;l&&s.keyCode===Ye.enter&&s.altKey&&(r.stop(),px(l))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const r=t.anchor.nodeBefore,s=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&r&&r.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||e.change(l=>{O0(l,P0(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Hh);let r=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{r=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!r)return;r=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const l=s.getFirstPosition(),u=uc(l,"linkHref",s.getAttribute("linkHref"),t);(l.isTouching(u.start)||l.isTouching(u.end))&&t.change(p=>{O0(p,P0(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let r=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const l=e.model.document.selection;l.isCollapsed||(s?s=!1:bx(e)&&function(u){const p=u.document.selection,g=p.getFirstPosition(),v=p.getLastPosition(),_=g.nodeAfter;if(!_||!_.is("$text")||!_.hasAttribute("linkHref"))return!1;const A=v.textNode||v.nodeBefore;return _===A?!0:uc(g,"linkHref",_.getAttribute("linkHref"),u).containsRange(u.createRange(g,v),!0)}(e.model)&&(r=l.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(l,[u])=>{s=!1,bx(e)&&r&&(e.model.change(p=>{for(const[g,v]of r)p.setAttribute(g,v,u)}),r=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,r=t.document.selection,s=e.editing.view;let l=!1,u=!1;this.listenTo(s.document,"delete",(p,g)=>{u=g.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{l=!1;const p=r.getFirstPosition(),g=r.getAttribute("linkHref");if(!g)return;const v=uc(p,"linkHref",g,t);l=v.containsPosition(p)||v.end.isEqual(p)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{u&&(u=!1,l||e.model.enqueueChange(p=>{O0(p,P0(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,l)=>{t.change(u=>{const p=u.createRangeIn(l.content);for(const g of p.getItems())if(g.hasAttribute("linkHref")){const v=M0(g.getAttribute("linkHref"),r);u.setAttribute("linkHref",v,g)}})})}}function O0(a,e){a.removeSelectionAttribute("linkHref");for(const t of e)a.removeSelectionAttribute(t)}function bx(a){return a.model.change(e=>e.batch).isTyping}function P0(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var wx=o(4874),PB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(wx.Z,PB),wx.Z.locals;class BB extends Be{constructor(e,t){super(e),this.focusTracker=new di,this.keystrokes=new kr,this._focusables=new Hr;const r=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Ue.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Ue.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new wo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),qh({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new md(this.locale,kd);return t.label=e("Link URL"),t}_createButton(e,t,r,s){const l=new ot(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),s&&l.delegate("execute").to(this,s),l}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const r of e.manualDecorators){const s=new Km(this.locale);s.set({name:r.id,label:r.label,withText:!0}),s.bind("isOn").toMany([r,e],"value",(l,u)=>u===void 0&&l===void 0?!!r.defaultValue:!!l),s.on("execute",()=>{r.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const r=new Be;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(r)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var vx=o(7536),LB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(vx.Z,LB),vx.Z.locals;class zB extends Be{constructor(e){super(e),this.focusTracker=new di,this.keystrokes=new kr,this._focusables=new Hr;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Ue.pencil,"edit"),this.set("href",void 0),this._focusCycler=new wo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,r){const s=new ot(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,r),s}_createPreviewButton(){const e=new ot(this.locale),t=this.bindTemplate,r=this.t;return e.set({withText:!0,tooltip:r("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&hx(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||r("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const _x='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Yr="link-ui";class yx extends ue{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[ef]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(NN),this._balloon=e.plugins.get(ef),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Yr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Yr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new zB(e.locale),r=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(r,"value"),t.editButtonView.bind("isEnabled").to(r),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(l,u)=>{this._hideUI(),u()}),t.keystrokes.set(kf,(l,u)=>{this._addFormView(),u()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),s=new(qm(BB))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:l}=s.urlInputView.fieldView.element,u=M0(l,r);e.execute("link",u,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(l,u)=>{this._closeFormView(),u()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),r=e.t;e.ui.componentFactory.add("link",s=>{const l=new ot(s);return l.isEnabled=!0,l.label=r("Link"),l.icon=_x,l.keystroke=kf,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(t,"isEnabled"),l.bind("isOn").to(t,"value",u=>!!u),this.listenTo(l,"execute",()=>this._showUI(!0)),l})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(kf,(r,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Wm({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let r=this._getSelectedLinkElement(),s=u();const l=()=>{const p=this._getSelectedLinkElement(),g=u();r&&!p||!r&&g!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=p,s=g};function u(){return t.selection.focus.getAncestors().reverse().find(p=>p.is("element"))}this.listenTo(e.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,r=e.document;let s;if(t.markers.has(Yr)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(Yr)),u=e.createRange(e.createPositionBefore(l[0]),e.createPositionAfter(l[l.length-1]));s=e.domConverter.viewRangeToDom(u)}else s=()=>{const l=this._getSelectedLinkElement();return l?e.domConverter.mapViewToDom(l):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,r=t.getSelectedElement();if(t.isCollapsed||r&&Cn(r))return B0(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),l=B0(s.start),u=B0(s.end);return l&&l==u&&e.createRangeIn(l).getTrimmed().isEqual(s)?l:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const r=e.document.selection.getFirstRange();if(e.markers.has(Yr))t.updateMarker(Yr,{range:r});else if(r.start.isAtEnd){const s=r.start.getLastMatchingPosition(({item:l})=>!e.schema.isContent(l),{boundaries:r});t.addMarker(Yr,{usingOperation:!1,affectsData:!1,range:t.createRange(s,r.end)})}else t.addMarker(Yr,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Yr)&&e.change(t=>{t.removeMarker(Yr)})}}function B0(a){return a.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const jB=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Ax extends ue{static get requires(){return[qr]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new kC(e.model,r=>{if(!function(l){return l.length>4&&l[l.length-1]===" "&&l[l.length-2]!==" "}(r))return;const s=Cx(r.substr(0,r.length-1));return s?{url:s}:void 0});t.on("matched:data",(r,s)=>{const{batch:l,range:u,url:p}=s;if(!l.isTyping)return;const g=u.end.getShiftedBy(-1),v=g.getShiftedBy(-p.length),_=e.model.createRange(v,g);this._applyAutoLink(p,_)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const l=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const s=t.document.selection.getFirstPosition(),l=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:r,range:s}=mC(e,t),l=Cx(r);if(l){const u=t.createRange(s.end.getShiftedBy(-l.length),s.end);this._applyAutoLink(l,u)}}_applyAutoLink(e,t){const r=this.editor.model,s=M0(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(l,u){return u.schema.checkAttributeInSelection(u.createSelection(l),"linkHref")}(t,r)&&fx(s)&&!function(l){const u=l.start.nodeAfter;return!!u&&u.hasAttribute("linkHref")}(t)&&this._persistAutoLink(s,t)}_persistAutoLink(e,t){const r=this.editor.model,s=this.editor.plugins.get("Delete");r.enqueueChange(l=>{l.setAttribute("linkHref",e,t),r.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function Cx(a){const e=jB.exec(a);return e?e[2]:null}class RB extends ue{static get requires(){return["ImageEditing","ImageUtils",N0]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(r){const s=r.plugins.has("ImageInlineEditing"),l=r.plugins.get("ImageUtils");return u=>{u.on("element:a",(p,g,v)=>{const _=g.viewItem,A=l.findViewImgElement(_);if(!A)return;const E=A.findAncestor($=>l.isBlockImageView($));if(s&&!E)return;const I={attributes:["href"]};if(!v.consumable.consume(_,I))return;const B=_.getAttribute("href");if(!B)return;let j=g.modelCursor.parent;if(!j.is("element","imageBlock")){const $=v.convertItem(A,g.modelCursor);g.modelRange=$.modelRange,g.modelCursor=$.modelCursor,j=g.modelCursor.nodeBefore}j&&j.is("element","imageBlock")&&v.writer.setAttribute("linkHref",B,j)},{priority:"high"})}}(e)),e.conversion.for("downcast").add(function(r){const s=r.plugins.get("ImageUtils");return l=>{l.on("attribute:linkHref:imageBlock",(u,p,g)=>{if(!g.consumable.consume(p.item,u.name))return;const v=g.mapper.toViewElement(p.item),_=g.writer,A=Array.from(v.getChildren()).find(B=>B.is("element","a")),E=s.findViewImgElement(v),I=E.parent.is("element","picture")?E.parent:E;if(A)p.attributeNewValue?_.setAttribute("href",p.attributeNewValue,A):(_.move(_.createRangeOn(I),_.createPositionAt(v,0)),_.remove(A));else{const B=_.createContainerElement("a",{href:p.attributeNewValue});_.insert(_.createPositionAt(v,0),B),_.move(_.createRangeOn(I),_.createPositionAt(B,0))}},{priority:"high"})}}(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const r of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:r.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:r.id}),e.conversion.for("downcast").add(FB(r)),e.conversion.for("upcast").add($B(e,r))}}function FB(a){return e=>{e.on(`attribute:${a.id}:imageBlock`,(t,r,s)=>{const l=s.mapper.toViewElement(r.item),u=Array.from(l.getChildren()).find(p=>p.is("element","a"));if(u){for(const[p,g]of Rr(a.attributes))s.writer.setAttribute(p,g,u);a.classes&&s.writer.addClass(a.classes,u);for(const p in a.styles)s.writer.setStyle(p,a.styles[p],u)}})}}function $B(a,e){const t=a.plugins.has("ImageInlineEditing"),r=a.plugins.get("ImageUtils");return s=>{s.on("element:a",(l,u,p)=>{const g=u.viewItem,v=r.findViewImgElement(g);if(!v)return;const _=v.findAncestor(I=>r.isBlockImageView(I));if(t&&!_)return;const A=new Zi(e._createPattern()).match(g);if(!A||!p.consumable.consume(g,A.match))return;const E=u.modelCursor.nodeBefore||u.modelCursor.parent;p.writer.setAttribute(e.id,!0,E)},{priority:"high"})}}class VB extends ue{static get requires(){return[N0,yx,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,s)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(s.preventDefault(),r.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",r=>{const s=new ot(r),l=e.plugins.get("LinkUI"),u=e.commands.get("link");return s.set({isEnabled:!0,label:t("Link image"),icon:_x,keystroke:kf,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(u,"isEnabled"),s.bind("isOn").to(u,"value",p=>!!p),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?l._addActionsView():l._showUI(!0)}),s})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}var xx=o(4330),UB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(xx.Z,UB),xx.Z.locals;var Ex=o(3190),HB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Ex.Z,HB),Ex.Z.locals;var Sx=o(4784),WB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Sx.Z,WB),Sx.Z.locals;function qB(a,e){const t=e.mapper,r=e.writer,s=a.getAttribute("listType")=="numbered"?"ol":"ul",l=function(p){const g=p.createContainerElement("li");return g.getFillerOffset=KB,g}(r),u=r.createContainerElement(s,null);return r.insert(r.createPositionAt(u,0),l),t.bindElements(a,l),l}function Dx(a,e,t,r){const s=e.parent,l=t.mapper,u=t.writer;let p=l.toViewPosition(r.createPositionBefore(a));const g=Ix(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),v=a.previousSibling;if(g&&g.getAttribute("listIndent")==a.getAttribute("listIndent")){const _=l.toViewElement(g);p=u.breakContainer(u.createPositionAfter(_))}else if(v&&v.name=="listItem"){p=l.toViewPosition(r.createPositionAt(v,"end"));const _=l.findMappedViewAncestor(p),A=function(E){for(const I of E.getChildren())if(I.name=="ul"||I.name=="ol")return I;return null}(_);p=A?u.createPositionBefore(A):u.createPositionAt(_,"end")}else p=l.toViewPosition(r.createPositionBefore(a));if(p=Tx(p),u.insert(p,s),v&&v.name=="listItem"){const _=l.toViewElement(v),A=u.createRange(u.createPositionAt(_,0),p).getWalker({ignoreElementEnd:!0});for(const E of A)if(E.item.is("element","li")){const I=u.breakContainer(u.createPositionBefore(E.item)),B=E.item.parent,j=u.createPositionAt(e,"end");Ji(u,j.nodeBefore,j.nodeAfter),u.move(u.createRangeOn(B),j),A._position=I}}else{const _=s.nextSibling;if(_&&(_.is("element","ul")||_.is("element","ol"))){let A=null;for(const E of _.getChildren()){const I=l.toModelElement(E);if(!(I&&I.getAttribute("listIndent")>a.getAttribute("listIndent")))break;A=E}A&&(u.breakContainer(u.createPositionAfter(A)),u.move(u.createRangeOn(A.parent),u.createPositionAt(e,"end")))}}Ji(u,s,s.nextSibling),Ji(u,s.previousSibling,s)}function Ji(a,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function Tx(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Ix(a,e){const t=!!e.sameIndent,r=!!e.smallerIndent,s=e.listIndent;let l=a;for(;l&&l.name=="listItem";){const u=l.getAttribute("listIndent");if(t&&s==u||r&&s>u)return l;l=e.direction==="forward"?l.nextSibling:l.previousSibling}return null}function Mx(a,e,t,r){a.ui.componentFactory.add(e,s=>{const l=a.commands.get(e),u=new ot(s);return u.set({label:t,icon:r,tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),u.on("execute",()=>{a.execute(e),a.editing.view.focus()}),u})}function L0(a,e){const t=[],r=a.parent,s={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},l=r.getAttribute("listIndent"),u=[...new Vr(s)].filter(p=>p.item.is("element")).map(p=>p.item);for(const p of u){if(!p.is("element","listItem")||p.getAttribute("listIndent")<l)break;if(!(p.getAttribute("listIndent")>l)){if(p.getAttribute("listType")!==r.getAttribute("listType")||p.getAttribute("listStyle")!==r.getAttribute("listStyle")||p.getAttribute("listReversed")!==r.getAttribute("listReversed")||p.getAttribute("listStart")!==r.getAttribute("listStart"))break;e==="backward"?t.unshift(p):t.push(p)}}return t}const GB=["disc","circle","square"],YB=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function KB(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:u_.call(this)}class ZB extends ue{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Mx(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Mx(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const QB=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:t}of QB);var Nx=o(5782),JB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Nx.Z,JB),Nx.Z.locals;var Ox=o(9938),XB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Ox.Z,XB),Ox.Z.locals;var Px=o(2591),eL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Px.Z,eL),Px.Z.locals;class Bx extends bt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let r=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const l=r[r.length-1];let u=l.nextSibling;for(;u&&u.name=="listItem"&&u.getAttribute("listIndent")>l.getAttribute("listIndent");)r.push(u),u=u.nextSibling;this._indentBy<0&&(r=r.reverse());for(const p of r){const g=p.getAttribute("listIndent")+this._indentBy;g<0?s.rename(p,"paragraph"):s.setAttribute("listIndent",g,p)}this.fire("_executeCleanup",r)})}_checkEnabled(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),r=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==r;s=s.previousSibling}return!1}return!0}}class Lx extends bt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document,s=Array.from(r.selection.getSelectedBlocks()).filter(u=>jx(u,t.schema)),l=e.forceValue!==void 0?!e.forceValue:this.value;t.change(u=>{if(l){let p=s[s.length-1].nextSibling,g=Number.POSITIVE_INFINITY,v=[];for(;p&&p.name=="listItem"&&p.getAttribute("listIndent")!==0;){const _=p.getAttribute("listIndent");_<g&&(g=_);const A=_-g;v.push({element:p,listIndent:A}),p=p.nextSibling}v=v.reverse();for(const _ of v)u.setAttribute("listIndent",_.listIndent,_.element)}if(!l){let p=Number.POSITIVE_INFINITY;for(const g of s)g.is("element","listItem")&&g.getAttribute("listIndent")<p&&(p=g.getAttribute("listIndent"));p=p===0?1:p,zx(s,!0,p),zx(s,!1,p)}for(const p of s.reverse())l&&p.name=="listItem"?u.rename(p,"paragraph"):l||p.name=="listItem"?l||p.name!="listItem"||p.getAttribute("listType")==this.type||u.setAttribute("listType",this.type,p):(u.setAttributes({listType:this.type,listIndent:0},p),u.rename(p,"listItem"));this.fire("_executeCleanup",s)})}_getValue(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=_n(e.getSelectedBlocks());return!!r&&jx(r,t)}}function zx(a,e,t){const r=e?a[0]:a[a.length-1];if(r.is("element","listItem")){let s=r[e?"previousSibling":"nextSibling"],l=r.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)l>s.getAttribute("listIndent")&&(l=s.getAttribute("listIndent")),s.getAttribute("listIndent")==l&&a[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function jx(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class tL extends ue{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return GB.includes(t)?"bulleted":YB.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let r=[...t.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const l=t.change(u=>u.createPositionAt(s,0));return[...L0(l,"backward"),...L0(l,"forward")]}).flat();return r=[...new Set(r)],r}(e)}getSiblingNodes(e,t){return L0(e,t)}}function Rx(a){return(e,t,r)=>{const s=r.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const l=t.item;Dx(l,qB(l,r),r,a)}}const nL=(a,e,t)=>{if(!t.consumable.test(e.item,a.name))return;const r=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(r)),s.breakContainer(s.createPositionAfter(r));const l=r.parent,u=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(u,l)},iL=(a,e,t)=>{t.consumable.consume(e.item,a.name);const r=t.mapper.toViewElement(e.item).parent,s=t.writer;Ji(s,r,r.nextSibling),Ji(s,r.previousSibling,r)},Fx=(a,e,t)=>{if(t.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let r=t.mapper.toViewPosition(e.range.start);const s=t.writer,l=[];for(;(r.parent.name=="ul"||r.parent.name=="ol")&&(r=s.breakContainer(r),r.parent.name=="li");){const u=r,p=s.createPositionAt(r.parent,"end");if(!u.isEqual(p)){const g=s.remove(s.createRange(u,p));l.push(g)}r=s.createPositionAfter(r.parent)}if(l.length>0){for(let u=0;u<l.length;u++){const p=r.nodeBefore;if(r=s.insert(r,l[u]).end,u>0){const g=Ji(s,p,p.nextSibling);g&&g.parent==p&&r.offset--}}Ji(s,r.nodeBefore,r.nodeAfter)}}},rL=(a,e,t)=>{const r=t.mapper.toViewPosition(e.position),s=r.nodeBefore,l=r.nodeAfter;Ji(t.writer,s,l)},oL=(a,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const r=t.writer,s=r.createElement("listItem"),l=function(g){let v=0,_=g.parent;for(;_;){if(_.is("element","li"))v++;else{const A=_.previousSibling;A&&A.is("element","li")&&v++}_=_.parent}return v}(e.viewItem);r.setAttribute("listIndent",l,s);const u=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(r.setAttribute("listType",u,s),!t.safeInsert(s,e.modelCursor))return;const p=function(g,v,_){const{writer:A,schema:E}=_;let I=A.createPositionAfter(g);for(const B of v)if(B.name=="ul"||B.name=="ol")I=_.convertItem(B,I).modelCursor;else{const j=_.convertItem(B,A.createPositionAt(g,"end")),$=j.modelRange.start.nodeAfter;$&&$.is("element")&&!E.checkChild(g,$.name)&&(g=j.modelCursor.parent.is("element","listItem")?j.modelCursor.parent:cL(j.modelCursor),I=A.createPositionAfter(g))}return I}(s,e.viewItem.getChildren(),t);e.modelRange=r.createRange(e.modelCursor,p),t.updateConversionResult(s,e)}},$x=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const r=Array.from(e.viewItem.getChildren());for(const s of r)!(s.is("element","li")||gc(s))&&s._remove()}},sL=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const r=[...e.viewItem.getChildren()];let s=!1;for(const l of r)s&&!gc(l)&&l._remove(),gc(l)&&(s=!0)}};function Vx(a){return(e,t)=>{if(t.isPhantom)return;const r=t.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){const s=t.mapper.toViewElement(r),l=s.getAncestors().find(gc),u=a.createPositionAt(s,0).getWalker();for(const p of u){if(p.type=="elementStart"&&p.item.is("element","li")){t.viewPosition=p.previousPosition;break}if(p.type=="elementEnd"&&p.item==l){t.viewPosition=p.nextPosition;break}}}}}const aL=function(a,[e,t]){const r=this;let s,l=e.is("documentFragment")?e.getChild(0):e;if(s=t?r.createSelection(t):r.document.selection,l&&l.is("element","listItem")){const u=s.getFirstPosition();let p=null;if(u.parent.is("element","listItem")?p=u.parent:u.nodeBefore&&u.nodeBefore.is("element","listItem")&&(p=u.nodeBefore),p){const g=p.getAttribute("listIndent");if(g>0)for(;l&&l.is("element","listItem");)l._setAttribute("listIndent",l.getAttribute("listIndent")+g),l=l.nextSibling}}};function cL(a){const e=new Vr({startPosition:a});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function Ux(a,e,t,r,s,l){const u=Ix(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),p=s.mapper,g=s.writer,v=u?u.getAttribute("listIndent"):null;let _;if(u)if(v==a){const A=p.toViewElement(u).parent;_=g.createPositionAfter(A)}else{const A=l.createPositionAt(u,"end");_=p.toViewPosition(A)}else _=t;_=Tx(_);for(const A of[...r.getChildren()])gc(A)&&(_=g.move(g.createRangeOn(A),_).end,Ji(g,A,A.nextSibling),Ji(g,A.previousSibling,A))}function gc(a){return a.is("element","ol")||a.is("element","ul")}class lL extends ue{static get pluginName(){return"ListEditing"}static get requires(){return[cf,qr,tL]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,r=e.editing;var s;e.model.document.registerPostFixer(u=>function(p,g){const v=p.document.differ.getChanges(),_=new Map;let A=!1;for(const j of v)if(j.type=="insert"&&j.name=="listItem")E(j.position);else if(j.type=="insert"&&j.name!="listItem"){if(j.name!="$text"){const $=j.position.nodeAfter;$.hasAttribute("listIndent")&&(g.removeAttribute("listIndent",$),A=!0),$.hasAttribute("listType")&&(g.removeAttribute("listType",$),A=!0),$.hasAttribute("listStyle")&&(g.removeAttribute("listStyle",$),A=!0),$.hasAttribute("listReversed")&&(g.removeAttribute("listReversed",$),A=!0),$.hasAttribute("listStart")&&(g.removeAttribute("listStart",$),A=!0);for(const G of Array.from(p.createRangeIn($)).filter(te=>te.item.is("element","listItem")))E(G.previousPosition)}E(j.position.getShiftedBy(j.length))}else j.type=="remove"&&j.name=="listItem"?E(j.position):(j.type=="attribute"&&j.attributeKey=="listIndent"||j.type=="attribute"&&j.attributeKey=="listType")&&E(j.range.start);for(const j of _.values())I(j),B(j);return A;function E(j){const $=j.nodeBefore;if($&&$.is("element","listItem")){let G=$;if(_.has(G))return;for(let te=G.previousSibling;te&&te.is("element","listItem");te=G.previousSibling)if(G=te,_.has(G))return;_.set($,G)}else{const G=j.nodeAfter;G&&G.is("element","listItem")&&_.set(G,G)}}function I(j){let $=0,G=null;for(;j&&j.is("element","listItem");){const te=j.getAttribute("listIndent");if(te>$){let le;G===null?(G=te-$,le=$):(G>te&&(G=te),le=te-G),g.setAttribute("listIndent",le,j),A=!0}else G=null,$=j.getAttribute("listIndent")+1;j=j.nextSibling}}function B(j){let $=[],G=null;for(;j&&j.is("element","listItem");){const te=j.getAttribute("listIndent");if(G&&G.getAttribute("listIndent")>te&&($=$.slice(0,te+1)),te!=0)if($[te]){const le=$[te];j.getAttribute("listType")!=le&&(g.setAttribute("listType",le,j),A=!0)}else $[te]=j.getAttribute("listType");G=j,j=j.nextSibling}}}(e.model,u)),r.mapper.registerViewToModelLength("li",z0),t.mapper.registerViewToModelLength("li",z0),r.mapper.on("modelToViewPosition",Vx(r.view)),r.mapper.on("viewToModelPosition",(s=e.model,(u,p)=>{const g=p.viewPosition,v=g.parent,_=p.mapper;if(v.name=="ul"||v.name=="ol"){if(g.isAtEnd){const A=_.toModelElement(g.nodeBefore),E=_.getModelLength(g.nodeBefore);p.modelPosition=s.createPositionBefore(A).getShiftedBy(E)}else{const A=_.toModelElement(g.nodeAfter);p.modelPosition=s.createPositionBefore(A)}u.stop()}else if(v.name=="li"&&g.nodeBefore&&(g.nodeBefore.name=="ul"||g.nodeBefore.name=="ol")){const A=_.toModelElement(v);let E=1,I=g.nodeBefore;for(;I&&gc(I);)E+=_.getModelLength(I),I=I.previousSibling;p.modelPosition=s.createPositionBefore(A).getShiftedBy(E),u.stop()}})),t.mapper.on("modelToViewPosition",Vx(r.view)),e.conversion.for("editingDowncast").add(u=>{u.on("insert",Fx,{priority:"high"}),u.on("insert:listItem",Rx(e.model)),u.on("attribute:listType:listItem",nL,{priority:"high"}),u.on("attribute:listType:listItem",iL,{priority:"low"}),u.on("attribute:listIndent:listItem",function(p){return(g,v,_)=>{if(!_.consumable.consume(v.item,"attribute:listIndent"))return;const A=_.mapper.toViewElement(v.item),E=_.writer;E.breakContainer(E.createPositionBefore(A)),E.breakContainer(E.createPositionAfter(A));const I=A.parent,B=I.previousSibling,j=E.createRangeOn(I);E.remove(j),B&&B.nextSibling&&Ji(E,B,B.nextSibling),Ux(v.attributeOldValue+1,v.range.start,j.start,A,_,p),Dx(v.item,A,_,p);for(const $ of v.item.getChildren())_.consumable.consume($,"insert")}}(e.model)),u.on("remove:listItem",function(p){return(g,v,_)=>{const A=_.mapper.toViewPosition(v.position).getLastMatchingPosition(G=>!G.item.is("element","li")).nodeAfter,E=_.writer;E.breakContainer(E.createPositionBefore(A)),E.breakContainer(E.createPositionAfter(A));const I=A.parent,B=I.previousSibling,j=E.createRangeOn(I),$=E.remove(j);B&&B.nextSibling&&Ji(E,B,B.nextSibling),Ux(_.mapper.toModelElement(A).getAttribute("listIndent")+1,v.position,j.start,A,_,p);for(const G of E.createRangeIn($).getItems())_.mapper.unbindViewElement(G);g.stop()}}(e.model)),u.on("remove",rL,{priority:"low"})}),e.conversion.for("dataDowncast").add(u=>{u.on("insert",Fx,{priority:"high"}),u.on("insert:listItem",Rx(e.model))}),e.conversion.for("upcast").add(u=>{u.on("element:ul",$x,{priority:"high"}),u.on("element:ol",$x,{priority:"high"}),u.on("element:li",sL,{priority:"high"}),u.on("element:li",oL)}),e.model.on("insertContent",aL,{priority:"high"}),e.commands.add("numberedList",new Lx(e,"numbered")),e.commands.add("bulletedList",new Lx(e,"bulleted")),e.commands.add("indentList",new Bx(e,"forward")),e.commands.add("outdentList",new Bx(e,"backward"));const l=r.view.document;this.listenTo(l,"enter",(u,p)=>{const g=this.editor.model.document,v=g.selection.getLastPosition().parent;g.selection.isCollapsed&&v.name=="listItem"&&v.isEmpty&&(this.editor.execute("outdentList"),p.preventDefault(),u.stop())},{context:"li"}),this.listenTo(l,"delete",(u,p)=>{if(p.direction!=="backward")return;const g=this.editor.model.document.selection;if(!g.isCollapsed)return;const v=g.getFirstPosition();if(!v.isAtStart)return;const _=v.parent;_.name==="listItem"&&(_.previousSibling&&_.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),p.preventDefault(),u.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(u,p)=>{const g=p.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(e.execute(g),p.stopPropagation(),p.preventDefault(),u.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),r=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),r&&r.registerChildCommand(e.get("outdentList"))}}function z0(a){let e=1;for(const t of a.getChildren())if(t.name=="ul"||t.name=="ol")for(const r of t.getChildren())e+=z0(r);return e}Ql("Ctrl+Enter");var Hx=o(9292),dL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Hx.Z,dL),Hx.Z.locals,Ql("Ctrl+Enter");function Wx(a,e){const t=(r,s,l)=>{if(!l.consumable.consume(s.item,r.name))return;const u=s.attributeNewValue,p=l.writer,g=l.mapper.toViewElement(s.item),v=[...g.getChildren()].find(A=>A.getCustomProperty("media-content"));p.remove(v);const _=a.getMediaViewElement(p,u,e);p.insert(p.createPositionAt(g,0),_)};return r=>{r.on("attribute:url:media",t)}}function qx(a,e,t,r){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,t,r),a.createSlot()])}function Gx(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function Yx(a,e,t,r){a.change(s=>{const l=s.createElement("media",{url:e});a.insertObject(l,t,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})})}class uL extends bt{refresh(){const e=this.editor.model,t=e.document.selection,r=Gx(t);this.value=r?r.getAttribute("url"):void 0,this.isEnabled=function(s){const l=s.getSelectedElement();return!!l&&l.name==="media"}(t)||function(s,l){let p=k0(s,l).start.parent;return p.isEmpty&&!l.schema.isLimit(p)&&(p=p.parent),l.schema.checkChild(p,"media")}(t,e)}execute(e){const t=this.editor.model,r=t.document.selection,s=Gx(r);s?t.change(l=>{l.setAttribute("url",e,s)}):Yx(t,e,r,!0)}}class hL{constructor(e,t){const r=t.providers,s=t.extraProviders||[],l=new Set(t.removeProviders),u=r.concat(s).filter(p=>{const g=p.name;return g?!l.has(g):(F("media-embed-no-provider-name",{provider:p}),!1)});this.locale=e,this.providerDefinitions=u}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,r){return this._getMedia(t).getViewElement(e,r)}_getMedia(e){if(!e)return new Kx(this.locale);e=e.trim();for(const t of this.providerDefinitions){const r=t.html,s=vn(t.url);for(const l of s){const u=this._getUrlMatches(e,l);if(u)return new Kx(this.locale,e,u,r)}}return null}_getUrlMatches(e,t){let r=e.match(t);if(r)return r;let s=e.replace(/^https?:\/\//,"");return r=s.match(t),r||(s=s.replace(/^www\./,""),r=s.match(t),r||null)}}class Kx{constructor(e,t,r,s){this.url=this._getValidUrl(t),this._locale=e,this._match=r,this._previewRenderer=s}getViewElement(e,t){const r={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),t.renderForEditingView&&(r.class="ck-media__wrapper");const l=this._getPreviewHtml(t);s=e.createRawElement("div",r,(u,p)=>{p.setContentOf(u,l)})}else this.url&&(r.url=this.url),s=e.createEmptyElement(t.elementName,r);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new bo,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Wr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var Zx=o(1922),fL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Zx.Z,fL),Zx.Z.locals;class bf extends ue{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const r=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new hL(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,r=e.t,s=e.conversion,l=e.config.get("mediaEmbed.previewsInData"),u=e.config.get("mediaEmbed.elementName"),p=this.registry;e.commands.add("mediaEmbed",new uL(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(g,{writer:v})=>{const _=g.getAttribute("url");return qx(v,p,_,{elementName:u,renderMediaPreview:!!_&&l})}}),s.for("dataDowncast").add(Wx(p,{elementName:u,renderMediaPreview:l})),s.for("editingDowncast").elementToStructure({model:"media",view:(g,{writer:v})=>{const _=g.getAttribute("url");return function(A,E,I){return E.setCustomProperty("media",!0,A),m0(A,E,{label:I})}(qx(v,p,_,{elementName:u,renderForEditingView:!0}),v,r("media widget"))}}),s.for("editingDowncast").add(Wx(p,{elementName:u,renderForEditingView:!0})),s.for("upcast").elementToElement({view:g=>["oembed",u].includes(g.name)&&g.getAttribute("url")?{name:!0}:null,model:(g,{writer:v})=>{const _=g.getAttribute("url");return p.hasMedia(_)?v.createElement("media",{url:_}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(g,{writer:v})=>{const _=g.getAttribute("data-oembed-url");return p.hasMedia(_)?v.createElement("media",{url:_}):null}}).add(g=>{g.on("element:figure",(v,_,A)=>{if(!A.consumable.consume(_.viewItem,{name:!0,classes:"media"}))return;const{modelRange:E,modelCursor:I}=A.convertChildren(_.viewItem,_.modelCursor);_.modelRange=E,_.modelCursor=I,_n(E.getItems())||A.consumable.revert(_.viewItem,{name:!0,classes:"media"})})})}}const pL=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class gL extends ue{static get requires(){return[v0,qr,_0]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const s=t.selection.getFirstRange(),l=nn.fromPosition(s.start);l.stickiness="toPrevious";const u=nn.fromPosition(s.end);u.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const r=this.editor,s=r.plugins.get(bf).registry,l=new ui(e,t),u=l.getWalker({ignoreElementEnd:!0});let p="";for(const g of u)g.item.is("$textProxy")&&(p+=g.item.data);if(p=p.trim(),!p.match(pL)||!s.hasMedia(p))return void l.detach();r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=nn.fromPosition(e),this._timeoutId=Ae.window.setTimeout(()=>{r.model.change(g=>{this._timeoutId=null,g.remove(l),l.detach();let v=null;this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert),Yx(r.model,p,v,!1),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get(qr).requestUndoOnBackspace()},100)):l.detach()}}var Qx=o(7138),mL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Qx.Z,mL),Qx.Z.locals;class kL extends Be{constructor(e,t){super(t);const r=t.t;this.focusTracker=new di,this.keystrokes=new kr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Ue.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(r("Cancel"),Ue.cancel,"ck-button-cancel","cancel"),this._focusables=new Hr,this._focusCycler=new wo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),qh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new md(this.locale,kd),r=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,r.on("input",()=>{t.infoText=r.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=r.element.value.trim()}),t}_createButton(e,t,r,s){const l=new ot(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),s&&l.delegate("execute").to(this,s),l}}class bL extends ue{static get requires(){return[bf]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",r=>{const s=es(r);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const r=this.editor,s=r.t,l=e.buttonView,u=r.plugins.get(bf).registry;e.once("change:isOpen",()=>{const p=new(qm(kL))(function(g,v){return[_=>{if(!_.url.length)return g("The URL must not be empty.")},_=>{if(!v.hasMedia(_.url))return g("This media URL is not supported.")}]}(r.t,u),r.locale);e.panelView.children.add(p),l.on("open",()=>{p.disableCssTransitions(),p.url=t.value||"",p.urlInputView.fieldView.select(),p.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{p.isValid()&&(r.execute("mediaEmbed",p.url),r.editing.view.focus())}),e.on("change:isOpen",()=>p.resetFormStatus()),e.on("cancel",()=>{r.editing.view.focus()}),p.delegate("submit","cancel").to(e),p.urlInputView.fieldView.bind("value").to(t,"value"),p.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),l.set({label:s("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var Jx=o(8705),wL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Jx.Z,wL),Jx.Z.locals;function vL(a,e){if(!a.childCount)return;const t=new ra(a.document),r=function(u,p){const g=p.createRangeIn(u),v=new Zi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),_=[];for(const A of g)if(A.type==="elementStart"&&v.match(A.item)){const E=yL(A.item);_.push({element:A.item,id:E.id,order:E.order,indent:E.indent})}return _}(a,t);if(!r.length)return;let s=null,l=1;r.forEach((u,p)=>{const g=function(B,j){if(!B)return!0;if(B.id!==j.id)return j.indent-B.indent!=1;const $=j.element.previousSibling;if(!$)return!0;return G=$,!(G.is("element","ol")||G.is("element","ul"));var G}(r[p-1],u),v=g?null:r[p-1],_=(E=u,(A=v)?E.indent-A.indent:E.indent-1);var A,E;if(g&&(s=null,l=1),!s||_!==0){const B=function(j,$){const G=new RegExp(`@list l${j.id}:level${j.indent}\\s*({[^}]*)`,"gi"),te=/mso-level-number-format:([^;]{0,100});/gi,le=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,xe=G.exec($);let We="decimal",gi="ol",Kr=null;if(xe&&xe[1]){const Jn=te.exec(xe[1]);if(Jn&&Jn[1]&&(We=Jn[1].trim(),gi=We!=="bullet"&&We!=="image"?"ol":"ul"),We==="bullet"){const rs=function(BL){const s2=function(a2){if(a2.getChild(0).is("$text"))return null;for(const c2 of a2.getChildren()){if(!c2.is("element","span"))continue;const wf=c2.getChild(0);if(wf)return wf.is("$text")?wf:wf.getChild(0)}return null}(BL);if(!s2)return null;const R0=s2._data;return R0==="o"?"circle":R0===""?"disc":R0===""?"square":null}(j.element);rs&&(We=rs)}else{const rs=le.exec(xe[1]);rs&&rs[1]&&(Kr=parseInt(rs[1]))}}return{type:gi,startIndex:Kr,style:_L(We)}}(u,e);if(s){if(u.indent>l){const j=s.getChild(s.childCount-1),$=j.getChild(j.childCount-1);s=Xx(B,$,t),l+=1}else if(u.indent<l){const j=l-u.indent;s=function($,G){const te=$.getAncestors({parentFirst:!0});let le=null,xe=0;for(const We of te)if((We.is("element","ul")||We.is("element","ol"))&&xe++,xe===G){le=We;break}return le}(s,j),l=u.indent}}else s=Xx(B,u.element,t);u.indent<=l&&(s.is("element",B.type)||(s=t.rename(B.type,s)))}const I=function(B,j){return function($,G){const te=new Zi({name:"span",styles:{"mso-list":"Ignore"}}),le=G.createRangeIn($);for(const xe of le)xe.type==="elementStart"&&te.match(xe.item)&&G.remove(xe.item)}(B,j),j.removeStyle("text-indent",B),j.rename("li",B)}(u.element,t);t.appendChild(I,s)})}function _L(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function Xx(a,e,t){const r=e.parent,s=t.createElement(a.type),l=r.getChildIndex(e)+1;return t.insertChild(l,s,r),a.style&&t.setStyle("list-style-type",a.style,s),a.startIndex&&a.startIndex>1&&t.setAttribute("start",a.startIndex,s),s}function yL(a){const e={},t=a.getStyle("mso-list");if(t){const r=t.match(/(^|\s{1,100})l(\d+)/i),s=t.match(/\s{0,100}lfo(\d+)/i),l=t.match(/\s{0,100}level(\d+)/i);r&&s&&l&&(e.id=r[2],e.order=s[1],e.indent=parseInt(l[1]))}return e}function AL(a,e){if(!a.childCount)return;const t=new ra(a.document),r=function(l,u){const p=u.createRangeIn(l),g=new Zi({name:/v:(.+)/}),v=[];for(const _ of p){if(_.type!="elementStart")continue;const A=_.item,E=A.previousSibling,I=E&&E.is("element")?E.name:null;g.match(A)&&A.getAttribute("o:gfxdata")&&I!=="v:shapetype"&&v.push(_.item.getAttribute("id"))}return v}(a,t);(function(l,u,p){const g=p.createRangeIn(u),v=new Zi({name:"img"}),_=[];for(const A of g)if(A.item.is("element")&&v.match(A.item)){const E=A.item,I=E.getAttribute("v:shapes")?E.getAttribute("v:shapes").split(" "):[];I.length&&I.every(B=>l.indexOf(B)>-1)?_.push(E):E.getAttribute("src")||_.push(E)}for(const A of _)p.remove(A)})(r,a,t),function(l,u,p){const g=p.createRangeIn(u),v=[];for(const E of g)if(E.type=="elementStart"&&E.item.is("element","v:shape")){const I=E.item.getAttribute("id");if(l.includes(I))continue;_(E.item.parent.getChildren(),I)||v.push(E.item)}for(const E of v){const I={src:A(E)};E.hasAttribute("alt")&&(I.alt=E.getAttribute("alt"));const B=p.createElement("img",I);p.insertChild(E.index+1,B,E.parent)}function _(E,I){for(const B of E)if(B.is("element")&&(B.name=="img"&&B.getAttribute("v:shapes")==I||_(B.getChildren(),I)))return!0;return!1}function A(E){for(const I of E.getChildren())if(I.is("element")&&I.getAttribute("src"))return I.getAttribute("src")}}(r,a,t),function(l,u){const p=u.createRangeIn(l),g=new Zi({name:/v:(.+)/}),v=[];for(const _ of p)_.type=="elementStart"&&g.match(_.item)&&v.push(_.item);for(const _ of v)u.remove(_)}(a,t);const s=function(l,u){const p=u.createRangeIn(l),g=new Zi({name:"img"}),v=[];for(const _ of p)_.item.is("element")&&g.match(_.item)&&_.item.getAttribute("src").startsWith("file://")&&v.push(_.item);return v}(a,t);s.length&&function(l,u,p){if(l.length===u.length)for(let g=0;g<l.length;g++){const v=`data:${u[g].type};base64,${CL(u[g].hex)}`;p.setAttribute("src",v,l[g])}}(s,function(l){if(!l)return[];const u=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,p=new RegExp("(?:("+u.source+"))([\\da-fA-F\\s]+)\\}","g"),g=l.match(p),v=[];if(g)for(const _ of g){let A=!1;_.includes("\\pngblip")?A="image/png":_.includes("\\jpegblip")&&(A="image/jpeg"),A&&v.push({hex:_.replace(u,"").replace(/[^\da-fA-F]/g,""),type:A})}return v}(e),t)}function CL(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const xL=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,EL=/xmlns:o="urn:schemas-microsoft-com/i;class SL{constructor(e){this.document=e}isActive(e){return xL.test(e)||EL.test(e)}execute(e){const{body:t,stylesString:r}=e._parsedData;vL(t,r),AL(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function e2(a,e,t,{blockElements:r,inlineObjectElements:s}){let l=t.createPositionAt(a,e=="forward"?"after":"before");return l=l.getLastMatchingPosition(({item:u})=>u.is("element")&&!r.includes(u.name)&&!s.includes(u.name),{direction:e}),e=="forward"?l.nodeAfter:l.nodeBefore}function t2(a,e){return!!a&&a.is("element")&&e.includes(a.name)}const DL=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class TL{constructor(e){this.document=e}isActive(e){return DL.test(e)}execute(e){const t=new ra(this.document),{body:r}=e._parsedData;(function(s,l){for(const u of s.getChildren())if(u.is("element","b")&&u.getStyle("font-weight")==="normal"){const p=s.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),s)}})(r,t),function(s,l){for(const u of l.createRangeIn(s)){const p=u.item;if(p.is("element","li")){const g=p.getChild(0);g&&g.is("element","p")&&l.unwrapElement(g)}}}(r,t),function(s,l){const u=new Oh(l.document.stylesProcessor),p=new Lh(u,{renderingMode:"data"}),g=p.blockElements,v=p.inlineObjectElements,_=[];for(const A of l.createRangeIn(s)){const E=A.item;if(E.is("element","br")){const I=e2(E,"forward",l,{blockElements:g,inlineObjectElements:v}),B=e2(E,"backward",l,{blockElements:g,inlineObjectElements:v}),j=t2(I,g);(t2(B,g)||j)&&_.push(E)}}for(const A of _)A.hasClass("Apple-interchange-newline")?l.remove(A):l.replace(A,l.createElement("p"))}(r,t),e.content=r}}const IL=/<google-sheets-html-origin/i;class ML{constructor(e){this.document=e}isActive(e){return IL.test(e)}execute(e){const t=new ra(this.document),{body:r}=e._parsedData;(function(s,l){for(const u of s.getChildren())if(u.is("element","google-sheets-html-origin")){const p=s.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),s)}})(r,t),function(s,l){for(const u of s.getChildren())u.is("element","table")&&u.hasAttribute("xmlns")&&l.removeAttribute("xmlns",u)}(r,t),function(s,l){for(const u of s.getChildren())u.is("element","table")&&u.getStyle("width")==="0px"&&l.removeStyle("width",u)}(r,t),function(s,l){for(const u of Array.from(s.getChildren()))u.is("element","style")&&l.remove(u)}(r,t),e.content=r}}function n2(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join(" ").substr(0,t.length))}function NL(a,e){const t=new DOMParser,r=function(g){return n2(n2(g)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(g){const v="</body>",_="</html>",A=g.indexOf(v);if(A<0)return g;const E=g.indexOf(_,A+v.length);return g.substring(0,A+v.length)+(E>=0?g.substring(E):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),s=t.parseFromString(r,"text/html");(function(g){g.querySelectorAll("span[style*=spacerun]").forEach(v=>{const _=v,A=_.innerText.length||0;_.innerText=Array(A+1).join(" ").substr(0,A)})})(s);const l=s.body.innerHTML,u=function(g,v){const _=new Oh(v),A=new Lh(_,{renderingMode:"data"}),E=g.createDocumentFragment(),I=g.body.childNodes;for(;I.length>0;)E.appendChild(I[0]);return A.domToView(E,{skipComments:!0})}(s,e),p=function(g){const v=[],_=[],A=Array.from(g.getElementsByTagName("style"));for(const E of A)E.sheet&&E.sheet.cssRules&&E.sheet.cssRules.length&&(v.push(E.sheet),_.push(E.innerHTML));return{styles:v,stylesString:_.join(" ")}}(s);return{body:u,bodyString:l,styles:p.styles,stylesString:p.stylesString}}const i2="fullscreen.closeOnEscape",r2="fullscreen.closeOnClick";var o2=o(5948),OL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(o2.Z,OL),o2.Z.locals;class j0 extends tf{}j0.builtinPlugins=[class extends ue{static get requires(){return[cP,lP]}static get pluginName(){return"Alignment"}},class extends ue{static get requires(){return[v0,pi,_0,qr]}static get pluginName(){return"AutoImage"}constructor(a){super(a),this._timeoutId=null,this._positionToInsert=null}init(){const a=this.editor,e=a.model.document,t=a.plugins.get("ClipboardPipeline");this.listenTo(t,"inputTransformation",()=>{const r=e.selection.getFirstRange(),s=nn.fromPosition(r.start);s.stickiness="toPrevious";const l=nn.fromPosition(r.end);l.stickiness="toNext",e.once("change:data",()=>{this._embedImageBetweenPositions(s,l),s.detach(),l.detach()},{priority:"high"})}),a.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(a,e){const t=this.editor,r=new ui(a,e),s=r.getWalker({ignoreElementEnd:!0}),l=Object.fromEntries(t.model.document.selection.getAttributes()),u=this.editor.plugins.get("ImageUtils");let p="";for(const g of s)g.item.is("$textProxy")&&(p+=g.item.data);p=p.trim(),p.match(y6)?(this._positionToInsert=nn.fromPosition(a),this._timeoutId=setTimeout(()=>{if(!t.commands.get("insertImage").isEnabled)return void r.detach();t.model.change(g=>{let v;this._timeoutId=null,g.remove(r),r.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert.toPosition()),u.insertImage({...l,src:p},v),this._positionToInsert.detach(),this._positionToInsert=null}),t.plugins.get("Delete").requestUndoOnBackspace()},100)):r.detach()}},Ax,class extends ue{static get requires(){return[qr]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&ns(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&ns(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&ns(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&ns(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=af(this.editor,"bold");hc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),hc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=af(this.editor,"italic");hc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),hc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=af(this.editor,"code");hc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=af(this.editor,"strikethrough");hc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],r=new RegExp(`^(#{${t}})\\s$`);ns(this.editor,this,r,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ns(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&ns(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ns(this.editor,this,/^---$/,"horizontalLine")}},class extends ue{static get requires(){return[sa]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(sa).createUploadAdapter=a=>new V6(a)}},class extends ue{static get requires(){return[DP,IP]}static get pluginName(){return"BlockQuote"}},class extends ue{static get requires(){return[bP,wP]}static get pluginName(){return"Bold"}},class extends ue{static get requires(){return[v0,cf,r6,EP,fP,_0]}static get pluginName(){return"Essentials"}},class extends ue{static get requires(){return[p6,m6]}static get pluginName(){return"Heading"}},class extends ue{static get requires(){return[w6,v6,yd]}static get pluginName(){return"HorizontalLine"}},class extends ue{static get requires(){return[N6,P6]}static get pluginName(){return"Image"}},class extends ue{static get requires(){return[L6,z6]}static get pluginName(){return"ImageCaption"}},class extends ue{static get pluginName(){return"ImageInsert"}static get requires(){return[L1,iB,R1]}},class extends ue{static get requires(){return[F1,sB,oB]}static get pluginName(){return"ImageResize"}},class extends ue{static get requires(){return[Q1,uB]}static get pluginName(){return"ImageStyle"}},class extends ue{static get requires(){return[VC,pi]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,t=a.plugins.get(VC),r=a.plugins.get("ImageUtils");var s;t.register("image",{ariaLabel:e("Image toolbar"),items:(s=a.config.get("image.toolbar")||[],s.map(l=>ge(l)?l.name:l)),getRelatedElement:l=>r.getClosestSelectedImageWidget(l)})}},L1,class extends ue{static get pluginName(){return"Indent"}static get requires(){return[hB,fB]}},class extends ue{static get requires(){return[_P,yP]}static get pluginName(){return"Italic"}},class extends ue{static get requires(){return[N0,yx,Ax]}static get pluginName(){return"Link"}},class extends ue{static get requires(){return[RB,VB]}static get pluginName(){return"LinkImage"}},class extends ue{static get requires(){return[lL,ZB]}static get pluginName(){return"List"}},class extends ue{static get requires(){return[bf,bL,gL,yd]}static get pluginName(){return"MediaEmbed"}},Ad,class extends ue{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Gr]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),t=a.editing.view.document,r=[];r.push(new SL(t)),r.push(new TL(t)),r.push(new ML(t)),e.on("inputTransformation",(s,l)=>{if(l._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=l.dataTransfer.getData("text/html"),p=r.find(g=>g.isActive(u));p&&(l._parsedData||(l._parsedData=NL(u,t.stylesProcessor)),p.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ue{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:pP}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,t=a.plugins.get("Delete"),r=function(l){const u=l.extra||[],p=l.remove||[],g=v=>!p.includes(v);return function(v){const _=new Set;for(const A of v)if(typeof A=="string"&&vC[A])for(const E of vC[A])_.add(E);else _.add(A);return Array.from(_)}(l.include.concat(u).filter(g)).filter(g).map(v=>typeof v=="string"&&wC[v]?wC[v]:v).filter(v=>typeof v=="object").map(v=>({from:gP(v.from),to:mP(v.to)}))}(a.config.get("typing.transformations")),s=new kC(a.model,l=>{for(const u of r)if(u.from.test(l))return{normalizedTransformation:u}});s.on("matched:data",(l,u)=>{if(!u.batch.isTyping)return;const{from:p,to:g}=u.normalizedTransformation,v=p.exec(u.text),_=g(v.slice(1)),A=u.range;let E=v.index;e.enqueueChange(I=>{for(let B=1;B<v.length;B++){const j=v[B],$=_[B-1];if($==null){E+=j.length;continue}const G=A.start.getShiftedBy(E),te=e.createRange(G,G.getShiftedBy(j.length)),le=kP(G);e.insertContent(I.createText($,le),te),E+=$.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}},class extends ue{static get pluginName(){return"FullScreen"}constructor(a){super(a),this.set("isFullScreen",!1),this.styles={}}init(){const a=this.editor,e=a.t;a.editing.view.document.getRoot(),a.config.define(i2,!0),a.config.define(r2,!0),a.ui.componentFactory.add("fullscreen",()=>{a.ui.view.element;const t=new ot;return t.set({label:e("Full screen"),icon:`<!-- https://github.com/astrit/css.gg/blob/master/icons/svg/maximize-alt.svg -->
<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 3H9V5H6.46173L11.3047 9.84298L9.8905 11.2572L5 6.3667V9H3V3Z" fill="black"/>
<path d="M3 21H9V19H6.3764L11.3046 14.0718L9.89038 12.6576L5 17.548V15H3V21Z" fill="black"/>
<path d="M15 21H21V15H19V17.5244L14.1332 12.6576L12.719 14.0718L17.6472 19H15V21Z" fill="black"/>
<path d="M21 3H15V5H17.5619L12.7189 9.84301L14.1331 11.2572L19 6.39032V9H21V3Z" fill="black"/>
</svg>
`,tooltip:!0}),t.bind("isOn").to(this,"isFullScreen"),a.config.get(i2),a.config.get(r2),t.on("execute",()=>{(r=>{const s=r.ui.view.editable.element;s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()})(this.editor)}),t})}_restoreStyle(a,e,t,r){t!==void 0?a.setStyle(e,t,r):a.removeStyle(e,r)}_restoreStyles(a,e){this._restoreStyle(a,"height",this.styles.height,e),this._restoreStyle(a,"overflow-y",this.styles["overflow-y"],e)}}],j0.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","alignment","|","imageInsert","blockQuote","mediaEmbed","undo","redo","fullscreen"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}};const PL=j0})(),c=c.default})());const OV=(Ut.exports==null?{}:Ut.exports).default||Ut.exports;(Ut.exports==null?{}:Ut.exports).InlineEditor;const _k="focusScope.autoFocusOnMount",yk="focusScope.autoFocusOnUnmount",m5={bubbles:!1,cancelable:!0},PV=M.forwardRef((i,n)=>{const{loop:o=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:h,...f}=i,[m,k]=M.useState(null),b=Bo(d),w=Bo(h),y=M.useRef(null),C=Vi(n,T=>k(T)),x=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(c){let L=function(J){if(x.paused||!m)return;const Y=J.target;m.contains(Y)?y.current=Y:ls(y.current,{select:!0})},S=function(J){if(x.paused||!m)return;const Y=J.relatedTarget;Y!==null&&(m.contains(Y)||ls(y.current,{select:!0}))},F=function(J){if(document.activeElement===document.body)for(const ee of J)ee.removedNodes.length>0&&ls(m)};var T=L,z=S,N=F;document.addEventListener("focusin",L),document.addEventListener("focusout",S);const H=new MutationObserver(F);return m&&H.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",L),document.removeEventListener("focusout",S),H.disconnect()}}},[c,m,x.paused]),M.useEffect(()=>{if(m){b5.add(x);const T=document.activeElement;if(!m.contains(T)){const N=new CustomEvent(_k,m5);m.addEventListener(_k,b),m.dispatchEvent(N),N.defaultPrevented||(BV(FV(cI(m)),{select:!0}),document.activeElement===T&&ls(m))}return()=>{m.removeEventListener(_k,b),setTimeout(()=>{const N=new CustomEvent(yk,m5);m.addEventListener(yk,w),m.dispatchEvent(N),N.defaultPrevented||ls(T??document.body,{select:!0}),m.removeEventListener(yk,w),b5.remove(x)},0)}}},[m,b,w,x]);const D=M.useCallback(T=>{if(!o&&!c||x.paused)return;const z=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,N=document.activeElement;if(z&&N){const L=T.currentTarget,[S,F]=LV(L);S&&F?!T.shiftKey&&N===F?(T.preventDefault(),o&&ls(S,{select:!0})):T.shiftKey&&N===S&&(T.preventDefault(),o&&ls(F,{select:!0})):N===L&&T.preventDefault()}},[o,c,x.paused]);return M.createElement(gn.div,je({tabIndex:-1},f,{ref:C,onKeyDown:D}))});function BV(i,{select:n=!1}={}){const o=document.activeElement;for(const c of i)if(ls(c,{select:n}),document.activeElement!==o)return}function LV(i){const n=cI(i),o=k5(n,i),c=k5(n.reverse(),i);return[o,c]}function cI(i){const n=[],o=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)n.push(o.currentNode);return n}function k5(i,n){for(const o of i)if(!zV(o,{upTo:n}))return o}function zV(i,{upTo:n}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(n!==void 0&&i===n)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function jV(i){return i instanceof HTMLInputElement&&"select"in i}function ls(i,{select:n=!1}={}){if(i&&i.focus){const o=document.activeElement;i.focus({preventScroll:!0}),i!==o&&jV(i)&&n&&i.select()}}const b5=RV();function RV(){let i=[];return{add(n){const o=i[0];n!==o&&(o==null||o.pause()),i=w5(i,n),i.unshift(n)},remove(n){var o;i=w5(i,n),(o=i[0])===null||o===void 0||o.resume()}}}function w5(i,n){const o=[...i],c=o.indexOf(n);return c!==-1&&o.splice(c,1),o}function FV(i){return i.filter(n=>n.tagName!=="A")}let Ak=0;function $V(){M.useEffect(()=>{var i,n;const o=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(i=o[0])!==null&&i!==void 0?i:v5()),document.body.insertAdjacentElement("beforeend",(n=o[1])!==null&&n!==void 0?n:v5()),Ak++,()=>{Ak===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(c=>c.remove()),Ak--}},[])}function v5(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",i}var Xr=function(){return Xr=Object.assign||function(n){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(n[h]=o[h])}return n},Xr.apply(this,arguments)};function lI(i,n){var o={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&n.indexOf(c)<0&&(o[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(i);d<c.length;d++)n.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(i,c[d])&&(o[c[d]]=i[c[d]]);return o}function VV(i,n,o){if(o||arguments.length===2)for(var c=0,d=n.length,h;c<d;c++)(h||!(c in n))&&(h||(h=Array.prototype.slice.call(n,0,c)),h[c]=n[c]);return i.concat(h||Array.prototype.slice.call(n))}var wp="right-scroll-bar-position",vp="width-before-scroll-bar",UV="with-scroll-bars-hidden",HV="--removed-body-scroll-bar-size";function Ck(i,n){return typeof i=="function"?i(n):i&&(i.current=n),i}function WV(i,n){var o=M.useState(function(){return{value:i,callback:n,facade:{get current(){return o.value},set current(c){var d=o.value;d!==c&&(o.value=c,o.callback(c,d))}}}})[0];return o.callback=n,o.facade}var _5=new WeakMap;function qV(i,n){var o=WV(n||null,function(c){return i.forEach(function(d){return Ck(d,c)})});return M.useLayoutEffect(function(){var c=_5.get(o);if(c){var d=new Set(c),h=new Set(i),f=o.current;d.forEach(function(m){h.has(m)||Ck(m,null)}),h.forEach(function(m){d.has(m)||Ck(m,f)})}_5.set(o,i)},[i]),o}function GV(i){return i}function YV(i,n){n===void 0&&(n=GV);var o=[],c=!1,d={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:i},useMedium:function(h){var f=n(h,c);return o.push(f),function(){o=o.filter(function(m){return m!==f})}},assignSyncMedium:function(h){for(c=!0;o.length;){var f=o;o=[],f.forEach(h)}o={push:function(m){return h(m)},filter:function(){return o}}},assignMedium:function(h){c=!0;var f=[];if(o.length){var m=o;o=[],m.forEach(h),f=o}var k=function(){var w=f;f=[],w.forEach(h)},b=function(){return Promise.resolve().then(k)};b(),o={push:function(w){f.push(w),b()},filter:function(w){return f=f.filter(w),o}}}};return d}function KV(i){i===void 0&&(i={});var n=YV(null);return n.options=Xr({async:!0,ssr:!1},i),n}var dI=function(i){var n=i.sideCar,o=lI(i,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=n.read();if(!c)throw new Error("Sidecar medium not found");return M.createElement(c,Xr({},o))};dI.isSideCarExport=!0;function ZV(i,n){return i.useMedium(n),dI}var uI=KV(),xk=function(){},Bg=M.forwardRef(function(i,n){var o=M.useRef(null),c=M.useState({onScrollCapture:xk,onWheelCapture:xk,onTouchMoveCapture:xk}),d=c[0],h=c[1],f=i.forwardProps,m=i.children,k=i.className,b=i.removeScrollBar,w=i.enabled,y=i.shards,C=i.sideCar,x=i.noIsolation,D=i.inert,T=i.allowPinchZoom,z=i.as,N=z===void 0?"div":z,L=lI(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=C,F=qV([o,n]),H=Xr(Xr({},L),d);return M.createElement(M.Fragment,null,w&&M.createElement(S,{sideCar:uI,removeScrollBar:b,shards:y,noIsolation:x,inert:D,setCallbacks:h,allowPinchZoom:!!T,lockRef:o}),f?M.cloneElement(M.Children.only(m),Xr(Xr({},H),{ref:F})):M.createElement(N,Xr({},H,{className:k,ref:F}),m))});Bg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bg.classNames={fullWidth:vp,zeroRight:wp};var y5,QV=function(){if(y5)return y5;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JV(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var n=QV();return n&&i.setAttribute("nonce",n),i}function XV(i,n){i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}function eU(i){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(i)}var tU=function(){var i=0,n=null;return{add:function(o){i==0&&(n=JV())&&(XV(n,o),eU(n)),i++},remove:function(){i--,!i&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},nU=function(){var i=tU();return function(n,o){M.useEffect(function(){return i.add(n),function(){i.remove()}},[n&&o])}},hI=function(){var i=nU(),n=function(o){var c=o.styles,d=o.dynamic;return i(c,d),null};return n},iU={left:0,top:0,right:0,gap:0},Ek=function(i){return parseInt(i||"",10)||0},rU=function(i){var n=window.getComputedStyle(document.body),o=n[i==="padding"?"paddingLeft":"marginLeft"],c=n[i==="padding"?"paddingTop":"marginTop"],d=n[i==="padding"?"paddingRight":"marginRight"];return[Ek(o),Ek(c),Ek(d)]},oU=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return iU;var n=rU(i),o=document.documentElement.clientWidth,c=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,c-o+n[2]-n[0])}},sU=hI(),aU=function(i,n,o,c){var d=i.left,h=i.top,f=i.right,m=i.gap;return o===void 0&&(o="margin"),`
  .`.concat(UV,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(m,"px ").concat(c,`;
  }
  body {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(c,";"),o==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(c,`;
    `),o==="padding"&&"padding-right: ".concat(m,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wp,` {
    right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(vp,` {
    margin-right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body {
    `).concat(HV,": ").concat(m,`px;
  }
`)},cU=function(i){var n=i.noRelative,o=i.noImportant,c=i.gapMode,d=c===void 0?"margin":c,h=M.useMemo(function(){return oU(d)},[d]);return M.createElement(sU,{styles:aU(h,!n,d,o?"":"!important")})},tw=!1;if(typeof window<"u")try{var Yf=Object.defineProperty({},"passive",{get:function(){return tw=!0,!0}});window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{tw=!1}var wc=tw?{passive:!1}:!1,lU=function(i){return i.tagName==="TEXTAREA"},fI=function(i,n){var o=window.getComputedStyle(i);return o[n]!=="hidden"&&!(o.overflowY===o.overflowX&&!lU(i)&&o[n]==="visible")},dU=function(i){return fI(i,"overflowY")},uU=function(i){return fI(i,"overflowX")},A5=function(i,n){var o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=pI(i,o);if(c){var d=gI(i,o),h=d[1],f=d[2];if(h>f)return!0}o=o.parentNode}while(o&&o!==document.body);return!1},hU=function(i){var n=i.scrollTop,o=i.scrollHeight,c=i.clientHeight;return[n,o,c]},fU=function(i){var n=i.scrollLeft,o=i.scrollWidth,c=i.clientWidth;return[n,o,c]},pI=function(i,n){return i==="v"?dU(n):uU(n)},gI=function(i,n){return i==="v"?hU(n):fU(n)},pU=function(i,n){return i==="h"&&n==="rtl"?-1:1},gU=function(i,n,o,c,d){var h=pU(i,window.getComputedStyle(n).direction),f=h*c,m=o.target,k=n.contains(m),b=!1,w=f>0,y=0,C=0;do{var x=gI(i,m),D=x[0],T=x[1],z=x[2],N=T-z-h*D;(D||N)&&pI(i,m)&&(y+=N,C+=D),m=m.parentNode}while(!k&&m!==document.body||k&&(n.contains(m)||n===m));return(w&&(d&&y===0||!d&&f>y)||!w&&(d&&C===0||!d&&-f>C))&&(b=!0),b},Kf=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},C5=function(i){return[i.deltaX,i.deltaY]},x5=function(i){return i&&"current"in i?i.current:i},mU=function(i,n){return i[0]===n[0]&&i[1]===n[1]},kU=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},bU=0,vc=[];function wU(i){var n=M.useRef([]),o=M.useRef([0,0]),c=M.useRef(),d=M.useState(bU++)[0],h=M.useState(function(){return hI()})[0],f=M.useRef(i);M.useEffect(function(){f.current=i},[i]),M.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(d));var T=VV([i.lockRef.current],(i.shards||[]).map(x5),!0).filter(Boolean);return T.forEach(function(z){return z.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),T.forEach(function(z){return z.classList.remove("allow-interactivity-".concat(d))})}}},[i.inert,i.lockRef.current,i.shards]);var m=M.useCallback(function(T,z){if("touches"in T&&T.touches.length===2)return!f.current.allowPinchZoom;var N=Kf(T),L=o.current,S="deltaX"in T?T.deltaX:L[0]-N[0],F="deltaY"in T?T.deltaY:L[1]-N[1],H,J=T.target,Y=Math.abs(S)>Math.abs(F)?"h":"v";if("touches"in T&&Y==="h"&&J.type==="range")return!1;var ee=A5(Y,J);if(!ee)return!0;if(ee?H=Y:(H=Y==="v"?"h":"v",ee=A5(Y,J)),!ee)return!1;if(!c.current&&"changedTouches"in T&&(S||F)&&(c.current=H),!H)return!0;var oe=c.current||H;return gU(oe,z,T,oe==="h"?S:F,!0)},[]),k=M.useCallback(function(T){var z=T;if(!(!vc.length||vc[vc.length-1]!==h)){var N="deltaY"in z?C5(z):Kf(z),L=n.current.filter(function(H){return H.name===z.type&&H.target===z.target&&mU(H.delta,N)})[0];if(L&&L.should){z.cancelable&&z.preventDefault();return}if(!L){var S=(f.current.shards||[]).map(x5).filter(Boolean).filter(function(H){return H.contains(z.target)}),F=S.length>0?m(z,S[0]):!f.current.noIsolation;F&&z.cancelable&&z.preventDefault()}}},[]),b=M.useCallback(function(T,z,N,L){var S={name:T,delta:z,target:N,should:L};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(F){return F!==S})},1)},[]),w=M.useCallback(function(T){o.current=Kf(T),c.current=void 0},[]),y=M.useCallback(function(T){b(T.type,C5(T),T.target,m(T,i.lockRef.current))},[]),C=M.useCallback(function(T){b(T.type,Kf(T),T.target,m(T,i.lockRef.current))},[]);M.useEffect(function(){return vc.push(h),i.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:C}),document.addEventListener("wheel",k,wc),document.addEventListener("touchmove",k,wc),document.addEventListener("touchstart",w,wc),function(){vc=vc.filter(function(T){return T!==h}),document.removeEventListener("wheel",k,wc),document.removeEventListener("touchmove",k,wc),document.removeEventListener("touchstart",w,wc)}},[]);var x=i.removeScrollBar,D=i.inert;return M.createElement(M.Fragment,null,D?M.createElement(h,{styles:kU(d)}):null,x?M.createElement(cU,{gapMode:"margin"}):null)}const vU=ZV(uI,wU);var mI=M.forwardRef(function(i,n){return M.createElement(Bg,Xr({},i,{ref:n,sideCar:vU}))});mI.classNames=Bg.classNames;const _U=mI;var yU=function(i){if(typeof document>"u")return null;var n=Array.isArray(i)?i[0]:i;return n.ownerDocument.body},_c=new WeakMap,Zf=new WeakMap,Qf={},Sk=0,kI=function(i){return i&&(i.host||kI(i.parentNode))},AU=function(i,n){return n.map(function(o){if(i.contains(o))return o;var c=kI(o);return c&&i.contains(c)?c:(console.error("aria-hidden",o,"in not contained inside",i,". Doing nothing"),null)}).filter(function(o){return!!o})},CU=function(i,n,o,c){var d=AU(n,Array.isArray(i)?i:[i]);Qf[o]||(Qf[o]=new WeakMap);var h=Qf[o],f=[],m=new Set,k=new Set(d),b=function(y){!y||m.has(y)||(m.add(y),b(y.parentNode))};d.forEach(b);var w=function(y){!y||k.has(y)||Array.prototype.forEach.call(y.children,function(C){if(m.has(C))w(C);else{var x=C.getAttribute(c),D=x!==null&&x!=="false",T=(_c.get(C)||0)+1,z=(h.get(C)||0)+1;_c.set(C,T),h.set(C,z),f.push(C),T===1&&D&&Zf.set(C,!0),z===1&&C.setAttribute(o,"true"),D||C.setAttribute(c,"true")}})};return w(n),m.clear(),Sk++,function(){f.forEach(function(y){var C=_c.get(y)-1,x=h.get(y)-1;_c.set(y,C),h.set(y,x),C||(Zf.has(y)||y.removeAttribute(c),Zf.delete(y)),x||y.removeAttribute(o)}),Sk--,Sk||(_c=new WeakMap,_c=new WeakMap,Zf=new WeakMap,Qf={})}},xU=function(i,n,o){o===void 0&&(o="data-aria-hidden");var c=Array.from(Array.isArray(i)?i:[i]),d=n||yU(i);return d?(c.push.apply(c,Array.from(d.querySelectorAll("[aria-live]"))),CU(c,d,o,"aria-hidden")):function(){return null}};const bI="Dialog",[wI,fG]=kl(bI),[EU,Pr]=wI(bI),SU=i=>{const{__scopeDialog:n,children:o,open:c,defaultOpen:d,onOpenChange:h,modal:f=!0}=i,m=M.useRef(null),k=M.useRef(null),[b=!1,w]=Mg({prop:c,defaultProp:d,onChange:h});return M.createElement(EU,{scope:n,triggerRef:m,contentRef:k,contentId:Gc(),titleId:Gc(),descriptionId:Gc(),open:b,onOpenChange:w,onOpenToggle:M.useCallback(()=>w(y=>!y),[w]),modal:f},o)},DU="DialogTrigger",TU=M.forwardRef((i,n)=>{const{__scopeDialog:o,...c}=i,d=Pr(DU,o),h=Vi(n,d.triggerRef);return M.createElement(gn.button,je({type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":xv(d.open)},c,{ref:h,onClick:Lt(i.onClick,d.onOpenToggle)}))}),vI="DialogPortal",[IU,_I]=wI(vI,{forceMount:void 0}),MU=i=>{const{__scopeDialog:n,forceMount:o,children:c,container:d}=i,h=Pr(vI,n);return M.createElement(IU,{scope:n,forceMount:o},M.Children.map(c,f=>M.createElement(Oa,{present:o||h.open},M.createElement(X4,{asChild:!0,container:d},f))))},nw="DialogOverlay",NU=M.forwardRef((i,n)=>{const o=_I(nw,i.__scopeDialog),{forceMount:c=o.forceMount,...d}=i,h=Pr(nw,i.__scopeDialog);return h.modal?M.createElement(Oa,{present:c||h.open},M.createElement(OU,je({},d,{ref:n}))):null}),OU=M.forwardRef((i,n)=>{const{__scopeDialog:o,...c}=i,d=Pr(nw,o);return M.createElement(_U,{as:yu,allowPinchZoom:!0,shards:[d.contentRef]},M.createElement(gn.div,je({"data-state":xv(d.open)},c,{ref:n,style:{pointerEvents:"auto",...c.style}})))}),Eu="DialogContent",PU=M.forwardRef((i,n)=>{const o=_I(Eu,i.__scopeDialog),{forceMount:c=o.forceMount,...d}=i,h=Pr(Eu,i.__scopeDialog);return M.createElement(Oa,{present:c||h.open},h.modal?M.createElement(BU,je({},d,{ref:n})):M.createElement(LU,je({},d,{ref:n})))}),BU=M.forwardRef((i,n)=>{const o=Pr(Eu,i.__scopeDialog),c=M.useRef(null),d=Vi(n,o.contentRef,c);return M.useEffect(()=>{const h=c.current;if(h)return xU(h)},[]),M.createElement(yI,je({},i,{ref:d,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lt(i.onCloseAutoFocus,h=>{var f;h.preventDefault(),(f=o.triggerRef.current)===null||f===void 0||f.focus()}),onPointerDownOutside:Lt(i.onPointerDownOutside,h=>{const f=h.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0;(f.button===2||m)&&h.preventDefault()}),onFocusOutside:Lt(i.onFocusOutside,h=>h.preventDefault())}))}),LU=M.forwardRef((i,n)=>{const o=Pr(Eu,i.__scopeDialog),c=M.useRef(!1),d=M.useRef(!1);return M.createElement(yI,je({},i,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:h=>{var f;if((f=i.onCloseAutoFocus)===null||f===void 0||f.call(i,h),!h.defaultPrevented){var m;c.current||(m=o.triggerRef.current)===null||m===void 0||m.focus(),h.preventDefault()}c.current=!1,d.current=!1},onInteractOutside:h=>{var f,m;(f=i.onInteractOutside)===null||f===void 0||f.call(i,h),h.defaultPrevented||(c.current=!0,h.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const k=h.target;((m=o.triggerRef.current)===null||m===void 0?void 0:m.contains(k))&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&d.current&&h.preventDefault()}}))}),yI=M.forwardRef((i,n)=>{const{__scopeDialog:o,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:h,...f}=i,m=Pr(Eu,o),k=M.useRef(null),b=Vi(n,k);return $V(),M.createElement(M.Fragment,null,M.createElement(PV,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:d,onUnmountAutoFocus:h},M.createElement(N4,je({role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":xv(m.open)},f,{ref:b,onDismiss:()=>m.onOpenChange(!1)}))),!1)}),zU="DialogTitle",jU=M.forwardRef((i,n)=>{const{__scopeDialog:o,...c}=i,d=Pr(zU,o);return M.createElement(gn.h2,je({id:d.titleId},c,{ref:n}))}),RU="DialogDescription",AI=M.forwardRef((i,n)=>{const{__scopeDialog:o,...c}=i,d=Pr(RU,o);return M.createElement(gn.p,je({id:d.descriptionId},c,{ref:n}))}),FU="DialogClose",$U=M.forwardRef((i,n)=>{const{__scopeDialog:o,...c}=i,d=Pr(FU,o);return M.createElement(gn.button,je({type:"button"},c,{ref:n,onClick:Lt(i.onClick,()=>d.onOpenChange(!1))}))});function xv(i){return i?"open":"closed"}const VU=SU,UU=TU,HU=MU,WU=NU,qU=PU,GU=jU,YU=AI,E5=$U,Lg=(i,n)=>{(i.keyCode||i.which)===13&&n()},KU=({handleChange:i,post:n,addTag:o,deleteTag:c})=>{const[d,h]=M.useState(""),f=k=>{h(k.target.value)},m=()=>n.tags.map(k=>{let b=$u(k);return R.jsxs("span",{className:`post-category post-tags-form-display ${b}`,children:["#",k," ",R.jsx("span",{className:"delete-tag",onClick:()=>{c(k)},children:" x"})]},k)});return R.jsxs(VU,{children:[R.jsx(UU,{asChild:!0,children:R.jsx("button",{className:"Button orange-button set-tag-button",children:"Set Tags"})}),R.jsxs(HU,{children:[R.jsx(WU,{className:"DialogOverlay"}),R.jsxs(qU,{className:"DialogContent",children:[R.jsx(GU,{className:"DialogTitle",children:"Set Tags"}),R.jsx(YU,{className:"DialogDescription",children:"Here is where you set your tags."}),R.jsxs("fieldset",{className:"Fieldset tag-fieldset",children:[R.jsx("label",{className:"Label",htmlFor:"tag",children:"Enter Tags"}),R.jsx("input",{onKeyUp:k=>{Lg(k,()=>{o(d),h("")})},value:d,onChange:f,className:"Input",id:"name"}),R.jsx("button",{onClick:()=>{o(d),h("")},className:"Button purple add-tag-button",children:"+"})]}),R.jsx(AI,{children:R.jsx("div",{className:"pop-up-tag-container",children:m()})}),R.jsx("div",{style:{display:"flex",marginTop:25,justifyContent:"flex-end"},children:R.jsx(E5,{asChild:!0,children:R.jsx("button",{name:"tags",className:"Button save-button",children:"Close"})})}),R.jsx(E5,{asChild:!0,children:R.jsx("button",{className:"IconButton","aria-label":"Close",children:R.jsx(z$,{})})})]})]})]})};function CI({handleChange:i,post:n,addTag:o,deleteTag:c}){const d=n.tags.map(h=>{let f=$u(h);return R.jsxs("span",{className:`post-category post-tags-form-display ${f}`,children:["#",h]},h+n)});return R.jsxs("form",{children:[R.jsxs("div",{className:"input",children:[R.jsx("label",{htmlFor:"title"}),R.jsx("input",{placeholder:"Title",onChange:i,value:n.title,type:"text",id:"title",name:"title"})]}),R.jsxs("div",{className:"input",children:[R.jsx("label",{htmlFor:"img"}),R.jsx("input",{placeholder:"Cover image url (optional)",onChange:i,value:n.img,type:"text",id:"img_url",name:"img"})]}),R.jsx("div",{className:"input",children:R.jsx("div",{className:"ckeditor-container",children:R.jsx(NV.CKEditor,{config:{mediaEmbed:{previewsInData:!0},placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0},fullscreen:{closeOnEscape:!0,closeOnClick:!1}},editor:OV,data:n.content?n.content:"",onReady:h=>{console.log("Editor is ready to use!",h),h.editing.view.document.on("click",(f,m)=>{fullscreen(h)})},onChange:(h,f)=>{f.getData(),i(f)}})})}),R.jsx("div",{className:"outer-tag-container",children:R.jsxs("div",{className:"tag-container",children:[R.jsx("div",{className:"inner-tags-container",children:d}),R.jsx(KU,{handleChange:i,post:n,addTag:o,deleteTag:c})]})})]})}function ZU({supabase:i,session:n}){const[o,c]=M.useState({title:"",content:"",img:"",tags:[]}),d=ro(),{state:h}=ul();console.log(o);const f=n?n.user:{user_metadata:""},m=f.user_metadata.name,k=f.id;M.useEffect(()=>{h&&c({title:`${h.title} ~ ${h.author}`,content:h.description,img:h.cover_key?h.cover_url:""})},[]);const b=(x,D=[])=>{let T,z;x.target?D.length!==0?(T=x.target.name,z=D):(T=x.target.name,z=x.target.value):(T="content",z=x.getData()),c(N=>({...N,[T]:z}))},w=async()=>{await i.from("posts").insert({title:o.title,content:o.content,img:o.img,tags:o.tags,username:m,user_id:k}),Jt.success("Post inserted into database!"),d("/Book-Chronicles")},y=x=>{x=x.trim(),!o.tags.includes(x)&&x&&c(D=>({...D,tags:[...D.tags,x]}))},C=x=>{x=x.trim();const D=o.tags.indexOf(x);c(T=>{const z=[...T.tags.slice(0,D),...T.tags.slice(D+1)];return{...T,tags:[...z]}})};return R.jsx(R.Fragment,{children:R.jsx("div",{className:"outer-create-container",children:R.jsxs("div",{className:"create-container",children:[R.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",R.jsx("span",{className:"pastel-orange",children:"Post"})]}),R.jsx(CI,{handleChange:b,post:o,addTag:y,deleteTag:C}),R.jsx("button",{className:"btn red-button darkAccent create-button",onClick:w,post:o,children:"Create Post"}),R.jsx("div",{className:"get-book-info-button",children:R.jsx(Pi,{to:"/Book-Chronicles/getBookInfo",children:"Need book information? Click here!"})})]})})})}function QU({title:i,author:n,cover_url:o,cover_key:c,description:d}){const h=ro(),f=()=>{h("/Book-Chronicles/create",{state:{title:i,author:n,cover_url:o,description:d,cover_key:c}})};return R.jsxs("div",{onClick:f,className:"book",children:[R.jsxs("div",{children:[R.jsx("h4",{className:"pastel-black",children:i}),R.jsxs("h5",{children:["By: ",n]}),R.jsx("p",{children:d})]}),R.jsx("img",{src:c?o:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}function JU(){const[i,n]=M.useState(""),[o,c]=M.useState([]),d=b=>{n(b.target.value)},h=async b=>{const y=await(await fetch(`https://openlibrary.org${b.key}.json`)).json();let C;y.description&&(C=y.description,typeof C!="string"&&(C=y.description.value));const x=await fetch(`https://covers.openlibrary.org/b/olid/${b.cover_edition_key}-M.jpg`),D={key:y.key,title:y.title,author:b.author_name?b.author_name[0]:"",cover_url:x.url,description:C,cover_key:b.cover_edition_key};c(T=>[...T,D])},f=async()=>{const w=await(await fetch(`https://openlibrary.org/search.json?q=${i}`)).json();c([]),n("");let y=0;for(const C of w.docs){if(y<15)await h(C);else break;y++}},m=()=>o.map((w,y)=>R.jsx(QU,{title:w.title,author:w.author,cover_url:w.cover_url,cover_key:w.cover_key,description:w.description},y)),k=()=>{const b=f();ti.promise(b,{loading:"loading",success:"got all data",error:"error when fetching"})};return R.jsxs("article",{children:[R.jsx("h1",{className:"book-info-title pastel-black",children:R.jsxs("b",{children:["Grab a ",R.jsx("span",{className:"pastel-orange",children:"Book"})]})}),R.jsxs("div",{className:"search-bar",children:[R.jsx("label",{htmlFor:"title"}),R.jsx("input",{value:i,placeholder:"Search for a book...",className:"book-input",onKeyUp:b=>{Lg(b,k)},onChange:d,type:"text",name:"title"}),R.jsx("button",{className:"btn orange-button",onClick:k,children:"Search"})]}),R.jsx("div",{className:"books-container",children:m()}),R.jsx("div",{className:"push"})]})}const XU="/Book-Chronicles/assets/cross-ab383046.png";function eH(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tH={exports:{}};const nH={},iH=Object.freeze(Object.defineProperty({__proto__:null,default:nH},Symbol.toStringTag,{value:"Module"})),rH=zL(iH);(function(i){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(n,o){typeof eH=="function"&&i&&i.exports?i.exports=o():(n.dcodeIO=n.dcodeIO||{}).bcrypt=o()})(ma,function(){var n={},o=null;function c(K){if(i&&i.exports)try{return rH.randomBytes(K)}catch{}try{var Q;return(self.crypto||self.msCrypto).getRandomValues(Q=new Uint32Array(K)),Array.prototype.slice.call(Q)}catch{}if(!o)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return o(K)}var d=!1;try{c(1),d=!0}catch{}o=null,n.setRandomFallback=function(K){o=K},n.genSaltSync=function(K,Q){if(K=K||T,typeof K!="number")throw Error("Illegal arguments: "+typeof K+", "+typeof Q);K<4?K=4:K>31&&(K=31);var q=[];return q.push("$2a$"),K<10&&q.push("0"),q.push(K.toString()),q.push("$"),q.push(y(c(D),D)),q.join("")},n.genSalt=function(K,Q,q){if(typeof Q=="function"&&(q=Q,Q=void 0),typeof K=="function"&&(q=K,K=void 0),typeof K>"u")K=T;else if(typeof K!="number")throw Error("illegal arguments: "+typeof K);function U(W){f(function(){try{W(null,n.genSaltSync(K))}catch(X){W(X)}})}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);U(q)}else return new Promise(function(W,X){U(function(se,re){if(se){X(se);return}W(re)})})},n.hashSync=function(K,Q){if(typeof Q>"u"&&(Q=T),typeof Q=="number"&&(Q=n.genSaltSync(Q)),typeof K!="string"||typeof Q!="string")throw Error("Illegal arguments: "+typeof K+", "+typeof Q);return de(K,Q)},n.hash=function(K,Q,q,U){function W(X){typeof K=="string"&&typeof Q=="number"?n.genSalt(Q,function(se,re){de(K,re,X,U)}):typeof K=="string"&&typeof Q=="string"?de(K,Q,X,U):f(X.bind(this,Error("Illegal arguments: "+typeof K+", "+typeof Q)))}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);W(q)}else return new Promise(function(X,se){W(function(re,ie){if(re){se(re);return}X(ie)})})};function h(K,Q){for(var q=0,U=0,W=0,X=K.length;W<X;++W)K.charCodeAt(W)===Q.charCodeAt(W)?++q:++U;return q<0?!1:U===0}n.compareSync=function(K,Q){if(typeof K!="string"||typeof Q!="string")throw Error("Illegal arguments: "+typeof K+", "+typeof Q);return Q.length!==60?!1:h(n.hashSync(K,Q.substr(0,Q.length-31)),Q)},n.compare=function(K,Q,q,U){function W(X){if(typeof K!="string"||typeof Q!="string"){f(X.bind(this,Error("Illegal arguments: "+typeof K+", "+typeof Q)));return}if(Q.length!==60){f(X.bind(this,null,!1));return}n.hash(K,Q.substr(0,29),function(se,re){se?X(se):X(null,h(re,Q))},U)}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);W(q)}else return new Promise(function(X,se){W(function(re,ie){if(re){se(re);return}X(ie)})})},n.getRounds=function(K){if(typeof K!="string")throw Error("Illegal arguments: "+typeof K);return parseInt(K.split("$")[2],10)},n.getSalt=function(K){if(typeof K!="string")throw Error("Illegal arguments: "+typeof K);if(K.length!==60)throw Error("Illegal hash length: "+K.length+" != 60");return K.substring(0,29)};var f=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function m(K){var Q=[],q=0;return x.encodeUTF16toUTF8(function(){return q>=K.length?null:K.charCodeAt(q++)},function(U){Q.push(U)}),Q}var k="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],w=String.fromCharCode;function y(K,Q){var q=0,U=[],W,X;if(Q<=0||Q>K.length)throw Error("Illegal len: "+Q);for(;q<Q;){if(W=K[q++]&255,U.push(k[W>>2&63]),W=(W&3)<<4,q>=Q){U.push(k[W&63]);break}if(X=K[q++]&255,W|=X>>4&15,U.push(k[W&63]),W=(X&15)<<2,q>=Q){U.push(k[W&63]);break}X=K[q++]&255,W|=X>>6&3,U.push(k[W&63]),U.push(k[X&63])}return U.join("")}function C(K,Q){var q=0,U=K.length,W=0,X=[],se,re,ie,pe,ge,Se;if(Q<=0)throw Error("Illegal len: "+Q);for(;q<U-1&&W<Q&&(Se=K.charCodeAt(q++),se=Se<b.length?b[Se]:-1,Se=K.charCodeAt(q++),re=Se<b.length?b[Se]:-1,!(se==-1||re==-1||(ge=se<<2>>>0,ge|=(re&48)>>4,X.push(w(ge)),++W>=Q||q>=U)||(Se=K.charCodeAt(q++),ie=Se<b.length?b[Se]:-1,ie==-1)||(ge=(re&15)<<4>>>0,ge|=(ie&60)>>2,X.push(w(ge)),++W>=Q||q>=U)));)Se=K.charCodeAt(q++),pe=Se<b.length?b[Se]:-1,ge=(ie&3)<<6>>>0,ge|=pe,X.push(w(ge)),++W;var nt=[];for(q=0;q<W;q++)nt.push(X[q].charCodeAt(0));return nt}var x=function(){var K={};return K.MAX_CODEPOINT=1114111,K.encodeUTF8=function(Q,q){var U=null;for(typeof Q=="number"&&(U=Q,Q=function(){return null});U!==null||(U=Q())!==null;)U<128?q(U&127):U<2048?(q(U>>6&31|192),q(U&63|128)):U<65536?(q(U>>12&15|224),q(U>>6&63|128),q(U&63|128)):(q(U>>18&7|240),q(U>>12&63|128),q(U>>6&63|128),q(U&63|128)),U=null},K.decodeUTF8=function(Q,q){for(var U,W,X,se,re=function(ie){ie=ie.slice(0,ie.indexOf(null));var pe=Error(ie.toString());throw pe.name="TruncatedError",pe.bytes=ie,pe};(U=Q())!==null;)if(!(U&128))q(U);else if((U&224)===192)(W=Q())===null&&re([U,W]),q((U&31)<<6|W&63);else if((U&240)===224)((W=Q())===null||(X=Q())===null)&&re([U,W,X]),q((U&15)<<12|(W&63)<<6|X&63);else if((U&248)===240)((W=Q())===null||(X=Q())===null||(se=Q())===null)&&re([U,W,X,se]),q((U&7)<<18|(W&63)<<12|(X&63)<<6|se&63);else throw RangeError("Illegal starting byte: "+U)},K.UTF16toUTF8=function(Q,q){for(var U,W=null;(U=W!==null?W:Q())!==null;){if(U>=55296&&U<=57343&&(W=Q())!==null&&W>=56320&&W<=57343){q((U-55296)*1024+W-56320+65536),W=null;continue}q(U)}W!==null&&q(W)},K.UTF8toUTF16=function(Q,q){var U=null;for(typeof Q=="number"&&(U=Q,Q=function(){return null});U!==null||(U=Q())!==null;)U<=65535?q(U):(U-=65536,q((U>>10)+55296),q(U%1024+56320)),U=null},K.encodeUTF16toUTF8=function(Q,q){K.UTF16toUTF8(Q,function(U){K.encodeUTF8(U,q)})},K.decodeUTF8toUTF16=function(Q,q){K.decodeUTF8(Q,function(U){K.UTF8toUTF16(U,q)})},K.calculateCodePoint=function(Q){return Q<128?1:Q<2048?2:Q<65536?3:4},K.calculateUTF8=function(Q){for(var q,U=0;(q=Q())!==null;)U+=K.calculateCodePoint(q);return U},K.calculateUTF16asUTF8=function(Q){var q=0,U=0;return K.UTF16toUTF8(Q,function(W){++q,U+=K.calculateCodePoint(W)}),[q,U]},K}();Date.now=Date.now||function(){return+new Date};var D=16,T=10,z=16,N=100,L=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],S=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],F=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function H(K,Q,q,U){var W,X=K[Q],se=K[Q+1];return X^=q[0],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[1],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[2],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[3],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[4],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[5],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[6],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[7],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[8],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[9],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[10],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[11],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[12],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[13],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[14],W=U[X>>>24],W+=U[256|X>>16&255],W^=U[512|X>>8&255],W+=U[768|X&255],se^=W^q[15],W=U[se>>>24],W+=U[256|se>>16&255],W^=U[512|se>>8&255],W+=U[768|se&255],X^=W^q[16],K[Q]=se^q[z+1],K[Q+1]=X,K}function J(K,Q){for(var q=0,U=0;q<4;++q)U=U<<8|K[Q]&255,Q=(Q+1)%K.length;return{key:U,offp:Q}}function Y(K,Q,q){for(var U=0,W=[0,0],X=Q.length,se=q.length,re,ie=0;ie<X;ie++)re=J(K,U),U=re.offp,Q[ie]=Q[ie]^re.key;for(ie=0;ie<X;ie+=2)W=H(W,0,Q,q),Q[ie]=W[0],Q[ie+1]=W[1];for(ie=0;ie<se;ie+=2)W=H(W,0,Q,q),q[ie]=W[0],q[ie+1]=W[1]}function ee(K,Q,q,U){for(var W=0,X=[0,0],se=q.length,re=U.length,ie,pe=0;pe<se;pe++)ie=J(Q,W),W=ie.offp,q[pe]=q[pe]^ie.key;for(W=0,pe=0;pe<se;pe+=2)ie=J(K,W),W=ie.offp,X[0]^=ie.key,ie=J(K,W),W=ie.offp,X[1]^=ie.key,X=H(X,0,q,U),q[pe]=X[0],q[pe+1]=X[1];for(pe=0;pe<re;pe+=2)ie=J(K,W),W=ie.offp,X[0]^=ie.key,ie=J(K,W),W=ie.offp,X[1]^=ie.key,X=H(X,0,q,U),U[pe]=X[0],U[pe+1]=X[1]}function oe(K,Q,q,U,W){var X=F.slice(),se=X.length,re;if(q<4||q>31)if(re=Error("Illegal number of rounds (4-31): "+q),U){f(U.bind(this,re));return}else throw re;if(Q.length!==D)if(re=Error("Illegal salt length: "+Q.length+" != "+D),U){f(U.bind(this,re));return}else throw re;q=1<<q>>>0;var ie,pe,ge=0,Se;Int32Array?(ie=new Int32Array(L),pe=new Int32Array(S)):(ie=L.slice(),pe=S.slice()),ee(Q,K,ie,pe);function nt(){if(W&&W(ge/q),ge<q)for(var it=Date.now();ge<q&&(ge=ge+1,Y(K,ie,pe),Y(Q,ie,pe),!(Date.now()-it>N)););else{for(ge=0;ge<64;ge++)for(Se=0;Se<se>>1;Se++)H(X,Se<<1,ie,pe);var Ee=[];for(ge=0;ge<se;ge++)Ee.push((X[ge]>>24&255)>>>0),Ee.push((X[ge]>>16&255)>>>0),Ee.push((X[ge]>>8&255)>>>0),Ee.push((X[ge]&255)>>>0);if(U){U(null,Ee);return}else return Ee}U&&f(nt)}if(typeof U<"u")nt();else for(var wt;;)if(typeof(wt=nt())<"u")return wt||[]}function de(K,Q,q,U){var W;if(typeof K!="string"||typeof Q!="string")if(W=Error("Invalid string / salt: Not a string"),q){f(q.bind(this,W));return}else throw W;var X,se;if(Q.charAt(0)!=="$"||Q.charAt(1)!=="2")if(W=Error("Invalid salt version: "+Q.substring(0,2)),q){f(q.bind(this,W));return}else throw W;if(Q.charAt(2)==="$")X=String.fromCharCode(0),se=3;else{if(X=Q.charAt(2),X!=="a"&&X!=="b"&&X!=="y"||Q.charAt(3)!=="$")if(W=Error("Invalid salt revision: "+Q.substring(2,4)),q){f(q.bind(this,W));return}else throw W;se=4}if(Q.charAt(se+2)>"$")if(W=Error("Missing salt rounds"),q){f(q.bind(this,W));return}else throw W;var re=parseInt(Q.substring(se,se+1),10)*10,ie=parseInt(Q.substring(se+1,se+2),10),pe=re+ie,ge=Q.substring(se+3,se+25);K+=X>="a"?"\0":"";var Se=m(K),nt=C(ge,D);function wt(it){var Ee=[];return Ee.push("$2"),X>="a"&&Ee.push(X),Ee.push("$"),pe<10&&Ee.push("0"),Ee.push(pe.toString()),Ee.push("$"),Ee.push(y(nt,nt.length)),Ee.push(y(it,F.length*4-1)),Ee.join("")}if(typeof q>"u")return wt(oe(Se,nt,pe));oe(Se,nt,pe,function(it,Ee){it?q(it,null):q(null,wt(Ee))},U)}return n.encodeBase64=y,n.decodeBase64=C,n})})(tH);function oH({date:i,comment:n,id:o,supabase:c,reloadComments:d,username:h,user_id:f,session_user_id:m}){const k=f===m,b=async()=>{k?confirm("Are you sure you want to delete this comment?")?(await c.from("comments").delete().eq("id",o),d()):console.log("delete is cancelled"):alert("You can't delete this comment! It's not yours!")};return R.jsxs("div",{className:"comment",children:[R.jsxs("div",{className:"comment-header",children:[R.jsxs("small",{children:[h," ",R.jsxs("span",{className:"time-ago",children:[" ",Xp(i)?Xp(i):""]})]}),k?R.jsx("img",{onClick:b,src:XU}):""]}),R.jsx("p",{children:n})]})}const sH="/Book-Chronicles/assets/trash-2415bf1a.png",aH="/Book-Chronicles/assets/edit-727f5020.png";function cH({supabase:i,session:n}){const[o,c]=M.useState({user_likes:"",tags:[]}),[d,h]=M.useState(!1),[f,m]=M.useState([]),[k,b]=M.useState(""),{id:w}=lv(),y=ro(),C=n?n.user:{user_metadata:{}},x=C.user_metadata.name,D=C.id,T=D===o.user_id,z=async()=>{const{data:oe,error:de}=await i.from("posts").select().eq("id",w);c(oe[0])},N=async()=>{const{data:oe,error:de}=await i.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",w);m(oe)};M.useEffect(()=>{const oe=z();ti.promise(oe,{loading:"Loading your post...",success:"Post loaded!",error:"Couldn't get your post!"}),N(),window.scroll(0,0)},[]);const L=async()=>{if(n)if(!o.user_likes[D]&&!d){const oe={...o.user_likes,[D]:!0};await i.from("posts").update({vote:o.vote+1,user_likes:oe}).eq("id",w),console.log("vote has been updated..."),h(!0),c({...o,vote:o.vote+1})}else console.log("Can't like a post more than once...");else ti.error("You must be logged in to like a post!")},S=oe=>{b(oe.target.value)},F=async()=>{T?confirm("Are you sure you want to delete this post?")?(await i.from("posts").delete().eq("id",w),y("/Book-Chronicles")):console.log("delete is cancelled"):ti.error("You can't delete this post!'")},H=async()=>{T?y(`/Book-Chronicles/post/${w}/edit`):ti.error("You can't access this!")},J=async()=>{await i.from("comments").insert({post_id:w,comment:k,username:x,user_id:D}),console.log("Comment is inserted into database..."),N(),b("")},Y=f.map(oe=>R.jsx(oH,{date:oe.created_at,comment:oe.comment,id:oe.id,supabase:i,reloadComments:N,username:oe.username,user_id:oe.user_id,session_user_id:D},oe.id)),ee=()=>o.tags.slice(0,2).map(de=>{let K=$u(de);return R.jsxs("p",{className:`post-category ${K}`,children:["#",de]},de+w)});return R.jsx("div",{className:"post-container",children:R.jsxs("div",{className:"post",children:[R.jsxs("div",{className:"post-tags",children:[R.jsxs("p",{children:["Posted ",o.created_at?Xp(o.created_at):" "]}),o.tags.length>2?R.jsxs("div",{className:"preview-tags-container",children:[ee(),R.jsx("small",{className:"extra-tags-preview",children:R.jsx(iI,{tags:o.tags,subtracted:2})})]}):R.jsx("div",{className:"preview-tags-container",children:ee()})]}),R.jsx("h2",{className:"pastel-black",children:o.title}),R.jsx("img",{className:"post-image",src:o.img}),R.jsx("div",{children:T4(o.content)}),R.jsx("p",{children:R.jsx("b",{children:o.username?"~ "+o.username:""})}),R.jsxs("div",{className:"action-images",children:[R.jsxs("div",{onClick:L,className:`${o.user_likes[D]||d?"pastel-red":""} like-image`,children:[R.jsx("img",{src:D4})," ",R.jsxs("b",{children:[o.vote," ",o.vote!==1?"likes":"like"]})]}),n&&T?R.jsxs("div",{children:[R.jsx("img",{onClick:H,className:"edit-image",src:aH}),R.jsx("img",{onClick:F,className:"delete-image",src:sH})]}):""]}),R.jsxs("div",{className:"comments-section",children:[R.jsx("div",{className:"insert-comment-container",children:n?R.jsx("input",{onKeyUp:oe=>{Lg(oe,J)},value:k,onChange:S,placeholder:"Leave a comment...",type:"text"}):R.jsx("input",{disabled:!0,placeholder:"Sign in to leave a comment...",type:"text"})}),R.jsx("div",{className:"comments-container",children:Y})]})]})})}function lH({supabase:i}){const[n,o]=M.useState({title:"",content:"",img:"",tags:[]}),c=ro(),{id:d}=lv(),h=async()=>{const{data:w,error:y}=await i.from("posts").select().eq("id",d);o(w[0])};M.useEffect(()=>{h()},[]);const f=(w,y=[])=>{let C,x;w.target?y.length!==0?(C=w.target.name,x=y):(C=w.target.name,x=w.target.value):(C="content",x=w.getData()),o(D=>({...D,[C]:x}))},m=async()=>{await i.from("posts").update({title:n.title,content:n.content,img:n.img,tags:n.tags}).eq("id",d),Jt.success("successfully updated!"),c(`/Book-Chronicles/post/${d}`)},k=w=>{w=w.trim(),!n.tags.includes(w)&&w&&o(y=>({...y,tags:[...y.tags,w]}))},b=w=>{w=w.trim();const y=n.tags.indexOf(w);o(C=>{const x=[...C.tags.slice(0,y),...C.tags.slice(y+1)];return{...C,tags:[...x]}})};return R.jsx("div",{children:R.jsx("div",{className:"outer-create-container",children:R.jsxs("div",{className:"create-container",children:[R.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",R.jsx("span",{className:"pastel-orange",children:"Post"})]}),R.jsx(CI,{handleChange:f,post:n,addTag:k,deleteTag:b}),R.jsx("button",{className:"btn orange-button create-button",onClick:m,children:"Update Post"})]})})})}const zg=i=>({async signupUser(n,o,c){const{data:d,error:h}=await i.auth.signUp({email:n,password:o,options:{data:{name:c}}});return[d,h]},async signIn(n,o){const{data:c,error:d}=await i.auth.signInWithPassword({email:n,password:o});return[c,d]},async getSession(){const{data:n,error:o}=await i.auth.getSession();return n},async logout(){await i.auth.signOut()},eventListener(){i.auth.onAuthStateChange((n,o)=>{console.log(n,o)})},async changeEmail(n){const{data:o,error:c}=await i.auth.updateUser({email:n});return[o,c]},async changeName(n){const{data:o,error:c}=await i.auth.updateUser({data:{name:n}});return[o,c]},async usernameTaken(n){const{data:o,error:c}=await i.from("users").select().eq("name",n);return o.length!==0},async changePassword(n){const{data:o,error:c}=await i.auth.updateUser({password:n});return[o,c]}}),eu=(i,n)=>{const{name:o,value:c}=i.target;n(d=>({...d,[o]:c}))};function dH({supabase:i}){const n=zg(i),[o,c]=M.useState({}),d=ro(),h=async()=>{if(o.name&&o.password&&o.email)if(await n.usernameTaken(o.name))ti.error("Display name taken.");else{const[m,k]=await n.signupUser(o.email,o.password,o.name),{user:b,session:w}=m;b?(await i.from("users").insert({user_id:b.id,name:b.user_metadata.name}),ti.success("Signed up successfully!"),d("/Book-Chronicles")):ti.error(k.message)}else ti.error("You need to fill in all the fields!")};return R.jsx("div",{className:"outer-sign-container",children:R.jsxs("div",{className:"sign-container",children:[R.jsx("h1",{className:"sign-title",children:"Sign Up"}),R.jsxs("form",{onSubmit:f=>f.preventDefault(),children:[R.jsx("label",{htmlFor:"email"}),R.jsx("input",{className:"search-input sign-input",onChange:f=>eu(f,c),placeholder:"Email",id:"email",name:"email",type:"email"}),R.jsx("div",{}),R.jsx("label",{htmlFor:"password"}),R.jsx("input",{className:"search-input sign-input",onChange:f=>eu(f,c),placeholder:"Password",id:"password",name:"password",type:"password"}),R.jsx("div",{}),R.jsx("label",{htmlFor:"name"}),R.jsx("input",{className:"search-input sign-input",onChange:f=>eu(f,c),placeholder:"Display Name",id:"name",name:"name",type:"text"}),R.jsx("div",{}),R.jsx("button",{onClick:h,type:"submit",className:"red-button sign-button",children:"Signup"}),R.jsx("div",{className:"sign-link",children:R.jsx(Pi,{to:"/Book-Chronicles/signin",children:"Have an account? Sign in!"})})]})]})})}function uH({supabase:i}){const n=zg(i),[o,c]=M.useState({}),d=ro(),h=async()=>{if(!o.email||!o.password)ti.error("You need to fill in all the fields!");else{const[f,m]=await n.signIn(o.email,o.password),{user:k,session:b}=f;k||b?(ti.success("Logged in."),setTimeout(()=>{d("/Book-Chronicles")},1e3)):ti.error(m.message)}};return R.jsx("article",{className:"outer-sign-container",children:R.jsxs("div",{className:"sign-container",children:[R.jsx("h1",{className:"sign-title",children:"Sign In"}),R.jsxs("form",{onSubmit:f=>f.preventDefault(),children:[R.jsx("label",{htmlFor:"email"}),R.jsx("input",{className:"search-input sign-input",onChange:f=>eu(f,c),placeholder:"Email",id:"email",name:"email",type:"email"}),R.jsx("div",{}),R.jsx("label",{htmlFor:"password"}),R.jsx("input",{className:"search-input sign-input",onChange:f=>eu(f,c),placeholder:"Password",id:"password",name:"password",type:"password"}),R.jsx("div",{}),R.jsx("button",{onClick:h,type:"submit",className:"sign-button red-button",children:"Signin"}),R.jsx("div",{className:"sign-link",children:R.jsx(Pi,{to:"/Book-Chronicles/signup",children:"Not a member? Signup!"})})]})]})})}function hH({supabase:i}){const[n,o]=M.useState([]),c=async()=>{const{data:f,error:m}=await i.from("users").select().order("name");for(let k=0;k<f.length;k++){const b=f[k],w=await d(b);f[k].posts=w}f.sort((k,b)=>k.posts.length<b.posts.length?1:k.posts.length>b.posts.length?-1:0),o(f)},d=async f=>{const{data:m,error:k}=await i.from("posts").select().eq("user_id",f.user_id);return m};M.useEffect(()=>{const f=c();ti.promise(f,{loading:"Grabbing all users...",success:"Click on a user to see their posts!",error:"Error while getting users..."})},[]);const h=()=>n.map(f=>R.jsx("li",{children:R.jsxs(Pi,{to:`/Book-Chronicles/users/${f.name}`,children:[f.name," ~ ",f.posts.length]})},f.id));return R.jsx("div",{children:h()})}function fH({supabase:i,session:n}){const[o,c]=M.useState([]),h=(n?n.user:{user_metadata:{}}).id,{username:f}=lv(),m=async()=>{const{data:b,error:w}=await i.from("posts").select().order("created_at",{ascending:!1}).eq("username",f);c(b)};M.useEffect(()=>{m()},[f]);const k=()=>o.length===0?R.jsx("h2",{children:"This user has not posted anything yet!"}):o.map(b=>{const w=b.user_likes[h];return R.jsx(rI,{id:b.id,title:b.title,created_at:b.created_at,vote:b.vote,tags:b.tags,username:b.username,img_url:b.img,content:b.content,currentUserLiked:w},b.id)});return R.jsx("div",{className:"post-preview-container",children:k()})}function pH(i){const n=i+"CollectionProvider",[o,c]=kl(n),[d,h]=o(n,{collectionRef:{current:null},itemMap:new Map}),f=x=>{const{scope:D,children:T}=x,z=hn.useRef(null),N=hn.useRef(new Map).current;return hn.createElement(d,{scope:D,itemMap:N,collectionRef:z},T)},m=i+"CollectionSlot",k=hn.forwardRef((x,D)=>{const{scope:T,children:z}=x,N=h(m,T),L=Vi(D,N.collectionRef);return hn.createElement(yu,{ref:L},z)}),b=i+"CollectionItemSlot",w="data-radix-collection-item",y=hn.forwardRef((x,D)=>{const{scope:T,children:z,...N}=x,L=hn.useRef(null),S=Vi(D,L),F=h(b,T);return hn.useEffect(()=>(F.itemMap.set(L,{ref:L,...N}),()=>void F.itemMap.delete(L))),hn.createElement(yu,{[w]:"",ref:S},z)});function C(x){const D=h(i+"CollectionConsumer",x);return hn.useCallback(()=>{const z=D.collectionRef.current;if(!z)return[];const N=Array.from(z.querySelectorAll(`[${w}]`));return Array.from(D.itemMap.values()).sort((F,H)=>N.indexOf(F.ref.current)-N.indexOf(H.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:f,Slot:k,ItemSlot:y},C,c]}const gH=M.createContext(void 0);function xI(i){const n=M.useContext(gH);return i||n||"ltr"}const Dk="rovingFocusGroup.onEntryFocus",mH={bubbles:!1,cancelable:!0},Ev="RovingFocusGroup",[iw,EI,kH]=pH(Ev),[bH,SI]=kl(Ev,[kH]),[wH,vH]=bH(Ev),_H=M.forwardRef((i,n)=>M.createElement(iw.Provider,{scope:i.__scopeRovingFocusGroup},M.createElement(iw.Slot,{scope:i.__scopeRovingFocusGroup},M.createElement(yH,je({},i,{ref:n}))))),yH=M.forwardRef((i,n)=>{const{__scopeRovingFocusGroup:o,orientation:c,loop:d=!1,dir:h,currentTabStopId:f,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:k,onEntryFocus:b,...w}=i,y=M.useRef(null),C=Vi(n,y),x=xI(h),[D=null,T]=Mg({prop:f,defaultProp:m,onChange:k}),[z,N]=M.useState(!1),L=Bo(b),S=EI(o),F=M.useRef(!1),[H,J]=M.useState(0);return M.useEffect(()=>{const Y=y.current;if(Y)return Y.addEventListener(Dk,L),()=>Y.removeEventListener(Dk,L)},[L]),M.createElement(wH,{scope:o,orientation:c,dir:x,loop:d,currentTabStopId:D,onItemFocus:M.useCallback(Y=>T(Y),[T]),onItemShiftTab:M.useCallback(()=>N(!0),[]),onFocusableItemAdd:M.useCallback(()=>J(Y=>Y+1),[]),onFocusableItemRemove:M.useCallback(()=>J(Y=>Y-1),[])},M.createElement(gn.div,je({tabIndex:z||H===0?-1:0,"data-orientation":c},w,{ref:C,style:{outline:"none",...i.style},onMouseDown:Lt(i.onMouseDown,()=>{F.current=!0}),onFocus:Lt(i.onFocus,Y=>{const ee=!F.current;if(Y.target===Y.currentTarget&&ee&&!z){const oe=new CustomEvent(Dk,mH);if(Y.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const de=S().filter(W=>W.focusable),K=de.find(W=>W.active),Q=de.find(W=>W.id===D),U=[K,Q,...de].filter(Boolean).map(W=>W.ref.current);DI(U)}}F.current=!1}),onBlur:Lt(i.onBlur,()=>N(!1))})))}),AH="RovingFocusGroupItem",CH=M.forwardRef((i,n)=>{const{__scopeRovingFocusGroup:o,focusable:c=!0,active:d=!1,tabStopId:h,...f}=i,m=Gc(),k=h||m,b=vH(AH,o),w=b.currentTabStopId===k,y=EI(o),{onFocusableItemAdd:C,onFocusableItemRemove:x}=b;return M.useEffect(()=>{if(c)return C(),()=>x()},[c,C,x]),M.createElement(iw.ItemSlot,{scope:o,id:k,focusable:c,active:d},M.createElement(gn.span,je({tabIndex:w?0:-1,"data-orientation":b.orientation},f,{ref:n,onMouseDown:Lt(i.onMouseDown,D=>{c?b.onItemFocus(k):D.preventDefault()}),onFocus:Lt(i.onFocus,()=>b.onItemFocus(k)),onKeyDown:Lt(i.onKeyDown,D=>{if(D.key==="Tab"&&D.shiftKey){b.onItemShiftTab();return}if(D.target!==D.currentTarget)return;const T=SH(D,b.orientation,b.dir);if(T!==void 0){D.preventDefault();let N=y().filter(L=>L.focusable).map(L=>L.ref.current);if(T==="last")N.reverse();else if(T==="prev"||T==="next"){T==="prev"&&N.reverse();const L=N.indexOf(D.currentTarget);N=b.loop?DH(N,L+1):N.slice(L+1)}setTimeout(()=>DI(N))}})})))}),xH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EH(i,n){return n!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function SH(i,n,o){const c=EH(i.key,o);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(c))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(c)))return xH[c]}function DI(i){const n=document.activeElement;for(const o of i)if(o===n||(o.focus(),document.activeElement!==n))return}function DH(i,n){return i.map((o,c)=>i[(n+c)%i.length])}const TH=_H,IH=CH,TI="Tabs",[MH,pG]=kl(TI,[SI]),II=SI(),[NH,Sv]=MH(TI),OH=M.forwardRef((i,n)=>{const{__scopeTabs:o,value:c,onValueChange:d,defaultValue:h,orientation:f="horizontal",dir:m,activationMode:k="automatic",...b}=i,w=xI(m),[y,C]=Mg({prop:c,onChange:d,defaultProp:h});return M.createElement(NH,{scope:o,baseId:Gc(),value:y,onValueChange:C,orientation:f,dir:w,activationMode:k},M.createElement(gn.div,je({dir:w,"data-orientation":f},b,{ref:n})))}),PH="TabsList",BH=M.forwardRef((i,n)=>{const{__scopeTabs:o,loop:c=!0,...d}=i,h=Sv(PH,o),f=II(o);return M.createElement(TH,je({asChild:!0},f,{orientation:h.orientation,dir:h.dir,loop:c}),M.createElement(gn.div,je({role:"tablist","aria-orientation":h.orientation},d,{ref:n})))}),LH="TabsTrigger",zH=M.forwardRef((i,n)=>{const{__scopeTabs:o,value:c,disabled:d=!1,...h}=i,f=Sv(LH,o),m=II(o),k=MI(f.baseId,c),b=NI(f.baseId,c),w=c===f.value;return M.createElement(IH,je({asChild:!0},m,{focusable:!d,active:w}),M.createElement(gn.button,je({type:"button",role:"tab","aria-selected":w,"aria-controls":b,"data-state":w?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:k},h,{ref:n,onMouseDown:Lt(i.onMouseDown,y=>{!d&&y.button===0&&y.ctrlKey===!1?f.onValueChange(c):y.preventDefault()}),onKeyDown:Lt(i.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&f.onValueChange(c)}),onFocus:Lt(i.onFocus,()=>{const y=f.activationMode!=="manual";!w&&!d&&y&&f.onValueChange(c)})})))}),jH="TabsContent",RH=M.forwardRef((i,n)=>{const{__scopeTabs:o,value:c,forceMount:d,children:h,...f}=i,m=Sv(jH,o),k=MI(m.baseId,c),b=NI(m.baseId,c),w=c===m.value,y=M.useRef(w);return M.useEffect(()=>{const C=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(C)},[]),M.createElement(Oa,{present:d||w},({present:C})=>M.createElement(gn.div,je({"data-state":w?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":k,hidden:!C,id:b,tabIndex:0},f,{ref:n,style:{...i.style,animationDuration:y.current?"0s":void 0}}),C&&h))});function MI(i,n){return`${i}-trigger-${n}`}function NI(i,n){return`${i}-content-${n}`}const FH=OH,$H=BH,S5=zH,D5=RH,VH=({handleUserInput:i,currentEmail:n,name:o,handleNameUpdate:c,handlePasswordUpdate:d})=>R.jsx("div",{children:R.jsxs(FH,{className:"TabsRoot",defaultValue:"tab1",children:[R.jsxs($H,{className:"TabsList","aria-label":"Manage your account",children:[R.jsx(S5,{className:"TabsTrigger",value:"tab1",children:"Account"}),R.jsx(S5,{className:"TabsTrigger",value:"tab2",children:"Password"})]}),R.jsxs(D5,{className:"TabsContent",value:"tab1",children:[R.jsx("p",{className:"Text",children:"Make changes to your account here. Click save when you're done."}),R.jsxs("fieldset",{className:"Fieldset tabs-label",children:[R.jsx("label",{className:"Label",htmlFor:"username",children:"Display Name"}),R.jsx("input",{onKeyUp:h=>{Lg(h,c)},onChange:i,name:"username",className:"Input",id:"username",defaultValue:o})]}),R.jsx("div",{style:{display:"flex",marginTop:20,justifyContent:"flex-end"},children:R.jsx("button",{onClick:()=>{},className:"Button green",children:"Save changes"})})]}),R.jsxs(D5,{className:"TabsContent",value:"tab2",children:[R.jsx("p",{className:"Text",children:"Change your password here. After saving, you'll be logged out."}),R.jsxs("fieldset",{className:"Fieldset tabs-label",children:[R.jsx("label",{className:"Label",htmlFor:"newPassword",children:"New password"}),R.jsx("input",{onChange:i,name:"newPassword",className:"Input",id:"newPassword",type:"password"})]}),R.jsxs("fieldset",{className:"Fieldset tabs-label",children:[R.jsx("label",{className:"Label",htmlFor:"confirmPassword",children:"Confirm password"}),R.jsx("input",{onChange:i,name:"confirmPassword",className:"Input",id:"confirmPassword",type:"password"})]}),R.jsx("div",{style:{display:"flex",marginTop:20,justifyContent:"flex-end"},children:R.jsx("button",{onClick:d,className:"Button green",children:"Change password"})})]})]})});function UH({supabase:i,session:n}){const[o,c]=M.useState({}),d=ro(),h=n.user.email,f=n.user.id,m=n.user.user_metadata.name,k=zg(i),b=async()=>{await k.usernameTaken(o.username)?Jt.error("Username already taken!"):(await i.from("users").update({name:o.username}).eq("user_id",f),await i.from("posts").update({username:o.username}).eq("user_id",f),await i.from("comments").update({username:o.username}).eq("user_id",f),await k.changeName(o.username),Jt.success(`${m} has been changed to ${o.username}`))},w=async()=>{if(o.newPassword===o.confirmPassword){const[C,x]=await k.changePassword(o.newPassword);x?Jt.error(x.message):(Jt.success("Password changed. Logged out."),d("/Book-Chronicles/signin"),k.logout())}else Jt.error("Passwords do not match!")},y=C=>{const x=C.target.name,D=C.target.value;c(T=>({...T,[x]:D}))};return R.jsx(R.Fragment,{children:R.jsx("div",{className:"profile-tabs-container",children:R.jsx(VH,{handleUserInput:y,currentEmail:h,name:m,handleNameUpdate:b,handlePasswordUpdate:w})})})}const HH="/Book-Chronicles/assets/arrow-up-0fb140ce.png",WH=()=>{const[i,n]=M.useState(!1);M.useEffect(()=>{const c=()=>{window.scrollY>200?n(!0):n(!1)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return R.jsx("div",{children:R.jsx("img",{className:`back-to-top-button ${i?"show-back-to-top":""}`,onClick:o,src:HH})})},qH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABOvAAATrwFj5o7DAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABNRJREFUWIXtl2tMk1cYx3/nLfcKLaUysTqYzDFUQAfelpEoBqdsMJSBuhizi7hlWRazaUwWnU73YXjPbpqpu2Rmy8QL6i5Osi8umnlLFOPExU1uBVKgBWZrL7RnH/qyoS0FHIlf/Cdvcvo8/z7P7z3n7XlP4YHus8RQzMbM0jSvFMUCmS/BBIxVU40SmgSyWqNoqtovf/fHsALoJpXkaIRSISFvMH7DqOSW8VNm75iRW/DJhkLhuHeA7BXh8W7rDhCvq16rVm88kzNnUWqiaXy6Ni4BAHt3B7Y2M43XL1B37Ryu23YQgvScfOeMZ5Zt9ERHbP+oQLiGBKDLeCFeEZ5DSGYDtxWh2blk1W5jdKyuPBSz2+Wg5tejXDnzA94eN6ZxGeSVrayJjostrCgUDYMDyF4RbnDbTqhT3hyrTShbtGbXeiA/VPO+6mipo/rbzdzqbGdUSjrzl62zhGvC5lYsFJf7+pRgX453W3eozc1CeKcvXrPrpaE0B0hISqFw+SZi4gy01l3j3MmvE32Co6sOy8SQALpJJTnqmt/2wXMvbzg0X8IrwZp0WprobDP3C6GNS2DuktVowsL5/ewJ2ltuJguFr0ICaIRSAQgk28u3HqhVBO/11+DYnrUc27O2XwAAoymVSTMLkFJy7uR+kMxbfUTODQpgzCxNU6feSiRbhIPlEpL6K+52OXA77SEBALJyi4mM1tL85xW6rC1IWBcUwCtZACAFR2wXK7skPD9g9UEoIkpL8uNTAai/dh4BT648JJMCACTM8Q/k8ZVHpF7AzOEAAHg4LQcA840aACVCw7wAAEWSDODziavhkAJohgsgPnEMALe62gGQknEAYX1NUvjXOxJafZDbS9dpaeLYnrW4XcF31b3vlt3xOSJKS1H5++hHmv6NxcQZAHB0W3tDoyHwVyB7B4r8b4wQ/muQCmr1qeUUf1Kove6cAWgRECvDlNEKtPjUuH6kiWXvfBFQs/fOl288MCCU45b/zmNGGHpDzRA4Aw0APT45wSWoB7wDVh6krJYmAEbojQBI+CsAQCCr1WDRzgWiU0hODxdAQ+0FAMakZgL48HAiAEAjxFE/nSyOzy7VScHh4WjudtqpVwEeTs8BOL2lTLQGALTXVF4X8AsQj0es6fHwGdDUX+GIKC2R0doBAS6dqsLttGN6NAudIQkh2dSbC3hedRml2QqcB1w+6cst33QwS8DeYIU728wIATqjKVgagDbzDb7ftx6ft4fi1yowJqX8tHmBKOjNB7yMuq5UXgTxMRClCKXq8/UlPwvYF6y4fqQpZHN7VwfV32zB2+Nh4owCEpJS6n2SF/t6gp4HbAmWt9SlMEmpObt/26tfAif77RREHS03Ob5vHY6/bYxOzWDavKWtUqFo60Jh6evrd3fRTy7WK97wg+r7wakoyoeL3/5UHxNrWBGqsdtp59KpKq7+9iPeHg+m1EzySt+8FKaNK9peLBrv9ofe3mbNCjNYjdukFG/gny1brM54Zkpe6SMPjX1sQox6KHV0d2CzmGmoPU9d7QXcTjtCCNKnPu2cXrD03g6lfWXIKpkopfIBkmcH5R+V3Jz2xOxt054q2P3/juV3KW5yyXiNTymWknzh/1MyRk01Ao1CiuoeKau6r1beGErdB7qv+gcvVqv0EV04ogAAAABJRU5ErkJggg==";var OI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var n={}.hasOwnProperty;function o(){for(var h="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(h=d(h,c(m)))}return h}function c(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return o.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var f="";for(var m in h)n.call(h,m)&&h[m]&&(f=d(f,m));return f}function d(h,f){return f?h?h+" "+f:h+f:h}i.exports?(o.default=o,i.exports=o):window.classNames=o})()})(OI);var GH=OI.exports;const rw=sg(GH);/*
* React Tooltip
* {@link https://github.com/ReactTooltip/react-tooltip}
* @copyright ReactTooltip Team
* @license MIT
*/const YH="react-tooltip-core-styles",KH="react-tooltip-base-styles",T5={core:!1,base:!1};function I5({css:i,id:n=KH,type:o="base",ref:c}){var d,h;if(!i||typeof document>"u"||T5[o]||o==="core"&&typeof process<"u"&&(!((d=process==null?void 0:process.env)===null||d===void 0)&&d.REACT_TOOLTIP_DISABLE_CORE_STYLES)||o!=="base"&&typeof process<"u"&&(!((h=process==null?void 0:process.env)===null||h===void 0)&&h.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;o==="core"&&(n=YH),c||(c={});const{insertAt:f}=c;if(document.getElementById(n))return void console.warn(`[react-tooltip] Element with id '${n}' already exists. Call \`removeStyle()\` first`);const m=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.id=n,k.type="text/css",f==="top"&&m.firstChild?m.insertBefore(k,m.firstChild):m.appendChild(k),k.styleSheet?k.styleSheet.cssText=i:k.appendChild(document.createTextNode(i)),T5[o]=!0}const M5=(i,n,o)=>{let c=null;return function(...d){const h=()=>{c=null,o||i.apply(this,d)};o&&!c&&(i.apply(this,d),c=setTimeout(h,n)),o||(c&&clearTimeout(c),c=setTimeout(h,n))}},ZH="DEFAULT_TOOLTIP_ID",QH={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},JH=M.createContext({getTooltipData:()=>QH});function PI(i=ZH){return M.useContext(JH).getTooltipData(i)}const XH=typeof window<"u"?M.useLayoutEffect:M.useEffect,eW=i=>{if(!(i instanceof HTMLElement||i instanceof SVGElement))return!1;const n=getComputedStyle(i);return["overflow","overflow-x","overflow-y"].some(o=>{const c=n.getPropertyValue(o);return c==="auto"||c==="scroll"})},N5=i=>{if(!i)return null;let n=i.parentElement;for(;n;){if(eW(n))return n;n=n.parentElement}return document.scrollingElement||document.documentElement},O5=async({elementReference:i=null,tooltipReference:n=null,tooltipArrowReference:o=null,place:c="top",offset:d=10,strategy:h="absolute",middlewares:f=[L4(Number(d)),B4({fallbackAxisSideDirection:"start"}),z4({padding:5})],border:m})=>{if(!i)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};if(n===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};const k=f;return o?(k.push(Kb({element:o,padding:5})),Zb(i,n,{placement:c,strategy:h,middleware:k}).then(({x:b,y:w,placement:y,middlewareData:C})=>{var x,D;const T={left:`${b}px`,top:`${w}px`,border:m},{x:z,y:N}=(x=C.arrow)!==null&&x!==void 0?x:{x:0,y:0},L=(D={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]])!==null&&D!==void 0?D:"bottom",S=m&&{borderBottom:m,borderRight:m};let F=0;if(m){const H=`${m}`.match(/(\d+)px/);F=H!=null&&H[1]?Number(H[1]):1}return{tooltipStyles:T,tooltipArrowStyles:{left:z!=null?`${z}px`:"",top:N!=null?`${N}px`:"",right:"",bottom:"",...S,[L]:`-${4+F}px`},place:y}})):Zb(i,n,{placement:"bottom",strategy:h,middleware:k}).then(({x:b,y:w,placement:y})=>({tooltipStyles:{left:`${b}px`,top:`${w}px`},tooltipArrowStyles:{},place:y}))};var yc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Tk={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const tW=({forwardRef:i,id:n,className:o,classNameArrow:c,variant:d="dark",anchorId:h,anchorSelect:f,place:m="top",offset:k=10,events:b=["hover"],openOnClick:w=!1,positionStrategy:y="absolute",middlewares:C,wrapper:x,delayShow:D=0,delayHide:T=0,float:z=!1,hidden:N=!1,noArrow:L=!1,clickable:S=!1,closeOnEsc:F=!1,closeOnScroll:H=!1,closeOnResize:J=!1,openEvents:Y,closeEvents:ee,globalCloseEvents:oe,imperativeModeOnly:de,style:K,position:Q,afterShow:q,afterHide:U,content:W,contentWrapperRef:X,isOpen:se,setIsOpen:re,activeAnchor:ie,setActiveAnchor:pe,border:ge,opacity:Se,arrowColor:nt,role:wt="tooltip"})=>{var it;const Ee=M.useRef(null),an=M.useRef(null),Me=M.useRef(null),It=M.useRef(null),oi=M.useRef(null),[_i,hr]=M.useState(m),[Wi,yi]=M.useState({}),[lt,Mt]=M.useState({}),[en,fr]=M.useState(!1),[Rt,Nt]=M.useState(!1),[Fe,oo]=M.useState(null),so=M.useRef(!1),Ai=M.useRef(null),{anchorRefs:Uo,setActiveAnchor:Ho}=PI(n),si=M.useRef(!1),[zn,Sn]=M.useState([]),yt=M.useRef(!1),Wt=w||b.includes("click"),ai=Wt||(Y==null?void 0:Y.click)||(Y==null?void 0:Y.dblclick)||(Y==null?void 0:Y.mousedown),qi=Y?{...Y}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!Y&&Wt&&Object.assign(qi,{mouseenter:!1,focus:!1,click:!0});const Gi=ee?{...ee}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!ee&&Wt&&Object.assign(Gi,{mouseleave:!1,blur:!1});const cn=oe?{...oe}:{escape:F||!1,scroll:H||!1,resize:J||!1,clickOutsideAnchor:ai||!1};de&&(Object.assign(qi,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Gi,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(cn,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),XH(()=>(yt.current=!0,()=>{yt.current=!1}),[]);const Dn=ke=>{yt.current&&(ke&&Nt(!0),setTimeout(()=>{yt.current&&(re==null||re(ke),se===void 0&&fr(ke))},10))};M.useEffect(()=>{if(se===void 0)return()=>null;se&&Nt(!0);const ke=setTimeout(()=>{fr(se)},10);return()=>{clearTimeout(ke)}},[se]),M.useEffect(()=>{if(en!==so.current)if(oi.current&&clearTimeout(oi.current),so.current=en,en)q==null||q();else{const ke=(Te=>{const De=Te.match(/^([\d.]+)(m?s?)$/);if(!De)return 0;const[,St,Dt]=De;return Dt!=="s"&&Dt!=="ms"?0:Number(St)*(Dt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));oi.current=setTimeout(()=>{Nt(!1),oo(null),U==null||U()},ke+25)}},[en]);const ao=(ke=D)=>{Me.current&&clearTimeout(Me.current),Me.current=setTimeout(()=>{Dn(!0)},ke)},Tn=(ke=T)=>{It.current&&clearTimeout(It.current),It.current=setTimeout(()=>{si.current||Dn(!1)},ke)},pr=ke=>{var Te;if(!ke)return;const De=(Te=ke.currentTarget)!==null&&Te!==void 0?Te:ke.target;if(!(De!=null&&De.isConnected))return pe(null),void Ho({current:null});D?ao():Dn(!0),pe(De),Ho({current:De}),It.current&&clearTimeout(It.current)},Br=()=>{S?Tn(T||100):T?Tn():Dn(!1),Me.current&&clearTimeout(Me.current)},qt=({x:ke,y:Te})=>{var De;const St={getBoundingClientRect:()=>({x:ke,y:Te,width:0,height:0,top:Te,left:ke,right:ke,bottom:Te})};O5({place:(De=Fe==null?void 0:Fe.place)!==null&&De!==void 0?De:m,offset:k,elementReference:St,tooltipReference:Ee.current,tooltipArrowReference:an.current,strategy:y,middlewares:C,border:ge}).then(Dt=>{Object.keys(Dt.tooltipStyles).length&&yi(Dt.tooltipStyles),Object.keys(Dt.tooltipArrowStyles).length&&Mt(Dt.tooltipArrowStyles),hr(Dt.place)})},Gt=ke=>{if(!ke)return;const Te=ke,De={x:Te.clientX,y:Te.clientY};qt(De),Ai.current=De},Yt=ke=>{var Te;if(!en)return;const De=ke.target;!((Te=Ee.current)===null||Te===void 0)&&Te.contains(De)||[document.querySelector(`[id='${h}']`),...zn].some(St=>St==null?void 0:St.contains(De))||(Dn(!1),Me.current&&clearTimeout(Me.current))},Ce=M5(pr,50,!0),Ge=M5(Br,50,!0),ln=M.useCallback(()=>{var ke,Te;const De=(ke=Fe==null?void 0:Fe.position)!==null&&ke!==void 0?ke:Q;De?qt(De):z?Ai.current&&qt(Ai.current):ie!=null&&ie.isConnected&&O5({place:(Te=Fe==null?void 0:Fe.place)!==null&&Te!==void 0?Te:m,offset:k,elementReference:ie,tooltipReference:Ee.current,tooltipArrowReference:an.current,strategy:y,middlewares:C,border:ge}).then(St=>{yt.current&&(Object.keys(St.tooltipStyles).length&&yi(St.tooltipStyles),Object.keys(St.tooltipArrowStyles).length&&Mt(St.tooltipArrowStyles),hr(St.place))})},[en,ie,W,K,m,Fe==null?void 0:Fe.place,k,y,Q,Fe==null?void 0:Fe.position,z]);M.useEffect(()=>{var ke,Te;const De=new Set(Uo);zn.forEach(ct=>{De.add({current:ct})});const St=document.querySelector(`[id='${h}']`);St&&De.add({current:St});const Dt=()=>{Dn(!1)},li=N5(ie),Ci=N5(Ee.current);cn.scroll&&(window.addEventListener("scroll",Dt),li==null||li.addEventListener("scroll",Dt),Ci==null||Ci.addEventListener("scroll",Dt));let Ot=null;cn.resize?window.addEventListener("resize",Dt):ie&&Ee.current&&(Ot=W4(ie,Ee.current,ln,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Pt=ct=>{ct.key==="Escape"&&Dn(!1)};cn.escape&&window.addEventListener("keydown",Pt),cn.clickOutsideAnchor&&window.addEventListener("click",Yt);const at=[],co=ct=>{en&&(ct==null?void 0:ct.target)===ie||pr(ct)},yl=ct=>{en&&(ct==null?void 0:ct.target)===ie&&Br()},Gn=["mouseenter","mouseleave","focus","blur"],Ba=["click","dblclick","mousedown","mouseup"];Object.entries(qi).forEach(([ct,mn])=>{mn&&(Gn.includes(ct)?at.push({event:ct,listener:Ce}):Ba.includes(ct)&&at.push({event:ct,listener:co}))}),Object.entries(Gi).forEach(([ct,mn])=>{mn&&(Gn.includes(ct)?at.push({event:ct,listener:Ge}):Ba.includes(ct)&&at.push({event:ct,listener:yl}))}),z&&at.push({event:"mousemove",listener:Gt});const La=()=>{si.current=!0},za=()=>{si.current=!1,Br()};return S&&!ai&&((ke=Ee.current)===null||ke===void 0||ke.addEventListener("mouseenter",La),(Te=Ee.current)===null||Te===void 0||Te.addEventListener("mouseleave",za)),at.forEach(({event:ct,listener:mn})=>{De.forEach($s=>{var lo;(lo=$s.current)===null||lo===void 0||lo.addEventListener(ct,mn)})}),()=>{var ct,mn;cn.scroll&&(window.removeEventListener("scroll",Dt),li==null||li.removeEventListener("scroll",Dt),Ci==null||Ci.removeEventListener("scroll",Dt)),cn.resize?window.removeEventListener("resize",Dt):Ot==null||Ot(),cn.clickOutsideAnchor&&window.removeEventListener("click",Yt),cn.escape&&window.removeEventListener("keydown",Pt),S&&!ai&&((ct=Ee.current)===null||ct===void 0||ct.removeEventListener("mouseenter",La),(mn=Ee.current)===null||mn===void 0||mn.removeEventListener("mouseleave",za)),at.forEach(({event:$s,listener:lo})=>{De.forEach(Lr=>{var xi;(xi=Lr.current)===null||xi===void 0||xi.removeEventListener($s,lo)})})}},[ie,ln,Rt,Uo,zn,Y,ee,oe,Wt]),M.useEffect(()=>{var ke,Te;let De=(Te=(ke=Fe==null?void 0:Fe.anchorSelect)!==null&&ke!==void 0?ke:f)!==null&&Te!==void 0?Te:"";!De&&n&&(De=`[data-tooltip-id='${n}']`);const St=new MutationObserver(Dt=>{const li=[],Ci=[];Dt.forEach(Ot=>{if(Ot.type==="attributes"&&Ot.attributeName==="data-tooltip-id"&&Ot.target.getAttribute("data-tooltip-id")===n&&li.push(Ot.target),Ot.type==="childList"){if(ie){const Pt=[...Ot.removedNodes].filter(at=>at.nodeType===1);if(De)try{Ci.push(...Pt.filter(at=>at.matches(De))),Ci.push(...Pt.flatMap(at=>[...at.querySelectorAll(De)]))}catch{}Pt.some(at=>{var co;return!!(!((co=at==null?void 0:at.contains)===null||co===void 0)&&co.call(at,ie))&&(Nt(!1),Dn(!1),pe(null),Me.current&&clearTimeout(Me.current),It.current&&clearTimeout(It.current),!0)})}if(De)try{const Pt=[...Ot.addedNodes].filter(at=>at.nodeType===1);li.push(...Pt.filter(at=>at.matches(De))),li.push(...Pt.flatMap(at=>[...at.querySelectorAll(De)]))}catch{}}}),(li.length||Ci.length)&&Sn(Ot=>[...Ot.filter(Pt=>!Ci.includes(Pt)),...li])});return St.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{St.disconnect()}},[n,f,Fe==null?void 0:Fe.anchorSelect,ie]),M.useEffect(()=>{ln()},[ln]),M.useEffect(()=>{if(!(X!=null&&X.current))return()=>null;const ke=new ResizeObserver(()=>{setTimeout(()=>ln())});return ke.observe(X.current),()=>{ke.disconnect()}},[W,X==null?void 0:X.current]),M.useEffect(()=>{var ke;const Te=document.querySelector(`[id='${h}']`),De=[...zn,Te];ie&&De.includes(ie)||pe((ke=zn[0])!==null&&ke!==void 0?ke:Te)},[h,zn,ie]),M.useEffect(()=>()=>{Me.current&&clearTimeout(Me.current),It.current&&clearTimeout(It.current)},[]),M.useEffect(()=>{var ke;let Te=(ke=Fe==null?void 0:Fe.anchorSelect)!==null&&ke!==void 0?ke:f;if(!Te&&n&&(Te=`[data-tooltip-id='${n}']`),Te)try{const De=Array.from(document.querySelectorAll(Te));Sn(De)}catch{Sn([])}},[n,f,Fe==null?void 0:Fe.anchorSelect]);const jn=(it=Fe==null?void 0:Fe.content)!==null&&it!==void 0?it:W,ci=en&&Object.keys(Wi).length>0;return M.useImperativeHandle(i,()=>({open:ke=>{if(ke!=null&&ke.anchorSelect)try{document.querySelector(ke.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ke.anchorSelect}" is not a valid CSS selector`)}oo(ke??null),ke!=null&&ke.delay?ao(ke.delay):Dn(!0)},close:ke=>{ke!=null&&ke.delay?Tn(ke.delay):Dn(!1)},activeAnchor:ie,place:_i,isOpen:!!(Rt&&!N&&jn&&ci)})),Rt&&!N&&jn?hn.createElement(x,{id:n,role:wt,className:rw("react-tooltip",yc.tooltip,Tk.tooltip,Tk[d],o,`react-tooltip__place-${_i}`,yc[ci?"show":"closing"],ci?"react-tooltip__show":"react-tooltip__closing",y==="fixed"&&yc.fixed,S&&yc.clickable),onTransitionEnd:ke=>{oi.current&&clearTimeout(oi.current),en||ke.propertyName!=="opacity"||(Nt(!1),oo(null),U==null||U())},style:{...K,...Wi,opacity:Se!==void 0&&ci?Se:void 0},ref:Ee},jn,hn.createElement(x,{className:rw("react-tooltip-arrow",yc.arrow,Tk.arrow,c,L&&yc.noArrow),style:{...lt,background:nt?`linear-gradient(to right bottom, transparent 50%, ${nt} 50%)`:void 0},ref:an})):null},nW=({content:i})=>hn.createElement("span",{dangerouslySetInnerHTML:{__html:i}}),P5=(i,n)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(i,n);hn.forwardRef(({id:i,anchorId:n,anchorSelect:o,content:c,html:d,render:h,className:f,classNameArrow:m,variant:k="dark",place:b="top",offset:w=10,wrapper:y="div",children:C=null,events:x=["hover"],openOnClick:D=!1,positionStrategy:T="absolute",middlewares:z,delayShow:N=0,delayHide:L=0,float:S=!1,hidden:F=!1,noArrow:H=!1,clickable:J=!1,closeOnEsc:Y=!1,closeOnScroll:ee=!1,closeOnResize:oe=!1,openEvents:de,closeEvents:K,globalCloseEvents:Q,imperativeModeOnly:q=!1,style:U,position:W,isOpen:X,disableStyleInjection:se=!1,border:re,opacity:ie,arrowColor:pe,setIsOpen:ge,afterShow:Se,afterHide:nt,role:wt="tooltip"},it)=>{const[Ee,an]=M.useState(c),[Me,It]=M.useState(d),[oi,_i]=M.useState(b),[hr,Wi]=M.useState(k),[yi,lt]=M.useState(w),[Mt,en]=M.useState(N),[fr,Rt]=M.useState(L),[Nt,Fe]=M.useState(S),[oo,so]=M.useState(F),[Ai,Uo]=M.useState(y),[Ho,si]=M.useState(x),[zn,Sn]=M.useState(T),[yt,Wt]=M.useState(null),[ai,qi]=M.useState(null),Gi=M.useRef(se),{anchorRefs:cn,activeAnchor:Dn}=PI(i),ao=Gt=>Gt==null?void 0:Gt.getAttributeNames().reduce((Yt,Ce)=>{var Ge;return Ce.startsWith("data-tooltip-")&&(Yt[Ce.replace(/^data-tooltip-/,"")]=(Ge=Gt==null?void 0:Gt.getAttribute(Ce))!==null&&Ge!==void 0?Ge:null),Yt},{}),Tn=Gt=>{const Yt={place:Ce=>{var Ge;_i((Ge=Ce)!==null&&Ge!==void 0?Ge:b)},content:Ce=>{an(Ce??c)},html:Ce=>{It(Ce??d)},variant:Ce=>{var Ge;Wi((Ge=Ce)!==null&&Ge!==void 0?Ge:k)},offset:Ce=>{lt(Ce===null?w:Number(Ce))},wrapper:Ce=>{var Ge;Uo((Ge=Ce)!==null&&Ge!==void 0?Ge:y)},events:Ce=>{const Ge=Ce==null?void 0:Ce.split(" ");si(Ge??x)},"position-strategy":Ce=>{var Ge;Sn((Ge=Ce)!==null&&Ge!==void 0?Ge:T)},"delay-show":Ce=>{en(Ce===null?N:Number(Ce))},"delay-hide":Ce=>{Rt(Ce===null?L:Number(Ce))},float:Ce=>{Fe(Ce===null?S:Ce==="true")},hidden:Ce=>{so(Ce===null?F:Ce==="true")},"class-name":Ce=>{Wt(Ce)}};Object.values(Yt).forEach(Ce=>Ce(null)),Object.entries(Gt).forEach(([Ce,Ge])=>{var ln;(ln=Yt[Ce])===null||ln===void 0||ln.call(Yt,Ge)})};M.useEffect(()=>{an(c)},[c]),M.useEffect(()=>{It(d)},[d]),M.useEffect(()=>{_i(b)},[b]),M.useEffect(()=>{Wi(k)},[k]),M.useEffect(()=>{lt(w)},[w]),M.useEffect(()=>{en(N)},[N]),M.useEffect(()=>{Rt(L)},[L]),M.useEffect(()=>{Fe(S)},[S]),M.useEffect(()=>{so(F)},[F]),M.useEffect(()=>{Sn(T)},[T]),M.useEffect(()=>{Gi.current!==se&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[se]),M.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:se==="core",disableBase:se}}))},[]),M.useEffect(()=>{var Gt;const Yt=new Set(cn);let Ce=o;if(!Ce&&i&&(Ce=`[data-tooltip-id='${i}']`),Ce)try{document.querySelectorAll(Ce).forEach(ke=>{Yt.add({current:ke})})}catch{console.warn(`[react-tooltip] "${Ce}" is not a valid CSS selector`)}const Ge=document.querySelector(`[id='${n}']`);if(Ge&&Yt.add({current:Ge}),!Yt.size)return()=>null;const ln=(Gt=ai??Ge)!==null&&Gt!==void 0?Gt:Dn.current,jn=new MutationObserver(ke=>{ke.forEach(Te=>{var De;if(!ln||Te.type!=="attributes"||!(!((De=Te.attributeName)===null||De===void 0)&&De.startsWith("data-tooltip-")))return;const St=ao(ln);Tn(St)})}),ci={attributes:!0,childList:!1,subtree:!1};if(ln){const ke=ao(ln);Tn(ke),jn.observe(ln,ci)}return()=>{jn.disconnect()}},[cn,Dn,ai,n,o]),M.useEffect(()=>{U!=null&&U.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),re&&!P5("border",`${re}`)&&console.warn(`[react-tooltip] "${re}" is not a valid \`border\`.`),U!=null&&U.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ie&&!P5("opacity",`${ie}`)&&console.warn(`[react-tooltip] "${ie}" is not a valid \`opacity\`.`)},[]);let pr=C;const Br=M.useRef(null);if(h){const Gt=h({content:Ee??null,activeAnchor:ai});pr=Gt?hn.createElement("div",{ref:Br,className:"react-tooltip-content-wrapper"},Gt):null}else Ee&&(pr=Ee);Me&&(pr=hn.createElement(nW,{content:Me}));const qt={forwardRef:it,id:i,anchorId:n,anchorSelect:o,className:rw(f,yt),classNameArrow:m,content:pr,contentWrapperRef:Br,place:oi,variant:hr,offset:yi,wrapper:Ai,events:Ho,openOnClick:D,positionStrategy:zn,middlewares:z,delayShow:Mt,delayHide:fr,float:Nt,hidden:oo,noArrow:H,clickable:J,closeOnEsc:Y,closeOnScroll:ee,closeOnResize:oe,openEvents:de,closeEvents:K,globalCloseEvents:Q,imperativeModeOnly:q,style:U,position:W,isOpen:X,border:re,opacity:ie,arrowColor:pe,setIsOpen:ge,afterShow:Se,afterHide:nt,activeAnchor:ai,setActiveAnchor:Gt=>qi(Gt),role:wt};return hn.createElement(tW,{...qt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",i=>{i.detail.disableCore||I5({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),i.detail.disableBase||I5({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function iW({supabase:i,session:n}){const o=zg(i),c=()=>{o.logout(),ti("Goodbye!",{icon:""})};return R.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-md navbar-light",children:[R.jsx(Pi,{to:"/Book-Chronicles",children:R.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),n?R.jsx("h3",{children:n.user.user_metadata.name+"'s Bookshelf"}):R.jsx("h3",{children:"Bookshelf Chronicles"}),R.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto"}),R.jsx("div",{className:"justify-content-end",id:"navbarNavAltMarkup",children:R.jsx("div",{className:"navbar-nav",children:R.jsxs("div",{className:"nav-link-container",children:[R.jsx(Pi,{to:"/Book-Chronicles/create",className:"plus-link dropdown-item",children:R.jsx("img",{src:qH})}),n?"":R.jsx(Pi,{to:"/Book-Chronicles/signin",className:"nav-item nav-link",href:"#",children:"Signin"}),n?R.jsxs("div",{className:"nav-item nav-link dropdown",children:[R.jsx("a",{className:"",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:R.jsx("img",{src:"https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg",width:"40",height:"40",className:"rounded-circle"})}),R.jsxs("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[R.jsx(Pi,{to:"/Book-Chronicles/create",className:"create-link dropdown-item",children:"Create"}),R.jsx(Pi,{to:`/Book-Chronicles/users/${n.user.user_metadata.name}`,className:"dropdown-item",children:"Dashboard"}),R.jsx(Pi,{to:"/Book-Chronicles/userposts",className:"dropdown-item",href:"#",children:"Other Users"}),R.jsx(Pi,{to:"/Book-Chronicles/profile",className:"dropdown-item",children:"Edit Profile"}),R.jsx(Pi,{onClick:c,to:"/Book-Chronicles",className:"dropdown-item",children:"Log Out"})]})]}):""]})})}),R.jsx(WH,{})]})}const Ik=({session:i,children:n})=>i?n:(Jt.error("You need to sign-in to get access to this!"),R.jsx(Kj,{to:"/Book-Chronicles/signin",replace:!0})),rW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZtQTFRFAAAAPK/lBAsNBREWETBABxMYAgYIAggKAgkMF0NYAAAABAYHBQYHBQcJBQgJBggJBwkJBxAUCAsMCQoLCgsMCw0OCxASCz1VDBIVDxMVEBQWEhMUEhcZExQVExYXEx0iFBcZFiUtGB4hGC03Go7FGyoxHCAiHCIlHDI8HJrWHR8fHjpHHjxKHyAhHyUoH05lIFRsISwxIVdwIkpdIlFnIzQ8I0NSI2B+JCouJDhBJDxIJEBNJSYnJZXLJaDaJiotJjxHKCkpKCorKKLcK0VRK36lLYOsL4awMIu3MIy4MY67MY+9Mzo+M5TCM5TDM5bFNJbGNJfGNJjINJnJNTo8Np/QNzk6N6DSN6HTN6HUOKLVOKPXOKXYOafbOafcOqjdOqrgO6vhO6zhPK7lPK/mP1BXSE1PSV1mU1dZVFRUenp6jIyMj4+PkJCQlZeXnJycn5+fpKSkra2tsLCwsN/1tbW1tra2z8/P2NjY2tra3Nzc39/f4ODg5eXl5+fn6Ojo6enp7Ozs8PDw8vLy9PT09vb2+fn5/v7+////5ti/UAAAAAp0Uk5TEYCNlcjn8/b4+muPeusAAAFKSURBVDjLY2BgZufCCdiYGBiYxW1TcIJITiYGDhXnFDwq2Bi4NPEpSOGCKYjAr8BdVVLDG6sCFogCw+KOfG2sChjBCiKkGzpahZKwKWCFmGCaXZNlhs8N3g4iLoH4fZGE3xcebm5uQF+EAym32JSURO9gVAW+wmE+PrxRKVaOIT5qBq6K3HpKEuaJSAq8nOo6OqRCUywLWzpyBOVKmzo6qtOUk9AUpMaBFeSKlneAQHuGCZqCkhSwgvqKDghoFEtGVZAeD1bQ0dFWVNYGUqHuh9UNHXkyOvI2Ve0dHRZeWBVU8gSkJBtnNuNUUKADFPbUrcOpIEcfKBwqW9s+5BT4CzhZWPBFp1hr2VsoGAGFo0EC/P6I9ODv5eUVlJISA6S8EkBxFARk+MMiyw5/xuFQ0bRzxgls2YGZV0UTJ1ARZwZmbw7c2Z+DmQEAE6ZAafVav5EAAAAASUVORK5CYII=",oW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAL5SURBVFiF7dZPaBxlGMfxz8zs7iTZNLRNq8VAaTAXodQ/EYlV9KDUmGAJ9hIRxIsgIubs0VOPPQo5KHgqsahIlSIoRcSEKmJLIJAIESsxNm1akmyS7e7MeNiNhCJ2d6O9tD94YYb3/b3P93mGed+He7rbFTSwZjfWkeIFdGyba0eCm/X3VVTrzytYwp91/20BuvBKzPGAx2PKNzg5wJuDXBni+jFeqhIGBG2khRqUNXIpMrIShVuD5NgscDXhYpnPcboO+DfA4Zhvuuh6mcIAwaN4uJ5e1ECZbtVGPf2FbWX4gewTKqvcKPMcpiEf8+sw1RWy7H8eK2RDVGPmkYeRNiqLdyD41viDLKaC4yGOPkNyfwtlblUH8HTt6z4VtjPQT9yo+Tdc+A8gniBu58kwZN++JozvYwCvk1zdAUA3QrrDjGJnE8YUfb29yVRvb9oXBNUPkLUA0FnzFcOUjmKT5t6DB5Pp2dn8e6dO5d7O55OjVKab3KNYA+gIE9qbBYBcLmdsbMzc/Hx0YHjYI0GQvUO21gRAlfYwoa0VgC319PT49OzZ/MSZM8HHe/cmDwVB5VKDAAltIY1dCLfdsFgUFwpZmaDSwPqtmGFEudGy/ZMWFxe9OjpaHRocdGxxMfoly3L9DfjWELEZRqyXWgicpqnx8XF9hw4llyYmsu8xTtjVoL9UA9jIBS0AXF5YiPqPHKnMzcyEJ9M0eouo2QurhJCNXEipGYAAM3Nz0QmyL4geaDLwdoCAtVzK8rUmjG/gRTxLrsXYYBkpy+EGUz9SbtT4YC34jnWBmxtMhpj8lnAn53qzWsJ3hJiEOOb3EyTrd6AXKJGN1BqSyyhsnQeP5fl6P+2jxP1qd/Z92F8f4Q4ynsVFTOE05SXWKzyPn7Yfgt14rY0RHC6zO9sWNybJkQQEnSQhWVSfT+rNKVTIvuL8OXadY895Puzi3U0KET9v8hk+wjX+/RQO6slvFSLCnvpcpNZF36pVtRb8S7W/ZBeuNFane7pb9ReW2Hiatm4A7gAAAABJRU5ErkJggg==",sW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAdVSURBVFiFzZd7UFT3Fcc/e/fNsrDAwvLWqMECVqIgJviYKiUYdbQ11qCxVsTGjDU6jm3NWNLEmlA1YzKJr2SsM1aMsfjOGHHU6CgaRSqGJhEbH0VBkJfAvvfu4/YPYQssaMhMpz0zd+7M+Z7vPd/f73d+v3t+8D822Q/gxAHpQJJCpTECXo/obATqgDKg+b8hIESjD10mCEKBXBAiB41IlxyWjqDW+nsKgMi4wR59RKTt9rXLiKLroUd0fuh2uXYCloGI6dM2XJD0YbGDO0b/fKF37dErUvEdn7T2SLkUEZMgFZVWSUWlVVJ4dLz0p06sqLRKmjxviUOt05uVau0KQHjc9x83A9GDnnm2OP+vZRNFr6SK0gpEqAUePqhj3ZyJLNu8j6FpmQDc/qqcLcvn8seSMsKi4wBob2pgx+oC661rl27azR3TgIa+ksj7ST5cF2b8R3resuSolAw5QHSQgFwmY+vyeWTNmEvmCy/6g8Oj40GSOLlrM1kz5wGg0ekZ97OXVZqgYON3FRfyPW7xM6C1d6K+pidSbzRdnrTizyGj57z6SKUMlIKMsgO78LhFcvNXBJBy81cgST4uHNrdw5+zYJlyYdHHRm2w/iwQ3ZvXewmEkKjYamtrU5JKp+8RJMjAabOiUKlQKFV9TpvHLeIRRTS64ADMYbWg0QV/ZTe3pwO+Lr+ie5DWEP5abOqYYbM27e9B1isFKna+jd3czsuF7/WZvMv2rFuJPiyCmcsKA7CNC6cMu3Hp3BK327W9++D8eYLCjE2L9l7RhJjiexCDJBfvT0/hrcOXMUTFPFZAW2M9a2c9x8YvbqDSaHtgrfX3WJ07ot1lsybSuUX9NaANMRSk5Lyo7p0c4NvTR0jKGP/E5ABhplieTs+i8tTRACwiNpGxU2erlWrtr7p8XUswTKHWrAkKN8mqTx0MIFbu207yqEyuHN8fgPVlhqgYTu3eiiAP3GTGuMFahUq5yu1ynABuyaKj9L9TKYV3JmQOVioUjz0zAk2tRZIPkAOITlE8e7baabOLf5CFhWocFZ/9WhNh6LledQ1m4mNCsNhERLeXCIPW7+t6O3QqZHIBg0FLbV07CfEG/7u11YZSpSBEr/b7ultLi43kZzZ2CG6PT9E7OcCUhZ/Q0mZnw/aLvL7hC5wuD9nzi3E43WTPL8ZqE3lj3UkK157AYnUxIXsbdoebCdnbcDo9rHr9GO9sOE1Li43JUz4K+L7RqMPj9akVAUinTZv0NPs/v87hkzdwu70cLK0ma3Q8Wo2SnHFD2H/8OsdKqwFIGxlLbk4SQVol47IGU3KwijPnbqFSykmIMzBjWmq/y9GvgDnTU5m1pIQxabGYjDrWvHuGj4umdWIp/HLlEbJ/MgzkMt546wT7iucDMO+lURQsKWHG9FQaGy28vf40xw4tGriA9BExmCKDyZueSpRRx8nzd8geNwSA8RmJ6INV5M38MYJORcXfa5k4/hH2fHYSSpWceS+NorHJwt17bWSkJ/QrQBYeqnWUHy3QGMOCAsC6BjMxJj1yQca9+g4SY0P9WG2DmbiYEDSxodQ1mElM+E+R3b3XxqDEMLxeH/UN5oACBGhutpIy6t0OWXSU/rdKhaxo4tinBr4NAeRyJJVmQL2V6BTFM2euO+0O95ou2tBgo+ni6NlLTBFPJQcQKj7dTGxKBnFpzyEDIjQCmv5+5MDNykvcqaogN395AHb/VjXHd2yqcdos2cCdrhq47RVd620tDe+Nf6UwYCw+r4db54+RnPOoB5DLYJBejlroe9gVJw6Rs+A3ZE79RQC24/cFdq9H/AC4A93+BQ5z+87q04ec5sa6ANLwSTOovXYRa/OjpsYrQY3Fi90jBcS2PbjPzatfMjpnZgDW2lBLRekBl9vl2tXl6z6RoqBQmh/W3MhNyZ3TY2iCQonbaaOm/AxDsp4HQALMooQEBClk/hI4+P6bDM+cQGrW5AABW5fnWZtqbr/p83nPdfkCG5LImG+tD5t/1L0h8Su0W5ErVch7NSSyzsfreWJDUmk3t48FPP0JAIgODo+s/umqTYaUF/J6AF8f28M3n3/C3G3HQdaLKknsWzqVzJnzmTR7AVq5zB9SfvyA9JfVi5qcNmsa0Nid1lctW0WH/XDttbIFSm2QJjZ1jB8wJY3k+sn92NuaiBv5bA/Slb0f0vGglvGvFdEhSjwUfVjdElXnT/h2r17Y4rBasnh0eelh/W3872xtLcmXdq7/58FVs31dxQcwtXA7FXs3U//NFb/v/tflVHy6hamF/k4LS8sDWu/XuBUazVK7pSONzqofqAlqXchKjd5gz5jzqm/x365KaypFKb/4S0lvipMWl1RKi0sqJb0pTsrfc0laUylKi0sqpTF5S3268EhHmClh7pMSfN/zS6/VG15RaDSrBIUqImHkWHlH4315W92/AAhLGIohOt57t7LMKyBrdtktWxyWjq18j6vZD7mcGoFxQKJaFxoPPpnLZmkAbgJX6ecG9H9r/waQp9P2A7RDvgAAAABJRU5ErkJggg==",aW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAByhJREFUWIXNl3tQVOcVwH/fvbt3F3blsW4iDxcURLShpaJpzVgTR6FYo3HywEdGTUYzkHFsO81MjNM2jdPOmEw6kzZ1prE4UYqPqqiNpj6i0GAwVgMaKwKGyJsg7+e+YO/e2z8MqwvYKulMe/663/nO/c7vO993zzkX/sci7tcwM2uDzW8QyxWjMd1oNHzf51OjfKrPAiCE0IQQXkmISp+q5asm387ivDzvfwUg4/mcJFniV5Iknk1JTupf8NijE5Omxhsm2SdiUox0dPfS0t5ObUMz50uv6LUNjbrfr6ELTvulwXVF+fld4wbQdV1kv/ZG0dy01NQVyxbbJFMo1U740gU9PhhQwe0HswShMkSbwREC7dcukrfvoH/A5RK6xLYze3a+/sAAK1/+2arli9M3r16+ZFbXEPy9E6oGQP9PIQMkAclW8JSdZf+hAl0W8iVPc9T84uKt6n0B6LoeB5xQNT2lsFNQ2gva/XgeAyTe1cjh7W9rqupvsnq7EgsKCvxBNiOBfrQ250TZtesfu/yk7GkWFNe0M+h2PrBzn8eJq6udutA4Ml99S5INksNptn060k6+e5C5JnuTIyZq3eoVWTG7mwS1TV9R8f42Wi8V4a6rxBBhxxwxEQDV68Hn7Mfv9QACyWAEoK+hmsYPd9FQeJT2K+eITE7FZ7UT/0iqqLtUHJv4nTnmmvLLRYEdDz9krFofo5hNN957c+uEwqGHafRAy8WzzNQ62LRuJZ+Wfs6fDvwVTQnB29+D3+cj1BIKOrjdbmSjEXO4DXnITc6qp5k3J4138/ZTrUQT/b1FADivFFF+4qDmVtSokt27OwAMwwAGo/JK5uPztArptnMA1e0kerINgyzzxNw5PDY7letf3CQuNhp7ZERQKDu7e2hsaSUleRqK8XY0Yh6yUXlrIGBjTVuE+dxJoTude4FM+PoOLMjaaJUlkZOxeHF4ae+dRY1hkTS3dQbGitFIWsrMUc4B7LZI0lJmBpwDNLd3Y7AG28YvWSd0XctYtiw7NACgKL4FUxyxg+X6xKDbPnirDqPRwHhFMcoMttYH6WzJqcgGAx6L9moAwGwyPvno7LSIqjvRwtXaiLOuipzVz4wbIHvVMzhrK3C1NgXprbEJwmCUswIAsmx4IiwuSb77U++q+IylC+djUpRxA5hNJpYunE935WdB+sjkVBAkBgBUv/pQjxIZZKR23WJGQvy4nQ/L9Knx+LpuBelC7TFofs0UAPB6h+xugyX4TV1DlmW+qRhkGfxByQ9r1GR0dBEAAOjzBldPyWyh3/ngGXCk9A0MIIVag5XiTgWQbo+F1tMdXDWN9hhu1DZ8Y4AbtQ0Y7bFBOndHKwKhBwAkSXi8LXVBRhGJ36ak9CrqiPA9iKiqSknZVSISU4L0ztYGJFkaDADoOjW9tZVB9c4S5UC2TeLghx+NG2DfsVMo9lgskyYH6XurryHgRgDAr+kFXXXVoxaIX/oiR4o+4c+Hj6Oqo0r5PcXnU3n/0AccK75A3JPrRs0PNNfqquorgK+r4bTohZd1k/vn4VNnCFkxU77jDbqvliCFWIhLX8E/L11g/4FDNLe209/fT2iImQnW4K+m+VYr50uv8MHZc/xu917adDOJz21EsYYF2XVWltFZUUqEr39JZWWlXwaoqbngS0ydvXig6ebk6LkZOOur0Pq7GGqtQzOacKRnETFjNi3OQT4pPMPNmlrSfzA3aOHfbM+l8HIFvsQ5OBY9i/2785EV06jdV+19B/zq6WN/yc8PHAGAJomVns42vbv6GtNWbMIUO42ZCfG0nv8bnddLUcJtPJw6D6H5yR4jPW9cuxJJ8xGVNh9TmG3Mo2m5eIZB14DmM2urh3UBgML83EZgz5dHc3XV7cTxw5WUlVexOfsFei8cp/Ttn1D625/yrYR4EuIcoxaf6ohF9XhQvZ4xnbvamqgvPIKmab8uzM3tG9aP7AlF5trsGsUSNmXWpm2i9R8fITeU8/qPX2KCxUKI2Ywsj+zi7kjWpteY/sIWlLDgtD7kcvL59i3oaCWn8957/O65kbVWH5SH0nD211/5w5aw1JytolM28PIvt2FSFDRNIzIijJ3b7tFl66M7V1dbM+W730RA/dwpkxacHjE/qtgX5+X1PrV+vWPQ47pW9vvN8UlPbxCzXnmHof4ehgb6aDjyx3tGAEC/K802nT9J08fHMBilkpN5O544NUZXP2a3cXzXrgEgIXPNS3lfHM5da7VHialL1qCERyKkex+BEALdr9J29QKNRYdRPS5NkvnFybwdb93znX+7HSDj+ReTJEnZp+naHEnI4pEZ01mf9RR2WyS28HDcXi89fX20dXSxq+AY9Y3NgK7LknzUGqJtKLjrwo0LYFjSs7PDJaf2XKjFkqmYzAs9Hne41+s1KEajZjKFqBPCJnR4vd4Dfd0dp7xfOc6N9Rf0fyn/AvfY4NZv5wiYAAAAAElFTkSuQmCC";function cW(){const i=new Date().getFullYear();return R.jsx("div",{className:"footer-container",children:R.jsx("div",{className:"container",children:R.jsxs("footer",{className:"text-center text-lg-start",children:[R.jsxs("div",{className:"container d-flex justify-content-center py-4",children:[R.jsx("a",{href:"https://davidcao.xyz",target:"_blank",children:R.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:R.jsx("img",{src:sW})})}),R.jsx("a",{href:"https://github.com/dave-cao/Book-Chronicles",target:"_blank",children:R.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:R.jsx("img",{src:aW})})}),R.jsx("a",{href:"https://www.linkedin.com/in/david-cao99/",target:"_blank",children:R.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:R.jsx("img",{src:rW})})}),R.jsx("a",{href:"https://www.youtube.com/@sirdavidcao",target:"_blank",children:R.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:R.jsx("img",{src:oW})})})]}),R.jsxs("div",{className:"footer-name",children:["Made by David Cao  ",i]})]})})})}const lW="modulepreload",dW=function(i){return"/Book-Chronicles/"+i},B5={},Uu=function(n,o,c){if(!o||o.length===0)return n();const d=document.getElementsByTagName("link");return Promise.all(o.map(h=>{if(h=dW(h),h in B5)return;B5[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!c)for(let w=d.length-1;w>=0;w--){const y=d[w];if(y.href===h&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":lW,f||(b.as="script",b.crossOrigin=""),b.href=h,document.head.appendChild(b),f)return new Promise((w,y)=>{b.addEventListener("load",w),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})})).then(()=>n()).catch(h=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h})},uW=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Uu(()=>Promise.resolve().then(()=>Hu),void 0).then(({default:c})=>c(...o)):n=fetch,(...o)=>n(...o)};class Dv extends Error{constructor(n,o="FunctionsError",c){super(n),this.name=o,this.context=c}}class hW extends Dv{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class fW extends Dv{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class pW extends Dv{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var gW=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};class mW{constructor(n,{headers:o={},customFetch:c}={}){this.url=n,this.headers=o,this.fetch=uW(c)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,o={}){var c;return gW(this,void 0,void 0,function*(){try{const{headers:d,method:h,body:f}=o;let m={},k;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(m["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(m["Content-Type"]="application/json",k=JSON.stringify(f)));const b=yield this.fetch(`${this.url}/${n}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),d),body:k}).catch(x=>{throw new hW(x)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new fW(b);if(!b.ok)throw new pW(b);let y=((c=b.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),C;return y==="application/json"?C=yield b.json():y==="application/octet-stream"?C=yield b.blob():y==="multipart/form-data"?C=yield b.formData():C=yield b.text(),{data:C,error:null}}catch(d){return{data:null,error:d}}})}}var ow={exports:{}};(function(i,n){var o=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ma<"u")return ma;throw new Error("unable to locate global object")},c=o();i.exports=n=c.fetch,c.fetch&&(n.default=c.fetch.bind(c)),n.Headers=c.Headers,n.Request=c.Request,n.Response=c.Response})(ow,ow.exports);var Tv=ow.exports;const Iv=sg(Tv),Hu=Q5({__proto__:null,default:Iv},[Tv]);class kW{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Iv:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,k;let b=null,w=null,y=null,C=h.status,x=h.statusText;if(h.ok){if(this.method!=="HEAD"){const N=await h.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=N:w=JSON.parse(N))}const T=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),z=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&z&&z.length>1&&(y=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,C=406,x="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await h.text();try{b=JSON.parse(T),Array.isArray(b)&&h.status===404&&(w=[],b=null,C=200,x="OK")}catch{h.status===404&&T===""?(C=204,x="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((k=b==null?void 0:b.details)===null||k===void 0)&&k.includes("0 rows"))&&(b=null,C=200,x="OK"),b&&this.shouldThrowOnError)throw b}return{error:b,data:w,count:y,status:C,statusText:x}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,m,k;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(m=h==null?void 0:h.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(k=h==null?void 0:h.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),d.then(n,o)}}class bW extends kW{select(n){let o=!1;const c=(n??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:o=!0,nullsFirst:c,foreignTable:d}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this}range(n,o,{foreignTable:c}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(h,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){const m=[n?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),k=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${k}"; options=${m};`,f==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Sc extends bW{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const c=o.map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(n,`in.(${c})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(n,`${h}fts${f}.${o}`),this}match(n){return Object.entries(n).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(n,o,c){return this.url.searchParams.append(n,`not.${o}.${c}`),this}or(n,{foreignTable:o}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${n})`),this}filter(n,o,c){return this.url.searchParams.append(n,`${o}.${c}`),this}}class wW{constructor(n,{headers:o={},schema:c,fetch:d}){this.url=n,this.headers=o,this.schema=c,this.fetch=d}select(n,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),c&&(this.headers.Prefer=`count=${c}`),new Sc({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:o,defaultToNull:c=!0}={}){const d="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((m,k)=>m.concat(Object.keys(k)),[]);if(f.length>0){const m=[...new Set(f)].map(k=>`"${k}"`);this.url.searchParams.set("columns",m.join(","))}}return new Sc({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){const f="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&m.push(this.headers.Prefer),d&&m.push(`count=${d}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(n)){const k=n.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(k.length>0){const b=[...new Set(k)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new Sc({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:o}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),this.headers.Prefer=d.join(","),new Sc({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const o="DELETE",c=[];return n&&c.push(`count=${n}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new Sc({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const vW="1.8.5",_W={"X-Client-Info":`postgrest-js/${vW}`};class Mv{constructor(n,{headers:o={},schema:c,fetch:d}={}){this.url=n,this.headers=Object.assign(Object.assign({},_W),o),this.schemaName=c,this.fetch=d}from(n){const o=new URL(`${this.url}/${n}`);return new wW(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Mv(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,o={},{head:c=!1,count:d}={}){let h;const f=new URL(`${this.url}/rpc/${n}`);let m;c?(h="HEAD",Object.entries(o).forEach(([b,w])=>{f.searchParams.append(b,`${w}`)})):(h="POST",m=o);const k=Object.assign({},this.headers);return d&&(k.Prefer=`count=${d}`),new Sc({method:h,url:f,headers:k,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var Mk,L5;function yW(){if(L5)return Mk;L5=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Mk=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Mk}const AW="websocket",CW="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",xW=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],EW="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",SW=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],DW="1.0.34",TW={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},IW="https://github.com/theturtle32/WebSocket-Node",MW={node:">=4.0.0"},NW={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},OW={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},PW={verbose:!1},BW={test:"tape test/unit/*.js",gulp:"gulp"},LW="index",zW={lib:"./lib"},jW="lib/browser.js",RW="Apache-2.0",FW={name:AW,description:CW,keywords:xW,author:EW,contributors:SW,version:DW,repository:TW,homepage:IW,engines:MW,dependencies:NW,devDependencies:OW,config:PW,scripts:BW,main:LW,directories:zW,browser:jW,license:RW};var $W=FW.version,pa;if(typeof globalThis=="object")pa=globalThis;else try{pa=yW()}catch{}finally{if(!pa&&typeof window<"u"&&(pa=window),!pa)throw new Error("Could not determine global this")}var Su=pa.WebSocket||pa.MozWebSocket,VW=$W;function BI(i,n){var o;return n?o=new Su(i,n):o=new Su(i),o}Su&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(BI,i,{get:function(){return Su[i]}})});var UW={w3cwebsocket:Su?BI:null,version:VW};const HW="2.8.4",WW={"X-Client-Info":`realtime-js/${HW}`},qW="1.0.0",LI=1e4,GW=1e3;var tu;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(tu||(tu={}));var Ni;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ni||(Ni={}));var Sr;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Sr||(Sr={}));var sw;(function(i){i.websocket="websocket"})(sw||(sw={}));var ga;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ga||(ga={}));class zI{constructor(n,o){this.callback=n,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class YW{constructor(){this.HEADER_LENGTH=1}decode(n,o){return n.constructor===ArrayBuffer?o(this._binaryDecode(n)):o(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const o=new DataView(n),c=new TextDecoder;return this._decodeBroadcast(n,o,c)}_decodeBroadcast(n,o,c){const d=o.getUint8(1),h=o.getUint8(2);let f=this.HEADER_LENGTH+2;const m=c.decode(n.slice(f,f+d));f=f+d;const k=c.decode(n.slice(f,f+h));f=f+h;const b=JSON.parse(c.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:k,payload:b}}}class Nk{constructor(n,o,c={},d=LI){this.channel=n,this.event=o,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,o){var c;return this._hasReceived(n)&&o((c=this.receivedResp)===null||c===void 0?void 0:c.response),this.recHooks.push({status:n,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:o}){this.recHooks.filter(c=>c.status===n).forEach(c=>c.callback(o))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var z5;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(z5||(z5={}));class nu{constructor(n,o){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},d=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nu.syncState(this.state,d,h,f),this.pendingDiffs.forEach(k=>{this.state=nu.syncDiff(this.state,k,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(c.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=nu.syncDiff(this.state,d,h,f),m())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,o,c,d){const h=this.cloneDeep(n),f=this.transformState(o),m={},k={};return this.map(h,(b,w)=>{f[b]||(k[b]=w)}),this.map(f,(b,w)=>{const y=h[b];if(y){const C=w.map(z=>z.presence_ref),x=y.map(z=>z.presence_ref),D=w.filter(z=>x.indexOf(z.presence_ref)<0),T=y.filter(z=>C.indexOf(z.presence_ref)<0);D.length>0&&(m[b]=D),T.length>0&&(k[b]=T)}else m[b]=w}),this.syncDiff(h,{joins:m,leaves:k},c,d)}static syncDiff(n,o,c,d){const{joins:h,leaves:f}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(h,(m,k)=>{var b;const w=(b=n[m])!==null&&b!==void 0?b:[];if(n[m]=this.cloneDeep(k),w.length>0){const y=n[m].map(x=>x.presence_ref),C=w.filter(x=>y.indexOf(x.presence_ref)<0);n[m].unshift(...C)}c(m,w,k)}),this.map(f,(m,k)=>{let b=n[m];if(!b)return;const w=k.map(y=>y.presence_ref);b=b.filter(y=>w.indexOf(y.presence_ref)<0),n[m]=b,d(m,b,k),b.length===0&&delete n[m]}),n}static map(n,o){return Object.getOwnPropertyNames(n).map(c=>o(c,n[c]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((o,c)=>{const d=n[c];return"metas"in d?o[c]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[c]=d,o},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(vt||(vt={}));const j5=(i,n,o={})=>{var c;const d=(c=o.skipTypes)!==null&&c!==void 0?c:[];return Object.keys(n).reduce((h,f)=>(h[f]=KW(f,i,n,d),h),{})},KW=(i,n,o,c)=>{const d=n.find(m=>m.name===i),h=d==null?void 0:d.type,f=o[i];return h&&!c.includes(h)?jI(h,f):aw(f)},jI=(i,n)=>{if(i.charAt(0)==="_"){const o=i.slice(1,i.length);return XW(n,o)}switch(i){case vt.bool:return ZW(n);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return QW(n);case vt.json:case vt.jsonb:return JW(n);case vt.timestamp:return eq(n);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return aw(n);default:return aw(n)}},aw=i=>i,ZW=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},QW=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},JW=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},XW=(i,n)=>{if(typeof i!="string")return i;const o=i.length-1,c=i[o];if(i[0]==="{"&&c==="}"){let h;const f=i.slice(1,o);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>jI(n,m))}return i},eq=i=>typeof i=="string"?i.replace(" ","T"):i;var R5;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(R5||(R5={}));var F5;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(F5||(F5={}));var $5;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($5||($5={}));class Nv{constructor(n,o={config:{}},c){this.topic=n,this.params=o,this.socket=c,this.bindings={},this.state=Ni.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},o.config),this.timeout=this.socket.timeout,this.joinPush=new Nk(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new zI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ni.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ni.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ni.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ni.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new nu(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(n,o=this.timeout){var c,d;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:h,presence:f}}=this.params;this._onError(b=>n&&n("CHANNEL_ERROR",b)),this._onClose(()=>n&&n("CLOSED"));const m={},k={broadcast:h,presence:f,postgres_changes:(d=(c=this.bindings.postgres_changes)===null||c===void 0?void 0:c.map(b=>b.filter))!==null&&d!==void 0?d:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:k},m)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",({postgres_changes:b})=>{var w;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),b===void 0){n&&n("SUBSCRIBED");return}else{const y=this.bindings.postgres_changes,C=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,x=[];for(let D=0;D<C;D++){const T=y[D],{filter:{event:z,schema:N,table:L,filter:S}}=T,F=b&&b[D];if(F&&F.event===z&&F.schema===N&&F.table===L&&F.filter===S)x.push(Object.assign(Object.assign({},T),{id:F.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,n&&n("SUBSCRIBED");return}}).receive("error",b=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(n,o={}){return await this.send({type:"presence",event:"track",payload:n},o.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,o,c){return this._on(n,o,c)}async send(n,o={}){var c,d;if(!this._canPush()&&n.type==="broadcast"){const{event:h,payload:f}=n,m={method:"POST",headers:{apikey:(c=this.socket.accessToken)!==null&&c!==void 0?c:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(d=o.timeout)!==null&&d!==void 0?d:this.timeout)).ok?"ok":"error"}catch(k){return k.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,k;const b=this._push(n.type,n,o.timeout||this.timeout);n.type==="broadcast"&&!(!((k=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||k===void 0)&&k.ack)&&h("ok"),b.receive("ok",()=>h("ok")),b.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ni.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(c=>{const d=new Nk(this,Sr.leave,{},n);d.receive("ok",()=>{o(),c("ok")}).receive("timeout",()=>{o(),c("timed out")}).receive("error",()=>{c("error")}),d.send(),this._canPush()||d.trigger("ok",{})})}_broadcastEndpointURL(){let n=this.socket.endPoint;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(n,o,c){const d=new AbortController,h=setTimeout(()=>d.abort(),c),f=await this.socket.fetch(n,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(h),f}_push(n,o,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Nk(this,n,o,c);return this._canPush()?d.send():(d.startTimeout(),this.pushBuffer.push(d)),d}_onMessage(n,o,c){return o}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,o,c){var d,h;const f=n.toLocaleLowerCase(),{close:m,error:k,leave:b,join:w}=Sr;if(c&&[m,k,b,w].indexOf(f)>=0&&c!==this._joinRef())return;let C=this._onMessage(f,o,c);if(o&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(x=>{var D,T,z;return((D=x.filter)===null||D===void 0?void 0:D.event)==="*"||((z=(T=x.filter)===null||T===void 0?void 0:T.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===f}).map(x=>x.callback(C,c)):(h=this.bindings[f])===null||h===void 0||h.filter(x=>{var D,T,z,N,L,S;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const F=x.id,H=(D=x.filter)===null||D===void 0?void 0:D.event;return F&&((T=o.ids)===null||T===void 0?void 0:T.includes(F))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((z=o.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const F=(L=(N=x==null?void 0:x.filter)===null||N===void 0?void 0:N.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return F==="*"||F===((S=o==null?void 0:o.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof C=="object"&&"ids"in C){const D=C.data,{schema:T,table:z,commit_timestamp:N,type:L,errors:S}=D;C=Object.assign(Object.assign({},{schema:T,table:z,commit_timestamp:N,eventType:L,new:{},old:{},errors:S}),this._getPayloadRecords(D))}x.callback(C,c)})}_isClosed(){return this.state===Ni.closed}_isJoined(){return this.state===Ni.joined}_isJoining(){return this.state===Ni.joining}_isLeaving(){return this.state===Ni.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,o,c){const d=n.toLocaleLowerCase(),h={type:d,filter:o,callback:c};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,o){const c=n.toLocaleLowerCase();return this.bindings[c]=this.bindings[c].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===c&&Nv.isEqual(d.filter,o))}),this}static isEqual(n,o){if(Object.keys(n).length!==Object.keys(o).length)return!1;for(const c in n)if(n[c]!==o[c])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Sr.close,{},n)}_onError(n){this._on(Sr.error,{},o=>n(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ni.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const o={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(o.new=j5(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(o.old=j5(n.columns,n.old_record)),o}}const tq=()=>{};class nq{constructor(n,o){var c;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=WW,this.params={},this.timeout=LI,this.transport=UW.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tq,this.conn=null,this.sendBuffer=[],this.serializer=new YW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=h=>{let f;return h?f=h:typeof fetch>"u"?f=(...m)=>Uu(()=>Promise.resolve().then(()=>Hu),void 0).then(({default:k})=>k(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${n}/${sw.websocket}`,o!=null&&o.params&&(this.params=o.params),o!=null&&o.headers&&(this.headers=Object.assign(Object.assign({},this.headers),o.headers)),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),o!=null&&o.transport&&(this.transport=o.transport),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const d=(c=o==null?void 0:o.params)===null||c===void 0?void 0:c.apikey;d&&(this.accessToken=d),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,f)=>f(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,o){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const o=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const n=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.disconnect(),n}log(n,o,c){this.logger(n,o,c)}connectionState(){switch(this.conn&&this.conn.readyState){case tu.connecting:return ga.Connecting;case tu.open:return ga.Open;case tu.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}channel(n,o={config:{}}){const c=new Nv(`realtime:${n}`,o,this);return this.channels.push(c),c}push(n){const{topic:o,event:c,payload:d,ref:h}=n,f=()=>{this.encode(n,m=>{var k;(k=this.conn)===null||k===void 0||k.send(m)})};this.log("push",`${o} ${c} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(n){this.accessToken=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(Sr.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let o=this.channels.find(c=>c.topic===n&&(c._isJoined()||c._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${n}"`),o.unsubscribe())}_remove(n){this.channels=this.channels.filter(o=>o._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qW}))}_onConnMessage(n){this.decode(n.data,o=>{let{topic:c,event:d,payload:h,ref:f}=o;(f&&f===this.pendingHeartbeatRef||d===(h==null?void 0:h.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${c} ${d} ${f&&"("+f+")"||""}`,h),this.channels.filter(m=>m._isMember(c)).forEach(m=>m._trigger(d,h,f)),this.stateChangeCallbacks.message.forEach(m=>m(o))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Sr.error))}_appendParams(n,o){if(Object.keys(o).length===0)return n;const c=n.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${n}${c}${d}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(GW,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Ov extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Un(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class iq extends Ov{constructor(n,o){super(n),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class V5 extends Ov{constructor(n,o){super(n),this.name="StorageUnknownError",this.originalError=o}}var rq=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};const RI=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Uu(()=>Promise.resolve().then(()=>Hu),void 0).then(({default:c})=>c(...o)):n=fetch,(...o)=>n(...o)},oq=()=>rq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uu(()=>Promise.resolve().then(()=>Hu),void 0)).Response:Response});var vl=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};const Ok=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),sq=(i,n)=>vl(void 0,void 0,void 0,function*(){const o=yield oq();i instanceof o?i.json().then(c=>{n(new iq(Ok(c),i.status||500))}).catch(c=>{n(new V5(Ok(c),c))}):n(new V5(Ok(i),i))}),aq=(i,n,o,c)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(c),Object.assign(Object.assign({},d),o))};function jg(i,n,o,c,d,h){return vl(this,void 0,void 0,function*(){return new Promise((f,m)=>{i(o,aq(n,c,d,h)).then(k=>{if(!k.ok)throw k;return c!=null&&c.noResolveJson?k:k.json()}).then(k=>f(k)).catch(k=>sq(k,m))})})}function cw(i,n,o,c){return vl(this,void 0,void 0,function*(){return jg(i,"GET",n,o,c)})}function fs(i,n,o,c,d){return vl(this,void 0,void 0,function*(){return jg(i,"POST",n,c,d,o)})}function cq(i,n,o,c,d){return vl(this,void 0,void 0,function*(){return jg(i,"PUT",n,c,d,o)})}function FI(i,n,o,c,d){return vl(this,void 0,void 0,function*(){return jg(i,"DELETE",n,c,d,o)})}var er=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};const lq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dq{constructor(n,o={},c,d){this.url=n,this.headers=o,this.bucketId=c,this.fetch=RI(d)}uploadOrUpdate(n,o,c,d){return er(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},U5),d),m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&c instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",c)):typeof FormData<"u"&&c instanceof FormData?(h=c,h.append("cacheControl",f.cacheControl)):(h=c,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const k=this._removeEmptyFolders(o),b=this._getFinalPath(k),w=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:n,body:h,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return w.ok?{data:{path:k},error:null}:{data:null,error:yield w.json()}}catch(h){if(Un(h))return{data:null,error:h};throw h}})}upload(n,o,c){return er(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,o,c)})}uploadToSignedUrl(n,o,c,d){return er(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",o);try{let k;const b=Object.assign({upsert:U5.upsert},d),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&c instanceof Blob?(k=new FormData,k.append("cacheControl",b.cacheControl),k.append("",c)):typeof FormData<"u"&&c instanceof FormData?(k=c,k.append("cacheControl",b.cacheControl)):(k=c,w["cache-control"]=`max-age=${b.cacheControl}`,w["content-type"]=b.contentType);const y=yield this.fetch(m.toString(),{method:"PUT",body:k,headers:w});return y.ok?{data:{path:h},error:null}:{data:null,error:yield y.json()}}catch(k){if(Un(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(n){return er(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const c=yield fs(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:this.headers}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new Ov("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(o){if(Un(o))return{data:null,error:o};throw o}})}update(n,o,c){return er(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,o,c)})}move(n,o){return er(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o},{headers:this.headers}),error:null}}catch(c){if(Un(c))return{data:null,error:c};throw c}})}copy(n,o){return er(this,void 0,void 0,function*(){try{return{data:{path:(yield fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o},{headers:this.headers})).Key},error:null}}catch(c){if(Un(c))return{data:null,error:c};throw c}})}createSignedUrl(n,o,c){return er(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),h=yield fs(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:o},c!=null&&c.transform?{transform:c.transform}:{}),{headers:this.headers});const f=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(Un(d))return{data:null,error:d};throw d}})}createSignedUrls(n,o,c){return er(this,void 0,void 0,function*(){try{const d=yield fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:n},{headers:this.headers}),h=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(Un(d))return{data:null,error:d};throw d}})}download(n,o){return er(this,void 0,void 0,function*(){const d=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),f=h?`?${h}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield cw(this.fetch,`${this.url}/${d}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Un(m))return{data:null,error:m};throw m}})}getPublicUrl(n,o){const c=this._getFinalPath(n),d=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&d.push(h);const m=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",k=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});k!==""&&d.push(k);let b=d.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${c}${b}`)}}}remove(n){return er(this,void 0,void 0,function*(){try{return{data:yield FI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(o){if(Un(o))return{data:null,error:o};throw o}})}list(n,o,c){return er(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},lq),o),{prefix:n||""});return{data:yield fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},c),error:null}}catch(d){if(Un(d))return{data:null,error:d};throw d}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const o=[];return n.width&&o.push(`width=${n.width}`),n.height&&o.push(`height=${n.height}`),n.resize&&o.push(`resize=${n.resize}`),n.format&&o.push(`format=${n.format}`),n.quality&&o.push(`quality=${n.quality}`),o.join("&")}}const uq="2.5.4",hq={"X-Client-Info":`storage-js/${uq}`};var Ac=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};class fq{constructor(n,o={},c){this.url=n,this.headers=Object.assign(Object.assign({},hq),o),this.fetch=RI(c)}listBuckets(){return Ac(this,void 0,void 0,function*(){try{return{data:yield cw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}})}getBucket(n){return Ac(this,void 0,void 0,function*(){try{return{data:yield cw(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(o){if(Un(o))return{data:null,error:o};throw o}})}createBucket(n,o={public:!1}){return Ac(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(Un(c))return{data:null,error:c};throw c}})}updateBucket(n,o){return Ac(this,void 0,void 0,function*(){try{return{data:yield cq(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(Un(c))return{data:null,error:c};throw c}})}emptyBucket(n){return Ac(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Un(o))return{data:null,error:o};throw o}})}deleteBucket(n){return Ac(this,void 0,void 0,function*(){try{return{data:yield FI(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(o){if(Un(o))return{data:null,error:o};throw o}})}}class pq extends fq{constructor(n,o={},c){super(n,o,c)}from(n){return new dq(this.url,this.headers,n,this.fetch)}}const gq="2.38.4";let $d="";typeof Deno<"u"?$d="deno":typeof document<"u"?$d="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$d="react-native":$d="node";const mq={"X-Client-Info":`supabase-js-${$d}/${gq}`};var kq=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};const bq=i=>{let n;return i?n=i:typeof fetch>"u"?n=Iv:n=fetch,(...o)=>n(...o)},wq=()=>typeof Headers>"u"?Tv.Headers:Headers,vq=(i,n,o)=>{const c=bq(o),d=wq();return(h,f)=>kq(void 0,void 0,void 0,function*(){var m;const k=(m=yield n())!==null&&m!==void 0?m:i;let b=new d(f==null?void 0:f.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${k}`),c(h,Object.assign(Object.assign({},f),{headers:b}))})};function _q(i){return i.replace(/\/$/,"")}function yq(i,n){const{db:o,auth:c,realtime:d,global:h}=i,{db:f,auth:m,realtime:k,global:b}=n;return{db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},k),d),global:Object.assign(Object.assign({},b),h)}}function Aq(i){return Math.round(Date.now()/1e3)+i}function Cq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const yo=()=>typeof document<"u",la={tested:!1,writable:!1},iu=()=>{if(!yo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function Pk(i){const n={},o=new URL(i);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return o.searchParams.forEach((c,d)=>{n[d]=c}),n}const $I=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Uu(()=>Promise.resolve().then(()=>Hu),void 0).then(({default:c})=>c(...o)):n=fetch,(...o)=>n(...o)},xq=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",da=async(i,n,o)=>{await i.setItem(n,JSON.stringify(o))},Jf=async(i,n)=>{const o=await i.getItem(n);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Bk=async(i,n)=>{await i.removeItem(n)};function Eq(i){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",c,d,h,f,m,k,b,w=0;for(i=i.replace("-","+").replace("_","/");w<i.length;)f=n.indexOf(i.charAt(w++)),m=n.indexOf(i.charAt(w++)),k=n.indexOf(i.charAt(w++)),b=n.indexOf(i.charAt(w++)),c=f<<2|m>>4,d=(m&15)<<4|k>>2,h=(k&3)<<6|b,o=o+String.fromCharCode(c),k!=64&&d!=0&&(o=o+String.fromCharCode(d)),b!=64&&h!=0&&(o=o+String.fromCharCode(h));return o}class Rg{constructor(){this.promise=new Rg.promiseConstructor((n,o)=>{this.resolve=n,this.reject=o})}}Rg.promiseConstructor=Promise;function H5(i){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,o=i.split(".");if(o.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(o[1]))throw new Error("JWT is not valid: payload is not in base64url format");const c=o[1];return JSON.parse(Eq(c))}async function Sq(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Dq(i,n){return new Promise((c,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){c(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function Tq(i){return("0"+i.toString(16)).substr(-2)}function Cc(){const n=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=o.length;let d="";for(let h=0;h<56;h++)d+=o.charAt(Math.floor(Math.random()*c));return d}return crypto.getRandomValues(n),Array.from(n,Tq).join("")}async function Iq(i){const o=new TextEncoder().encode(i),c=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(c);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}function Mq(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const o=await Iq(i);return Mq(o)}class Pv extends Error{constructor(n,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=o}}function Ze(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Nq extends Pv{constructor(n,o){super(n,o),this.name="AuthApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Oq(i){return Ze(i)&&i.name==="AuthApiError"}class VI extends Pv{constructor(n,o){super(n),this.name="AuthUnknownError",this.originalError=o}}class _l extends Pv{constructor(n,o,c){super(n),this.name=o,this.status=c}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ec extends _l{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Lk extends _l{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Xf extends _l{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class ep extends _l{constructor(n,o=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W5 extends _l{constructor(n,o=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lw extends _l{constructor(n,o){super(n,"AuthRetryableFetchError",o)}}function q5(i){return Ze(i)&&i.name==="AuthRetryableFetchError"}var Pq=globalThis&&globalThis.__rest||function(i,n){var o={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&n.indexOf(c)<0&&(o[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(i);d<c.length;d++)n.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(i,c[d])&&(o[c[d]]=i[c[d]]);return o};const Vd=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Bq=[502,503,504];async function G5(i){if(!xq(i))throw new lw(Vd(i),0);if(Bq.includes(i.status))throw new lw(Vd(i),i.status);let n;try{n=await i.json()}catch(o){throw new VI(Vd(o),o)}throw new Nq(Vd(n),i.status||500)}const Lq=(i,n,o,c)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(c),Object.assign(Object.assign({},d),o))};async function tt(i,n,o,c){var d;const h=Object.assign({},c==null?void 0:c.headers);c!=null&&c.jwt&&(h.Authorization=`Bearer ${c.jwt}`);const f=(d=c==null?void 0:c.query)!==null&&d!==void 0?d:{};c!=null&&c.redirectTo&&(f.redirect_to=c.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",k=await zq(i,n,o+m,{headers:h,noResolveJson:c==null?void 0:c.noResolveJson},{},c==null?void 0:c.body);return c!=null&&c.xform?c==null?void 0:c.xform(k):{data:Object.assign({},k),error:null}}async function zq(i,n,o,c,d,h){const f=Lq(n,c,d,h);let m;try{m=await i(o,f)}catch(k){throw console.error(k),new lw(Vd(k),0)}if(m.ok||await G5(m),c!=null&&c.noResolveJson)return m;try{return await m.json()}catch(k){await G5(k)}}function cs(i){var n;let o=null;$q(i)&&(o=Object.assign({},i),i.expires_at||(o.expires_at=Aq(i.expires_in)));const c=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:o,user:c},error:null}}function bs(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function jq(i){return{data:i,error:null}}function Rq(i){const{action_link:n,email_otp:o,hashed_token:c,redirect_to:d,verification_type:h}=i,f=Pq(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:o,hashed_token:c,redirect_to:d,verification_type:h},k=Object.assign({},f);return{data:{properties:m,user:k},error:null}}function Fq(i){return i}function $q(i){return i.access_token&&i.refresh_token&&i.expires_in}var Vq=globalThis&&globalThis.__rest||function(i,n){var o={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&n.indexOf(c)<0&&(o[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(i);d<c.length;d++)n.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(i,c[d])&&(o[c[d]]=i[c[d]]);return o};class Uq{constructor({url:n="",headers:o={},fetch:c}){this.url=n,this.headers=o,this.fetch=$I(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,o="global"){try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}}async inviteUserByEmail(n,o={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:bs})}catch(c){if(Ze(c))return{data:{user:null},error:c};throw c}}async generateLink(n){try{const{options:o}=n,c=Vq(n,["options"]),d=Object.assign(Object.assign({},c),o);return"newEmail"in c&&(d.new_email=c==null?void 0:c.newEmail,delete d.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Rq,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(Ze(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(n){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:bs})}catch(o){if(Ze(o))return{data:{user:null},error:o};throw o}}async listUsers(n){var o,c,d,h,f,m,k;try{const b={nextPage:null,lastPage:0,total:0},w=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(o=n==null?void 0:n.page)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:"",per_page:(h=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Fq});if(w.error)throw w.error;const y=await w.json(),C=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(k=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&k!==void 0?k:[];return x.length>0&&(x.forEach(D=>{const T=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(D.split(";")[1].split("=")[1]);b[`${z}Page`]=T}),b.total=parseInt(C)),{data:Object.assign(Object.assign({},y),b),error:null}}catch(b){if(Ze(b))return{data:{users:[]},error:b};throw b}}async getUserById(n){try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:bs})}catch(o){if(Ze(o))return{data:{user:null},error:o};throw o}}async updateUserById(n,o){try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:o,headers:this.headers,xform:bs})}catch(c){if(Ze(c))return{data:{user:null},error:c};throw c}}async deleteUser(n,o=!1){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:o},xform:bs})}catch(c){if(Ze(c))return{data:{user:null},error:c};throw c}}async _listFactors(n){try{const{data:o,error:c}=await tt(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:c}}catch(o){if(Ze(o))return{data:null,error:o};throw o}}async _deleteFactor(n){try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}}}const UI="2.57.0",Hq="http://localhost:9999",Wq="supabase.auth.token",qq={"X-Client-Info":`gotrue-js/${UI}`},Y5=10,Gq={getItem:i=>iu()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{iu()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{iu()&&globalThis.localStorage.removeItem(i)}};function K5(i={}){return{getItem:n=>i[n]||null,setItem:(n,o)=>{i[n]=o},removeItem:n=>{delete i[n]}}}function Yq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&iu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Kq extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}Yq();const Zq={url:Hq,storageKey:Wq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qq,flowType:"implicit",debug:!1},Pd=30*1e3,Z5=3;async function Qq(i,n,o){return await o()}class Du{constructor(n){var o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Du.nextInstanceID,Du.nextInstanceID+=1,this.instanceID>0&&yo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Zq),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Uq({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$I(c.fetch),this.lock=c.lock||Qq,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:iu()?this.storage=Gq:(this.memoryStorage={},this.storage=K5(this.memoryStorage)):(this.memoryStorage={},this.storage=K5(this.memoryStorage)),yo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${UI}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const n=yo()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:o,error:c}=await this._getSessionFromURL(n);if(c)return this._debug("#_initialize()","error detecting session from URL",c),await this._removeSession(),{error:c};const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?{error:n}:{error:new VI("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(n){var o,c,d;try{await this._removeSession();let h;if("email"in n){const{email:w,password:y,options:C}=n;let x=null,D=null;if(this.flowType==="pkce"){const T=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,T),x=await xc(T),D=T===x?"plain":"s256"}h=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:w,password:y,data:(o=C==null?void 0:C.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:x,code_challenge_method:D},xform:cs})}else if("phone"in n){const{phone:w,password:y,options:C}=n;h=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:y,data:(c=C==null?void 0:C.data)!==null&&c!==void 0?c:{},channel:(d=C==null?void 0:C.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:cs})}else throw new Xf("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return{data:{user:null,session:null},error:m};const k=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:b,session:k},error:null}}catch(h){if(Ze(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(n){try{await this._removeSession();let o;if("email"in n){const{email:h,password:f,options:m}=n;o=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cs})}else if("phone"in n){const{phone:h,password:f,options:m}=n;o=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cs})}else throw new Xf("You must provide either an email or phone number and a password");const{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lk}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:{user:c.user,session:c.session},error:d})}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(n){var o,c,d,h;return await this._removeSession(),await this._handleProviderSignIn(n.provider,{redirectTo:(o=n.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const o=await Jf(this.storage,`${this.storageKey}-code-verifier`),{data:c,error:d}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:cs});return await Bk(this.storage,`${this.storageKey}-code-verifier`),d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lk}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}async signInWithIdToken(n){await this._removeSession();try{const{options:o,provider:c,token:d,access_token:h,nonce:f}=n,m=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:cs}),{data:k,error:b}=m;return b?{data:{user:null,session:null},error:b}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new Lk}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:b})}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(n){var o,c,d,h,f;try{if(await this._removeSession(),"email"in n){const{email:m,options:k}=n;let b=null,w=null;if(this.flowType==="pkce"){const C=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,C),b=await xc(C),w=C===b?"plain":"s256"}const{error:y}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(o=k==null?void 0:k.data)!==null&&o!==void 0?o:{},create_user:(c=k==null?void 0:k.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:b,code_challenge_method:w},redirectTo:k==null?void 0:k.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:m,options:k}=n,{data:b,error:w}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(d=k==null?void 0:k.data)!==null&&d!==void 0?d:{},create_user:(h=k==null?void 0:k.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},channel:(f=k==null?void 0:k.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:w}}throw new Xf("You must provide either an email or phone number.")}catch(m){if(Ze(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var o,c;try{n.type!=="email_change"&&n.type!=="phone_change"&&await this._removeSession();let d,h;"options"in n&&(d=(o=n.options)===null||o===void 0?void 0:o.redirectTo,h=(c=n.options)===null||c===void 0?void 0:c.captchaToken);const{data:f,error:m}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:cs});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const k=f.session,b=f.user;return k!=null&&k.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:b,session:k},error:null}}catch(d){if(Ze(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSSO(n){var o,c,d;try{await this._removeSession();let h=null,f=null;if(this.flowType==="pkce"){const m=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,m),h=await xc(m),f=m===h?"plain":"s256"}return await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(c=(o=n.options)===null||o===void 0?void 0:o.redirectTo)!==null&&c!==void 0?c:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:jq})}catch(h){if(Ze(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:o},error:c}=n;if(c)throw c;if(!o)throw new Ec;const{error:d}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:d}})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{n.type!="email_change"&&n.type!="phone_change"&&await this._removeSession();const o=`${this.url}/resend`;if("email"in n){const{email:c,type:d,options:h}=n,{error:f}=await tt(this.fetch,"POST",o,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:c,type:d,options:h}=n,{data:f,error:m}=await tt(this.fetch,"POST",o,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Xf("You must provide either an email or phone number and a type")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(n,o){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const c=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await c,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const c=o();for(this.pendingInLock.push((async()=>{try{await c}catch{}})()),await c;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await c}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await n(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const o=await Jf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?n=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const c=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",n.expires_at),!c)return{data:{session:n},error:null};const{session:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{session:null},error:h}:{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:bs}):await this._useSession(async o=>{var c,d;const{data:h,error:f}=o;if(f)throw f;return await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:bs})})}catch(o){if(Ze(o))return{data:{user:null},error:o};throw o}}async updateUser(n,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,o))}async _updateUser(n,o={}){try{return await this._useSession(async c=>{const{data:d,error:h}=c;if(h)throw h;if(!d.session)throw new Ec;const f=d.session;let m=null,k=null;if(this.flowType==="pkce"&&n.email!=null){const y=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,y),m=await xc(y),k=y===m?"plain":"s256"}const{data:b,error:w}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:k}),jwt:f.access_token,xform:bs});if(w)throw w;return f.user=b.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(c){if(Ze(c))return{data:{user:null},error:c};throw c}}_decodeJWT(n){return H5(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ec;const o=Date.now()/1e3;let c=o,d=!0,h=null;const f=H5(n.access_token);if(f.exp&&(c=f.exp,d=c<=o),d){const{session:m,error:k}=await this._callRefreshToken(n.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:k}=await this._getUser(n.access_token);if(k)throw k;h={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:c-o,expires_at:c},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(Ze(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async o=>{var c;if(!n){const{data:f,error:m}=o;if(m)throw m;n=(c=f.session)!==null&&c!==void 0?c:void 0}if(!(n!=null&&n.refresh_token))throw new Ec;const{session:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{user:null,session:null},error:h}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(n){try{if(!yo())throw new ep("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ep("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new W5("Not a valid PKCE flow url.");const o=Pk(window.location.href);if(n){if(!o.code)throw new W5("No code detected.");const{data:L,error:S}=await this._exchangeCodeForSession(o.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:L.session,redirectType:null},error:null}}if(o.error||o.error_description||o.error_code)throw new ep(o.error_description||"Error in URL with unspecified error_description",{error:o.error||"unspecified_error",code:o.error_code||"unspecified_code"});const{provider_token:c,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:m,expires_at:k,token_type:b}=o;if(!h||!m||!f||!b)throw new ep("No session defined in URL");const w=Math.round(Date.now()/1e3),y=parseInt(m);let C=w+y;k&&(C=parseInt(k));const x=C-w;x*1e3<=Pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const D=C-y;w-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,C,w):w-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",D,C,w);const{data:T,error:z}=await this._getUser(h);if(z)throw z;const N={provider_token:c,provider_refresh_token:d,access_token:h,expires_in:y,expires_at:C,refresh_token:f,token_type:b,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:o.type},error:null}}catch(o){if(Ze(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantFlow(){const n=Pk(window.location.href);return!!(yo()&&(n.access_token||n.error_description))}async _isPKCEFlow(){const n=Pk(window.location.href),o=await Jf(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&o)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async o=>{var c;const{data:d,error:h}=o;if(h)return{error:h};const f=(c=d.session)===null||c===void 0?void 0:c.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Oq(m)&&(m.status===404||m.status===401)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Bk(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){const o=Cq(),c={id:o,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,c),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:c}}}async _emitInitialSession(n){return await this._useSession(async o=>{var c,d;try{const{data:{session:h},error:f}=o;if(f)throw f;await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,o={}){let c=null,d=null;if(this.flowType==="pkce"){const h=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,h),c=await xc(h),d=h===c?"plain":"s256"}try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(Ze(h))return{data:null,error:h};throw h}}async _refreshAccessToken(n){const o=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{const c=Date.now();return await Dq(async d=>(await Sq(d*200),this._debug(o,"refreshing attempt",d),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:cs})),(d,h,f)=>f&&f.error&&q5(f.error)&&Date.now()+(d+1)*200-c<Pd)}catch(c){if(this._debug(o,"error",c),Ze(c))return{data:{session:null,user:null},error:c};throw c}finally{this._debug(o,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,o){const c=await this._getUrlForProvider(n,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",o,"url",c),yo()&&!o.skipBrowserRedirect&&window.location.assign(c),{data:{provider:n,url:c},error:null}}async _recoverAndRefresh(){var n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Jf(this.storage,this.storageKey);if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=Math.round(Date.now()/1e3),h=((n=c.expires_at)!==null&&n!==void 0?n:1/0)<d+Y5;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${Y5}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),q5(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var o,c;if(!n)throw new Ec;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Rg;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Ec;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={session:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(d,"error",h),Ze(h)){const f={session:null,error:h};return(o=this.refreshingDeferred)===null||o===void 0||o.resolve(f),f}throw(c=this.refreshingDeferred)===null||c===void 0||c.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,o,c=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",o,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:n,session:o});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,o)}catch(k){h.push(k)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),await this._persistSession(n)}_persistSession(n){return this._debug("#_persistSession()",n),da(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Bk(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&yo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Pd);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async o=>{const{data:{session:c}}=o;if(!c||!c.refresh_token||!c.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((c.expires_at*1e3-n)/Pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Pd}ms, refresh threshold is ${Z5} ticks`),d<=Z5&&await this._callRefreshToken(c.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Kq)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const o=`#_onVisibilityChanged(${n})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,o){const c=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const d=Cc();await da(this.storage,`${this.storageKey}-code-verifier`,d);const h=await xc(d),f=d===h?"plain":"s256";this._debug("PKCE","code verifier",`${d.substring(0,5)}...`,"code challenge",h,"method",f);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return`${this.url}/authorize?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;return h?{data:null,error:h}:await tt(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token})})}catch(o){if(Ze(o))return{data:null,error:o};throw o}}async _enroll(n){try{return await this._useSession(async o=>{var c,d;const{data:h,error:f}=o;if(f)return{data:null,error:f};const{data:m,error:k}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(c=h==null?void 0:h.session)===null||c===void 0?void 0:c.access_token});return k?{data:null,error:k}:(!((d=m==null?void 0:m.totp)===null||d===void 0)&&d.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(o){if(Ze(o))return{data:null,error:o};throw o}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;if(h)return{data:null,error:h};const{data:f,error:m}=await tt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;return h?{data:null,error:h}:await tt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token})})}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(n){const{data:o,error:c}=await this._challenge({factorId:n.factorId});return c?{data:null,error:c}:await this._verify({factorId:n.factorId,challengeId:o.id,code:n.code})}async _listFactors(){const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const c=(n==null?void 0:n.factors)||[],d=c.filter(h=>h.factor_type==="totp"&&h.status==="verified");return{data:{all:c,totp:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var o,c;const{data:{session:d},error:h}=n;if(h)return{data:null,error:h};if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(d.access_token);let m=null;f.aal&&(m=f.aal);let k=m;((c=(o=d.user.factors)===null||o===void 0?void 0:o.filter(y=>y.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(k="aal2");const w=f.amr||[];return{data:{currentLevel:m,nextLevel:k,currentAuthenticationMethods:w},error:null}}))}}Du.nextInstanceID=0;class Jq extends Du{constructor(n){super(n)}}var Xq=globalThis&&globalThis.__awaiter||function(i,n,o,c){function d(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(w){try{b(c.next(w))}catch(y){f(y)}}function k(w){try{b(c.throw(w))}catch(y){f(y)}}function b(w){w.done?h(w.value):d(w.value).then(m,k)}b((c=c.apply(i,n||[])).next())})};const eG={headers:mq},tG={schema:"public"},nG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iG={};class rG{constructor(n,o,c){var d,h,f,m,k,b,w,y;if(this.supabaseUrl=n,this.supabaseKey=o,!n)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const C=_q(n);this.realtimeUrl=`${C}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${C}/auth/v1`,this.storageUrl=`${C}/storage/v1`,this.functionsUrl=`${C}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,D={db:tG,realtime:iG,auth:Object.assign(Object.assign({},nG),{storageKey:x}),global:eG},T=yq(c??{},D);this.storageKey=(h=(d=T.auth)===null||d===void 0?void 0:d.storageKey)!==null&&h!==void 0?h:"",this.headers=(m=(f=T.global)===null||f===void 0?void 0:f.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((k=T.auth)!==null&&k!==void 0?k:{},this.headers,(b=T.global)===null||b===void 0?void 0:b.fetch),this.fetch=vq(o,this._getAccessToken.bind(this),(w=T.global)===null||w===void 0?void 0:w.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new Mv(`${C}/rest/v1`,{headers:this.headers,schema:(y=T.db)===null||y===void 0?void 0:y.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new mW(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pq(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,o={},c){return this.rest.rpc(n,o,c)}channel(n,o={config:{}}){return this.realtime.channel(n,o)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,o;return Xq(this,void 0,void 0,function*(){const{data:c}=yield this.auth.getSession();return(o=(n=c.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:o,detectSessionInUrl:c,storage:d,storageKey:h,flowType:f,debug:m},k,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jq({url:this.authUrl,headers:Object.assign(Object.assign({},w),k),storageKey:h,autoRefreshToken:n,persistSession:o,detectSessionInUrl:c,storage:d,flowType:f,debug:m,fetch:b})}_initRealtimeClient(n){return new nq(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,c)=>{this._handleTokenChanged(o,"CLIENT",c==null?void 0:c.access_token)})}_handleTokenChanged(n,o,c){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==c?(this.realtime.setAuth(c??null),this.changedAccessToken=c):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oG=(i,n,o)=>new rG(i,n,o),sG="https://wfmzmjdkdoryaeunljkv.supabase.co",aG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",tr=oG(sG,aG);function cG(){const[i,n]=M.useState(null);return M.useEffect(()=>{tr.auth.getSession().then(({data:{session:c}})=>{n(c)});const{data:{subscription:o}}=tr.auth.onAuthStateChange((c,d)=>{n(d)});return()=>o.unsubscribe()},[]),R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"main-content",children:[R.jsx(iW,{supabase:tr,session:i}),R.jsxs(Qj,{children:[R.jsx(nr,{path:"/Book-Chronicles/",element:R.jsx(IV,{supabase:tr,session:i})}),R.jsx(nr,{path:"/Book-Chronicles/create",element:R.jsx(Ik,{session:i,children:R.jsx(ZU,{supabase:tr,session:i})})}),R.jsx(nr,{path:"/Book-Chronicles/post/:id",element:R.jsx(cH,{supabase:tr,session:i})}),R.jsx(nr,{path:"/Book-Chronicles/post/:id/edit",element:R.jsx(Ik,{session:i,children:R.jsx(lH,{supabase:tr,session:i})})}),R.jsx(nr,{path:"/Book-Chronicles/profile",element:R.jsx(Ik,{session:i,children:R.jsx(UH,{supabase:tr,session:i})})}),R.jsx(nr,{path:"/Book-Chronicles/users/:username",element:R.jsx(fH,{supabase:tr,session:i})}),R.jsx(nr,{path:"/Book-Chronicles/getBookInfo",element:R.jsx(JU,{})}),R.jsx(nr,{path:"Book-Chronicles/userposts",element:R.jsx(hH,{supabase:tr})}),R.jsx(nr,{path:"Book-Chronicles/signup",element:R.jsx(dH,{supabase:tr})}),R.jsx(nr,{path:"Book-Chronicles/signin",element:R.jsx(uH,{supabase:tr})}),R.jsx(nr,{path:"*",element:R.jsx(MV,{})})]}),R.jsx(TV,{})]}),R.jsx(cW,{})]})}zk.createRoot(document.getElementById("root")).render(R.jsx(hn.StrictMode,{children:R.jsx(iR,{children:R.jsx(cG,{})})}))});export default lG();
