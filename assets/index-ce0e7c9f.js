var cH=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var MQ=cH((Gt,_t)=>{function _D(r,i){for(var a=0;a<i.length;a++){const l=i[a];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in r)){const f=Object.getOwnPropertyDescriptor(l,u);f&&Object.defineProperty(r,u,f.get?f:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vD(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var AD={exports:{}},of={},CD={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),lH=Symbol.for("react.portal"),dH=Symbol.for("react.fragment"),uH=Symbol.for("react.strict_mode"),hH=Symbol.for("react.profiler"),fH=Symbol.for("react.provider"),pH=Symbol.for("react.context"),gH=Symbol.for("react.forward_ref"),mH=Symbol.for("react.suspense"),kH=Symbol.for("react.memo"),bH=Symbol.for("react.lazy"),d2=Symbol.iterator;function wH(r){return r===null||typeof r!="object"?null:(r=d2&&r[d2]||r["@@iterator"],typeof r=="function"?r:null)}var yD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xD=Object.assign,ED={};function Ea(r,i,a){this.props=r,this.context=i,this.refs=ED,this.updater=a||yD}Ea.prototype.isReactComponent={};Ea.prototype.setState=function(r,i){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,i,"setState")};Ea.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function SD(){}SD.prototype=Ea.prototype;function l_(r,i,a){this.props=r,this.context=i,this.refs=ED,this.updater=a||yD}var d_=l_.prototype=new SD;d_.constructor=l_;xD(d_,Ea.prototype);d_.isPureReactComponent=!0;var u2=Array.isArray,DD=Object.prototype.hasOwnProperty,u_={current:null},TD={key:!0,ref:!0,__self:!0,__source:!0};function ID(r,i,a){var l,u={},f=null,p=null;if(i!=null)for(l in i.ref!==void 0&&(p=i.ref),i.key!==void 0&&(f=""+i.key),i)DD.call(i,l)&&!TD.hasOwnProperty(l)&&(u[l]=i[l]);var m=arguments.length-2;if(m===1)u.children=a;else if(1<m){for(var k=Array(m),w=0;w<m;w++)k[w]=arguments[w+2];u.children=k}if(r&&r.defaultProps)for(l in m=r.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:jl,type:r,key:f,ref:p,props:u,_owner:u_.current}}function _H(r,i){return{$$typeof:jl,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}}function h_(r){return typeof r=="object"&&r!==null&&r.$$typeof===jl}function vH(r){var i={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(a){return i[a]})}var h2=/\/+/g;function lb(r,i){return typeof r=="object"&&r!==null&&r.key!=null?vH(""+r.key):i.toString(36)}function lh(r,i,a,l,u){var f=typeof r;(f==="undefined"||f==="boolean")&&(r=null);var p=!1;if(r===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(r.$$typeof){case jl:case lH:p=!0}}if(p)return p=r,u=u(p),r=l===""?"."+lb(p,0):l,u2(u)?(a="",r!=null&&(a=r.replace(h2,"$&/")+"/"),lh(u,i,a,"",function(w){return w})):u!=null&&(h_(u)&&(u=_H(u,a+(!u.key||p&&p.key===u.key?"":(""+u.key).replace(h2,"$&/")+"/")+r)),i.push(u)),1;if(p=0,l=l===""?".":l+":",u2(r))for(var m=0;m<r.length;m++){f=r[m];var k=l+lb(f,m);p+=lh(f,i,a,k,u)}else if(k=wH(r),typeof k=="function")for(r=k.call(r),m=0;!(f=r.next()).done;)f=f.value,k=l+lb(f,m++),p+=lh(f,i,a,k,u);else if(f==="object")throw i=String(r),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return p}function Pu(r,i,a){if(r==null)return r;var l=[],u=0;return lh(r,l,"","",function(f){return i.call(a,f,u++)}),l}function AH(r){if(r._status===-1){var i=r._result;i=i(),i.then(function(a){(r._status===0||r._status===-1)&&(r._status=1,r._result=a)},function(a){(r._status===0||r._status===-1)&&(r._status=2,r._result=a)}),r._status===-1&&(r._status=0,r._result=i)}if(r._status===1)return r._result.default;throw r._result}var un={current:null},dh={transition:null},CH={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:dh,ReactCurrentOwner:u_};xe.Children={map:Pu,forEach:function(r,i,a){Pu(r,function(){i.apply(this,arguments)},a)},count:function(r){var i=0;return Pu(r,function(){i++}),i},toArray:function(r){return Pu(r,function(i){return i})||[]},only:function(r){if(!h_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};xe.Component=Ea;xe.Fragment=dH;xe.Profiler=hH;xe.PureComponent=l_;xe.StrictMode=uH;xe.Suspense=mH;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CH;xe.cloneElement=function(r,i,a){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var l=xD({},r.props),u=r.key,f=r.ref,p=r._owner;if(i!=null){if(i.ref!==void 0&&(f=i.ref,p=u_.current),i.key!==void 0&&(u=""+i.key),r.type&&r.type.defaultProps)var m=r.type.defaultProps;for(k in i)DD.call(i,k)&&!TD.hasOwnProperty(k)&&(l[k]=i[k]===void 0&&m!==void 0?m[k]:i[k])}var k=arguments.length-2;if(k===1)l.children=a;else if(1<k){m=Array(k);for(var w=0;w<k;w++)m[w]=arguments[w+2];l.children=m}return{$$typeof:jl,type:r.type,key:u,ref:f,props:l,_owner:p}};xe.createContext=function(r){return r={$$typeof:pH,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:fH,_context:r},r.Consumer=r};xe.createElement=ID;xe.createFactory=function(r){var i=ID.bind(null,r);return i.type=r,i};xe.createRef=function(){return{current:null}};xe.forwardRef=function(r){return{$$typeof:gH,render:r}};xe.isValidElement=h_;xe.lazy=function(r){return{$$typeof:bH,_payload:{_status:-1,_result:r},_init:AH}};xe.memo=function(r,i){return{$$typeof:kH,type:r,compare:i===void 0?null:i}};xe.startTransition=function(r){var i=dh.transition;dh.transition={};try{r()}finally{dh.transition=i}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(r,i){return un.current.useCallback(r,i)};xe.useContext=function(r){return un.current.useContext(r)};xe.useDebugValue=function(){};xe.useDeferredValue=function(r){return un.current.useDeferredValue(r)};xe.useEffect=function(r,i){return un.current.useEffect(r,i)};xe.useId=function(){return un.current.useId()};xe.useImperativeHandle=function(r,i,a){return un.current.useImperativeHandle(r,i,a)};xe.useInsertionEffect=function(r,i){return un.current.useInsertionEffect(r,i)};xe.useLayoutEffect=function(r,i){return un.current.useLayoutEffect(r,i)};xe.useMemo=function(r,i){return un.current.useMemo(r,i)};xe.useReducer=function(r,i,a){return un.current.useReducer(r,i,a)};xe.useRef=function(r){return un.current.useRef(r)};xe.useState=function(r){return un.current.useState(r)};xe.useSyncExternalStore=function(r,i,a){return un.current.useSyncExternalStore(r,i,a)};xe.useTransition=function(){return un.current.useTransition()};xe.version="18.2.0";CD.exports=xe;var ee=CD.exports;const MD=vD(ee),yH=_D({__proto__:null,default:MD},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xH=ee,EH=Symbol.for("react.element"),SH=Symbol.for("react.fragment"),DH=Object.prototype.hasOwnProperty,TH=xH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IH={key:!0,ref:!0,__self:!0,__source:!0};function ND(r,i,a){var l,u={},f=null,p=null;a!==void 0&&(f=""+a),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(p=i.ref);for(l in i)DH.call(i,l)&&!IH.hasOwnProperty(l)&&(u[l]=i[l]);if(r&&r.defaultProps)for(l in i=r.defaultProps,i)u[l]===void 0&&(u[l]=i[l]);return{$$typeof:EH,type:r,key:f,ref:p,props:u,_owner:TH.current}}of.Fragment=SH;of.jsx=ND;of.jsxs=ND;AD.exports=of;var $=AD.exports,Yb={},BD={exports:{}},Rn={},PD={exports:{}},OD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function i(te,ue){var ke=te.length;te.push(ue);e:for(;0<ke;){var it=ke-1>>>1,mt=te[it];if(0<u(mt,ue))te[it]=ue,te[ke]=mt,ke=it;else break e}}function a(te){return te.length===0?null:te[0]}function l(te){if(te.length===0)return null;var ue=te[0],ke=te.pop();if(ke!==ue){te[0]=ke;e:for(var it=0,mt=te.length,Cn=mt>>>1;it<Cn;){var yn=2*(it+1)-1,Yt=te[yn],Vn=yn+1,Ee=te[Vn];if(0>u(Yt,ke))Vn<mt&&0>u(Ee,Yt)?(te[it]=Ee,te[Vn]=ke,it=Vn):(te[it]=Yt,te[yn]=ke,it=yn);else if(Vn<mt&&0>u(Ee,ke))te[it]=Ee,te[Vn]=ke,it=Vn;else break e}}return ue}function u(te,ue){var ke=te.sortIndex-ue.sortIndex;return ke!==0?ke:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();r.unstable_now=function(){return p.now()-m}}var k=[],w=[],C=1,_=null,A=3,x=!1,S=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var ue=a(w);ue!==null;){if(ue.callback===null)l(w);else if(ue.startTime<=te)l(w),ue.sortIndex=ue.expirationTime,i(k,ue);else break;ue=a(w)}}function j(te){if(T=!1,P(te),!S)if(a(k)!==null)S=!0,L(F);else{var ue=a(w);ue!==null&&Ie(j,ue.startTime-te)}}function F(te,ue){S=!1,T&&(T=!1,M(Z),Z=-1),x=!0;var ke=A;try{for(P(ue),_=a(k);_!==null&&(!(_.expirationTime>ue)||te&&!Ae());){var it=_.callback;if(typeof it=="function"){_.callback=null,A=_.priorityLevel;var mt=it(_.expirationTime<=ue);ue=r.unstable_now(),typeof mt=="function"?_.callback=mt:_===a(k)&&l(k),P(ue)}else l(k);_=a(k)}if(_!==null)var Cn=!0;else{var yn=a(w);yn!==null&&Ie(j,yn.startTime-ue),Cn=!1}return Cn}finally{_=null,A=ke,x=!1}}var W=!1,G=null,Z=-1,oe=5,re=-1;function Ae(){return!(r.unstable_now()-re<oe)}function At(){if(G!==null){var te=r.unstable_now();re=te;var ue=!0;try{ue=G(!0,te)}finally{ue?je():(W=!1,G=null)}}else W=!1}var je;if(typeof N=="function")je=function(){N(At)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,fn=dt.port2;dt.port1.onmessage=At,je=function(){fn.postMessage(null)}}else je=function(){O(At,0)};function L(te){G=te,W||(W=!0,je())}function Ie(te,ue){Z=O(function(){te(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){S||x||(S=!0,L(F))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return a(k)},r.unstable_next=function(te){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ke=A;A=ue;try{return te()}finally{A=ke}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ke=A;A=te;try{return ue()}finally{A=ke}},r.unstable_scheduleCallback=function(te,ue,ke){var it=r.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?it+ke:it):ke=it,te){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=ke+mt,te={id:C++,callback:ue,priorityLevel:te,startTime:ke,expirationTime:mt,sortIndex:-1},ke>it?(te.sortIndex=ke,i(w,te),a(k)===null&&te===a(w)&&(T?(M(Z),Z=-1):T=!0,Ie(j,ke-it))):(te.sortIndex=mt,i(k,te),S||x||(S=!0,L(F))),te},r.unstable_shouldYield=Ae,r.unstable_wrapCallback=function(te){var ue=A;return function(){var ke=A;A=ue;try{return te.apply(this,arguments)}finally{A=ke}}}})(OD);PD.exports=OD;var MH=PD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD=ee,jn=MH;function Q(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LD=new Set,bl={};function hs(r,i){ba(r,i),ba(r+"Capture",i)}function ba(r,i){for(bl[r]=i,r=0;r<i.length;r++)LD.add(i[r])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qb=Object.prototype.hasOwnProperty,NH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f2={},p2={};function BH(r){return Qb.call(p2,r)?!0:Qb.call(f2,r)?!1:NH.test(r)?p2[r]=!0:(f2[r]=!0,!1)}function PH(r,i,a,l){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function OH(r,i,a,l){if(i===null||typeof i>"u"||PH(r,i,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function hn(r,i,a,l,u,f,p){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=f,this.removeEmptyString=p}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Zt[r]=new hn(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];Zt[i]=new hn(i,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Zt[r]=new hn(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Zt[r]=new hn(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Zt[r]=new hn(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Zt[r]=new hn(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Zt[r]=new hn(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Zt[r]=new hn(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Zt[r]=new hn(r,5,!1,r.toLowerCase(),null,!1,!1)});var f_=/[\-:]([a-z])/g;function p_(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(f_,p_);Zt[i]=new hn(i,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(f_,p_);Zt[i]=new hn(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(f_,p_);Zt[i]=new hn(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Zt[r]=new hn(r,1,!1,r.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Zt[r]=new hn(r,1,!1,r.toLowerCase(),null,!0,!0)});function g_(r,i,a,l){var u=Zt.hasOwnProperty(i)?Zt[i]:null;(u!==null?u.type!==0:l||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(OH(i,a,u,l)&&(a=null),l||u===null?BH(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):u.mustUseProperty?r[u.propertyName]=a===null?u.type===3?!1:"":a:(i=u.attributeName,l=u.attributeNamespace,a===null?r.removeAttribute(i):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,l?r.setAttributeNS(l,i,a):r.setAttribute(i,a))))}var vo=zD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ou=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),jD=Symbol.for("react.provider"),RD=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),ew=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),FD=Symbol.for("react.offscreen"),g2=Symbol.iterator;function Rc(r){return r===null||typeof r!="object"?null:(r=g2&&r[g2]||r["@@iterator"],typeof r=="function"?r:null)}var gt=Object.assign,db;function Yc(r){if(db===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);db=i&&i[1]||""}return`
`+db+r}var ub=!1;function hb(r,i){if(!r||ub)return"";ub=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(w){var l=w}Reflect.construct(r,[],i)}else{try{i.call()}catch(w){l=w}r.call(i.prototype)}else{try{throw Error()}catch(w){l=w}r()}}catch(w){if(w&&l&&typeof w.stack=="string"){for(var u=w.stack.split(`
`),f=l.stack.split(`
`),p=u.length-1,m=f.length-1;1<=p&&0<=m&&u[p]!==f[m];)m--;for(;1<=p&&0<=m;p--,m--)if(u[p]!==f[m]){if(p!==1||m!==1)do if(p--,m--,0>m||u[p]!==f[m]){var k=`
`+u[p].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=p&&0<=m);break}}}finally{ub=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Yc(r):""}function zH(r){switch(r.tag){case 5:return Yc(r.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return r=hb(r.type,!1),r;case 11:return r=hb(r.type.render,!1),r;case 1:return r=hb(r.type,!0),r;default:return""}}function tw(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ea:return"Fragment";case Xs:return"Portal";case Jb:return"Profiler";case m_:return"StrictMode";case Xb:return"Suspense";case ew:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case RD:return(r.displayName||"Context")+".Consumer";case jD:return(r._context.displayName||"Context")+".Provider";case k_:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case b_:return i=r.displayName||null,i!==null?i:tw(r.type)||"Memo";case $o:i=r._payload,r=r._init;try{return tw(r(i))}catch{}}return null}function LH(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tw(i);case 8:return i===m_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function dr(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function VD(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jH(r){var i=VD(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return u.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function zu(r){r._valueTracker||(r._valueTracker=jH(r))}function UD(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return r&&(l=VD(r)?r.checked?"true":"false":r.value),r=l,r!==a?(i.setValue(r),!0):!1}function Ch(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nw(r,i){var a=i.checked;return gt({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function m2(r,i){var a=i.defaultValue==null?"":i.defaultValue,l=i.checked!=null?i.checked:i.defaultChecked;a=dr(i.value!=null?i.value:a),r._wrapperState={initialChecked:l,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function HD(r,i){i=i.checked,i!=null&&g_(r,"checked",i,!1)}function iw(r,i){HD(r,i);var a=dr(i.value),l=i.type;if(a!=null)l==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(l==="submit"||l==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ow(r,i.type,a):i.hasOwnProperty("defaultValue")&&ow(r,i.type,dr(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function k2(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var l=i.type;if(!(l!=="submit"&&l!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ow(r,i,a){(i!=="number"||Ch(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Qc=Array.isArray;function ua(r,i,a,l){if(r=r.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<r.length;a++)u=i.hasOwnProperty("$"+r[a].value),r[a].selected!==u&&(r[a].selected=u),u&&l&&(r[a].defaultSelected=!0)}else{for(a=""+dr(a),i=null,u=0;u<r.length;u++){if(r[u].value===a){r[u].selected=!0,l&&(r[u].defaultSelected=!0);return}i!==null||r[u].disabled||(i=r[u])}i!==null&&(i.selected=!0)}}function rw(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(Q(91));return gt({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function b2(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(Q(92));if(Qc(a)){if(1<a.length)throw Error(Q(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:dr(a)}}function $D(r,i){var a=dr(i.value),l=dr(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),l!=null&&(r.defaultValue=""+l)}function w2(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function WD(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sw(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?WD(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Lu,GD=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,l,u){MSApp.execUnsafeLocalFunction(function(){return r(i,a,l,u)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Lu.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function wl(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RH=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(r){RH.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ol[i]=ol[r]})});function qD(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||ol.hasOwnProperty(r)&&ol[r]?(""+i).trim():i+"px"}function KD(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var l=a.indexOf("--")===0,u=qD(a,i[a],l);a==="float"&&(a="cssFloat"),l?r.setProperty(a,u):r[a]=u}}var FH=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aw(r,i){if(i){if(FH[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(Q(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(Q(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(Q(61))}if(i.style!=null&&typeof i.style!="object")throw Error(Q(62))}}function cw(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=null;function w_(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var dw=null,ha=null,fa=null;function _2(r){if(r=Vl(r)){if(typeof dw!="function")throw Error(Q(280));var i=r.stateNode;i&&(i=lf(i),dw(r.stateNode,r.type,i))}}function ZD(r){ha?fa?fa.push(r):fa=[r]:ha=r}function YD(){if(ha){var r=ha,i=fa;if(fa=ha=null,_2(r),i)for(r=0;r<i.length;r++)_2(i[r])}}function QD(r,i){return r(i)}function JD(){}var fb=!1;function XD(r,i,a){if(fb)return r(i,a);fb=!0;try{return QD(r,i,a)}finally{fb=!1,(ha!==null||fa!==null)&&(JD(),YD())}}function _l(r,i){var a=r.stateNode;if(a===null)return null;var l=lf(a);if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(Q(231,i,typeof a));return a}var uw=!1;if(go)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){uw=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{uw=!1}function VH(r,i,a,l,u,f,p,m,k){var w=Array.prototype.slice.call(arguments,3);try{i.apply(a,w)}catch(C){this.onError(C)}}var rl=!1,yh=null,xh=!1,hw=null,UH={onError:function(r){rl=!0,yh=r}};function HH(r,i,a,l,u,f,p,m,k){rl=!1,yh=null,VH.apply(UH,arguments)}function $H(r,i,a,l,u,f,p,m,k){if(HH.apply(this,arguments),rl){if(rl){var w=yh;rl=!1,yh=null}else throw Error(Q(198));xh||(xh=!0,hw=w)}}function fs(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function eT(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function v2(r){if(fs(r)!==r)throw Error(Q(188))}function WH(r){var i=r.alternate;if(!i){if(i=fs(r),i===null)throw Error(Q(188));return i!==r?null:r}for(var a=r,l=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return v2(u),r;if(f===l)return v2(u),i;f=f.sibling}throw Error(Q(188))}if(a.return!==l.return)a=u,l=f;else{for(var p=!1,m=u.child;m;){if(m===a){p=!0,a=u,l=f;break}if(m===l){p=!0,l=u,a=f;break}m=m.sibling}if(!p){for(m=f.child;m;){if(m===a){p=!0,a=f,l=u;break}if(m===l){p=!0,l=f,a=u;break}m=m.sibling}if(!p)throw Error(Q(189))}}if(a.alternate!==l)throw Error(Q(190))}if(a.tag!==3)throw Error(Q(188));return a.stateNode.current===a?r:i}function tT(r){return r=WH(r),r!==null?nT(r):null}function nT(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=nT(r);if(i!==null)return i;r=r.sibling}return null}var iT=jn.unstable_scheduleCallback,A2=jn.unstable_cancelCallback,GH=jn.unstable_shouldYield,qH=jn.unstable_requestPaint,xt=jn.unstable_now,KH=jn.unstable_getCurrentPriorityLevel,__=jn.unstable_ImmediatePriority,oT=jn.unstable_UserBlockingPriority,Eh=jn.unstable_NormalPriority,ZH=jn.unstable_LowPriority,rT=jn.unstable_IdlePriority,rf=null,Ri=null;function YH(r){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(rf,r,void 0,(r.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:XH,QH=Math.log,JH=Math.LN2;function XH(r){return r>>>=0,r===0?32:31-(QH(r)/JH|0)|0}var ju=64,Ru=4194304;function Jc(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Sh(r,i){var a=r.pendingLanes;if(a===0)return 0;var l=0,u=r.suspendedLanes,f=r.pingedLanes,p=a&268435455;if(p!==0){var m=p&~u;m!==0?l=Jc(m):(f&=p,f!==0&&(l=Jc(f)))}else p=a&~u,p!==0?l=Jc(p):f!==0&&(l=Jc(f));if(l===0)return 0;if(i!==0&&i!==l&&!(i&u)&&(u=l&-l,f=i&-i,u>=f||u===16&&(f&4194240)!==0))return i;if(l&4&&(l|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=l;0<i;)a=31-vi(i),u=1<<a,l|=r[a],i&=~u;return l}function e$(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t$(r,i){for(var a=r.suspendedLanes,l=r.pingedLanes,u=r.expirationTimes,f=r.pendingLanes;0<f;){var p=31-vi(f),m=1<<p,k=u[p];k===-1?(!(m&a)||m&l)&&(u[p]=e$(m,i)):k<=i&&(r.expiredLanes|=m),f&=~m}}function fw(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function sT(){var r=ju;return ju<<=1,!(ju&4194240)&&(ju=64),r}function pb(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Rl(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-vi(i),r[i]=a}function n$(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var l=r.eventTimes;for(r=r.expirationTimes;0<a;){var u=31-vi(a),f=1<<u;i[u]=0,l[u]=-1,r[u]=-1,a&=~f}}function v_(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var l=31-vi(a),u=1<<l;u&i|r[l]&i&&(r[l]|=i),a&=~u}}var He=0;function aT(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var cT,A_,lT,dT,uT,pw=!1,Fu=[],tr=null,nr=null,ir=null,vl=new Map,Al=new Map,Ko=[],i$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(r,i){switch(r){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Vc(r,i,a,l,u,f){return r===null||r.nativeEvent!==f?(r={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Vl(i),i!==null&&A_(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),r)}function o$(r,i,a,l,u){switch(i){case"focusin":return tr=Vc(tr,r,i,a,l,u),!0;case"dragenter":return nr=Vc(nr,r,i,a,l,u),!0;case"mouseover":return ir=Vc(ir,r,i,a,l,u),!0;case"pointerover":var f=u.pointerId;return vl.set(f,Vc(vl.get(f)||null,r,i,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Al.set(f,Vc(Al.get(f)||null,r,i,a,l,u)),!0}return!1}function hT(r){var i=Xr(r.target);if(i!==null){var a=fs(i);if(a!==null){if(i=a.tag,i===13){if(i=eT(a),i!==null){r.blockedOn=i,uT(r.priority,function(){lT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=gw(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);lw=l,a.target.dispatchEvent(l),lw=null}else return i=Vl(a),i!==null&&A_(i),r.blockedOn=a,!1;i.shift()}return!0}function y2(r,i,a){uh(r)&&a.delete(i)}function r$(){pw=!1,tr!==null&&uh(tr)&&(tr=null),nr!==null&&uh(nr)&&(nr=null),ir!==null&&uh(ir)&&(ir=null),vl.forEach(y2),Al.forEach(y2)}function Uc(r,i){r.blockedOn===i&&(r.blockedOn=null,pw||(pw=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,r$)))}function Cl(r){function i(u){return Uc(u,r)}if(0<Fu.length){Uc(Fu[0],r);for(var a=1;a<Fu.length;a++){var l=Fu[a];l.blockedOn===r&&(l.blockedOn=null)}}for(tr!==null&&Uc(tr,r),nr!==null&&Uc(nr,r),ir!==null&&Uc(ir,r),vl.forEach(i),Al.forEach(i),a=0;a<Ko.length;a++)l=Ko[a],l.blockedOn===r&&(l.blockedOn=null);for(;0<Ko.length&&(a=Ko[0],a.blockedOn===null);)hT(a),a.blockedOn===null&&Ko.shift()}var pa=vo.ReactCurrentBatchConfig,Dh=!0;function s$(r,i,a,l){var u=He,f=pa.transition;pa.transition=null;try{He=1,C_(r,i,a,l)}finally{He=u,pa.transition=f}}function a$(r,i,a,l){var u=He,f=pa.transition;pa.transition=null;try{He=4,C_(r,i,a,l)}finally{He=u,pa.transition=f}}function C_(r,i,a,l){if(Dh){var u=gw(r,i,a,l);if(u===null)yb(r,i,l,Th,a),C2(r,l);else if(o$(u,r,i,a,l))l.stopPropagation();else if(C2(r,l),i&4&&-1<i$.indexOf(r)){for(;u!==null;){var f=Vl(u);if(f!==null&&cT(f),f=gw(r,i,a,l),f===null&&yb(r,i,l,Th,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else yb(r,i,l,null,a)}}var Th=null;function gw(r,i,a,l){if(Th=null,r=w_(l),r=Xr(r),r!==null)if(i=fs(r),i===null)r=null;else if(a=i.tag,a===13){if(r=eT(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Th=r,null}function fT(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KH()){case __:return 1;case oT:return 4;case Eh:case ZH:return 16;case rT:return 536870912;default:return 16}default:return 16}}var Jo=null,y_=null,hh=null;function pT(){if(hh)return hh;var r,i=y_,a=i.length,l,u="value"in Jo?Jo.value:Jo.textContent,f=u.length;for(r=0;r<a&&i[r]===u[r];r++);var p=a-r;for(l=1;l<=p&&i[a-l]===u[f-l];l++);return hh=u.slice(r,1<l?1-l:void 0)}function fh(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vu(){return!0}function x2(){return!1}function Fn(r){function i(a,l,u,f,p){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var m in r)r.hasOwnProperty(m)&&(a=r[m],this[m]=a?a(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vu:x2,this.isPropagationStopped=x2,this}return gt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),i}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x_=Fn(Sa),Fl=gt({},Sa,{view:0,detail:0}),c$=Fn(Fl),gb,mb,Hc,sf=gt({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E_,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hc&&(Hc&&r.type==="mousemove"?(gb=r.screenX-Hc.screenX,mb=r.screenY-Hc.screenY):mb=gb=0,Hc=r),gb)},movementY:function(r){return"movementY"in r?r.movementY:mb}}),E2=Fn(sf),l$=gt({},sf,{dataTransfer:0}),d$=Fn(l$),u$=gt({},Fl,{relatedTarget:0}),kb=Fn(u$),h$=gt({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),f$=Fn(h$),p$=gt({},Sa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),g$=Fn(p$),m$=gt({},Sa,{data:0}),S2=Fn(m$),k$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _$(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=w$[r])?!!i[r]:!1}function E_(){return _$}var v$=gt({},Fl,{key:function(r){if(r.key){var i=k$[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=fh(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?b$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E_,charCode:function(r){return r.type==="keypress"?fh(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fh(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),A$=Fn(v$),C$=gt({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D2=Fn(C$),y$=gt({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E_}),x$=Fn(y$),E$=gt({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),S$=Fn(E$),D$=gt({},sf,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),T$=Fn(D$),I$=[9,13,27,32],S_=go&&"CompositionEvent"in window,sl=null;go&&"documentMode"in document&&(sl=document.documentMode);var M$=go&&"TextEvent"in window&&!sl,gT=go&&(!S_||sl&&8<sl&&11>=sl),T2=String.fromCharCode(32),I2=!1;function mT(r,i){switch(r){case"keyup":return I$.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ta=!1;function N$(r,i){switch(r){case"compositionend":return kT(i);case"keypress":return i.which!==32?null:(I2=!0,T2);case"textInput":return r=i.data,r===T2&&I2?null:r;default:return null}}function B$(r,i){if(ta)return r==="compositionend"||!S_&&mT(r,i)?(r=pT(),hh=y_=Jo=null,ta=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gT&&i.locale!=="ko"?null:i.data;default:return null}}var P$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M2(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!P$[r.type]:i==="textarea"}function bT(r,i,a,l){ZD(l),i=Ih(i,"onChange"),0<i.length&&(a=new x_("onChange","change",null,a,l),r.push({event:a,listeners:i}))}var al=null,yl=null;function O$(r){TT(r,0)}function af(r){var i=oa(r);if(UD(i))return r}function z$(r,i){if(r==="change")return i}var wT=!1;if(go){var bb;if(go){var wb="oninput"in document;if(!wb){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),wb=typeof N2.oninput=="function"}bb=wb}else bb=!1;wT=bb&&(!document.documentMode||9<document.documentMode)}function B2(){al&&(al.detachEvent("onpropertychange",_T),yl=al=null)}function _T(r){if(r.propertyName==="value"&&af(yl)){var i=[];bT(i,yl,r,w_(r)),XD(O$,i)}}function L$(r,i,a){r==="focusin"?(B2(),al=i,yl=a,al.attachEvent("onpropertychange",_T)):r==="focusout"&&B2()}function j$(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return af(yl)}function R$(r,i){if(r==="click")return af(i)}function F$(r,i){if(r==="input"||r==="change")return af(i)}function V$(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ci=typeof Object.is=="function"?Object.is:V$;function xl(r,i){if(Ci(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Qb.call(i,u)||!Ci(r[u],i[u]))return!1}return!0}function P2(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function O2(r,i){var a=P2(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=i&&l>=i)return{node:a,offset:i-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=P2(a)}}function vT(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?vT(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function AT(){for(var r=window,i=Ch();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Ch(r.document)}return i}function D_(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function U$(r){var i=AT(),a=r.focusedElem,l=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&vT(a.ownerDocument.documentElement,a)){if(l!==null&&D_(a)){if(i=l.start,r=l.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var u=a.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!r.extend&&f>l&&(u=l,l=f,f=u),u=O2(a,f);var p=O2(a,l);u&&p&&(r.rangeCount!==1||r.anchorNode!==u.node||r.anchorOffset!==u.offset||r.focusNode!==p.node||r.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(u.node,u.offset),r.removeAllRanges(),f>l?(r.addRange(i),r.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var H$=go&&"documentMode"in document&&11>=document.documentMode,na=null,mw=null,cl=null,kw=!1;function z2(r,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kw||na==null||na!==Ch(l)||(l=na,"selectionStart"in l&&D_(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&xl(cl,l)||(cl=l,l=Ih(mw,"onSelect"),0<l.length&&(i=new x_("onSelect","select",null,i,a),r.push({event:i,listeners:l}),i.target=na)))}function Uu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ia={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},_b={},CT={};go&&(CT=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function cf(r){if(_b[r])return _b[r];if(!ia[r])return r;var i=ia[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in CT)return _b[r]=i[a];return r}var yT=cf("animationend"),xT=cf("animationiteration"),ET=cf("animationstart"),ST=cf("transitionend"),DT=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(r,i){DT.set(r,i),hs(i,[r])}for(var vb=0;vb<L2.length;vb++){var Ab=L2[vb],$$=Ab.toLowerCase(),W$=Ab[0].toUpperCase()+Ab.slice(1);hr($$,"on"+W$)}hr(yT,"onAnimationEnd");hr(xT,"onAnimationIteration");hr(ET,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(ST,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function j2(r,i,a){var l=r.type||"unknown-event";r.currentTarget=a,$H(l,i,void 0,r),r.currentTarget=null}function TT(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],u=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var p=l.length-1;0<=p;p--){var m=l[p],k=m.instance,w=m.currentTarget;if(m=m.listener,k!==f&&u.isPropagationStopped())break e;j2(u,m,w),f=k}else for(p=0;p<l.length;p++){if(m=l[p],k=m.instance,w=m.currentTarget,m=m.listener,k!==f&&u.isPropagationStopped())break e;j2(u,m,w),f=k}}}if(xh)throw r=hw,xh=!1,hw=null,r}function at(r,i){var a=i[Aw];a===void 0&&(a=i[Aw]=new Set);var l=r+"__bubble";a.has(l)||(IT(i,r,2,!1),a.add(l))}function Cb(r,i,a){var l=0;i&&(l|=4),IT(a,r,l,i)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function El(r){if(!r[Hu]){r[Hu]=!0,LD.forEach(function(a){a!=="selectionchange"&&(G$.has(a)||Cb(a,!1,r),Cb(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Hu]||(i[Hu]=!0,Cb("selectionchange",!1,i))}}function IT(r,i,a,l){switch(fT(i)){case 1:var u=s$;break;case 4:u=a$;break;default:u=C_}a=u.bind(null,i,a,r),u=void 0,!uw||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),l?u!==void 0?r.addEventListener(i,a,{capture:!0,passive:u}):r.addEventListener(i,a,!0):u!==void 0?r.addEventListener(i,a,{passive:u}):r.addEventListener(i,a,!1)}function yb(r,i,a,l,u){var f=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var m=l.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(p===4)for(p=l.return;p!==null;){var k=p.tag;if((k===3||k===4)&&(k=p.stateNode.containerInfo,k===u||k.nodeType===8&&k.parentNode===u))return;p=p.return}for(;m!==null;){if(p=Xr(m),p===null)return;if(k=p.tag,k===5||k===6){l=f=p;continue e}m=m.parentNode}}l=l.return}XD(function(){var w=f,C=w_(a),_=[];e:{var A=DT.get(r);if(A!==void 0){var x=x_,S=r;switch(r){case"keypress":if(fh(a)===0)break e;case"keydown":case"keyup":x=A$;break;case"focusin":S="focus",x=kb;break;case"focusout":S="blur",x=kb;break;case"beforeblur":case"afterblur":x=kb;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=E2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=d$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=x$;break;case yT:case xT:case ET:x=f$;break;case ST:x=S$;break;case"scroll":x=c$;break;case"wheel":x=T$;break;case"copy":case"cut":case"paste":x=g$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=D2}var T=(i&4)!==0,O=!T&&r==="scroll",M=T?A!==null?A+"Capture":null:A;T=[];for(var N=w,P;N!==null;){P=N;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,M!==null&&(j=_l(N,M),j!=null&&T.push(Sl(N,j,P)))),O)break;N=N.return}0<T.length&&(A=new x(A,S,null,a,C),_.push({event:A,listeners:T}))}}if(!(i&7)){e:{if(A=r==="mouseover"||r==="pointerover",x=r==="mouseout"||r==="pointerout",A&&a!==lw&&(S=a.relatedTarget||a.fromElement)&&(Xr(S)||S[mo]))break e;if((x||A)&&(A=C.window===C?C:(A=C.ownerDocument)?A.defaultView||A.parentWindow:window,x?(S=a.relatedTarget||a.toElement,x=w,S=S?Xr(S):null,S!==null&&(O=fs(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=w),x!==S)){if(T=E2,j="onMouseLeave",M="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(T=D2,j="onPointerLeave",M="onPointerEnter",N="pointer"),O=x==null?A:oa(x),P=S==null?A:oa(S),A=new T(j,N+"leave",x,a,C),A.target=O,A.relatedTarget=P,j=null,Xr(C)===w&&(T=new T(M,N+"enter",S,a,C),T.target=P,T.relatedTarget=O,j=T),O=j,x&&S)t:{for(T=x,M=S,N=0,P=T;P;P=$s(P))N++;for(P=0,j=M;j;j=$s(j))P++;for(;0<N-P;)T=$s(T),N--;for(;0<P-N;)M=$s(M),P--;for(;N--;){if(T===M||M!==null&&T===M.alternate)break t;T=$s(T),M=$s(M)}T=null}else T=null;x!==null&&R2(_,A,x,T,!1),S!==null&&O!==null&&R2(_,O,S,T,!0)}}e:{if(A=w?oa(w):window,x=A.nodeName&&A.nodeName.toLowerCase(),x==="select"||x==="input"&&A.type==="file")var F=z$;else if(M2(A))if(wT)F=F$;else{F=j$;var W=L$}else(x=A.nodeName)&&x.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(F=R$);if(F&&(F=F(r,w))){bT(_,F,a,C);break e}W&&W(r,A,w),r==="focusout"&&(W=A._wrapperState)&&W.controlled&&A.type==="number"&&ow(A,"number",A.value)}switch(W=w?oa(w):window,r){case"focusin":(M2(W)||W.contentEditable==="true")&&(na=W,mw=w,cl=null);break;case"focusout":cl=mw=na=null;break;case"mousedown":kw=!0;break;case"contextmenu":case"mouseup":case"dragend":kw=!1,z2(_,a,C);break;case"selectionchange":if(H$)break;case"keydown":case"keyup":z2(_,a,C)}var G;if(S_)e:{switch(r){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ta?mT(r,a)&&(Z="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(gT&&a.locale!=="ko"&&(ta||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ta&&(G=pT()):(Jo=C,y_="value"in Jo?Jo.value:Jo.textContent,ta=!0)),W=Ih(w,Z),0<W.length&&(Z=new S2(Z,r,null,a,C),_.push({event:Z,listeners:W}),G?Z.data=G:(G=kT(a),G!==null&&(Z.data=G)))),(G=M$?N$(r,a):B$(r,a))&&(w=Ih(w,"onBeforeInput"),0<w.length&&(C=new S2("onBeforeInput","beforeinput",null,a,C),_.push({event:C,listeners:w}),C.data=G))}TT(_,i)})}function Sl(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Ih(r,i){for(var a=i+"Capture",l=[];r!==null;){var u=r,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=_l(r,a),f!=null&&l.unshift(Sl(r,f,u)),f=_l(r,i),f!=null&&l.push(Sl(r,f,u))),r=r.return}return l}function $s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function R2(r,i,a,l,u){for(var f=i._reactName,p=[];a!==null&&a!==l;){var m=a,k=m.alternate,w=m.stateNode;if(k!==null&&k===l)break;m.tag===5&&w!==null&&(m=w,u?(k=_l(a,f),k!=null&&p.unshift(Sl(a,k,m))):u||(k=_l(a,f),k!=null&&p.push(Sl(a,k,m)))),a=a.return}p.length!==0&&r.push({event:i,listeners:p})}var q$=/\r\n?/g,K$=/\u0000|\uFFFD/g;function F2(r){return(typeof r=="string"?r:""+r).replace(q$,`
`).replace(K$,"")}function $u(r,i,a){if(i=F2(i),F2(r)!==i&&a)throw Error(Q(425))}function Mh(){}var bw=null,ww=null;function _w(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vw=typeof setTimeout=="function"?setTimeout:void 0,Z$=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,Y$=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(r){return V2.resolve(null).then(r).catch(Q$)}:vw;function Q$(r){setTimeout(function(){throw r})}function xb(r,i){var a=i,l=0;do{var u=a.nextSibling;if(r.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){r.removeChild(u),Cl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);Cl(i)}function or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function U2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Li="__reactFiber$"+Da,Dl="__reactProps$"+Da,mo="__reactContainer$"+Da,Aw="__reactEvents$"+Da,J$="__reactListeners$"+Da,X$="__reactHandles$"+Da;function Xr(r){var i=r[Li];if(i)return i;for(var a=r.parentNode;a;){if(i=a[mo]||a[Li]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=U2(r);r!==null;){if(a=r[Li])return a;r=U2(r)}return i}r=a,a=r.parentNode}return null}function Vl(r){return r=r[Li]||r[mo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function oa(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Q(33))}function lf(r){return r[Dl]||null}var Cw=[],ra=-1;function fr(r){return{current:r}}function lt(r){0>ra||(r.current=Cw[ra],Cw[ra]=null,ra--)}function nt(r,i){ra++,Cw[ra]=r.current,r.current=i}var ur={},sn=fr(ur),_n=fr(!1),as=ur;function wa(r,i){var a=r.type.contextTypes;if(!a)return ur;var l=r.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===i)return l.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in a)u[f]=i[f];return l&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=u),u}function vn(r){return r=r.childContextTypes,r!=null}function Nh(){lt(_n),lt(sn)}function H2(r,i,a){if(sn.current!==ur)throw Error(Q(168));nt(sn,i),nt(_n,a)}function MT(r,i,a){var l=r.stateNode;if(i=i.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var u in l)if(!(u in i))throw Error(Q(108,LH(r)||"Unknown",u));return gt({},a,l)}function Bh(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ur,as=sn.current,nt(sn,r),nt(_n,_n.current),!0}function $2(r,i,a){var l=r.stateNode;if(!l)throw Error(Q(169));a?(r=MT(r,i,as),l.__reactInternalMemoizedMergedChildContext=r,lt(_n),lt(sn),nt(sn,r)):lt(_n),nt(_n,a)}var lo=null,df=!1,Eb=!1;function NT(r){lo===null?lo=[r]:lo.push(r)}function eW(r){df=!0,NT(r)}function pr(){if(!Eb&&lo!==null){Eb=!0;var r=0,i=He;try{var a=lo;for(He=1;r<a.length;r++){var l=a[r];do l=l(!0);while(l!==null)}lo=null,df=!1}catch(u){throw lo!==null&&(lo=lo.slice(r+1)),iT(__,pr),u}finally{He=i,Eb=!1}}return null}var sa=[],aa=0,Ph=null,Oh=0,Qn=[],Jn=0,cs=null,uo=1,ho="";function qr(r,i){sa[aa++]=Oh,sa[aa++]=Ph,Ph=r,Oh=i}function BT(r,i,a){Qn[Jn++]=uo,Qn[Jn++]=ho,Qn[Jn++]=cs,cs=r;var l=uo;r=ho;var u=32-vi(l)-1;l&=~(1<<u),a+=1;var f=32-vi(i)+u;if(30<f){var p=u-u%5;f=(l&(1<<p)-1).toString(32),l>>=p,u-=p,uo=1<<32-vi(i)+u|a<<u|l,ho=f+r}else uo=1<<f|a<<u|l,ho=r}function T_(r){r.return!==null&&(qr(r,1),BT(r,1,0))}function I_(r){for(;r===Ph;)Ph=sa[--aa],sa[aa]=null,Oh=sa[--aa],sa[aa]=null;for(;r===cs;)cs=Qn[--Jn],Qn[Jn]=null,ho=Qn[--Jn],Qn[Jn]=null,uo=Qn[--Jn],Qn[Jn]=null}var zn=null,On=null,ut=!1,wi=null;function PT(r,i){var a=ei(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function W2(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,zn=r,On=or(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,zn=r,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=cs!==null?{id:uo,overflow:ho}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=ei(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,zn=r,On=null,!0):!1;default:return!1}}function yw(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xw(r){if(ut){var i=On;if(i){var a=i;if(!W2(r,i)){if(yw(r))throw Error(Q(418));i=or(a.nextSibling);var l=zn;i&&W2(r,i)?PT(l,a):(r.flags=r.flags&-4097|2,ut=!1,zn=r)}}else{if(yw(r))throw Error(Q(418));r.flags=r.flags&-4097|2,ut=!1,zn=r}}}function G2(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zn=r}function Wu(r){if(r!==zn)return!1;if(!ut)return G2(r),ut=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!_w(r.type,r.memoizedProps)),i&&(i=On)){if(yw(r))throw OT(),Error(Q(418));for(;i;)PT(r,i),i=or(i.nextSibling)}if(G2(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Q(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){On=or(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}On=null}}else On=zn?or(r.stateNode.nextSibling):null;return!0}function OT(){for(var r=On;r;)r=or(r.nextSibling)}function _a(){On=zn=null,ut=!1}function M_(r){wi===null?wi=[r]:wi.push(r)}var tW=vo.ReactCurrentBatchConfig;function mi(r,i){if(r&&r.defaultProps){i=gt({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}var zh=fr(null),Lh=null,ca=null,N_=null;function B_(){N_=ca=Lh=null}function P_(r){var i=zh.current;lt(zh),r._currentValue=i}function Ew(r,i,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===a)break;r=r.return}}function ga(r,i){Lh=r,N_=ca=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(wn=!0),r.firstContext=null)}function ii(r){var i=r._currentValue;if(N_!==r)if(r={context:r,memoizedValue:i,next:null},ca===null){if(Lh===null)throw Error(Q(308));ca=r,Lh.dependencies={lanes:0,firstContext:r}}else ca=ca.next=r;return i}var es=null;function O_(r){es===null?es=[r]:es.push(r)}function zT(r,i,a,l){var u=i.interleaved;return u===null?(a.next=a,O_(i)):(a.next=u.next,u.next=a),i.interleaved=a,ko(r,l)}function ko(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Wo=!1;function z_(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LT(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function po(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function rr(r,i,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,Be&2){var u=l.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i,ko(r,a)}return u=l.interleaved,u===null?(i.next=i,O_(l)):(i.next=u.next,u.next=i),l.interleaved=i,ko(r,a)}function ph(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,v_(r,a)}}function q2(r,i){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?u=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,effects:l.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function jh(r,i,a,l){var u=r.updateQueue;Wo=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var k=m,w=k.next;k.next=null,p===null?f=w:p.next=w,p=k;var C=r.alternate;C!==null&&(C=C.updateQueue,m=C.lastBaseUpdate,m!==p&&(m===null?C.firstBaseUpdate=w:m.next=w,C.lastBaseUpdate=k))}if(f!==null){var _=u.baseState;p=0,C=w=k=null,m=f;do{var A=m.lane,x=m.eventTime;if((l&A)===A){C!==null&&(C=C.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=r,T=m;switch(A=i,x=a,T.tag){case 1:if(S=T.payload,typeof S=="function"){_=S.call(x,_,A);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,A=typeof S=="function"?S.call(x,_,A):S,A==null)break e;_=gt({},_,A);break e;case 2:Wo=!0}}m.callback!==null&&m.lane!==0&&(r.flags|=64,A=u.effects,A===null?u.effects=[m]:A.push(m))}else x={eventTime:x,lane:A,tag:m.tag,payload:m.payload,callback:m.callback,next:null},C===null?(w=C=x,k=_):C=C.next=x,p|=A;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;A=m,m=A.next,A.next=null,u.lastBaseUpdate=A,u.shared.pending=null}}while(1);if(C===null&&(k=_),u.baseState=k,u.firstBaseUpdate=w,u.lastBaseUpdate=C,i=u.shared.interleaved,i!==null){u=i;do p|=u.lane,u=u.next;while(u!==i)}else f===null&&(u.shared.lanes=0);ds|=p,r.lanes=p,r.memoizedState=_}}function K2(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var l=r[i],u=l.callback;if(u!==null){if(l.callback=null,l=a,typeof u!="function")throw Error(Q(191,u));u.call(l)}}}var jT=new zD.Component().refs;function Sw(r,i,a,l){i=r.memoizedState,a=a(l,i),a=a==null?i:gt({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var uf={isMounted:function(r){return(r=r._reactInternals)?fs(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var l=dn(),u=ar(r),f=po(l,u);f.payload=i,a!=null&&(f.callback=a),i=rr(r,f,u),i!==null&&(Ai(i,r,u,l),ph(i,r,u))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var l=dn(),u=ar(r),f=po(l,u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=rr(r,f,u),i!==null&&(Ai(i,r,u,l),ph(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=dn(),l=ar(r),u=po(a,l);u.tag=2,i!=null&&(u.callback=i),i=rr(r,u,l),i!==null&&(Ai(i,r,l,a),ph(i,r,l))}};function Z2(r,i,a,l,u,f,p){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,f,p):i.prototype&&i.prototype.isPureReactComponent?!xl(a,l)||!xl(u,f):!0}function RT(r,i,a){var l=!1,u=ur,f=i.contextType;return typeof f=="object"&&f!==null?f=ii(f):(u=vn(i)?as:sn.current,l=i.contextTypes,f=(l=l!=null)?wa(r,u):ur),i=new i(a,f),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=uf,r.stateNode=i,i._reactInternals=r,l&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=u,r.__reactInternalMemoizedMaskedChildContext=f),i}function Y2(r,i,a,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==r&&uf.enqueueReplaceState(i,i.state,null)}function Dw(r,i,a,l){var u=r.stateNode;u.props=a,u.state=r.memoizedState,u.refs=jT,z_(r);var f=i.contextType;typeof f=="object"&&f!==null?u.context=ii(f):(f=vn(i)?as:sn.current,u.context=wa(r,f)),u.state=r.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(Sw(r,i,f,a),u.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(i=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),i!==u.state&&uf.enqueueReplaceState(u,u.state,null),jh(r,a,u,l),u.state=r.memoizedState),typeof u.componentDidMount=="function"&&(r.flags|=4194308)}function $c(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Q(309));var l=a.stateNode}if(!l)throw Error(Q(147,r));var u=l,f=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(p){var m=u.refs;m===jT&&(m=u.refs={}),p===null?delete m[f]:m[f]=p},i._stringRef=f,i)}if(typeof r!="string")throw Error(Q(284));if(!a._owner)throw Error(Q(290,r))}return r}function Gu(r,i){throw r=Object.prototype.toString.call(i),Error(Q(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Q2(r){var i=r._init;return i(r._payload)}function FT(r){function i(M,N){if(r){var P=M.deletions;P===null?(M.deletions=[N],M.flags|=16):P.push(N)}}function a(M,N){if(!r)return null;for(;N!==null;)i(M,N),N=N.sibling;return null}function l(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function u(M,N){return M=cr(M,N),M.index=0,M.sibling=null,M}function f(M,N,P){return M.index=P,r?(P=M.alternate,P!==null?(P=P.index,P<N?(M.flags|=2,N):P):(M.flags|=2,N)):(M.flags|=1048576,N)}function p(M){return r&&M.alternate===null&&(M.flags|=2),M}function m(M,N,P,j){return N===null||N.tag!==6?(N=Bb(P,M.mode,j),N.return=M,N):(N=u(N,P),N.return=M,N)}function k(M,N,P,j){var F=P.type;return F===ea?C(M,N,P.props.children,j,P.key):N!==null&&(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$o&&Q2(F)===N.type)?(j=u(N,P.props),j.ref=$c(M,N,P),j.return=M,j):(j=_h(P.type,P.key,P.props,null,M.mode,j),j.ref=$c(M,N,P),j.return=M,j)}function w(M,N,P,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Pb(P,M.mode,j),N.return=M,N):(N=u(N,P.children||[]),N.return=M,N)}function C(M,N,P,j,F){return N===null||N.tag!==7?(N=rs(P,M.mode,j,F),N.return=M,N):(N=u(N,P),N.return=M,N)}function _(M,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Bb(""+N,M.mode,P),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ou:return P=_h(N.type,N.key,N.props,null,M.mode,P),P.ref=$c(M,null,N),P.return=M,P;case Xs:return N=Pb(N,M.mode,P),N.return=M,N;case $o:var j=N._init;return _(M,j(N._payload),P)}if(Qc(N)||Rc(N))return N=rs(N,M.mode,P,null),N.return=M,N;Gu(M,N)}return null}function A(M,N,P,j){var F=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return F!==null?null:m(M,N,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ou:return P.key===F?k(M,N,P,j):null;case Xs:return P.key===F?w(M,N,P,j):null;case $o:return F=P._init,A(M,N,F(P._payload),j)}if(Qc(P)||Rc(P))return F!==null?null:C(M,N,P,j,null);Gu(M,P)}return null}function x(M,N,P,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return M=M.get(P)||null,m(N,M,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ou:return M=M.get(j.key===null?P:j.key)||null,k(N,M,j,F);case Xs:return M=M.get(j.key===null?P:j.key)||null,w(N,M,j,F);case $o:var W=j._init;return x(M,N,P,W(j._payload),F)}if(Qc(j)||Rc(j))return M=M.get(P)||null,C(N,M,j,F,null);Gu(N,j)}return null}function S(M,N,P,j){for(var F=null,W=null,G=N,Z=N=0,oe=null;G!==null&&Z<P.length;Z++){G.index>Z?(oe=G,G=null):oe=G.sibling;var re=A(M,G,P[Z],j);if(re===null){G===null&&(G=oe);break}r&&G&&re.alternate===null&&i(M,G),N=f(re,N,Z),W===null?F=re:W.sibling=re,W=re,G=oe}if(Z===P.length)return a(M,G),ut&&qr(M,Z),F;if(G===null){for(;Z<P.length;Z++)G=_(M,P[Z],j),G!==null&&(N=f(G,N,Z),W===null?F=G:W.sibling=G,W=G);return ut&&qr(M,Z),F}for(G=l(M,G);Z<P.length;Z++)oe=x(G,M,Z,P[Z],j),oe!==null&&(r&&oe.alternate!==null&&G.delete(oe.key===null?Z:oe.key),N=f(oe,N,Z),W===null?F=oe:W.sibling=oe,W=oe);return r&&G.forEach(function(Ae){return i(M,Ae)}),ut&&qr(M,Z),F}function T(M,N,P,j){var F=Rc(P);if(typeof F!="function")throw Error(Q(150));if(P=F.call(P),P==null)throw Error(Q(151));for(var W=F=null,G=N,Z=N=0,oe=null,re=P.next();G!==null&&!re.done;Z++,re=P.next()){G.index>Z?(oe=G,G=null):oe=G.sibling;var Ae=A(M,G,re.value,j);if(Ae===null){G===null&&(G=oe);break}r&&G&&Ae.alternate===null&&i(M,G),N=f(Ae,N,Z),W===null?F=Ae:W.sibling=Ae,W=Ae,G=oe}if(re.done)return a(M,G),ut&&qr(M,Z),F;if(G===null){for(;!re.done;Z++,re=P.next())re=_(M,re.value,j),re!==null&&(N=f(re,N,Z),W===null?F=re:W.sibling=re,W=re);return ut&&qr(M,Z),F}for(G=l(M,G);!re.done;Z++,re=P.next())re=x(G,M,Z,re.value,j),re!==null&&(r&&re.alternate!==null&&G.delete(re.key===null?Z:re.key),N=f(re,N,Z),W===null?F=re:W.sibling=re,W=re);return r&&G.forEach(function(At){return i(M,At)}),ut&&qr(M,Z),F}function O(M,N,P,j){if(typeof P=="object"&&P!==null&&P.type===ea&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Ou:e:{for(var F=P.key,W=N;W!==null;){if(W.key===F){if(F=P.type,F===ea){if(W.tag===7){a(M,W.sibling),N=u(W,P.props.children),N.return=M,M=N;break e}}else if(W.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$o&&Q2(F)===W.type){a(M,W.sibling),N=u(W,P.props),N.ref=$c(M,W,P),N.return=M,M=N;break e}a(M,W);break}else i(M,W);W=W.sibling}P.type===ea?(N=rs(P.props.children,M.mode,j,P.key),N.return=M,M=N):(j=_h(P.type,P.key,P.props,null,M.mode,j),j.ref=$c(M,N,P),j.return=M,M=j)}return p(M);case Xs:e:{for(W=P.key;N!==null;){if(N.key===W)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(M,N.sibling),N=u(N,P.children||[]),N.return=M,M=N;break e}else{a(M,N);break}else i(M,N);N=N.sibling}N=Pb(P,M.mode,j),N.return=M,M=N}return p(M);case $o:return W=P._init,O(M,N,W(P._payload),j)}if(Qc(P))return S(M,N,P,j);if(Rc(P))return T(M,N,P,j);Gu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,N!==null&&N.tag===6?(a(M,N.sibling),N=u(N,P),N.return=M,M=N):(a(M,N),N=Bb(P,M.mode,j),N.return=M,M=N),p(M)):a(M,N)}return O}var va=FT(!0),VT=FT(!1),Ul={},Fi=fr(Ul),Tl=fr(Ul),Il=fr(Ul);function ts(r){if(r===Ul)throw Error(Q(174));return r}function L_(r,i){switch(nt(Il,i),nt(Tl,r),nt(Fi,Ul),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:sw(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=sw(i,r)}lt(Fi),nt(Fi,i)}function Aa(){lt(Fi),lt(Tl),lt(Il)}function UT(r){ts(Il.current);var i=ts(Fi.current),a=sw(i,r.type);i!==a&&(nt(Tl,r),nt(Fi,a))}function j_(r){Tl.current===r&&(lt(Fi),lt(Tl))}var ft=fr(0);function Rh(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Sb=[];function R_(){for(var r=0;r<Sb.length;r++)Sb[r]._workInProgressVersionPrimary=null;Sb.length=0}var gh=vo.ReactCurrentDispatcher,Db=vo.ReactCurrentBatchConfig,ls=0,pt=null,zt=null,Ht=null,Fh=!1,ll=!1,Ml=0,nW=0;function en(){throw Error(Q(321))}function F_(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ci(r[a],i[a]))return!1;return!0}function V_(r,i,a,l,u,f){if(ls=f,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,gh.current=r===null||r.memoizedState===null?sW:aW,r=a(l,u),ll){f=0;do{if(ll=!1,Ml=0,25<=f)throw Error(Q(301));f+=1,Ht=zt=null,i.updateQueue=null,gh.current=cW,r=a(l,u)}while(ll)}if(gh.current=Vh,i=zt!==null&&zt.next!==null,ls=0,Ht=zt=pt=null,Fh=!1,i)throw Error(Q(300));return r}function U_(){var r=Ml!==0;return Ml=0,r}function zi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?pt.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function oi(){if(zt===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var i=Ht===null?pt.memoizedState:Ht.next;if(i!==null)Ht=i,zt=r;else{if(r===null)throw Error(Q(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Ht===null?pt.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Nl(r,i){return typeof i=="function"?i(r):i}function Tb(r){var i=oi(),a=i.queue;if(a===null)throw Error(Q(311));a.lastRenderedReducer=r;var l=zt,u=l.baseQueue,f=a.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}l.baseQueue=u=f,a.pending=null}if(u!==null){f=u.next,l=l.baseState;var m=p=null,k=null,w=f;do{var C=w.lane;if((ls&C)===C)k!==null&&(k=k.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),l=w.hasEagerState?w.eagerState:r(l,w.action);else{var _={lane:C,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};k===null?(m=k=_,p=l):k=k.next=_,pt.lanes|=C,ds|=C}w=w.next}while(w!==null&&w!==f);k===null?p=l:k.next=m,Ci(l,i.memoizedState)||(wn=!0),i.memoizedState=l,i.baseState=p,i.baseQueue=k,a.lastRenderedState=l}if(r=a.interleaved,r!==null){u=r;do f=u.lane,pt.lanes|=f,ds|=f,u=u.next;while(u!==r)}else u===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ib(r){var i=oi(),a=i.queue;if(a===null)throw Error(Q(311));a.lastRenderedReducer=r;var l=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var p=u=u.next;do f=r(f,p.action),p=p.next;while(p!==u);Ci(f,i.memoizedState)||(wn=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function HT(){}function $T(r,i){var a=pt,l=oi(),u=i(),f=!Ci(l.memoizedState,u);if(f&&(l.memoizedState=u,wn=!0),l=l.queue,H_(qT.bind(null,a,l,r),[r]),l.getSnapshot!==i||f||Ht!==null&&Ht.memoizedState.tag&1){if(a.flags|=2048,Bl(9,GT.bind(null,a,l,u,i),void 0,null),$t===null)throw Error(Q(349));ls&30||WT(a,i,u)}return u}function WT(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function GT(r,i,a,l){i.value=a,i.getSnapshot=l,KT(i)&&ZT(r)}function qT(r,i,a){return a(function(){KT(i)&&ZT(r)})}function KT(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ci(r,a)}catch{return!0}}function ZT(r){var i=ko(r,1);i!==null&&Ai(i,r,1,-1)}function J2(r){var i=zi();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:r},i.queue=r,r=r.dispatch=rW.bind(null,pt,r),[i.memoizedState,r]}function Bl(r,i,a,l){return r={tag:r,create:i,destroy:a,deps:l,next:null},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,i.lastEffect=r)),r}function YT(){return oi().memoizedState}function mh(r,i,a,l){var u=zi();pt.flags|=r,u.memoizedState=Bl(1|i,a,void 0,l===void 0?null:l)}function hf(r,i,a,l){var u=oi();l=l===void 0?null:l;var f=void 0;if(zt!==null){var p=zt.memoizedState;if(f=p.destroy,l!==null&&F_(l,p.deps)){u.memoizedState=Bl(i,a,f,l);return}}pt.flags|=r,u.memoizedState=Bl(1|i,a,f,l)}function X2(r,i){return mh(8390656,8,r,i)}function H_(r,i){return hf(2048,8,r,i)}function QT(r,i){return hf(4,2,r,i)}function JT(r,i){return hf(4,4,r,i)}function XT(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function e5(r,i,a){return a=a!=null?a.concat([r]):null,hf(4,4,XT.bind(null,i,r),a)}function $_(){}function t5(r,i){var a=oi();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&F_(i,l[1])?l[0]:(a.memoizedState=[r,i],r)}function n5(r,i){var a=oi();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&F_(i,l[1])?l[0]:(r=r(),a.memoizedState=[r,i],r)}function i5(r,i,a){return ls&21?(Ci(a,i)||(a=sT(),pt.lanes|=a,ds|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,wn=!0),r.memoizedState=a)}function iW(r,i){var a=He;He=a!==0&&4>a?a:4,r(!0);var l=Db.transition;Db.transition={};try{r(!1),i()}finally{He=a,Db.transition=l}}function o5(){return oi().memoizedState}function oW(r,i,a){var l=ar(r);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},r5(r))s5(i,a);else if(a=zT(r,i,a,l),a!==null){var u=dn();Ai(a,r,l,u),a5(a,i,l)}}function rW(r,i,a){var l=ar(r),u={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(r5(r))s5(i,u);else{var f=r.alternate;if(r.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,m=f(p,a);if(u.hasEagerState=!0,u.eagerState=m,Ci(m,p)){var k=i.interleaved;k===null?(u.next=u,O_(i)):(u.next=k.next,k.next=u),i.interleaved=u;return}}catch{}finally{}a=zT(r,i,u,l),a!==null&&(u=dn(),Ai(a,r,l,u),a5(a,i,l))}}function r5(r){var i=r.alternate;return r===pt||i!==null&&i===pt}function s5(r,i){ll=Fh=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function a5(r,i,a){if(a&4194240){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,v_(r,a)}}var Vh={readContext:ii,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},sW={readContext:ii,useCallback:function(r,i){return zi().memoizedState=[r,i===void 0?null:i],r},useContext:ii,useEffect:X2,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,mh(4194308,4,XT.bind(null,i,r),a)},useLayoutEffect:function(r,i){return mh(4194308,4,r,i)},useInsertionEffect:function(r,i){return mh(4,2,r,i)},useMemo:function(r,i){var a=zi();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var l=zi();return i=a!==void 0?a(i):i,l.memoizedState=l.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},l.queue=r,r=r.dispatch=oW.bind(null,pt,r),[l.memoizedState,r]},useRef:function(r){var i=zi();return r={current:r},i.memoizedState=r},useState:J2,useDebugValue:$_,useDeferredValue:function(r){return zi().memoizedState=r},useTransition:function(){var r=J2(!1),i=r[0];return r=iW.bind(null,r[1]),zi().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var l=pt,u=zi();if(ut){if(a===void 0)throw Error(Q(407));a=a()}else{if(a=i(),$t===null)throw Error(Q(349));ls&30||WT(l,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,X2(qT.bind(null,l,f,r),[r]),l.flags|=2048,Bl(9,GT.bind(null,l,f,a,i),void 0,null),a},useId:function(){var r=zi(),i=$t.identifierPrefix;if(ut){var a=ho,l=uo;a=(l&~(1<<32-vi(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ml++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=nW++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},aW={readContext:ii,useCallback:t5,useContext:ii,useEffect:H_,useImperativeHandle:e5,useInsertionEffect:QT,useLayoutEffect:JT,useMemo:n5,useReducer:Tb,useRef:YT,useState:function(){return Tb(Nl)},useDebugValue:$_,useDeferredValue:function(r){var i=oi();return i5(i,zt.memoizedState,r)},useTransition:function(){var r=Tb(Nl)[0],i=oi().memoizedState;return[r,i]},useMutableSource:HT,useSyncExternalStore:$T,useId:o5,unstable_isNewReconciler:!1},cW={readContext:ii,useCallback:t5,useContext:ii,useEffect:H_,useImperativeHandle:e5,useInsertionEffect:QT,useLayoutEffect:JT,useMemo:n5,useReducer:Ib,useRef:YT,useState:function(){return Ib(Nl)},useDebugValue:$_,useDeferredValue:function(r){var i=oi();return zt===null?i.memoizedState=r:i5(i,zt.memoizedState,r)},useTransition:function(){var r=Ib(Nl)[0],i=oi().memoizedState;return[r,i]},useMutableSource:HT,useSyncExternalStore:$T,useId:o5,unstable_isNewReconciler:!1};function Ca(r,i){try{var a="",l=i;do a+=zH(l),l=l.return;while(l);var u=a}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:r,source:i,stack:u,digest:null}}function Mb(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Tw(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var lW=typeof WeakMap=="function"?WeakMap:Map;function c5(r,i,a){a=po(-1,a),a.tag=3,a.payload={element:null};var l=i.value;return a.callback=function(){Hh||(Hh=!0,Rw=l),Tw(r,i)},a}function l5(r,i,a){a=po(-1,a),a.tag=3;var l=r.type.getDerivedStateFromError;if(typeof l=="function"){var u=i.value;a.payload=function(){return l(u)},a.callback=function(){Tw(r,i)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Tw(r,i),typeof l!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})}),a}function eS(r,i,a){var l=r.pingCache;if(l===null){l=r.pingCache=new lW;var u=new Set;l.set(i,u)}else u=l.get(i),u===void 0&&(u=new Set,l.set(i,u));u.has(a)||(u.add(a),r=CW.bind(null,r,i,a),i.then(r,r))}function tS(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function nS(r,i,a,l,u){return r.mode&1?(r.flags|=65536,r.lanes=u,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=po(-1,1),i.tag=2,rr(a,i,1))),a.lanes|=1),r)}var dW=vo.ReactCurrentOwner,wn=!1;function cn(r,i,a,l){i.child=r===null?VT(i,null,a,l):va(i,r.child,a,l)}function iS(r,i,a,l,u){a=a.render;var f=i.ref;return ga(i,u),l=V_(r,i,a,l,f,u),a=U_(),r!==null&&!wn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~u,bo(r,i,u)):(ut&&a&&T_(i),i.flags|=1,cn(r,i,l,u),i.child)}function oS(r,i,a,l,u){if(r===null){var f=a.type;return typeof f=="function"&&!J_(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,d5(r,i,f,l,u)):(r=_h(a.type,null,l,i,i.mode,u),r.ref=i.ref,r.return=i,i.child=r)}if(f=r.child,!(r.lanes&u)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(p,l)&&r.ref===i.ref)return bo(r,i,u)}return i.flags|=1,r=cr(f,l),r.ref=i.ref,r.return=i,i.child=r}function d5(r,i,a,l,u){if(r!==null){var f=r.memoizedProps;if(xl(f,l)&&r.ref===i.ref)if(wn=!1,i.pendingProps=l=f,(r.lanes&u)!==0)r.flags&131072&&(wn=!0);else return i.lanes=r.lanes,bo(r,i,u)}return Iw(r,i,a,l,u)}function u5(r,i,a){var l=i.pendingProps,u=l.children,f=r!==null?r.memoizedState:null;if(l.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(da,Bn),Bn|=a;else{if(!(a&1073741824))return r=f!==null?f.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,nt(da,Bn),Bn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:a,nt(da,Bn),Bn|=l}else f!==null?(l=f.baseLanes|a,i.memoizedState=null):l=a,nt(da,Bn),Bn|=l;return cn(r,i,u,a),i.child}function h5(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Iw(r,i,a,l,u){var f=vn(a)?as:sn.current;return f=wa(i,f),ga(i,u),a=V_(r,i,a,l,f,u),l=U_(),r!==null&&!wn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~u,bo(r,i,u)):(ut&&l&&T_(i),i.flags|=1,cn(r,i,a,u),i.child)}function rS(r,i,a,l,u){if(vn(a)){var f=!0;Bh(i)}else f=!1;if(ga(i,u),i.stateNode===null)kh(r,i),RT(i,a,l),Dw(i,a,l,u),l=!0;else if(r===null){var p=i.stateNode,m=i.memoizedProps;p.props=m;var k=p.context,w=a.contextType;typeof w=="object"&&w!==null?w=ii(w):(w=vn(a)?as:sn.current,w=wa(i,w));var C=a.getDerivedStateFromProps,_=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function";_||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==l||k!==w)&&Y2(i,p,l,w),Wo=!1;var A=i.memoizedState;p.state=A,jh(i,l,p,u),k=i.memoizedState,m!==l||A!==k||_n.current||Wo?(typeof C=="function"&&(Sw(i,a,C,l),k=i.memoizedState),(m=Wo||Z2(i,a,m,l,A,k,w))?(_||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),p.props=l,p.state=k,p.context=w,l=m):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,LT(r,i),m=i.memoizedProps,w=i.type===i.elementType?m:mi(i.type,m),p.props=w,_=i.pendingProps,A=p.context,k=a.contextType,typeof k=="object"&&k!==null?k=ii(k):(k=vn(a)?as:sn.current,k=wa(i,k));var x=a.getDerivedStateFromProps;(C=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==_||A!==k)&&Y2(i,p,l,k),Wo=!1,A=i.memoizedState,p.state=A,jh(i,l,p,u);var S=i.memoizedState;m!==_||A!==S||_n.current||Wo?(typeof x=="function"&&(Sw(i,a,x,l),S=i.memoizedState),(w=Wo||Z2(i,a,w,l,A,S,k)||!1)?(C||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,S,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,S,k)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||m===r.memoizedProps&&A===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===r.memoizedProps&&A===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=S),p.props=l,p.state=S,p.context=k,l=w):(typeof p.componentDidUpdate!="function"||m===r.memoizedProps&&A===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===r.memoizedProps&&A===r.memoizedState||(i.flags|=1024),l=!1)}return Mw(r,i,a,l,f,u)}function Mw(r,i,a,l,u,f){h5(r,i);var p=(i.flags&128)!==0;if(!l&&!p)return u&&$2(i,a,!1),bo(r,i,f);l=i.stateNode,dW.current=i;var m=p&&typeof a.getDerivedStateFromError!="function"?null:l.render();return i.flags|=1,r!==null&&p?(i.child=va(i,r.child,null,f),i.child=va(i,null,m,f)):cn(r,i,m,f),i.memoizedState=l.state,u&&$2(i,a,!0),i.child}function f5(r){var i=r.stateNode;i.pendingContext?H2(r,i.pendingContext,i.pendingContext!==i.context):i.context&&H2(r,i.context,!1),L_(r,i.containerInfo)}function sS(r,i,a,l,u){return _a(),M_(u),i.flags|=256,cn(r,i,a,l),i.child}var Nw={dehydrated:null,treeContext:null,retryLane:0};function Bw(r){return{baseLanes:r,cachePool:null,transitions:null}}function p5(r,i,a){var l=i.pendingProps,u=ft.current,f=!1,p=(i.flags&128)!==0,m;if((m=p)||(m=r!==null&&r.memoizedState===null?!1:(u&2)!==0),m?(f=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(u|=1),nt(ft,u&1),r===null)return xw(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(p=l.children,r=l.fallback,f?(l=i.mode,f=i.child,p={mode:"hidden",children:p},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=gf(p,l,0,null),r=rs(r,l,a,null),f.return=i,r.return=i,f.sibling=r,i.child=f,i.child.memoizedState=Bw(a),i.memoizedState=Nw,r):W_(i,p));if(u=r.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return uW(r,i,p,l,m,u,a);if(f){f=l.fallback,p=i.mode,u=r.child,m=u.sibling;var k={mode:"hidden",children:l.children};return!(p&1)&&i.child!==u?(l=i.child,l.childLanes=0,l.pendingProps=k,i.deletions=null):(l=cr(u,k),l.subtreeFlags=u.subtreeFlags&14680064),m!==null?f=cr(m,f):(f=rs(f,p,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,p=r.child.memoizedState,p=p===null?Bw(a):{baseLanes:p.baseLanes|a,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=r.childLanes&~a,i.memoizedState=Nw,l}return f=r.child,r=f.sibling,l=cr(f,{mode:"visible",children:l.children}),!(i.mode&1)&&(l.lanes=a),l.return=i,l.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=l,i.memoizedState=null,l}function W_(r,i){return i=gf({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function qu(r,i,a,l){return l!==null&&M_(l),va(i,r.child,null,a),r=W_(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function uW(r,i,a,l,u,f,p){if(a)return i.flags&256?(i.flags&=-257,l=Mb(Error(Q(422))),qu(r,i,p,l)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(f=l.fallback,u=i.mode,l=gf({mode:"visible",children:l.children},u,0,null),f=rs(f,u,p,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,i.mode&1&&va(i,r.child,null,p),i.child.memoizedState=Bw(p),i.memoizedState=Nw,f);if(!(i.mode&1))return qu(r,i,p,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var m=l.dgst;return l=m,f=Error(Q(419)),l=Mb(f,l,void 0),qu(r,i,p,l)}if(m=(p&r.childLanes)!==0,wn||m){if(l=$t,l!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|p)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,ko(r,u),Ai(l,r,u,-1))}return Q_(),l=Mb(Error(Q(421))),qu(r,i,p,l)}return u.data==="$?"?(i.flags|=128,i.child=r.child,i=yW.bind(null,r),u._reactRetry=i,null):(r=f.treeContext,On=or(u.nextSibling),zn=i,ut=!0,wi=null,r!==null&&(Qn[Jn++]=uo,Qn[Jn++]=ho,Qn[Jn++]=cs,uo=r.id,ho=r.overflow,cs=i),i=W_(i,l.children),i.flags|=4096,i)}function aS(r,i,a){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Ew(r.return,i,a)}function Nb(r,i,a,l,u){var f=r.memoizedState;f===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function g5(r,i,a){var l=i.pendingProps,u=l.revealOrder,f=l.tail;if(cn(r,i,l.children,a),l=ft.current,l&2)l=l&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&aS(r,a,i);else if(r.tag===19)aS(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}if(nt(ft,l),!(i.mode&1))i.memoizedState=null;else switch(u){case"forwards":for(a=i.child,u=null;a!==null;)r=a.alternate,r!==null&&Rh(r)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),Nb(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(r=u.alternate,r!==null&&Rh(r)===null){i.child=u;break}r=u.sibling,u.sibling=a,a=u,u=r}Nb(i,!0,a,null,f);break;case"together":Nb(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function kh(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function bo(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ds|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(Q(153));if(i.child!==null){for(r=i.child,a=cr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=cr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function hW(r,i,a){switch(i.tag){case 3:f5(i),_a();break;case 5:UT(i);break;case 1:vn(i.type)&&Bh(i);break;case 4:L_(i,i.stateNode.containerInfo);break;case 10:var l=i.type._context,u=i.memoizedProps.value;nt(zh,l._currentValue),l._currentValue=u;break;case 13:if(l=i.memoizedState,l!==null)return l.dehydrated!==null?(nt(ft,ft.current&1),i.flags|=128,null):a&i.child.childLanes?p5(r,i,a):(nt(ft,ft.current&1),r=bo(r,i,a),r!==null?r.sibling:null);nt(ft,ft.current&1);break;case 19:if(l=(a&i.childLanes)!==0,r.flags&128){if(l)return g5(r,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),nt(ft,ft.current),l)break;return null;case 22:case 23:return i.lanes=0,u5(r,i,a)}return bo(r,i,a)}var m5,Pw,k5,b5;m5=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Pw=function(){};k5=function(r,i,a,l){var u=r.memoizedProps;if(u!==l){r=i.stateNode,ts(Fi.current);var f=null;switch(a){case"input":u=nw(r,u),l=nw(r,l),f=[];break;case"select":u=gt({},u,{value:void 0}),l=gt({},l,{value:void 0}),f=[];break;case"textarea":u=rw(r,u),l=rw(r,l),f=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(r.onclick=Mh)}aw(a,l);var p;a=null;for(w in u)if(!l.hasOwnProperty(w)&&u.hasOwnProperty(w)&&u[w]!=null)if(w==="style"){var m=u[w];for(p in m)m.hasOwnProperty(p)&&(a||(a={}),a[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(bl.hasOwnProperty(w)?f||(f=[]):(f=f||[]).push(w,null));for(w in l){var k=l[w];if(m=u!=null?u[w]:void 0,l.hasOwnProperty(w)&&k!==m&&(k!=null||m!=null))if(w==="style")if(m){for(p in m)!m.hasOwnProperty(p)||k&&k.hasOwnProperty(p)||(a||(a={}),a[p]="");for(p in k)k.hasOwnProperty(p)&&m[p]!==k[p]&&(a||(a={}),a[p]=k[p])}else a||(f||(f=[]),f.push(w,a)),a=k;else w==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,m=m?m.__html:void 0,k!=null&&m!==k&&(f=f||[]).push(w,k)):w==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(w,""+k):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(bl.hasOwnProperty(w)?(k!=null&&w==="onScroll"&&at("scroll",r),f||m===k||(f=[])):(f=f||[]).push(w,k))}a&&(f=f||[]).push("style",a);var w=f;(i.updateQueue=w)&&(i.flags|=4)}};b5=function(r,i,a,l){a!==l&&(i.flags|=4)};function Wc(r,i){if(!ut)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function tn(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(i)for(var u=r.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=r,u=u.sibling;else for(u=r.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=r,u=u.sibling;return r.subtreeFlags|=l,r.childLanes=a,i}function fW(r,i,a){var l=i.pendingProps;switch(I_(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return vn(i.type)&&Nh(),tn(i),null;case 3:return l=i.stateNode,Aa(),lt(_n),lt(sn),R_(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,wi!==null&&(Uw(wi),wi=null))),Pw(r,i),tn(i),null;case 5:j_(i);var u=ts(Il.current);if(a=i.type,r!==null&&i.stateNode!=null)k5(r,i,a,l,u),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!l){if(i.stateNode===null)throw Error(Q(166));return tn(i),null}if(r=ts(Fi.current),Wu(i)){l=i.stateNode,a=i.type;var f=i.memoizedProps;switch(l[Li]=i,l[Dl]=f,r=(i.mode&1)!==0,a){case"dialog":at("cancel",l),at("close",l);break;case"iframe":case"object":case"embed":at("load",l);break;case"video":case"audio":for(u=0;u<Xc.length;u++)at(Xc[u],l);break;case"source":at("error",l);break;case"img":case"image":case"link":at("error",l),at("load",l);break;case"details":at("toggle",l);break;case"input":m2(l,f),at("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},at("invalid",l);break;case"textarea":b2(l,f),at("invalid",l)}aw(a,f),u=null;for(var p in f)if(f.hasOwnProperty(p)){var m=f[p];p==="children"?typeof m=="string"?l.textContent!==m&&(f.suppressHydrationWarning!==!0&&$u(l.textContent,m,r),u=["children",m]):typeof m=="number"&&l.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&$u(l.textContent,m,r),u=["children",""+m]):bl.hasOwnProperty(p)&&m!=null&&p==="onScroll"&&at("scroll",l)}switch(a){case"input":zu(l),k2(l,f,!0);break;case"textarea":zu(l),w2(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Mh)}l=u,i.updateQueue=l,l!==null&&(i.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=WD(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof l.is=="string"?r=p.createElement(a,{is:l.is}):(r=p.createElement(a),a==="select"&&(p=r,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):r=p.createElementNS(r,a),r[Li]=i,r[Dl]=l,m5(r,i,!1,!1),i.stateNode=r;e:{switch(p=cw(a,l),a){case"dialog":at("cancel",r),at("close",r),u=l;break;case"iframe":case"object":case"embed":at("load",r),u=l;break;case"video":case"audio":for(u=0;u<Xc.length;u++)at(Xc[u],r);u=l;break;case"source":at("error",r),u=l;break;case"img":case"image":case"link":at("error",r),at("load",r),u=l;break;case"details":at("toggle",r),u=l;break;case"input":m2(r,l),u=nw(r,l),at("invalid",r);break;case"option":u=l;break;case"select":r._wrapperState={wasMultiple:!!l.multiple},u=gt({},l,{value:void 0}),at("invalid",r);break;case"textarea":b2(r,l),u=rw(r,l),at("invalid",r);break;default:u=l}aw(a,u),m=u;for(f in m)if(m.hasOwnProperty(f)){var k=m[f];f==="style"?KD(r,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&GD(r,k)):f==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&wl(r,k):typeof k=="number"&&wl(r,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(bl.hasOwnProperty(f)?k!=null&&f==="onScroll"&&at("scroll",r):k!=null&&g_(r,f,k,p))}switch(a){case"input":zu(r),k2(r,l,!1);break;case"textarea":zu(r),w2(r);break;case"option":l.value!=null&&r.setAttribute("value",""+dr(l.value));break;case"select":r.multiple=!!l.multiple,f=l.value,f!=null?ua(r,!!l.multiple,f,!1):l.defaultValue!=null&&ua(r,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(r.onclick=Mh)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return tn(i),null;case 6:if(r&&i.stateNode!=null)b5(r,i,r.memoizedProps,l);else{if(typeof l!="string"&&i.stateNode===null)throw Error(Q(166));if(a=ts(Il.current),ts(Fi.current),Wu(i)){if(l=i.stateNode,a=i.memoizedProps,l[Li]=i,(f=l.nodeValue!==a)&&(r=zn,r!==null))switch(r.tag){case 3:$u(l.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&$u(l.nodeValue,a,(r.mode&1)!==0)}f&&(i.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Li]=i,i.stateNode=l}return tn(i),null;case 13:if(lt(ft),l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ut&&On!==null&&i.mode&1&&!(i.flags&128))OT(),_a(),i.flags|=98560,f=!1;else if(f=Wu(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(Q(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(Q(317));f[Li]=i}else _a(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;tn(i),f=!1}else wi!==null&&(Uw(wi),wi=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(l=l!==null,l!==(r!==null&&r.memoizedState!==null)&&l&&(i.child.flags|=8192,i.mode&1&&(r===null||ft.current&1?Lt===0&&(Lt=3):Q_())),i.updateQueue!==null&&(i.flags|=4),tn(i),null);case 4:return Aa(),Pw(r,i),r===null&&El(i.stateNode.containerInfo),tn(i),null;case 10:return P_(i.type._context),tn(i),null;case 17:return vn(i.type)&&Nh(),tn(i),null;case 19:if(lt(ft),f=i.memoizedState,f===null)return tn(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)Wc(f,!1);else{if(Lt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(p=Rh(r),p!==null){for(i.flags|=128,Wc(f,!1),l=p.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),i.subtreeFlags=0,l=a,a=i.child;a!==null;)f=a,r=l,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=r,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,r=p.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return nt(ft,ft.current&1|2),i.child}r=r.sibling}f.tail!==null&&xt()>ya&&(i.flags|=128,l=!0,Wc(f,!1),i.lanes=4194304)}else{if(!l)if(r=Rh(p),r!==null){if(i.flags|=128,l=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Wc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ut)return tn(i),null}else 2*xt()-f.renderingStartTime>ya&&a!==1073741824&&(i.flags|=128,l=!0,Wc(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(a=f.last,a!==null?a.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=xt(),i.sibling=null,a=ft.current,nt(ft,l?a&1|2:a&1),i):(tn(i),null);case 22:case 23:return Y_(),l=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==l&&(i.flags|=8192),l&&i.mode&1?Bn&1073741824&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),null;case 24:return null;case 25:return null}throw Error(Q(156,i.tag))}function pW(r,i){switch(I_(i),i.tag){case 1:return vn(i.type)&&Nh(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Aa(),lt(_n),lt(sn),R_(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return j_(i),null;case 13:if(lt(ft),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(Q(340));_a()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return lt(ft),null;case 4:return Aa(),null;case 10:return P_(i.type._context),null;case 22:case 23:return Y_(),null;case 24:return null;default:return null}}var Ku=!1,on=!1,gW=typeof WeakSet=="function"?WeakSet:Set,ce=null;function la(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){vt(r,i,l)}else a.current=null}function Ow(r,i,a){try{a()}catch(l){vt(r,i,l)}}var cS=!1;function mW(r,i){if(bw=Dh,r=AT(),D_(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,m=-1,k=-1,w=0,C=0,_=r,A=null;t:for(;;){for(var x;_!==a||u!==0&&_.nodeType!==3||(m=p+u),_!==f||l!==0&&_.nodeType!==3||(k=p+l),_.nodeType===3&&(p+=_.nodeValue.length),(x=_.firstChild)!==null;)A=_,_=x;for(;;){if(_===r)break t;if(A===a&&++w===u&&(m=p),A===f&&++C===l&&(k=p),(x=_.nextSibling)!==null)break;_=A,A=_.parentNode}_=x}a=m===-1||k===-1?null:{start:m,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(ww={focusedElem:r,selectionRange:a},Dh=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var S=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,O=S.memoizedState,M=i.stateNode,N=M.getSnapshotBeforeUpdate(i.elementType===i.type?T:mi(i.type,T),O);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){vt(i,i.return,j)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return S=cS,cS=!1,S}function dl(r,i,a){var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&r)===r){var f=u.destroy;u.destroy=void 0,f!==void 0&&Ow(i,a,f)}u=u.next}while(u!==l)}}function ff(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var l=a.create;a.destroy=l()}a=a.next}while(a!==i)}}function zw(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function w5(r){var i=r.alternate;i!==null&&(r.alternate=null,w5(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Li],delete i[Dl],delete i[Aw],delete i[J$],delete i[X$])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _5(r){return r.tag===5||r.tag===3||r.tag===4}function lS(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_5(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lw(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Mh));else if(l!==4&&(r=r.child,r!==null))for(Lw(r,i,a),r=r.sibling;r!==null;)Lw(r,i,a),r=r.sibling}function jw(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(l!==4&&(r=r.child,r!==null))for(jw(r,i,a),r=r.sibling;r!==null;)jw(r,i,a),r=r.sibling}var qt=null,ki=!1;function Fo(r,i,a){for(a=a.child;a!==null;)v5(r,i,a),a=a.sibling}function v5(r,i,a){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(rf,a)}catch{}switch(a.tag){case 5:on||la(a,i);case 6:var l=qt,u=ki;qt=null,Fo(r,i,a),qt=l,ki=u,qt!==null&&(ki?(r=qt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):qt.removeChild(a.stateNode));break;case 18:qt!==null&&(ki?(r=qt,a=a.stateNode,r.nodeType===8?xb(r.parentNode,a):r.nodeType===1&&xb(r,a),Cl(r)):xb(qt,a.stateNode));break;case 4:l=qt,u=ki,qt=a.stateNode.containerInfo,ki=!0,Fo(r,i,a),qt=l,ki=u;break;case 0:case 11:case 14:case 15:if(!on&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var f=u,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&Ow(a,i,p),u=u.next}while(u!==l)}Fo(r,i,a);break;case 1:if(!on&&(la(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(m){vt(a,i,m)}Fo(r,i,a);break;case 21:Fo(r,i,a);break;case 22:a.mode&1?(on=(l=on)||a.memoizedState!==null,Fo(r,i,a),on=l):Fo(r,i,a);break;default:Fo(r,i,a)}}function dS(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new gW),i.forEach(function(l){var u=xW.bind(null,r,l);a.has(l)||(a.add(l),l.then(u,u))})}}function fi(r,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];try{var f=r,p=i,m=p;e:for(;m!==null;){switch(m.tag){case 5:qt=m.stateNode,ki=!1;break e;case 3:qt=m.stateNode.containerInfo,ki=!0;break e;case 4:qt=m.stateNode.containerInfo,ki=!0;break e}m=m.return}if(qt===null)throw Error(Q(160));v5(f,p,u),qt=null,ki=!1;var k=u.alternate;k!==null&&(k.return=null),u.return=null}catch(w){vt(u,i,w)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)A5(i,r),i=i.sibling}function A5(r,i){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fi(i,r),Oi(r),l&4){try{dl(3,r,r.return),ff(3,r)}catch(T){vt(r,r.return,T)}try{dl(5,r,r.return)}catch(T){vt(r,r.return,T)}}break;case 1:fi(i,r),Oi(r),l&512&&a!==null&&la(a,a.return);break;case 5:if(fi(i,r),Oi(r),l&512&&a!==null&&la(a,a.return),r.flags&32){var u=r.stateNode;try{wl(u,"")}catch(T){vt(r,r.return,T)}}if(l&4&&(u=r.stateNode,u!=null)){var f=r.memoizedProps,p=a!==null?a.memoizedProps:f,m=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&HD(u,f),cw(m,p);var w=cw(m,f);for(p=0;p<k.length;p+=2){var C=k[p],_=k[p+1];C==="style"?KD(u,_):C==="dangerouslySetInnerHTML"?GD(u,_):C==="children"?wl(u,_):g_(u,C,_,w)}switch(m){case"input":iw(u,f);break;case"textarea":$D(u,f);break;case"select":var A=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var x=f.value;x!=null?ua(u,!!f.multiple,x,!1):A!==!!f.multiple&&(f.defaultValue!=null?ua(u,!!f.multiple,f.defaultValue,!0):ua(u,!!f.multiple,f.multiple?[]:"",!1))}u[Dl]=f}catch(T){vt(r,r.return,T)}}break;case 6:if(fi(i,r),Oi(r),l&4){if(r.stateNode===null)throw Error(Q(162));u=r.stateNode,f=r.memoizedProps;try{u.nodeValue=f}catch(T){vt(r,r.return,T)}}break;case 3:if(fi(i,r),Oi(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(i.containerInfo)}catch(T){vt(r,r.return,T)}break;case 4:fi(i,r),Oi(r);break;case 13:fi(i,r),Oi(r),u=r.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(K_=xt())),l&4&&dS(r);break;case 22:if(C=a!==null&&a.memoizedState!==null,r.mode&1?(on=(w=on)||C,fi(i,r),on=w):fi(i,r),Oi(r),l&8192){if(w=r.memoizedState!==null,(r.stateNode.isHidden=w)&&!C&&r.mode&1)for(ce=r,C=r.child;C!==null;){for(_=ce=C;ce!==null;){switch(A=ce,x=A.child,A.tag){case 0:case 11:case 14:case 15:dl(4,A,A.return);break;case 1:la(A,A.return);var S=A.stateNode;if(typeof S.componentWillUnmount=="function"){l=A,a=A.return;try{i=l,S.props=i.memoizedProps,S.state=i.memoizedState,S.componentWillUnmount()}catch(T){vt(l,a,T)}}break;case 5:la(A,A.return);break;case 22:if(A.memoizedState!==null){hS(_);continue}}x!==null?(x.return=A,ce=x):hS(_)}C=C.sibling}e:for(C=null,_=r;;){if(_.tag===5){if(C===null){C=_;try{u=_.stateNode,w?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=_.stateNode,k=_.memoizedProps.style,p=k!=null&&k.hasOwnProperty("display")?k.display:null,m.style.display=qD("display",p))}catch(T){vt(r,r.return,T)}}}else if(_.tag===6){if(C===null)try{_.stateNode.nodeValue=w?"":_.memoizedProps}catch(T){vt(r,r.return,T)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===r)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;C===_&&(C=null),_=_.return}C===_&&(C=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:fi(i,r),Oi(r),l&4&&dS(r);break;case 21:break;default:fi(i,r),Oi(r)}}function Oi(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(_5(a)){var l=a;break e}a=a.return}throw Error(Q(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(wl(u,""),l.flags&=-33);var f=lS(r);jw(r,f,u);break;case 3:case 4:var p=l.stateNode.containerInfo,m=lS(r);Lw(r,m,p);break;default:throw Error(Q(161))}}catch(k){vt(r,r.return,k)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function kW(r,i,a){ce=r,C5(r)}function C5(r,i,a){for(var l=(r.mode&1)!==0;ce!==null;){var u=ce,f=u.child;if(u.tag===22&&l){var p=u.memoizedState!==null||Ku;if(!p){var m=u.alternate,k=m!==null&&m.memoizedState!==null||on;m=Ku;var w=on;if(Ku=p,(on=k)&&!w)for(ce=u;ce!==null;)p=ce,k=p.child,p.tag===22&&p.memoizedState!==null?fS(u):k!==null?(k.return=p,ce=k):fS(u);for(;f!==null;)ce=f,C5(f),f=f.sibling;ce=u,Ku=m,on=w}uS(r)}else u.subtreeFlags&8772&&f!==null?(f.return=u,ce=f):uS(r)}}function uS(r){for(;ce!==null;){var i=ce;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:on||ff(5,i);break;case 1:var l=i.stateNode;if(i.flags&4&&!on)if(a===null)l.componentDidMount();else{var u=i.elementType===i.type?a.memoizedProps:mi(i.type,a.memoizedProps);l.componentDidUpdate(u,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&K2(i,f,l);break;case 3:var p=i.updateQueue;if(p!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}K2(i,p,a)}break;case 5:var m=i.stateNode;if(a===null&&i.flags&4){a=m;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var w=i.alternate;if(w!==null){var C=w.memoizedState;if(C!==null){var _=C.dehydrated;_!==null&&Cl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}on||i.flags&512&&zw(i)}catch(A){vt(i,i.return,A)}}if(i===r){ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,ce=a;break}ce=i.return}}function hS(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ce=a;break}ce=i.return}}function fS(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ff(4,i)}catch(k){vt(i,a,k)}break;case 1:var l=i.stateNode;if(typeof l.componentDidMount=="function"){var u=i.return;try{l.componentDidMount()}catch(k){vt(i,u,k)}}var f=i.return;try{zw(i)}catch(k){vt(i,f,k)}break;case 5:var p=i.return;try{zw(i)}catch(k){vt(i,p,k)}}}catch(k){vt(i,i.return,k)}if(i===r){ce=null;break}var m=i.sibling;if(m!==null){m.return=i.return,ce=m;break}ce=i.return}}var bW=Math.ceil,Uh=vo.ReactCurrentDispatcher,G_=vo.ReactCurrentOwner,ni=vo.ReactCurrentBatchConfig,Be=0,$t=null,Nt=null,Kt=0,Bn=0,da=fr(0),Lt=0,Pl=null,ds=0,pf=0,q_=0,ul=null,bn=null,K_=0,ya=1/0,co=null,Hh=!1,Rw=null,sr=null,Zu=!1,Xo=null,$h=0,hl=0,Fw=null,bh=-1,wh=0;function dn(){return Be&6?xt():bh!==-1?bh:bh=xt()}function ar(r){return r.mode&1?Be&2&&Kt!==0?Kt&-Kt:tW.transition!==null?(wh===0&&(wh=sT()),wh):(r=He,r!==0||(r=window.event,r=r===void 0?16:fT(r.type)),r):1}function Ai(r,i,a,l){if(50<hl)throw hl=0,Fw=null,Error(Q(185));Rl(r,a,l),(!(Be&2)||r!==$t)&&(r===$t&&(!(Be&2)&&(pf|=a),Lt===4&&Zo(r,Kt)),An(r,l),a===1&&Be===0&&!(i.mode&1)&&(ya=xt()+500,df&&pr()))}function An(r,i){var a=r.callbackNode;t$(r,i);var l=Sh(r,r===$t?Kt:0);if(l===0)a!==null&&A2(a),r.callbackNode=null,r.callbackPriority=0;else if(i=l&-l,r.callbackPriority!==i){if(a!=null&&A2(a),i===1)r.tag===0?eW(pS.bind(null,r)):NT(pS.bind(null,r)),Y$(function(){!(Be&6)&&pr()}),a=null;else{switch(aT(l)){case 1:a=__;break;case 4:a=oT;break;case 16:a=Eh;break;case 536870912:a=rT;break;default:a=Eh}a=M5(a,y5.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function y5(r,i){if(bh=-1,wh=0,Be&6)throw Error(Q(327));var a=r.callbackNode;if(ma()&&r.callbackNode!==a)return null;var l=Sh(r,r===$t?Kt:0);if(l===0)return null;if(l&30||l&r.expiredLanes||i)i=Wh(r,l);else{i=l;var u=Be;Be|=2;var f=E5();($t!==r||Kt!==i)&&(co=null,ya=xt()+500,os(r,i));do try{vW();break}catch(m){x5(r,m)}while(1);B_(),Uh.current=f,Be=u,Nt!==null?i=0:($t=null,Kt=0,i=Lt)}if(i!==0){if(i===2&&(u=fw(r),u!==0&&(l=u,i=Vw(r,u))),i===1)throw a=Pl,os(r,0),Zo(r,l),An(r,xt()),a;if(i===6)Zo(r,l);else{if(u=r.current.alternate,!(l&30)&&!wW(u)&&(i=Wh(r,l),i===2&&(f=fw(r),f!==0&&(l=f,i=Vw(r,f))),i===1))throw a=Pl,os(r,0),Zo(r,l),An(r,xt()),a;switch(r.finishedWork=u,r.finishedLanes=l,i){case 0:case 1:throw Error(Q(345));case 2:Kr(r,bn,co);break;case 3:if(Zo(r,l),(l&130023424)===l&&(i=K_+500-xt(),10<i)){if(Sh(r,0)!==0)break;if(u=r.suspendedLanes,(u&l)!==l){dn(),r.pingedLanes|=r.suspendedLanes&u;break}r.timeoutHandle=vw(Kr.bind(null,r,bn,co),i);break}Kr(r,bn,co);break;case 4:if(Zo(r,l),(l&4194240)===l)break;for(i=r.eventTimes,u=-1;0<l;){var p=31-vi(l);f=1<<p,p=i[p],p>u&&(u=p),l&=~f}if(l=u,l=xt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*bW(l/1960))-l,10<l){r.timeoutHandle=vw(Kr.bind(null,r,bn,co),l);break}Kr(r,bn,co);break;case 5:Kr(r,bn,co);break;default:throw Error(Q(329))}}}return An(r,xt()),r.callbackNode===a?y5.bind(null,r):null}function Vw(r,i){var a=ul;return r.current.memoizedState.isDehydrated&&(os(r,i).flags|=256),r=Wh(r,i),r!==2&&(i=bn,bn=a,i!==null&&Uw(i)),r}function Uw(r){bn===null?bn=r:bn.push.apply(bn,r)}function wW(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!Ci(f(),u))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zo(r,i){for(i&=~q_,i&=~pf,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-vi(i),l=1<<a;r[a]=-1,i&=~l}}function pS(r){if(Be&6)throw Error(Q(327));ma();var i=Sh(r,0);if(!(i&1))return An(r,xt()),null;var a=Wh(r,i);if(r.tag!==0&&a===2){var l=fw(r);l!==0&&(i=l,a=Vw(r,l))}if(a===1)throw a=Pl,os(r,0),Zo(r,i),An(r,xt()),a;if(a===6)throw Error(Q(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Kr(r,bn,co),An(r,xt()),null}function Z_(r,i){var a=Be;Be|=1;try{return r(i)}finally{Be=a,Be===0&&(ya=xt()+500,df&&pr())}}function us(r){Xo!==null&&Xo.tag===0&&!(Be&6)&&ma();var i=Be;Be|=1;var a=ni.transition,l=He;try{if(ni.transition=null,He=1,r)return r()}finally{He=l,ni.transition=a,Be=i,!(Be&6)&&pr()}}function Y_(){Bn=da.current,lt(da)}function os(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Z$(a)),Nt!==null)for(a=Nt.return;a!==null;){var l=a;switch(I_(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Nh();break;case 3:Aa(),lt(_n),lt(sn),R_();break;case 5:j_(l);break;case 4:Aa();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:P_(l.type._context);break;case 22:case 23:Y_()}a=a.return}if($t=r,Nt=r=cr(r.current,null),Kt=Bn=i,Lt=0,Pl=null,q_=pf=ds=0,bn=ul=null,es!==null){for(i=0;i<es.length;i++)if(a=es[i],l=a.interleaved,l!==null){a.interleaved=null;var u=l.next,f=a.pending;if(f!==null){var p=f.next;f.next=u,l.next=p}a.pending=l}es=null}return r}function x5(r,i){do{var a=Nt;try{if(B_(),gh.current=Vh,Fh){for(var l=pt.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Fh=!1}if(ls=0,Ht=zt=pt=null,ll=!1,Ml=0,G_.current=null,a===null||a.return===null){Lt=1,Pl=i,Nt=null;break}e:{var f=r,p=a.return,m=a,k=i;if(i=Kt,m.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var w=k,C=m,_=C.tag;if(!(C.mode&1)&&(_===0||_===11||_===15)){var A=C.alternate;A?(C.updateQueue=A.updateQueue,C.memoizedState=A.memoizedState,C.lanes=A.lanes):(C.updateQueue=null,C.memoizedState=null)}var x=tS(p);if(x!==null){x.flags&=-257,nS(x,p,m,f,i),x.mode&1&&eS(f,w,i),i=x,k=w;var S=i.updateQueue;if(S===null){var T=new Set;T.add(k),i.updateQueue=T}else S.add(k);break e}else{if(!(i&1)){eS(f,w,i),Q_();break e}k=Error(Q(426))}}else if(ut&&m.mode&1){var O=tS(p);if(O!==null){!(O.flags&65536)&&(O.flags|=256),nS(O,p,m,f,i),M_(Ca(k,m));break e}}f=k=Ca(k,m),Lt!==4&&(Lt=2),ul===null?ul=[f]:ul.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var M=c5(f,k,i);q2(f,M);break e;case 1:m=k;var N=f.type,P=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(sr===null||!sr.has(P)))){f.flags|=65536,i&=-i,f.lanes|=i;var j=l5(f,m,i);q2(f,j);break e}}f=f.return}while(f!==null)}D5(a)}catch(F){i=F,Nt===a&&a!==null&&(Nt=a=a.return);continue}break}while(1)}function E5(){var r=Uh.current;return Uh.current=Vh,r===null?Vh:r}function Q_(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),$t===null||!(ds&268435455)&&!(pf&268435455)||Zo($t,Kt)}function Wh(r,i){var a=Be;Be|=2;var l=E5();($t!==r||Kt!==i)&&(co=null,os(r,i));do try{_W();break}catch(u){x5(r,u)}while(1);if(B_(),Be=a,Uh.current=l,Nt!==null)throw Error(Q(261));return $t=null,Kt=0,Lt}function _W(){for(;Nt!==null;)S5(Nt)}function vW(){for(;Nt!==null&&!GH();)S5(Nt)}function S5(r){var i=I5(r.alternate,r,Bn);r.memoizedProps=r.pendingProps,i===null?D5(r):Nt=i,G_.current=null}function D5(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=pW(a,i),a!==null){a.flags&=32767,Nt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,Nt=null;return}}else if(a=fW(a,i,Bn),a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=r}while(i!==null);Lt===0&&(Lt=5)}function Kr(r,i,a){var l=He,u=ni.transition;try{ni.transition=null,He=1,AW(r,i,a,l)}finally{ni.transition=u,He=l}return null}function AW(r,i,a,l){do ma();while(Xo!==null);if(Be&6)throw Error(Q(327));a=r.finishedWork;var u=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(Q(177));r.callbackNode=null,r.callbackPriority=0;var f=a.lanes|a.childLanes;if(n$(r,f),r===$t&&(Nt=$t=null,Kt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Zu||(Zu=!0,M5(Eh,function(){return ma(),null})),f=(a.flags&15990)!==0,a.subtreeFlags&15990||f){f=ni.transition,ni.transition=null;var p=He;He=1;var m=Be;Be|=4,G_.current=null,mW(r,a),A5(a,r),U$(ww),Dh=!!bw,ww=bw=null,r.current=a,kW(a),qH(),Be=m,He=p,ni.transition=f}else r.current=a;if(Zu&&(Zu=!1,Xo=r,$h=u),f=r.pendingLanes,f===0&&(sr=null),YH(a.stateNode),An(r,xt()),i!==null)for(l=r.onRecoverableError,a=0;a<i.length;a++)u=i[a],l(u.value,{componentStack:u.stack,digest:u.digest});if(Hh)throw Hh=!1,r=Rw,Rw=null,r;return $h&1&&r.tag!==0&&ma(),f=r.pendingLanes,f&1?r===Fw?hl++:(hl=0,Fw=r):hl=0,pr(),null}function ma(){if(Xo!==null){var r=aT($h),i=ni.transition,a=He;try{if(ni.transition=null,He=16>r?16:r,Xo===null)var l=!1;else{if(r=Xo,Xo=null,$h=0,Be&6)throw Error(Q(331));var u=Be;for(Be|=4,ce=r.current;ce!==null;){var f=ce,p=f.child;if(ce.flags&16){var m=f.deletions;if(m!==null){for(var k=0;k<m.length;k++){var w=m[k];for(ce=w;ce!==null;){var C=ce;switch(C.tag){case 0:case 11:case 15:dl(8,C,f)}var _=C.child;if(_!==null)_.return=C,ce=_;else for(;ce!==null;){C=ce;var A=C.sibling,x=C.return;if(w5(C),C===w){ce=null;break}if(A!==null){A.return=x,ce=A;break}ce=x}}}var S=f.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}ce=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,ce=p;else e:for(;ce!==null;){if(f=ce,f.flags&2048)switch(f.tag){case 0:case 11:case 15:dl(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,ce=M;break e}ce=f.return}}var N=r.current;for(ce=N;ce!==null;){p=ce;var P=p.child;if(p.subtreeFlags&2064&&P!==null)P.return=p,ce=P;else e:for(p=N;ce!==null;){if(m=ce,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:ff(9,m)}}catch(F){vt(m,m.return,F)}if(m===p){ce=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,ce=j;break e}ce=m.return}}if(Be=u,pr(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(rf,r)}catch{}l=!0}return l}finally{He=a,ni.transition=i}}return!1}function gS(r,i,a){i=Ca(a,i),i=c5(r,i,1),r=rr(r,i,1),i=dn(),r!==null&&(Rl(r,1,i),An(r,i))}function vt(r,i,a){if(r.tag===3)gS(r,r,a);else for(;i!==null;){if(i.tag===3){gS(i,r,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){r=Ca(a,r),r=l5(i,r,1),i=rr(i,r,1),r=dn(),i!==null&&(Rl(i,1,r),An(i,r));break}}i=i.return}}function CW(r,i,a){var l=r.pingCache;l!==null&&l.delete(i),i=dn(),r.pingedLanes|=r.suspendedLanes&a,$t===r&&(Kt&a)===a&&(Lt===4||Lt===3&&(Kt&130023424)===Kt&&500>xt()-K_?os(r,0):q_|=a),An(r,i)}function T5(r,i){i===0&&(r.mode&1?(i=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):i=1);var a=dn();r=ko(r,i),r!==null&&(Rl(r,i,a),An(r,a))}function yW(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),T5(r,a)}function xW(r,i){var a=0;switch(r.tag){case 13:var l=r.stateNode,u=r.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=r.stateNode;break;default:throw Error(Q(314))}l!==null&&l.delete(i),T5(r,a)}var I5;I5=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||_n.current)wn=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return wn=!1,hW(r,i,a);wn=!!(r.flags&131072)}else wn=!1,ut&&i.flags&1048576&&BT(i,Oh,i.index);switch(i.lanes=0,i.tag){case 2:var l=i.type;kh(r,i),r=i.pendingProps;var u=wa(i,sn.current);ga(i,a),u=V_(null,i,l,r,u,a);var f=U_();return i.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vn(l)?(f=!0,Bh(i)):f=!1,i.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,z_(i),u.updater=uf,i.stateNode=u,u._reactInternals=i,Dw(i,l,r,a),i=Mw(null,i,l,!0,f,a)):(i.tag=0,ut&&f&&T_(i),cn(null,i,u,a),i=i.child),i;case 16:l=i.elementType;e:{switch(kh(r,i),r=i.pendingProps,u=l._init,l=u(l._payload),i.type=l,u=i.tag=SW(l),r=mi(l,r),u){case 0:i=Iw(null,i,l,r,a);break e;case 1:i=rS(null,i,l,r,a);break e;case 11:i=iS(null,i,l,r,a);break e;case 14:i=oS(null,i,l,mi(l.type,r),a);break e}throw Error(Q(306,l,""))}return i;case 0:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:mi(l,u),Iw(r,i,l,u,a);case 1:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:mi(l,u),rS(r,i,l,u,a);case 3:e:{if(f5(i),r===null)throw Error(Q(387));l=i.pendingProps,f=i.memoizedState,u=f.element,LT(r,i),jh(i,l,null,a);var p=i.memoizedState;if(l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){u=Ca(Error(Q(423)),i),i=sS(r,i,l,a,u);break e}else if(l!==u){u=Ca(Error(Q(424)),i),i=sS(r,i,l,a,u);break e}else for(On=or(i.stateNode.containerInfo.firstChild),zn=i,ut=!0,wi=null,a=VT(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_a(),l===u){i=bo(r,i,a);break e}cn(r,i,l,a)}i=i.child}return i;case 5:return UT(i),r===null&&xw(i),l=i.type,u=i.pendingProps,f=r!==null?r.memoizedProps:null,p=u.children,_w(l,u)?p=null:f!==null&&_w(l,f)&&(i.flags|=32),h5(r,i),cn(r,i,p,a),i.child;case 6:return r===null&&xw(i),null;case 13:return p5(r,i,a);case 4:return L_(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=va(i,null,l,a):cn(r,i,l,a),i.child;case 11:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:mi(l,u),iS(r,i,l,u,a);case 7:return cn(r,i,i.pendingProps,a),i.child;case 8:return cn(r,i,i.pendingProps.children,a),i.child;case 12:return cn(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(l=i.type._context,u=i.pendingProps,f=i.memoizedProps,p=u.value,nt(zh,l._currentValue),l._currentValue=p,f!==null)if(Ci(f.value,p)){if(f.children===u.children&&!_n.current){i=bo(r,i,a);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){p=f.child;for(var k=m.firstContext;k!==null;){if(k.context===l){if(f.tag===1){k=po(-1,a&-a),k.tag=2;var w=f.updateQueue;if(w!==null){w=w.shared;var C=w.pending;C===null?k.next=k:(k.next=C.next,C.next=k),w.pending=k}}f.lanes|=a,k=f.alternate,k!==null&&(k.lanes|=a),Ew(f.return,a,i),m.lanes|=a;break}k=k.next}}else if(f.tag===10)p=f.type===i.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(Q(341));p.lanes|=a,m=p.alternate,m!==null&&(m.lanes|=a),Ew(p,a,i),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===i){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}cn(r,i,u.children,a),i=i.child}return i;case 9:return u=i.type,l=i.pendingProps.children,ga(i,a),u=ii(u),l=l(u),i.flags|=1,cn(r,i,l,a),i.child;case 14:return l=i.type,u=mi(l,i.pendingProps),u=mi(l.type,u),oS(r,i,l,u,a);case 15:return d5(r,i,i.type,i.pendingProps,a);case 17:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:mi(l,u),kh(r,i),i.tag=1,vn(l)?(r=!0,Bh(i)):r=!1,ga(i,a),RT(i,l,u),Dw(i,l,u,a),Mw(null,i,l,!0,r,a);case 19:return g5(r,i,a);case 22:return u5(r,i,a)}throw Error(Q(156,i.tag))};function M5(r,i){return iT(r,i)}function EW(r,i,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,i,a,l){return new EW(r,i,a,l)}function J_(r){return r=r.prototype,!(!r||!r.isReactComponent)}function SW(r){if(typeof r=="function")return J_(r)?1:0;if(r!=null){if(r=r.$$typeof,r===k_)return 11;if(r===b_)return 14}return 2}function cr(r,i){var a=r.alternate;return a===null?(a=ei(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function _h(r,i,a,l,u,f){var p=2;if(l=r,typeof r=="function")J_(r)&&(p=1);else if(typeof r=="string")p=5;else e:switch(r){case ea:return rs(a.children,u,f,i);case m_:p=8,u|=8;break;case Jb:return r=ei(12,a,i,u|2),r.elementType=Jb,r.lanes=f,r;case Xb:return r=ei(13,a,i,u),r.elementType=Xb,r.lanes=f,r;case ew:return r=ei(19,a,i,u),r.elementType=ew,r.lanes=f,r;case FD:return gf(a,u,f,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case jD:p=10;break e;case RD:p=9;break e;case k_:p=11;break e;case b_:p=14;break e;case $o:p=16,l=null;break e}throw Error(Q(130,r==null?r:typeof r,""))}return i=ei(p,a,i,u),i.elementType=r,i.type=l,i.lanes=f,i}function rs(r,i,a,l){return r=ei(7,r,l,i),r.lanes=a,r}function gf(r,i,a,l){return r=ei(22,r,l,i),r.elementType=FD,r.lanes=a,r.stateNode={isHidden:!1},r}function Bb(r,i,a){return r=ei(6,r,null,i),r.lanes=a,r}function Pb(r,i,a){return i=ei(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function DW(r,i,a,l,u){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pb(0),this.expirationTimes=pb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pb(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function X_(r,i,a,l,u,f,p,m,k){return r=new DW(r,i,a,m,k),i===1?(i=1,f===!0&&(i|=8)):i=0,f=ei(3,null,null,i),r.current=f,f.stateNode=r,f.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},z_(f),r}function TW(r,i,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:l==null?null:""+l,children:r,containerInfo:i,implementation:a}}function N5(r){if(!r)return ur;r=r._reactInternals;e:{if(fs(r)!==r||r.tag!==1)throw Error(Q(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(Q(171))}if(r.tag===1){var a=r.type;if(vn(a))return MT(r,a,i)}return i}function B5(r,i,a,l,u,f,p,m,k){return r=X_(a,l,!0,r,u,f,p,m,k),r.context=N5(null),a=r.current,l=dn(),u=ar(a),f=po(l,u),f.callback=i??null,rr(a,f,u),r.current.lanes=u,Rl(r,u,l),An(r,l),r}function mf(r,i,a,l){var u=i.current,f=dn(),p=ar(u);return a=N5(a),i.context===null?i.context=a:i.pendingContext=a,i=po(f,p),i.payload={element:r},l=l===void 0?null:l,l!==null&&(i.callback=l),r=rr(u,i,p),r!==null&&(Ai(r,u,p,f),ph(r,u,p)),p}function Gh(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function mS(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ev(r,i){mS(r,i),(r=r.alternate)&&mS(r,i)}function IW(){return null}var P5=typeof reportError=="function"?reportError:function(r){console.error(r)};function tv(r){this._internalRoot=r}kf.prototype.render=tv.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(Q(409));mf(r,i,null,null)};kf.prototype.unmount=tv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;us(function(){mf(null,r,null,null)}),i[mo]=null}};function kf(r){this._internalRoot=r}kf.prototype.unstable_scheduleHydration=function(r){if(r){var i=dT();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Ko.length&&i!==0&&i<Ko[a].priority;a++);Ko.splice(a,0,r),a===0&&hT(r)}};function nv(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function kS(){}function MW(r,i,a,l,u){if(u){if(typeof l=="function"){var f=l;l=function(){var w=Gh(p);f.call(w)}}var p=B5(i,l,r,0,null,!1,!1,"",kS);return r._reactRootContainer=p,r[mo]=p.current,El(r.nodeType===8?r.parentNode:r),us(),p}for(;u=r.lastChild;)r.removeChild(u);if(typeof l=="function"){var m=l;l=function(){var w=Gh(k);m.call(w)}}var k=X_(r,0,!1,null,null,!1,!1,"",kS);return r._reactRootContainer=k,r[mo]=k.current,El(r.nodeType===8?r.parentNode:r),us(function(){mf(i,k,a,l)}),k}function wf(r,i,a,l,u){var f=a._reactRootContainer;if(f){var p=f;if(typeof u=="function"){var m=u;u=function(){var k=Gh(p);m.call(k)}}mf(i,p,r,u)}else p=MW(a,i,r,u,l);return Gh(p)}cT=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Jc(i.pendingLanes);a!==0&&(v_(i,a|1),An(i,xt()),!(Be&6)&&(ya=xt()+500,pr()))}break;case 13:us(function(){var l=ko(r,1);if(l!==null){var u=dn();Ai(l,r,1,u)}}),ev(r,1)}};A_=function(r){if(r.tag===13){var i=ko(r,134217728);if(i!==null){var a=dn();Ai(i,r,134217728,a)}ev(r,134217728)}};lT=function(r){if(r.tag===13){var i=ar(r),a=ko(r,i);if(a!==null){var l=dn();Ai(a,r,i,l)}ev(r,i)}};dT=function(){return He};uT=function(r,i){var a=He;try{return He=r,i()}finally{He=a}};dw=function(r,i,a){switch(i){case"input":if(iw(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==r&&l.form===r.form){var u=lf(l);if(!u)throw Error(Q(90));UD(l),iw(l,u)}}}break;case"textarea":$D(r,a);break;case"select":i=a.value,i!=null&&ua(r,!!a.multiple,i,!1)}};QD=Z_;JD=us;var NW={usingClientEntryPoint:!1,Events:[Vl,oa,lf,ZD,YD,Z_]},Gc={findFiberByHostInstance:Xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BW={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=tT(r),r===null?null:r.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||IW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{rf=Yu.inject(BW),Ri=Yu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NW;Rn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nv(i))throw Error(Q(200));return TW(r,i,null,a)};Rn.createRoot=function(r,i){if(!nv(r))throw Error(Q(299));var a=!1,l="",u=P5;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),i=X_(r,1,!1,null,null,a,!1,l,u),r[mo]=i.current,El(r.nodeType===8?r.parentNode:r),new tv(i)};Rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(Q(188)):(r=Object.keys(r).join(","),Error(Q(268,r)));return r=tT(i),r=r===null?null:r.stateNode,r};Rn.flushSync=function(r){return us(r)};Rn.hydrate=function(r,i,a){if(!bf(i))throw Error(Q(200));return wf(null,r,i,!0,a)};Rn.hydrateRoot=function(r,i,a){if(!nv(r))throw Error(Q(405));var l=a!=null&&a.hydratedSources||null,u=!1,f="",p=P5;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),i=B5(i,null,r,1,a??null,u,!1,f,p),r[mo]=i.current,El(r),l)for(r=0;r<l.length;r++)a=l[r],u=a._getVersion,u=u(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,u]:i.mutableSourceEagerHydrationData.push(a,u);return new kf(i)};Rn.render=function(r,i,a){if(!bf(i))throw Error(Q(200));return wf(null,r,i,!1,a)};Rn.unmountComponentAtNode=function(r){if(!bf(r))throw Error(Q(40));return r._reactRootContainer?(us(function(){wf(null,null,r,!1,function(){r._reactRootContainer=null,r[mo]=null})}),!0):!1};Rn.unstable_batchedUpdates=Z_;Rn.unstable_renderSubtreeIntoContainer=function(r,i,a,l){if(!bf(a))throw Error(Q(200));if(r==null||r._reactInternals===void 0)throw Error(Q(38));return wf(r,i,a,!1,l)};Rn.version="18.2.0-next-9e3b772b8-20220608";function O5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O5)}catch(r){console.error(r)}}O5(),BD.exports=Rn;var PW=BD.exports,bS=PW;Yb.createRoot=bS.createRoot,Yb.hydrateRoot=bS.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])}return r},Ol.apply(this,arguments)}var er;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(er||(er={}));const wS="popstate";function OW(r){r===void 0&&(r={});function i(l,u){let{pathname:f,search:p,hash:m}=l.location;return Hw("",{pathname:f,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(l,u){return typeof u=="string"?u:qh(u)}return LW(i,a,null,r)}function Bt(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function iv(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function zW(){return Math.random().toString(36).substr(2,8)}function _S(r,i){return{usr:r.state,key:r.key,idx:i}}function Hw(r,i,a,l){return a===void 0&&(a=null),Ol({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof i=="string"?Ta(i):i,{state:a,key:i&&i.key||l||zW()})}function qh(r){let{pathname:i="/",search:a="",hash:l=""}=r;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(i+=l.charAt(0)==="#"?l:"#"+l),i}function Ta(r){let i={};if(r){let a=r.indexOf("#");a>=0&&(i.hash=r.substr(a),r=r.substr(0,a));let l=r.indexOf("?");l>=0&&(i.search=r.substr(l),r=r.substr(0,l)),r&&(i.pathname=r)}return i}function LW(r,i,a,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:f=!1}=l,p=u.history,m=er.Pop,k=null,w=C();w==null&&(w=0,p.replaceState(Ol({},p.state,{idx:w}),""));function C(){return(p.state||{idx:null}).idx}function _(){m=er.Pop;let O=C(),M=O==null?null:O-w;w=O,k&&k({action:m,location:T.location,delta:M})}function A(O,M){m=er.Push;let N=Hw(T.location,O,M);a&&a(N,O),w=C()+1;let P=_S(N,w),j=T.createHref(N);try{p.pushState(P,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;u.location.assign(j)}f&&k&&k({action:m,location:T.location,delta:1})}function x(O,M){m=er.Replace;let N=Hw(T.location,O,M);a&&a(N,O),w=C();let P=_S(N,w),j=T.createHref(N);p.replaceState(P,"",j),f&&k&&k({action:m,location:T.location,delta:0})}function S(O){let M=u.location.origin!=="null"?u.location.origin:u.location.href,N=typeof O=="string"?O:qh(O);return Bt(M,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,M)}let T={get action(){return m},get location(){return r(u,p)},listen(O){if(k)throw new Error("A history only accepts one active listener");return u.addEventListener(wS,_),k=O,()=>{u.removeEventListener(wS,_),k=null}},createHref(O){return i(u,O)},createURL:S,encodeLocation(O){let M=S(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:A,replace:x,go(O){return p.go(O)}};return T}var vS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(vS||(vS={}));function jW(r,i,a){a===void 0&&(a="/");let l=typeof i=="string"?Ta(i):i,u=ov(l.pathname||"/",a);if(u==null)return null;let f=z5(r);RW(f);let p=null;for(let m=0;p==null&&m<f.length;++m)p=KW(f[m],QW(u));return p}function z5(r,i,a,l){i===void 0&&(i=[]),a===void 0&&(a=[]),l===void 0&&(l="");let u=(f,p,m)=>{let k={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};k.relativePath.startsWith("/")&&(Bt(k.relativePath.startsWith(l),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(l.length));let w=lr([l,k.relativePath]),C=a.concat(k);f.children&&f.children.length>0&&(Bt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),z5(f.children,i,C,w)),!(f.path==null&&!f.index)&&i.push({path:w,score:GW(w,f.index),routesMeta:C})};return r.forEach((f,p)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))u(f,p);else for(let k of L5(f.path))u(f,p,k)}),i}function L5(r){let i=r.split("/");if(i.length===0)return[];let[a,...l]=i,u=a.endsWith("?"),f=a.replace(/\?$/,"");if(l.length===0)return u?[f,""]:[f];let p=L5(l.join("/")),m=[];return m.push(...p.map(k=>k===""?f:[f,k].join("/"))),u&&m.push(...p),m.map(k=>r.startsWith("/")&&k===""?"/":k)}function RW(r){r.sort((i,a)=>i.score!==a.score?a.score-i.score:qW(i.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const FW=/^:\w+$/,VW=3,UW=2,HW=1,$W=10,WW=-2,AS=r=>r==="*";function GW(r,i){let a=r.split("/"),l=a.length;return a.some(AS)&&(l+=WW),i&&(l+=UW),a.filter(u=>!AS(u)).reduce((u,f)=>u+(FW.test(f)?VW:f===""?HW:$W),l)}function qW(r,i){return r.length===i.length&&r.slice(0,-1).every((l,u)=>l===i[u])?r[r.length-1]-i[i.length-1]:0}function KW(r,i){let{routesMeta:a}=r,l={},u="/",f=[];for(let p=0;p<a.length;++p){let m=a[p],k=p===a.length-1,w=u==="/"?i:i.slice(u.length)||"/",C=ZW({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},w);if(!C)return null;Object.assign(l,C.params);let _=m.route;f.push({params:l,pathname:lr([u,C.pathname]),pathnameBase:tG(lr([u,C.pathnameBase])),route:_}),C.pathnameBase!=="/"&&(u=lr([u,C.pathnameBase]))}return f}function ZW(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,l]=YW(r.path,r.caseSensitive,r.end),u=i.match(a);if(!u)return null;let f=u[0],p=f.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((w,C,_)=>{let{paramName:A,isOptional:x}=C;if(A==="*"){let T=m[_]||"";p=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const S=m[_];return x&&!S?w[A]=void 0:w[A]=JW(S||"",A),w},{}),pathname:f,pathnameBase:p,pattern:r}}function YW(r,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),iv(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(p,m,k)=>(l.push({paramName:m,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),l]}function QW(r){try{return decodeURI(r)}catch(i){return iv(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),r}}function JW(r,i){try{return decodeURIComponent(r)}catch(a){return iv(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),r}}function ov(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,l=r.charAt(a);return l&&l!=="/"?null:r.slice(a)||"/"}function XW(r,i){i===void 0&&(i="/");let{pathname:a,search:l="",hash:u=""}=typeof r=="string"?Ta(r):r;return{pathname:a?a.startsWith("/")?a:eG(a,i):i,search:nG(l),hash:iG(u)}}function eG(r,i){let a=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Ob(r,i,a,l){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j5(r){return r.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function R5(r,i,a,l){l===void 0&&(l=!1);let u;typeof r=="string"?u=Ta(r):(u=Ol({},r),Bt(!u.pathname||!u.pathname.includes("?"),Ob("?","pathname","search",u)),Bt(!u.pathname||!u.pathname.includes("#"),Ob("#","pathname","hash",u)),Bt(!u.search||!u.search.includes("#"),Ob("#","search","hash",u)));let f=r===""||u.pathname==="",p=f?"/":u.pathname,m;if(l||p==null)m=a;else{let _=i.length-1;if(p.startsWith("..")){let A=p.split("/");for(;A[0]==="..";)A.shift(),_-=1;u.pathname=A.join("/")}m=_>=0?i[_]:"/"}let k=XW(u,m),w=p&&p!=="/"&&p.endsWith("/"),C=(f||p===".")&&a.endsWith("/");return!k.pathname.endsWith("/")&&(w||C)&&(k.pathname+="/"),k}const lr=r=>r.join("/").replace(/\/\/+/g,"/"),tG=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nG=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iG=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function oG(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const F5=["post","put","patch","delete"];new Set(F5);const rG=["get",...F5];new Set(rG);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])}return r},Kh.apply(this,arguments)}const rv=ee.createContext(null),sG=ee.createContext(null),Ia=ee.createContext(null),_f=ee.createContext(null),gr=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),V5=ee.createContext(null);function aG(r,i){let{relative:a}=i===void 0?{}:i;Hl()||Bt(!1);let{basename:l,navigator:u}=ee.useContext(Ia),{hash:f,pathname:p,search:m}=$5(r,{relative:a}),k=p;return l!=="/"&&(k=p==="/"?l:lr([l,p])),u.createHref({pathname:k,search:m,hash:f})}function Hl(){return ee.useContext(_f)!=null}function $l(){return Hl()||Bt(!1),ee.useContext(_f).location}function U5(r){ee.useContext(Ia).static||ee.useLayoutEffect(r)}function Ma(){let{isDataRoute:r}=ee.useContext(gr);return r?_G():cG()}function cG(){Hl()||Bt(!1);let r=ee.useContext(rv),{basename:i,navigator:a}=ee.useContext(Ia),{matches:l}=ee.useContext(gr),{pathname:u}=$l(),f=JSON.stringify(j5(l).map(k=>k.pathnameBase)),p=ee.useRef(!1);return U5(()=>{p.current=!0}),ee.useCallback(function(k,w){if(w===void 0&&(w={}),!p.current)return;if(typeof k=="number"){a.go(k);return}let C=R5(k,JSON.parse(f),u,w.relative==="path");r==null&&i!=="/"&&(C.pathname=C.pathname==="/"?i:lr([i,C.pathname])),(w.replace?a.replace:a.push)(C,w.state,w)},[i,a,f,u,r])}function H5(){let{matches:r}=ee.useContext(gr),i=r[r.length-1];return i?i.params:{}}function $5(r,i){let{relative:a}=i===void 0?{}:i,{matches:l}=ee.useContext(gr),{pathname:u}=$l(),f=JSON.stringify(j5(l).map(p=>p.pathnameBase));return ee.useMemo(()=>R5(r,JSON.parse(f),u,a==="path"),[r,f,u,a])}function lG(r,i){return dG(r,i)}function dG(r,i,a){Hl()||Bt(!1);let{navigator:l}=ee.useContext(Ia),{matches:u}=ee.useContext(gr),f=u[u.length-1],p=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let k=$l(),w;if(i){var C;let T=typeof i=="string"?Ta(i):i;m==="/"||(C=T.pathname)!=null&&C.startsWith(m)||Bt(!1),w=T}else w=k;let _=w.pathname||"/",A=m==="/"?_:_.slice(m.length)||"/",x=jW(r,{pathname:A}),S=gG(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:lr([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:lr([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,a);return i&&S?ee.createElement(_f.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:er.Pop}},S):S}function uG(){let r=wG(),i=oG(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},i),a?ee.createElement("pre",{style:u},a):null,f)}const hG=ee.createElement(uG,null);class fG extends ee.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error?ee.createElement(gr.Provider,{value:this.props.routeContext},ee.createElement(V5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pG(r){let{routeContext:i,match:a,children:l}=r,u=ee.useContext(rv);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),ee.createElement(gr.Provider,{value:i},l)}function gG(r,i,a){var l;if(i===void 0&&(i=[]),a===void 0&&(a=null),r==null){var u;if((u=a)!=null&&u.errors)r=a.matches;else return null}let f=r,p=(l=a)==null?void 0:l.errors;if(p!=null){let m=f.findIndex(k=>k.route.id&&(p==null?void 0:p[k.route.id]));m>=0||Bt(!1),f=f.slice(0,Math.min(f.length,m+1))}return f.reduceRight((m,k,w)=>{let C=k.route.id?p==null?void 0:p[k.route.id]:null,_=null;a&&(_=k.route.errorElement||hG);let A=i.concat(f.slice(0,w+1)),x=()=>{let S;return C?S=_:k.route.Component?S=ee.createElement(k.route.Component,null):k.route.element?S=k.route.element:S=m,ee.createElement(pG,{match:k,routeContext:{outlet:m,matches:A,isDataRoute:a!=null},children:S})};return a&&(k.route.ErrorBoundary||k.route.errorElement||w===0)?ee.createElement(fG,{location:a.location,revalidation:a.revalidation,component:_,error:C,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}var W5=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(W5||{}),Zh=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Zh||{});function mG(r){let i=ee.useContext(rv);return i||Bt(!1),i}function kG(r){let i=ee.useContext(sG);return i||Bt(!1),i}function bG(r){let i=ee.useContext(gr);return i||Bt(!1),i}function G5(r){let i=bG(),a=i.matches[i.matches.length-1];return a.route.id||Bt(!1),a.route.id}function wG(){var r;let i=ee.useContext(V5),a=kG(Zh.UseRouteError),l=G5(Zh.UseRouteError);return i||((r=a.errors)==null?void 0:r[l])}function _G(){let{router:r}=mG(W5.UseNavigateStable),i=G5(Zh.UseNavigateStable),a=ee.useRef(!1);return U5(()=>{a.current=!0}),ee.useCallback(function(u,f){f===void 0&&(f={}),a.current&&(typeof u=="number"?r.navigate(u):r.navigate(u,Kh({fromRouteId:i},f)))},[r,i])}function Zr(r){Bt(!1)}function vG(r){let{basename:i="/",children:a=null,location:l,navigationType:u=er.Pop,navigator:f,static:p=!1}=r;Hl()&&Bt(!1);let m=i.replace(/^\/*/,"/"),k=ee.useMemo(()=>({basename:m,navigator:f,static:p}),[m,f,p]);typeof l=="string"&&(l=Ta(l));let{pathname:w="/",search:C="",hash:_="",state:A=null,key:x="default"}=l,S=ee.useMemo(()=>{let T=ov(w,m);return T==null?null:{location:{pathname:T,search:C,hash:_,state:A,key:x},navigationType:u}},[m,w,C,_,A,x,u]);return S==null?null:ee.createElement(Ia.Provider,{value:k},ee.createElement(_f.Provider,{children:a,value:S}))}function AG(r){let{children:i,location:a}=r;return lG($w(i),a)}new Promise(()=>{});function $w(r,i){i===void 0&&(i=[]);let a=[];return ee.Children.forEach(r,(l,u)=>{if(!ee.isValidElement(l))return;let f=[...i,u];if(l.type===ee.Fragment){a.push.apply(a,$w(l.props.children,f));return}l.type!==Zr&&Bt(!1),!l.props.index||!l.props.children||Bt(!1);let p={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(p.children=$w(l.props.children,f)),a.push(p)}),a}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ww(){return Ww=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])}return r},Ww.apply(this,arguments)}function CG(r,i){if(r==null)return{};var a={},l=Object.keys(r),u,f;for(f=0;f<l.length;f++)u=l[f],!(i.indexOf(u)>=0)&&(a[u]=r[u]);return a}function yG(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xG(r,i){return r.button===0&&(!i||i==="_self")&&!yG(r)}const EG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],SG="startTransition",CS=yH[SG];function DG(r){let{basename:i,children:a,future:l,window:u}=r,f=ee.useRef();f.current==null&&(f.current=OW({window:u,v5Compat:!0}));let p=f.current,[m,k]=ee.useState({action:p.action,location:p.location}),{v7_startTransition:w}=l||{},C=ee.useCallback(_=>{w&&CS?CS(()=>k(_)):k(_)},[k,w]);return ee.useLayoutEffect(()=>p.listen(C),[p,C]),ee.createElement(vG,{basename:i,children:a,location:m.location,navigationType:m.action,navigator:p})}const TG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=ee.forwardRef(function(i,a){let{onClick:l,relative:u,reloadDocument:f,replace:p,state:m,target:k,to:w,preventScrollReset:C,unstable_viewTransition:_}=i,A=CG(i,EG),{basename:x}=ee.useContext(Ia),S,T=!1;if(typeof w=="string"&&IG.test(w)&&(S=w,TG))try{let P=new URL(window.location.href),j=w.startsWith("//")?new URL(P.protocol+w):new URL(w),F=ov(j.pathname,x);j.origin===P.origin&&F!=null?w=F+j.search+j.hash:T=!0}catch{}let O=aG(w,{relative:u}),M=MG(w,{replace:p,state:m,target:k,preventScrollReset:C,relative:u,unstable_viewTransition:_});function N(P){l&&l(P),P.defaultPrevented||M(P)}return ee.createElement("a",Ww({},A,{href:S||O,onClick:T||f?l:N,ref:a,target:k}))});var yS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(yS||(yS={}));var xS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(xS||(xS={}));function MG(r,i){let{target:a,replace:l,state:u,preventScrollReset:f,relative:p,unstable_viewTransition:m}=i===void 0?{}:i,k=Ma(),w=$l(),C=$5(r,{relative:p});return ee.useCallback(_=>{if(xG(_,a)){_.preventDefault();let A=l!==void 0?l:qh(w)===qh(C);k(r,{replace:A,state:u,preventScrollReset:f,relative:p,unstable_viewTransition:m})}},[w,k,C,l,u,a,r,f,p,m])}function wo(r){return Array.isArray?Array.isArray(r):Z5(r)==="[object Array]"}const NG=1/0;function BG(r){if(typeof r=="string")return r;let i=r+"";return i=="0"&&1/r==-NG?"-0":i}function PG(r){return r==null?"":BG(r)}function ji(r){return typeof r=="string"}function q5(r){return typeof r=="number"}function OG(r){return r===!0||r===!1||zG(r)&&Z5(r)=="[object Boolean]"}function K5(r){return typeof r=="object"}function zG(r){return K5(r)&&r!==null}function Pn(r){return r!=null}function zb(r){return!r.trim().length}function Z5(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const LG="Incorrect 'index' type",jG=r=>`Invalid value for key ${r}`,RG=r=>`Pattern length exceeds max of ${r}.`,FG=r=>`Missing ${r} property in key`,VG=r=>`Property 'weight' in key '${r}' must be a positive integer`,ES=Object.prototype.hasOwnProperty;class UG{constructor(i){this._keys=[],this._keyMap={};let a=0;i.forEach(l=>{let u=Y5(l);this._keys.push(u),this._keyMap[u.id]=u,a+=u.weight}),this._keys.forEach(l=>{l.weight/=a})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Y5(r){let i=null,a=null,l=null,u=1,f=null;if(ji(r)||wo(r))l=r,i=SS(r),a=Gw(r);else{if(!ES.call(r,"name"))throw new Error(FG("name"));const p=r.name;if(l=p,ES.call(r,"weight")&&(u=r.weight,u<=0))throw new Error(VG(p));i=SS(p),a=Gw(p),f=r.getFn}return{path:i,id:a,weight:u,src:l,getFn:f}}function SS(r){return wo(r)?r:r.split(".")}function Gw(r){return wo(r)?r.join("."):r}function HG(r,i){let a=[],l=!1;const u=(f,p,m)=>{if(Pn(f))if(!p[m])a.push(f);else{let k=p[m];const w=f[k];if(!Pn(w))return;if(m===p.length-1&&(ji(w)||q5(w)||OG(w)))a.push(PG(w));else if(wo(w)){l=!0;for(let C=0,_=w.length;C<_;C+=1)u(w[C],p,m+1)}else p.length&&u(w,p,m+1)}};return u(r,ji(i)?i.split("."):i,0),l?a:a[0]}const $G={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},WG={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,i)=>r.score===i.score?r.idx<i.idx?-1:1:r.score<i.score?-1:1},GG={location:0,threshold:.6,distance:100},qG={useExtendedSearch:!1,getFn:HG,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var me={...WG,...$G,...GG,...qG};const KG=/[^ ]+/g;function ZG(r=1,i=3){const a=new Map,l=Math.pow(10,i);return{get(u){const f=u.match(KG).length;if(a.has(f))return a.get(f);const p=1/Math.pow(f,.5*r),m=parseFloat(Math.round(p*l)/l);return a.set(f,m),m},clear(){a.clear()}}}class sv{constructor({getFn:i=me.getFn,fieldNormWeight:a=me.fieldNormWeight}={}){this.norm=ZG(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((a,l)=>{this._keysMap[a.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ji(this.docs[0])?this.docs.forEach((i,a)=>{this._addString(i,a)}):this.docs.forEach((i,a)=>{this._addObject(i,a)}),this.norm.clear())}add(i){const a=this.size();ji(i)?this._addString(i,a):this._addObject(i,a)}removeAt(i){this.records.splice(i,1);for(let a=i,l=this.size();a<l;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(i,a){return i[this._keysMap[a]]}size(){return this.records.length}_addString(i,a){if(!Pn(i)||zb(i))return;let l={v:i,i:a,n:this.norm.get(i)};this.records.push(l)}_addObject(i,a){let l={i:a,$:{}};this.keys.forEach((u,f)=>{let p=u.getFn?u.getFn(i):this.getFn(i,u.path);if(Pn(p)){if(wo(p)){let m=[];const k=[{nestedArrIndex:-1,value:p}];for(;k.length;){const{nestedArrIndex:w,value:C}=k.pop();if(Pn(C))if(ji(C)&&!zb(C)){let _={v:C,i:w,n:this.norm.get(C)};m.push(_)}else wo(C)&&C.forEach((_,A)=>{k.push({nestedArrIndex:A,value:_})})}l.$[f]=m}else if(ji(p)&&!zb(p)){let m={v:p,n:this.norm.get(p)};l.$[f]=m}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function Q5(r,i,{getFn:a=me.getFn,fieldNormWeight:l=me.fieldNormWeight}={}){const u=new sv({getFn:a,fieldNormWeight:l});return u.setKeys(r.map(Y5)),u.setSources(i),u.create(),u}function YG(r,{getFn:i=me.getFn,fieldNormWeight:a=me.fieldNormWeight}={}){const{keys:l,records:u}=r,f=new sv({getFn:i,fieldNormWeight:a});return f.setKeys(l),f.setIndexRecords(u),f}function Qu(r,{errors:i=0,currentLocation:a=0,expectedLocation:l=0,distance:u=me.distance,ignoreLocation:f=me.ignoreLocation}={}){const p=i/r.length;if(f)return p;const m=Math.abs(l-a);return u?p+m/u:m?1:p}function QG(r=[],i=me.minMatchCharLength){let a=[],l=-1,u=-1,f=0;for(let p=r.length;f<p;f+=1){let m=r[f];m&&l===-1?l=f:!m&&l!==-1&&(u=f-1,u-l+1>=i&&a.push([l,u]),l=-1)}return r[f-1]&&f-l>=i&&a.push([l,f-1]),a}const Yr=32;function JG(r,i,a,{location:l=me.location,distance:u=me.distance,threshold:f=me.threshold,findAllMatches:p=me.findAllMatches,minMatchCharLength:m=me.minMatchCharLength,includeMatches:k=me.includeMatches,ignoreLocation:w=me.ignoreLocation}={}){if(i.length>Yr)throw new Error(RG(Yr));const C=i.length,_=r.length,A=Math.max(0,Math.min(l,_));let x=f,S=A;const T=m>1||k,O=T?Array(_):[];let M;for(;(M=r.indexOf(i,S))>-1;){let G=Qu(i,{currentLocation:M,expectedLocation:A,distance:u,ignoreLocation:w});if(x=Math.min(G,x),S=M+C,T){let Z=0;for(;Z<C;)O[M+Z]=1,Z+=1}}S=-1;let N=[],P=1,j=C+_;const F=1<<C-1;for(let G=0;G<C;G+=1){let Z=0,oe=j;for(;Z<oe;)Qu(i,{errors:G,currentLocation:A+oe,expectedLocation:A,distance:u,ignoreLocation:w})<=x?Z=oe:j=oe,oe=Math.floor((j-Z)/2+Z);j=oe;let re=Math.max(1,A-oe+1),Ae=p?_:Math.min(A+oe,_)+C,At=Array(Ae+2);At[Ae+1]=(1<<G)-1;for(let dt=Ae;dt>=re;dt-=1){let fn=dt-1,L=a[r.charAt(fn)];if(T&&(O[fn]=+!!L),At[dt]=(At[dt+1]<<1|1)&L,G&&(At[dt]|=(N[dt+1]|N[dt])<<1|1|N[dt+1]),At[dt]&F&&(P=Qu(i,{errors:G,currentLocation:fn,expectedLocation:A,distance:u,ignoreLocation:w}),P<=x)){if(x=P,S=fn,S<=A)break;re=Math.max(1,2*A-S)}}if(Qu(i,{errors:G+1,currentLocation:A,expectedLocation:A,distance:u,ignoreLocation:w})>x)break;N=At}const W={isMatch:S>=0,score:Math.max(.001,P)};if(T){const G=QG(O,m);G.length?k&&(W.indices=G):W.isMatch=!1}return W}function XG(r){let i={};for(let a=0,l=r.length;a<l;a+=1){const u=r.charAt(a);i[u]=(i[u]||0)|1<<l-a-1}return i}class J5{constructor(i,{location:a=me.location,threshold:l=me.threshold,distance:u=me.distance,includeMatches:f=me.includeMatches,findAllMatches:p=me.findAllMatches,minMatchCharLength:m=me.minMatchCharLength,isCaseSensitive:k=me.isCaseSensitive,ignoreLocation:w=me.ignoreLocation}={}){if(this.options={location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:w},this.pattern=k?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;const C=(A,x)=>{this.chunks.push({pattern:A,alphabet:XG(A),startIndex:x})},_=this.pattern.length;if(_>Yr){let A=0;const x=_%Yr,S=_-x;for(;A<S;)C(this.pattern.substr(A,Yr),A),A+=Yr;if(x){const T=_-Yr;C(this.pattern.substr(T),T)}}else C(this.pattern,0)}searchIn(i){const{isCaseSensitive:a,includeMatches:l}=this.options;if(a||(i=i.toLowerCase()),this.pattern===i){let S={isMatch:!0,score:0};return l&&(S.indices=[[0,i.length-1]]),S}const{location:u,distance:f,threshold:p,findAllMatches:m,minMatchCharLength:k,ignoreLocation:w}=this.options;let C=[],_=0,A=!1;this.chunks.forEach(({pattern:S,alphabet:T,startIndex:O})=>{const{isMatch:M,score:N,indices:P}=JG(i,S,T,{location:u+O,distance:f,threshold:p,findAllMatches:m,minMatchCharLength:k,includeMatches:l,ignoreLocation:w});M&&(A=!0),_+=N,M&&P&&(C=[...C,...P])});let x={isMatch:A,score:A?_/this.chunks.length:1};return A&&l&&(x.indices=C),x}}class mr{constructor(i){this.pattern=i}static isMultiMatch(i){return DS(i,this.multiRegex)}static isSingleMatch(i){return DS(i,this.singleRegex)}search(){}}function DS(r,i){const a=r.match(i);return a?a[1]:null}class eq extends mr{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class tq extends mr{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const l=i.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,i.length-1]}}}class nq extends mr{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class iq extends mr{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class oq extends mr{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}class rq extends mr{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class X5 extends mr{constructor(i,{location:a=me.location,threshold:l=me.threshold,distance:u=me.distance,includeMatches:f=me.includeMatches,findAllMatches:p=me.findAllMatches,minMatchCharLength:m=me.minMatchCharLength,isCaseSensitive:k=me.isCaseSensitive,ignoreLocation:w=me.ignoreLocation}={}){super(i),this._bitapSearch=new J5(i,{location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:w})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class eI extends mr{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let a=0,l;const u=[],f=this.pattern.length;for(;(l=i.indexOf(this.pattern,a))>-1;)a=l+f,u.push([l,a-1]);const p=!!u.length;return{isMatch:p,score:p?0:1,indices:u}}}const qw=[eq,eI,nq,iq,rq,oq,tq,X5],TS=qw.length,sq=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,aq="|";function cq(r,i={}){return r.split(aq).map(a=>{let l=a.trim().split(sq).filter(f=>f&&!!f.trim()),u=[];for(let f=0,p=l.length;f<p;f+=1){const m=l[f];let k=!1,w=-1;for(;!k&&++w<TS;){const C=qw[w];let _=C.isMultiMatch(m);_&&(u.push(new C(_,i)),k=!0)}if(!k)for(w=-1;++w<TS;){const C=qw[w];let _=C.isSingleMatch(m);if(_){u.push(new C(_,i));break}}}return u})}const lq=new Set([X5.type,eI.type]);class dq{constructor(i,{isCaseSensitive:a=me.isCaseSensitive,includeMatches:l=me.includeMatches,minMatchCharLength:u=me.minMatchCharLength,ignoreLocation:f=me.ignoreLocation,findAllMatches:p=me.findAllMatches,location:m=me.location,threshold:k=me.threshold,distance:w=me.distance}={}){this.query=null,this.options={isCaseSensitive:a,includeMatches:l,minMatchCharLength:u,findAllMatches:p,ignoreLocation:f,location:m,threshold:k,distance:w},this.pattern=a?i:i.toLowerCase(),this.query=cq(this.pattern,this.options)}static condition(i,a){return a.useExtendedSearch}searchIn(i){const a=this.query;if(!a)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:u}=this.options;i=u?i:i.toLowerCase();let f=0,p=[],m=0;for(let k=0,w=a.length;k<w;k+=1){const C=a[k];p.length=0,f=0;for(let _=0,A=C.length;_<A;_+=1){const x=C[_],{isMatch:S,indices:T,score:O}=x.search(i);if(S){if(f+=1,m+=O,l){const M=x.constructor.type;lq.has(M)?p=[...p,...T]:p.push(T)}}else{m=0,f=0,p.length=0;break}}if(f){let _={isMatch:!0,score:m/f};return l&&(_.indices=p),_}}return{isMatch:!1,score:1}}}const Kw=[];function uq(...r){Kw.push(...r)}function Zw(r,i){for(let a=0,l=Kw.length;a<l;a+=1){let u=Kw[a];if(u.condition(r,i))return new u(r,i)}return new J5(r,i)}const Yh={AND:"$and",OR:"$or"},Yw={PATH:"$path",PATTERN:"$val"},Qw=r=>!!(r[Yh.AND]||r[Yh.OR]),hq=r=>!!r[Yw.PATH],fq=r=>!wo(r)&&K5(r)&&!Qw(r),IS=r=>({[Yh.AND]:Object.keys(r).map(i=>({[i]:r[i]}))});function tI(r,i,{auto:a=!0}={}){const l=u=>{let f=Object.keys(u);const p=hq(u);if(!p&&f.length>1&&!Qw(u))return l(IS(u));if(fq(u)){const k=p?u[Yw.PATH]:f[0],w=p?u[Yw.PATTERN]:u[k];if(!ji(w))throw new Error(jG(k));const C={keyId:Gw(k),pattern:w};return a&&(C.searcher=Zw(w,i)),C}let m={children:[],operator:f[0]};return f.forEach(k=>{const w=u[k];wo(w)&&w.forEach(C=>{m.children.push(l(C))})}),m};return Qw(r)||(r=IS(r)),l(r)}function pq(r,{ignoreFieldNorm:i=me.ignoreFieldNorm}){r.forEach(a=>{let l=1;a.matches.forEach(({key:u,norm:f,score:p})=>{const m=u?u.weight:null;l*=Math.pow(p===0&&m?Number.EPSILON:p,(m||1)*(i?1:f))}),a.score=l})}function gq(r,i){const a=r.matches;i.matches=[],Pn(a)&&a.forEach(l=>{if(!Pn(l.indices)||!l.indices.length)return;const{indices:u,value:f}=l;let p={indices:u,value:f};l.key&&(p.key=l.key.src),l.idx>-1&&(p.refIndex=l.idx),i.matches.push(p)})}function mq(r,i){i.score=r.score}function kq(r,i,{includeMatches:a=me.includeMatches,includeScore:l=me.includeScore}={}){const u=[];return a&&u.push(gq),l&&u.push(mq),r.map(f=>{const{idx:p}=f,m={item:i[p],refIndex:p};return u.length&&u.forEach(k=>{k(f,m)}),m})}class Na{constructor(i,a={},l){this.options={...me,...a},this.options.useExtendedSearch,this._keyStore=new UG(this.options.keys),this.setCollection(i,l)}setCollection(i,a){if(this._docs=i,a&&!(a instanceof sv))throw new Error(LG);this._myIndex=a||Q5(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Pn(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){const a=[];for(let l=0,u=this._docs.length;l<u;l+=1){const f=this._docs[l];i(f,l)&&(this.removeAt(l),l-=1,u-=1,a.push(f))}return a}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:a=-1}={}){const{includeMatches:l,includeScore:u,shouldSort:f,sortFn:p,ignoreFieldNorm:m}=this.options;let k=ji(i)?ji(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return pq(k,{ignoreFieldNorm:m}),f&&k.sort(p),q5(a)&&a>-1&&(k=k.slice(0,a)),kq(k,this._docs,{includeMatches:l,includeScore:u})}_searchStringList(i){const a=Zw(i,this.options),{records:l}=this._myIndex,u=[];return l.forEach(({v:f,i:p,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:w,indices:C}=a.searchIn(f);k&&u.push({item:f,idx:p,matches:[{score:w,value:f,norm:m,indices:C}]})}),u}_searchLogical(i){const a=tI(i,this.options),l=(m,k,w)=>{if(!m.children){const{keyId:_,searcher:A}=m,x=this._findMatches({key:this._keyStore.get(_),value:this._myIndex.getValueForItemAtKeyId(k,_),searcher:A});return x&&x.length?[{idx:w,item:k,matches:x}]:[]}const C=[];for(let _=0,A=m.children.length;_<A;_+=1){const x=m.children[_],S=l(x,k,w);if(S.length)C.push(...S);else if(m.operator===Yh.AND)return[]}return C},u=this._myIndex.records,f={},p=[];return u.forEach(({$:m,i:k})=>{if(Pn(m)){let w=l(a,m,k);w.length&&(f[k]||(f[k]={idx:k,item:m,matches:[]},p.push(f[k])),w.forEach(({matches:C})=>{f[k].matches.push(...C)}))}}),p}_searchObjectList(i){const a=Zw(i,this.options),{keys:l,records:u}=this._myIndex,f=[];return u.forEach(({$:p,i:m})=>{if(!Pn(p))return;let k=[];l.forEach((w,C)=>{k.push(...this._findMatches({key:w,value:p[C],searcher:a}))}),k.length&&f.push({idx:m,item:p,matches:k})}),f}_findMatches({key:i,value:a,searcher:l}){if(!Pn(a))return[];let u=[];if(wo(a))a.forEach(({v:f,i:p,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:w,indices:C}=l.searchIn(f);k&&u.push({score:w,key:i,value:f,idx:p,norm:m,indices:C})});else{const{v:f,n:p}=a,{isMatch:m,score:k,indices:w}=l.searchIn(f);m&&u.push({score:k,key:i,value:f,norm:p,indices:w})}return u}}Na.version="7.0.0";Na.createIndex=Q5;Na.parseIndex=YG;Na.config=me;Na.parseQuery=tI;uq(dq);const bq=(r,i,a)=>{const u=new Na(i,{keys:a}).search(r);return r?u.map(p=>p.item):i};class ps extends Error{}class wq extends ps{constructor(i){super(`Invalid DateTime: ${i.toMessage()}`)}}class _q extends ps{constructor(i){super(`Invalid Interval: ${i.toMessage()}`)}}class vq extends ps{constructor(i){super(`Invalid Duration: ${i.toMessage()}`)}}class el extends ps{}class nI extends ps{constructor(i){super(`Invalid unit ${i}`)}}class Xn extends ps{}class Vo extends ps{constructor(){super("Zone is an abstract class")}}const ne="numeric",yi="short",Ln="long",Qh={year:ne,month:ne,day:ne},iI={year:ne,month:yi,day:ne},Aq={year:ne,month:yi,day:ne,weekday:yi},oI={year:ne,month:Ln,day:ne},rI={year:ne,month:Ln,day:ne,weekday:Ln},sI={hour:ne,minute:ne},aI={hour:ne,minute:ne,second:ne},cI={hour:ne,minute:ne,second:ne,timeZoneName:yi},lI={hour:ne,minute:ne,second:ne,timeZoneName:Ln},dI={hour:ne,minute:ne,hourCycle:"h23"},uI={hour:ne,minute:ne,second:ne,hourCycle:"h23"},hI={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:yi},fI={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:Ln},pI={year:ne,month:ne,day:ne,hour:ne,minute:ne},gI={year:ne,month:ne,day:ne,hour:ne,minute:ne,second:ne},mI={year:ne,month:yi,day:ne,hour:ne,minute:ne},kI={year:ne,month:yi,day:ne,hour:ne,minute:ne,second:ne},Cq={year:ne,month:yi,day:ne,weekday:yi,hour:ne,minute:ne},bI={year:ne,month:Ln,day:ne,hour:ne,minute:ne,timeZoneName:yi},wI={year:ne,month:Ln,day:ne,hour:ne,minute:ne,second:ne,timeZoneName:yi},_I={year:ne,month:Ln,day:ne,weekday:Ln,hour:ne,minute:ne,timeZoneName:Ln},vI={year:ne,month:Ln,day:ne,weekday:Ln,hour:ne,minute:ne,second:ne,timeZoneName:Ln};class Wl{get type(){throw new Vo}get name(){throw new Vo}get ianaName(){return this.name}get isUniversal(){throw new Vo}offsetName(i,a){throw new Vo}formatOffset(i,a){throw new Vo}offset(i){throw new Vo}equals(i){throw new Vo}get isValid(){throw new Vo}}let Lb=null;class vf extends Wl{static get instance(){return Lb===null&&(Lb=new vf),Lb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return CI(i,a,l)}formatOffset(i,a){return pl(this.offset(i),a)}offset(i){return-new Date(i).getTimezoneOffset()}equals(i){return i.type==="system"}get isValid(){return!0}}let vh={};function yq(r){return vh[r]||(vh[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),vh[r]}const xq={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Eq(r,i){const a=r.format(i).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(a),[,u,f,p,m,k,w,C]=l;return[p,u,f,m,k,w,C]}function Sq(r,i){const a=r.formatToParts(i),l=[];for(let u=0;u<a.length;u++){const{type:f,value:p}=a[u],m=xq[f];f==="era"?l[m]=p:Se(m)||(l[m]=parseInt(p,10))}return l}let Ju={};class _o extends Wl{static create(i){return Ju[i]||(Ju[i]=new _o(i)),Ju[i]}static resetCache(){Ju={},vh={}}static isValidSpecifier(i){return this.isValidZone(i)}static isValidZone(i){if(!i)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}}constructor(i){super(),this.zoneName=i,this.valid=_o.isValidZone(i)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return CI(i,a,l,this.name)}formatOffset(i,a){return pl(this.offset(i),a)}offset(i){const a=new Date(i);if(isNaN(a))return NaN;const l=yq(this.name);let[u,f,p,m,k,w,C]=l.formatToParts?Sq(l,a):Eq(l,a);m==="BC"&&(u=-Math.abs(u)+1);const A=Cf({year:u,month:f,day:p,hour:k===24?0:k,minute:w,second:C,millisecond:0});let x=+a;const S=x%1e3;return x-=S>=0?S:1e3+S,(A-x)/(60*1e3)}equals(i){return i.type==="iana"&&i.name===this.name}get isValid(){return this.valid}}let MS={};function Dq(r,i={}){const a=JSON.stringify([r,i]);let l=MS[a];return l||(l=new Intl.ListFormat(r,i),MS[a]=l),l}let Jw={};function Xw(r,i={}){const a=JSON.stringify([r,i]);let l=Jw[a];return l||(l=new Intl.DateTimeFormat(r,i),Jw[a]=l),l}let e_={};function Tq(r,i={}){const a=JSON.stringify([r,i]);let l=e_[a];return l||(l=new Intl.NumberFormat(r,i),e_[a]=l),l}let t_={};function Iq(r,i={}){const{base:a,...l}=i,u=JSON.stringify([r,l]);let f=t_[u];return f||(f=new Intl.RelativeTimeFormat(r,i),t_[u]=f),f}let tl=null;function Mq(){return tl||(tl=new Intl.DateTimeFormat().resolvedOptions().locale,tl)}function Nq(r){const i=r.indexOf("-x-");i!==-1&&(r=r.substring(0,i));const a=r.indexOf("-u-");if(a===-1)return[r];{let l,u;try{l=Xw(r).resolvedOptions(),u=r}catch{const k=r.substring(0,a);l=Xw(k).resolvedOptions(),u=k}const{numberingSystem:f,calendar:p}=l;return[u,f,p]}}function Bq(r,i,a){return(a||i)&&(r.includes("-u-")||(r+="-u"),a&&(r+=`-ca-${a}`),i&&(r+=`-nu-${i}`)),r}function Pq(r){const i=[];for(let a=1;a<=12;a++){const l=ve.utc(2009,a,1);i.push(r(l))}return i}function Oq(r){const i=[];for(let a=1;a<=7;a++){const l=ve.utc(2016,11,13+a);i.push(r(l))}return i}function Xu(r,i,a,l){const u=r.listingMode();return u==="error"?null:u==="en"?a(i):l(i)}function zq(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}class Lq{constructor(i,a,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:u,floor:f,...p}=l;if(!a||Object.keys(p).length>0){const m={useGrouping:!1,...l};l.padTo>0&&(m.minimumIntegerDigits=l.padTo),this.inf=Tq(i,m)}}format(i){if(this.inf){const a=this.floor?Math.floor(i):i;return this.inf.format(a)}else{const a=this.floor?Math.floor(i):cv(i,3);return Mt(a,this.padTo)}}}class jq{constructor(i,a,l){this.opts=l,this.originalZone=void 0;let u;if(this.opts.timeZone)this.dt=i;else if(i.zone.type==="fixed"){const p=-1*(i.offset/60),m=p>=0?`Etc/GMT+${p}`:`Etc/GMT${p}`;i.offset!==0&&_o.create(m).valid?(u=m,this.dt=i):(u="UTC",this.dt=i.offset===0?i:i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone)}else i.zone.type==="system"?this.dt=i:i.zone.type==="iana"?(this.dt=i,u=i.zone.name):(u="UTC",this.dt=i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone);const f={...this.opts};f.timeZone=f.timeZone||u,this.dtf=Xw(a,f)}format(){return this.originalZone?this.formatToParts().map(({value:i})=>i).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const i=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?i.map(a=>{if(a.type==="timeZoneName"){const l=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...a,value:l}}else return a}):i}resolvedOptions(){return this.dtf.resolvedOptions()}}class Rq{constructor(i,a,l){this.opts={style:"long",...l},!a&&AI()&&(this.rtf=Iq(i,l))}format(i,a){return this.rtf?this.rtf.format(i,a):nK(a,i,this.opts.numeric,this.opts.style!=="long")}formatToParts(i,a){return this.rtf?this.rtf.formatToParts(i,a):[]}}class ct{static fromOpts(i){return ct.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)}static create(i,a,l,u=!1){const f=i||It.defaultLocale,p=f||(u?"en-US":Mq()),m=a||It.defaultNumberingSystem,k=l||It.defaultOutputCalendar;return new ct(p,m,k,f)}static resetCache(){tl=null,Jw={},e_={},t_={}}static fromObject({locale:i,numberingSystem:a,outputCalendar:l}={}){return ct.create(i,a,l)}constructor(i,a,l,u){const[f,p,m]=Nq(i);this.locale=f,this.numberingSystem=a||p||null,this.outputCalendar=l||m||null,this.intl=Bq(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=zq(this)),this.fastNumbersCached}listingMode(){const i=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return i&&a?"en":"intl"}clone(i){return!i||Object.getOwnPropertyNames(i).length===0?this:ct.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1)}redefaultToEN(i={}){return this.clone({...i,defaultToEN:!0})}redefaultToSystem(i={}){return this.clone({...i,defaultToEN:!1})}months(i,a=!1){return Xu(this,i,EI,()=>{const l=a?{month:i,day:"numeric"}:{month:i},u=a?"format":"standalone";return this.monthsCache[u][i]||(this.monthsCache[u][i]=Pq(f=>this.extract(f,l,"month"))),this.monthsCache[u][i]})}weekdays(i,a=!1){return Xu(this,i,TI,()=>{const l=a?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},u=a?"format":"standalone";return this.weekdaysCache[u][i]||(this.weekdaysCache[u][i]=Oq(f=>this.extract(f,l,"weekday"))),this.weekdaysCache[u][i]})}meridiems(){return Xu(this,void 0,()=>II,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ve.utc(2016,11,13,9),ve.utc(2016,11,13,19)].map(a=>this.extract(a,i,"dayperiod"))}return this.meridiemCache})}eras(i){return Xu(this,i,MI,()=>{const a={era:i};return this.eraCache[i]||(this.eraCache[i]=[ve.utc(-40,1,1),ve.utc(2017,1,1)].map(l=>this.extract(l,a,"era"))),this.eraCache[i]})}extract(i,a,l){const u=this.dtFormatter(i,a),f=u.formatToParts(),p=f.find(m=>m.type.toLowerCase()===l);return p?p.value:null}numberFormatter(i={}){return new Lq(this.intl,i.forceSimple||this.fastNumbers,i)}dtFormatter(i,a={}){return new jq(i,this.intl,a)}relFormatter(i={}){return new Rq(this.intl,this.isEnglish(),i)}listFormatter(i={}){return Dq(this.intl,i)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}}let jb=null;class ln extends Wl{static get utcInstance(){return jb===null&&(jb=new ln(0)),jb}static instance(i){return i===0?ln.utcInstance:new ln(i)}static parseSpecifier(i){if(i){const a=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new ln(yf(a[1],a[2]))}return null}constructor(i){super(),this.fixed=i}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${pl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${pl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(i,a){return pl(this.fixed,a)}get isUniversal(){return!0}offset(){return this.fixed}equals(i){return i.type==="fixed"&&i.fixed===this.fixed}get isValid(){return!0}}class Fq extends Wl{constructor(i){super(),this.zoneName=i}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Yo(r,i){if(Se(r)||r===null)return i;if(r instanceof Wl)return r;if(Vq(r)){const a=r.toLowerCase();return a==="default"?i:a==="local"||a==="system"?vf.instance:a==="utc"||a==="gmt"?ln.utcInstance:ln.parseSpecifier(a)||_o.create(r)}else return ss(r)?ln.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new Fq(r)}let NS=()=>Date.now(),BS="system",PS=null,OS=null,zS=null,LS=60,jS;class It{static get now(){return NS}static set now(i){NS=i}static set defaultZone(i){BS=i}static get defaultZone(){return Yo(BS,vf.instance)}static get defaultLocale(){return PS}static set defaultLocale(i){PS=i}static get defaultNumberingSystem(){return OS}static set defaultNumberingSystem(i){OS=i}static get defaultOutputCalendar(){return zS}static set defaultOutputCalendar(i){zS=i}static get twoDigitCutoffYear(){return LS}static set twoDigitCutoffYear(i){LS=i%100}static get throwOnInvalid(){return jS}static set throwOnInvalid(i){jS=i}static resetCaches(){ct.resetCache(),_o.resetCache()}}function Se(r){return typeof r>"u"}function ss(r){return typeof r=="number"}function Af(r){return typeof r=="number"&&r%1===0}function Vq(r){return typeof r=="string"}function Uq(r){return Object.prototype.toString.call(r)==="[object Date]"}function AI(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Hq(r){return Array.isArray(r)?r:[r]}function RS(r,i,a){if(r.length!==0)return r.reduce((l,u)=>{const f=[i(u),u];return l&&a(l[0],f[0])===l[0]?l:f},null)[1]}function $q(r,i){return i.reduce((a,l)=>(a[l]=r[l],a),{})}function xa(r,i){return Object.prototype.hasOwnProperty.call(r,i)}function fo(r,i,a){return Af(r)&&r>=i&&r<=a}function Wq(r,i){return r-i*Math.floor(r/i)}function Mt(r,i=2){const a=r<0;let l;return a?l="-"+(""+-r).padStart(i,"0"):l=(""+r).padStart(i,"0"),l}function Go(r){if(!(Se(r)||r===null||r===""))return parseInt(r,10)}function Hr(r){if(!(Se(r)||r===null||r===""))return parseFloat(r)}function av(r){if(!(Se(r)||r===null||r==="")){const i=parseFloat("0."+r)*1e3;return Math.floor(i)}}function cv(r,i,a=!1){const l=10**i;return(a?Math.trunc:Math.round)(r*l)/l}function Gl(r){return r%4===0&&(r%100!==0||r%400===0)}function fl(r){return Gl(r)?366:365}function Jh(r,i){const a=Wq(i-1,12)+1,l=r+(i-a)/12;return a===2?Gl(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][a-1]}function Cf(r){let i=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(i=new Date(i),i.setUTCFullYear(r.year,r.month-1,r.day)),+i}function Xh(r){const i=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,a=r-1,l=(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7;return i===4||l===3?53:52}function n_(r){return r>99?r:r>It.twoDigitCutoffYear?1900+r:2e3+r}function CI(r,i,a,l=null){const u=new Date(r),f={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(f.timeZone=l);const p={timeZoneName:i,...f},m=new Intl.DateTimeFormat(a,p).formatToParts(u).find(k=>k.type.toLowerCase()==="timezonename");return m?m.value:null}function yf(r,i){let a=parseInt(r,10);Number.isNaN(a)&&(a=0);const l=parseInt(i,10)||0,u=a<0||Object.is(a,-0)?-l:l;return a*60+u}function yI(r){const i=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(i))throw new Xn(`Invalid unit value ${r}`);return i}function ef(r,i){const a={};for(const l in r)if(xa(r,l)){const u=r[l];if(u==null)continue;a[i(l)]=yI(u)}return a}function pl(r,i){const a=Math.trunc(Math.abs(r/60)),l=Math.trunc(Math.abs(r%60)),u=r>=0?"+":"-";switch(i){case"short":return`${u}${Mt(a,2)}:${Mt(l,2)}`;case"narrow":return`${u}${a}${l>0?`:${l}`:""}`;case"techie":return`${u}${Mt(a,2)}${Mt(l,2)}`;default:throw new RangeError(`Value format ${i} is out of range for property format`)}}function xf(r){return $q(r,["hour","minute","second","millisecond"])}const Gq=["January","February","March","April","May","June","July","August","September","October","November","December"],xI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qq=["J","F","M","A","M","J","J","A","S","O","N","D"];function EI(r){switch(r){case"narrow":return[...qq];case"short":return[...xI];case"long":return[...Gq];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const SI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],DI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Kq=["M","T","W","T","F","S","S"];function TI(r){switch(r){case"narrow":return[...Kq];case"short":return[...DI];case"long":return[...SI];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const II=["AM","PM"],Zq=["Before Christ","Anno Domini"],Yq=["BC","AD"],Qq=["B","A"];function MI(r){switch(r){case"narrow":return[...Qq];case"short":return[...Yq];case"long":return[...Zq];default:return null}}function Jq(r){return II[r.hour<12?0:1]}function Xq(r,i){return TI(i)[r.weekday-1]}function eK(r,i){return EI(i)[r.month-1]}function tK(r,i){return MI(i)[r.year<0?0:1]}function nK(r,i,a="always",l=!1){const u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},f=["hours","minutes","seconds"].indexOf(r)===-1;if(a==="auto"&&f){const _=r==="days";switch(i){case 1:return _?"tomorrow":`next ${u[r][0]}`;case-1:return _?"yesterday":`last ${u[r][0]}`;case 0:return _?"today":`this ${u[r][0]}`}}const p=Object.is(i,-0)||i<0,m=Math.abs(i),k=m===1,w=u[r],C=l?k?w[1]:w[2]||w[1]:k?u[r][0]:r;return p?`${m} ${C} ago`:`in ${m} ${C}`}function FS(r,i){let a="";for(const l of r)l.literal?a+=l.val:a+=i(l.val);return a}const iK={D:Qh,DD:iI,DDD:oI,DDDD:rI,t:sI,tt:aI,ttt:cI,tttt:lI,T:dI,TT:uI,TTT:hI,TTTT:fI,f:pI,ff:mI,fff:bI,ffff:_I,F:gI,FF:kI,FFF:wI,FFFF:vI};class rn{static create(i,a={}){return new rn(i,a)}static parseFormat(i){let a=null,l="",u=!1;const f=[];for(let p=0;p<i.length;p++){const m=i.charAt(p);m==="'"?(l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),a=null,l="",u=!u):u||m===a?l+=m:(l.length>0&&f.push({literal:/^\s+$/.test(l),val:l}),l=m,a=m)}return l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),f}static macroTokenToFormatOpts(i){return iK[i]}constructor(i,a){this.opts=a,this.loc=i,this.systemLoc=null}formatWithSystemDefault(i,a){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(i,{...this.opts,...a}).format()}dtFormatter(i,a={}){return this.loc.dtFormatter(i,{...this.opts,...a})}formatDateTime(i,a){return this.dtFormatter(i,a).format()}formatDateTimeParts(i,a){return this.dtFormatter(i,a).formatToParts()}formatInterval(i,a){return this.dtFormatter(i.start,a).dtf.formatRange(i.start.toJSDate(),i.end.toJSDate())}resolvedOptions(i,a){return this.dtFormatter(i,a).resolvedOptions()}num(i,a=0){if(this.opts.forceSimple)return Mt(i,a);const l={...this.opts};return a>0&&(l.padTo=a),this.loc.numberFormatter(l).format(i)}formatDateTimeFromString(i,a){const l=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",f=(x,S)=>this.loc.extract(i,x,S),p=x=>i.isOffsetFixed&&i.offset===0&&x.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,x.format):"",m=()=>l?Jq(i):f({hour:"numeric",hourCycle:"h12"},"dayperiod"),k=(x,S)=>l?eK(i,x):f(S?{month:x}:{month:x,day:"numeric"},"month"),w=(x,S)=>l?Xq(i,x):f(S?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),C=x=>{const S=rn.macroTokenToFormatOpts(x);return S?this.formatWithSystemDefault(i,S):x},_=x=>l?tK(i,x):f({era:x},"era"),A=x=>{switch(x){case"S":return this.num(i.millisecond);case"u":case"SSS":return this.num(i.millisecond,3);case"s":return this.num(i.second);case"ss":return this.num(i.second,2);case"uu":return this.num(Math.floor(i.millisecond/10),2);case"uuu":return this.num(Math.floor(i.millisecond/100));case"m":return this.num(i.minute);case"mm":return this.num(i.minute,2);case"h":return this.num(i.hour%12===0?12:i.hour%12);case"hh":return this.num(i.hour%12===0?12:i.hour%12,2);case"H":return this.num(i.hour);case"HH":return this.num(i.hour,2);case"Z":return p({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return p({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return p({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:this.loc.locale});case"z":return i.zoneName;case"a":return m();case"d":return u?f({day:"numeric"},"day"):this.num(i.day);case"dd":return u?f({day:"2-digit"},"day"):this.num(i.day,2);case"c":return this.num(i.weekday);case"ccc":return w("short",!0);case"cccc":return w("long",!0);case"ccccc":return w("narrow",!0);case"E":return this.num(i.weekday);case"EEE":return w("short",!1);case"EEEE":return w("long",!1);case"EEEEE":return w("narrow",!1);case"L":return u?f({month:"numeric",day:"numeric"},"month"):this.num(i.month);case"LL":return u?f({month:"2-digit",day:"numeric"},"month"):this.num(i.month,2);case"LLL":return k("short",!0);case"LLLL":return k("long",!0);case"LLLLL":return k("narrow",!0);case"M":return u?f({month:"numeric"},"month"):this.num(i.month);case"MM":return u?f({month:"2-digit"},"month"):this.num(i.month,2);case"MMM":return k("short",!1);case"MMMM":return k("long",!1);case"MMMMM":return k("narrow",!1);case"y":return u?f({year:"numeric"},"year"):this.num(i.year);case"yy":return u?f({year:"2-digit"},"year"):this.num(i.year.toString().slice(-2),2);case"yyyy":return u?f({year:"numeric"},"year"):this.num(i.year,4);case"yyyyyy":return u?f({year:"numeric"},"year"):this.num(i.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(i.weekYear.toString().slice(-2),2);case"kkkk":return this.num(i.weekYear,4);case"W":return this.num(i.weekNumber);case"WW":return this.num(i.weekNumber,2);case"o":return this.num(i.ordinal);case"ooo":return this.num(i.ordinal,3);case"q":return this.num(i.quarter);case"qq":return this.num(i.quarter,2);case"X":return this.num(Math.floor(i.ts/1e3));case"x":return this.num(i.ts);default:return C(x)}};return FS(rn.parseFormat(a),A)}formatDurationFromString(i,a){const l=k=>{switch(k[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=k=>w=>{const C=l(w);return C?this.num(k.get(C),w.length):w},f=rn.parseFormat(a),p=f.reduce((k,{literal:w,val:C})=>w?k:k.concat(C),[]),m=i.shiftTo(...p.map(l).filter(k=>k));return FS(f,u(m))}}class _i{constructor(i,a){this.reason=i,this.explanation=a}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const NI=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ba(...r){const i=r.reduce((a,l)=>a+l.source,"");return RegExp(`^${i}$`)}function Pa(...r){return i=>r.reduce(([a,l,u],f)=>{const[p,m,k]=f(i,u);return[{...a,...p},m||l,k]},[{},null,1]).slice(0,2)}function Oa(r,...i){if(r==null)return[null,null];for(const[a,l]of i){const u=a.exec(r);if(u)return l(u)}return[null,null]}function BI(...r){return(i,a)=>{const l={};let u;for(u=0;u<r.length;u++)l[r[u]]=Go(i[a+u]);return[l,null,a+u]}}const PI=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,oK=`(?:${PI.source}?(?:\\[(${NI.source})\\])?)?`,lv=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,OI=RegExp(`${lv.source}${oK}`),dv=RegExp(`(?:T${OI.source})?`),rK=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,sK=/(\d{4})-?W(\d\d)(?:-?(\d))?/,aK=/(\d{4})-?(\d{3})/,cK=BI("weekYear","weekNumber","weekDay"),lK=BI("year","ordinal"),dK=/(\d{4})-(\d\d)-(\d\d)/,zI=RegExp(`${lv.source} ?(?:${PI.source}|(${NI.source}))?`),uK=RegExp(`(?: ${zI.source})?`);function ka(r,i,a){const l=r[i];return Se(l)?a:Go(l)}function hK(r,i){return[{year:ka(r,i),month:ka(r,i+1,1),day:ka(r,i+2,1)},null,i+3]}function za(r,i){return[{hours:ka(r,i,0),minutes:ka(r,i+1,0),seconds:ka(r,i+2,0),milliseconds:av(r[i+3])},null,i+4]}function ql(r,i){const a=!r[i]&&!r[i+1],l=yf(r[i+1],r[i+2]),u=a?null:ln.instance(l);return[{},u,i+3]}function Kl(r,i){const a=r[i]?_o.create(r[i]):null;return[{},a,i+1]}const fK=RegExp(`^T?${lv.source}$`),pK=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function gK(r){const[i,a,l,u,f,p,m,k,w]=r,C=i[0]==="-",_=k&&k[0]==="-",A=(x,S=!1)=>x!==void 0&&(S||x&&C)?-x:x;return[{years:A(Hr(a)),months:A(Hr(l)),weeks:A(Hr(u)),days:A(Hr(f)),hours:A(Hr(p)),minutes:A(Hr(m)),seconds:A(Hr(k),k==="-0"),milliseconds:A(av(w),_)}]}const mK={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uv(r,i,a,l,u,f,p){const m={year:i.length===2?n_(Go(i)):Go(i),month:xI.indexOf(a)+1,day:Go(l),hour:Go(u),minute:Go(f)};return p&&(m.second=Go(p)),r&&(m.weekday=r.length>3?SI.indexOf(r)+1:DI.indexOf(r)+1),m}const kK=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function bK(r){const[,i,a,l,u,f,p,m,k,w,C,_]=r,A=uv(i,u,l,a,f,p,m);let x;return k?x=mK[k]:w?x=0:x=yf(C,_),[A,new ln(x)]}function wK(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const _K=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,vK=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,AK=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function VS(r){const[,i,a,l,u,f,p,m]=r;return[uv(i,u,l,a,f,p,m),ln.utcInstance]}function CK(r){const[,i,a,l,u,f,p,m]=r;return[uv(i,m,a,l,u,f,p),ln.utcInstance]}const yK=Ba(rK,dv),xK=Ba(sK,dv),EK=Ba(aK,dv),SK=Ba(OI),LI=Pa(hK,za,ql,Kl),DK=Pa(cK,za,ql,Kl),TK=Pa(lK,za,ql,Kl),IK=Pa(za,ql,Kl);function MK(r){return Oa(r,[yK,LI],[xK,DK],[EK,TK],[SK,IK])}function NK(r){return Oa(wK(r),[kK,bK])}function BK(r){return Oa(r,[_K,VS],[vK,VS],[AK,CK])}function PK(r){return Oa(r,[pK,gK])}const OK=Pa(za);function zK(r){return Oa(r,[fK,OK])}const LK=Ba(dK,uK),jK=Ba(zI),RK=Pa(za,ql,Kl);function FK(r){return Oa(r,[LK,LI],[jK,RK])}const US="Invalid Duration",jI={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},VK={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jI},Zn=146097/400,Ws=146097/4800,UK={years:{quarters:4,months:12,weeks:Zn/7,days:Zn,hours:Zn*24,minutes:Zn*24*60,seconds:Zn*24*60*60,milliseconds:Zn*24*60*60*1e3},quarters:{months:3,weeks:Zn/28,days:Zn/4,hours:Zn*24/4,minutes:Zn*24*60/4,seconds:Zn*24*60*60/4,milliseconds:Zn*24*60*60*1e3/4},months:{weeks:Ws/7,days:Ws,hours:Ws*24,minutes:Ws*24*60,seconds:Ws*24*60*60,milliseconds:Ws*24*60*60*1e3},...jI},is=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],HK=is.slice(0).reverse();function Uo(r,i,a=!1){const l={values:a?i.values:{...r.values,...i.values||{}},loc:r.loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||r.conversionAccuracy,matrix:i.matrix||r.matrix};return new Ne(l)}function RI(r,i){let a=i.milliseconds??0;for(const l of HK.slice(1))i[l]&&(a+=i[l]*r[l].milliseconds);return a}function HS(r,i){const a=RI(r,i)<0?-1:1;is.reduceRight((l,u)=>{if(Se(i[u]))return l;if(l){const f=i[l]*a,p=r[u][l],m=Math.floor(f/p);i[u]+=m*a,i[l]-=m*p*a}return u},null),is.reduce((l,u)=>{if(Se(i[u]))return l;if(l){const f=i[l]%1;i[l]-=f,i[u]+=f*r[l][u]}return u},null)}function $K(r){const i={};for(const[a,l]of Object.entries(r))l!==0&&(i[a]=l);return i}class Ne{constructor(i){const a=i.conversionAccuracy==="longterm"||!1;let l=a?UK:VK;i.matrix&&(l=i.matrix),this.values=i.values,this.loc=i.loc||ct.create(),this.conversionAccuracy=a?"longterm":"casual",this.invalid=i.invalid||null,this.matrix=l,this.isLuxonDuration=!0}static fromMillis(i,a){return Ne.fromObject({milliseconds:i},a)}static fromObject(i,a={}){if(i==null||typeof i!="object")throw new Xn(`Duration.fromObject: argument expected to be an object, got ${i===null?"null":typeof i}`);return new Ne({values:ef(i,Ne.normalizeUnit),loc:ct.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static fromDurationLike(i){if(ss(i))return Ne.fromMillis(i);if(Ne.isDuration(i))return i;if(typeof i=="object")return Ne.fromObject(i);throw new Xn(`Unknown duration argument ${i} of type ${typeof i}`)}static fromISO(i,a){const[l]=PK(i);return l?Ne.fromObject(l,a):Ne.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromISOTime(i,a){const[l]=zK(i);return l?Ne.fromObject(l,a):Ne.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static invalid(i,a=null){if(!i)throw new Xn("need to specify a reason the Duration is invalid");const l=i instanceof _i?i:new _i(i,a);if(It.throwOnInvalid)throw new vq(l);return new Ne({invalid:l})}static normalizeUnit(i){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!a)throw new nI(i);return a}static isDuration(i){return i&&i.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(i,a={}){const l={...a,floor:a.round!==!1&&a.floor!==!1};return this.isValid?rn.create(this.loc,l).formatDurationFromString(this,i):US}toHuman(i={}){if(!this.isValid)return US;const a=is.map(l=>{const u=this.values[l];return Se(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...i,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:i.listStyle||"narrow",...i}).format(a)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let i="P";return this.years!==0&&(i+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(i+=this.months+this.quarters*3+"M"),this.weeks!==0&&(i+=this.weeks+"W"),this.days!==0&&(i+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(i+="T"),this.hours!==0&&(i+=this.hours+"H"),this.minutes!==0&&(i+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(i+=cv(this.seconds+this.milliseconds/1e3,3)+"S"),i==="P"&&(i+="T0S"),i}toISOTime(i={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(i={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...i,includeOffset:!1},ve.fromMillis(a,{zone:"UTC"}).toISOTime(i))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?RI(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(i){if(!this.isValid)return this;const a=Ne.fromDurationLike(i),l={};for(const u of is)(xa(a.values,u)||xa(this.values,u))&&(l[u]=a.get(u)+this.get(u));return Uo(this,{values:l},!0)}minus(i){if(!this.isValid)return this;const a=Ne.fromDurationLike(i);return this.plus(a.negate())}mapUnits(i){if(!this.isValid)return this;const a={};for(const l of Object.keys(this.values))a[l]=yI(i(this.values[l],l));return Uo(this,{values:a},!0)}get(i){return this[Ne.normalizeUnit(i)]}set(i){if(!this.isValid)return this;const a={...this.values,...ef(i,Ne.normalizeUnit)};return Uo(this,{values:a})}reconfigure({locale:i,numberingSystem:a,conversionAccuracy:l,matrix:u}={}){const p={loc:this.loc.clone({locale:i,numberingSystem:a}),matrix:u,conversionAccuracy:l};return Uo(this,p)}as(i){return this.isValid?this.shiftTo(i).get(i):NaN}normalize(){if(!this.isValid)return this;const i=this.toObject();return HS(this.matrix,i),Uo(this,{values:i},!0)}rescale(){if(!this.isValid)return this;const i=$K(this.normalize().shiftToAll().toObject());return Uo(this,{values:i},!0)}shiftTo(...i){if(!this.isValid)return this;if(i.length===0)return this;i=i.map(p=>Ne.normalizeUnit(p));const a={},l={},u=this.toObject();let f;for(const p of is)if(i.indexOf(p)>=0){f=p;let m=0;for(const w in l)m+=this.matrix[w][p]*l[w],l[w]=0;ss(u[p])&&(m+=u[p]);const k=Math.trunc(m);a[p]=k,l[p]=(m*1e3-k*1e3)/1e3}else ss(u[p])&&(l[p]=u[p]);for(const p in l)l[p]!==0&&(a[f]+=p===f?l[p]:l[p]/this.matrix[f][p]);return HS(this.matrix,a),Uo(this,{values:a},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const i={};for(const a of Object.keys(this.values))i[a]=this.values[a]===0?0:-this.values[a];return Uo(this,{values:i},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function a(l,u){return l===void 0||l===0?u===void 0||u===0:l===u}for(const l of is)if(!a(this.values[l],i.values[l]))return!1;return!0}}const Gs="Invalid Interval";function WK(r,i){return!r||!r.isValid?wt.invalid("missing or invalid start"):!i||!i.isValid?wt.invalid("missing or invalid end"):i<r?wt.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${i.toISO()}`):null}class wt{constructor(i){this.s=i.start,this.e=i.end,this.invalid=i.invalid||null,this.isLuxonInterval=!0}static invalid(i,a=null){if(!i)throw new Xn("need to specify a reason the Interval is invalid");const l=i instanceof _i?i:new _i(i,a);if(It.throwOnInvalid)throw new _q(l);return new wt({invalid:l})}static fromDateTimes(i,a){const l=Kc(i),u=Kc(a),f=WK(l,u);return f??new wt({start:l,end:u})}static after(i,a){const l=Ne.fromDurationLike(a),u=Kc(i);return wt.fromDateTimes(u,u.plus(l))}static before(i,a){const l=Ne.fromDurationLike(a),u=Kc(i);return wt.fromDateTimes(u.minus(l),u)}static fromISO(i,a){const[l,u]=(i||"").split("/",2);if(l&&u){let f,p;try{f=ve.fromISO(l,a),p=f.isValid}catch{p=!1}let m,k;try{m=ve.fromISO(u,a),k=m.isValid}catch{k=!1}if(p&&k)return wt.fromDateTimes(f,m);if(p){const w=Ne.fromISO(u,a);if(w.isValid)return wt.after(f,w)}else if(k){const w=Ne.fromISO(l,a);if(w.isValid)return wt.before(m,w)}}return wt.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static isInterval(i){return i&&i.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(i="milliseconds"){return this.isValid?this.toDuration(i).get(i):NaN}count(i="milliseconds"){if(!this.isValid)return NaN;const a=this.start.startOf(i),l=this.end.startOf(i);return Math.floor(l.diff(a,i).get(i))+(l.valueOf()!==this.end.valueOf())}hasSame(i){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,i):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(i){return this.isValid?this.s>i:!1}isBefore(i){return this.isValid?this.e<=i:!1}contains(i){return this.isValid?this.s<=i&&this.e>i:!1}set({start:i,end:a}={}){return this.isValid?wt.fromDateTimes(i||this.s,a||this.e):this}splitAt(...i){if(!this.isValid)return[];const a=i.map(Kc).filter(p=>this.contains(p)).sort(),l=[];let{s:u}=this,f=0;for(;u<this.e;){const p=a[f]||this.e,m=+p>+this.e?this.e:p;l.push(wt.fromDateTimes(u,m)),u=m,f+=1}return l}splitBy(i){const a=Ne.fromDurationLike(i);if(!this.isValid||!a.isValid||a.as("milliseconds")===0)return[];let{s:l}=this,u=1,f;const p=[];for(;l<this.e;){const m=this.start.plus(a.mapUnits(k=>k*u));f=+m>+this.e?this.e:m,p.push(wt.fromDateTimes(l,f)),l=f,u+=1}return p}divideEqually(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]}overlaps(i){return this.e>i.s&&this.s<i.e}abutsStart(i){return this.isValid?+this.e==+i.s:!1}abutsEnd(i){return this.isValid?+i.e==+this.s:!1}engulfs(i){return this.isValid?this.s<=i.s&&this.e>=i.e:!1}equals(i){return!this.isValid||!i.isValid?!1:this.s.equals(i.s)&&this.e.equals(i.e)}intersection(i){if(!this.isValid)return this;const a=this.s>i.s?this.s:i.s,l=this.e<i.e?this.e:i.e;return a>=l?null:wt.fromDateTimes(a,l)}union(i){if(!this.isValid)return this;const a=this.s<i.s?this.s:i.s,l=this.e>i.e?this.e:i.e;return wt.fromDateTimes(a,l)}static merge(i){const[a,l]=i.sort((u,f)=>u.s-f.s).reduce(([u,f],p)=>f?f.overlaps(p)||f.abutsStart(p)?[u,f.union(p)]:[u.concat([f]),p]:[u,p],[[],null]);return l&&a.push(l),a}static xor(i){let a=null,l=0;const u=[],f=i.map(k=>[{time:k.s,type:"s"},{time:k.e,type:"e"}]),p=Array.prototype.concat(...f),m=p.sort((k,w)=>k.time-w.time);for(const k of m)l+=k.type==="s"?1:-1,l===1?a=k.time:(a&&+a!=+k.time&&u.push(wt.fromDateTimes(a,k.time)),a=null);return wt.merge(u)}difference(...i){return wt.xor([this].concat(i)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Gs}toLocaleString(i=Qh,a={}){return this.isValid?rn.create(this.s.loc.clone(a),i).formatInterval(this):Gs}toISO(i){return this.isValid?`${this.s.toISO(i)}/${this.e.toISO(i)}`:Gs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Gs}toISOTime(i){return this.isValid?`${this.s.toISOTime(i)}/${this.e.toISOTime(i)}`:Gs}toFormat(i,{separator:a="  "}={}){return this.isValid?`${this.s.toFormat(i)}${a}${this.e.toFormat(i)}`:Gs}toDuration(i,a){return this.isValid?this.e.diff(this.s,i,a):Ne.invalid(this.invalidReason)}mapEndpoints(i){return wt.fromDateTimes(i(this.s),i(this.e))}}class eh{static hasDST(i=It.defaultZone){const a=ve.now().setZone(i).set({month:12});return!i.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(i){return _o.isValidZone(i)}static normalizeZone(i){return Yo(i,It.defaultZone)}static months(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ct.create(a,l,f)).months(i)}static monthsFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ct.create(a,l,f)).months(i,!0)}static weekdays(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ct.create(a,l,null)).weekdays(i)}static weekdaysFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ct.create(a,l,null)).weekdays(i,!0)}static meridiems({locale:i=null}={}){return ct.create(i).meridiems()}static eras(i="short",{locale:a=null}={}){return ct.create(a,null,"gregory").eras(i)}static features(){return{relative:AI()}}}function $S(r,i){const a=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=a(i)-a(r);return Math.floor(Ne.fromMillis(l).as("days"))}function GK(r,i,a){const l=[["years",(k,w)=>w.year-k.year],["quarters",(k,w)=>w.quarter-k.quarter+(w.year-k.year)*4],["months",(k,w)=>w.month-k.month+(w.year-k.year)*12],["weeks",(k,w)=>{const C=$S(k,w);return(C-C%7)/7}],["days",$S]],u={},f=r;let p,m;for(const[k,w]of l)a.indexOf(k)>=0&&(p=k,u[k]=w(r,i),m=f.plus(u),m>i?(u[k]--,r=f.plus(u),r>i&&(m=r,u[k]--,r=f.plus(u))):r=m);return[r,u,m,p]}function qK(r,i,a,l){let[u,f,p,m]=GK(r,i,a);const k=i-u,w=a.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);w.length===0&&(p<i&&(p=u.plus({[m]:1})),p!==u&&(f[m]=(f[m]||0)+k/(p-u)));const C=Ne.fromObject(f,l);return w.length>0?Ne.fromMillis(k,l).shiftTo(...w).plus(C):C}const hv={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},WS={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},KK=hv.hanidec.replace(/[\[|\]]/g,"").split("");function ZK(r){let i=parseInt(r,10);if(isNaN(i)){i="";for(let a=0;a<r.length;a++){const l=r.charCodeAt(a);if(r[a].search(hv.hanidec)!==-1)i+=KK.indexOf(r[a]);else for(const u in WS){const[f,p]=WS[u];l>=f&&l<=p&&(i+=l-f)}}return parseInt(i,10)}else return i}function pi({numberingSystem:r},i=""){return new RegExp(`${hv[r||"latn"]}${i}`)}const YK="missing Intl.DateTimeFormat.formatToParts support";function ze(r,i=a=>a){return{regex:r,deser:([a])=>i(ZK(a))}}const QK=String.fromCharCode(160),FI=`[ ${QK}]`,VI=new RegExp(FI,"g");function JK(r){return r.replace(/\./g,"\\.?").replace(VI,FI)}function GS(r){return r.replace(/\./g,"").replace(VI," ").toLowerCase()}function gi(r,i){return r===null?null:{regex:RegExp(r.map(JK).join("|")),deser:([a])=>r.findIndex(l=>GS(a)===GS(l))+i}}function qS(r,i){return{regex:r,deser:([,a,l])=>yf(a,l),groups:i}}function th(r){return{regex:r,deser:([i])=>i}}function XK(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function eZ(r,i){const a=pi(i),l=pi(i,"{2}"),u=pi(i,"{3}"),f=pi(i,"{4}"),p=pi(i,"{6}"),m=pi(i,"{1,2}"),k=pi(i,"{1,3}"),w=pi(i,"{1,6}"),C=pi(i,"{1,9}"),_=pi(i,"{2,4}"),A=pi(i,"{4,6}"),x=O=>({regex:RegExp(XK(O.val)),deser:([M])=>M,literal:!0}),T=(O=>{if(r.literal)return x(O);switch(O.val){case"G":return gi(i.eras("short"),0);case"GG":return gi(i.eras("long"),0);case"y":return ze(w);case"yy":return ze(_,n_);case"yyyy":return ze(f);case"yyyyy":return ze(A);case"yyyyyy":return ze(p);case"M":return ze(m);case"MM":return ze(l);case"MMM":return gi(i.months("short",!0),1);case"MMMM":return gi(i.months("long",!0),1);case"L":return ze(m);case"LL":return ze(l);case"LLL":return gi(i.months("short",!1),1);case"LLLL":return gi(i.months("long",!1),1);case"d":return ze(m);case"dd":return ze(l);case"o":return ze(k);case"ooo":return ze(u);case"HH":return ze(l);case"H":return ze(m);case"hh":return ze(l);case"h":return ze(m);case"mm":return ze(l);case"m":return ze(m);case"q":return ze(m);case"qq":return ze(l);case"s":return ze(m);case"ss":return ze(l);case"S":return ze(k);case"SSS":return ze(u);case"u":return th(C);case"uu":return th(m);case"uuu":return ze(a);case"a":return gi(i.meridiems(),0);case"kkkk":return ze(f);case"kk":return ze(_,n_);case"W":return ze(m);case"WW":return ze(l);case"E":case"c":return ze(a);case"EEE":return gi(i.weekdays("short",!1),1);case"EEEE":return gi(i.weekdays("long",!1),1);case"ccc":return gi(i.weekdays("short",!0),1);case"cccc":return gi(i.weekdays("long",!0),1);case"Z":case"ZZ":return qS(new RegExp(`([+-]${m.source})(?::(${l.source}))?`),2);case"ZZZ":return qS(new RegExp(`([+-]${m.source})(${l.source})?`),2);case"z":return th(/[a-z_+-/]{1,256}?/i);case" ":return th(/[^\S\n\r]/);default:return x(O)}})(r)||{invalidReason:YK};return T.token=r,T}const tZ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function nZ(r,i,a){const{type:l,value:u}=r;if(l==="literal"){const k=/^\s+$/.test(u);return{literal:!k,val:k?" ":u}}const f=i[l];let p=l;l==="hour"&&(i.hour12!=null?p=i.hour12?"hour12":"hour24":i.hourCycle!=null?i.hourCycle==="h11"||i.hourCycle==="h12"?p="hour12":p="hour24":p=a.hour12?"hour12":"hour24");let m=tZ[p];if(typeof m=="object"&&(m=m[f]),m)return{literal:!1,val:m}}function iZ(r){return[`^${r.map(a=>a.regex).reduce((a,l)=>`${a}(${l.source})`,"")}$`,r]}function oZ(r,i,a){const l=r.match(i);if(l){const u={};let f=1;for(const p in a)if(xa(a,p)){const m=a[p],k=m.groups?m.groups+1:1;!m.literal&&m.token&&(u[m.token.val[0]]=m.deser(l.slice(f,f+k))),f+=k}return[l,u]}else return[l,{}]}function rZ(r){const i=f=>{switch(f){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let a=null,l;return Se(r.z)||(a=_o.create(r.z)),Se(r.Z)||(a||(a=new ln(r.Z)),l=r.Z),Se(r.q)||(r.M=(r.q-1)*3+1),Se(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),Se(r.u)||(r.S=av(r.u)),[Object.keys(r).reduce((f,p)=>{const m=i(p);return m&&(f[m]=r[p]),f},{}),a,l]}let Rb=null;function sZ(){return Rb||(Rb=ve.fromMillis(1555555555555)),Rb}function aZ(r,i){if(r.literal)return r;const a=rn.macroTokenToFormatOpts(r.val),l=$I(a,i);return l==null||l.includes(void 0)?r:l}function UI(r,i){return Array.prototype.concat(...r.map(a=>aZ(a,i)))}function HI(r,i,a){const l=UI(rn.parseFormat(a),r),u=l.map(p=>eZ(p,r)),f=u.find(p=>p.invalidReason);if(f)return{input:i,tokens:l,invalidReason:f.invalidReason};{const[p,m]=iZ(u),k=RegExp(p,"i"),[w,C]=oZ(i,k,m),[_,A,x]=C?rZ(C):[null,null,void 0];if(xa(C,"a")&&xa(C,"H"))throw new el("Can't include meridiem when specifying 24-hour format");return{input:i,tokens:l,regex:k,rawMatches:w,matches:C,result:_,zone:A,specificOffset:x}}}function cZ(r,i,a){const{result:l,zone:u,specificOffset:f,invalidReason:p}=HI(r,i,a);return[l,u,f,p]}function $I(r,i){if(!r)return null;const l=rn.create(i,r).dtFormatter(sZ()),u=l.formatToParts(),f=l.resolvedOptions();return u.map(p=>nZ(p,r,f))}const WI=[0,31,59,90,120,151,181,212,243,273,304,334],GI=[0,31,60,91,121,152,182,213,244,274,305,335];function ti(r,i){return new _i("unit out of range",`you specified ${i} (of type ${typeof i}) as a ${r}, which is invalid`)}function qI(r,i,a){const l=new Date(Date.UTC(r,i-1,a));r<100&&r>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const u=l.getUTCDay();return u===0?7:u}function KI(r,i,a){return a+(Gl(r)?GI:WI)[i-1]}function ZI(r,i){const a=Gl(r)?GI:WI,l=a.findIndex(f=>f<i),u=i-a[l];return{month:l+1,day:u}}function i_(r){const{year:i,month:a,day:l}=r,u=KI(i,a,l),f=qI(i,a,l);let p=Math.floor((u-f+10)/7),m;return p<1?(m=i-1,p=Xh(m)):p>Xh(i)?(m=i+1,p=1):m=i,{weekYear:m,weekNumber:p,weekday:f,...xf(r)}}function KS(r){const{weekYear:i,weekNumber:a,weekday:l}=r,u=qI(i,1,4),f=fl(i);let p=a*7+l-u-3,m;p<1?(m=i-1,p+=fl(m)):p>f?(m=i+1,p-=fl(i)):m=i;const{month:k,day:w}=ZI(m,p);return{year:m,month:k,day:w,...xf(r)}}function Fb(r){const{year:i,month:a,day:l}=r,u=KI(i,a,l);return{year:i,ordinal:u,...xf(r)}}function ZS(r){const{year:i,ordinal:a}=r,{month:l,day:u}=ZI(i,a);return{year:i,month:l,day:u,...xf(r)}}function lZ(r){const i=Af(r.weekYear),a=fo(r.weekNumber,1,Xh(r.weekYear)),l=fo(r.weekday,1,7);return i?a?l?!1:ti("weekday",r.weekday):ti("week",r.week):ti("weekYear",r.weekYear)}function dZ(r){const i=Af(r.year),a=fo(r.ordinal,1,fl(r.year));return i?a?!1:ti("ordinal",r.ordinal):ti("year",r.year)}function YI(r){const i=Af(r.year),a=fo(r.month,1,12),l=fo(r.day,1,Jh(r.year,r.month));return i?a?l?!1:ti("day",r.day):ti("month",r.month):ti("year",r.year)}function QI(r){const{hour:i,minute:a,second:l,millisecond:u}=r,f=fo(i,0,23)||i===24&&a===0&&l===0&&u===0,p=fo(a,0,59),m=fo(l,0,59),k=fo(u,0,999);return f?p?m?k?!1:ti("millisecond",u):ti("second",l):ti("minute",a):ti("hour",i)}const Vb="Invalid DateTime",YS=864e13;function nh(r){return new _i("unsupported zone",`the zone "${r.name}" is not supported`)}function Ub(r){return r.weekData===null&&(r.weekData=i_(r.c)),r.weekData}function $r(r,i){const a={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new ve({...a,...i,old:a})}function JI(r,i,a){let l=r-i*60*1e3;const u=a.offset(l);if(i===u)return[l,i];l-=(u-i)*60*1e3;const f=a.offset(l);return u===f?[l,u]:[r-Math.min(u,f)*60*1e3,Math.max(u,f)]}function ih(r,i){r+=i*60*1e3;const a=new Date(r);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function Ah(r,i,a){return JI(Cf(r),i,a)}function QS(r,i){const a=r.o,l=r.c.year+Math.trunc(i.years),u=r.c.month+Math.trunc(i.months)+Math.trunc(i.quarters)*3,f={...r.c,year:l,month:u,day:Math.min(r.c.day,Jh(l,u))+Math.trunc(i.days)+Math.trunc(i.weeks)*7},p=Ne.fromObject({years:i.years-Math.trunc(i.years),quarters:i.quarters-Math.trunc(i.quarters),months:i.months-Math.trunc(i.months),weeks:i.weeks-Math.trunc(i.weeks),days:i.days-Math.trunc(i.days),hours:i.hours,minutes:i.minutes,seconds:i.seconds,milliseconds:i.milliseconds}).as("milliseconds"),m=Cf(f);let[k,w]=JI(m,a,r.zone);return p!==0&&(k+=p,w=r.zone.offset(k)),{ts:k,o:w}}function qc(r,i,a,l,u,f){const{setZone:p,zone:m}=a;if(r&&Object.keys(r).length!==0||i){const k=i||m,w=ve.fromObject(r,{...a,zone:k,specificOffset:f});return p?w:w.setZone(m)}else return ve.invalid(new _i("unparsable",`the input "${u}" can't be parsed as ${l}`))}function oh(r,i,a=!0){return r.isValid?rn.create(ct.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(r,i):null}function Hb(r,i){const a=r.c.year>9999||r.c.year<0;let l="";return a&&r.c.year>=0&&(l+="+"),l+=Mt(r.c.year,a?6:4),i?(l+="-",l+=Mt(r.c.month),l+="-",l+=Mt(r.c.day)):(l+=Mt(r.c.month),l+=Mt(r.c.day)),l}function JS(r,i,a,l,u,f){let p=Mt(r.c.hour);return i?(p+=":",p+=Mt(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!a)&&(p+=":")):p+=Mt(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!a)&&(p+=Mt(r.c.second),(r.c.millisecond!==0||!l)&&(p+=".",p+=Mt(r.c.millisecond,3))),u&&(r.isOffsetFixed&&r.offset===0&&!f?p+="Z":r.o<0?(p+="-",p+=Mt(Math.trunc(-r.o/60)),p+=":",p+=Mt(Math.trunc(-r.o%60))):(p+="+",p+=Mt(Math.trunc(r.o/60)),p+=":",p+=Mt(Math.trunc(r.o%60)))),f&&(p+="["+r.zone.ianaName+"]"),p}const XI={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uZ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hZ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},eM=["year","month","day","hour","minute","second","millisecond"],fZ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pZ=["year","ordinal","hour","minute","second","millisecond"];function XS(r){const i={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!i)throw new nI(r);return i}function eD(r,i){const a=Yo(i.zone,It.defaultZone),l=ct.fromObject(i),u=It.now();let f,p;if(Se(r.year))f=u;else{for(const w of eM)Se(r[w])&&(r[w]=XI[w]);const m=YI(r)||QI(r);if(m)return ve.invalid(m);const k=a.offset(u);[f,p]=Ah(r,k,a)}return new ve({ts:f,zone:a,loc:l,o:p})}function tD(r,i,a){const l=Se(a.round)?!0:a.round,u=(p,m)=>(p=cv(p,l||a.calendary?0:2,!0),i.loc.clone(a).relFormatter(a).format(p,m)),f=p=>a.calendary?i.hasSame(r,p)?0:i.startOf(p).diff(r.startOf(p),p).get(p):i.diff(r,p).get(p);if(a.unit)return u(f(a.unit),a.unit);for(const p of a.units){const m=f(p);if(Math.abs(m)>=1)return u(m,p)}return u(r>i?-0:0,a.units[a.units.length-1])}function nD(r){let i={},a;return r.length>0&&typeof r[r.length-1]=="object"?(i=r[r.length-1],a=Array.from(r).slice(0,r.length-1)):a=Array.from(r),[i,a]}class ve{constructor(i){const a=i.zone||It.defaultZone;let l=i.invalid||(Number.isNaN(i.ts)?new _i("invalid input"):null)||(a.isValid?null:nh(a));this.ts=Se(i.ts)?It.now():i.ts;let u=null,f=null;if(!l)if(i.old&&i.old.ts===this.ts&&i.old.zone.equals(a))[u,f]=[i.old.c,i.old.o];else{const m=a.offset(this.ts);u=ih(this.ts,m),l=Number.isNaN(u.year)?new _i("invalid input"):null,u=l?null:u,f=l?null:m}this._zone=a,this.loc=i.loc||ct.create(),this.invalid=l,this.weekData=null,this.c=u,this.o=f,this.isLuxonDateTime=!0}static now(){return new ve({})}static local(){const[i,a]=nD(arguments),[l,u,f,p,m,k,w]=a;return eD({year:l,month:u,day:f,hour:p,minute:m,second:k,millisecond:w},i)}static utc(){const[i,a]=nD(arguments),[l,u,f,p,m,k,w]=a;return i.zone=ln.utcInstance,eD({year:l,month:u,day:f,hour:p,minute:m,second:k,millisecond:w},i)}static fromJSDate(i,a={}){const l=Uq(i)?i.valueOf():NaN;if(Number.isNaN(l))return ve.invalid("invalid input");const u=Yo(a.zone,It.defaultZone);return u.isValid?new ve({ts:l,zone:u,loc:ct.fromObject(a)}):ve.invalid(nh(u))}static fromMillis(i,a={}){if(ss(i))return i<-YS||i>YS?ve.invalid("Timestamp out of range"):new ve({ts:i,zone:Yo(a.zone,It.defaultZone),loc:ct.fromObject(a)});throw new Xn(`fromMillis requires a numerical input, but received a ${typeof i} with value ${i}`)}static fromSeconds(i,a={}){if(ss(i))return new ve({ts:i*1e3,zone:Yo(a.zone,It.defaultZone),loc:ct.fromObject(a)});throw new Xn("fromSeconds requires a numerical input")}static fromObject(i,a={}){i=i||{};const l=Yo(a.zone,It.defaultZone);if(!l.isValid)return ve.invalid(nh(l));const u=It.now(),f=Se(a.specificOffset)?l.offset(u):a.specificOffset,p=ef(i,XS),m=!Se(p.ordinal),k=!Se(p.year),w=!Se(p.month)||!Se(p.day),C=k||w,_=p.weekYear||p.weekNumber,A=ct.fromObject(a);if((C||m)&&_)throw new el("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new el("Can't mix ordinal dates with month/day");const x=_||p.weekday&&!C;let S,T,O=ih(u,f);x?(S=fZ,T=uZ,O=i_(O)):m?(S=pZ,T=hZ,O=Fb(O)):(S=eM,T=XI);let M=!1;for(const Z of S){const oe=p[Z];Se(oe)?M?p[Z]=T[Z]:p[Z]=O[Z]:M=!0}const N=x?lZ(p):m?dZ(p):YI(p),P=N||QI(p);if(P)return ve.invalid(P);const j=x?KS(p):m?ZS(p):p,[F,W]=Ah(j,f,l),G=new ve({ts:F,zone:l,o:W,loc:A});return p.weekday&&C&&i.weekday!==G.weekday?ve.invalid("mismatched weekday",`you can't specify both a weekday of ${p.weekday} and a date of ${G.toISO()}`):G}static fromISO(i,a={}){const[l,u]=MK(i);return qc(l,u,a,"ISO 8601",i)}static fromRFC2822(i,a={}){const[l,u]=NK(i);return qc(l,u,a,"RFC 2822",i)}static fromHTTP(i,a={}){const[l,u]=BK(i);return qc(l,u,a,"HTTP",a)}static fromFormat(i,a,l={}){if(Se(i)||Se(a))throw new Xn("fromFormat requires an input string and a format");const{locale:u=null,numberingSystem:f=null}=l,p=ct.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0}),[m,k,w,C]=cZ(p,i,a);return C?ve.invalid(C):qc(m,k,l,`format ${a}`,i,w)}static fromString(i,a,l={}){return ve.fromFormat(i,a,l)}static fromSQL(i,a={}){const[l,u]=FK(i);return qc(l,u,a,"SQL",i)}static invalid(i,a=null){if(!i)throw new Xn("need to specify a reason the DateTime is invalid");const l=i instanceof _i?i:new _i(i,a);if(It.throwOnInvalid)throw new wq(l);return new ve({invalid:l})}static isDateTime(i){return i&&i.isLuxonDateTime||!1}static parseFormatForOpts(i,a={}){const l=$I(i,ct.fromObject(a));return l?l.map(u=>u?u.val:null).join(""):null}static expandFormat(i,a={}){return UI(rn.parseFormat(i),ct.fromObject(a)).map(u=>u.val).join("")}get(i){return this[i]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ub(this).weekYear:NaN}get weekNumber(){return this.isValid?Ub(this).weekNumber:NaN}get weekday(){return this.isValid?Ub(this).weekday:NaN}get ordinal(){return this.isValid?Fb(this.c).ordinal:NaN}get monthShort(){return this.isValid?eh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?eh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?eh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?eh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const i=864e5,a=6e4,l=Cf(this.c),u=this.zone.offset(l-i),f=this.zone.offset(l+i),p=this.zone.offset(l-u*a),m=this.zone.offset(l-f*a);if(p===m)return[this];const k=l-p*a,w=l-m*a,C=ih(k,p),_=ih(w,m);return C.hour===_.hour&&C.minute===_.minute&&C.second===_.second&&C.millisecond===_.millisecond?[$r(this,{ts:k}),$r(this,{ts:w})]:[this]}get isInLeapYear(){return Gl(this.year)}get daysInMonth(){return Jh(this.year,this.month)}get daysInYear(){return this.isValid?fl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xh(this.weekYear):NaN}resolvedLocaleOptions(i={}){const{locale:a,numberingSystem:l,calendar:u}=rn.create(this.loc.clone(i),i).resolvedOptions(this);return{locale:a,numberingSystem:l,outputCalendar:u}}toUTC(i=0,a={}){return this.setZone(ln.instance(i),a)}toLocal(){return this.setZone(It.defaultZone)}setZone(i,{keepLocalTime:a=!1,keepCalendarTime:l=!1}={}){if(i=Yo(i,It.defaultZone),i.equals(this.zone))return this;if(i.isValid){let u=this.ts;if(a||l){const f=i.offset(this.ts),p=this.toObject();[u]=Ah(p,f,i)}return $r(this,{ts:u,zone:i})}else return ve.invalid(nh(i))}reconfigure({locale:i,numberingSystem:a,outputCalendar:l}={}){const u=this.loc.clone({locale:i,numberingSystem:a,outputCalendar:l});return $r(this,{loc:u})}setLocale(i){return this.reconfigure({locale:i})}set(i){if(!this.isValid)return this;const a=ef(i,XS),l=!Se(a.weekYear)||!Se(a.weekNumber)||!Se(a.weekday),u=!Se(a.ordinal),f=!Se(a.year),p=!Se(a.month)||!Se(a.day),m=f||p,k=a.weekYear||a.weekNumber;if((m||u)&&k)throw new el("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&u)throw new el("Can't mix ordinal dates with month/day");let w;l?w=KS({...i_(this.c),...a}):Se(a.ordinal)?(w={...this.toObject(),...a},Se(a.day)&&(w.day=Math.min(Jh(w.year,w.month),w.day))):w=ZS({...Fb(this.c),...a});const[C,_]=Ah(w,this.o,this.zone);return $r(this,{ts:C,o:_})}plus(i){if(!this.isValid)return this;const a=Ne.fromDurationLike(i);return $r(this,QS(this,a))}minus(i){if(!this.isValid)return this;const a=Ne.fromDurationLike(i).negate();return $r(this,QS(this,a))}startOf(i){if(!this.isValid)return this;const a={},l=Ne.normalizeUnit(i);switch(l){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(l==="weeks"&&(a.weekday=1),l==="quarters"){const u=Math.ceil(this.month/3);a.month=(u-1)*3+1}return this.set(a)}endOf(i){return this.isValid?this.plus({[i]:1}).startOf(i).minus(1):this}toFormat(i,a={}){return this.isValid?rn.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,i):Vb}toLocaleString(i=Qh,a={}){return this.isValid?rn.create(this.loc.clone(a),i).formatDateTime(this):Vb}toLocaleParts(i={}){return this.isValid?rn.create(this.loc.clone(i),i).formatDateTimeParts(this):[]}toISO({format:i="extended",suppressSeconds:a=!1,suppressMilliseconds:l=!1,includeOffset:u=!0,extendedZone:f=!1}={}){if(!this.isValid)return null;const p=i==="extended";let m=Hb(this,p);return m+="T",m+=JS(this,p,a,l,u,f),m}toISODate({format:i="extended"}={}){return this.isValid?Hb(this,i==="extended"):null}toISOWeekDate(){return oh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:i=!1,suppressSeconds:a=!1,includeOffset:l=!0,includePrefix:u=!1,extendedZone:f=!1,format:p="extended"}={}){return this.isValid?(u?"T":"")+JS(this,p==="extended",a,i,l,f):null}toRFC2822(){return oh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return oh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hb(this,!0):null}toSQLTime({includeOffset:i=!0,includeZone:a=!1,includeOffsetSpace:l=!0}={}){let u="HH:mm:ss.SSS";return(a||i)&&(l&&(u+=" "),a?u+="z":i&&(u+="ZZ")),oh(this,u,!0)}toSQL(i={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(i)}`:null}toString(){return this.isValid?this.toISO():Vb}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(i={}){if(!this.isValid)return{};const a={...this.c};return i.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale),a}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(i,a="milliseconds",l={}){if(!this.isValid||!i.isValid)return Ne.invalid("created by diffing an invalid DateTime");const u={locale:this.locale,numberingSystem:this.numberingSystem,...l},f=Hq(a).map(Ne.normalizeUnit),p=i.valueOf()>this.valueOf(),m=p?this:i,k=p?i:this,w=qK(m,k,f,u);return p?w.negate():w}diffNow(i="milliseconds",a={}){return this.diff(ve.now(),i,a)}until(i){return this.isValid?wt.fromDateTimes(this,i):this}hasSame(i,a){if(!this.isValid)return!1;const l=i.valueOf(),u=this.setZone(i.zone,{keepLocalTime:!0});return u.startOf(a)<=l&&l<=u.endOf(a)}equals(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)}toRelative(i={}){if(!this.isValid)return null;const a=i.base||ve.fromObject({},{zone:this.zone}),l=i.padding?this<a?-i.padding:i.padding:0;let u=["years","months","days","hours","minutes","seconds"],f=i.unit;return Array.isArray(i.unit)&&(u=i.unit,f=void 0),tD(a,this.plus(l),{...i,numeric:"always",units:u,unit:f})}toRelativeCalendar(i={}){return this.isValid?tD(i.base||ve.fromObject({},{zone:this.zone}),this,{...i,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...i){if(!i.every(ve.isDateTime))throw new Xn("min requires all arguments be DateTimes");return RS(i,a=>a.valueOf(),Math.min)}static max(...i){if(!i.every(ve.isDateTime))throw new Xn("max requires all arguments be DateTimes");return RS(i,a=>a.valueOf(),Math.max)}static fromFormatExplain(i,a,l={}){const{locale:u=null,numberingSystem:f=null}=l,p=ct.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0});return HI(p,i,a)}static fromStringExplain(i,a,l={}){return ve.fromFormatExplain(i,a,l)}static get DATE_SHORT(){return Qh}static get DATE_MED(){return iI}static get DATE_MED_WITH_WEEKDAY(){return Aq}static get DATE_FULL(){return oI}static get DATE_HUGE(){return rI}static get TIME_SIMPLE(){return sI}static get TIME_WITH_SECONDS(){return aI}static get TIME_WITH_SHORT_OFFSET(){return cI}static get TIME_WITH_LONG_OFFSET(){return lI}static get TIME_24_SIMPLE(){return dI}static get TIME_24_WITH_SECONDS(){return uI}static get TIME_24_WITH_SHORT_OFFSET(){return hI}static get TIME_24_WITH_LONG_OFFSET(){return fI}static get DATETIME_SHORT(){return pI}static get DATETIME_SHORT_WITH_SECONDS(){return gI}static get DATETIME_MED(){return mI}static get DATETIME_MED_WITH_SECONDS(){return kI}static get DATETIME_MED_WITH_WEEKDAY(){return Cq}static get DATETIME_FULL(){return bI}static get DATETIME_FULL_WITH_SECONDS(){return wI}static get DATETIME_HUGE(){return _I}static get DATETIME_HUGE_WITH_SECONDS(){return vI}}function Kc(r){if(ve.isDateTime(r))return r;if(r&&r.valueOf&&ss(r.valueOf()))return ve.fromJSDate(r);if(r&&typeof r=="object")return ve.fromObject(r);throw new Xn(`Unknown datetime argument: ${r}, of type ${typeof r}`)}const iD=["year","month","week","day","hour","minute","second"],tf=r=>{const a=ve.fromISO(r).diffNow().shiftTo(...iD),l=iD.find(f=>a.get(f)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(a.as(l)),l)},tM="/Book-Chronicles/assets/like-21544d1e.png";function gZ({id:r,title:i,created_at:a,vote:l,category:u}){let f="back-pastel-green pastel-green";return u=="review"?f="back-pastel-purple pastel-purple":u=="recommend"&&(f="back-pastel-red pastel-red"),$.jsxs(ns,{className:"post-preview",to:`/post/${r}`,children:[$.jsxs("div",{className:"post-preview-top",children:[$.jsxs("p",{className:"time-ago",children:["Posted ",a?tf(a):" "]}),$.jsxs("p",{className:`post-category ${f}`,children:["#",u]})]}),$.jsx("h2",{className:"pastel-black",children:i}),$.jsxs("div",{className:"vote-image",children:[$.jsx("img",{src:tM,className:"upvotes, pastel-red"}),$.jsx("span",{className:"",children:$.jsxs("b",{className:"pastel-orange",children:[l," "]})})]})]})}function mZ({supabase:r}){const[i,a]=ee.useState([]),[l,u]=ee.useState({created_at:!1,vote:!0}),[f,p]=ee.useState(""),m=async()=>{const{data:_,error:A}=await r.from("posts").select().order("created_at",{ascending:!1});a(_)};ee.useEffect(()=>{m()},[]);const k=_=>{p(_.target.value)},w=()=>bq(f,i,["title"]).map(A=>$.jsx(gZ,{id:A.id,title:A.title,created_at:A.created_at,vote:A.vote,category:A.category},A.id)),C=_=>{const A=JSON.parse(JSON.stringify(i));_==="vote"?(l.vote?A.sort((x,S)=>S.vote-x.vote):A.sort((x,S)=>x.vote-S.vote),u(x=>({...x,vote:!l.vote}))):(l.created_at?A.sort((x,S)=>new Date(S.created_at)-new Date(x.created_at)):A.sort((x,S)=>new Date(x.created_at)-new Date(S.created_at)),u(x=>({...x,created_at:!l.created_at}))),a(A)};return $.jsxs($.Fragment,{children:[$.jsx("div",{className:"home-title-outside-container",children:$.jsxs("div",{className:"home-title-container",children:[$.jsxs("h1",{className:"home-title",children:[$.jsx("span",{className:"pastel-black",children:"Home"})," ",$.jsx("span",{className:"accent",children:"Feed"})]}),$.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),$.jsx("div",{className:"input-outside-container",children:$.jsxs("div",{className:"input-container",children:[$.jsx("input",{className:"search-input",onChange:k,placeholder:"Search",type:"text"}),$.jsxs("div",{className:"sort-posts-container",children:[$.jsx("span",{children:"Order by: "}),$.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{C("created_at")},children:"Newest"}),$.jsx("button",{className:"btn sort-button",onClick:()=>{C("vote")},children:"Most Popular"})]})]})}),$.jsx("div",{className:"post-preview-container",children:w()})]})}function kZ(){const r=Ma();return ee.useEffect(()=>{r("/")},[]),$.jsx("div",{children:"NotFound"})}var nf={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */nf.exports;(function(r,i){(function(a,l){r.exports=l(ee)})(self,a=>(()=>{var l={703:(m,k,w)=>{var C=w(414);function _(){}function A(){}A.resetWarningCache=_,m.exports=function(){function x(O,M,N,P,j,F){if(F!==C){var W=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw W.name="Invariant Violation",W}}function S(){return x}x.isRequired=x;var T={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:S,element:x,elementType:x,instanceOf:S,node:x,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:A,resetWarningCache:_};return T.PropTypes=T,T}},697:(m,k,w)=>{m.exports=w(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=a}},u={};function f(m){var k=u[m];if(k!==void 0)return k.exports;var w=u[m]={exports:{}};return l[m](w,w.exports,f),w.exports}f.n=m=>{var k=m&&m.__esModule?()=>m.default:()=>m;return f.d(k,{a:k}),k},f.d=(m,k)=>{for(var w in k)f.o(k,w)&&!f.o(m,w)&&Object.defineProperty(m,w,{enumerable:!0,get:k[w]})},f.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k),f.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var p={};return(()=>{f.r(p),f.d(p,{CKEditor:()=>Si,CKEditorContext:()=>Io});var m=f(787),k=f.n(m),w=f(697),C=f.n(w);const _=new Array(256).fill("").map((E,D)=>("0"+D.toString(16)).slice(-2));class A{constructor(D){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof D.crashNumberLimit=="number"?D.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof D.minimumNonErrorTimePeriod=="number"?D.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=z=>{const U="error"in z?z.error:z.reason;U instanceof Error&&this._handleError(U,z)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(D,z){this._listeners[D]||(this._listeners[D]=[]),this._listeners[D].push(z)}off(D,z){this._listeners[D]=this._listeners[D].filter(U=>U!==z)}_fire(D,...z){const U=this._listeners[D]||[];for(const se of U)se.apply(this,[null,...z])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(D,z){if(this._shouldReactToError(D)){this.crashes.push({message:D.message,stack:D.stack,filename:z instanceof ErrorEvent?z.filename:void 0,lineno:z instanceof ErrorEvent?z.lineno:void 0,colno:z instanceof ErrorEvent?z.colno:void 0,date:this._now()});const U=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:D,causesRestart:U}),U?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(D){return D.is&&D.is("CKEditorError")&&D.context!==void 0&&D.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(D)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(E,D=new Set){const z=[E],U=new Set;let se=0;for(;z.length>se;){const ge=z[se++];if(!U.has(ge)&&S(ge)&&!D.has(ge))if(U.add(ge),Symbol.iterator in ge)try{for(const be of ge)z.push(be)}catch{}else for(const be in ge)be!=="defaultValue"&&z.push(ge[be])}return U}function S(E){const D=Object.prototype.toString.call(E),z=typeof E;return!(z==="number"||z==="boolean"||z==="string"||z==="symbol"||z==="function"||D==="[object Date]"||D==="[object RegExp]"||D==="[object Module]"||E==null||E._watchdogExcluded||E instanceof EventTarget||E instanceof Event)}function T(E,D,z=new Set){if(E===D&&typeof(U=E)=="object"&&U!==null)return!0;var U;const se=x(E,z),ge=x(D,z);for(const be of se)if(ge.has(be))return!0;return!1}const O=function(E){var D=typeof E;return E!=null&&(D=="object"||D=="function")},M=typeof Js=="object"&&Js&&Js.Object===Object&&Js;var N=typeof self=="object"&&self&&self.Object===Object&&self;const P=M||N||Function("return this")(),j=function(){return P.Date.now()};var F=/\s/;const W=function(E){for(var D=E.length;D--&&F.test(E.charAt(D)););return D};var G=/^\s+/;const Z=function(E){return E&&E.slice(0,W(E)+1).replace(G,"")},oe=P.Symbol;var re=Object.prototype,Ae=re.hasOwnProperty,At=re.toString,je=oe?oe.toStringTag:void 0;const dt=function(E){var D=Ae.call(E,je),z=E[je];try{E[je]=void 0;var U=!0}catch{}var se=At.call(E);return U&&(D?E[je]=z:delete E[je]),se};var fn=Object.prototype.toString;const L=function(E){return fn.call(E)};var Ie=oe?oe.toStringTag:void 0;const te=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":Ie&&Ie in Object(E)?dt(E):L(E)},ue=function(E){return E!=null&&typeof E=="object"},ke=function(E){return typeof E=="symbol"||ue(E)&&te(E)=="[object Symbol]"};var it=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,Cn=/^0o[0-7]+$/i,yn=parseInt;const Yt=function(E){if(typeof E=="number")return E;if(ke(E))return NaN;if(O(E)){var D=typeof E.valueOf=="function"?E.valueOf():E;E=O(D)?D+"":D}if(typeof E!="string")return E===0?E:+E;E=Z(E);var z=mt.test(E);return z||Cn.test(E)?yn(E.slice(2),z?2:8):it.test(E)?NaN:+E};var Vn=Math.max,Ee=Math.min;const Df=function(E,D,z){var U,se,ge,be,we,ht,Je=0,yr=!1,Zi=!1,$n=!0;if(typeof E!="function")throw new TypeError("Expected a function");function Mo(Jt){var si=U,Di=se;return U=se=void 0,Je=Jt,be=E.apply(Di,si)}function Yi(Jt){var si=Jt-ht;return ht===void 0||si>=D||si<0||Zi&&Jt-Je>=ge}function Qi(){var Jt=j();if(Yi(Jt))return En(Jt);we=setTimeout(Qi,function(si){var Di=D-(si-ht);return Zi?Ee(Di,ge-(si-Je)):Di}(Jt))}function En(Jt){return we=void 0,$n&&U?Mo(Jt):(U=se=void 0,be)}function Sn(){var Jt=j(),si=Yi(Jt);if(U=arguments,se=this,ht=Jt,si){if(we===void 0)return function(Di){return Je=Di,we=setTimeout(Qi,D),yr?Mo(Di):be}(ht);if(Zi)return clearTimeout(we),we=setTimeout(Qi,D),Mo(ht)}return we===void 0&&(we=setTimeout(Qi,D)),be}return D=Yt(D)||0,O(z)&&(yr=!!z.leading,ge=(Zi="maxWait"in z)?Vn(Yt(z.maxWait)||0,D):ge,$n="trailing"in z?!!z.trailing:$n),Sn.cancel=function(){we!==void 0&&clearTimeout(we),Je=0,U=ht=se=we=void 0},Sn.flush=function(){return we===void 0?be:En(j())},Sn},Ql=function(E,D,z){var U=!0,se=!0;if(typeof E!="function")throw new TypeError("Expected a function");return O(z)&&(U="leading"in z?!!z.leading:U,se="trailing"in z?!!z.trailing:se),Df(E,D,{leading:U,maxWait:D,trailing:se})},Ra=function(){this.__data__=[],this.size=0},Fa=function(E,D){return E===D||E!=E&&D!=D},gs=function(E,D){for(var z=E.length;z--;)if(Fa(E[z][0],D))return z;return-1};var Tf=Array.prototype.splice;const Va=function(E){var D=this.__data__,z=gs(D,E);return!(z<0)&&(z==D.length-1?D.pop():Tf.call(D,z,1),--this.size,!0)},Jl=function(E){var D=this.__data__,z=gs(D,E);return z<0?void 0:D[z][1]},Xl=function(E){return gs(this.__data__,E)>-1},If=function(E,D){var z=this.__data__,U=gs(z,E);return U<0?(++this.size,z.push([E,D])):z[U][1]=D,this};function xi(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var U=E[D];this.set(U[0],U[1])}}xi.prototype.clear=Ra,xi.prototype.delete=Va,xi.prototype.get=Jl,xi.prototype.has=Xl,xi.prototype.set=If;const ms=xi,Qe=function(){this.__data__=new ms,this.size=0},ks=function(E){var D=this.__data__,z=D.delete(E);return this.size=D.size,z},bs=function(E){return this.__data__.get(E)},ws=function(E){return this.__data__.has(E)},Vi=function(E){if(!O(E))return!1;var D=te(E);return D=="[object Function]"||D=="[object GeneratorFunction]"||D=="[object AsyncFunction]"||D=="[object Proxy]"},_s=P["__core-js_shared__"];var Ua=function(){var E=/[^.]+$/.exec(_s&&_s.keys&&_s.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}();const Re=function(E){return!!Ua&&Ua in E};var Ha=Function.prototype.toString;const Ui=function(E){if(E!=null){try{return Ha.call(E)}catch{}try{return E+""}catch{}}return""};var Mf=/^\[object .+?Constructor\]$/,Nf=Function.prototype,ed=Object.prototype,Bf=Nf.toString,Pf=ed.hasOwnProperty,Of=RegExp("^"+Bf.call(Pf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const td=function(E){return!(!O(E)||Re(E))&&(Vi(E)?Of:Mf).test(Ui(E))},zf=function(E,D){return E==null?void 0:E[D]},ri=function(E,D){var z=zf(E,D);return td(z)?z:void 0},Ct=ri(P,"Map"),Pt=ri(Object,"create"),Lf=function(){this.__data__=Pt?Pt(null):{},this.size=0},nd=function(E){var D=this.has(E)&&delete this.__data__[E];return this.size-=D?1:0,D};var jf=Object.prototype.hasOwnProperty;const Rf=function(E){var D=this.__data__;if(Pt){var z=D[E];return z==="__lodash_hash_undefined__"?void 0:z}return jf.call(D,E)?D[E]:void 0};var xn=Object.prototype.hasOwnProperty;const Ff=function(E){var D=this.__data__;return Pt?D[E]!==void 0:xn.call(D,E)},Un=function(E,D){var z=this.__data__;return this.size+=this.has(E)?0:1,z[E]=Pt&&D===void 0?"__lodash_hash_undefined__":D,this};function Hi(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var U=E[D];this.set(U[0],U[1])}}Hi.prototype.clear=Lf,Hi.prototype.delete=nd,Hi.prototype.get=Rf,Hi.prototype.has=Ff,Hi.prototype.set=Un;const id=Hi,Vf=function(){this.size=0,this.__data__={hash:new id,map:new(Ct||ms),string:new id}},kr=function(E){var D=typeof E;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?E!=="__proto__":E===null},vs=function(E,D){var z=E.__data__;return kr(D)?z[typeof D=="string"?"string":"hash"]:z.map},Uf=function(E){var D=vs(this,E).delete(E);return this.size-=D?1:0,D},Hf=function(E){return vs(this,E).get(E)},$f=function(E){return vs(this,E).has(E)},Wf=function(E,D){var z=vs(this,E),U=z.size;return z.set(E,D),this.size+=z.size==U?0:1,this};function Ao(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var U=E[D];this.set(U[0],U[1])}}Ao.prototype.clear=Vf,Ao.prototype.delete=Uf,Ao.prototype.get=Hf,Ao.prototype.has=$f,Ao.prototype.set=Wf;const Gf=Ao,qf=function(E,D){var z=this.__data__;if(z instanceof ms){var U=z.__data__;if(!Ct||U.length<199)return U.push([E,D]),this.size=++z.size,this;z=this.__data__=new Gf(U)}return z.set(E,D),this.size=z.size,this};function $i(E){var D=this.__data__=new ms(E);this.size=D.size}$i.prototype.clear=Qe,$i.prototype.delete=ks,$i.prototype.get=bs,$i.prototype.has=ws,$i.prototype.set=qf;const Kf=$i,Ei=function(E,D){for(var z=-1,U=E==null?0:E.length;++z<U&&D(E[z],z,E)!==!1;);return E},od=function(){try{var E=ri(Object,"defineProperty");return E({},"",{}),E}catch{}}(),jt=function(E,D,z){D=="__proto__"&&od?od(E,D,{configurable:!0,enumerable:!0,value:z,writable:!0}):E[D]=z};var Zf=Object.prototype.hasOwnProperty;const an=function(E,D,z){var U=E[D];Zf.call(E,D)&&Fa(U,z)&&(z!==void 0||D in E)||jt(E,D,z)},As=function(E,D,z,U){var se=!z;z||(z={});for(var ge=-1,be=D.length;++ge<be;){var we=D[ge],ht=U?U(z[we],E[we],we,z,E):void 0;ht===void 0&&(ht=E[we]),se?jt(z,we,ht):an(z,we,ht)}return z},Yf=function(E,D){for(var z=-1,U=Array(E);++z<E;)U[z]=D(z);return U},$a=function(E){return ue(E)&&te(E)=="[object Arguments]"};var Cs=Object.prototype,Qf=Cs.hasOwnProperty,rd=Cs.propertyIsEnumerable;const Jf=$a(function(){return arguments}())?$a:function(E){return ue(E)&&Qf.call(E,"callee")&&!rd.call(E,"callee")},br=Array.isArray,Xf=function(){return!1};var sd=i&&!i.nodeType&&i,ad=sd&&!0&&r&&!r.nodeType&&r,Wa=ad&&ad.exports===sd?P.Buffer:void 0;const cd=(Wa?Wa.isBuffer:void 0)||Xf;var ep=/^(?:0|[1-9]\d*)$/;const tp=function(E,D){var z=typeof E;return!!(D=D??9007199254740991)&&(z=="number"||z!="symbol"&&ep.test(E))&&E>-1&&E%1==0&&E<D},Qt=function(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=9007199254740991};var Ze={};Ze["[object Float32Array]"]=Ze["[object Float64Array]"]=Ze["[object Int8Array]"]=Ze["[object Int16Array]"]=Ze["[object Int32Array]"]=Ze["[object Uint8Array]"]=Ze["[object Uint8ClampedArray]"]=Ze["[object Uint16Array]"]=Ze["[object Uint32Array]"]=!0,Ze["[object Arguments]"]=Ze["[object Array]"]=Ze["[object ArrayBuffer]"]=Ze["[object Boolean]"]=Ze["[object DataView]"]=Ze["[object Date]"]=Ze["[object Error]"]=Ze["[object Function]"]=Ze["[object Map]"]=Ze["[object Number]"]=Ze["[object Object]"]=Ze["[object RegExp]"]=Ze["[object Set]"]=Ze["[object String]"]=Ze["[object WeakMap]"]=!1;const np=function(E){return ue(E)&&Qt(E.length)&&!!Ze[te(E)]},Ga=function(E){return function(D){return E(D)}};var Co=i&&!i.nodeType&&i,wr=Co&&!0&&r&&!r.nodeType&&r,yo=wr&&wr.exports===Co&&M.process;const xo=function(){try{var E=wr&&wr.require&&wr.require("util").types;return E||yo&&yo.binding&&yo.binding("util")}catch{}}();var ld=xo&&xo.isTypedArray;const ip=ld?Ga(ld):np;var op=Object.prototype.hasOwnProperty;const dd=function(E,D){var z=br(E),U=!z&&Jf(E),se=!z&&!U&&cd(E),ge=!z&&!U&&!se&&ip(E),be=z||U||se||ge,we=be?Yf(E.length,String):[],ht=we.length;for(var Je in E)!D&&!op.call(E,Je)||be&&(Je=="length"||se&&(Je=="offset"||Je=="parent")||ge&&(Je=="buffer"||Je=="byteLength"||Je=="byteOffset")||tp(Je,ht))||we.push(Je);return we};var rp=Object.prototype;const qa=function(E){var D=E&&E.constructor;return E===(typeof D=="function"&&D.prototype||rp)},ud=function(E,D){return function(z){return E(D(z))}},sp=ud(Object.keys,Object);var ap=Object.prototype.hasOwnProperty;const Eo=function(E){if(!qa(E))return sp(E);var D=[];for(var z in Object(E))ap.call(E,z)&&z!="constructor"&&D.push(z);return D},_r=function(E){return E!=null&&Qt(E.length)&&!Vi(E)},Ka=function(E){return _r(E)?dd(E):Eo(E)},cp=function(E,D){return E&&As(D,Ka(D),E)},lp=function(E){var D=[];if(E!=null)for(var z in Object(E))D.push(z);return D};var dp=Object.prototype.hasOwnProperty;const up=function(E){if(!O(E))return lp(E);var D=qa(E),z=[];for(var U in E)(U!="constructor"||!D&&dp.call(E,U))&&z.push(U);return z},Za=function(E){return _r(E)?dd(E,!0):up(E)},hp=function(E,D){return E&&As(D,Za(D),E)};var hd=i&&!i.nodeType&&i,fd=hd&&!0&&r&&!r.nodeType&&r,pd=fd&&fd.exports===hd?P.Buffer:void 0,gd=pd?pd.allocUnsafe:void 0;const fp=function(E,D){if(D)return E.slice();var z=E.length,U=gd?gd(z):new E.constructor(z);return E.copy(U),U},pp=function(E,D){var z=-1,U=E.length;for(D||(D=Array(U));++z<U;)D[z]=E[z];return D},Wi=function(E,D){for(var z=-1,U=E==null?0:E.length,se=0,ge=[];++z<U;){var be=E[z];D(be,z,E)&&(ge[se++]=be)}return ge},md=function(){return[]};var Ya=Object.prototype.propertyIsEnumerable,Qa=Object.getOwnPropertySymbols;const Ja=Qa?function(E){return E==null?[]:(E=Object(E),Wi(Qa(E),function(D){return Ya.call(E,D)}))}:md,gp=function(E,D){return As(E,Ja(E),D)},kd=function(E,D){for(var z=-1,U=D.length,se=E.length;++z<U;)E[se+z]=D[z];return E},Xa=ud(Object.getPrototypeOf,Object),bd=Object.getOwnPropertySymbols?function(E){for(var D=[];E;)kd(D,Ja(E)),E=Xa(E);return D}:md,Gi=function(E,D){return As(E,bd(E),D)},wd=function(E,D,z){var U=D(E);return br(E)?U:kd(U,z(E))},mp=function(E){return wd(E,Ka,Ja)},kp=function(E){return wd(E,Za,bd)},ec=ri(P,"DataView"),tc=ri(P,"Promise"),nc=ri(P,"Set"),ic=ri(P,"WeakMap");var _d="[object Map]",vd="[object Promise]",Ad="[object Set]",Cd="[object WeakMap]",yd="[object DataView]",qi=Ui(ec),bp=Ui(Ct),vr=Ui(tc),wp=Ui(nc),Ar=Ui(ic),Ki=te;(ec&&Ki(new ec(new ArrayBuffer(1)))!=yd||Ct&&Ki(new Ct)!=_d||tc&&Ki(tc.resolve())!=vd||nc&&Ki(new nc)!=Ad||ic&&Ki(new ic)!=Cd)&&(Ki=function(E){var D=te(E),z=D=="[object Object]"?E.constructor:void 0,U=z?Ui(z):"";if(U)switch(U){case qi:return yd;case bp:return _d;case vr:return vd;case wp:return Ad;case Ar:return Cd}return D});const oc=Ki;var _p=Object.prototype.hasOwnProperty;const vp=function(E){var D=E.length,z=new E.constructor(D);return D&&typeof E[0]=="string"&&_p.call(E,"index")&&(z.index=E.index,z.input=E.input),z},xd=P.Uint8Array,rc=function(E){var D=new E.constructor(E.byteLength);return new xd(D).set(new xd(E)),D},Ap=function(E,D){var z=D?rc(E.buffer):E.buffer;return new E.constructor(z,E.byteOffset,E.byteLength)};var Cp=/\w*$/;const yp=function(E){var D=new E.constructor(E.source,Cp.exec(E));return D.lastIndex=E.lastIndex,D};var Ed=oe?oe.prototype:void 0,Sd=Ed?Ed.valueOf:void 0;const xp=function(E){return Sd?Object(Sd.call(E)):{}},Ep=function(E,D){var z=D?rc(E.buffer):E.buffer;return new E.constructor(z,E.byteOffset,E.length)},Sp=function(E,D,z){var U=E.constructor;switch(D){case"[object ArrayBuffer]":return rc(E);case"[object Boolean]":case"[object Date]":return new U(+E);case"[object DataView]":return Ap(E,z);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ep(E,z);case"[object Map]":case"[object Set]":return new U;case"[object Number]":case"[object String]":return new U(E);case"[object RegExp]":return yp(E);case"[object Symbol]":return xp(E)}};var Dd=Object.create;const Dp=function(){function E(){}return function(D){if(!O(D))return{};if(Dd)return Dd(D);E.prototype=D;var z=new E;return E.prototype=void 0,z}}(),So=function(E){return typeof E.constructor!="function"||qa(E)?{}:Dp(Xa(E))},Td=function(E){return ue(E)&&oc(E)=="[object Map]"};var Id=xo&&xo.isMap;const Tp=Id?Ga(Id):Td,Ip=function(E){return ue(E)&&oc(E)=="[object Set]"};var Md=xo&&xo.isSet;const Mp=Md?Ga(Md):Ip;var Cr="[object Arguments]",Nd="[object Function]",Bd="[object Object]",$e={};$e[Cr]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object DataView]"]=$e["[object Boolean]"]=$e["[object Date]"]=$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Map]"]=$e["[object Number]"]=$e[Bd]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object Symbol]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Error]"]=$e[Nd]=$e["[object WeakMap]"]=!1;const Np=function E(D,z,U,se,ge,be){var we,ht=1&z,Je=2&z,yr=4&z;if(U&&(we=ge?U(D,se,ge,be):U(D)),we!==void 0)return we;if(!O(D))return D;var Zi=br(D);if(Zi){if(we=vp(D),!ht)return pp(D,we)}else{var $n=oc(D),Mo=$n==Nd||$n=="[object GeneratorFunction]";if(cd(D))return fp(D,ht);if($n==Bd||$n==Cr||Mo&&!ge){if(we=Je||Mo?{}:So(D),!ht)return Je?Gi(D,hp(we,D)):gp(D,cp(we,D))}else{if(!$e[$n])return ge?D:{};we=Sp(D,$n,ht)}}be||(be=new Kf);var Yi=be.get(D);if(Yi)return Yi;be.set(D,we),Mp(D)?D.forEach(function(En){we.add(E(En,z,U,En,D,be))}):Tp(D)&&D.forEach(function(En,Sn){we.set(Sn,E(En,z,U,Sn,D,be))});var Qi=Zi?void 0:(yr?Je?kp:mp:Je?Za:Ka)(D);return Ei(Qi||D,function(En,Sn){Qi&&(En=D[Sn=En]),an(we,Sn,E(En,z,U,Sn,D,be))}),we},Bp=function(E,D){return Np(E,5,D=typeof D=="function"?D:void 0)};var Pp=Function.prototype,Op=Object.prototype,Pd=Pp.toString,Do=Op.hasOwnProperty,ys=Pd.call(Object);const zp=function(E){if(!ue(E)||te(E)!="[object Object]")return!1;var D=Xa(E);if(D===null)return!0;var z=Do.call(D,"constructor")&&D.constructor;return typeof z=="function"&&z instanceof z&&Pd.call(z)==ys},Lp=function(E){return ue(E)&&E.nodeType===1&&!zp(E)};class Od extends A{constructor(D,z={}){super(z),this._editor=null,this._throttledSave=Ql(this._save.bind(this),typeof z.saveInterval=="number"?z.saveInterval:5e3),D&&(this._creator=(U,se)=>D.create(U,se)),this._destructor=U=>U.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(D){this._creator=D}setDestructor(D){this._destructor=D}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(D=>{console.error("An error happened during the editor destroying.",D)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const D=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,D,D.context)}}).then(()=>{this._fire("restart")})}create(D=this._elementOrData,z=this._config,U){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=D,this._config=this._cloneEditorConfiguration(z)||{},this._config.context=U,this._creator(D,this._config))).then(se=>{this._editor=se,se.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=se.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const D=this._editor;return this._editor=null,D.model.document.off("change:data",this._throttledSave),this._destructor(D)})}_save(){const D=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=D}catch(z){console.error(z,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(D){this._excludedProps=D}_getData(){const D={};for(const z of this._editor.model.document.getRootNames())D[z]=this._editor.data.get({rootName:z});return D}_isErrorComingFromThisItem(D){return T(this._editor,D.context,this._excludedProps)}_cloneEditorConfiguration(D){return Bp(D,(z,U)=>Lp(z)||U==="context"?z:void 0)}}const Hn=Symbol("MainQueueId");class To extends A{constructor(D,z={}){super(z),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new jp,this._watchdogConfig=z,this._creator=U=>D.create(U),this._destructor=U=>U.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(D){this._creator=D}setDestructor(D){this._destructor=D}get context(){return this._context}create(D={}){return this._actionQueues.enqueue(Hn,()=>(this._contextConfig=D,this._create()))}getItem(D){return this._getWatchdog(D)._item}getItemState(D){return this._getWatchdog(D).state}add(D){const z=zd(D);return Promise.all(z.map(U=>this._actionQueues.enqueue(U.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let se;if(this._watchdogs.has(U.id))throw new Error(`Item with the given id is already added: '${U.id}'.`);if(U.type==="editor")return se=new Od(null,this._watchdogConfig),se.setCreator(U.creator),se._setExcludedProperties(this._contextProps),U.destructor&&se.setDestructor(U.destructor),this._watchdogs.set(U.id,se),se.on("error",(ge,{error:be,causesRestart:we})=>{this._fire("itemError",{itemId:U.id,error:be}),we&&this._actionQueues.enqueue(U.id,()=>new Promise(ht=>{const Je=()=>{se.off("restart",Je),this._fire("itemRestart",{itemId:U.id}),ht()};se.on("restart",Je)}))}),se.create(U.sourceElementOrData,U.config,this._context);throw new Error(`Not supported item type: '${U.type}'.`)})))}remove(D){const z=zd(D);return Promise.all(z.map(U=>this._actionQueues.enqueue(U,()=>{const se=this._getWatchdog(U);return this._watchdogs.delete(U),se.destroy()})))}destroy(){return this._actionQueues.enqueue(Hn,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Hn,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(D=>{console.error("An error happened during destroying the context or items.",D)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(D=>(this._context=D,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(z=>(z._setExcludedProperties(this._contextProps),z.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const D=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(z=>z.destroy())).then(()=>this._destructor(D))})}_getWatchdog(D){const z=this._watchdogs.get(D);if(!z)throw new Error(`Item with the given id was not registered: ${D}.`);return z}_isErrorComingFromThisItem(D){for(const z of this._watchdogs.values())if(z._isErrorComingFromThisItem(D))return!1;return T(this._context,D.context)}}class jp{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(D){this._onEmptyCallbacks.push(D)}enqueue(D,z){const U=D===Hn;this._activeActions++,this._queues.get(D)||this._queues.set(D,Promise.resolve());const se=(U?Promise.all(this._queues.values()):Promise.all([this._queues.get(Hn),this._queues.get(D)])).then(z),ge=se.catch(()=>{});return this._queues.set(D,ge),se.finally(()=>{this._activeActions--,this._queues.get(D)===ge&&this._activeActions===0&&this._onEmptyCallbacks.forEach(be=>be())})}}function zd(E){return Array.isArray(E)?E:[E]}const Ld=k().createContext("contextWatchdog");class Io extends k().Component{constructor(D,z){super(D,z),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(D){return this._shouldComponentUpdate(D)}async _shouldComponentUpdate(D){return D.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(D.config)),D.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(D.config),!0):this.props.children!==D.children}render(){return k().createElement(Ld.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(D){this.contextWatchdog=new To(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(z,U)=>{this.props.onError(U.error,{phase:"runtime",willContextRestart:U.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(D).catch(z=>{this.props.onError(z,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Io.defaultProps={isLayoutReady:!0,onError:(E,D)=>console.error(E,D)},Io.propTypes={id:C().string,isLayoutReady:C().bool,context:C().func,watchdogConfig:C().object,config:C().object,onReady:C().func,onError:C().func};const sc="Lock from React integration (@ckeditor/ckeditor5-react)";class Si extends k().Component{constructor(D){super(D),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:z}=window;if(z){const[U]=z.split(".").map(Number);U<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(D){return!!this.editor&&(D.id!==this.props.id||D.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(D)&&this.editor.data.set(D.data),"disabled"in D&&(D.disabled?this.editor.enableReadOnlyMode(sc):this.editor.disableReadOnlyMode(sc)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof To?this.watchdog=new Rp(this.context):this.watchdog=new Si._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((D,z)=>this._createEditor(D,z)),this.watchdog.on("error",(D,{error:z,causesRestart:U})=>{(this.props.onError||console.error)(z,{phase:"runtime",willEditorRestart:U})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(D=>{(this.props.onError||console.error)(D,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(D,z){return this.props.editor.create(D,z).then(U=>{"disabled"in this.props&&this.props.disabled&&U.enableReadOnlyMode(sc);const se=U.model.document,ge=U.editing.view.document;return se.on("change:data",be=>{this.props.onChange&&this.props.onChange(be,U)}),ge.on("focus",be=>{this.props.onFocus&&this.props.onFocus(be,U)}),ge.on("blur",be=>{this.props.onBlur&&this.props.onBlur(be,U)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(U)}),U})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(D=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,D()):this.instance?(await this.instance.destroy(),this.instance=null,D()):void D())})}_shouldUpdateEditor(D){return this.props.data!==D.data&&this.editor.data.get()!==D.data}_getConfig(){const D=this.props.config||{};return this.props.data&&D.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...D,initialData:D.initialData||this.props.data||""}}}Si.contextType=Ld,Si.propTypes={editor:C().func.isRequired,data:C().string,config:C().object,disableWatchdog:C().bool,watchdogConfig:C().object,onChange:C().func,onReady:C().func,onFocus:C().func,onBlur:C().func,onError:C().func,disabled:C().bool,id:C().any},Si._EditorWatchdog=Od;class Rp{constructor(D){this._contextWatchdog=D,this._id=function(){const z=4294967296*Math.random()>>>0,U=4294967296*Math.random()>>>0,se=4294967296*Math.random()>>>0,ge=4294967296*Math.random()>>>0;return"e"+_[z>>0&255]+_[z>>8&255]+_[z>>16&255]+_[z>>24&255]+_[U>>0&255]+_[U>>8&255]+_[U>>16&255]+_[U>>24&255]+_[se>>0&255]+_[se>>8&255]+_[se>>16&255]+_[se>>24&255]+_[ge>>0&255]+_[ge>>8&255]+_[ge>>16&255]+_[ge>>24&255]}()}setCreator(D){this._creator=D}create(D,z){return this._contextWatchdog.add({sourceElementOrData:D,config:z,creator:this._creator,id:this._id,type:"editor"})}on(D,z){this._contextWatchdog.on("itemError",(U,{itemId:se,error:ge})=>{se===this._id&&z(null,{error:ge,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),p})())})(nf,nf.exports);var bZ=nf.exports,_t={exports:{}},Gt=_t.exports;(function(r){const i=r.en=r.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align center":"Align center","Align left":"Align left","Align right":"Align right","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset",Italic:"Italic",Justify:"Justify","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(i,a){typeof Gt=="object"&&typeof _t=="object"?_t.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Gt=="object"?Gt.InlineEditor=a():i.InlineEditor=a()})(self,()=>(()=>{var r={8168:(u,f,p)=>{const m=p(8874),k={};for(const _ of Object.keys(m))k[m[_]]=_;const w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=w;for(const _ of Object.keys(w)){if(!("channels"in w[_]))throw new Error("missing channels property: "+_);if(!("labels"in w[_]))throw new Error("missing channel labels property: "+_);if(w[_].labels.length!==w[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:A,labels:x}=w[_];delete w[_].channels,delete w[_].labels,Object.defineProperty(w[_],"channels",{value:A}),Object.defineProperty(w[_],"labels",{value:x})}w.rgb.hsl=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(A,x,S),O=Math.max(A,x,S),M=O-T;let N,P;O===T?N=0:A===O?N=(x-S)/M:x===O?N=2+(S-A)/M:S===O&&(N=4+(A-x)/M),N=Math.min(N*60,360),N<0&&(N+=360);const j=(T+O)/2;return O===T?P=0:j<=.5?P=M/(O+T):P=M/(2-O-T),[N,P*100,j*100]},w.rgb.hsv=function(_){let A,x,S,T,O;const M=_[0]/255,N=_[1]/255,P=_[2]/255,j=Math.max(M,N,P),F=j-Math.min(M,N,P),W=function(G){return(j-G)/6/F+1/2};return F===0?(T=0,O=0):(O=F/j,A=W(M),x=W(N),S=W(P),M===j?T=S-x:N===j?T=.3333333333333333+A-S:P===j&&(T=.6666666666666666+x-A),T<0?T+=1:T>1&&(T-=1)),[T*360,O*100,j*100]},w.rgb.hwb=function(_){const A=_[0],x=_[1];let S=_[2];const T=w.rgb.hsl(_)[0],O=1/255*Math.min(A,Math.min(x,S));return S=1-.00392156862745098*Math.max(A,Math.max(x,S)),[T,O*100,S*100]},w.rgb.cmyk=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(1-A,1-x,1-S),O=(1-A-T)/(1-T)||0,M=(1-x-T)/(1-T)||0,N=(1-S-T)/(1-T)||0;return[O*100,M*100,N*100,T*100]};function C(_,A){return(_[0]-A[0])**2+(_[1]-A[1])**2+(_[2]-A[2])**2}w.rgb.keyword=function(_){const A=k[_];if(A)return A;let x=1/0,S;for(const T of Object.keys(m)){const O=m[T],M=C(_,O);M<x&&(x=M,S=T)}return S},w.keyword.rgb=function(_){return m[_]},w.rgb.xyz=function(_){let A=_[0]/255,x=_[1]/255,S=_[2]/255;A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92;const T=A*.4124+x*.3576+S*.1805,O=A*.2126+x*.7152+S*.0722,M=A*.0193+x*.1192+S*.9505;return[T*100,O*100,M*100]},w.rgb.lab=function(_){const A=w.rgb.xyz(_);let x=A[0],S=A[1],T=A[2];x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862;const O=116*S-16,M=500*(x-S),N=200*(S-T);return[O,M,N]},w.hsl.rgb=function(_){const A=_[0]/360,x=_[1]/100,S=_[2]/100;let T,O,M;if(x===0)return M=S*255,[M,M,M];S<.5?T=S*(1+x):T=S+x-S*x;const N=2*S-T,P=[0,0,0];for(let j=0;j<3;j++)O=A+.3333333333333333*-(j-1),O<0&&O++,O>1&&O--,6*O<1?M=N+(T-N)*6*O:2*O<1?M=T:3*O<2?M=N+(T-N)*(.6666666666666666-O)*6:M=N,P[j]=M*255;return P},w.hsl.hsv=function(_){const A=_[0];let x=_[1]/100,S=_[2]/100,T=x;const O=Math.max(S,.01);S*=2,x*=S<=1?S:2-S,T*=O<=1?O:2-O;const M=(S+x)/2,N=S===0?2*T/(O+T):2*x/(S+x);return[A,N*100,M*100]},w.hsv.rgb=function(_){const A=_[0]/60,x=_[1]/100;let S=_[2]/100;const T=Math.floor(A)%6,O=A-Math.floor(A),M=255*S*(1-x),N=255*S*(1-x*O),P=255*S*(1-x*(1-O));switch(S*=255,T){case 0:return[S,P,M];case 1:return[N,S,M];case 2:return[M,S,P];case 3:return[M,N,S];case 4:return[P,M,S];case 5:return[S,M,N]}},w.hsv.hsl=function(_){const A=_[0],x=_[1]/100,S=_[2]/100,T=Math.max(S,.01);let O,M;M=(2-x)*S;const N=(2-x)*T;return O=x*T,O/=N<=1?N:2-N,O=O||0,M/=2,[A,O*100,M*100]},w.hwb.rgb=function(_){const A=_[0]/360;let x=_[1]/100,S=_[2]/100;const T=x+S;let O;T>1&&(x/=T,S/=T);const M=Math.floor(6*A),N=1-S;O=6*A-M,M&1&&(O=1-O);const P=x+O*(N-x);let j,F,W;switch(M){default:case 6:case 0:j=N,F=P,W=x;break;case 1:j=P,F=N,W=x;break;case 2:j=x,F=N,W=P;break;case 3:j=x,F=P,W=N;break;case 4:j=P,F=x,W=N;break;case 5:j=N,F=x,W=P;break}return[j*255,F*255,W*255]},w.cmyk.rgb=function(_){const A=_[0]/100,x=_[1]/100,S=_[2]/100,T=_[3]/100,O=1-Math.min(1,A*(1-T)+T),M=1-Math.min(1,x*(1-T)+T),N=1-Math.min(1,S*(1-T)+T);return[O*255,M*255,N*255]},w.xyz.rgb=function(_){const A=_[0]/100,x=_[1]/100,S=_[2]/100;let T,O,M;return T=A*3.2406+x*-1.5372+S*-.4986,O=A*-.9689+x*1.8758+S*.0415,M=A*.0557+x*-.204+S*1.057,T=T>.0031308?1.055*T**.4166666666666667-.055:T*12.92,O=O>.0031308?1.055*O**.4166666666666667-.055:O*12.92,M=M>.0031308?1.055*M**.4166666666666667-.055:M*12.92,T=Math.min(Math.max(0,T),1),O=Math.min(Math.max(0,O),1),M=Math.min(Math.max(0,M),1),[T*255,O*255,M*255]},w.xyz.lab=function(_){let A=_[0],x=_[1],S=_[2];A/=95.047,x/=100,S/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862;const T=116*x-16,O=500*(A-x),M=200*(x-S);return[T,O,M]},w.lab.xyz=function(_){const A=_[0],x=_[1],S=_[2];let T,O,M;O=(A+16)/116,T=x/500+O,M=O-S/200;const N=O**3,P=T**3,j=M**3;return O=N>.008856?N:(O-.13793103448275862)/7.787,T=P>.008856?P:(T-.13793103448275862)/7.787,M=j>.008856?j:(M-.13793103448275862)/7.787,T*=95.047,O*=100,M*=108.883,[T,O,M]},w.lab.lch=function(_){const A=_[0],x=_[1],S=_[2];let T;T=Math.atan2(S,x)*360/2/Math.PI,T<0&&(T+=360);const M=Math.sqrt(x*x+S*S);return[A,M,T]},w.lch.lab=function(_){const A=_[0],x=_[1],T=_[2]/360*2*Math.PI,O=x*Math.cos(T),M=x*Math.sin(T);return[A,O,M]},w.rgb.ansi16=function(_,A=null){const[x,S,T]=_;let O=A===null?w.rgb.hsv(_)[2]:A;if(O=Math.round(O/50),O===0)return 30;let M=30+(Math.round(T/255)<<2|Math.round(S/255)<<1|Math.round(x/255));return O===2&&(M+=60),M},w.hsv.ansi16=function(_){return w.rgb.ansi16(w.hsv.rgb(_),_[2])},w.rgb.ansi256=function(_){const A=_[0],x=_[1],S=_[2];return A===x&&x===S?A<8?16:A>248?231:Math.round((A-8)/247*24)+232:16+36*Math.round(A/255*5)+6*Math.round(x/255*5)+Math.round(S/255*5)},w.ansi16.rgb=function(_){let A=_%10;if(A===0||A===7)return _>50&&(A+=3.5),A=A/10.5*255,[A,A,A];const x=(~~(_>50)+1)*.5,S=(A&1)*x*255,T=(A>>1&1)*x*255,O=(A>>2&1)*x*255;return[S,T,O]},w.ansi256.rgb=function(_){if(_>=232){const O=(_-232)*10+8;return[O,O,O]}_-=16;let A;const x=Math.floor(_/36)/5*255,S=Math.floor((A=_%36)/6)/5*255,T=A%6/5*255;return[x,S,T]},w.rgb.hex=function(_){const x=(((Math.round(_[0])&255)<<16)+((Math.round(_[1])&255)<<8)+(Math.round(_[2])&255)).toString(16).toUpperCase();return"000000".substring(x.length)+x},w.hex.rgb=function(_){const A=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!A)return[0,0,0];let x=A[0];A[0].length===3&&(x=x.split("").map(N=>N+N).join(""));const S=parseInt(x,16),T=S>>16&255,O=S>>8&255,M=S&255;return[T,O,M]},w.rgb.hcg=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.max(Math.max(A,x),S),O=Math.min(Math.min(A,x),S),M=T-O;let N,P;return M<1?N=O/(1-M):N=0,M<=0?P=0:T===A?P=(x-S)/M%6:T===x?P=2+(S-A)/M:P=4+(A-x)/M,P/=6,P%=1,[P*360,M*100,N*100]},w.hsl.hcg=function(_){const A=_[1]/100,x=_[2]/100,S=x<.5?2*A*x:2*A*(1-x);let T=0;return S<1&&(T=(x-.5*S)/(1-S)),[_[0],S*100,T*100]},w.hsv.hcg=function(_){const A=_[1]/100,x=_[2]/100,S=A*x;let T=0;return S<1&&(T=(x-S)/(1-S)),[_[0],S*100,T*100]},w.hcg.rgb=function(_){const A=_[0]/360,x=_[1]/100,S=_[2]/100;if(x===0)return[S*255,S*255,S*255];const T=[0,0,0],O=A%1*6,M=O%1,N=1-M;let P=0;switch(Math.floor(O)){case 0:T[0]=1,T[1]=M,T[2]=0;break;case 1:T[0]=N,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=M;break;case 3:T[0]=0,T[1]=N,T[2]=1;break;case 4:T[0]=M,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=N}return P=(1-x)*S,[(x*T[0]+P)*255,(x*T[1]+P)*255,(x*T[2]+P)*255]},w.hcg.hsv=function(_){const A=_[1]/100,x=_[2]/100,S=A+x*(1-A);let T=0;return S>0&&(T=A/S),[_[0],T*100,S*100]},w.hcg.hsl=function(_){const A=_[1]/100,S=_[2]/100*(1-A)+.5*A;let T=0;return S>0&&S<.5?T=A/(2*S):S>=.5&&S<1&&(T=A/(2*(1-S))),[_[0],T*100,S*100]},w.hcg.hwb=function(_){const A=_[1]/100,x=_[2]/100,S=A+x*(1-A);return[_[0],(S-A)*100,(1-S)*100]},w.hwb.hcg=function(_){const A=_[1]/100,S=1-_[2]/100,T=S-A;let O=0;return T<1&&(O=(S-T)/(1-T)),[_[0],T*100,O*100]},w.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},w.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},w.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},w.gray.hsl=function(_){return[0,0,_[0]]},w.gray.hsv=w.gray.hsl,w.gray.hwb=function(_){return[0,100,_[0]]},w.gray.cmyk=function(_){return[0,0,0,_[0]]},w.gray.lab=function(_){return[_[0],0,0]},w.gray.hex=function(_){const A=Math.round(_[0]/100*255)&255,S=((A<<16)+(A<<8)+A).toString(16).toUpperCase();return"000000".substring(S.length)+S},w.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},2085:(u,f,p)=>{const m=p(8168),k=p(4111),w={},C=Object.keys(m);function _(x){const S=function(...T){const O=T[0];return O==null?O:(O.length>1&&(T=O),x(T))};return"conversion"in x&&(S.conversion=x.conversion),S}function A(x){const S=function(...T){const O=T[0];if(O==null)return O;O.length>1&&(T=O);const M=x(T);if(typeof M=="object")for(let N=M.length,P=0;P<N;P++)M[P]=Math.round(M[P]);return M};return"conversion"in x&&(S.conversion=x.conversion),S}C.forEach(x=>{w[x]={},Object.defineProperty(w[x],"channels",{value:m[x].channels}),Object.defineProperty(w[x],"labels",{value:m[x].labels});const S=k(x);Object.keys(S).forEach(O=>{const M=S[O];w[x][O]=A(M),w[x][O].raw=_(M)})}),u.exports=w},4111:(u,f,p)=>{const m=p(8168);function k(){const A={},x=Object.keys(m);for(let S=x.length,T=0;T<S;T++)A[x[T]]={distance:-1,parent:null};return A}function w(A){const x=k(),S=[A];for(x[A].distance=0;S.length;){const T=S.pop(),O=Object.keys(m[T]);for(let M=O.length,N=0;N<M;N++){const P=O[N],j=x[P];j.distance===-1&&(j.distance=x[T].distance+1,j.parent=T,S.unshift(P))}}return x}function C(A,x){return function(S){return x(A(S))}}function _(A,x){const S=[x[A].parent,A];let T=m[x[A].parent][A],O=x[A].parent;for(;x[O].parent;)S.unshift(x[O].parent),T=C(m[x[O].parent][O],T),O=x[O].parent;return T.conversion=S,T}u.exports=function(A){const x=w(A),S={},T=Object.keys(x);for(let O=T.length,M=0;M<O;M++){const N=T[M];x[N].parent!==null&&(S[N]=_(N,x))}return S}},8874:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const A=_},3789:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const A=_},799:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const A=_},7372:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const A=_},5037:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const A=_},4249:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const A=_},2430:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const A=_},2423:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const A=_},8879:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const A=_},8340:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=_},2400:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const A=_},3534:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},1547:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const A=_},6618:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const A=_},2926:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const A=_},5269:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},3925:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const A=_},7536:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},4874:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},4330:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const A=_},5782:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const A=_},3190:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const A=_},4784:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},9938:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const A=_},2591:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const A=_},9292:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const A=_},8705:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const A=_},1922:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},7138:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},9953:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},7502:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},6908:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=_},468:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const A=_},2510:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const A=_},1111:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const A=_},3964:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},7176:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const A=_},8361:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const A=_},9429:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},6596:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},1546:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},4029:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},4971:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=_},7258:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=_},4923:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const A=_},4257:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const A=_},6306:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const A=_},5062:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},1883:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4791:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},2704:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const A=_},9847:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},1874:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCbD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const A=_},4746:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const A=_},1977:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},2470:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},3525:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const A=_},2933:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},179:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,8BACC,cAAe,CACf,eAAiB,CACjB,gCACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > span {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4460:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},7592:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const A=_},6356:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},3707:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},6603:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},9332:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const A=_},6446:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const A=_},5224:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const A=_},4176:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const A=_},4768:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},3888:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const A=_},5167:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const A=_},7153:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},4875:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const A=_},2347:(u,f,p)=>{p.d(f,{Z:()=>A});var m=p(4015),k=p.n(m),w=p(3645),C=p.n(w),_=C()(k());_.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const A=_},3645:u=>{u.exports=function(f){var p=[];return p.toString=function(){return this.map(function(k){var w=f(k);return k[2]?"@media ".concat(k[2]," {").concat(w,"}"):w}).join("")},p.i=function(m,k,w){typeof m=="string"&&(m=[[null,m,""]]);var C={};if(w)for(var _=0;_<this.length;_++){var A=this[_][0];A!=null&&(C[A]=!0)}for(var x=0;x<m.length;x++){var S=[].concat(m[x]);w&&C[S[0]]||(k&&(S[2]?S[2]="".concat(k," and ").concat(S[2]):S[2]=k),p.push(S))}},p}},4015:u=>{function f(_,A){return C(_)||w(_,A)||m(_,A)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(_,A){if(_){if(typeof _=="string")return k(_,A);var x=Object.prototype.toString.call(_).slice(8,-1);if(x==="Object"&&_.constructor&&(x=_.constructor.name),x==="Map"||x==="Set")return Array.from(_);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return k(_,A)}}function k(_,A){(A==null||A>_.length)&&(A=_.length);for(var x=0,S=new Array(A);x<A;x++)S[x]=_[x];return S}function w(_,A){var x=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(x!=null){var S=[],T=!0,O=!1,M,N;try{for(x=x.call(_);!(T=(M=x.next()).done)&&(S.push(M.value),!(A&&S.length===A));T=!0);}catch(P){O=!0,N=P}finally{try{!T&&x.return!=null&&x.return()}finally{if(O)throw N}}return S}}function C(_){if(Array.isArray(_))return _}u.exports=function(A){var x=f(A,4),S=x[1],T=x[3];if(!T)return S;if(typeof btoa=="function"){var O=btoa(unescape(encodeURIComponent(JSON.stringify(T)))),M="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(O),N="/*# ".concat(M," */"),P=T.sources.map(function(j){return"/*# sourceURL=".concat(T.sourceRoot||"").concat(j," */")});return[S].concat(P).concat([N]).join(`
`)}return[S].join(`
`)}},3379:(u,f,p)=>{var m=function(){var F;return function(){return typeof F>"u"&&(F=!!(window&&document&&document.all&&!window.atob)),F}}(),k=function(){var F={};return function(G){if(typeof F[G]>"u"){var Z=document.querySelector(G);if(window.HTMLIFrameElement&&Z instanceof window.HTMLIFrameElement)try{Z=Z.contentDocument.head}catch{Z=null}F[G]=Z}return F[G]}}(),w=[];function C(j){for(var F=-1,W=0;W<w.length;W++)if(w[W].identifier===j){F=W;break}return F}function _(j,F){for(var W={},G=[],Z=0;Z<j.length;Z++){var oe=j[Z],re=F.base?oe[0]+F.base:oe[0],Ae=W[re]||0,At="".concat(re," ").concat(Ae);W[re]=Ae+1;var je=C(At),dt={css:oe[1],media:oe[2],sourceMap:oe[3]};je!==-1?(w[je].references++,w[je].updater(dt)):w.push({identifier:At,updater:P(dt,F),references:1}),G.push(At)}return G}function A(j){var F=document.createElement("style"),W=j.attributes||{};if(typeof W.nonce>"u"){var G=p.nc;G&&(W.nonce=G)}if(Object.keys(W).forEach(function(oe){F.setAttribute(oe,W[oe])}),typeof j.insert=="function")j.insert(F);else{var Z=k(j.insert||"head");if(!Z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Z.appendChild(F)}return F}function x(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)}var S=function(){var F=[];return function(G,Z){return F[G]=Z,F.filter(Boolean).join(`
`)}}();function T(j,F,W,G){var Z=W?"":G.media?"@media ".concat(G.media," {").concat(G.css,"}"):G.css;if(j.styleSheet)j.styleSheet.cssText=S(F,Z);else{var oe=document.createTextNode(Z),re=j.childNodes;re[F]&&j.removeChild(re[F]),re.length?j.insertBefore(oe,re[F]):j.appendChild(oe)}}function O(j,F,W){var G=W.css,Z=W.media,oe=W.sourceMap;if(Z?j.setAttribute("media",Z):j.removeAttribute("media"),oe&&typeof btoa<"u"&&(G+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(oe))))," */")),j.styleSheet)j.styleSheet.cssText=G;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(G))}}var M=null,N=0;function P(j,F){var W,G,Z;if(F.singleton){var oe=N++;W=M||(M=A(F)),G=T.bind(null,W,oe,!1),Z=T.bind(null,W,oe,!0)}else W=A(F),G=O.bind(null,W,F),Z=function(){x(W)};return G(j),function(Ae){if(Ae){if(Ae.css===j.css&&Ae.media===j.media&&Ae.sourceMap===j.sourceMap)return;G(j=Ae)}else Z()}}u.exports=function(j,F){F=F||{},!F.singleton&&typeof F.singleton!="boolean"&&(F.singleton=m()),j=j||[];var W=_(j,F);return function(Z){if(Z=Z||[],Object.prototype.toString.call(Z)==="[object Array]"){for(var oe=0;oe<W.length;oe++){var re=W[oe],Ae=C(re);w[Ae].references--}for(var At=_(Z,F),je=0;je<W.length;je++){var dt=W[je],fn=C(dt);w[fn].references===0&&(w[fn].updater(),w.splice(fn,1))}W=At}}}}},i={};function a(u){var f=i[u];if(f!==void 0)return f.exports;var p=i[u]={id:u,exports:{}};return r[u](p,p.exports,a),p.exports}a.n=u=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var p in f)a.o(f,p)&&!a.o(u,p)&&Object.defineProperty(u,p,{enumerable:!0,get:f[p]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),a.nc=void 0;var l={};return(()=>{a.d(l,{default:()=>aH});function u(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const f=u(),m={isMac:k(f),isWindows:w(f),isGecko:C(f),isSafari:_(f),isiOS:A(f),isAndroid:x(f),isBlink:S(f),features:{isRegExpUnicodePropertySupported:T()}};function k(o){return o.indexOf("macintosh")>-1}function w(o){return o.indexOf("windows")>-1}function C(o){return!!o.match(/gecko\/\d+/)}function _(o){return o.indexOf(" applewebkit/")>-1&&o.indexOf("chrome")===-1}function A(o){return!!o.match(/iphone|ipad/i)||k(o)&&navigator.maxTouchPoints>0}function x(o){return o.indexOf("android")>-1}function S(o){return o.indexOf("chrome/")>-1&&o.indexOf("edge/")<0}function T(){let o=!1;try{o="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return o}function O(o,e,t,n){t=t||function(g,b){return g===b};const s=Array.isArray(o)?o:Array.prototype.slice.call(o),c=Array.isArray(e)?e:Array.prototype.slice.call(e),d=M(s,c,t);return n?F(d,c.length):j(c,d)}function M(o,e,t){const n=N(o,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=P(o,n),c=P(e,n),d=N(s,c,t),h=o.length-d,g=e.length-d;return{firstIndex:n,lastIndexOld:h,lastIndexNew:g}}function N(o,e,t){for(let n=0;n<Math.max(o.length,e.length);n++)if(o[n]===void 0||e[n]===void 0||!t(o[n],e[n]))return n;return-1}function P(o,e){return o.slice(e).reverse()}function j(o,e){const t=[],{firstIndex:n,lastIndexOld:s,lastIndexNew:c}=e;return c-n>0&&t.push({index:n,type:"insert",values:o.slice(n,c)}),s-n>0&&t.push({index:n+(c-n),type:"delete",howMany:s-n}),t}function F(o,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:s}=o;if(t===-1)return Array(e).fill("equal");let c=[];return t>0&&(c=c.concat(Array(t).fill("equal"))),s-t>0&&(c=c.concat(Array(s-t).fill("insert"))),n-t>0&&(c=c.concat(Array(n-t).fill("delete"))),s<e&&(c=c.concat(Array(e-s).fill("equal"))),c}function W(o,e,t){t=t||function(V,q){return V===q};const n=o.length,s=e.length;if(n>200||s>200||n+s>300)return W.fastDiff(o,e,t,!0);let c,d;if(s<n){const V=o;o=e,e=V,c="delete",d="insert"}else c="insert",d="delete";const h=o.length,g=e.length,b=g-h,v={},y={};function I(V){const q=(y[V-1]!==void 0?y[V-1]:-1)+1,Y=y[V+1]!==void 0?y[V+1]:-1,ae=q>Y?-1:1;v[V+ae]&&(v[V]=v[V+ae].slice(0)),v[V]||(v[V]=[]),v[V].push(q>Y?c:d);let ye=Math.max(q,Y),Ke=ye-V;for(;Ke<h&&ye<g&&t(o[Ke],e[ye]);)Ke++,ye++,v[V].push("equal");return ye}let B=0,R;do{for(R=-B;R<b;R++)y[R]=I(R);for(R=b+B;R>b;R--)y[R]=I(R);y[b]=I(b),B++}while(y[b]!==g);return v[b].slice(1)}W.fastDiff=O;function G(){return function o(){o.called=!0}}const Z=G;class oe{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Z(),this.off=Z()}}const re=new Array(256).fill("").map((o,e)=>("0"+e.toString(16)).slice(-2));function Ae(){const o=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+re[o>>0&255]+re[o>>8&255]+re[o>>16&255]+re[o>>24&255]+re[e>>0&255]+re[e>>8&255]+re[e>>16&255]+re[e>>24&255]+re[t>>0&255]+re[t>>8&255]+re[t>>16&255]+re[t>>24&255]+re[n>>0&255]+re[n>>8&255]+re[n>>16&255]+re[n>>24&255]}const je={get(o="normal"){return typeof o!="number"?this[o]||this.normal:o},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function dt(o,e){const t=je.get(e.priority);for(let n=0;n<o.length;n++)if(je.get(o[n].priority)<t){o.splice(n,0,e);return}o.push(e)}const fn="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(e,t,n){super(ue(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new L(e.message,t);throw n.stack=e.stack,n}}function Ie(o,e){console.warn(...ke(o,e))}function te(o){return`
Read more: ${fn}#error-${o}`}function ue(o,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(d,h)=>{if(typeof h=="object"&&h!==null){if(t.has(h))return`[object ${h.constructor.name}]`;t.add(h)}return h})}`:"",c=te(o);return o+s+c}function ke(o,e){const t=te(o);return e?[o,e,t]:[o,t]}const it="40.0.0",mt=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new L("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=it;const Cn=Symbol("listeningTo"),yn=Symbol("emitterId"),Yt=Symbol("delegations"),Vn=Ee(Object);function Ee(o){if(!o)return Vn;class e extends o{on(n,s,c){this.listenTo(this,n,s,c)}once(n,s,c){let d=!1;const h=(g,...b)=>{d||(d=!0,g.off(),s.call(this,g,...b))};this.listenTo(this,n,h,c)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,c,d={}){let h,g;this[Cn]||(this[Cn]={});const b=this[Cn];Ra(n)||Ql(n);const v=Ra(n);(h=b[v])||(h=b[v]={emitter:n,callbacks:{}}),(g=h.callbacks[s])||(g=h.callbacks[s]=[]),g.push(c),If(this,n,s,c,d)}stopListening(n,s,c){const d=this[Cn];let h=n&&Ra(n);const g=d&&h?d[h]:void 0,b=g&&s?g.callbacks[s]:void 0;if(!(!d||n&&!g||s&&!b))if(c)xi(this,n,s,c),b.indexOf(c)!==-1&&(b.length===1?delete g.callbacks[s]:xi(this,n,s,c));else if(b){for(;c=b.pop();)xi(this,n,s,c);delete g.callbacks[s]}else if(g){for(s in g.callbacks)this.stopListening(n,s);delete d[h]}else{for(h in d)this.stopListening(d[h].emitter);delete this[Cn]}}fire(n,...s){try{const c=n instanceof oe?n:new oe(this,n),d=c.name;let h=Jl(this,d);if(c.path.push(this),h){const b=[c,...s];h=Array.from(h);for(let v=0;v<h.length&&(h[v].callback.apply(this,b),c.off.called&&(delete c.off.called,this._removeEventListener(d,h[v].callback)),!c.stop.called);v++);}const g=this[Yt];if(g){const b=g.get(d),v=g.get("*");b&&Xl(b,c,s),v&&Xl(v,c,s)}return c.return}catch(c){L.rethrowUnexpectedError(c,this)}}delegate(...n){return{to:(s,c)=>{this[Yt]||(this[Yt]=new Map),n.forEach(d=>{const h=this[Yt].get(d);h?h.set(s,c):this[Yt].set(d,new Map([[s,c]]))})}}}stopDelegating(n,s){if(this[Yt])if(!n)this[Yt].clear();else if(!s)this[Yt].delete(n);else{const c=this[Yt].get(n);c&&c.delete(s)}}_addEventListener(n,s,c){Tf(this,n);const d=Va(this,n),h=je.get(c.priority),g={callback:s,priority:h};for(const b of d)dt(b,g)}_removeEventListener(n,s){const c=Va(this,n);for(const d of c)for(let h=0;h<d.length;h++)d[h].callback==s&&(d.splice(h,1),h--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{Ee[o]=Vn.prototype[o]});function Df(o,e){const t=o[Cn];return t&&t[e]?t[e].emitter:null}function Ql(o,e){o[yn]||(o[yn]=e||Ae())}function Ra(o){return o[yn]}function Fa(o){return o._events||Object.defineProperty(o,"_events",{value:{}}),o._events}function gs(){return{callbacks:[],childEvents:[]}}function Tf(o,e){const t=Fa(o);if(t[e])return;let n=e,s=null;const c=[];for(;n!==""&&!t[n];)t[n]=gs(),c.push(t[n]),s&&t[n].childEvents.push(s),s=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const d of c)d.callbacks=t[n].callbacks.slice();t[n].childEvents.push(s)}}function Va(o,e){const t=Fa(o)[e];if(!t)return[];let n=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const c=Va(o,t.childEvents[s]);n=n.concat(c)}return n}function Jl(o,e){let t;return!o._events||!(t=o._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Jl(o,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function Xl(o,e,t){for(let[n,s]of o){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const c=new oe(e.source,s);c.path=[...e.path],n.fire(c,...t)}}function If(o,e,t,n,s){e._addEventListener?e._addEventListener(t,n,s):o._addEventListener.call(e,t,n,s)}function xi(o,e,t,n){e._removeEventListener?e._removeEventListener(t,n):o._removeEventListener.call(e,t,n)}function ms(o){var e=typeof o;return o!=null&&(e=="object"||e=="function")}const Qe=ms,ks=Symbol("observableProperties"),bs=Symbol("boundObservables"),ws=Symbol("boundProperties"),Vi=Symbol("decoratedMethods"),_s=Symbol("decoratedOriginal"),Ua=Re(Ee());function Re(o){if(!o)return Ua;class e extends o{set(n,s){if(Qe(n)){Object.keys(n).forEach(d=>{this.set(d,n[d])},this);return}Ha(this);const c=this[ks];if(n in this&&!c.has(n))throw new L("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return c.get(n)},set(d){const h=c.get(n);let g=this.fire(`set:${n}`,n,d,h);g===void 0&&(g=d),(h!==g||!c.has(n))&&(c.set(n,g),this.fire(`change:${n}`,n,g,h))}}),this[n]=s}bind(...n){if(!n.length||!ed(n))throw new L("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new L("observable-bind-duplicate-properties",this);Ha(this);const s=this[ws];n.forEach(d=>{if(s.has(d))throw new L("observable-bind-rebind",this)});const c=new Map;return n.forEach(d=>{const h={property:d,to:[]};s.set(d,h),c.set(d,h)}),{to:Ui,toMany:Mf,_observable:this,_bindProperties:n,_to:[],_bindings:c}}unbind(...n){if(!this[ks])return;const s=this[ws],c=this[bs];if(n.length){if(!ed(n))throw new L("observable-unbind-wrong-properties",this);n.forEach(d=>{const h=s.get(d);h&&(h.to.forEach(([g,b])=>{const v=c.get(g),y=v[b];y.delete(h),y.size||delete v[b],Object.keys(v).length||(c.delete(g),this.stopListening(g,"change"))}),s.delete(d))})}else c.forEach((d,h)=>{this.stopListening(h,"change")}),c.clear(),s.clear()}decorate(n){Ha(this);const s=this[n];if(!s)throw new L("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(c,d)=>{c.return=s.apply(this,d)}),this[n]=function(...c){return this.fire(n,c)},this[n][_s]=s,this[Vi]||(this[Vi]=[]),this[Vi].push(n)}stopListening(n,s,c){if(!n&&this[Vi]){for(const d of this[Vi])this[d]=this[d][_s];delete this[Vi]}super.stopListening(n,s,c)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{Re[o]=Ua.prototype[o]});function Ha(o){o[ks]||(Object.defineProperty(o,ks,{value:new Map}),Object.defineProperty(o,bs,{value:new Map}),Object.defineProperty(o,ws,{value:new Map}))}function Ui(...o){const e=Bf(...o),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new L("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new L("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==n)throw new L("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),zf(this._observable,this._to),Of(this),this._bindProperties.forEach(s=>{td(this._observable,s)})}function Mf(o,e,t){if(this._bindings.size>1)throw new L("observable-bind-to-many-not-one-binding",this);this.to(...Nf(o,e),t)}function Nf(o,e){const t=o.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function ed(o){return o.every(e=>typeof e=="string")}function Bf(...o){if(!o.length)throw new L("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof o[o.length-1]=="function"&&(e.callback=o.pop()),o.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new L("observable-bind-to-parse-error",null)}),e}function Pf(o,e,t,n){const s=o[bs],c=s.get(t),d=c||{};d[n]||(d[n]=new Set),d[n].add(e),c||s.set(t,d)}function Of(o){let e;o._bindings.forEach((t,n)=>{o._to.forEach(s=>{e=s.properties[t.callback?0:o._bindProperties.indexOf(n)],t.to.push([s.observable,e]),Pf(o._observable,t,s.observable,e)})})}function td(o,e){const n=o[ws].get(e);let s;n.callback?s=n.callback.apply(o,n.to.map(c=>c[0][c[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(o,e)?o[e]=s:o.set(e,s)}function zf(o,e){e.forEach(t=>{const n=o[bs];let s;n.get(t.observable)||o.listenTo(t.observable,"change",(c,d)=>{s=n.get(t.observable)[d],s&&s.forEach(h=>{td(o,h.property)})})})}function ri(o){let e=0;for(const t of o)e++;return e}function Ct(o,e){const t=Math.min(o.length,e.length);for(let n=0;n<t;n++)if(o[n]!=e[n])return n;return o.length==e.length?"same":o.length<e.length?"prefix":"extension"}function Pt(o){return!!(o&&o[Symbol.iterator])}var Lf=typeof global=="object"&&global&&global.Object===Object&&global;const nd=Lf;var jf=typeof self=="object"&&self&&self.Object===Object&&self,Rf=nd||jf||Function("return this")();const xn=Rf;var Ff=xn.Symbol;const Un=Ff;var Hi=Object.prototype,id=Hi.hasOwnProperty,Vf=Hi.toString,kr=Un?Un.toStringTag:void 0;function vs(o){var e=id.call(o,kr),t=o[kr];try{o[kr]=void 0;var n=!0}catch{}var s=Vf.call(o);return n&&(e?o[kr]=t:delete o[kr]),s}const Uf=vs;var Hf=Object.prototype,$f=Hf.toString;function Wf(o){return $f.call(o)}const Ao=Wf;var Gf="[object Null]",qf="[object Undefined]",$i=Un?Un.toStringTag:void 0;function Kf(o){return o==null?o===void 0?qf:Gf:$i&&$i in Object(o)?Uf(o):Ao(o)}const Ei=Kf;var od=Array.isArray;const jt=od;function Zf(o){return o!=null&&typeof o=="object"}const an=Zf;var As="[object String]";function Yf(o){return typeof o=="string"||!jt(o)&&an(o)&&Ei(o)==As}const $a=Yf;function Cs(o,e,t={},n=[]){const s=t&&t.xmlns,c=s?o.createElementNS(s,e):o.createElement(e);for(const d in t)c.setAttribute(d,t[d]);($a(n)||!Pt(n))&&(n=[n]);for(let d of n)$a(d)&&(d=o.createTextNode(d)),c.appendChild(d);return c}function Qf(o,e){return function(t){return o(e(t))}}const rd=Qf;var Jf=rd(Object.getPrototypeOf,Object);const br=Jf;var Xf="[object Object]",sd=Function.prototype,ad=Object.prototype,Wa=sd.toString,cd=ad.hasOwnProperty,ep=Wa.call(Object);function tp(o){if(!an(o)||Ei(o)!=Xf)return!1;var e=br(o);if(e===null)return!0;var t=cd.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Wa.call(t)==ep}const Qt=tp;function Ze(){this.__data__=[],this.size=0}const np=Ze;function Ga(o,e){return o===e||o!==o&&e!==e}const Co=Ga;function wr(o,e){for(var t=o.length;t--;)if(Co(o[t][0],e))return t;return-1}const yo=wr;var xo=Array.prototype,ld=xo.splice;function ip(o){var e=this.__data__,t=yo(e,o);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():ld.call(e,t,1),--this.size,!0}const op=ip;function dd(o){var e=this.__data__,t=yo(e,o);return t<0?void 0:e[t][1]}const rp=dd;function qa(o){return yo(this.__data__,o)>-1}const ud=qa;function sp(o,e){var t=this.__data__,n=yo(t,o);return n<0?(++this.size,t.push([o,e])):t[n][1]=e,this}const ap=sp;function Eo(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}Eo.prototype.clear=np,Eo.prototype.delete=op,Eo.prototype.get=rp,Eo.prototype.has=ud,Eo.prototype.set=ap;const _r=Eo;function Ka(){this.__data__=new _r,this.size=0}const cp=Ka;function lp(o){var e=this.__data__,t=e.delete(o);return this.size=e.size,t}const dp=lp;function up(o){return this.__data__.get(o)}const Za=up;function hp(o){return this.__data__.has(o)}const hd=hp;var fd="[object AsyncFunction]",pd="[object Function]",gd="[object GeneratorFunction]",fp="[object Proxy]";function pp(o){if(!Qe(o))return!1;var e=Ei(o);return e==pd||e==gd||e==fd||e==fp}const Wi=pp;var md=xn["__core-js_shared__"];const Ya=md;var Qa=function(){var o=/[^.]+$/.exec(Ya&&Ya.keys&&Ya.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function Ja(o){return!!Qa&&Qa in o}const gp=Ja;var kd=Function.prototype,Xa=kd.toString;function bd(o){if(o!=null){try{return Xa.call(o)}catch{}try{return o+""}catch{}}return""}const Gi=bd;var wd=/[\\^$.*+?()[\]{}|]/g,mp=/^\[object .+?Constructor\]$/,kp=Function.prototype,ec=Object.prototype,tc=kp.toString,nc=ec.hasOwnProperty,ic=RegExp("^"+tc.call(nc).replace(wd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _d(o){if(!Qe(o)||gp(o))return!1;var e=Wi(o)?ic:mp;return e.test(Gi(o))}const vd=_d;function Ad(o,e){return o==null?void 0:o[e]}const Cd=Ad;function yd(o,e){var t=Cd(o,e);return vd(t)?t:void 0}const qi=yd;var bp=qi(xn,"Map");const vr=bp;var wp=qi(Object,"create");const Ar=wp;function Ki(){this.__data__=Ar?Ar(null):{},this.size=0}const oc=Ki;function _p(o){var e=this.has(o)&&delete this.__data__[o];return this.size-=e?1:0,e}const vp=_p;var xd="__lodash_hash_undefined__",rc=Object.prototype,Ap=rc.hasOwnProperty;function Cp(o){var e=this.__data__;if(Ar){var t=e[o];return t===xd?void 0:t}return Ap.call(e,o)?e[o]:void 0}const yp=Cp;var Ed=Object.prototype,Sd=Ed.hasOwnProperty;function xp(o){var e=this.__data__;return Ar?e[o]!==void 0:Sd.call(e,o)}const Ep=xp;var Sp="__lodash_hash_undefined__";function Dd(o,e){var t=this.__data__;return this.size+=this.has(o)?0:1,t[o]=Ar&&e===void 0?Sp:e,this}const Dp=Dd;function So(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}So.prototype.clear=oc,So.prototype.delete=vp,So.prototype.get=yp,So.prototype.has=Ep,So.prototype.set=Dp;const Td=So;function Id(){this.size=0,this.__data__={hash:new Td,map:new(vr||_r),string:new Td}}const Tp=Id;function Ip(o){var e=typeof o;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?o!=="__proto__":o===null}const Md=Ip;function Mp(o,e){var t=o.__data__;return Md(e)?t[typeof e=="string"?"string":"hash"]:t.map}const Cr=Mp;function Nd(o){var e=Cr(this,o).delete(o);return this.size-=e?1:0,e}const Bd=Nd;function $e(o){return Cr(this,o).get(o)}const Np=$e;function Bp(o){return Cr(this,o).has(o)}const Pp=Bp;function Op(o,e){var t=Cr(this,o),n=t.size;return t.set(o,e),this.size+=t.size==n?0:1,this}const Pd=Op;function Do(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}Do.prototype.clear=Tp,Do.prototype.delete=Bd,Do.prototype.get=Np,Do.prototype.has=Pp,Do.prototype.set=Pd;const ys=Do;var zp=200;function Lp(o,e){var t=this.__data__;if(t instanceof _r){var n=t.__data__;if(!vr||n.length<zp-1)return n.push([o,e]),this.size=++t.size,this;t=this.__data__=new ys(n)}return t.set(o,e),this.size=t.size,this}const Od=Lp;function Hn(o){var e=this.__data__=new _r(o);this.size=e.size}Hn.prototype.clear=cp,Hn.prototype.delete=dp,Hn.prototype.get=Za,Hn.prototype.has=hd,Hn.prototype.set=Od;const To=Hn;function jp(o,e){for(var t=-1,n=o==null?0:o.length;++t<n&&e(o[t],t,o)!==!1;);return o}const zd=jp;var Ld=function(){try{var o=qi(Object,"defineProperty");return o({},"",{}),o}catch{}}();const Io=Ld;function sc(o,e,t){e=="__proto__"&&Io?Io(o,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):o[e]=t}const Si=sc;var Rp=Object.prototype,E=Rp.hasOwnProperty;function D(o,e,t){var n=o[e];(!(E.call(o,e)&&Co(n,t))||t===void 0&&!(e in o))&&Si(o,e,t)}const z=D;function U(o,e,t,n){var s=!t;t||(t={});for(var c=-1,d=e.length;++c<d;){var h=e[c],g=n?n(t[h],o[h],h,t,o):void 0;g===void 0&&(g=o[h]),s?Si(t,h,g):z(t,h,g)}return t}const se=U;function ge(o,e){for(var t=-1,n=Array(o);++t<o;)n[t]=e(t);return n}const be=ge;var we="[object Arguments]";function ht(o){return an(o)&&Ei(o)==we}const Je=ht;var yr=Object.prototype,Zi=yr.hasOwnProperty,$n=yr.propertyIsEnumerable,Mo=Je(function(){return arguments}())?Je:function(o){return an(o)&&Zi.call(o,"callee")&&!$n.call(o,"callee")};const Yi=Mo;function Qi(){return!1}const En=Qi;var Sn=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,Jt=Sn&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,si=Jt&&Jt.exports===Sn,Di=si?xn.Buffer:void 0,fM=Di?Di.isBuffer:void 0,pM=fM||En;const ac=pM;var gM=9007199254740991,mM=/^(?:0|[1-9]\d*)$/;function kM(o,e){var t=typeof o;return e=e??gM,!!e&&(t=="number"||t!="symbol"&&mM.test(o))&&o>-1&&o%1==0&&o<e}const Fp=kM;var bM=9007199254740991;function wM(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=bM}const _v=wM;var _M="[object Arguments]",vM="[object Array]",AM="[object Boolean]",CM="[object Date]",yM="[object Error]",xM="[object Function]",EM="[object Map]",SM="[object Number]",DM="[object Object]",TM="[object RegExp]",IM="[object Set]",MM="[object String]",NM="[object WeakMap]",BM="[object ArrayBuffer]",PM="[object DataView]",OM="[object Float32Array]",zM="[object Float64Array]",LM="[object Int8Array]",jM="[object Int16Array]",RM="[object Int32Array]",FM="[object Uint8Array]",VM="[object Uint8ClampedArray]",UM="[object Uint16Array]",HM="[object Uint32Array]",ot={};ot[OM]=ot[zM]=ot[LM]=ot[jM]=ot[RM]=ot[FM]=ot[VM]=ot[UM]=ot[HM]=!0,ot[_M]=ot[vM]=ot[BM]=ot[AM]=ot[PM]=ot[CM]=ot[yM]=ot[xM]=ot[EM]=ot[SM]=ot[DM]=ot[TM]=ot[IM]=ot[MM]=ot[NM]=!1;function $M(o){return an(o)&&_v(o.length)&&!!ot[Ei(o)]}const WM=$M;function GM(o){return function(e){return o(e)}}const Vp=GM;var vv=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,cc=vv&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,qM=cc&&cc.exports===vv,Up=qM&&nd.process,KM=function(){try{var o=cc&&cc.require&&cc.require("util").types;return o||Up&&Up.binding&&Up.binding("util")}catch{}}();const xs=KM;var Av=xs&&xs.isTypedArray,ZM=Av?Vp(Av):WM;const Hp=ZM;var YM=Object.prototype,QM=YM.hasOwnProperty;function JM(o,e){var t=jt(o),n=!t&&Yi(o),s=!t&&!n&&ac(o),c=!t&&!n&&!s&&Hp(o),d=t||n||s||c,h=d?be(o.length,String):[],g=h.length;for(var b in o)(e||QM.call(o,b))&&!(d&&(b=="length"||s&&(b=="offset"||b=="parent")||c&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Fp(b,g)))&&h.push(b);return h}const Cv=JM;var XM=Object.prototype;function e4(o){var e=o&&o.constructor,t=typeof e=="function"&&e.prototype||XM;return o===t}const $p=e4;var t4=rd(Object.keys,Object);const n4=t4;var i4=Object.prototype,o4=i4.hasOwnProperty;function r4(o){if(!$p(o))return n4(o);var e=[];for(var t in Object(o))o4.call(o,t)&&t!="constructor"&&e.push(t);return e}const s4=r4;function a4(o){return o!=null&&_v(o.length)&&!Wi(o)}const jd=a4;function c4(o){return jd(o)?Cv(o):s4(o)}const Wp=c4;function l4(o,e){return o&&se(e,Wp(e),o)}const d4=l4;function u4(o){var e=[];if(o!=null)for(var t in Object(o))e.push(t);return e}const h4=u4;var f4=Object.prototype,p4=f4.hasOwnProperty;function g4(o){if(!Qe(o))return h4(o);var e=$p(o),t=[];for(var n in o)n=="constructor"&&(e||!p4.call(o,n))||t.push(n);return t}const m4=g4;function k4(o){return jd(o)?Cv(o,!0):m4(o)}const Es=k4;function b4(o,e){return o&&se(e,Es(e),o)}const w4=b4;var yv=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,xv=yv&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,_4=xv&&xv.exports===yv,Ev=_4?xn.Buffer:void 0,Sv=Ev?Ev.allocUnsafe:void 0;function v4(o,e){if(e)return o.slice();var t=o.length,n=Sv?Sv(t):new o.constructor(t);return o.copy(n),n}const Dv=v4;function A4(o,e){var t=-1,n=o.length;for(e||(e=Array(n));++t<n;)e[t]=o[t];return e}const Tv=A4;function C4(o,e){for(var t=-1,n=o==null?0:o.length,s=0,c=[];++t<n;){var d=o[t];e(d,t,o)&&(c[s++]=d)}return c}const y4=C4;function x4(){return[]}const Iv=x4;var E4=Object.prototype,S4=E4.propertyIsEnumerable,Mv=Object.getOwnPropertySymbols,D4=Mv?function(o){return o==null?[]:(o=Object(o),y4(Mv(o),function(e){return S4.call(o,e)}))}:Iv;const Gp=D4;function T4(o,e){return se(o,Gp(o),e)}const I4=T4;function M4(o,e){for(var t=-1,n=e.length,s=o.length;++t<n;)o[s+t]=e[t];return o}const Nv=M4;var N4=Object.getOwnPropertySymbols,B4=N4?function(o){for(var e=[];o;)Nv(e,Gp(o)),o=br(o);return e}:Iv;const Bv=B4;function P4(o,e){return se(o,Bv(o),e)}const O4=P4;function z4(o,e,t){var n=e(o);return jt(o)?n:Nv(n,t(o))}const Pv=z4;function L4(o){return Pv(o,Wp,Gp)}const qp=L4;function j4(o){return Pv(o,Es,Bv)}const R4=j4;var F4=qi(xn,"DataView");const Kp=F4;var V4=qi(xn,"Promise");const Zp=V4;var U4=qi(xn,"Set");const Yp=U4;var H4=qi(xn,"WeakMap");const Qp=H4;var Ov="[object Map]",$4="[object Object]",zv="[object Promise]",Lv="[object Set]",jv="[object WeakMap]",Rv="[object DataView]",W4=Gi(Kp),G4=Gi(vr),q4=Gi(Zp),K4=Gi(Yp),Z4=Gi(Qp),xr=Ei;(Kp&&xr(new Kp(new ArrayBuffer(1)))!=Rv||vr&&xr(new vr)!=Ov||Zp&&xr(Zp.resolve())!=zv||Yp&&xr(new Yp)!=Lv||Qp&&xr(new Qp)!=jv)&&(xr=function(o){var e=Ei(o),t=e==$4?o.constructor:void 0,n=t?Gi(t):"";if(n)switch(n){case W4:return Rv;case G4:return Ov;case q4:return zv;case K4:return Lv;case Z4:return jv}return e});const lc=xr;var Y4=Object.prototype,Q4=Y4.hasOwnProperty;function J4(o){var e=o.length,t=new o.constructor(e);return e&&typeof o[0]=="string"&&Q4.call(o,"index")&&(t.index=o.index,t.input=o.input),t}const X4=J4;var eN=xn.Uint8Array;const Rd=eN;function tN(o){var e=new o.constructor(o.byteLength);return new Rd(e).set(new Rd(o)),e}const Jp=tN;function nN(o,e){var t=e?Jp(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.byteLength)}const iN=nN;var oN=/\w*$/;function rN(o){var e=new o.constructor(o.source,oN.exec(o));return e.lastIndex=o.lastIndex,e}const sN=rN;var Fv=Un?Un.prototype:void 0,Vv=Fv?Fv.valueOf:void 0;function aN(o){return Vv?Object(Vv.call(o)):{}}const cN=aN;function lN(o,e){var t=e?Jp(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.length)}const Uv=lN;var dN="[object Boolean]",uN="[object Date]",hN="[object Map]",fN="[object Number]",pN="[object RegExp]",gN="[object Set]",mN="[object String]",kN="[object Symbol]",bN="[object ArrayBuffer]",wN="[object DataView]",_N="[object Float32Array]",vN="[object Float64Array]",AN="[object Int8Array]",CN="[object Int16Array]",yN="[object Int32Array]",xN="[object Uint8Array]",EN="[object Uint8ClampedArray]",SN="[object Uint16Array]",DN="[object Uint32Array]";function TN(o,e,t){var n=o.constructor;switch(e){case bN:return Jp(o);case dN:case uN:return new n(+o);case wN:return iN(o,t);case _N:case vN:case AN:case CN:case yN:case xN:case EN:case SN:case DN:return Uv(o,t);case hN:return new n;case fN:case mN:return new n(o);case pN:return sN(o);case gN:return new n;case kN:return cN(o)}}const IN=TN;var Hv=Object.create,MN=function(){function o(){}return function(e){if(!Qe(e))return{};if(Hv)return Hv(e);o.prototype=e;var t=new o;return o.prototype=void 0,t}}();const NN=MN;function BN(o){return typeof o.constructor=="function"&&!$p(o)?NN(br(o)):{}}const $v=BN;var PN="[object Map]";function ON(o){return an(o)&&lc(o)==PN}const zN=ON;var Wv=xs&&xs.isMap,LN=Wv?Vp(Wv):zN;const jN=LN;var RN="[object Set]";function FN(o){return an(o)&&lc(o)==RN}const VN=FN;var Gv=xs&&xs.isSet,UN=Gv?Vp(Gv):VN;const HN=UN;var $N=1,WN=2,GN=4,qv="[object Arguments]",qN="[object Array]",KN="[object Boolean]",ZN="[object Date]",YN="[object Error]",Kv="[object Function]",QN="[object GeneratorFunction]",JN="[object Map]",XN="[object Number]",Zv="[object Object]",eB="[object RegExp]",tB="[object Set]",nB="[object String]",iB="[object Symbol]",oB="[object WeakMap]",rB="[object ArrayBuffer]",sB="[object DataView]",aB="[object Float32Array]",cB="[object Float64Array]",lB="[object Int8Array]",dB="[object Int16Array]",uB="[object Int32Array]",hB="[object Uint8Array]",fB="[object Uint8ClampedArray]",pB="[object Uint16Array]",gB="[object Uint32Array]",Xe={};Xe[qv]=Xe[qN]=Xe[rB]=Xe[sB]=Xe[KN]=Xe[ZN]=Xe[aB]=Xe[cB]=Xe[lB]=Xe[dB]=Xe[uB]=Xe[JN]=Xe[XN]=Xe[Zv]=Xe[eB]=Xe[tB]=Xe[nB]=Xe[iB]=Xe[hB]=Xe[fB]=Xe[pB]=Xe[gB]=!0,Xe[YN]=Xe[Kv]=Xe[oB]=!1;function Fd(o,e,t,n,s,c){var d,h=e&$N,g=e&WN,b=e&GN;if(t&&(d=s?t(o,n,s,c):t(o)),d!==void 0)return d;if(!Qe(o))return o;var v=jt(o);if(v){if(d=X4(o),!h)return Tv(o,d)}else{var y=lc(o),I=y==Kv||y==QN;if(ac(o))return Dv(o,h);if(y==Zv||y==qv||I&&!s){if(d=g||I?{}:$v(o),!h)return g?O4(o,w4(d,o)):I4(o,d4(d,o))}else{if(!Xe[y])return s?o:{};d=IN(o,y,h)}}c||(c=new To);var B=c.get(o);if(B)return B;c.set(o,d),HN(o)?o.forEach(function(q){d.add(Fd(q,e,t,q,o,c))}):jN(o)&&o.forEach(function(q,Y){d.set(Y,Fd(q,e,t,Y,o,c))});var R=b?g?R4:qp:g?Es:Wp,V=v?void 0:R(o);return zd(V||o,function(q,Y){V&&(Y=q,q=o[Y]),z(d,Y,Fd(q,e,t,Y,o,c))}),d}const Xp=Fd;var mB=1,kB=4;function bB(o,e){return e=typeof e=="function"?e:void 0,Xp(o,mB|kB,e)}const eg=bB;function wB(o){return an(o)&&o.nodeType===1&&!Qt(o)}const Er=wB;class Yv{constructor(e,t){this._config={},t&&this.define(Qv(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,s=!1){if(Qt(t)){this._setObjectToTarget(e,t,s);return}const c=t.split(".");t=c.pop();for(const d of c)Qt(e[d])||(e[d]={}),e=e[d];if(Qt(n)){Qt(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,s);return}s&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const s of n){if(!Qt(e[s])){e=null;break}e=e[s]}return e?Qv(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],n)})}}function Qv(o){return eg(o,_B)}function _B(o){return Er(o)?o:void 0}function No(o){if(o){if(o.defaultView)return o instanceof o.defaultView.Document;if(o.ownerDocument&&o.ownerDocument.defaultView)return o instanceof o.ownerDocument.defaultView.Node}return!1}function Vd(o){const e=Object.prototype.toString.apply(o);return e=="[object Window]"||e=="[object global]"}const Jv=Wn(Ee());function Wn(o){if(!o)return Jv;class e extends o{listenTo(n,s,c,d={}){if(No(n)||Vd(n)){const h={capture:!!d.useCapture,passive:!!d.usePassive},g=this._getProxyEmitter(n,h)||new vB(n,h);this.listenTo(g,s,c,d)}else super.listenTo(n,s,c,d)}stopListening(n,s,c){if(No(n)||Vd(n)){const d=this._getAllProxyEmitters(n);for(const h of d)this.stopListening(h,s,c)}else super.stopListening(n,s,c)}_getProxyEmitter(n,s){return Df(this,Xv(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{Wn[o]=Jv.prototype[o]});class vB extends Ee(){constructor(e,t){super(),Ql(this,Xv(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),Ee().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){Ee().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function AB(o){return o["data-ck-expando"]||(o["data-ck-expando"]=Ae())}function Xv(o,e){let t=AB(o);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}let tg;try{tg={window,document}}catch{tg={window:{},document:{}}}const he=tg;function CB(o){const e=[];let t=o;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function yB(o){return o instanceof HTMLTextAreaElement?o.value:o.innerHTML}function Et(o){return Object.prototype.toString.call(o)=="[object Text]"}function Ud(o){return Object.prototype.toString.apply(o)=="[object Range]"}function e0(o){const e=o.ownerDocument.defaultView.getComputedStyle(o);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function t0(o){return!o||!o.parentNode||o.offsetParent===he.document.body?null:o.offsetParent}const n0=["top","right","bottom","left","width","height"];class Le{constructor(e){const t=Ud(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ng(e)||t)if(t){const n=Le.getDomRangeRects(e);Hd(this,Le.getBoundingRect(n))}else Hd(this,e.getBoundingClientRect());else if(Vd(e)){const{innerWidth:n,innerHeight:s}=e;Hd(this,{top:0,right:n,bottom:s,left:0,width:n,height:s})}else Hd(this,e)}clone(){return new Le(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new Le(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(i0(e))return t;let n=e,s=e.parentNode||e.commonAncestorContainer,c;for(;s&&!i0(s);){const d=xB(s)==="visible";n instanceof HTMLElement&&o0(n)==="absolute"&&(c=n);const h=o0(s);if(d||c&&(h==="relative"&&d||h!=="relative")){n=s,s=s.parentNode;continue}const g=new Le(s),b=t.getIntersection(g);if(b)b.getArea()<t.getArea()&&(t=b);else return null;n=s,s=s.parentNode}return t}isEqual(e){for(const t of n0)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=he.window,n=this.clone().moveBy(e,t);if(ng(n._source)){const s=t0(n._source);s&&EB(n,s)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,s;if(Vd(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const c=e0(e);t=e.offsetWidth-e.clientWidth-c.left-c.right,n=e.offsetHeight-e.clientHeight-c.top-c.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const s of n)t.push(new Le(s));else{let s=e.startContainer;Et(s)&&(s=s.parentNode);const c=new Le(s.getBoundingClientRect());c.right=c.left,c.width=0,t.push(c)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const s of e)n++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Le(t))}}function Hd(o,e){for(const t of n0)o[t]=e[t]}function i0(o){return ng(o)?o===o.ownerDocument.body:!1}function ng(o){return o!==null&&typeof o=="object"&&o.nodeType===1&&typeof o.getBoundingClientRect=="function"}function o0(o){return o instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).position:"static"}function xB(o){return o instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).overflow:"visible"}function EB(o,e){const t=new Le(e),n=e0(e);let s=0,c=0;s-=t.left,c-=t.top,s+=e.scrollLeft,c+=e.scrollTop,s-=n.left,c-=n.top,o.moveBy(s,c)}class Ye{constructor(e,t){Ye._observerInstance||Ye._createObserver(),this._element=e,this._callback=t,Ye._addElementCallback(e,t),Ye._observerInstance.observe(e)}get element(){return this._element}destroy(){Ye._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Ye._elementCallbacks||(Ye._elementCallbacks=new Map);let n=Ye._elementCallbacks.get(e);n||(n=new Set,Ye._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=Ye._getElementCallbacks(e);n&&(n.delete(t),n.size||(Ye._elementCallbacks.delete(e),Ye._observerInstance.unobserve(e))),Ye._elementCallbacks&&!Ye._elementCallbacks.size&&(Ye._observerInstance=null,Ye._elementCallbacks=null)}static _getElementCallbacks(e){return Ye._elementCallbacks?Ye._elementCallbacks.get(e):null}static _createObserver(){Ye._observerInstance=new he.window.ResizeObserver(e=>{for(const t of e){const n=Ye._getElementCallbacks(t.target);if(n)for(const s of n)s(t)}})}}Ye._observerInstance=null,Ye._elementCallbacks=null;function r0(o,e){o instanceof HTMLTextAreaElement&&(o.value=e),o.innerHTML=e}function dc(o){return e=>e+o}function $d(o){let e=0;for(;o.previousSibling;)o=o.previousSibling,e++;return e}function s0(o,e,t){o.insertBefore(t,o.childNodes[e]||null)}function uc(o){return o&&o.nodeType===Node.COMMENT_NODE}function SB(o){try{he.document.createAttribute(o)}catch{return!1}return!0}function Sr(o){return!!(o&&o.getClientRects&&o.getClientRects().length)}function ig({element:o,target:e,positions:t,limiter:n,fitInViewport:s,viewportOffsetConfig:c}){Wi(e)&&(e=e()),Wi(n)&&(n=n());const d=t0(o),h=DB(c),g=new Le(o),b=a0(e,h);let v;if(!b||!h.getIntersection(b))return null;const y={targetRect:b,elementRect:g,positionedElementAncestor:d,viewportRect:h};if(!n&&!s)v=new c0(t[0],y);else{if(n){const I=a0(n,h);I&&(y.limiterRect=I)}v=TB(t,y)}return v}function a0(o,e){const t=new Le(o).getVisible();return t?t.getIntersection(e):null}function DB(o){o=Object.assign({top:0,bottom:0,left:0,right:0},o);const e=new Le(he.window);return e.top+=o.top,e.height-=o.top,e.bottom-=o.bottom,e.height-=o.bottom,e}function TB(o,e){const{elementRect:t}=e,n=t.getArea(),s=o.map(h=>new c0(h,e)).filter(h=>!!h.name);let c=0,d=null;for(const h of s){const{limiterIntersectionArea:g,viewportIntersectionArea:b}=h;if(g===n)return h;const v=b**2+g**2;v>c&&(c=v,d=h)}return d}class c0{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:s,top:c,name:d,config:h}=n;this.name=d,this.config=h,this._positioningFunctionCoordinates={left:s,top:c},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}function l0(o){const e=o.parentNode;e&&e.removeChild(o)}function IB({target:o,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:s}){const c=og(o);let d=c,h=null;for(e=BB(e);d;){let g;d==c?g=p0(o):g=p0(h),NB({parent:g,getRect:()=>g0(o,d),alignToTop:n,ancestorOffset:t,forceScroll:s});const b=g0(o,d);if(MB({window:d,rect:b,viewportOffset:e,alignToTop:n,forceScroll:s}),d.parent!=d){if(h=d.frameElement,d=d.parent,!h)return}else d=null}}function MB({window:o,rect:e,alignToTop:t,forceScroll:n,viewportOffset:s}){const c=e.clone().moveBy(0,s.bottom),d=e.clone().moveBy(0,-s.top),h=new Le(o).excludeScrollbarsAndBorders(),g=[d,c],b=t&&n,v=g.every(V=>h.contains(V));let{scrollX:y,scrollY:I}=o;const B=y,R=I;b?I-=h.top-e.top+s.top:v||(u0(d,h)?I-=h.top-e.top+s.top:d0(c,h)&&(t?I+=e.top-h.top-s.top:I+=e.bottom-h.bottom+s.bottom)),v||(h0(e,h)?y-=h.left-e.left+s.left:f0(e,h)&&(y+=e.right-h.right+s.right)),(y!=B||I!==R)&&o.scrollTo(y,I)}function NB({parent:o,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:s=0,limiterElement:c}){const d=og(o),h=t&&n;let g,b,v;const y=c||d.document.body;for(;o!=y;)b=e(),g=new Le(o).excludeScrollbarsAndBorders(),v=g.contains(b),h?o.scrollTop-=g.top-b.top+s:v||(u0(b,g)?o.scrollTop-=g.top-b.top+s:d0(b,g)&&(t?o.scrollTop+=b.top-g.top-s:o.scrollTop+=b.bottom-g.bottom+s)),v||(h0(b,g)?o.scrollLeft-=g.left-b.left+s:f0(b,g)&&(o.scrollLeft+=b.right-g.right+s)),o=o.parentNode}function d0(o,e){return o.bottom>e.bottom}function u0(o,e){return o.top<e.top}function h0(o,e){return o.left<e.left}function f0(o,e){return o.right>e.right}function og(o){return Ud(o)?o.startContainer.ownerDocument.defaultView:o.ownerDocument.defaultView}function p0(o){if(Ud(o)){let e=o.commonAncestorContainer;return Et(e)&&(e=e.parentNode),e}else return o.parentNode}function g0(o,e){const t=og(o),n=new Le(o);if(t===e)return n;{let s=t;for(;s!=e;){const c=s.frameElement,d=new Le(c).excludeScrollbarsAndBorders();n.moveBy(d.left,d.top),s=s.parent}}return n}function BB(o){return typeof o=="number"?{top:o,bottom:o,left:o,right:o}:o}const PB={ctrl:"",cmd:"",alt:"",shift:""},OB={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},De=FB(),zB=Object.fromEntries(Object.entries(De).map(([o,e])=>[e,o.charAt(0).toUpperCase()+o.slice(1)]));function Ss(o){let e;if(typeof o=="string"){if(e=De[o.toLowerCase()],!e)throw new L("keyboard-unknown-key",null,{key:o})}else e=o.keyCode+(o.altKey?De.alt:0)+(o.ctrlKey?De.ctrl:0)+(o.shiftKey?De.shift:0)+(o.metaKey?De.cmd:0);return e}function hc(o){return typeof o=="string"&&(o=VB(o)),o.map(e=>typeof e=="string"?jB(e):e).reduce((e,t)=>t+e,0)}function m0(o){let e=hc(o);return Object.entries(m.isMac||m.isiOS?PB:OB).reduce((s,[c,d])=>(e&De[c]&&(e&=~De[c],s+=d),s),"")+(e?zB[e]:"")}function LB(o){return o==De.arrowright||o==De.arrowleft||o==De.arrowup||o==De.arrowdown}function rg(o,e){const t=e==="ltr";switch(o){case De.arrowleft:return t?"left":"right";case De.arrowright:return t?"right":"left";case De.arrowup:return"up";case De.arrowdown:return"down"}}function jB(o){if(o.endsWith("!"))return Ss(o.slice(0,-1));const e=Ss(o);return(m.isMac||m.isiOS)&&e==De.ctrl?De.cmd:e}function RB(o,e){const t=rg(o,e);return t==="down"||t==="right"}function FB(){const o={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);o[t.toLowerCase()]=e}for(let e=48;e<=57;e++)o[e-48]=e;for(let e=112;e<=123;e++)o["f"+(e-111)]=e;for(const e of"`-=[];',./\\")o[e]=e.charCodeAt(0);return o}function VB(o){return o.split("+").map(e=>e.trim())}function Rt(o){return Array.isArray(o)?o:[o]}he.window.CKEDITOR_TRANSLATIONS||(he.window.CKEDITOR_TRANSLATIONS={});function UB(o,e,t=1){if(typeof t!="number")throw new L("translation-service-quantity-not-a-number",null,{quantity:t});const n=$B();n===1&&(o=Object.keys(he.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(n===0||!HB(o,s))return t!==1?e.plural:e.string;const c=he.window.CKEDITOR_TRANSLATIONS[o].dictionary,d=he.window.CKEDITOR_TRANSLATIONS[o].getPluralForm||(b=>b===1?0:1),h=c[s];if(typeof h=="string")return h;const g=Number(d(t));return h[g]}function HB(o,e){return!!he.window.CKEDITOR_TRANSLATIONS[o]&&!!he.window.CKEDITOR_TRANSLATIONS[o].dictionary[e]}function $B(){return Object.keys(he.window.CKEDITOR_TRANSLATIONS).length}const WB=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function k0(o){return WB.includes(o)?"rtl":"ltr"}class GB{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=k0(this.uiLanguage),this.contentLanguageDirection=k0(this.contentLanguage),this.t=(n,s)=>this._t(n,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Rt(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,c=UB(this.uiLanguage,e,s);return qB(c,t)}}function qB(o,e){return o.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}class ai extends Ee(){constructor(e={},t={}){super();const n=Pt(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new L("collection-add-item-invalid-index",this);let n=0;for(const s of e){const c=this._getItemIdBeforeAdding(s),d=t+n;this._items.splice(d,0,s),this._itemMap.set(c,s),this.fire("add",s,d),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new L("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new L("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(s,c,d)=>{const h=t._bindToCollection==this,g=t._bindToInternalToExternalMap.get(c);if(h&&g)this._bindToExternalToInternalMap.set(c,g),this._bindToInternalToExternalMap.set(g,c);else{const b=e(c);if(!b){this._skippedIndexesFromExternal.push(d);return}let v=d;for(const y of this._skippedIndexesFromExternal)d>y&&v--;for(const y of t._skippedIndexesFromExternal)v>=y&&v++;this._bindToExternalToInternalMap.set(c,b),this._bindToInternalToExternalMap.set(b,c),this.add(b,v);for(let y=0;y<t._skippedIndexesFromExternal.length;y++)v<=t._skippedIndexesFromExternal[y]&&t._skippedIndexesFromExternal[y]++}};for(const s of t)n(null,s,t.getIndex(s));this.listenTo(t,"add",n),this.listenTo(t,"remove",(s,c,d)=>{const h=this._bindToExternalToInternalMap.get(c);h&&this.remove(h),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,b)=>(d<b&&g.push(b-1),d>b&&g.push(b),g),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new L("collection-add-invalid-id",this);if(this.get(n))throw new L("collection-add-item-already-exists",this)}else e[t]=n=Ae();return n}_remove(e){let t,n,s,c=!1;const d=this._idProperty;if(typeof e=="string"?(n=e,s=this._itemMap.get(n),c=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],c=!s,s&&(n=s[d])):(s=e,n=s[d],t=this._items.indexOf(s),c=t==-1||!this._itemMap.get(n)),c)throw new L("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const h=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(h),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function St(o){const e=o.next();return e.done?null:e.value}class pn extends Wn(Re()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new L("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class ci{constructor(){this._listener=new(Wn())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Ss(n),n)})}set(e,t,n={}){const s=hc(e),c=n.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(d,h)=>{t(h,()=>{h.preventDefault(),h.stopPropagation(),d.stop()}),d.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+Ss(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function KB(o){const e=new Map;for(const t in o)e.set(t,o[t]);return e}function Ji(o){return Pt(o)?new Map(o):KB(o)}const ZB=1e4;function YB(o,e,t,n){if(Math.max(e.length,o.length)>ZB)return o.slice(0,t).concat(e).concat(o.slice(t+n,o.length));{const s=Array.from(o);return s.splice(t,n,...e),s}}function sg(o,e){let t;function n(...s){n.cancel(),t=setTimeout(()=>o(...s),e)}return n.cancel=()=>{clearTimeout(t)},n}function QB(o){function e(y){return y.length>=40&&y.length<=255?"VALID":"INVALID"}if(!o)return"INVALID";let t="";try{t=atob(o)}catch{return"INVALID"}const n=t.split("-"),s=n[0],c=n[1];if(!c)return e(o);try{atob(c)}catch{try{if(atob(s),!atob(s).length)return e(o)}catch{return e(o)}}if(s.length<40||s.length>255)return"INVALID";let d="";try{atob(s),d=atob(c)}catch{return"INVALID"}if(d.length!==8)return"INVALID";const h=Number(d.substring(0,4)),g=Number(d.substring(4,6))-1,b=Number(d.substring(6,8)),v=new Date(h,g,b);return v<mt||isNaN(Number(v))?"INVALID":"VALID"}function JB(o){return!!o&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o)}function XB(o){return!!o&&o.length==1&&/[\ud800-\udbff]/.test(o)}function e3(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}function ag(o,e){return XB(o.charAt(e-1))&&e3(o.charAt(e))}function cg(o,e){return JB(o.charAt(e))}const t3=n3();function b0(o,e){const t=String(o).matchAll(t3);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function n3(){const o=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+o.map(s=>s.source).join("|")+")",n=`${e}|${t}(?:${t})*`;return new RegExp(n,"ug")}class J extends Re(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",w0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",w0),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function w0(o){o.return=!1,o.stop()}class Ce extends Re(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,c=!(n.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!c)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",_0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",_0),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function _0(o){o.return=!1,o.stop()}class v0 extends Ce{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){dt(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class A0 extends Ee(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,c]of n)this._contextPlugins.set(s,c),this._contextPlugins.set(c,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new L("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const s=this,c=this._context;B(e),V(e);const d=e.filter(le=>!y(le,t)),h=[...R(d)];rt(h,n);const g=ye(h);return Ke(g,"init").then(()=>Ke(g,"afterInit")).then(()=>g);function b(le){return typeof le=="function"}function v(le){return b(le)&&!!le.isContextPlugin}function y(le,pe){return pe.some(de=>de===le||I(le)===de||I(de)===le)}function I(le){return b(le)?le.pluginName||le.name:le}function B(le,pe=new Set){le.forEach(de=>{b(de)&&(pe.has(de)||(pe.add(de),de.pluginName&&!s._availablePlugins.has(de.pluginName)&&s._availablePlugins.set(de.pluginName,de),de.requires&&B(de.requires,pe)))})}function R(le,pe=new Set){return le.map(de=>b(de)?de:s._availablePlugins.get(de)).reduce((de,st)=>pe.has(st)?de:(pe.add(st),st.requires&&(V(st.requires,st),R(st.requires,pe).forEach(Ur=>de.add(Ur))),de.add(st)),new Set)}function V(le,pe=null){le.map(de=>b(de)?de:s._availablePlugins.get(de)||de).forEach(de=>{q(de,pe),Y(de,pe),ae(de,pe)})}function q(le,pe){if(!b(le))throw pe?new L("plugincollection-soft-required",c,{missingPlugin:le,requiredBy:I(pe)}):new L("plugincollection-plugin-not-found",c,{plugin:le})}function Y(le,pe){if(v(pe)&&!v(le))throw new L("plugincollection-context-required",c,{plugin:I(le),requiredBy:I(pe)})}function ae(le,pe){if(pe&&y(le,t))throw new L("plugincollection-required",c,{plugin:I(le),requiredBy:I(pe)})}function ye(le){return le.map(pe=>{let de=s._contextPlugins.get(pe);return de=de||new pe(c),s._add(pe,de),de})}function Ke(le,pe){return le.reduce((de,st)=>!st[pe]||s._contextPlugins.has(st)?de:de.then(st[pe].bind(st)),Promise.resolve())}function rt(le,pe){for(const de of pe){if(typeof de!="function")throw new L("plugincollection-replace-plugin-invalid-type",null,{pluginItem:de});const st=de.pluginName;if(!st)throw new L("plugincollection-replace-plugin-missing-name",null,{pluginItem:de});if(de.requires&&de.requires.length)throw new L("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:st});const Ur=s._availablePlugins.get(st);if(!Ur)throw new L("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:st});const l2=le.indexOf(Ur);if(l2===-1){if(s._contextPlugins.has(Ur))return;throw new L("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:st})}if(Ur.requires&&Ur.requires.length)throw new L("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:st});le.splice(l2,1,de),s._availablePlugins.set(st,de)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new L("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class C0{constructor(e){this._contextOwner=null,this.config=new Yv(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new A0(this,t);const n=this.config.get("language")||{};this.locale=new GB({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ai}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new L("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new L("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new L("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class y0 extends Re(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var i3=a(3379),ie=a.n(i3),x0=a(7372),lg={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lg.insert="head",lg.singleton=!0,ie()(x0.Z,lg),x0.Z.locals;const Wd=new WeakMap;let E0=!1;function S0({view:o,element:e,text:t,isDirectHost:n=!0,keepOnFocus:s=!1}){const c=o.document;Wd.has(c)||(Wd.set(c,new Map),c.registerPostFixer(h=>dg(c,h)),c.on("change:isComposing",()=>{o.change(h=>dg(c,h))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(h,g,b)=>{d(b)}),e.placeholder?d(e.placeholder):t&&d(t),t&&c3();function d(h){Wd.get(c).set(e,{text:h,isDirectHost:n,keepOnFocus:s,hostElement:n?e:null}),o.change(g=>dg(c,g))}}function o3(o,e){return e.hasClass("ck-placeholder")?!1:(o.addClass("ck-placeholder",e),!0)}function r3(o,e){return e.hasClass("ck-placeholder")?(o.removeClass("ck-placeholder",e),!0):!1}function s3(o,e){if(!o.isAttached()||Array.from(o.getChildren()).some(d=>!d.is("uiElement")))return!1;const n=o.document,c=n.selection.anchor;return n.isComposing&&c&&c.parent===o?!1:e||!n.isFocused?!0:!!c&&c.parent!==o}function dg(o,e){const t=Wd.get(o),n=[];let s=!1;for(const[c,d]of t)d.isDirectHost&&(n.push(c),D0(e,c,d)&&(s=!0));for(const[c,d]of t){if(d.isDirectHost)continue;const h=a3(c);h&&(n.includes(h)||(d.hostElement=h,D0(e,c,d)&&(s=!0)))}return s}function D0(o,e,t){const{text:n,isDirectHost:s,hostElement:c}=t;let d=!1;return c.getAttribute("data-placeholder")!==n&&(o.setAttribute("data-placeholder",n,c),d=!0),(s||e.childCount==1)&&s3(c,t.keepOnFocus)?o3(o,c)&&(d=!0):r3(o,c)&&(d=!0),d}function a3(o){if(o.childCount){const e=o.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function c3(){E0||Ie("enableplaceholder-deprecated-text-option"),E0=!0}class Dr{is(){throw new Error("is() method is abstract")}}var l3=4;function d3(o){return Xp(o,l3)}const T0=d3;class Tr extends Ee(Dr){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new L("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=Ct(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=T0(this);return delete e.parent,e}}Tr.prototype.is=function(o){return o==="node"||o==="view:node"};class We extends Tr{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof We?this===e||this.data===e.data:!1}_clone(){return new We(this.document,this.data)}}We.prototype.is=function(o){return o==="$text"||o==="view:$text"||o==="text"||o==="view:text"||o==="node"||o==="view:node"};class Ti extends Dr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new L("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new L("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}Ti.prototype.is=function(o){return o==="$textProxy"||o==="view:$textProxy"||o==="textProxy"||o==="view:textProxy"};class fc{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const s=I0(t,n);if(s)return{element:t,pattern:n,match:s}}return null}matchAll(...e){const t=[];for(const n of e)for(const s of this._patterns){const c=I0(n,s);c&&t.push({element:n,pattern:s,match:c})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function I0(o,e){if(typeof e=="function")return e(o);const t={};return e.name&&(t.name=u3(e.name,o.name),!t.name)||e.attributes&&(t.attributes=g3(e.attributes,o),!t.attributes)||e.classes&&(t.classes=m3(e.classes,o),!t.classes)||e.styles&&(t.styles=k3(e.styles,o),!t.styles)?null:t}function u3(o,e){return o instanceof RegExp?!!e.match(o):o===e}function ug(o,e,t){const n=h3(o),s=Array.from(e),c=[];if(n.forEach(([d,h])=>{s.forEach(g=>{f3(d,g)&&p3(h,g,t)&&c.push(g)})}),!(!n.length||c.length<n.length))return c}function h3(o){return Array.isArray(o)?o.map(e=>Qt(e)?((e.key===void 0||e.value===void 0)&&Ie("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Qt(o)?Object.entries(o):[[o,!0]]}function f3(o,e){return o===!0||o===e||o instanceof RegExp&&e.match(o)}function p3(o,e,t){if(o===!0)return!0;const n=t(e);return o===n||o instanceof RegExp&&!!String(n).match(o)}function g3(o,e){const t=new Set(e.getAttributeKeys());return Qt(o)?(o.style!==void 0&&Ie("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&Ie("matcher-pattern-deprecated-attributes-class-key",o)):(t.delete("style"),t.delete("class")),ug(o,t,n=>e.getAttribute(n))}function m3(o,e){return ug(o,e.getClassNames(),()=>{})}function k3(o,e){return ug(o,e.getStyleNames(!0),t=>e.getStyle(t))}var b3="[object Symbol]";function w3(o){return typeof o=="symbol"||an(o)&&Ei(o)==b3}const Gd=w3;var _3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v3=/^\w*$/;function A3(o,e){if(jt(o))return!1;var t=typeof o;return t=="number"||t=="symbol"||t=="boolean"||o==null||Gd(o)?!0:v3.test(o)||!_3.test(o)||e!=null&&o in Object(e)}const C3=A3;var y3="Expected a function";function hg(o,e){if(typeof o!="function"||e!=null&&typeof e!="function")throw new TypeError(y3);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],c=t.cache;if(c.has(s))return c.get(s);var d=o.apply(this,n);return t.cache=c.set(s,d)||c,d};return t.cache=new(hg.Cache||ys),t}hg.Cache=ys;const x3=hg;var E3=500;function S3(o){var e=x3(o,function(n){return t.size===E3&&t.clear(),n}),t=e.cache;return e}const D3=S3;var T3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I3=/\\(\\)?/g,M3=D3(function(o){var e=[];return o.charCodeAt(0)===46&&e.push(""),o.replace(T3,function(t,n,s,c){e.push(s?c.replace(I3,"$1"):n||t)}),e});const N3=M3;function B3(o,e){for(var t=-1,n=o==null?0:o.length,s=Array(n);++t<n;)s[t]=e(o[t],t,o);return s}const P3=B3;var O3=1/0,M0=Un?Un.prototype:void 0,N0=M0?M0.toString:void 0;function B0(o){if(typeof o=="string")return o;if(jt(o))return P3(o,B0)+"";if(Gd(o))return N0?N0.call(o):"";var e=o+"";return e=="0"&&1/o==-O3?"-0":e}const z3=B0;function L3(o){return o==null?"":z3(o)}const fg=L3;function j3(o,e){return jt(o)?o:C3(o,e)?[o]:N3(fg(o))}const pg=j3;function R3(o){var e=o==null?0:o.length;return e?o[e-1]:void 0}const F3=R3;var V3=1/0;function U3(o){if(typeof o=="string"||Gd(o))return o;var e=o+"";return e=="0"&&1/o==-V3?"-0":e}const gg=U3;function H3(o,e){e=pg(e,o);for(var t=0,n=e.length;o!=null&&t<n;)o=o[gg(e[t++])];return t&&t==n?o:void 0}const P0=H3;function $3(o,e,t){var n=-1,s=o.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var c=Array(s);++n<s;)c[n]=o[n+e];return c}const O0=$3;function W3(o,e){return e.length<2?o:P0(o,O0(e,0,-1))}const G3=W3;function q3(o,e){return e=pg(e,o),o=G3(o,e),o==null||delete o[gg(F3(e))]}const K3=q3;function Z3(o,e){return o==null?!0:K3(o,e)}const Y3=Z3;function Q3(o,e,t){var n=o==null?void 0:P0(o,e);return n===void 0?t:n}const qd=Q3;function J3(o,e,t){(t!==void 0&&!Co(o[e],t)||t===void 0&&!(e in o))&&Si(o,e,t)}const mg=J3;function X3(o){return function(e,t,n){for(var s=-1,c=Object(e),d=n(e),h=d.length;h--;){var g=d[o?h:++s];if(t(c[g],g,c)===!1)break}return e}}var eP=X3();const tP=eP;function nP(o){return an(o)&&jd(o)}const iP=nP;function oP(o,e){if(!(e==="constructor"&&typeof o[e]=="function")&&e!="__proto__")return o[e]}const kg=oP;function rP(o){return se(o,Es(o))}const sP=rP;function aP(o,e,t,n,s,c,d){var h=kg(o,t),g=kg(e,t),b=d.get(g);if(b){mg(o,t,b);return}var v=c?c(h,g,t+"",o,e,d):void 0,y=v===void 0;if(y){var I=jt(g),B=!I&&ac(g),R=!I&&!B&&Hp(g);v=g,I||B||R?jt(h)?v=h:iP(h)?v=Tv(h):B?(y=!1,v=Dv(g,!0)):R?(y=!1,v=Uv(g,!0)):v=[]:Qt(g)||Yi(g)?(v=h,Yi(h)?v=sP(h):(!Qe(h)||Wi(h))&&(v=$v(g))):y=!1}y&&(d.set(g,v),s(v,g,n,c,d),d.delete(g)),mg(o,t,v)}const cP=aP;function z0(o,e,t,n,s){o!==e&&tP(e,function(c,d){if(s||(s=new To),Qe(c))cP(o,e,d,t,z0,n,s);else{var h=n?n(kg(o,d),c,d+"",o,e,s):void 0;h===void 0&&(h=c),mg(o,d,h)}},Es)}const lP=z0;function dP(o){return o}const Ir=dP;function uP(o,e,t){switch(t.length){case 0:return o.call(e);case 1:return o.call(e,t[0]);case 2:return o.call(e,t[0],t[1]);case 3:return o.call(e,t[0],t[1],t[2])}return o.apply(e,t)}const hP=uP;var L0=Math.max;function fP(o,e,t){return e=L0(e===void 0?o.length-1:e,0),function(){for(var n=arguments,s=-1,c=L0(n.length-e,0),d=Array(c);++s<c;)d[s]=n[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=n[s];return h[e]=t(d),hP(o,this,h)}}const pP=fP;function gP(o){return function(){return o}}const mP=gP;var kP=Io?function(o,e){return Io(o,"toString",{configurable:!0,enumerable:!1,value:mP(e),writable:!0})}:Ir;const bP=kP;var wP=800,_P=16,vP=Date.now;function AP(o){var e=0,t=0;return function(){var n=vP(),s=_P-(n-t);if(t=n,s>0){if(++e>=wP)return arguments[0]}else e=0;return o.apply(void 0,arguments)}}var CP=AP(bP);const yP=CP;function xP(o,e){return yP(pP(o,e,Ir),o+"")}const EP=xP;function SP(o,e,t){if(!Qe(t))return!1;var n=typeof e;return(n=="number"?jd(t)&&Fp(e,t.length):n=="string"&&e in t)?Co(t[e],o):!1}const DP=SP;function TP(o){return EP(function(e,t){var n=-1,s=t.length,c=s>1?t[s-1]:void 0,d=s>2?t[2]:void 0;for(c=o.length>3&&typeof c=="function"?(s--,c):void 0,d&&DP(t[0],t[1],d)&&(c=s<3?void 0:c,s=1),e=Object(e);++n<s;){var h=t[n];h&&o(e,h,n,c)}return e})}const j0=TP;var IP=j0(function(o,e,t){lP(o,e,t)});const R0=IP;function MP(o,e,t,n){if(!Qe(o))return o;e=pg(e,o);for(var s=-1,c=e.length,d=c-1,h=o;h!=null&&++s<c;){var g=gg(e[s]),b=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(s!=d){var v=h[g];b=n?n(v,g,h):void 0,b===void 0&&(b=Qe(v)?v:Fp(e[s+1])?[]:{})}z(h,g,b),h=h[g]}return o}const NP=MP;function BP(o,e,t){return o==null?o:NP(o,e,t)}const PP=BP;class OP{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(LP(e).entries());for(const[n,s]of t)this._styleProcessor.toNormalizedForm(n,s,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)}set(e,t){if(Qe(e))for(const[n,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=bg(e);Y3(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Qe(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),c=qd(this._styles,s);if(!c)return;!Array.from(Object.keys(c)).length&&this.remove(s)}}class zP{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Qe(t)){wg(n,bg(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:c,value:d}=s(t);wg(n,c,d)}else wg(n,e,t)}getNormalized(e,t){if(!e)return R0({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return qd(t,n);const s=n(e,t);if(s)return s}return qd(t,bg(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const c=this.getNormalized(s,e);return c&&typeof c=="object"?Object.keys(c).length:c}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function LP(o){let e=null,t=0,n=0,s=null;const c=new Map;if(o==="")return c;o.charAt(o.length-1)!=";"&&(o=o+";");for(let d=0;d<o.length;d++){const h=o.charAt(d);if(e===null)switch(h){case":":s||(s=o.substr(t,d-t),n=d+1);break;case'"':case"'":e=h;break;case";":{const g=o.substr(n,d-n);s&&c.set(s.trim(),g.trim()),s=null,t=d+1;break}}else h===e&&(e=null)}return c}function bg(o){return o.replace("-",".")}function wg(o,e,t){let n=t;Qe(t)&&(n=R0({},qd(o,e),t)),PP(o,e,n)}class Dn extends Tr{constructor(e,t,n,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=jP(n),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");F0(this._classes,c),this._attrs.delete("class")}this._styles=new OP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Dn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new fc(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=RP(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?F0(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Rt(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Rt(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Rt(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Dn.prototype.is=function(o,e){return e?e===this.name&&(o==="element"||o==="view:element"):o==="element"||o==="view:element"||o==="node"||o==="view:node"};function jP(o){const e=Ji(o);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function F0(o,e){const t=e.split(/\s+/);o.clear(),t.forEach(n=>o.add(n))}function RP(o,e){return typeof e=="string"?[new We(o,e)]:(Pt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new We(o,t):t instanceof Ti?new We(o,t.data):t))}class pc extends Dn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=V0}}pc.prototype.is=function(o,e){return e?e===this.name&&(o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function V0(){const o=[...this.getChildren()],e=o[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of o)if(!t.is("uiElement"))return null;return this.childCount}class Kd extends Re(pc){constructor(e,t,n,s){super(e,t,n,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Kd.prototype.is=function(o,e){return e?e===this.name&&(o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};const U0=Symbol("rootName");class H0 extends Kd{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(U0)}set rootName(e){this._setCustomProperty(U0,e)}set _name(e){this.name=e}}H0.prototype.is=function(o,e){return e?e===this.name&&(o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class Mr{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new L("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new L("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=X._createAt(e.startPosition):this._position=X._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(n instanceof We){if(e.isAtEnd)return this._position=X._createAfter(n),this._next();s=n.data[e.offset]}else s=n.getChild(e.offset);if(s instanceof Dn){if(!this.shallow)e=new X(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof We){if(this.singleCharacters)return e=new X(s,0),this._position=e,this._next();let c=s.data.length,d;return s==this._boundaryEndParent?(c=this.boundaries.end.offset,d=new Ti(s,0,c),e=X._createAfter(d)):(d=new Ti(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;this.singleCharacters?c=1:c=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const d=new Ti(n,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=X._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(n instanceof We){if(e.isAtStart)return this._position=X._createBefore(n),this._previous();s=n.data[e.offset-1]}else s=n.getChild(e.offset-1);if(s instanceof Dn)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new X(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof We){if(this.singleCharacters)return e=new X(s,s.data.length),this._position=e,this._previous();let c=s.data.length,d;if(s==this._boundaryStartParent){const h=this.boundaries.start.offset;d=new Ti(s,h,s.data.length-h),c=d.data.length,e=X._createBefore(d)}else d=new Ti(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;if(this.singleCharacters)c=1;else{const h=n===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-h}e.offset-=c;const d=new Ti(n,e.offset,c);return this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=X._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,s,c){return t instanceof Ti&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=X._createAfter(t.textNode),this._position=s):n=X._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=X._createBefore(t.textNode),this._position=s):n=X._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:s,length:c}}}}class X extends Dr{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Kd);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=X._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Mr(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const s=Ct(t,n);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<n[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Mr(e)}clone(){return new X(this.parent,this.offset)}static _createAt(e,t){if(e instanceof X)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new L("view-createpositionat-offset-required",n)}return new X(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new X(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new L("view-position-after-root",e,{root:e});return new X(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new X(e.textNode,e.offsetInText);if(!e.parent)throw new L("view-position-before-root",e,{root:e});return new X(e.parent,e.index)}}X.prototype.is=function(o){return o==="position"||o==="view:position"};class fe extends Dr{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Mr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Zd,{direction:"backward"}),t=this.end.getLastMatchingPosition(Zd);return e.parent.is("$text")&&e.isAtStart&&(e=X._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=X._createAfter(t.parent)),new fe(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Zd);if(e.isAfter(this.end)||e.isEqual(this.end))return new fe(e,e);let t=this.end.getLastMatchingPosition(Zd,{direction:"backward"});const n=e.nodeAfter,s=t.nodeBefore;return n&&n.is("$text")&&(e=new X(n,0)),s&&s.is("$text")&&(t=new X(s,s.data.length)),new fe(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new fe(this.start,e.start)),this.containsPosition(e.end)&&t.push(new fe(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new fe(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Mr(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new fe(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Mr(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Mr(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,s){return new this(new X(e,t),new X(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(X._createBefore(e),t)}}fe.prototype.is=function(o){return o==="range"||o==="view:range"};function Zd(o){return!!(o.item.is("attributeElement")||o.item.is("uiElement"))}class li extends Ee(Dr){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=ri(this.getRanges()),n=ri(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let c=!1;for(let d of e.getRanges())if(d=d.getTrimmed(),s.start.isEqual(d.start)&&s.end.isEqual(d.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof li||t instanceof _g)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof fe)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof X)this._setRanges([new fe(t)]),this._setFakeOptions(s);else if(t instanceof Tr){const c=!!s&&!!s.backward;let d;if(n===void 0)throw new L("view-selection-setto-required-second-parameter",this);n=="in"?d=fe._createIn(t):n=="on"?d=fe._createOn(t):d=new fe(X._createAt(t,n)),this._setRanges([d],c),this._setFakeOptions(s)}else if(Pt(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new L("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new L("view-selection-setfocus-no-ranges",this);const n=X._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),n.compareWith(s)=="before"?this._addRange(new fe(n,s),!0):this._addRange(new fe(s,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof fe))throw new L("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new L("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new fe(e.start,e.end))}}li.prototype.is=function(o){return o==="selection"||o==="view:selection"};class _g extends Ee(Dr){constructor(...e){super(),this._selection=new li,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}_g.prototype.is=function(o){return o==="selection"||o=="documentSelection"||o=="view:selection"||o=="view:documentSelection"};class Ds extends oe{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const vg=Symbol("bubbling contexts");function Ag(o){class e extends o{fire(n,...s){try{const c=n instanceof oe?n:new oe(this,n),d=Cg(this);if(!d.size)return;if(gc(c,"capturing",this),Ts(d,"$capture",c,...s))return c.return;const h=c.startRange||this.selection.getFirstRange(),g=h?h.getContainedElement():null,b=g?!!$0(d,g):!1;let v=g||FP(h);if(gc(c,"atTarget",v),!b){if(Ts(d,"$text",c,...s))return c.return;gc(c,"bubbling",v)}for(;v;){if(v.is("rootElement")){if(Ts(d,"$root",c,...s))return c.return}else if(v.is("element")&&Ts(d,v.name,c,...s))return c.return;if(Ts(d,v,c,...s))return c.return;v=v.parent,gc(c,"bubbling",v)}return gc(c,"bubbling",this),Ts(d,"$document",c,...s),c.return}catch(c){L.rethrowUnexpectedError(c,this)}}_addEventListener(n,s,c){const d=Rt(c.context||"$document"),h=Cg(this);for(const g of d){let b=h.get(g);b||(b=new(Ee()),h.set(g,b)),this.listenTo(b,n,s,c)}}_removeEventListener(n,s){const c=Cg(this);for(const d of c.values())this.stopListening(d,n,s)}}return e}{const o=Ag(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ag[e]=o.prototype[e]})}function gc(o,e,t){o instanceof Ds&&(o._eventPhase=e,o._currentTarget=t)}function Ts(o,e,t,...n){const s=typeof e=="string"?o.get(e):$0(o,e);return s?(s.fire(t,...n),t.stop.called):!1}function $0(o,e){for(const[t,n]of o)if(typeof t=="function"&&t(e))return n;return null}function Cg(o){return o[vg]||(o[vg]=new Map),o[vg]}function FP(o){if(!o)return null;const e=o.start.parent,t=o.end.parent,n=e.getPath(),s=t.getPath();return n.length>s.length?e:t}class W0 extends Ag(Re()){constructor(e){super(),this._postFixers=new Set,this.selection=new _g,this.roots=new ai({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}const G0=10;class Nr extends Dn{constructor(e,t,n,s){super(e,t,n,s),this._priority=G0,this._id=null,this._clonesGroup=null,this.getFillerOffset=VP}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new L("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Nr.DEFAULT_PRIORITY=G0,Nr.prototype.is=function(o,e){return e?e===this.name&&(o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"):o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function VP(){if(yg(this))return null;let o=this.parent;for(;o&&o.is("attributeElement");){if(yg(o)>1)return null;o=o.parent}return!o||yg(o)>1?null:this.childCount}function yg(o){return Array.from(o.getChildren()).filter(e=>!e.is("uiElement")).length}class xg extends Dn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=UP}_insertChild(e,t){if(t&&(t instanceof Tr||Array.from(t).length>0))throw new L("view-emptyelement-cannot-add",[this,t]);return 0}}xg.prototype.is=function(o,e){return e?e===this.name&&(o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"):o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function UP(){return null}class Yd extends Dn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=$P}_insertChild(e,t){if(t&&(t instanceof Tr||Array.from(t).length>0))throw new L("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}Yd.prototype.is=function(o,e){return e?e===this.name&&(o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"):o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function HP(o){o.document.on("arrowKey",(e,t)=>WP(e,t,o.domConverter),{priority:"low"})}function $P(){return null}function WP(o,e,t){if(e.keyCode==De.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),s=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(s||e.shiftKey){const c=n.focusNode,d=n.focusOffset,h=t.domPositionToView(c,d);if(h===null)return;let g=!1;const b=h.getLastMatchingPosition(v=>(v.item.is("uiElement")&&(g=!0),!!(v.item.is("uiElement")||v.item.is("attributeElement"))));if(g){const v=t.viewPositionToDom(b);s?n.collapse(v.parent,v.offset):n.extend(v.parent,v.offset)}}}}class Eg extends Dn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=GP}_insertChild(e,t){if(t&&(t instanceof Tr||Array.from(t).length>0))throw new L("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}Eg.prototype.is=function(o,e){return e?e===this.name&&(o==="rawElement"||o==="view:rawElement"||o==="element"||o==="view:element"):o==="rawElement"||o==="view:rawElement"||o===this.name||o==="view:"+this.name||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function GP(){return null}class Br extends Ee(Dr){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=qP(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Br.prototype.is=function(o){return o==="documentFragment"||o==="view:documentFragment"};function qP(o,e){return typeof e=="string"?[new We(o,e)]:(Pt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new We(o,t):t instanceof Ti?new We(o,t.data):t))}class q0{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Br(this.document,e)}createText(e){return new We(this.document,e)}createAttributeElement(e,t,n={}){const s=new Nr(this.document,e,t);return typeof n.priority=="number"&&(s._priority=n.priority),n.id&&(s._id=n.id),n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createContainerElement(e,t,n={},s={}){let c=null;Qt(n)?s=n:c=n;const d=new pc(this.document,e,t,c);return s.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),d}createEditableElement(e,t,n={}){const s=new Kd(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createEmptyElement(e,t,n={}){const s=new xg(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createUIElement(e,t,n){const s=new Yd(this.document,e,t);return n&&(s.render=n),s}createRawElement(e,t,n,s={}){const c=new Eg(this.document,e,t);return n&&(c.render=n),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Qt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof X?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new L("view-writer-break-non-container-element",this.document);if(!t.parent)throw new L("view-writer-break-root",this.document);if(e.isAtStart)return X._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(X._createAfter(t),n);const s=new fe(e,X._createAt(t,"end")),c=new X(n,0);this.move(s,c)}return X._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const d=n.parent,h=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new X(d,h))}const s=n.getChild(t-1),c=n.getChild(t);if(!s||!c)return e;if(s.is("$text")&&c.is("$text"))return Z0(s,c);if(s.is("attributeElement")&&c.is("attributeElement")&&s.isSimilar(c)){const d=s.childCount;return s._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new X(s,d))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new L("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),c=s instanceof We?X._createAt(s,"end"):X._createAt(t,"end");return this.move(fe._createIn(n),X._createAt(t,"end")),this.remove(fe._createOn(n)),c}insert(e,t){t=Pt(t)?[...t]:[t],Y0(t,this.document);const n=t.reduce((d,h)=>{const g=d[d.length-1],b=!h.is("uiElement");return!g||g.breakAttributes!=b?d.push({breakAttributes:b,nodes:[h]}):g.nodes.push(h),d},[]);let s=null,c=e;for(const{nodes:d,breakAttributes:h}of n){const g=this._insertNodes(c,d,h);s||(s=g.start),c=g.end}return s?new fe(s,c):new fe(e)}remove(e){const t=e instanceof fe?e:fe._createOn(e);if(mc(t,this.document),t.isCollapsed)return new Br(this.document);const{start:n,end:s}=this._breakAttributesRange(t,!0),c=n.parent,d=s.offset-n.offset,h=c._removeChildren(n.offset,d);for(const b of h)this._removeFromClonedElementsGroup(b);const g=this.mergeAttributes(n);return t.start=g,t.end=g.clone(),new Br(this.document,h)}clear(e,t){mc(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of n){const c=s.item;let d;if(c.is("element")&&t.isSimilar(c))d=fe._createOn(c);else if(!s.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const h=c.getAncestors().find(g=>g.is("element")&&t.isSimilar(g));h&&(d=fe._createIn(h))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,c=s.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=s.childCount-c}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Nr))throw new L("view-writer-wrap-invalid-attribute",this.document);if(mc(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!KP(n.parent)&&(n=n.getLastMatchingPosition(c=>c.item.is("uiElement"))),n=this._wrapPosition(n,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new fe(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Nr))throw new L("view-writer-unwrap-invalid-attribute",this.document);if(mc(e,this.document),e.isCollapsed)return e;const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._unwrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const g=this.mergeAttributes(d.end);return new fe(h,g)}rename(e,t){const n=new pc(this.document,e,t.getAttributes());return this.insert(X._createAfter(t),n),this.move(fe._createIn(t),X._createAt(n,0)),this.remove(fe._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return X._createAt(e,t)}createPositionAfter(e){return X._createAfter(e)}createPositionBefore(e){return X._createBefore(e)}createRange(e,t){return new fe(e,t)}createRangeOn(e){return fe._createOn(e)}createRangeIn(e){return fe._createIn(e)}createSelection(...e){return new li(...e)}createSlot(e="children"){if(!this._slotFactory)throw new L("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let s;if(n?s=Sg(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new L("view-writer-invalid-position-container",this.document);let c;n?c=this._breakAttributes(e,!0):c=e.parent.is("$text")?Dg(e):e;const d=s._insertChild(c.offset,t);for(const v of t)this._addToClonedElementsGroup(v);const h=c.getShiftedBy(d),g=this.mergeAttributes(c);g.isEqual(c)||h.offset--;const b=this.mergeAttributes(h);return new fe(g,b)}_wrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const g=e.getChild(c),b=g.is("$text"),v=g.is("attributeElement");if(v&&this._wrapAttributeElement(s,g))d.push(new X(e,c));else if(b||!v||ZP(s,g)){const y=s._clone();g._remove(),y._appendChild(g),e._insertChild(c,y),this._addToClonedElementsGroup(y),d.push(new X(e,c))}else this._wrapChildren(g,0,g.childCount,s);c++}let h=0;for(const g of d){if(g.offset-=h,g.offset==t)continue;this.mergeAttributes(g).isEqual(g)||(h++,n--)}return fe._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const g=e.getChild(c);if(!g.is("attributeElement")){c++;continue}if(g.isSimilar(s)){const b=g.getChildren(),v=g.childCount;g._remove(),e._insertChild(c,b),this._removeFromClonedElementsGroup(g),d.push(new X(e,c),new X(e,c+v)),c+=v,n+=v-1;continue}if(this._unwrapAttributeElement(s,g)){d.push(new X(e,c),new X(e,c+1)),c++;continue}this._unwrapChildren(g,0,g.childCount,s),c++}let h=0;for(const g of d){if(g.offset-=h,g.offset==t||g.offset==n)continue;this.mergeAttributes(g).isEqual(g)||(h++,n--)}return fe._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._wrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const g=this.mergeAttributes(d.end);return new fe(h,g)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return K0(e.clone());e.parent.is("$text")&&(e=Dg(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const s=new fe(e,e.getShiftedBy(1));this.wrap(s,t);const c=new X(n.parent,n.index);n._remove();const d=c.nodeBefore,h=c.nodeAfter;return d instanceof We&&h instanceof We?Z0(d,h):K0(c)}_wrapAttributeElement(e,t){if(!Q0(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Q0(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,s=e.end;if(mc(e,this.document),e.isCollapsed){const g=this._breakAttributes(e.start,t);return new fe(g,g)}const c=this._breakAttributes(s,t),d=c.parent.childCount,h=this._breakAttributes(n,t);return c.offset+=c.parent.childCount-d,new fe(h,c)}_breakAttributes(e,t=!1){const n=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new L("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new L("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new L("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Tg(s.parent)||Tg(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Dg(e),t);const c=s.childCount;if(n==c){const d=new X(s.parent,s.index+1);return this._breakAttributes(d,t)}else if(n===0){const d=new X(s.parent,s.index);return this._breakAttributes(d,t)}else{const d=s.index+1,h=s._clone();s.parent._insertChild(d,h),this._addToClonedElementsGroup(h);const g=s.childCount-n,b=s._removeChildren(n,g);h._appendChild(b);const v=new X(s.parent,d);return this._breakAttributes(v,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function KP(o){return Array.from(o.getChildren()).some(e=>!e.is("uiElement"))}function Sg(o){let e=o.parent;for(;!Tg(e);){if(!e)return;e=e.parent}return e}function ZP(o,e){return o.priority<e.priority?!0:o.priority>e.priority?!1:o.getIdentity()<e.getIdentity()}function K0(o){const e=o.nodeBefore;if(e&&e.is("$text"))return new X(e,e.data.length);const t=o.nodeAfter;return t&&t.is("$text")?new X(t,0):o}function Dg(o){if(o.offset==o.parent.data.length)return new X(o.parent.parent,o.parent.index+1);if(o.offset===0)return new X(o.parent.parent,o.parent.index);const e=o.parent.data.slice(o.offset);return o.parent._data=o.parent.data.slice(0,o.offset),o.parent.parent._insertChild(o.parent.index+1,new We(o.root.document,e)),new X(o.parent.parent,o.parent.index+1)}function Z0(o,e){const t=o.data.length;return o._data+=e.data,e._remove(),new X(o,t)}const YP=[We,Nr,pc,xg,Eg,Yd];function Y0(o,e){for(const t of o){if(!YP.some(n=>t instanceof n))throw new L("view-writer-insert-invalid-node-type",e);t.is("$text")||Y0(t.getChildren(),e)}}function Tg(o){return o&&(o.is("containerElement")||o.is("documentFragment"))}function mc(o,e){const t=Sg(o.start),n=Sg(o.end);if(!t||!n||t!==n)throw new L("view-writer-invalid-range-container",e)}function Q0(o,e){return o.id===null&&e.id===null}const J0=o=>o.createTextNode(""),X0=o=>{const e=o.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},eA=o=>{const e=o.createElement("br");return e.dataset.ckeFiller="true",e},di=7,kc="".repeat(di);function Tn(o){return typeof o=="string"?o.substr(0,di)===kc:Et(o)&&o.data.substr(0,di)===kc}function bc(o){return o.data.length==di&&Tn(o)}function tA(o){const e=typeof o=="string"?o:o.data;return Tn(o)?e.slice(di):e}function QP(o){o.document.on("arrowKey",JP,{priority:"low"})}function JP(o,e){if(e.keyCode==De.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Tn(n)&&s<=di&&t.collapse(n,0)}}}var nA=a(5037),Ig={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ig.insert="head",Ig.singleton=!0,ie()(nA.Z,Ig),nA.Z.locals;class XP extends Re(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),m.isBlink&&!m.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new L("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!m.isAndroid)return;let e=null;const t=m.isBlink&&!m.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=X._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),s=n.parent.ownerDocument;Tn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=iA(s,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),c=this._diffNodeLists(n,s),d=this._findUpdateActions(c,n,s,tO);if(d.indexOf("update")!==-1){const h={equal:0,insert:0,delete:0};for(const g of d)if(g==="update"){const b=h.equal+h.insert,v=h.equal+h.delete,y=e.getChild(b);y&&!(y.is("uiElement")||y.is("rawElement"))&&this._updateElementMappings(y,n[v]),l0(s[b]),h.equal++}else h[g]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?X._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Et(t.parent)&&Tn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Tn(e))throw new L("view-renderer-filler-was-lost",this);bc(e)?e.remove():e.data=e.data.substr(di),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!eO(t)||n===t.getFillerOffset())return!1;const s=e.nodeBefore,c=e.nodeAfter;return!(s instanceof We||c instanceof We||m.isAndroid&&(s||c))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let c=this.domConverter.viewToDom(e).data;const d=t.inlineFillerPosition;d&&d.parent==e.parent&&d.offset==e.index&&(c=kc+c),oA(n,c)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(c=>c.name),s=e.getAttributeKeys();for(const c of s)this.domConverter.setDomElementAttribute(t,c,e.getAttribute(c),e);for(const c of n)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(m.isAndroid){let y=null;for(const I of Array.from(n.childNodes)){if(y&&Et(y)&&Et(I)){n.normalize();break}y=I}}const s=t.inlineFillerPosition,c=n.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&iA(n.ownerDocument,d,s.offset);const h=this._diffNodeLists(c,d),g=this._findUpdateActions(h,c,d,nO);let b=0;const v=new Set;for(const y of g)y==="delete"?(v.add(c[b]),l0(c[b])):(y==="equal"||y==="update")&&b++;b=0;for(const y of g)y==="insert"?(s0(n,b,d[b]),b++):y==="update"?(oA(c[b],d[b].data),b++):y==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[b])),b++);for(const y of v)y.parentNode||this.domConverter.unbindDomElement(y)}_diffNodeLists(e,t){return e=rO(e,this._fakeSelectionContainer),W(e,t,iO.bind(null,this.domConverter))}_findUpdateActions(e,t,n,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],d=[],h=[];const g={equal:0,insert:0,delete:0};for(const b of e)b==="insert"?h.push(n[g.equal+g.insert]):b==="delete"?d.push(t[g.equal+g.delete]):(c=c.concat(W(d,h,s).map(v=>v==="equal"?"update":v)),c.push("equal"),d=[],h=[]),g[b]++;return c.concat(W(d,h,s).map(b=>b==="equal"?"update":b))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(m.isBlink&&!m.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&m.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=sO(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),c=t.createRange();s.removeAllRanges(),c.selectNodeContents(n),s.addRange(c)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,s.parent,s.offset),m.isGecko&&oO(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,s=this.domConverter.mapDomToView(n);n&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function eO(o){if(o.getAttribute("contenteditable")=="false")return!1;const e=o.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function iA(o,e,t){const n=e instanceof Array?e:e.childNodes,s=n[t];if(Et(s))return s.data=kc+s.data,s;{const c=o.createTextNode(kc);return Array.isArray(e)?n.splice(t,0,c):s0(e,t,c),c}}function tO(o,e){return No(o)&&No(e)&&!Et(o)&&!Et(e)&&!uc(o)&&!uc(e)&&o.tagName.toLowerCase()===e.tagName.toLowerCase()}function nO(o,e){return No(o)&&No(e)&&Et(o)&&Et(e)}function iO(o,e,t){return e===t?!0:Et(e)&&Et(t)?e.data===t.data:!!(o.isBlockFiller(e)&&o.isBlockFiller(t))}function oO(o,e){const t=o.parent;if(t.nodeType!=Node.ELEMENT_NODE||o.offset!=t.childNodes.length-1)return;const n=t.childNodes[o.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function rO(o,e){const t=Array.from(o);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function sO(o){const e=o.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function oA(o,e){const t=o.data;if(t==e)return;const n=O(t,e);for(const s of n)s.type==="insert"?o.insertData(s.index,s.values.join("")):o.deleteData(s.index,s.howMany)}const aO=eA(he.document),cO=J0(he.document),lO=X0(he.document),Qd="data-ck-unsafe-attribute-",rA="data-ck-unsafe-element";class sA{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new fc,this._inlineObjectElementMatcher=new fc,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?he.document:he.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new li(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),s=n.createDocumentFragment(),c=n.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);const d=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),h=[];let g;for(;g=d.nextNode();)h.push(g);for(const b of h){for(const y of b.getAttributeNames())this.setDomElementAttribute(b,y,b.getAttribute(y));const v=b.tagName.toLowerCase();this._shouldRenameElement(v)&&(lA(v),b.replaceWith(this._createReplacementDomElement(v,b)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return e.name==="$comment"?n=this._domDocument.createComment(e.getCustomProperty("$rawContent")):n=e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(lA(e.name),n=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):n=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(n,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))n.appendChild(s);return n}}setDomElementAttribute(e,t,n,s){const c=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(c||Ie("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),!SB(t)){Ie("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n});return}e.hasAttribute(t)&&!c?e.removeAttribute(t):e.hasAttribute(Qd+t)&&c&&e.removeAttribute(Qd+t),e.setAttribute(c?t:Qd+t,n)}removeDomElementAttribute(e,t){t!=rA&&(e.removeAttribute(t),e.removeAttribute(Qd+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const c of e.getChildren()){n===s&&(yield this._getBlockFiller());const d=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!St(c.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,t):(d&&Ie("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,t)),s++}n===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(n.parent,n.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let s=e.offset;return Tn(n)&&(s+=di),{parent:n,offset:s}}else{let n,s,c;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;c=n.childNodes[0]}else{const h=e.nodeBefore;if(s=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!s)return null;n=s.parentNode,c=s.nextSibling}if(Et(c)&&Tn(c))return{parent:c,offset:di};const d=s?$d(s)+1:0;return{parent:n,offset:d}}}domToView(e,t={}){const n=[],s=this._domToView(e,t,n),c=s.next().value;return!c||(s.next(),this._processDomInlineNodes(null,n,t),c.is("$text")&&c.data.length==0)?null:c}*domChildrenToView(e,t={},n=[]){for(let s=0;s<e.childNodes.length;s++){const c=e.childNodes[s],d=this._domToView(c,t,n),h=d.next().value;h!==null&&(this._isBlockViewElement(h)&&this._processDomInlineNodes(e,n,t),yield h,d.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(hO(e))return new li([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Et(s)&&(s=s.parentNode);const c=this.fakeSelectionToView(s);if(c)return c}const t=this.isDomSelectionBackward(e),n=[];for(let s=0;s<e.rangeCount;s++){const c=e.getRangeAt(s),d=this.domRangeToView(c);d&&n.push(d)}return new li(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new fe(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,$d(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return X._createBefore(n);if(Et(e)){if(bc(e))return this.domPositionToView(e.parentNode,$d(e));const s=this.findCorrespondingViewText(e);let c=t;return s?(Tn(e)&&(c-=di,c=c<0?0:c),new X(s,c)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new X(s,0)}else{const s=e.childNodes[t-1];if(Et(s)&&bc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,$d(s));const c=Et(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(c&&c.parent)return new X(c.parent,c.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(bc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const s=this.mapDomToView(n);if(s){const c=s.nextSibling;return c instanceof We?c:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const c=s.getChild(0);return c instanceof We?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:s}=he.window,c=[];aA(t,d=>{const{scrollLeft:h,scrollTop:g}=d;c.push([h,g])}),t.focus(),aA(t,d=>{const[h,g]=c.shift();d.scrollLeft=h,d.scrollTop=g}),he.window.scrollTo(n,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(aO):e.tagName==="BR"&&cA(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(lO)||uO(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=CB(e);for(t.pop();t.length;){const n=t.pop(),s=this._domToViewMapping.get(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return J0(this._domDocument);case"markedNbsp":return X0(this._domDocument);case"br":return eA(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Et(e)&&Tn(e)&&t<di||this.isElement(e)&&Tn(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(uc(e)&&t.skipComments)return null;if(Et(e)){if(bc(e))return null;{const c=e.data;if(c==="")return null;const d=new We(this.document,c);return n.push(d),d}}else{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&n.push(c),c;if(this.isDocumentFragment(e))c=new Br(this.document),t.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,t),t.bind&&this.bindElements(e,c);const h=e.attributes;if(h)for(let g=h.length,b=0;b<g;b++)c._setAttribute(h[b].name,h[b].value);if(this._isViewElementWithRawContent(c,t))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||n.push(c),c;if(uc(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const d=[];if(t.withChildren!==!1)for(const h of this.domChildrenToView(e,t,d))c._appendChild(h);if(this._isInlineObjectElement(c))n.push(c);else for(const h of d)n.push(h)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let c=0;c<t.length;c++){const d=t[c];if(!d.is("$text")){s=!1;continue}let h,g=!1;if(dO(d,this.preElements))h=tA(d.data);else{h=d.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(h.charAt(h.length-1));const b=c>0?t[c-1]:null,v=c+1<t.length?t[c+1]:null,y=!b||b.is("element")&&b.name=="br"||s,I=v?!1:!Tn(d.data);n.withChildren!==!1&&(y&&(h=h.replace(/^ /,"")),I&&(h=h.replace(/ $/,""))),h=tA(h),h=h.replace(/ \u00A0/g,"  ");const B=v&&v.is("element")&&v.name!="br",R=v&&v.is("$text")&&v.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(h)||!v||B||R)&&(h=h.replace(/\u00A0$/," ")),(y||b&&b.is("element")&&b.name!="br")&&(h=h.replace(/^\u00A0/," "))}h.length==0&&d.parent?(d._remove(),t.splice(c,1),c--):(d._data=h,s=g)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),s=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new Mr({startPosition:t?X._createAfter(e):X._createBefore(e),direction:t?"forward":"backward"});for(const s of n){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(uc(e))return new Yd(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Dn(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(rA,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const s of t.getAttributeNames())n.setAttribute(s,t.getAttribute(s))}return n}}function dO(o,e){return o.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function aA(o,e){let t=o;for(;t;)e(t),t=t.parentElement}function uO(o,e){return o.isEqualNode(cO)&&cA(o,e)&&o.parentNode.childNodes.length===1}function cA(o,e){const t=o.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function lA(o){o==="script"&&Ie("domconverter-unsafe-script-element-detected"),o==="style"&&Ie("domconverter-unsafe-style-element-detected")}function hO(o){if(!m.isGecko||!o.rangeCount)return!1;const e=o.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Ii extends Wn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var fO=j0(function(o,e){se(e,Es(e),o)});const dA=fO;class Is{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,dA(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Bo extends Ii{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(s,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Is(this.view,t,n))}}class pO extends Bo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ss(this)}};this.fire(e.type,e,t)}}var gO=function(){return xn.Date.now()};const Mg=gO;var mO=/\s/;function kO(o){for(var e=o.length;e--&&mO.test(o.charAt(e)););return e}const bO=kO;var wO=/^\s+/;function _O(o){return o&&o.slice(0,bO(o)+1).replace(wO,"")}const vO=_O;var uA=0/0,AO=/^[-+]0x[0-9a-f]+$/i,CO=/^0b[01]+$/i,yO=/^0o[0-7]+$/i,xO=parseInt;function EO(o){if(typeof o=="number")return o;if(Gd(o))return uA;if(Qe(o)){var e=typeof o.valueOf=="function"?o.valueOf():o;o=Qe(e)?e+"":e}if(typeof o!="string")return o===0?o:+o;o=vO(o);var t=CO.test(o);return t||yO.test(o)?xO(o.slice(2),t?2:8):AO.test(o)?uA:+o}const hA=EO;var SO="Expected a function",DO=Math.max,TO=Math.min;function IO(o,e,t){var n,s,c,d,h,g,b=0,v=!1,y=!1,I=!0;if(typeof o!="function")throw new TypeError(SO);e=hA(e)||0,Qe(t)&&(v=!!t.leading,y="maxWait"in t,c=y?DO(hA(t.maxWait)||0,e):c,I="trailing"in t?!!t.trailing:I);function B(le){var pe=n,de=s;return n=s=void 0,b=le,d=o.apply(de,pe),d}function R(le){return b=le,h=setTimeout(Y,e),v?B(le):d}function V(le){var pe=le-g,de=le-b,st=e-pe;return y?TO(st,c-de):st}function q(le){var pe=le-g,de=le-b;return g===void 0||pe>=e||pe<0||y&&de>=c}function Y(){var le=Mg();if(q(le))return ae(le);h=setTimeout(Y,V(le))}function ae(le){return h=void 0,I&&n?B(le):(n=s=void 0,d)}function ye(){h!==void 0&&clearTimeout(h),b=0,n=g=s=h=void 0}function Ke(){return h===void 0?d:ae(Mg())}function rt(){var le=Mg(),pe=q(le);if(n=arguments,s=this,g=le,pe){if(h===void 0)return R(g);if(y)return clearTimeout(h),h=setTimeout(Y,e),B(g)}return h===void 0&&(h=setTimeout(Y,e)),d}return rt.cancel=ye,rt.flush=Ke,rt}const wc=IO;class MO extends Ii{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=wc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new li(t.getRanges(),{backward:t.isBackward,fake:!1});(e==De.arrowleft||e==De.arrowup)&&n.setTo(n.getFirstPosition()),(e==De.arrowright||e==De.arrowdown)&&n.setTo(n.getLastPosition());const s={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}var NO="__lodash_hash_undefined__";function BO(o){return this.__data__.set(o,NO),this}const PO=BO;function OO(o){return this.__data__.has(o)}const zO=OO;function Jd(o){var e=-1,t=o==null?0:o.length;for(this.__data__=new ys;++e<t;)this.add(o[e])}Jd.prototype.add=Jd.prototype.push=PO,Jd.prototype.has=zO;const LO=Jd;function jO(o,e){for(var t=-1,n=o==null?0:o.length;++t<n;)if(e(o[t],t,o))return!0;return!1}const RO=jO;function FO(o,e){return o.has(e)}const VO=FO;var UO=1,HO=2;function $O(o,e,t,n,s,c){var d=t&UO,h=o.length,g=e.length;if(h!=g&&!(d&&g>h))return!1;var b=c.get(o),v=c.get(e);if(b&&v)return b==e&&v==o;var y=-1,I=!0,B=t&HO?new LO:void 0;for(c.set(o,e),c.set(e,o);++y<h;){var R=o[y],V=e[y];if(n)var q=d?n(V,R,y,e,o,c):n(R,V,y,o,e,c);if(q!==void 0){if(q)continue;I=!1;break}if(B){if(!RO(e,function(Y,ae){if(!VO(B,ae)&&(R===Y||s(R,Y,t,n,c)))return B.push(ae)})){I=!1;break}}else if(!(R===V||s(R,V,t,n,c))){I=!1;break}}return c.delete(o),c.delete(e),I}const fA=$O;function WO(o){var e=-1,t=Array(o.size);return o.forEach(function(n,s){t[++e]=[s,n]}),t}const GO=WO;function qO(o){var e=-1,t=Array(o.size);return o.forEach(function(n){t[++e]=n}),t}const KO=qO;var ZO=1,YO=2,QO="[object Boolean]",JO="[object Date]",XO="[object Error]",ez="[object Map]",tz="[object Number]",nz="[object RegExp]",iz="[object Set]",oz="[object String]",rz="[object Symbol]",sz="[object ArrayBuffer]",az="[object DataView]",pA=Un?Un.prototype:void 0,Ng=pA?pA.valueOf:void 0;function cz(o,e,t,n,s,c,d){switch(t){case az:if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case sz:return!(o.byteLength!=e.byteLength||!c(new Rd(o),new Rd(e)));case QO:case JO:case tz:return Co(+o,+e);case XO:return o.name==e.name&&o.message==e.message;case nz:case oz:return o==e+"";case ez:var h=GO;case iz:var g=n&ZO;if(h||(h=KO),o.size!=e.size&&!g)return!1;var b=d.get(o);if(b)return b==e;n|=YO,d.set(o,e);var v=fA(h(o),h(e),n,s,c,d);return d.delete(o),v;case rz:if(Ng)return Ng.call(o)==Ng.call(e)}return!1}const lz=cz;var dz=1,uz=Object.prototype,hz=uz.hasOwnProperty;function fz(o,e,t,n,s,c){var d=t&dz,h=qp(o),g=h.length,b=qp(e),v=b.length;if(g!=v&&!d)return!1;for(var y=g;y--;){var I=h[y];if(!(d?I in e:hz.call(e,I)))return!1}var B=c.get(o),R=c.get(e);if(B&&R)return B==e&&R==o;var V=!0;c.set(o,e),c.set(e,o);for(var q=d;++y<g;){I=h[y];var Y=o[I],ae=e[I];if(n)var ye=d?n(ae,Y,I,e,o,c):n(Y,ae,I,o,e,c);if(!(ye===void 0?Y===ae||s(Y,ae,t,n,c):ye)){V=!1;break}q||(q=I=="constructor")}if(V&&!q){var Ke=o.constructor,rt=e.constructor;Ke!=rt&&"constructor"in o&&"constructor"in e&&!(typeof Ke=="function"&&Ke instanceof Ke&&typeof rt=="function"&&rt instanceof rt)&&(V=!1)}return c.delete(o),c.delete(e),V}const pz=fz;var gz=1,gA="[object Arguments]",mA="[object Array]",Xd="[object Object]",mz=Object.prototype,kA=mz.hasOwnProperty;function kz(o,e,t,n,s,c){var d=jt(o),h=jt(e),g=d?mA:lc(o),b=h?mA:lc(e);g=g==gA?Xd:g,b=b==gA?Xd:b;var v=g==Xd,y=b==Xd,I=g==b;if(I&&ac(o)){if(!ac(e))return!1;d=!0,v=!1}if(I&&!v)return c||(c=new To),d||Hp(o)?fA(o,e,t,n,s,c):lz(o,e,g,t,n,s,c);if(!(t&gz)){var B=v&&kA.call(o,"__wrapped__"),R=y&&kA.call(e,"__wrapped__");if(B||R){var V=B?o.value():o,q=R?e.value():e;return c||(c=new To),s(V,q,t,n,c)}}return I?(c||(c=new To),pz(o,e,t,n,s,c)):!1}const bz=kz;function bA(o,e,t,n,s){return o===e?!0:o==null||e==null||!an(o)&&!an(e)?o!==o&&e!==e:bz(o,e,t,n,bA,s)}const wA=bA;function wz(o,e,t){t=typeof t=="function"?t:void 0;var n=t?t(o,e):void 0;return n===void 0?wA(o,e,void 0,t):!!n}const _z=wz;class _A extends Ii{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,s=new Set;for(const d of e){const h=t.mapDomToView(d.target);h&&(h.is("uiElement")||h.is("rawElement")||d.type==="childList"&&!this._isBogusBrMutation(d)&&s.add(h))}for(const d of e){const h=t.mapDomToView(d.target);if(!(h&&(h.is("uiElement")||h.is("rawElement")))&&d.type==="characterData"){const g=t.findCorrespondingViewText(d.target);g&&!s.has(g.parent)?n.add(g):!g&&Tn(d.target)&&s.add(t.mapDomToView(d.target.parentNode))}}let c=!1;for(const d of n)c=!0,this.renderer.markToSync("text",d);for(const d of s){const h=t.mapViewToDom(d),g=Array.from(d.getChildren()),b=Array.from(t.domChildrenToView(h,{withChildren:!1}));_z(g,b,vz)||(c=!0,this.renderer.markToSync("children",d))}c&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function vz(o,e){if(!Array.isArray(o))return o===e?!0:o.is("$text")&&e.is("$text")?o.data===e.data:!1}class eu extends Bo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,s)=>{const c=t.selection.editableElement;(c===null||c===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Az extends Ii{constructor(e){super(e),this.mutationObserver=e.getObserver(_A),this.focusObserver=e.getObserver(eu),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=wc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=wc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(c,d)=>{this.document.isComposing&&!m.isAndroid||(this._handleSelectionChange(d,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Cz extends Bo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class vA{constructor(e,t={}){this._files=t.cacheFiles?AA(e):null,this._native=e}get files(){return this._files||(this._files=AA(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function AA(o){const e=Array.from(o.files||[]),t=Array.from(o.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class yz extends Bo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,s=n.document;let c=null,d=null,h=[];if(e.dataTransfer&&(c=new vA(e.dataTransfer)),e.data!==null?d=e.data:c&&(d=c.getData("text/plain")),s.selection.isFake)h=Array.from(s.selection.getRanges());else if(t.length)h=t.map(g=>{const b=n.domConverter.domPositionToView(g.startContainer,g.startOffset),v=n.domConverter.domPositionToView(g.endContainer,g.endOffset);if(b)return n.createRange(b,v);if(v)return n.createRange(v)}).filter(g=>!!g);else if(m.isAndroid){const g=e.target.ownerDocument.defaultView.getSelection();h=Array.from(n.domConverter.domSelectionToView(g).getRanges())}if(m.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(h[0].end)]});return}if(e.inputType=="insertText"&&d&&d.includes(`
`)){const g=d.split(/\n{1,2}/g);let b=h;for(let v=0;v<g.length;v++){const y=g[v];y!=""&&(this.fire(e.type,e,{data:y,dataTransfer:c,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing}),b=[s.selection.getFirstRange()]),v+1<g.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:b}),b=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:d,dataTransfer:c,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing})}}class xz extends Ii{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&LB(n.keyCode)){const s=new Ds(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class Ez extends Ii{constructor(e){super(e);const t=this.document;t.on("keydown",(n,s)=>{if(!this.isEnabled||s.keyCode!=De.tab||s.ctrlKey)return;const c=new Ds(t,"tab",t.selection.getFirstRange());t.fire(c,s),c.stop.called&&n.stop()})}observe(){}stopObserving(){}}var Sz=1,Dz=4;function Tz(o){return Xp(o,Sz|Dz)}const Po=Tz;class Iz extends Re(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new W0(e),this.domConverter=new sA(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new XP(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new q0(this.document),this.addObserver(_A),this.addObserver(eu),this.addObserver(Az),this.addObserver(pO),this.addObserver(MO),this.addObserver(Cz),this.addObserver(xz),this.addObserver(yz),this.addObserver(Ez),QP(this),HP(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),m.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const s={};for(const{name:d,value:h}of Array.from(e.attributes))s[d]=h,d==="class"?this._writer.addClass(h.split(" "),n):this._writer.setAttribute(d,h,n);this._initialDomRootAttributes.set(e,s);const c=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(d,h)=>this._renderer.markToSync("children",h)),n.on("change:attributes",(d,h)=>this._renderer.markToSync("attributes",h)),n.on("change:text",(d,h)=>this._renderer.markToSync("text",h)),n.on("change:isReadOnly",()=>this.change(c)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const n=this._initialDomRootAttributes.get(t);for(const s in n)t.setAttribute(s,n[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,s]of this.domRoots)t.observe(s,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:s=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const d=Po({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:s});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const h={target:this.domConverter.viewRangeToDom(c),viewportOffset:n,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",h,d),IB(h)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new L("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){L.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(eu).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return X._createAt(e,t)}createPositionAfter(e){return X._createAfter(e)}createPositionBefore(e){return X._createBefore(e)}createRange(e,t){return new fe(e,t)}createRangeOn(e){return fe._createOn(e)}createRangeIn(e){return fe._createIn(e)}createSelection(...e){return new li(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Oo{is(){throw new Error("is() method is abstract")}}class Pr extends Oo{constructor(e){super(),this.parent=null,this._attrs=Ji(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=Ct(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Ji(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Pr.prototype.is=function(o){return o==="node"||o==="model:node"};class _c{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,s)=>n+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new L("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new L("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Pr))throw new L("model-nodelist-insertnodes-not-node",this);this._nodes=YB(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Ge extends Pr{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ge(this.data,this.getAttributes())}static fromJSON(e){return new Ge(e.data,e.attributes)}}Ge.prototype.is=function(o){return o==="$text"||o==="model:$text"||o==="text"||o==="model:text"||o==="node"||o==="model:node"};class ui extends Oo{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new L("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new L("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ui.prototype.is=function(o){return o==="$textProxy"||o==="model:$textProxy"||o==="textProxy"||o==="model:textProxy"};class Fe extends Pr{constructor(e,t,n){super(t),this._children=new _c,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Fe(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=Mz(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Fe.fromJSON(n)):t.push(Ge.fromJSON(n))}return new Fe(e.name,e.attributes,t)}}Fe.prototype.is=function(o,e){return e?e===this.name&&(o==="element"||o==="model:element"):o==="element"||o==="model:element"||o==="node"||o==="model:node"};function Mz(o){return typeof o=="string"?[new Ge(o)]:(Pt(o)||(o=[o]),Array.from(o).map(e=>typeof e=="string"?new Ge(e):e instanceof ui?new Ge(e.data,e.getAttributes()):e))}class Mi{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new L("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new L("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=K._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,s,c;do s=this.position,c=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=s,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=vc(t,n),c=s||CA(t,n,s);if(c instanceof Fe){if(!this.shallow)t.path.push(0),this._visitedParent=c;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Or("elementStart",c,e,t,1)}if(c instanceof Ge){let d;if(this.singleCharacters)d=1;else{let b=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),d=b-t.offset}const h=t.offset-c.startOffset,g=new ui(c,h,d);return t.offset+=d,this._position=t,Or("text",g,e,t,d)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Or("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,c=vc(t,s),d=c||yA(t,s,c);if(d instanceof Fe)return t.offset--,this.shallow?(this._position=t,Or("elementStart",d,e,t,1)):(t.path.push(d.maxOffset),this._position=t,this._visitedParent=d,this.ignoreElementEnd?this._previous():Or("elementEnd",d,e,t));if(d instanceof Ge){let h;if(this.singleCharacters)h=1;else{let v=d.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>v&&(v=this.boundaries.start.offset),h=t.offset-v}const g=t.offset-d.startOffset,b=new ui(d,g-h,h);return t.offset-=h,this._position=t,Or("text",b,e,t,h)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Or("elementStart",n,e,t,1)}}function Or(o,e,t,n,s){return{done:!1,value:{type:o,item:e,previousPosition:t,nextPosition:n,length:s}}}class K extends Oo{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new L("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new L("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new L("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new L("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return vc(this,this.parent)}get nodeAfter(){const e=this.parent;return CA(this,e,vc(this,e))}get nodeBefore(){const e=this.parent;return yA(this,e,vc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Ct(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Mi(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Ct(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const s=this.path[n]-e.path[n];if(s<-1||s>1)return!1;if(s===1)return xA(e,this,n);if(s===-1)return xA(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Bg(this.path,t):Bg(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return Ct(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=K._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let s;return n?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=K._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const n=K._createAt(this);if(this.root!=e.root)return n;if(Ct(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Ct(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;n.path[s]-=t}}return n}_getTransformedByInsertion(e,t){const n=K._createAt(this);if(this.root!=e.root)return n;if(Ct(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Ct(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(n.path[s]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return K._createAt(this);const s=this._getTransformedByDeletion(e,n);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,s=K._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[n]-e.offset,s.path=[...s.path,...this.path.slice(n+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof K)return new K(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,n);if(t=="after")return this._createAfter(s,n);if(t!==0&&!t)throw new L("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new L("model-position-parent-incorrect",[this,e]);const c=s.getPath();return c.push(t),new this(s.root,c,n)}}static _createAfter(e,t){if(!e.parent)throw new L("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new L("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new K(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new L("model-position-fromjson-no-root",t,{rootName:e.root});return new K(t.getRoot(e.root),e.path,e.stickiness)}}K.prototype.is=function(o){return o==="position"||o==="model:position"};function vc(o,e){const t=e.getChild(e.offsetToIndex(o.offset));return t&&t.is("$text")&&t.startOffset<o.offset?t:null}function CA(o,e,t){return t!==null?null:e.getChild(e.offsetToIndex(o.offset))}function yA(o,e,t){return t!==null?null:e.getChild(e.offsetToIndex(o.offset)-1)}function xA(o,e,t){return!(t+1===o.path.length||!Bg(e.path,t+1)||!Nz(o,t+1))}function Bg(o,e){for(;e<o.length;){if(o[e]!==0)return!1;e++}return!0}function Nz(o,e){let t=o.parent,n=o.path.length-1,s=0;for(;n>=e;){if(o.path[n]+s!==t.maxOffset)return!1;s=1,n--,t=t.parent}return!0}class H extends Oo{constructor(e,t){super(),this.start=K._createAt(e),this.end=t?K._createAt(t):K._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Mi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Ct(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}containsItem(e){const t=K._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new H(this.start,e.start)),this.containsPosition(e.end)&&t.push(new H(e.end,this.end))):t.push(new H(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new H(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let s=this.start,c=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(c)&&(c=e.end),new H(s,c)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=K._createAt(this.start);let s=n.parent;for(;n.path.length>t+1;){const c=s.maxOffset-n.offset;c!==0&&e.push(new H(n,n.getShiftedBy(c))),n.path=n.path.slice(0,-1),n.offset++,s=s.parent}for(;n.path.length<=this.end.path.length;){const c=this.end.path[n.path.length-1],d=c-n.offset;d!==0&&e.push(new H(n,n.getShiftedBy(d))),n.offset=c,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Mi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Mi(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Mi(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new H(this.start,this.end)]}getTransformedByOperations(e){const t=[new H(this.start,this.end)];for(const n of e)for(let s=0;s<t.length;s++){const c=t[s].getTransformedByOperation(n);t.splice(s,1,...c),s+=c.length-1}for(let n=0;n<t.length;n++){const s=t[n];for(let c=n+1;c<t.length;c++){const d=t[c];(s.containsRange(d)||d.containsRange(s)||s.isEqual(d))&&t.splice(c,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,s=e.howMany,c=e.targetPosition;return this._getTransformedByMove(n,c,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new H(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new H(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=K._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new H(t,n)):new H(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new H(this.start,e),new H(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new H(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,n,s=!1){if(this.isCollapsed){const y=this.start._getTransformedByMove(e,t,n);return[new H(y)]}const c=H._createFromPositionAndShift(e,n),d=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!s&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const y=this.start._getTransformedByMove(e,t,n),I=this.end._getTransformedByMove(e,t,n);return[new H(y,I)]}let h;const g=this.getDifference(c);let b=null;const v=this.getIntersection(c);if(g.length==1?b=new H(g[0].start._getTransformedByDeletion(e,n),g[0].end._getTransformedByDeletion(e,n)):g.length==2&&(b=new H(this.start,this.end._getTransformedByDeletion(e,n))),b?h=b._getTransformedByInsertion(d,n,v!==null||s):h=[],v){const y=new H(v.start._getCombined(c.start,d),v.end._getCombined(c.start,d));h.length==2?h.splice(1,0,y):h.push(y)}return h}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return n==null&&s==null?null:(n==null&&(n=e),s==null&&(s=e),new H(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return new this(K._createAt(e,0),K._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(K._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new L("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((c,d)=>c.start.isAfter(d.start)?1:-1);const n=e.indexOf(t),s=new this(t.start,t.end);if(n>0)for(let c=n-1;e[c].end.isEqual(s.start);c++)s.start=K._createAt(e[c].start);for(let c=n+1;c<e.length&&e[c].start.isEqual(s.end);c++)s.end=K._createAt(e[c].end);return s}static fromJSON(e,t){return new this(K.fromJSON(e.start,t),K.fromJSON(e.end,t))}}H.prototype.is=function(o){return o==="range"||o==="model:range"};class EA extends Ee(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new L("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(n),c=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=K._createAt(s,c)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new H(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new fe(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const s of t)if(s.is("attributeElement"))for(const c of s.getElementsWithSameId())n.add(c);else n.add(s);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const c=this._toModelOffset(e.parent,e.index,n),d=this._toModelOffset(e,t,e);return c+d}if(e.is("$text"))return t;let s=0;for(let c=0;c<t;c++)s+=this.getModelLength(e.getChild(c));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,s=0,c=0,d=0;if(e.is("$text"))return new X(e,t);for(;c<t;)n=e.getChild(d),s=this.getModelLength(n),c+=s,d++;return c==t?this._moveViewPositionToTextNode(new X(e,d)):this.findPositionIn(n,t-(c-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof We?new X(t,t.data.length):n instanceof We?new X(n,0):e}}class Bz{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=tu(t),e instanceof ui&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=tu(t),e instanceof ui&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=tu(t),e instanceof ui&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const s=n.get(t);return s===void 0?null:s}revert(e,t){t=tu(t),e instanceof ui&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,s]of this._consumable)for(const[c,d]of s){const h=c.split(":")[0];d&&e==h&&t.push({event:c,item:n.name||n.description})}if(t.length)throw new L("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const s=n.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,s=e.parent,c=Symbol("$textProxy:"+e.data);let d,h;return d=this._textProxyRegistry.get(t),d||(d=new Map,this._textProxyRegistry.set(t,d)),h=d.get(n),h||(h=new Map,d.set(n,h)),h.set(s,c),c}}function tu(o){const e=o.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?o:e.length>1?e[0]+":"+e[1]:e[0]}class SA extends Ee(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const s=this._createConversionApi(n,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,s);const c=this._reduceChanges(e.getChanges());for(const d of c)d.type==="insert"?this._convertInsert(H._createFromPositionAndShift(d.position,d.length),s):d.type==="reinsert"?this._convertReinsert(H._createFromPositionAndShift(d.position,d.length),s):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,s):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,s);for(const d of s.mapper.flushUnboundMarkerNames()){const h=t.get(d).getRange();this._convertMarkerRemove(d,h,s),this._convertMarkerAdd(d,h,s)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,n,s={}){const c=this._createConversionApi(n,void 0,s);this._convertInsert(e,c);for(const[d,h]of t)this._convertMarkerAdd(d,h,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const s=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},s);const c=e.getFirstPosition().root;if(!s.mapper.toViewElement(c))return;const d=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,d),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const h of d)if(s.consumable.test(e,"addMarker:"+h.name)){const g=h.getRange();if(!Pz(e.getFirstPosition(),h,s.mapper))continue;const b={item:e,markerName:h.name,markerRange:g};this.fire(`addMarker:${h.name}`,b,s)}for(const h of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+h)){const g={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.fire(`attribute:${h}:$text`,g,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(DA))this._testAndFire("insert",s,t)}_convertRemove(e,t,n,s){this.fire(`remove:${n}`,{position:e,length:t},s)}_convertAttribute(e,t,n,s,c){this._addConsumablesForRange(c.consumable,e,`attribute:${t}`);for(const d of e){const h={item:d.item,range:H._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:t,attributeOldValue:n,attributeNewValue:s};this._testAndFire(`attribute:${t}`,h,c)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const s of n.map(DA))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(n.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,s)){this._addConsumablesForRange(n.consumable,t,s);for(const c of t.getItems()){if(!n.consumable.test(c,s))continue;const d={item:c,range:H._createOn(c),markerName:e,markerRange:t};this.fire(s,d,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const s=n.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const c of s.getAttributeKeys())e.add(s,"attribute:"+c)}}return e}_addConsumablesForRange(e,t,n){for(const s of t.getItems())e.add(s,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const s of n)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,n){const s=Oz(e,t),c=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,d=this._firedEventsMap.get(n),h=d.get(c);if(!h)d.set(c,new Set([s]));else if(!h.has(s))h.add(s);else return;this.fire(s,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:H._createOn(e)};for(const s of n.item.getAttributeKeys())n.attributeKey=s,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(s),this._testAndFire(`attribute:${s}`,n,t)}_createConversionApi(e,t=new Set,n={}){const s={...this._conversionApi,consumable:new Bz,writer:e,options:n,convertItem:c=>this._convertInsert(H._createOn(c),s),convertChildren:c=>this._convertInsert(H._createIn(c),s,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,s),canReuseView:c=>!t.has(s.mapper.toModelElement(c))};return this._firedEventsMap.set(s,new Map),s}}function Pz(o,e,t){const n=e.getRange(),s=Array.from(o.getAncestors());return s.shift(),s.reverse(),!s.some(d=>{if(n.containsItem(d))return!!t.toViewElement(d).getCustomProperty("addHighlight")})}function Oz(o,e){const t=e.item.is("element")?e.item.name:"$text";return`${o}:${t}`}function DA(o){const e=o.item,t=H._createFromPositionAndShift(o.previousPosition,o.length);return{item:e,range:t}}class In extends Ee(Oo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new H(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new H(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new H(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof In)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof H)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof K)this._setRanges([new H(t)]);else if(t instanceof Pr){const c=!!s&&!!s.backward;let d;if(n=="in")d=H._createIn(t);else if(n=="on")d=H._createOn(t);else if(n!==void 0)d=new H(K._createAt(t,n));else throw new L("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([d],c)}else if(Pt(t))this._setRanges(t,s&&!!s.backward);else throw new L("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),s=n.some(c=>{if(!(c instanceof H))throw new L("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(c))});n.length===this._ranges.length&&!s||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new L("model-selection-setfocus-no-ranges",[this,e]);const n=K._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(s)=="before"?(this._pushRange(new H(n,s)),this._lastRangeBackward=!0):(this._pushRange(new H(s,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=IA(t.start,e);Lz(n,t)&&(yield n);for(const c of t.getWalker()){const d=c.item;c.type=="elementEnd"&&zz(d,e,t)&&(yield d)}const s=IA(t.end,e);jz(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=K._createAt(e,0),n=K._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new H(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new L("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}In.prototype.is=function(o){return o==="selection"||o==="model:selection"};function TA(o,e){return e.has(o)?!1:(e.add(o),o.root.document.model.schema.isBlock(o)&&!!o.parent)}function zz(o,e,t){return TA(o,e)&&Pg(o,t)}function IA(o,e){const n=o.parent.root.document.model.schema,s=o.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const d=s.find(h=>c?!1:(c=n.isLimit(h),!c&&TA(h,e)));return s.forEach(h=>e.add(h)),d}function Pg(o,e){const t=Rz(o);return t?!e.containsRange(H._createOn(t),!0):!0}function Lz(o,e){return o?e.isCollapsed||o.isEmpty?!0:e.start.isTouching(K._createAt(o,o.maxOffset))?!1:Pg(o,e):!1}function jz(o,e){return o?e.isCollapsed||o.isEmpty?!0:e.end.isTouching(K._createAt(o,0))?!1:Pg(o,e):!1}function Rz(o){const e=o.root.document.model.schema;let t=o.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class gn extends Ee(H){constructor(e,t){super(e,t),Fz.call(this)}detach(){this.stopListening()}toRange(){return new H(this.start,this.end)}static fromRange(e){return new gn(e.start,e.end)}}gn.prototype.is=function(o){return o==="liveRange"||o==="model:liveRange"||o=="range"||o==="model:range"};function Fz(){this.listenTo(this.root.document.model,"applyOperation",(o,e)=>{const t=e[0];t.isDocumentOperation&&Vz.call(this,t)},{priority:"low"})}function Vz(o){const e=this.getTransformedByOperation(o),t=H._createFromRanges(e),n=!t.isEqual(this),s=Uz(this,o);let c=null;if(n){t.root.rootName=="$graveyard"&&(o.type=="remove"?c=o.sourcePosition:c=o.deletionPosition);const d=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",d,{deletionPosition:c})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:c})}function Uz(o,e){switch(e.type){case"insert":return o.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return o.containsPosition(e.sourcePosition)||o.start.isEqual(e.sourcePosition)||o.containsPosition(e.targetPosition);case"split":return o.containsPosition(e.splitPosition)||o.containsPosition(e.insertionPosition)}return!1}const Ac="selection:";class hi extends Ee(Oo){constructor(e){super(),this._selection=new Hz(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Ac+e}static _isStoreAttributeKey(e){return e.startsWith(Ac)}}hi.prototype.is=function(o){return o==="selection"||o=="model:selection"||o=="documentSelection"||o=="model:documentSelection"};class Hz extends In{constructor(e){super(),this.markers=new ai({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const s=n[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,s,c)=>{this._updateMarker(n,c)}),this.listenTo(this._document,"change",(t,n)=>{$z(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Ae();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new L("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new L("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=gn.fromRange(e);return t.on("change:range",(n,s,c)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const d=this._ranges.indexOf(t);this._ranges.splice(d,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const c=s.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const d=s.getRange();for(const h of this.getRanges())d.containsRange(h,!h.isCollapsed)&&e.push(s)}const n=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let s=!1;const c=Array.from(this.markers),d=this.markers.has(e);if(!t)d&&(this.markers.remove(e),s=!0);else{let h=!1;for(const g of this.getRanges())if(t.containsRange(g,!g.isCollapsed)){h=!0;break}h&&!d?(this.markers.add(e),s=!0):!h&&d&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const t=Ji(this._getSurroundingAttributes()),n=Ji(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,d]of this._attributePriority)d=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(t);const s=[];for(const[c,d]of this.getAttributes())(!n.has(c)||n.get(c)!==d)&&s.push(c);for(const[c]of n)this.hasAttribute(c)||s.push(c);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,n=!0){const s=n?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,s]of this.getAttributes())e.get(n)!==s&&this._removeAttribute(n,!1);for(const[n,s]of e)this._setAttribute(n,s,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Ac)&&(yield[t.substr(Ac.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=Cc(s,t)),n||(n=Cc(c,t)),!this.isGravityOverridden&&!n){let d=s;for(;d&&!n;)d=d.previousSibling,n=Cc(d,t)}if(!n){let d=c;for(;d&&!n;)d=d.nextSibling,n=Cc(d,t)}n||(n=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const c of s){if(c.item.is("element")&&t.isObject(c.item)){n=Cc(c.item,t);break}if(c.type=="text"){n=c.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Cc(o,e){if(!o)return null;if(o instanceof ui||o instanceof Ge)return o.getAttributes();if(!e.isInline(o))return null;if(!e.isObject(o))return[];const t=[];for(const[n,s]of o.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,s]);return t}function $z(o,e){const t=o.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const s=n.position.parent;n.length===s.maxOffset&&o.enqueueChange(e,d=>{const h=Array.from(s.getAttributeKeys()).filter(g=>g.startsWith(Ac));for(const g of h)d.removeAttribute(g,s)})}}class MA{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class Wz extends MA{elementToElement(e){return this.add(lL(e))}elementToStructure(e){return this.add(dL(e))}attributeToElement(e){return this.add(uL(e))}attributeToAttribute(e){return this.add(hL(e))}markerToElement(e){return this.add(fL(e))}markerToHighlight(e){return this.add(gL(e))}markerToData(e){return this.add(pL(e))}}function NA(){return(o,e,t)=>{if(!t.consumable.consume(e.item,o.name))return;const n=t.writer,s=t.mapper.toViewPosition(e.range.start),c=n.createText(e.item.data);n.insert(s,c)}}function BA(){return(o,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function Gz(){return(o,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),c=t.mapper.toViewPosition(s,{isPhantom:!0}),d=t.writer.createRange(n,c),h=t.writer.remove(d.getTrimmed());for(const g of t.writer.createRangeIn(h).getItems())t.mapper.unbindViewElement(g,{defer:!0})}}function PA(o,e){const t=o.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function qz(){return(o,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=[];for(const c of n.getRanges())s.push(t.mapper.toViewRange(c));t.writer.setSelection(s,{backward:n.isBackward})}}function Kz(){return(o,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=t.writer,c=n.getFirstPosition(),d=t.mapper.toViewPosition(c),h=s.breakAttributes(d);s.setSelection(h)}}function Zz(){return(o,e,t)=>{const n=t.writer,s=n.document.selection;for(const c of s.getRanges())c.isCollapsed&&c.end.parent.isAttached()&&t.writer.mergeAttributes(c.start);n.setSelection(null)}}function Yz(o){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=o(t.attributeOldValue,n,t),c=o(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.writer,h=d.document.selection;if(t.item instanceof In||t.item instanceof hi)d.wrap(h.getFirstRange(),c);else{let g=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(g=d.unwrap(g,s)),t.attributeNewValue!==null&&c&&d.wrap(g,c)}}}function Qz(o,e=AL){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=o(n.item,s,n);if(!c)return;e(n.item,s.consumable);const d=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,c),s.writer.insert(d,c),s.convertAttributes(n.item),VA(c,n.item.getChildren(),s,{reconversion:n.reconversion})}}function Jz(o,e){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=new Map;s.writer._registerSlotFactory(bL(n.item,c,s));const d=o(n.item,s,n);if(s.writer._clearSlotFactory(),!d)return;wL(n.item,c,s),e(n.item,s.consumable);const h=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,d),s.writer.insert(h,d),s.convertAttributes(n.item),_L(d,c,s,{reconversion:n.reconversion})}}function Xz(o){return(e,t,n)=>{t.isOpening=!0;const s=o(t,n);t.isOpening=!1;const c=o(t,n);if(!s||!c)return;const d=t.markerRange;if(d.isCollapsed&&!n.consumable.consume(d,e.name))return;for(const b of d)if(!n.consumable.consume(b.item,e.name))return;const h=n.mapper,g=n.writer;g.insert(h.toViewPosition(d.start),s),n.mapper.bindElementToMarker(s,t.markerName),d.isCollapsed||(g.insert(h.toViewPosition(d.end),c),n.mapper.bindElementToMarker(c,t.markerName)),e.stop()}}function eL(){return(o,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const s of n)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),o.stop()}}}function tL(o){return(e,t,n)=>{const s=o(t.markerName,n);if(!s)return;const c=t.markerRange;n.consumable.consume(c,e.name)&&(OA(c,!1,n,t,s),OA(c,!0,n,t,s),e.stop())}}function OA(o,e,t,n,s){const c=e?o.start:o.end,d=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,h=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(d||h){let b,v;e&&d||!e&&!h?(b=d,v=!0):(b=h,v=!1);const y=t.mapper.toViewElement(b);if(y){nL(y,e,v,t,n,s);return}}const g=t.mapper.toViewPosition(c);iL(g,e,t,n,s)}function nL(o,e,t,n,s,c){const d=`data-${c.group}-${e?"start":"end"}-${t?"before":"after"}`,h=o.hasAttribute(d)?o.getAttribute(d).split(","):[];h.unshift(c.name),n.writer.setAttribute(d,h.join(","),o),n.mapper.bindElementToMarker(o,s.markerName)}function iL(o,e,t,n,s){const c=`${s.group}-${e?"start":"end"}`,d=s.name?{name:s.name}:null,h=t.writer.createUIElement(c,d);t.writer.insert(o,h),t.mapper.bindElementToMarker(h,n.markerName)}function oL(o){return(e,t,n)=>{const s=o(t.markerName,n);if(!s)return;const c=n.mapper.markerNameToElements(t.markerName);if(!c)return;for(const h of c)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("containerElement")?(d(`data-${s.group}-start-before`,h),d(`data-${s.group}-start-after`,h),d(`data-${s.group}-end-before`,h),d(`data-${s.group}-end-after`,h)):n.writer.clear(n.writer.createRangeOn(h),h);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function d(h,g){if(g.hasAttribute(h)){const b=new Set(g.getAttribute(h).split(","));b.delete(s.name),b.size==0?n.writer.removeAttribute(h,g):n.writer.setAttribute(h,Array.from(b).join(","),g)}}}}function rL(o){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=o(t.attributeOldValue,n,t),c=o(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.mapper.toViewElement(t.item),h=n.writer;if(!d)throw new L("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const g=Rt(s.value);for(const b of g)h.removeClass(b,d)}else if(s.key=="style"){const g=Object.keys(s.value);for(const b of g)h.removeStyle(b,d)}else h.removeAttribute(s.key,d);if(t.attributeNewValue!==null&&c)if(c.key=="class"){const g=Rt(c.value);for(const b of g)h.addClass(b,d)}else if(c.key=="style"){const g=Object.keys(c.value);for(const b of g)h.setStyle(b,c.value[b],d)}else h.setAttribute(c.key,c.value,d)}}function sL(o){return(e,t,n)=>{if(!t.item||!(t.item instanceof In||t.item instanceof hi)&&!t.item.is("$textProxy"))return;const s=Og(o,t,n);if(!s||!n.consumable.consume(t.item,e.name))return;const c=n.writer,d=PA(c,s),h=c.document.selection;if(t.item instanceof In||t.item instanceof hi)c.wrap(h.getFirstRange(),d);else{const g=n.mapper.toViewRange(t.range),b=c.wrap(g,d);for(const v of b.getItems())if(v.is("attributeElement")&&v.isSimilar(d)){n.mapper.bindElementToMarker(v,t.markerName);break}}}}function aL(o){return(e,t,n)=>{if(!t.item||!(t.item instanceof Fe))return;const s=Og(o,t,n);if(!s||!n.consumable.test(t.item,e.name))return;const c=n.mapper.toViewElement(t.item);if(c&&c.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const h of H._createIn(t.item))n.consumable.consume(h.item,e.name);c.getCustomProperty("addHighlight")(c,s,n.writer),n.mapper.bindElementToMarker(c,t.markerName)}}}function cL(o){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const s=Og(o,t,n);if(!s)return;const c=PA(n.writer,s),d=n.mapper.markerNameToElements(t.markerName);if(d){for(const h of d)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(h),c):h.getCustomProperty("removeHighlight")(h,s.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function lL(o){const e=zA(o.model),t=yc(o.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,Qz(t,FA(e)),{priority:o.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",RA(e),{priority:"low"})}}function dL(o){const e=zA(o.model),t=yc(o.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new L("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,Jz(t,FA(e)),{priority:o.converterPriority||"normal"}),n.on("reduceChanges",RA(e),{priority:"low"})}}function uL(o){o=Po(o);let e=o.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)o.view[s]=yc(o.view[s],"attribute");else o.view=yc(o.view,"attribute");const n=LA(o);return s=>{s.on(t,Yz(n),{priority:o.converterPriority||"normal"})}}function hL(o){o=Po(o);let e=o.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)o.view[s]=jA(o.view[s]);else o.view=jA(o.view);const n=LA(o);return s=>{s.on(t,rL(n),{priority:o.converterPriority||"normal"})}}function fL(o){const e=yc(o.view,"ui");return t=>{t.on(`addMarker:${o.model}`,Xz(e),{priority:o.converterPriority||"normal"}),t.on(`removeMarker:${o.model}`,eL(),{priority:o.converterPriority||"normal"})}}function pL(o){o=Po(o);const e=o.model;let t=o.view;return t||(t=n=>({group:e,name:n.substr(o.model.length+1)})),n=>{n.on(`addMarker:${e}`,tL(t),{priority:o.converterPriority||"normal"}),n.on(`removeMarker:${e}`,oL(t),{priority:o.converterPriority||"normal"})}}function gL(o){return e=>{e.on(`addMarker:${o.model}`,sL(o.view),{priority:o.converterPriority||"normal"}),e.on(`addMarker:${o.model}`,aL(o.view),{priority:o.converterPriority||"normal"}),e.on(`removeMarker:${o.model}`,cL(o.view),{priority:o.converterPriority||"normal"})}}function zA(o){return typeof o=="string"&&(o={name:o}),o.attributes?Array.isArray(o.attributes)||(o.attributes=[o.attributes]):o.attributes=[],o.children=!!o.children,o}function yc(o,e){return typeof o=="function"?o:(t,n)=>mL(o,n,e)}function mL(o,e,t){typeof o=="string"&&(o={name:o});let n;const s=e.writer,c=Object.assign({},o.attributes);if(t=="container")n=s.createContainerElement(o.name,c);else if(t=="attribute"){const d={priority:o.priority||Nr.DEFAULT_PRIORITY};n=s.createAttributeElement(o.name,c,d)}else n=s.createUIElement(o.name,c);if(o.styles){const d=Object.keys(o.styles);for(const h of d)s.setStyle(h,o.styles[h],n)}if(o.classes){const d=o.classes;if(typeof d=="string")s.addClass(d,n);else for(const h of d)s.addClass(h,n)}return n}function LA(o){return o.model.values?(e,t,n)=>{const s=o.view[e];return s?s(e,t,n):null}:o.view}function jA(o){return typeof o=="string"?e=>({key:o,value:e}):typeof o=="object"?o.value?()=>o:e=>({key:o.key,value:e}):o}function Og(o,e,t){const n=typeof o=="function"?o(e,t):o;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function kL(o){return(e,t)=>{if(!e.is("element",o.name))return!1;if(t.type=="attribute"){if(o.attributes.includes(t.attributeKey))return!0}else if(o.children)return!0;return!1}}function RA(o){const e=kL(o);return(t,n)=>{const s=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const c of n.changes){const d=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(!d||!e(d,c)){s.push(c);continue}if(!n.reconvertedElements.has(d)){n.reconvertedElements.add(d);const h=K._createBefore(d);let g=s.length;for(let b=s.length-1;b>=0;b--){const v=s[b],I=(v.type=="attribute"?v.range.start:v.position).compareWith(h);if(I=="before"||v.type=="remove"&&I=="same")break;g=b}s.splice(g,0,{type:"remove",name:d.name,position:h,length:1},{type:"reinsert",name:d.name,position:h,length:1})}}n.changes=s}}function FA(o){return(e,t,n={})=>{const s=["insert"];for(const c of o.attributes)e.hasAttribute(c)&&s.push(`attribute:${c}`);return s.every(c=>t.test(e,c))?(n.preflight||s.forEach(c=>t.consume(e,c)),!0):!1}}function bL(o,e,t){return(n,s)=>{const c=n.createContainerElement("$slot");let d=null;if(s==="children")d=Array.from(o.getChildren());else if(typeof s=="function")d=Array.from(o.getChildren()).filter(h=>s(h));else throw new L("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(c,d),c}}function wL(o,e,t){const n=Array.from(e.values()).flat(),s=new Set(n);if(s.size!=n.length)throw new L("conversion-slot-filter-overlap",t.dispatcher,{element:o});if(s.size!=o.childCount)throw new L("conversion-slot-filter-incomplete",t.dispatcher,{element:o})}function _L(o,e,t,n){t.mapper.on("modelToViewPosition",d,{priority:"highest"});let s=null,c=null;for([s,c]of e)VA(o,c,t,n),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",d);function d(h,g){const b=g.modelPosition.nodeAfter,v=c.indexOf(b);v<0||(g.viewPosition=g.mapper.findPositionIn(s,v))}}function VA(o,e,t,n){for(const s of e)vL(o.root,s,t,n)||t.convertItem(s)}function vL(o,e,t,n){const{writer:s,mapper:c}=t;if(!n.reconversion)return!1;const d=c.toViewElement(e);return!d||d.root==o||!t.canReuseView(d)?!1:(s.move(s.createRangeOn(d),c.toViewPosition(K._createBefore(e))),!0)}function AL(o,e,{preflight:t}={}){return t?e.test(o,"insert"):e.consume(o,"insert")}function UA(o){const{schema:e,document:t}=o.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return o.insertElement("paragraph",n),!0;return!1}function HA(o,e,t){const n=t.createContext(o);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function $A(o,e){const t=e.createElement("paragraph");return e.insert(t,o),e.createPositionAt(t,0)}class CL extends MA{elementToElement(e){return this.add(GA(e))}elementToAttribute(e){return this.add(EL(e))}attributeToAttribute(e){return this.add(SL(e))}elementToMarker(e){return this.add(DL(e))}dataToMarker(e){return this.add(TL(e))}}function WA(){return(o,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=s}}}function yL(){return(o,e,{schema:t,consumable:n,writer:s})=>{let c=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(c,"$text")){if(!HA(c,"$text",t)||e.viewItem.data.trim().length==0)return;const h=c.nodeBefore;c=$A(c,s),h&&h.is("element","$marker")&&(s.move(s.createRangeOn(h),c),c=s.createPositionAfter(h))}n.consume(e.viewItem);const d=s.createText(e.viewItem.data);s.insert(d,c),e.modelRange=s.createRange(c,c.getShiftedBy(d.offsetSize)),e.modelCursor=e.modelRange.end}}function xL(o,e){return(t,n)=>{const s=n.newSelection,c=[];for(const h of s.getRanges())c.push(e.toModelRange(h));const d=o.createSelection(c,{backward:s.isBackward});d.isEqual(o.document.selection)||o.change(h=>{h.setSelection(d)})}}function GA(o){o=Po(o);const e=Lg(o),t=zg(o.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:o.converterPriority||"normal"})}}function EL(o){o=Po(o),qA(o);const e=KA(o,!1),t=zg(o.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:o.converterPriority||"low"})}}function SL(o){o=Po(o);let e=null;(typeof o.view=="string"||o.view.key)&&(e=NL(o)),qA(o,e);const t=KA(o,!0);return n=>{n.on("element",t,{priority:o.converterPriority||"low"})}}function DL(o){const e=OL(o.model);return GA({...o,model:e})}function TL(o){o=Po(o),o.model||(o.model=s=>s?o.view+":"+s:o.view);const e={view:o.view,model:o.model},t=Lg(ZA(e,"start")),n=Lg(ZA(e,"end"));return s=>{s.on(`element:${o.view}-start`,t,{priority:o.converterPriority||"normal"}),s.on(`element:${o.view}-end`,n,{priority:o.converterPriority||"normal"});const c=je.low,d=je.highest,h=je.get(o.converterPriority)/d;s.on("element",IL(e),{priority:c+h})}}function IL(o){return(e,t,n)=>{const s=`data-${o.view}`;if(!n.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function c(d,h){for(const g of h){const b=o.model(g,n),v=n.writer.createElement("$marker",{"data-name":b});n.writer.insert(v,d),t.modelCursor.isEqual(d)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(d,1),t.modelRange=t.modelRange._getTransformedByInsertion(d,1)[0]}}}}function zg(o){return typeof o=="string"?o:typeof o=="object"&&typeof o.name=="string"?o.name:null}function Lg(o){const e=new fc(o.view);return(t,n,s)=>{const c=e.match(n.viewItem);if(!c)return;const d=c.match;if(d.name=!0,!s.consumable.test(n.viewItem,d))return;const h=ML(o.model,n.viewItem,s);h&&s.safeInsert(h,n.modelCursor)&&(s.consumable.consume(n.viewItem,d),s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n))}}function ML(o,e,t){return o instanceof Function?o(e,t):t.writer.createElement(o)}function NL(o){typeof o.view=="string"&&(o.view={key:o.view});const e=o.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:o.view.value};else{const n=typeof o.view.value>"u"?/[\s\S]*/:o.view.value;t={attributes:{[e]:n}}}return o.view.name&&(t.name=o.view.name),o.view=t,e}function qA(o,e=null){const t=e===null?!0:c=>c.getAttribute(e),n=typeof o.model!="object"?o.model:o.model.key,s=typeof o.model!="object"||typeof o.model.value>"u"?t:o.model.value;o.model={key:n,value:s}}function KA(o,e){const t=new fc(o.view);return(n,s,c)=>{if(!s.modelRange&&e)return;const d=t.match(s.viewItem);if(!d||(BL(o.view,s.viewItem)?d.match.name=!0:delete d.match.name,!c.consumable.test(s.viewItem,d.match)))return;const h=o.model.key,g=typeof o.model.value=="function"?o.model.value(s.viewItem,c):o.model.value;if(g===null)return;s.modelRange||Object.assign(s,c.convertChildren(s.viewItem,s.modelCursor)),PL(s.modelRange,{key:h,value:g},e,c)&&(c.consumable.test(s.viewItem,{name:!0})&&(d.match.name=!0),c.consumable.consume(s.viewItem,d.match))}}function BL(o,e){const t=typeof o=="function"?o(e):o;return typeof t=="object"&&!zg(t)?!1:!t.classes&&!t.attributes&&!t.styles}function PL(o,e,t,n){let s=!1;for(const c of Array.from(o.getItems({shallow:t})))n.schema.checkAttribute(c,e.key)&&(s=!0,!c.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,c));return s}function OL(o){return(e,t)=>{const n=typeof o=="string"?o:o(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function ZA(o,e){const t=(n,s)=>{const c=n.getAttribute("name"),d=o.model(c,s);return s.writer.createElement("$marker",{"data-name":d})};return{view:`${o.view}-${e}`,model:t}}function zL(o){o.document.registerPostFixer(e=>LL(e,o))}function LL(o,e){const t=e.document.selection,n=e.schema,s=[];let c=!1;for(const d of t.getRanges()){const h=YA(d,n);h&&!h.isEqual(d)?(s.push(h),c=!0):s.push(d)}return c&&o.setSelection(VL(s),{backward:t.isBackward}),!1}function YA(o,e){return o.isCollapsed?jL(o,e):RL(o,e)}function jL(o,e){const t=o.start,n=e.getNearestSelectionRange(t);if(!n){const c=t.getAncestors().reverse().find(d=>e.isObject(d));return c?H._createOn(c):null}if(!n.isCollapsed)return n;const s=n.start;return t.isEqual(s)?null:new H(s)}function RL(o,e){const{start:t,end:n}=o,s=e.checkChild(t,"$text"),c=e.checkChild(n,"$text"),d=e.getLimitElement(t),h=e.getLimitElement(n);if(d===h){if(s&&c)return null;if(FL(t,n,e)){const y=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),B=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),R=y?y.start:t,V=B?B.end:n;return new H(R,V)}}const g=d&&!d.is("rootElement"),b=h&&!h.is("rootElement");if(g||b){const v=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,y=g&&(!v||!JA(t.nodeAfter,e)),I=b&&(!v||!JA(n.nodeBefore,e));let B=t,R=n;return y&&(B=K._createBefore(QA(d,e))),I&&(R=K._createAfter(QA(h,e))),new H(B,R)}return null}function QA(o,e){let t=o,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function FL(o,e,t){const n=o.nodeAfter&&!t.isLimit(o.nodeAfter)||t.checkChild(o,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||s}function VL(o){const e=[...o],t=new Set;let n=1;for(;n<e.length;){const c=e[n],d=e.slice(0,n);for(const[h,g]of d.entries())if(!t.has(h)){if(c.isEqual(g))t.add(h);else if(c.isIntersecting(g)){t.add(h),t.add(n);const b=c.getJoined(g);e.push(b)}}n++}return e.filter((c,d)=>!t.has(d))}function JA(o,e){return o&&e.isSelectable(o)}class UL extends Re(){constructor(e,t){super(),this.model=e,this.view=new Iz(t),this.mapper=new EA,this.downcastDispatcher=new SA({mapper:this.mapper,schema:e.schema});const n=this.model.document,s=n.selection,c=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(d=>{this.downcastDispatcher.convertChanges(n.differ,c,d),this.downcastDispatcher.convertSelection(s,c,d)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",xL(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",HL(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",NA(),{priority:"lowest"}),this.downcastDispatcher.on("insert",BA(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Gz(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",Zz()),this.downcastDispatcher.on("selection",qz(),{priority:"low"}),this.downcastDispatcher.on("selection",Kz(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(d=>{if(d.rootName=="$graveyard")return null;const h=new H0(this.view.document,d.name);return h.rootName=d.rootName,this.mapper.bindElements(d,h),h})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new L("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function HL(o,e,t){return(n,s)=>{if(!(t.document.isComposing&&!m.isAndroid))for(let c=0;c<s.targetRanges.length;c++){const d=s.targetRanges[c],h=o.toModelRange(d),g=YA(h,e);!g||g.isEqual(h)||(s.targetRanges[c]=o.toViewRange(g))}}}class xc{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new $L(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const d of n)d=="style"||d=="class"||t.attributes.push(d);const s=e.getClassNames();for(const d of s)t.classes.push(d);const c=e.getStyleNames();for(const d of c)t.styles.push(d);return t}static createFrom(e,t){if(t||(t=new xc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,xc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=xc.createFrom(n,t);return t}}const nu=["attributes","classes","styles"];class $L{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of nu)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of nu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._revert(t,e[t])}_add(e,t){const n=jt(t)?t:[t],s=this._consumables[e];for(const c of n){if(e==="attributes"&&(c==="class"||c==="style"))throw new L("viewconsumable-invalid-attribute",this);if(s.set(c,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!0)}}_test(e,t){const n=jt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles",h=this._test(d,[...this._consumables[d].keys()]);if(h!==!0)return h}else{const d=s.get(c);if(d===void 0)return null;if(!d)return!1}return!0}_consume(e,t){const n=jt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}else if(s.set(c,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!1)}_revert(e,t){const n=jt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}else s.get(c)===!1&&s.set(c,!0)}}class WL extends Re(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new zr(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new zr(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new L("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new L("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof K){const n=e.nodeBefore,s=e.nodeAfter;if(!(n instanceof Fe))throw new L("schema-check-merge-no-element-before",this);if(!(s instanceof Fe))throw new L("schema-check-merge-no-element-after",this);return this.checkMerge(n,s)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,s])=>{if(!s)return;const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,s])=>{const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof K?t=e.parent:t=(e instanceof H?[e]:Array.from(e.getRanges())).reduce((s,c)=>{const d=c.getCommonAncestor();return s?s.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Ge("",e.getAttributes())];return this.checkAttribute(s,t)}else{const n=e.getRanges();for(const s of n)for(const c of s)if(this.checkAttribute(c.item,t))return!0}return!1}*getValidRanges(e,t){e=aj(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new H(e);let n,s;const c=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;(t=="both"||t=="backward")&&(n=new Mi({boundaries:H._createIn(c),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Mi({boundaries:H._createIn(c),startPosition:e}));for(const d of sj(n,s)){const h=d.walker==n?"elementEnd":"elementStart",g=d.value;if(g.type==h&&this.isObject(g.item))return H._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new H(g.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const s=n.model;for(const[c,d]of Object.entries(t))s.schema.checkAttribute(e,c)&&n.setAttribute(c,d,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))XA(this,n,t);else{const c=H._createIn(n).getPositions();for(const d of c){const h=d.nodeBefore||d.parent;XA(this,h,t)}}}getAttributesWithProperty(e,t,n){const s={};for(const[c,d]of e.getAttributes()){const h=this.getAttributeProperties(c);h[t]!==void 0&&(n===void 0||n===h[t])&&(s[c]=d)}return s}createContext(e){return new zr(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const s of n)e[s]=GL(t[s],s);for(const s of n)qL(e,s);for(const s of n)KL(e,s);for(const s of n)ZL(e,s);for(const s of n)YL(e,s),QL(e,s);for(const s of n)JL(e,s),XL(e,s),ej(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const s=t.getItem(n);if(e.allowIn.includes(s.name)){if(n==0)return!0;{const c=this.getDefinition(s);return this._checkContextMatch(c,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,s=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(H._createIn(c),t)),this.checkAttribute(c,t)||(n.isEqual(s)||(yield new H(n,s)),n=K._createAfter(c)),s=K._createAfter(c);n.isEqual(s)||(yield new H(n,s))}}class zr{constructor(e){if(e instanceof zr)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(rj)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new zr([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function GL(o,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return tj(o,t),Lr(o,t,"allowIn"),Lr(o,t,"allowContentOf"),Lr(o,t,"allowWhere"),Lr(o,t,"allowAttributes"),Lr(o,t,"allowAttributesOf"),Lr(o,t,"allowChildren"),Lr(o,t,"inheritTypesFrom"),nj(o,t),t}function qL(o,e){const t=o[e];for(const n of t.allowChildren){const s=o[n];s&&s.allowIn.push(e)}t.allowChildren.length=0}function KL(o,e){for(const t of o[e].allowContentOf)o[t]&&ij(o,t).forEach(s=>{s.allowIn.push(e)});delete o[e].allowContentOf}function ZL(o,e){for(const t of o[e].allowWhere){const n=o[t];if(n){const s=n.allowIn;o[e].allowIn.push(...s)}}delete o[e].allowWhere}function YL(o,e){for(const t of o[e].allowAttributesOf){const n=o[t];if(n){const s=n.allowAttributes;o[e].allowAttributes.push(...s)}}delete o[e].allowAttributesOf}function QL(o,e){const t=o[e];for(const n of t.inheritTypesFrom){const s=o[n];if(s){const c=Object.keys(s).filter(d=>d.startsWith("is"));for(const d of c)d in t||(t[d]=s[d])}}delete t.inheritTypesFrom}function JL(o,e){const t=o[e],n=t.allowIn.filter(s=>o[s]);t.allowIn=Array.from(new Set(n))}function XL(o,e){const t=o[e];for(const n of t.allowIn)o[n].allowChildren.push(e)}function ej(o,e){const t=o[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function tj(o,e){for(const t of o){const n=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of n)e[s]=!!t[s]}}function Lr(o,e,t){for(const n of o){const s=n[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function nj(o,e){for(const t of o){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function ij(o,e){const t=o[e];return oj(o).filter(n=>n.allowIn.includes(t.name))}function oj(o){return Object.keys(o).map(e=>o[e])}function rj(o){return typeof o=="string"||o.is("documentFragment")?{name:typeof o=="string"?o:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:o.is("element")?o.name:"$text",*getAttributeKeys(){yield*o.getAttributeKeys()},getAttribute(e){return o.getAttribute(e)}}}function*sj(o,e){let t=!1;for(;!t;){if(t=!0,o){const n=o.next();n.done||(t=!1,yield{walker:o,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*aj(o){for(const e of o)yield*e.getMinimalFlatRanges()}function XA(o,e,t){for(const n of e.getAttributeKeys())o.checkAttribute(e,n)||t.removeAttribute(n,e)}class cj extends Ee(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=dj(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=xc.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),c=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))t.append(d,c);c.markers=lj(c,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof H))throw new L("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:K._createAt(t,0);const s=new H(n);for(const c of Array.from(e.getChildren())){const d=this._convertItem(c,n);d.modelRange instanceof H&&(s.end=d.modelRange.end,n=d.modelCursor)}return{modelRange:s,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(n[n.length-1])));const c=this._cursorParents.get(e);c?t.modelCursor=s.createPositionAt(c,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:s}=this.conversionApi;let c=n.findAllowedParent(t,e);if(c){if(c===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return HA(t,e,n)?{position:$A(t,s)}:null;const d=this.conversionApi.writer.split(t,c),h=[];for(const b of d.range.getWalker())if(b.type=="elementEnd")h.push(b.item);else{const v=h.pop(),y=b.item;this._registerSplitPair(v,y)}const g=d.range.end.parent;return this._cursorParents.set(e,g),{position:d.position,cursorParent:g}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function lj(o,e){const t=new Set,n=new Map,s=H._createIn(o).getItems();for(const c of s)c.is("element","$marker")&&t.add(c);for(const c of t){const d=c.getAttribute("data-name"),h=e.createPositionBefore(c);n.has(d)?n.get(d).end=h.clone():n.set(d,new H(h.clone())),e.remove(c)}return n}function dj(o,e){let t;for(const n of new zr(o)){const s={};for(const d of n.getAttributeKeys())s[d]=n.getAttribute(d);const c=e.createElement(n.name,s);t&&e.insert(c,t),t=K._createAt(c,0)}return t}class uj{getHtml(e){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}class hj{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new sA(e,{renderingMode:"data"}),this.htmlWriter=new uj}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)n.appendChild(s[0]);return n}}class fj extends Ee(){constructor(e,t){super(),this.model=e,this.mapper=new EA,this.downcastDispatcher=new SA({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",NA(),{priority:"lowest"}),this.downcastDispatcher.on("insert",BA(),{priority:"lowest"}),this.upcastDispatcher=new cj({schema:e.schema}),this.viewDocument=new W0(t),this.stylesProcessor=t,this.htmlProcessor=new hj(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new q0(this.viewDocument),this.upcastDispatcher.on("text",yL(),{priority:"lowest"}),this.upcastDispatcher.on("element",WA(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",WA(),{priority:"lowest"}),Re().prototype.decorate.call(this,"init"),Re().prototype.decorate.call(this,"set"),Re().prototype.decorate.call(this,"get"),Re().prototype.decorate.call(this,"toView"),Re().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},UA)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new L("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||Ie("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const c=H._createIn(e),d=new Br(n);this.mapper.bindElements(e,d);const h=e.is("documentFragment")?e.markers:pj(e);return this.downcastDispatcher.convert(c,h,s,t),d}init(e){if(this.model.document.version)throw new L("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new L("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const s of Object.keys(t)){const c=this.model.document.getRoot(s);n.insert(this.parse(t[s],c),c,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new L("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(n)){const d=this.model.document.getRoot(c);s.remove(s.createRangeIn(d)),s.insert(this.parse(n[c],d),d,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function pj(o){const e=[],t=o.root.document;if(!t)return new Map;const n=H._createIn(o);for(const s of t.model.markers){const c=s.getRange(),d=c.isCollapsed,h=c.start.isEqual(n.start)||c.end.isEqual(n.end);if(d&&h)e.push([s.name,c]);else{const g=n.getIntersection(c);g&&e.push([s.name,g])}}return e.sort(([s,c],[d,h])=>{if(c.end.compareWith(h.start)!=="after")return 1;if(c.start.compareWith(h.end)!=="before")return-1;switch(c.start.compareWith(h.start)){case"before":return 1;case"after":return-1;default:switch(c.end.compareWith(h.end)){case"before":return 1;case"after":return-1;default:return d.localeCompare(s)}}}),new Map(e)}class gj{constructor(e,t){this._helpers=new Map,this._downcast=Rt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Rt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new L("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new L("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of jg(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of jg(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of jg(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new L("conversion-group-exists",this);const s=n?new Wz(t):new CL(t);this._helpers.set(e,s)}}function*jg(o){if(o.model.values)for(const e of o.model.values){const t={key:o.model.key,value:e},n=o.view[e],s=o.upcastAlso?o.upcastAlso[e]:void 0;yield*eC(t,n,s)}else yield*eC(o.model,o.view,o.upcastAlso)}function*eC(o,e,t){if(yield{model:o,view:e},t)for(const n of Rt(t))yield{model:o,view:n}}class Mn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Rg(o,e){const t=nC(e),n=t.reduce((d,h)=>d+h.offsetSize,0),s=o.parent;Dc(o);const c=o.index;return s._insertChild(c,t),Sc(s,c+t.length),Sc(s,c),new H(o,o.getShiftedBy(n))}function tC(o){if(!o.isFlat)throw new L("operation-utils-remove-range-not-flat",this);const e=o.start.parent;Dc(o.start),Dc(o.end);const t=e._removeChildren(o.start.index,o.end.index-o.start.index);return Sc(e,o.start.index),t}function Ec(o,e){if(!o.isFlat)throw new L("operation-utils-move-range-not-flat",this);const t=tC(o);return e=e._getTransformedByDeletion(o.start,o.end.offset-o.start.offset),Rg(e,t)}function mj(o,e,t){Dc(o.start),Dc(o.end);for(const n of o.getItems({shallow:!0})){const s=n.is("$textProxy")?n.textNode:n;t!==null?s._setAttribute(e,t):s._removeAttribute(e),Sc(s.parent,s.index)}Sc(o.end.parent,o.end.index)}function nC(o){const e=[];function t(n){if(typeof n=="string")e.push(new Ge(n));else if(n instanceof ui)e.push(new Ge(n.data,n.getAttributes()));else if(n instanceof Pr)e.push(n);else if(Pt(n))for(const s of n)t(s)}t(o);for(let n=1;n<e.length;n++){const s=e[n],c=e[n-1];s instanceof Ge&&c instanceof Ge&&iC(s,c)&&(e.splice(n-1,2,new Ge(c.data+s.data,c.getAttributes())),n--)}return e}function Sc(o,e){const t=o.getChild(e-1),n=o.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&iC(t,n)){const s=new Ge(t.data+n.data,t.getAttributes());o._removeChildren(e-1,2),o._insertChild(e-1,s)}}function Dc(o){const e=o.textNode,t=o.parent;if(e){const n=o.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const c=new Ge(e.data.substr(0,n),e.getAttributes()),d=new Ge(e.data.substr(n),e.getAttributes());t._insertChild(s,[c,d])}}function iC(o,e){const t=o.getAttributes(),n=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;n.next()}return n.next().done}class Pe extends Mn{constructor(e,t,n,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[H._createFromPositionAndShift(this.sourcePosition,this.howMany),H._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Pe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Pe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,s=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new L("move-operation-nodes-do-not-exist",this);if(e===t&&n<s&&s<n+this.howMany)throw new L("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ct(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=n&&this.targetPosition.path[c]<n+this.howMany)throw new L("move-operation-node-into-itself",this)}}_execute(){Ec(H._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=K.fromJSON(e.sourcePosition,t),s=K.fromJSON(e.targetPosition,t);return new this(n,e.howMany,s,e.baseVersion)}}class Ft extends Mn{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new _c(nC(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new _c([...this.nodes].map(n=>n._clone(!0))),t=new Ft(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new K(e,[0]);return new Pe(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new L("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new _c([...e].map(t=>t._clone(!0))),Rg(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const c of e.nodes)c.name?n.push(Fe.fromJSON(c)):n.push(Ge.fromJSON(c));const s=new Ft(K.fromJSON(e.position,t),n,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class qe extends Mn{constructor(e,t,n,s,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new K(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new H(this.splitPosition,e)}get affectedSelectable(){const e=[H._createFromPositionAndShift(this.splitPosition,0),H._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(H._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new qe(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new K(e,[0]);return new kt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new L("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new L("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new L("split-operation-graveyard-position-invalid",this)}else throw new L("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Ec(H._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();Rg(this.insertionPosition,n)}const t=new H(K._createAt(e,this.splitPosition.offset),K._createAt(e,e.maxOffset));Ec(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new K(e.root,t,"toPrevious")}static fromJSON(e,t){const n=K.fromJSON(e.splitPosition,t),s=K.fromJSON(e.insertionPosition,t),c=e.graveyardPosition?K.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,s,c,e.baseVersion)}}class kt extends Mn{constructor(e,t,n,s,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new K(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new H(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[H._createOn(e),H._createFromPositionAndShift(this.targetPosition,0),H._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new K(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new qe(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new L("merge-operation-how-many-invalid",this)}else throw new L("merge-operation-target-position-invalid",this);else throw new L("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=H._createIn(e);Ec(t,this.targetPosition),Ec(H._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=K.fromJSON(e.sourcePosition,t),s=K.fromJSON(e.targetPosition,t),c=K.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,s,c,e.baseVersion)}}class mn extends Mn{constructor(e,t,n,s,c,d){super(d),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=c,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new mn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new mn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new mn(e.name,e.oldRange?H.fromJSON(e.oldRange,t):null,e.newRange?H.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}function kj(o,e){return wA(o,e)}const oC=kj;class yt extends Mn{constructor(e,t,n,s,c){super(c),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new L("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!oC(e.getAttribute(this.key),this.oldValue))throw new L("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new L("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){oC(this.oldValue,this.newValue)||mj(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yt(H.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Dt extends Mn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Dt(this.baseVersion)}getReversed(){return new Dt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class kn extends Mn{constructor(e,t,n,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new kn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new kn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Fe){if(e.name!==this.oldName)throw new L("rename-operation-wrong-name",this)}else throw new L("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new kn(K.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Xi extends Mn{constructor(e,t,n,s,c){super(c),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Xi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Xi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new L("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new L("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new L("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new L("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Xi(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ni extends Mn{constructor(e,t,n,s,c){if(super(c),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=s,!this._document.getRoot(this.rootName)){const d=this._document.createRoot(this.elementName,this.rootName);d._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ni(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ni(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Ni(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Gn={};Gn[yt.className]=yt,Gn[Ft.className]=Ft,Gn[mn.className]=mn,Gn[Pe.className]=Pe,Gn[Dt.className]=Dt,Gn[Mn.className]=Mn,Gn[kn.className]=kn,Gn[Xi.className]=Xi,Gn[Ni.className]=Ni,Gn[qe.className]=qe,Gn[kt.className]=kt;class bj{static fromJSON(e,t){return Gn[e.__className].fromJSON(e,t)}}const Fg=new Map;function Te(o,e,t){let n=Fg.get(o);n||(n=new Map,Fg.set(o,n)),n.set(e,t)}function wj(o,e){const t=Fg.get(o);return t&&t.has(e)?t.get(e):_j}function _j(o){return[o]}function rC(o,e,t={}){const n=wj(o.constructor,e.constructor);try{return o=o.clone(),n(o,e,t)}catch(s){throw s}}function vj(o,e,t){o=o.slice(),e=e.slice();const n=new Aj(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(o),n.setOriginalOperations(e);const s=n.originalOperations;if(o.length==0||e.length==0)return{operationsA:o,operationsB:e,originalOperations:s};const c=new WeakMap;for(const g of o)c.set(g,0);const d={nextBaseVersionA:o[o.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:o.length,originalOperationsBCount:e.length};let h=0;for(;h<o.length;){const g=o[h],b=c.get(g);if(b==e.length){h++;continue}const v=e[b],y=rC(g,v,n.getContext(g,v,!0)),I=rC(v,g,n.getContext(v,g,!1));n.updateRelation(g,v),n.setOriginalOperations(y,g),n.setOriginalOperations(I,v);for(const B of y)c.set(B,b+I.length);o.splice(h,1,...y),e.splice(b,1,...I)}if(t.padWithNoOps){const g=o.length-d.originalOperationsACount,b=e.length-d.originalOperationsBCount;aC(o,b-g),aC(e,g-b)}return sC(o,d.nextBaseVersionB),sC(e,d.nextBaseVersionA),{operationsA:o,operationsB:e,originalOperations:s}}class Aj{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,n||s)}updateRelation(e,t){if(e instanceof Pe)t instanceof kt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Pe&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof qe){if(t instanceof kt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Pe)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=H._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const s=n.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:s,offset:c})}}}else if(e instanceof kt)t instanceof kt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof qe&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof mn){const n=e.newRange;if(!n)return;if(t instanceof Pe){const s=H._createFromPositionAndShift(t.sourcePosition,t.howMany),c=s.containsPosition(n.start)||s.start.isEqual(n.start),d=s.containsPosition(n.end)||s.end.isEqual(n.end);(c||d)&&!s.containsRange(n)&&this._setRelation(e,t,{side:c?"left":"right",path:c?n.start.path.slice():n.end.path.slice()})}else if(t instanceof kt){const s=n.start.isEqual(t.targetPosition),c=n.start.isEqual(t.deletionPosition),d=n.end.isEqual(t.deletionPosition),h=n.end.isEqual(t.sourcePosition);(s||c||d||h)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:d,wasInRightElement:h})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),s=this._history.getUndoneOperation(n);if(!s)return null;const c=this.originalOperations.get(e),d=this._relations.get(c);return d&&d.get(s)||null}_setRelation(e,t,n){const s=this.originalOperations.get(e),c=this.originalOperations.get(t);let d=this._relations.get(s);d||(d=new Map,this._relations.set(s,d)),d.set(c,n)}}function sC(o,e){for(const t of o)t.baseVersion=e++}function aC(o,e){for(let t=0;t<e;t++)o.push(new Dt(0))}Te(yt,yt,(o,e,t)=>{if(o.key===e.key&&o.range.start.hasSameParentAs(e.range.start)){const n=o.range.getDifference(e.range).map(c=>new yt(c,o.key,o.oldValue,o.newValue,0)),s=o.range.getIntersection(e.range);return s&&t.aIsStrong&&n.push(new yt(s,e.key,e.newValue,o.newValue,0)),n.length==0?[new Dt(0)]:n}else return[o]}),Te(yt,Ft,(o,e)=>{if(o.range.start.hasSameParentAs(e.position)&&o.range.containsPosition(e.position)){const n=o.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new yt(s,o.key,o.oldValue,o.newValue,o.baseVersion));if(e.shouldReceiveAttributes){const s=cC(e,o.key,o.oldValue);s&&n.unshift(s)}return n}return o.range=o.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[o]});function cC(o,e,t){const s=o.nodes.getNode(0).getAttribute(e);if(s==t)return null;const c=new H(o.position,o.position.getShiftedBy(o.howMany));return new yt(c,e,s,t,0)}Te(yt,kt,(o,e)=>{const t=[];o.range.start.hasSameParentAs(e.deletionPosition)&&(o.range.containsPosition(e.deletionPosition)||o.range.start.isEqual(e.deletionPosition))&&t.push(H._createFromPositionAndShift(e.graveyardPosition,1));const n=o.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(s=>new yt(s,o.key,o.oldValue,o.newValue,o.baseVersion))}),Te(yt,Pe,(o,e)=>Cj(o.range,e).map(n=>new yt(n,o.key,o.oldValue,o.newValue,o.baseVersion)));function Cj(o,e){const t=H._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,s=[];t.containsRange(o,!0)?n=o:o.start.hasSameParentAs(t.start)?(s=o.getDifference(t),n=o.getIntersection(t)):s=[o];const c=[];for(let d of s){d=d._getTransformedByDeletion(e.sourcePosition,e.howMany);const h=e.getMovedRangeStart(),g=d.start.hasSameParentAs(h),b=d._getTransformedByInsertion(h,e.howMany,g);c.push(...b)}return n&&c.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),c}Te(yt,qe,(o,e)=>{if(o.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||o.range.end.offset++,[o];if(o.range.start.hasSameParentAs(e.splitPosition)&&o.range.containsPosition(e.splitPosition)){const t=o.clone();return t.range=new H(e.moveTargetPosition.clone(),o.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),o.range.end=e.splitPosition.clone(),o.range.end.stickiness="toPrevious",[o,t]}return o.range=o.range._getTransformedBySplitOperation(e),[o]}),Te(Ft,yt,(o,e)=>{const t=[o];if(o.shouldReceiveAttributes&&o.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(o.position)){const n=cC(o,e.key,e.newValue);n&&t.push(n)}return t}),Te(Ft,Ft,(o,e,t)=>o.position.isEqual(e.position)&&t.aIsStrong?[o]:(o.position=o.position._getTransformedByInsertOperation(e),[o])),Te(Ft,Pe,(o,e)=>(o.position=o.position._getTransformedByMoveOperation(e),[o])),Te(Ft,qe,(o,e)=>(o.position=o.position._getTransformedBySplitOperation(e),[o])),Te(Ft,kt,(o,e)=>(o.position=o.position._getTransformedByMergeOperation(e),[o])),Te(mn,Ft,(o,e)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertOperation(e)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertOperation(e)[0]),[o])),Te(mn,mn,(o,e,t)=>{if(o.name==e.name)if(t.aIsStrong)o.oldRange=e.newRange?e.newRange.clone():null;else return[new Dt(0)];return[o]}),Te(mn,kt,(o,e)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByMergeOperation(e)),o.newRange&&(o.newRange=o.newRange._getTransformedByMergeOperation(e)),[o])),Te(mn,Pe,(o,e,t)=>{if(o.oldRange&&(o.oldRange=H._createFromRanges(o.oldRange._getTransformedByMoveOperation(e))),o.newRange){if(t.abRelation){const n=H._createFromRanges(o.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(o.newRange.start))return o.newRange.end=n.end,o.newRange.start.path=t.abRelation.path,[o];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(o.newRange.end))return o.newRange.start=n.start,o.newRange.end.path=t.abRelation.path,[o]}o.newRange=H._createFromRanges(o.newRange._getTransformedByMoveOperation(e))}return[o]}),Te(mn,qe,(o,e,t)=>{if(o.oldRange&&(o.oldRange=o.oldRange._getTransformedBySplitOperation(e)),o.newRange){if(t.abRelation){const n=o.newRange._getTransformedBySplitOperation(e);return o.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?o.newRange.start=K._createAt(e.insertionPosition):o.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(o.newRange.start=K._createAt(e.moveTargetPosition)),o.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?o.newRange.end=K._createAt(e.moveTargetPosition):o.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?o.newRange.end=K._createAt(e.insertionPosition):o.newRange.end=n.end,[o]}o.newRange=o.newRange._getTransformedBySplitOperation(e)}return[o]}),Te(kt,Ft,(o,e)=>(o.sourcePosition.hasSameParentAs(e.position)&&(o.howMany+=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByInsertOperation(e),o.targetPosition=o.targetPosition._getTransformedByInsertOperation(e),[o])),Te(kt,kt,(o,e,t)=>{if(o.sourcePosition.isEqual(e.sourcePosition)&&o.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),o.sourcePosition=new K(e.graveyardPosition.root,n),o.howMany=0,[o]}else return[new Dt(0)];if(o.sourcePosition.isEqual(e.sourcePosition)&&!o.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=o.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const g=e.targetPosition._getTransformedByMergeOperation(e),b=o.targetPosition._getTransformedByMergeOperation(e);return[new Pe(g,o.howMany,b,0)]}else return[new Dt(0)]}return o.sourcePosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByMergeOperation(e),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),(!o.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(e)),[o]}),Te(kt,Pe,(o,e,t)=>{const n=H._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&o.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(o.sourcePosition)?[new Dt(0)]:(o.sourcePosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.sourcePosition.hasSameParentAs(e.sourcePosition)&&(o.howMany-=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByMoveOperation(e),o.targetPosition=o.targetPosition._getTransformedByMoveOperation(e),o.graveyardPosition.isEqual(e.targetPosition)||(o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(e)),[o])}),Te(kt,qe,(o,e,t)=>{if(e.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),o.deletionPosition.isEqual(e.graveyardPosition)&&(o.howMany=e.howMany)),o.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,s=e.graveyardPosition&&o.deletionPosition.isEqual(e.graveyardPosition);if(n||s||t.abRelation=="mergeTargetNotMoved")return o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(e),[o]}if(o.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return o.howMany=0,o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o];if(t.abRelation=="mergeSameElement"||o.sourcePosition.offset>0)return o.sourcePosition=e.moveTargetPosition.clone(),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o]}return o.sourcePosition.hasSameParentAs(e.splitPosition)&&(o.howMany=e.splitPosition.offset),o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(e),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o]}),Te(Pe,Ft,(o,e)=>{const n=H._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByInsertOperation(e,!1)[0];return o.sourcePosition=n.start,o.howMany=n.end.offset-n.start.offset,o.targetPosition.isEqual(e.position)||(o.targetPosition=o.targetPosition._getTransformedByInsertOperation(e)),[o]}),Te(Pe,Pe,(o,e,t)=>{const n=H._createFromPositionAndShift(o.sourcePosition,o.howMany),s=H._createFromPositionAndShift(e.sourcePosition,e.howMany);let c=t.aIsStrong,d=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?d=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(d=!1);let h;if(o.targetPosition.isEqual(e.targetPosition)&&d?h=o.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):h=o.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),lC(o,e)&&lC(e,o))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(s,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ms([n],h);if(s.containsPosition(o.targetPosition)&&s.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ms([n],h);const v=Ct(o.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(v=="prefix"||v=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ms([n],h);o.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?c=!0:o.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(c=!1);const y=[],I=n.getDifference(s);for(const R of I){R.start=R.start._getTransformedByDeletion(e.sourcePosition,e.howMany),R.end=R.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const V=Ct(R.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",q=R._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,V);y.push(...q)}const B=n.getIntersection(s);return B!==null&&c&&(B.start=B.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),B.end=B.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.length===0?y.push(B):y.length==1?s.start.isBefore(n.start)||s.start.isEqual(n.start)?y.unshift(B):y.push(B):y.splice(1,0,B)),y.length===0?[new Dt(o.baseVersion)]:Ms(y,h)}),Te(Pe,qe,(o,e,t)=>{let n=o.targetPosition.clone();(!o.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=o.targetPosition._getTransformedBySplitOperation(e));const s=H._createFromPositionAndShift(o.sourcePosition,o.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||o.howMany++,o.targetPosition=n,[o];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let h=new H(e.splitPosition,s.end);h=h._getTransformedBySplitOperation(e);const g=[new H(s.start,e.splitPosition),h];return Ms(g,n)}o.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),o.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=o.targetPosition);const d=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const h=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);o.howMany>1&&h&&!t.aWasUndone&&d.push(H._createFromPositionAndShift(e.insertionPosition,1))}return Ms(d,n)}),Te(Pe,kt,(o,e,t)=>{const n=H._createFromPositionAndShift(o.sourcePosition,o.howMany);if(e.deletionPosition.hasSameParentAs(o.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(o.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const d=[];let h=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);o.howMany>1&&(d.push(new Pe(o.sourcePosition,o.howMany-1,o.targetPosition,0)),h=h._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1),g=g._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1));const b=e.deletionPosition._getCombined(o.sourcePosition,o.targetPosition),v=new Pe(h,1,b,0),y=v.getMovedRangeStart().path.slice();y.push(0);const I=new K(v.targetPosition.root,y);g=g._getTransformedByMove(h,b,1);const B=new Pe(g,e.howMany,I,0);return d.push(v),d.push(B),d}}else if(o.howMany==1)return t.bWasUndone?(o.sourcePosition=e.graveyardPosition.clone(),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),[o]):[new Dt(0)]}const c=H._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByMergeOperation(e);return o.sourcePosition=c.start,o.howMany=c.end.offset-c.start.offset,o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),[o]}),Te(kn,Ft,(o,e)=>(o.position=o.position._getTransformedByInsertOperation(e),[o])),Te(kn,kt,(o,e)=>o.position.isEqual(e.deletionPosition)?(o.position=e.graveyardPosition.clone(),o.position.stickiness="toNext",[o]):(o.position=o.position._getTransformedByMergeOperation(e),[o])),Te(kn,Pe,(o,e)=>(o.position=o.position._getTransformedByMoveOperation(e),[o])),Te(kn,kn,(o,e,t)=>{if(o.position.isEqual(e.position))if(t.aIsStrong)o.oldName=e.newName;else return[new Dt(0)];return[o]}),Te(kn,qe,(o,e)=>{const t=o.position.path,n=e.splitPosition.getParentPath();if(Ct(t,n)=="same"&&!e.graveyardPosition){const s=new kn(o.position.getShiftedBy(1),o.oldName,o.newName,0);return[o,s]}return o.position=o.position._getTransformedBySplitOperation(e),[o]}),Te(Xi,Xi,(o,e,t)=>{if(o.root===e.root&&o.key===e.key){if(!t.aIsStrong||o.newValue===e.newValue)return[new Dt(0)];o.oldValue=e.newValue}return[o]}),Te(Ni,Ni,(o,e)=>o.rootName===e.rootName&&o.isAdd===e.isAdd?[new Dt(0)]:[o]),Te(qe,Ft,(o,e)=>(o.splitPosition.hasSameParentAs(e.position)&&o.splitPosition.offset<e.position.offset&&(o.howMany+=e.howMany),o.splitPosition=o.splitPosition._getTransformedByInsertOperation(e),o.insertionPosition=o.insertionPosition._getTransformedByInsertOperation(e),[o])),Te(qe,kt,(o,e,t)=>{if(!o.graveyardPosition&&!t.bWasUndone&&o.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const s=new K(e.graveyardPosition.root,n),c=qe.getInsertionPosition(new K(e.graveyardPosition.root,n)),d=new qe(s,0,c,null,0);return o.splitPosition=o.splitPosition._getTransformedByMergeOperation(e),o.insertionPosition=qe.getInsertionPosition(o.splitPosition),o.graveyardPosition=d.insertionPosition.clone(),o.graveyardPosition.stickiness="toNext",[d,o]}return o.splitPosition.hasSameParentAs(e.deletionPosition)&&!o.splitPosition.isAfter(e.deletionPosition)&&o.howMany--,o.splitPosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.splitPosition=o.splitPosition._getTransformedByMergeOperation(e),o.insertionPosition=qe.getInsertionPosition(o.splitPosition),o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(e)),[o]}),Te(qe,Pe,(o,e,t)=>{const n=H._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.graveyardPosition){const c=n.start.isEqual(o.graveyardPosition)||n.containsPosition(o.graveyardPosition);if(!t.bWasUndone&&c){const d=o.splitPosition._getTransformedByMoveOperation(e),h=o.graveyardPosition._getTransformedByMoveOperation(e),g=h.path.slice();g.push(0);const b=new K(h.root,g);return[new Pe(d,o.howMany,b,0)]}o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(e)}const s=o.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return o.howMany+=e.howMany,o.splitPosition=o.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),o.insertionPosition=qe.getInsertionPosition(o.splitPosition),[o];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:c,offset:d}=t.abRelation;return o.howMany+=c,o.splitPosition=o.splitPosition.getShiftedBy(d),[o]}if(o.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(o.splitPosition)){const c=e.howMany-(o.splitPosition.offset-e.sourcePosition.offset);return o.howMany-=c,o.splitPosition.hasSameParentAs(e.targetPosition)&&o.splitPosition.offset<e.targetPosition.offset&&(o.howMany+=e.howMany),o.splitPosition=e.sourcePosition.clone(),o.insertionPosition=qe.getInsertionPosition(o.splitPosition),[o]}return e.sourcePosition.isEqual(e.targetPosition)||(o.splitPosition.hasSameParentAs(e.sourcePosition)&&o.splitPosition.offset<=e.sourcePosition.offset&&(o.howMany-=e.howMany),o.splitPosition.hasSameParentAs(e.targetPosition)&&o.splitPosition.offset<e.targetPosition.offset&&(o.howMany+=e.howMany)),o.splitPosition.stickiness="toNone",o.splitPosition=o.splitPosition._getTransformedByMoveOperation(e),o.splitPosition.stickiness="toNext",o.graveyardPosition?o.insertionPosition=o.insertionPosition._getTransformedByMoveOperation(e):o.insertionPosition=qe.getInsertionPosition(o.splitPosition),[o]}),Te(qe,qe,(o,e,t)=>{if(o.splitPosition.isEqual(e.splitPosition)){if(!o.graveyardPosition&&!e.graveyardPosition)return[new Dt(0)];if(o.graveyardPosition&&e.graveyardPosition&&o.graveyardPosition.isEqual(e.graveyardPosition))return[new Dt(0)];if(t.abRelation=="splitBefore")return o.howMany=0,o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(e),[o]}if(o.graveyardPosition&&e.graveyardPosition&&o.graveyardPosition.isEqual(e.graveyardPosition)){const n=o.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const g=[];return e.howMany&&g.push(new Pe(e.moveTargetPosition,e.howMany,e.splitPosition,0)),o.howMany&&g.push(new Pe(o.splitPosition,o.howMany,o.moveTargetPosition,0)),g}else return[new Dt(0)]}if(o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(e)),o.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return o.howMany++,[o];if(e.splitPosition.isEqual(o.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const s=new K(e.insertionPosition.root,n),c=new Pe(o.insertionPosition,1,s,0);return[o,c]}return o.splitPosition.hasSameParentAs(e.splitPosition)&&o.splitPosition.offset<e.splitPosition.offset&&(o.howMany-=e.howMany),o.splitPosition=o.splitPosition._getTransformedBySplitOperation(e),o.insertionPosition=qe.getInsertionPosition(o.splitPosition),[o]});function lC(o,e){return o.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Ms(o,e){const t=[];for(let n=0;n<o.length;n++){const s=o[n],c=new Pe(s.start,s.end.offset-s.start.offset,e,0);t.push(c);for(let d=n+1;d<o.length;d++)o[d]=o[d]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return t}class Tt extends Ee(K){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new L("model-liveposition-root-not-rootelement",e);yj.call(this)}detach(){this.stopListening()}toPosition(){return new K(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Tt.prototype.is=function(o){return o==="livePosition"||o==="model:livePosition"||o=="position"||o==="model:position"};function yj(){this.listenTo(this.root.document.model,"applyOperation",(o,e)=>{const t=e[0];t.isDocumentOperation&&xj.call(this,t)},{priority:"low"})}function xj(o){const e=this.getTransformedByOperation(o);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Ns{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Ie("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:s=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=s,this.isTyping=c}get type(){return Ie("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class Ej{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=H._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const c=t.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=n:(s={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,s=!e.range&&t.range,c=e.range&&t.range&&!e.range.isEqual(t.range);if(n||s||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const s=this._changesInElement.get(n).sort((v,y)=>v.offset===y.offset?v.type!=y.type?v.type=="remove"?-1:1:0:v.offset<y.offset?-1:1),c=this._elementSnapshots.get(n),d=dC(n.getChildren()),h=Sj(c.length,s);let g=0,b=0;for(const v of h)if(v==="i")t.push(this._getInsertDiff(n,g,d[g])),g++;else if(v==="r")t.push(this._getRemoveDiff(n,g,c[b])),b++;else if(v==="a"){const y=d[g].attributes,I=c[b].attributes;let B;if(d[g].name=="$text")B=new H(K._createAt(n,g),K._createAt(n,g+1));else{const R=n.offsetToIndex(g);B=new H(K._createAt(n,g),K._createAt(n.getChild(R),0))}t.push(...this._getAttributesDiff(B,I,y)),g++,b++}else g++,b++}t.sort((n,s)=>n.position.root!=s.position.root?n.position.root.rootName<s.position.root.rootName?-1:1:n.position.isEqual(s.position)?n.changeCount-s.changeCount:n.position.isBefore(s.position)?-1:1);for(let n=1,s=0;n<t.length;n++){const c=t[s],d=t[n],h=c.type=="remove"&&d.type=="remove"&&c.name=="$text"&&d.name=="$text"&&c.position.isEqual(d.position),g=c.type=="insert"&&d.type=="insert"&&c.name=="$text"&&d.name=="$text"&&c.position.parent==d.position.parent&&c.position.offset+c.length==d.position.offset,b=c.type=="attribute"&&d.type=="attribute"&&c.position.parent==d.position.parent&&c.range.isFlat&&d.range.isFlat&&c.position.offset+c.length==d.position.offset&&c.attributeKey==d.attributeKey&&c.attributeOldValue==d.attributeOldValue&&c.attributeNewValue==d.attributeNewValue;h||g||b?(c.length++,b&&(c.range.end=c.range.end.getShiftedBy(1)),t[n]=null):s=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Dj),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,s){const c=this._changedRoots.get(e)||{name:e},d=c.attributes||{};if(d[t]){const h=d[t];s===h.oldValue?delete d[t]:h.newValue=s}else d[t]={oldValue:n,newValue:s};Object.entries(d).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=d,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=H._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const s=n.getData();this.bufferMarkerChange(n.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const n=t.getData();this.bufferMarkerChange(t.name,{...n,range:null},n)}}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let s=0;s<n.length;s++)n[s].howMany<1&&(n.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,dC(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const s=e.offset+e.howMany,c=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<c&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<c){const d=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:s,howMany:d-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(s<=n.offset)n.offset-=e.howMany;else if(s<=c)if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d,e.nodesToHandle-=d}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<c){const d=c-e.offset;n.howMany-=d,e.nodesToHandle-=d}}if(n.type=="remove"&&(s<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(s<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d}else if(e.offset<c)if(s<=c){const d=n.howMany;n.howMany=e.offset-n.offset;const h=d-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:h,count:this._changeCount++})}else n.howMany-=c-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&s>n.offset){if(s>c){const d={type:"attribute",offset:c,howMany:s-c,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<c&&(s>c?(e.nodesToHandle=s-c,e.offset=c):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&s>n.offset){const d={type:"attribute",offset:n.offset,howMany:s-n.offset,count:this._changeCount++};this._handleChange(d,t),t.push(d),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&s<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&s>=c&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:K._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:K._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const s=[];n=new Map(n);for(const[c,d]of t){const h=n.has(c)?n.get(c):null;h!==d&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),n.delete(c)}for(const[c,d]of n)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),s=e.startOffset;if(n){for(const c of n)if(c.type=="insert"&&s>=c.offset&&s<c.offset+c.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const s=new H(K._createAt(e,t),K._createAt(e,t+n));for(const c of s.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function dC(o){const e=[];for(const t of o)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function Sj(o,e){const t=[];let n=0,s=0;for(const c of e){if(c.offset>n){for(let d=0;d<c.offset-n;d++)t.push("e");s+=c.offset-n}if(c.type=="insert"){for(let d=0;d<c.howMany;d++)t.push("i");n=c.offset+c.howMany}else if(c.type=="remove"){for(let d=0;d<c.howMany;d++)t.push("r");n=c.offset,s+=c.howMany}else t.push(..."a".repeat(c.howMany).split("")),n=c.offset+c.howMany,s+=c.howMany}if(s<o)for(let c=0;c<o-s-n;c++)t.push("e");return t}function Dj(o){const e="position"in o&&o.position.root.rootName=="$graveyard",t="range"in o&&o.range.root.rootName=="$graveyard";return!e&&!t}class Tj{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new L("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let s=t-1;for(const[h,g]of this._gaps)e>h&&e<g&&(e=g),s>h&&s<g&&(s=h-1);if(s<n.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let d=this._baseVersionToOperationIndex.get(s);return d===void 0&&(d=this._operations.length-1),this._operations.slice(c,d+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class iu extends Fe{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}iu.prototype.is=function(o,e){return e?e===this.name&&(o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"):o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"||o==="node"||o==="model:node"};const uC="$graveyard";class Ij extends Ee(){constructor(e){super(),this.model=e,this.history=new Tj,this.selection=new hi(this),this.roots=new ai({idProperty:"rootName"}),this.differ=new Ej(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",uC),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,s,c,d)=>{const h={...n.getData(),range:c};this.differ.bufferMarkerChange(n.name,d,h),s===null&&n.on("change",(g,b)=>{const v=n.getData();this.differ.bufferMarkerChange(n.name,{...v,range:b},v)})}),this.registerPostFixer(t=>{let n=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),n=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(uC)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new L("model-document-createroot-name-exists",this,{name:t});const n=new iu(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=T0(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,s=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return hC(e.start)&&hC(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function hC(o){const e=o.textNode;if(e){const t=e.data,n=o.offset-e.startOffset;return!ag(t,n)&&!cg(t,n)}return!0}class Mj extends Ee(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Bs?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,s=!1){const c=e instanceof Bs?e.name:e;if(c.includes(","))throw new L("markercollection-incorrect-marker-name",this);const d=this._markers.get(c);if(d){const b=d.getData(),v=d.getRange();let y=!1;return v.isEqual(t)||(d._attachLiveRange(gn.fromRange(t)),y=!0),n!=d.managedUsingOperations&&(d._managedUsingOperations=n,y=!0),typeof s=="boolean"&&s!=d.affectsData&&(d._affectsData=s,y=!0),y&&this.fire(`update:${c}`,d,v,t,b),d}const h=gn.fromRange(t),g=new Bs(c,h,n,s);return this._markers.set(c,g),this.fire(`update:${c}`,g,null,t,{...g.getData(),range:null}),g}_remove(e){const t=e instanceof Bs?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof Bs?e.name:e,n=this._markers.get(t);if(!n)throw new L("markercollection-refresh-marker-not-exists",this);const s=n.getRange();this.fire(`update:${t}`,n,s,s,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Bs extends Ee(Oo){constructor(e,t,n,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Bs.prototype.is=function(o){return o==="marker"||o==="model:marker"};class Nj extends Mn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new L("detach-operation-on-document-node",this)}_execute(){tC(H._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class eo extends Oo{constructor(e){super(),this.markers=new Map,this._children=new _c,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Fe.fromJSON(n)):t.push(Ge.fromJSON(n));return new eo(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=Bj(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}}eo.prototype.is=function(o){return o==="documentFragment"||o==="model:documentFragment"};function Bj(o){return typeof o=="string"?[new Ge(o)]:(Pt(o)||(o=[o]),Array.from(o).map(e=>typeof e=="string"?new Ge(e):e instanceof ui?new Ge(e.data,e.getAttributes()):e))}class Pj{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ge(e,t)}createElement(e,t){return new Fe(e,t)}createDocumentFragment(){return new eo}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Ge&&e.data=="")return;const s=K._createAt(t,n);if(e.parent)if(gC(e.root,s.root)){this.move(H._createOn(e),s);return}else{if(e.root.document)throw new L("model-writer-insert-forbidden-move",this);this.remove(e)}const c=s.root.document?s.root.document.version:null,d=new Ft(s,e,c);if(e instanceof Ge&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof eo)for(const[h,g]of e.markers){const b=K._createAt(g.root,0),y={range:new H(g.start._getCombined(b,s),g.end._getCombined(b,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,y):this.addMarker(h,y)}}insertText(e,t,n,s){t instanceof eo||t instanceof Fe||t instanceof K?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,s)}insertElement(e,t,n,s){t instanceof eo||t instanceof Fe||t instanceof K?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof eo||t instanceof Fe?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof eo||t instanceof Fe?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof H){const s=n.getMinimalFlatRanges();for(const c of s)fC(this,e,t,c)}else pC(this,e,t,n)}setAttributes(e,t){for(const[n,s]of Ji(e))this.setAttribute(n,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof H){const n=t.getMinimalFlatRanges();for(const s of n)fC(this,e,null,s)}else pC(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const s of n.getAttributeKeys())this.removeAttribute(s,n)};if(!(e instanceof H))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof H))throw new L("writer-move-invalid-range",this);if(!e.isFlat)throw new L("writer-move-range-not-flat",this);const s=K._createAt(t,n);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!gC(e.root,s.root))throw new L("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,d=new Pe(e.start,e.end.offset-e.start.offset,s,c);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof H?e:H._createOn(e)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),Oj(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Fe))throw new L("writer-merge-no-element-before",this);if(!(n instanceof Fe))throw new L("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(H._createIn(n),K._createAt(t,"end")),this.remove(n)}_merge(e){const t=K._createAt(e.nodeBefore,"end"),n=K._createAt(e.nodeAfter,0),s=e.root.document.graveyard,c=new K(s,[0]),d=e.root.document.version,h=new kt(n,e.nodeAfter.maxOffset,t,c,d);this.batch.addOperation(h),this.model.applyOperation(h)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Fe))throw new L("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,s=new kn(K._createBefore(e),e.name,t,n);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new L("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new L("writer-split-invalid-limit-element",this);let s,c;do{const d=n.root.document?n.root.document.version:null,h=n.maxOffset-e.offset,g=qe.getInsertionPosition(e),b=new qe(e,h,g,null,d);this.batch.addOperation(b),this.model.applyOperation(b),!s&&!c&&(s=n,c=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new H(K._createAt(s,"end"),K._createAt(c,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new L("writer-wrap-range-not-flat",this);const n=t instanceof Fe?t:new Fe(t);if(n.childCount>0)throw new L("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new L("writer-wrap-element-attached",this);this.insert(n,e.start);const s=new H(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,K._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new L("writer-unwrap-element-no-parent",this);this.move(H._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new L("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,s=t.range,c=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new L("writer-addmarker-marker-exists",this);if(!s)throw new L("writer-addmarker-no-range",this);return n?(Tc(this,e,null,s,c),this.model.markers.get(e)):this.model.markers._set(e,s,n,c)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new L("writer-updatemarker-marker-not-exists",this);if(!t){Ie("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(s);return}const c=typeof t.usingOperation=="boolean",d=typeof t.affectsData=="boolean",h=d?t.affectsData:s.affectsData;if(!c&&!t.range&&!d)throw new L("writer-updatemarker-wrong-options",this);const g=s.getRange(),b=t.range?t.range:g;if(c&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?Tc(this,n,null,b,h):(Tc(this,n,g,null,h),this.model.markers._set(n,b,void 0,h));return}s.managedUsingOperations?Tc(this,n,g,b,h):this.model.markers._set(n,b,void 0,h)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new L("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const s=n.getRange();Tc(this,t,s,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new L("writer-addroot-root-exists",this);const s=this.model.document,c=new Ni(e,t,!0,s,s.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new L("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===t&&this.removeMarker(c);for(const c of t.getAttributeKeys())this.removeAttribute(c,t);this.remove(this.createRangeIn(t));const n=this.model.document,s=new Ni(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,s]of Ji(e))this._setSelectionAttribute(n,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=hi._getStoreAttributeKey(e);this.setAttribute(s,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=hi._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new L("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const s=n.getRange();let c=!1;if(e==="move"){const d=t;c=d.containsPosition(s.start)||d.start.isEqual(s.start)||d.containsPosition(s.end)||d.end.isEqual(s.end)}else{const d=t,h=d.nodeBefore,g=d.nodeAfter,b=s.start.parent==h&&s.start.isAtEnd,v=s.end.parent==g&&s.end.offset==0,y=s.end.nodeAfter==g,I=s.start.nodeAfter==g;c=b||v||y||I}c&&this.updateMarker(n.name,{range:s})}}}function fC(o,e,t,n){const s=o.model,c=s.document;let d=n.start,h,g,b;for(const y of n.getWalker({shallow:!0}))b=y.item.getAttribute(e),h&&g!=b&&(g!=t&&v(),d=h),h=y.nextPosition,g=b;h instanceof K&&h!=d&&g!=t&&v();function v(){const y=new H(d,h),I=y.root.document?c.version:null,B=new yt(y,e,g,t,I);o.batch.addOperation(B),s.applyOperation(B)}}function pC(o,e,t,n){const s=o.model,c=s.document,d=n.getAttribute(e);let h,g;if(d!=t){if(n.root===n){const v=n.document?c.version:null;g=new Xi(n,e,d,t,v)}else{h=new H(K._createBefore(n),o.createPositionAfter(n));const v=h.root.document?c.version:null;g=new yt(h,e,d,t,v)}o.batch.addOperation(g),s.applyOperation(g)}}function Tc(o,e,t,n,s){const c=o.model,d=c.document,h=new mn(e,t,n,c.markers,!!s,d.version);o.batch.addOperation(h),c.applyOperation(h)}function Oj(o,e,t,n){let s;if(o.root.document){const c=n.document,d=new K(c.graveyard,[0]);s=new Pe(o,e,d,c.version)}else s=new Nj(o,e);t.addOperation(s),n.applyOperation(s)}function gC(o,e){return o===e||o instanceof iu&&e instanceof iu}function zj(o,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const s=o.schema;o.change(c=>{if(!t.doNotResetEntireContent&&Wj(s,e)){$j(c,e);return}const d={};if(!t.doNotAutoparagraph){const b=e.getSelectedElement();b&&Object.assign(d,s.getAttributesWithProperty(b,"copyOnReplace",!0))}const[h,g]=Lj(n);h.isTouching(g)||c.remove(c.createRange(h,g)),t.leaveUnmerged||(Rj(c,h,g),s.removeDisallowedAttributes(h.parent.getChildren(),c)),wC(c,e,h),!t.doNotAutoparagraph&&Uj(s,h)&&bC(c,h,e,d),h.detach(),g.detach()})}function Lj(o){const e=o.root.document.model,t=o.start;let n=o.end;if(e.hasContent(o,{ignoreMarkers:!0})){const s=jj(n);if(s&&n.isTouching(e.createPositionAt(s,0))){const c=e.createSelection(o);e.modifySelection(c,{direction:"backward"});const d=c.getLastPosition(),h=e.createRange(d,n);e.hasContent(h,{ignoreMarkers:!0})||(n=d)}}return[Tt.fromPosition(t,"toPrevious"),Tt.fromPosition(n,"toNext")]}function jj(o){const e=o.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of n){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function Rj(o,e,t){const n=o.model;if(!Vg(o.model.schema,e,t))return;const[s,c]=Vj(e,t);!s||!c||(!n.hasContent(s,{ignoreMarkers:!0})&&n.hasContent(c,{ignoreMarkers:!0})?kC(o,e,t,s.parent):mC(o,e,t,s.parent))}function mC(o,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=o.createPositionAfter(s),t=o.createPositionBefore(c),t.isEqual(e)||o.insert(c,e),o.merge(e);t.parent.isEmpty;){const d=t.parent;t=o.createPositionBefore(d),o.remove(d)}Vg(o.model.schema,e,t)&&mC(o,e,t,n)}}function kC(o,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=o.createPositionAfter(s),t=o.createPositionBefore(c),t.isEqual(e)||o.insert(s,t);e.parent.isEmpty;){const d=e.parent;e=o.createPositionBefore(d),o.remove(d)}t=o.createPositionBefore(c),Fj(o,t),Vg(o.model.schema,e,t)&&kC(o,e,t,n)}}function Fj(o,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&o.rename(t,n.name),o.clearAttributes(t),o.setAttributes(Object.fromEntries(n.getAttributes()),t),o.merge(e)}function Vg(o,e,t){const n=e.parent,s=t.parent;return n==s||o.isLimit(n)||o.isLimit(s)?!1:Hj(e,t,o)}function Vj(o,e){const t=o.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]&&t[s]==n[s];)s++;return[t[s],n[s]]}function Uj(o,e){const t=o.checkChild(e,"$text"),n=o.checkChild(e,"paragraph");return!t&&n}function Hj(o,e,t){const n=new H(o,e);for(const s of n.getWalker())if(t.isLimit(s.item))return!1;return!0}function bC(o,e,t,n={}){const s=o.createElement("paragraph");o.model.schema.setAllowedAttributes(s,n,o),o.insert(s,e),wC(o,t,o.createPositionAt(s,0))}function $j(o,e){const t=o.model.schema.getLimitElement(e);o.remove(o.createRangeIn(t)),bC(o,o.createPositionAt(t,0),e)}function Wj(o,e){const t=o.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:o.checkChild(t,"paragraph")}function wC(o,e,t){e instanceof hi?o.setSelection(t):e.setTo(t)}function Gj(o,e){return o.change(t=>{const n=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return n;const c=s.start.root,d=s.start.getCommonPath(s.end),h=c.getNodeByPath(d);let g;s.start.parent==s.end.parent?g=s:g=t.createRange(t.createPositionAt(h,s.start.path[d.length]),t.createPositionAt(h,s.end.path[d.length]+1));const b=g.end.offset-g.start.offset;for(const v of g.getItems({shallow:!0}))v.is("$textProxy")?t.appendText(v.data,v.getAttributes(),n):t.append(t.cloneElement(v,!0),n);if(g!=s){const v=s._getTransformedByMove(g.start,t.createPositionAt(n,0),b)[0],y=t.createRange(t.createPositionAt(n,0),v.start),I=t.createRange(v.end,t.createPositionAt(n,"end"));_C(I,t),_C(y,t)}return n})}function _C(o,e){const t=[];Array.from(o.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(o.start)||n.start.isEqual(o.start))&&(n.end.isBefore(o.end)||n.end.isEqual(o.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let s=n;for(;s.parent&&s.isEmpty;){const c=e.createRangeOn(s);s=s.parent,e.remove(c)}})}function qj(o,e,t){return o.change(n=>{const s=t||o.document.selection;s.isCollapsed||o.deleteContent(s,{doNotAutoparagraph:!0});const c=new Kj(o,n,s.anchor),d=[];let h;if(e.is("documentFragment")){if(e.markers.size){const v=[];for(const[y,I]of e.markers){const{start:B,end:R}=I,V=B.isEqual(R);v.push({position:B,name:y,isCollapsed:V},{position:R,name:y,isCollapsed:V})}v.sort(({position:y},{position:I})=>y.isBefore(I)?1:-1);for(const{position:y,name:I,isCollapsed:B}of v){let R=null,V=null;const q=y.parent===e&&y.isAtStart,Y=y.parent===e&&y.isAtEnd;!q&&!Y?(R=n.createElement("$marker"),n.insert(R,y)):B&&(V=q?"start":"end"),d.push({name:I,element:R,collapsed:V})}}h=e.getChildren()}else h=[e];c.handleNodes(h);let g=c.getSelectionRange();if(e.is("documentFragment")&&d.length){const v=g?gn.fromRange(g):null,y={};for(let I=d.length-1;I>=0;I--){const{name:B,element:R,collapsed:V}=d[I],q=!y[B];if(q&&(y[B]=[]),R){const Y=n.createPositionAt(R,"before");y[B].push(Y),n.remove(R)}else{const Y=c.getAffectedRange();if(!Y){V&&y[B].push(c.position);continue}V?y[B].push(Y[V]):y[B].push(q?Y.start:Y.end)}}for(const[I,[B,R]]of Object.entries(y))B&&R&&B.root===R.root&&n.addMarker(I,{usingOperation:!0,affectsData:!0,range:new H(B,R)});v&&(g=v.toRange(),v.detach())}g&&(s instanceof hi?n.setSelection(g):s.setTo(g));const b=c.getAffectedRange()||o.createRange(s.anchor);return c.destroy(),b})}class Kj{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new L("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?H._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new H(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Tt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new L("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Tt.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Tt.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Fe)||!this._canMergeLeft(e))return;const t=Tt._createBefore(e);t.stickiness="toNext";const n=Tt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Tt._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Tt._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Fe)||!this._canMergeRight(e))return;const t=Tt._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new L("insertcontent-invalid-insertion-position",this);this.position=K._createAt(t.nodeBefore,"end");const n=Tt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Tt._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Tt._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Fe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Fe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function vC(o,e,t="auto"){const n=o.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const s=St(o.getSelectedBlocks());if(!s)return e.createRange(o.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const c=e.createPositionAfter(s);return o.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(s))}function Zj(o,e,t,n={}){if(!o.schema.isObject(e))throw new L("insertobject-element-not-an-object",o,{object:e});const s=t||o.document.selection;let c=s;n.findOptimalPosition&&o.schema.isBlock(e)&&(c=o.createSelection(vC(s,o,n.findOptimalPosition)));const d=St(s.getSelectedBlocks()),h={};return d&&Object.assign(h,o.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),o.change(g=>{c.isCollapsed||o.deleteContent(c,{doNotAutoparagraph:!0});let b=e;const v=c.anchor.parent;!o.schema.checkChild(v,e)&&o.schema.checkChild(v,"paragraph")&&o.schema.checkChild("paragraph",e)&&(b=g.createElement("paragraph"),g.insert(e,b)),o.schema.setAllowedAttributes(b,h,g);const y=o.insertContent(b,c);return y.isCollapsed||n.setSelection&&Yj(g,e,n.setSelection,h),y})}function Yj(o,e,t,n){const s=o.model;if(t=="on"){o.setSelection(e,"on");return}if(t!="after")throw new L("insertobject-invalid-place-parameter-value",s);let c=e.nextSibling;if(s.schema.isInline(e)){o.setSelection(e,"after");return}!(c&&s.schema.checkChild(c,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(c=o.createElement("paragraph"),s.schema.setAllowedAttributes(c,n,o),s.insertContent(c,o.createPositionAfter(e))),c&&o.setSelection(c,0)}const Qj=' ,.?!:;"-()';function Jj(o,e,t={}){const n=o.schema,s=t.direction!="backward",c=t.unit?t.unit:"character",d=!!t.treatEmojiAsSingleUnit,h=e.focus,g=new Mi({boundaries:nR(h,s),singleCharacters:!0,direction:s?"forward":"backward"}),b={walker:g,schema:n,isForward:s,unit:c,treatEmojiAsSingleUnit:d};let v;for(;v=g.next();){if(v.done)return;const y=Xj(b,v.value);if(y){e instanceof hi?o.change(I=>{I.setSelectionFocus(y)}):e.setFocus(y);return}}}function Xj(o,e){const{isForward:t,walker:n,unit:s,schema:c,treatEmojiAsSingleUnit:d}=o,{type:h,item:g,nextPosition:b}=e;if(h=="text")return o.unit==="word"?tR(n,t):eR(n,s,d);if(h==(t?"elementStart":"elementEnd")){if(c.isSelectable(g))return K._createAt(g,t?"after":"before");if(c.checkChild(b,"$text"))return b}else{if(c.isLimit(g)){n.skip(()=>!0);return}if(c.checkChild(b,"$text"))return b}}function eR(o,e,t){const n=o.position.textNode;if(n){const s=n.data;let c=o.position.offset-n.startOffset;for(;ag(s,c)||e=="character"&&cg(s,c)||t&&b0(s,c);)o.next(),c=o.position.offset-n.startOffset}return o.position}function tR(o,e){let t=o.position.textNode;for(t||(t=e?o.position.nodeAfter:o.position.nodeBefore);t&&t.is("$text");){const n=o.position.offset-t.startOffset;if(oR(t,n,e))t=e?o.position.nodeAfter:o.position.nodeBefore;else{if(iR(t.data,n,e))break;o.next()}}return o.position}function nR(o,e){const t=o.root,n=K._createAt(t,e?"end":0);return e?new H(o,n):new H(n,o)}function iR(o,e,t){const n=e+(t?0:-1);return Qj.includes(o.charAt(n))}function oR(o,e,t){return e===(t?o.offsetSize:0)}class rR extends Re(){constructor(){super(),this.markers=new Mj,this.document=new Ij(this),this.schema=new WL,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),zL(this),this.document.registerPostFixer(UA),this.on("insertContent",(e,[t,n])=>{e.return=qj(this,t,n)}),this.on("insertObject",(e,[t,n,s])=>{e.return=Zj(this,t,n,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ns,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){L.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ns):e instanceof Ns||(e=new Ns(e)):e=new Ns,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){L.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...s){const c=Ug(t,n);return this.fire("insertContent",[e,c,n,...s])}insertObject(e,t,n,s,...c){const d=Ug(t,n);return this.fire("insertObject",[e,d,s,s,...c])}deleteContent(e,t){zj(this,e,t)}modifySelection(e,t){Jj(this,e,t)}getSelectedContent(e){return Gj(this,e)}hasContent(e,t={}){const n=e instanceof H?e:H._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:c=!1}=t;if(!c){for(const d of this.markers.getMarkersIntersectingRange(n))if(d.affectsData)return!0}for(const d of n.getItems())if(this.schema.isContent(d))if(d.is("$textProxy"))if(s){if(d.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Ug(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new K(e,t,n)}createPositionAt(e,t){return K._createAt(e,t)}createPositionAfter(e){return K._createAfter(e)}createPositionBefore(e){return K._createBefore(e)}createRange(e,t){return new H(e,t)}createRangeIn(e){return H._createIn(e)}createRangeOn(e){return H._createOn(e)}createSelection(...e){return new In(...e)}createBatch(e){return new Ns(e)}createOperationFromJSON(e){return bj.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new Pj(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Ug(o,e){if(o)return o instanceof In||o instanceof hi?o:o instanceof Pr?e||e===0?new In(o,e):o.is("rootElement")?new In(o,"in"):new In(o,"on"):new In(o)}class sR extends Bo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Hg extends Bo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class $g{constructor(e){this.document=e}createDocumentFragment(e){return new Br(this.document,e)}createElement(e,t,n){return new Dn(this.document,e,t,n)}createText(e){return new We(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const s=n.getChildIndex(e);return this.removeChildren(s,1,n),this.insertChild(s,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Dn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Qt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return X._createAt(e,t)}createPositionAfter(e){return X._createAfter(e)}createPositionBefore(e){return X._createBefore(e)}createRange(e,t){return new fe(e,t)}createRangeOn(e){return fe._createOn(e)}createRangeIn(e){return fe._createIn(e)}createSelection(...e){return new li(...e)}}class aR{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new L("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class cR extends ci{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const s=t;t=(c,d)=>{this.editor.execute(s),d()}}super.set(e,t,n)}}class lR extends Re(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new C0({language:n}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Yv(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new A0(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new aR,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new rR,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new zP;this.data=new fj(this.model,c),this.editing=new UL(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new gj([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new cR(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new L("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),n,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){L.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function dR(o){if(!Wi(o.updateSourceElement))throw new L("attachtoform-missing-elementapi-interface",o);const e=o.sourceElement;if(uR(e)&&e.form){let t;const n=e.form,s=()=>o.updateSourceElement();Wi(n.submit)&&(t=n.submit,n.submit=()=>{s(),t.apply(n)}),n.addEventListener("submit",s),o.on("destroy",()=>{n.removeEventListener("submit",s),t&&(n.submit=t)})}}function uR(o){return!!o&&o.tagName.toLowerCase()==="textarea"}function ou(o){class e extends o{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const o=ou(Object);ou.setData=o.prototype.setData,ou.getData=o.prototype.getData}function Wg(o){class e extends o{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new L("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),c=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!c){r0(this.sourceElement,"");return}r0(this.sourceElement,n)}}return e}Wg.updateSourceElement=Wg(Object).prototype.updateSourceElement;function hR(o,e){if(e.ckeditorInstance)throw new L("editor-source-element-already-used",o);e.ckeditorInstance=o,o.once("destroy",()=>{delete e.ckeditorInstance})}class AC extends y0{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ai({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new L("pendingactions-add-invalid-message",this);const t=new(Re());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ve={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class CC{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const s of n)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Gg(o,e=new Set){const t=[o],n=new Set;let s=0;for(;t.length>s;){const c=t[s++];if(!(n.has(c)||!fR(c)||e.has(c)))if(n.add(c),Symbol.iterator in c)try{for(const d of c)t.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&t.push(c[d])}return n}function fR(o){const e=Object.prototype.toString.call(o),t=typeof o;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||o===void 0||o===null||o._watchdogExcluded||o instanceof EventTarget||o instanceof Event)}function yC(o,e,t=new Set){if(o===e&&pR(o))return!0;const n=Gg(o,t),s=Gg(e,t);for(const c of n)if(s.has(c))return!0;return!1}function pR(o){return typeof o=="object"&&o!==null}var gR="Expected a function";function mR(o,e,t){var n=!0,s=!0;if(typeof o!="function")throw new TypeError(gR);return Qe(t)&&(n="leading"in t?!!t.leading:n,s="trailing"in t?!!t.trailing:s),wc(o,e,{leading:n,maxWait:e,trailing:s})}const ru=mR;class xC extends CC{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=ru(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,s)=>e.create(n,s)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},s={};for(const[d,h]of Object.entries(this._data.roots))h.isLoaded?(e[d]="",s[d]=n[d]||{}):t.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(kR),this._initUsingData?this.create(e,c,c.context):Er(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(h=>h.isAttached()&&h.rootName!="$graveyard"),{plugins:n}=e,s=n.has("CommentsRepository")&&n.get("CommentsRepository"),c=n.has("TrackChanges")&&n.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(h=>{d.roots[h.rootName]={content:JSON.stringify(Array.from(h.getChildren())),attributes:JSON.stringify(Array.from(h.getAttributes())),isLoaded:h._isLoaded}});for(const h of e.model.markers)h._affectsData&&(d.markers[h.name]={rangeJSON:h.getRange().toJSON(),usingOperation:h._managedUsingOperations,affectsData:h._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return yC(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return eg(e,(t,n)=>{if(Er(t)||n==="context")return t})}}class kR{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)n._appendChild(this._createNode(e,s));return n}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:c}])=>{const d=JSON.parse(s),h=JSON.parse(c),g=t.model.document.getRoot(n);for(const[b,v]of h)e.setAttribute(b,v,g);for(const b of d){const v=this._createNode(e,b);e.insert(v,g,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:c}=t.model,{rangeJSON:{start:d,end:h},...g}=s,b=c.getRoot(d.root),v=e.createPositionFromPath(b,d.path,d.stickiness),y=e.createPositionFromPath(b,h.path,h.stickiness),I=e.createRange(v,y);e.addMarker(n,{range:I,...g})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(n.threadId)&&c.getCommentThread(n.threadId).remove(),c.addCommentThread({channelId:s,...n})}),t.forEach(n=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(n.id)){const c=s.getSuggestion(n.id);c.attributes=n.attributes}else s.addSuggestionData(n)})}}const Ic=Symbol("MainQueueId");class bR extends CC{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new wR,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Ic,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=EC(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return s=new xC(null,this._watchdogConfig),s.setCreator(n.creator),s._setExcludedProperties(this._contextProps),n.destructor&&s.setDestructor(n.destructor),this._watchdogs.set(n.id,s),s.on("error",(c,{error:d,causesRestart:h})=>{this._fire("itemError",{itemId:n.id,error:d}),h&&this._actionQueues.enqueue(n.id,()=>new Promise(g=>{const b=()=>{s.off("restart",b),this._fire("itemRestart",{itemId:n.id}),g()};s.on("restart",b)}))}),s.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=EC(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const s=this._getWatchdog(n);return this._watchdogs.delete(n),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Ic,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ic,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Gg(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return yC(this._context,e.context)}}class wR{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Ic;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const c=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ic),this._queues.get(e)])).then(t),d=c.catch(()=>{});return this._queues.set(e,d),c.finally(()=>{this._activeActions--,this._queues.get(e)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function EC(o){return Array.isArray(o)?o:[o]}function qg({emitter:o,activator:e,callback:t,contextElements:n}){o.listenTo(document,"mousedown",(s,c)=>{if(!e())return;const d=typeof c.composedPath=="function"?c.composedPath():[],h=typeof n=="function"?n():n;for(const g of h)if(g.contains(c.target)||d.includes(g))return;t()})}function Kg(o){class e extends o{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function Zg({view:o}){o.listenTo(o.element,"submit",(e,t)=>{t.preventDefault(),o.fire("submit")},{useCapture:!0})}function _R({keystrokeHandler:o,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:s}){const c=typeof n=="number"?()=>n:n;o.set("arrowright",d((b,v)=>s==="rtl"?g(b,v.length):h(b,v.length))),o.set("arrowleft",d((b,v)=>s==="rtl"?h(b,v.length):g(b,v.length))),o.set("arrowup",d((b,v)=>{let y=b-c();return y<0&&(y=b+c()*Math.floor(v.length/c()),y>v.length-1&&(y-=c())),y})),o.set("arrowdown",d((b,v)=>{let y=b+c();return y>v.length-1&&(y=b%c()),y}));function d(b){return v=>{const y=t.find(R=>R.element===e.focusedElement),I=t.getIndex(y),B=b(I,t);t.get(B).focus(),v.stopPropagation(),v.preventDefault()}}function h(b,v){return b===v-1?0:b+1}function g(b,v){return b===0?v-1:b-1}}class to extends ai{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,s)=>{this._renderViewIntoCollectionParent(n,s)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!vR(e))throw new L("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const s of e)n.delegate(s).to(t);this.on("add",(n,s)=>{for(const c of e)s.delegate(c).to(t)}),this.on("remove",(n,s)=>{for(const c of e)s.stopDelegating(c,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function vR(o){return o.every(e=>typeof e=="string")}var SC=a(5167),Yg={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yg.insert="head",Yg.singleton=!0,ie()(SC.Z,Yg),SC.Z.locals;class _e extends Wn(Re()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ai,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=no.bind(this,this)}createCollection(e){const t=new to(e);return this._viewCollections.add(t),t}registerChild(e){Pt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Pt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new no(e)}extendTemplate(e){no.extend(this.template,e)}render(){if(this.isRendered)throw new L("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const AR="http://www.w3.org/1999/xhtml";class no extends Ee(){constructor(e){super(),Object.assign(this,MC(IC(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=LC(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new L("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)au(n)?yield n:Qg(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,s){return new CR({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:s})},if(n,s,c){return new DC({observable:e,emitter:t,attribute:n,valueIfTrue:s,callback:c})}}}static extend(e,t){if(e._isRendered)throw new L("template-extend-render",[this,e]);OC(e,MC(IC(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new L("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||AR,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),su(this.text)?this._bindToObservable({schema:this.text,updater:xR(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const s in this.attributes){const c=t.getAttribute(s),d=this.attributes[s];n&&(n.attributes[s]=c);const h=zC(d)?d[0].ns:null;if(su(d)){const g=zC(d)?d[0].value:d;n&&jC(s)&&g.unshift(c),this._bindToObservable({schema:g,updater:ER(t,s,h),data:e})}else if(s=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{n&&c&&jC(s)&&d.unshift(c);const g=d.map(b=>b&&(b.value||b)).reduce((b,v)=>b.concat(v),[]).reduce(BC,"");Ps(g)||t.setAttributeNS(h,s,g)}}}_renderStyleAttribute(e,t){const n=t.node;for(const s in e){const c=e[s];su(c)?this._bindToObservable({schema:[c],updater:SR(n,s),data:t}):n.style[s]=c}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let c=0;for(const d of this.children)if(Jg(d)){if(!s){d.setParent(t);for(const h of d)n.appendChild(h.element)}}else if(au(d))s||(d.isRendered||d.render(),n.appendChild(d.element));else if(No(d))n.appendChild(d);else if(s){const h=e.revertData,g=LC();h.children.push(g),d._renderNode({intoFragment:!1,node:n.childNodes[c++],isApplying:!0,revertData:g})}else n.appendChild(d.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(s=>{const[c,d]=t.split("@");return s.activateDomEventListener(c,d,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const s=n.revertData;TC(e,t,n);const c=e.filter(d=>!Ps(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,t,n));s&&s.bindings.push(c)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const c of s)c();if(t.text){e.textContent=t.text;return}const n=e;for(const s in t.attributes){const c=t.attributes[s];c===null?n.removeAttribute(s):n.setAttribute(s,c)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(n.childNodes[s],t.children[s])}}class Mc{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const s=()=>TC(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class CR extends Mc{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const s=(c,d)=>{(!t||d.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(n.node,e,s),()=>{this.emitter.stopListening(n.node,e,s)}}}class DC extends Mc{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Ps(t)?!1:this.valueIfTrue||!0}}function su(o){return o?(o.value&&(o=o.value),Array.isArray(o)?o.some(su):o instanceof Mc):!1}function yR(o,e){return o.map(t=>t instanceof Mc?t.getValue(e):t)}function TC(o,e,{node:t}){const n=yR(o,t);let s;o.length==1&&o[0]instanceof DC?s=n[0]:s=n.reduce(BC,""),Ps(s)?e.remove():e.set(s)}function xR(o){return{set(e){o.textContent=e},remove(){o.textContent=""}}}function ER(o,e,t){return{set(n){o.setAttributeNS(t,e,n)},remove(){o.removeAttributeNS(t,e)}}}function SR(o,e){return{set(t){o.style[e]=t},remove(){o.style[e]=null}}}function IC(o){return eg(o,t=>{if(t&&(t instanceof Mc||Qg(t)||au(t)||Jg(t)))return t})}function MC(o){if(typeof o=="string"?o=IR(o):o.text&&MR(o),o.on&&(o.eventListeners=TR(o.on),delete o.on),!o.text){o.attributes&&DR(o.attributes);const e=[];if(o.children)if(Jg(o.children))e.push(o.children);else for(const t of o.children)Qg(t)||au(t)||No(t)?e.push(t):e.push(new no(t));o.children=e}return o}function DR(o){for(const e in o)o[e].value&&(o[e].value=Rt(o[e].value)),NC(o,e)}function TR(o){for(const e in o)NC(o,e);return o}function IR(o){return{text:[o]}}function MR(o){o.text=Rt(o.text)}function NC(o,e){o[e]=Rt(o[e])}function BC(o,e){return Ps(e)?o:Ps(o)?e:`${o} ${e}`}function PC(o,e){for(const t in e)o[t]?o[t].push(...e[t]):o[t]=e[t]}function OC(o,e){if(e.attributes&&(o.attributes||(o.attributes={}),PC(o.attributes,e.attributes)),e.eventListeners&&(o.eventListeners||(o.eventListeners={}),PC(o.eventListeners,e.eventListeners)),e.text&&o.text.push(...e.text),e.children&&e.children.length){if(o.children.length!=e.children.length)throw new L("ui-template-extend-children-mismatch",o);let t=0;for(const n of e.children)OC(o.children[t++],n)}}function Ps(o){return!o&&o!==0}function au(o){return o instanceof _e}function Qg(o){return o instanceof no}function Jg(o){return o instanceof to}function zC(o){return Qe(o[0])&&o[0].ns}function LC(){return{children:[],bindings:[],attributes:{}}}function jC(o){return o=="class"||o=="style"}class NR extends to{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new no({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Cs(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var RC=a(1977),Xg={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xg.insert="head",Xg.singleton=!0,ie()(RC.Z,Xg),RC.Z.locals;class io extends _e{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:c}of Array.from(t.attributes))io.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,c);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}io.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class BR extends _e{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var FC=a(4971),em={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};em.insert="head",em.singleton=!0,ie()(FC.Z,em),FC.Z.locals;class et extends _e{constructor(e,t=new BR){super(e),this._focusDelayed=null;const n=this.bindTemplate,s=Ae();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new io,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",d=>!d),n.if("isVisible","ck-hidden",d=>!d),n.to("isOn",d=>d?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",d=>d||"button"),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,d=>!d),"aria-checked":n.to("isOn"),"aria-pressed":n.to("isOn",d=>this.isToggleable?String(!!d):!1),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};m.isSafari&&(this._focusDelayed||(this._focusDelayed=sg(()=>this.focus(),0)),c.on.mousedown=n.to(()=>{this._focusDelayed()}),c.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new _e;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>m0(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=m0(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var VC=a(7258),tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tm.insert="head",tm.singleton=!0,ie()(VC.Z,tm),VC.Z.locals;class cu extends et{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new _e;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var UC=a(4923),nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nm.insert="head",nm.singleton=!0,ie()(UC.Z,nm),UC.Z.locals,a(8874),a(2085);var HC=a(3525),im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};im.insert="head",im.singleton=!0,ie()(HC.Z,im),HC.Z.locals;class PR extends _e{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Ae()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var $C=a(2933),om={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};om.insert="head",om.singleton=!0,ie()($C.Z,om),$C.Z.locals;class lu extends _e{constructor(e,t){super(e);const n=`ck-labeled-field-view-${Ae()}`,s=`ck-labeled-field-view-status-${Ae()}`;this.fieldView=t(this,n,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,h)=>d||h);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",d=>!d),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new PR(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new _e(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",s=>!s)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class OR extends _e{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new pn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=zR(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function zR(o){return!o.value}var WC=a(2470),rm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rm.insert="head",rm.singleton=!0,ie()(WC.Z,rm),WC.Z.locals;class LR extends OR{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class jR extends LR{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var GC=a(5224),sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sm.insert="head",sm.singleton=!0,ie()(GC.Z,sm),GC.Z.locals;class RR extends _e{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Ie("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var qC=a(5062),am={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};am.insert="head",am.singleton=!0,ie()(qC.Z,am),qC.Z.locals;class Os extends _e{constructor(e,t,n){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new ci,this.focusTracker=new pn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,n,s)=>{if(s)if(this.panelPosition==="auto"){const c=Os._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:s,northEast:c,northWest:d,southMiddleEast:h,southMiddleWest:g,northMiddleEast:b,northMiddleWest:v}=Os.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,s,h,g,e,c,d,b,v,t]:[s,n,g,h,e,d,c,v,b,t]}}Os.defaultPanelPositions={south:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)/2,name:"s"}),southEast:o=>({top:o.bottom,left:o.left,name:"se"}),southWest:(o,e)=>({top:o.bottom,left:o.left-e.width+o.width,name:"sw"}),southMiddleEast:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)/4,name:"sme"}),southMiddleWest:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)*3/4,name:"smw"}),north:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)/2,name:"n"}),northEast:(o,e)=>({top:o.top-e.height,left:o.left,name:"ne"}),northWest:(o,e)=>({top:o.top-e.height,left:o.left-e.width+o.width,name:"nw"}),northMiddleEast:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)/4,name:"nme"}),northMiddleWest:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)*3/4,name:"nmw"})},Os._getOptimalPosition=ig;const KC='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class FR extends et{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new io;return e.content=KC,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class zo extends Ee(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const s of n)e.keystrokeHandler.set(s,(c,d)=>{this[t](),d()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(cm)||null}get last(){return this.focusables.filter(cm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=n),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+n+e)%n;do{const c=this.focusables.get(s);if(cm(c))return c;s=(s+n+e)%n}while(s!==t);return null}}function cm(o){return!!("focus"in o&&Sr(o.element))}class ZC extends _e{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class VR extends _e{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function UR(o){return o.bindTemplate.to(e=>{e.target===o.element&&e.preventDefault()})}function YC(o){return Array.isArray(o)?{items:o,removeItems:[]}:o?Object.assign({items:[],removeItems:[]},o):{items:[],removeItems:[]}}var QC=a(4768),lm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lm.insert="head",lm.singleton=!0,ie()(QC.Z,lm),QC.Z.locals;const{threeVerticalDots:JC}=Ve,HR={alignLeft:Ve.alignLeft,bold:Ve.bold,importExport:Ve.importExport,paragraph:Ve.paragraph,plus:Ve.plus,text:Ve.text,threeVerticalDots:Ve.threeVerticalDots,pilcrow:Ve.pilcrow,dragIndicator:Ve.dragIndicator};class dm extends _e{constructor(e,t){super(e);const n=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new pn,this.keystrokes=new ci,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new $R(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new zo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:UR(this)}}),this._behavior=this.options.shouldGroupWhenFull?new GR(this):new WR(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const s=YC(e),c=n||s.removeItems;return this._cleanItemsConfiguration(s.items,t,c).map(h=>Qe(h)?this._createNestedToolbarDropdown(h,t,c):h==="|"?new ZC:h==="-"?new VR:t.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(e,t,n){const s=e.filter((c,d,h)=>c==="|"?!0:n.indexOf(c)!==-1?!1:c==="-"?this.options.shouldGroupWhenFull?(Ie("toolbarview-line-break-ignored-when-grouping-items",h),!1):!0:!Qe(c)&&!t.has(c)?(Ie("toolbarview-item-unavailable",{item:c}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=d=>d!=="-"&&d!=="|",n=e.length,s=e.findIndex(t);if(s===-1)return[];const c=n-e.slice().reverse().findIndex(t);return e.slice(s,c).filter((d,h,g)=>t(d)?!0:!(h>0&&g[h-1]===d))}_createNestedToolbarDropdown(e,t,n){let{label:s,icon:c,items:d,tooltip:h=!0,withText:g=!1}=e;if(d=this._cleanItemsConfiguration(d,t,n),!d.length)return null;const b=this.locale,v=oo(b);return s||Ie("toolbarview-nested-toolbar-dropdown-missing-label",e),v.class="ck-toolbar__nested-toolbar-dropdown",v.buttonView.set({label:s,tooltip:h,withText:!!g}),c!==!1?v.buttonView.icon=HR[c]||c||JC:v.buttonView.withText=!0,uu(v,()=>v.toolbarView._buildItemsFromConfig(d,t,n)),v}}class $R extends _e{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class WR{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class GR{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const s=n.index,c=Array.from(n.added);for(const d of n.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=s;d<s+c.length;d++){const h=c[d-s];d>this.ungroupedItems.length?this.groupedItems.add(h,d-this.ungroupedItems.length):this.ungroupedItems.add(h,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Sr(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Le(e.lastChild),s=new Le(e);if(!this.cachedPadding){const c=he.window.getComputedStyle(e),d=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[d])}return t==="ltr"?n.right>s.right-this.cachedPadding:n.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ye(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ZC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=oo(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",uu(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:JC}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class du extends _e{constructor(e){super(e);const t=this.bindTemplate,n=`ck-editor__label_${Ae()}`,s=new ey(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(n),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:n}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",c=>!c)]},children:this.children})}_createLabel(e){const t=new _e(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:n.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var XC=a(179),um={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};um.insert="head",um.singleton=!0,ie()(XC.Z,um),XC.Z.locals;class ey extends _e{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new to,this.items=this.createCollection(),this.focusTracker=new pn,this.keystrokes=new ci,this._focusCycler=new zo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof du?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof du?this._deregisterFocusableItemsGroup(n):this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof du?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const s of n.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(n.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,c)=>{const d=typeof t<"u"?t+c:void 0;this._registerFocusableListItem(s,d)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class ty extends _e{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class qR extends _e{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var ny=a(4791),hm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hm.insert="head",hm.singleton=!0,ie()(ny.Z,hm),ny.Z.locals;class fm extends _e{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new ci,this.focusTracker=new pn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new et;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new et,t=e.bindTemplate;return e.icon=KC,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var iy=a(2704),pm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pm.insert="head",pm.singleton=!0,ie()(iy.Z,pm),iy.Z.locals;var oy=a(1883),gm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};gm.insert="head",gm.singleton=!0,ie()(oy.Z,gm),oy.Z.locals;function oo(o,e=FR){const t=new e(o),n=new RR(o),s=new Os(o,t,n);return t.bind("isEnabled").to(s),t instanceof fm?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),KR(s),s}function uu(o,e,t={}){o.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.isOpen?ry(o,e,t):o.once("change:isOpen",()=>ry(o,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&cy(o,()=>o.toolbarView.items.find(n=>n.isOn))}function ry(o,e,t){const n=o.locale,s=n.t,c=o.toolbarView=new dm(n),d=typeof e=="function"?e():e;c.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(c.maxWidth=t.maxWidth),t.class&&(c.class=t.class),t.isCompact&&(c.isCompact=t.isCompact),t.isVertical&&(c.isVertical=!0),d instanceof to?c.items.bindTo(d).using(h=>h):c.items.addMany(d),o.panelView.children.add(c),c.items.delegate("execute").to(o)}function sy(o,e,t={}){o.isOpen?ay(o,e,t):o.once("change:isOpen",()=>ay(o,e,t),{priority:"highest"}),cy(o,()=>o.listView.items.find(n=>n instanceof ty?n.children.first.isOn:!1))}function ay(o,e,t){const n=o.locale,s=o.listView=new ey(n),c=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,ly(o,s.items,c,n),o.panelView.children.add(s),s.items.delegate("execute").to(o)}function cy(o,e){o.on("change:isOpen",()=>{if(!o.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Ie("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:je.low-10})}function KR(o){ZR(o),YR(o),QR(o),JR(o),XR(o),e6(o)}function ZR(o){o.on("render",()=>{qg({emitter:o,activator:()=>o.isOpen,callback:()=>{o.isOpen=!1},contextElements:()=>[o.element,...o.focusTracker._elements]})})}function YR(o){o.on("execute",e=>{e.source instanceof cu||(o.isOpen=!1)})}function QR(o){o.focusTracker.on("change:isFocused",(e,t,n)=>{o.isOpen&&!n&&(o.isOpen=!1)})}function JR(o){o.keystrokes.set("arrowdown",(e,t)=>{o.isOpen&&(o.panelView.focus(),t())}),o.keystrokes.set("arrowup",(e,t)=>{o.isOpen&&(o.panelView.focusLast(),t())})}function XR(o){o.on("change:isOpen",(e,t,n)=>{if(n)return;const s=o.panelView.element;s&&s.contains(he.document.activeElement)&&o.buttonView.focus()})}function e6(o){o.on("change:isOpen",(e,t,n)=>{n&&o.panelView.focus()},{priority:"low"})}function ly(o,e,t,n){e.bindTo(t).using(s=>{if(s.type==="separator")return new qR(n);if(s.type==="group"){const c=new du(n);return c.set({label:s.label}),ly(o,c.items,s.items,n),c.items.delegate("execute").to(o),c}else if(s.type==="button"||s.type==="switchbutton"){const c=new ty(n);let d;return s.type==="button"?d=new et(n):d=new cu(n),d.bind(...Object.keys(s.model)).to(s.model),d.delegate("execute").to(c),c.children.add(d),c}return null})}const hu=(o,e,t)=>{const n=new jR(o.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(o,"isEnabled",s=>!s),n.bind("hasError").to(o,"errorText",s=>!!s),n.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused","placeholder").to(n),n},Nc=(o,e=0,t=1)=>o>t?t:o<e?e:o,Wt=(o,e=0,t=Math.pow(10,e))=>Math.round(t*o)/t,t6=o=>s6(mm(o)),mm=o=>(o[0]==="#"&&(o=o.substring(1)),o.length<6?{r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16),a:o.length===4?Wt(parseInt(o[3]+o[3],16)/255,2):1}:{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16),a:o.length===8?Wt(parseInt(o.substring(6,8),16)/255,2):1}),n6=o=>r6(o6(o)),i6=({h:o,s:e,v:t,a:n})=>{const s=(200-e)*t/100;return{h:Wt(o),s:Wt(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:Wt(s/2),a:Wt(n,2)}},km=o=>{const{h:e,s:t,l:n}=i6(o);return`hsl(${e}, ${t}%, ${n}%)`},o6=({h:o,s:e,v:t,a:n})=>{o=o/360*6,e=e/100,t=t/100;const s=Math.floor(o),c=t*(1-e),d=t*(1-(o-s)*e),h=t*(1-(1-o+s)*e),g=s%6;return{r:Wt([t,d,c,c,h,t][g]*255),g:Wt([h,t,t,d,c,c][g]*255),b:Wt([c,c,h,t,t,d][g]*255),a:Wt(n,2)}},fu=o=>{const e=o.toString(16);return e.length<2?"0"+e:e},r6=({r:o,g:e,b:t,a:n})=>{const s=n<1?fu(Wt(n*255)):"";return"#"+fu(o)+fu(e)+fu(t)+s},s6=({r:o,g:e,b:t,a:n})=>{const s=Math.max(o,e,t),c=s-Math.min(o,e,t),d=c?s===o?(e-t)/c:s===e?2+(t-o)/c:4+(o-e)/c:0;return{h:Wt(60*(d<0?d+6:d)),s:Wt(s?c/s*100:0),v:Wt(s/255*100),a:n}},dy=(o,e)=>{if(o===e)return!0;for(const t in o)if(o[t]!==e[t])return!1;return!0},a6=(o,e)=>o.toLowerCase()===e.toLowerCase()?!0:dy(mm(o),mm(e)),uy={},hy=o=>{let e=uy[o];return e||(e=document.createElement("template"),e.innerHTML=o,uy[o]=e),e},bm=(o,e,t)=>{o.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let zs=!1;const wm=o=>"touches"in o,c6=o=>zs&&!wm(o)?!1:(zs||(zs=wm(o)),!0),fy=(o,e)=>{const t=wm(e)?e.touches[0]:e,n=o.el.getBoundingClientRect();bm(o.el,"move",o.getMove({x:Nc((t.pageX-(n.left+window.pageXOffset))/n.width),y:Nc((t.pageY-(n.top+window.pageYOffset))/n.height)}))},l6=(o,e)=>{const t=e.keyCode;t>40||o.xy&&t<37||t<33||(e.preventDefault(),bm(o.el,"move",o.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class py{constructor(e,t,n,s){const c=hy(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const d=e.querySelector(`[part=${t}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=s,this.nodes=[d.firstChild,d]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(zs?"touchmove":"mousemove",this),t(zs?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!c6(e)||!zs&&e.button!=0)return;this.el.focus(),fy(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),fy(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":l6(this,e);break}}style(e){e.forEach((t,n)=>{for(const s in t)this.nodes[n].style.setProperty(s,t[s])})}}class d6 extends py{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:km({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Wt(e)}`)}getMove(e,t){return{h:t?Nc(this.h+e.x*360,0,360):360*e.x}}}class u6 extends py{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:km(e)},{"background-color":km({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Wt(e.s)}%, Brightness ${Wt(e.v)}%`)}getMove(e,t){return{s:t?Nc(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Nc(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const h6=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',f6="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",p6="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",pu=Symbol("same"),_m=Symbol("color"),gy=Symbol("hsva"),vm=Symbol("update"),my=Symbol("parts"),ky=Symbol("css"),by=Symbol("sliders");class g6 extends HTMLElement{static get observedAttributes(){return["color"]}get[ky](){return[h6,f6,p6]}get[by](){return[u6,d6]}get color(){return this[_m]}set color(e){if(!this[pu](e)){const t=this.colorModel.toHsva(e);this[vm](t),this[_m]=e}}constructor(){super();const e=hy(`<style>${this[ky].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[my]=this[by].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const s=this.colorModel.fromAttr(n);this[pu](s)||(this.color=s)}handleEvent(e){const t=this[gy],n={...t,...e.detail};this[vm](n);let s;!dy(n,t)&&!this[pu](s=this.colorModel.fromHsva(n))&&(this[_m]=s,bm(this,"color-changed",{value:s}))}[pu](e){return this.color&&this.colorModel.equal(e,this.color)}[vm](e){this[gy]=e,this[my].forEach(t=>t.update(e))}}const m6={defaultColor:"#000",toHsva:t6,fromHsva:({h:o,s:e,v:t})=>n6({h:o,s:e,v:t,a:1}),equal:a6,fromAttr:o=>o};class k6 extends g6{get colorModel(){return m6}}class b6 extends k6{}customElements.define("hex-color-picker",b6);var wy=a(4257),Am={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Am.insert="head",Am.singleton=!0,ie()(wy.Z,Am),wy.Z.locals;var _y=a(6306),Cm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Cm.insert="head",Cm.singleton=!0,ie()(_y.Z,Cm),_y.Z.locals;class w6{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(ym(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new L("componentfactory-item-missing",this,{name:e});return this._components.get(ym(e)).callback(this.editor.locale)}has(e){return this._components.has(ym(e))}}function ym(o){return String(o).toLowerCase()}var vy=a(4460),xm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xm.insert="head",xm.singleton=!0,ie()(vy.Z,xm),vy.Z.locals;const Ay=dc("px"),Cy=he.document.body,_6={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Vt extends _e{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Ay),left:t.to("left",Ay)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Vt.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:Cy,fitInViewport:!0},e),s=Vt._getOptimalPosition(n)||_6,c=parseInt(s.left),d=parseInt(s.top),h=s.name,g=s.config||{},{withArrow:b=!0}=g;this.top=d,this.left=c,this.position=h,this.withArrow=b}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Em(e.target),n=e.limiter?Em(e.limiter):Cy;this.listenTo(he.document,"scroll",(s,c)=>{const d=c.target,h=t&&d.contains(t),g=n&&d.contains(n);(h||g||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(he.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(he.document,"scroll"),this.stopListening(he.window,"resize")}}Vt.arrowSideOffset=25,Vt.arrowHeightOffset=10,Vt.stickyVerticalOffset=20,Vt._getOptimalPosition=ig,Vt.defaultPositions=yy();function Em(o){return Er(o)?o:Ud(o)?o.commonAncestorContainer:typeof o=="function"?Em(o()):null}function yy(o={}){const{sideOffset:e=Vt.arrowSideOffset,heightOffset:t=Vt.arrowHeightOffset,stickyVerticalOffset:n=Vt.stickyVerticalOffset,config:s}=o;return{northWestArrowSouthWest:(h,g)=>({top:c(h,g),left:h.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(h,g)=>({top:c(h,g),left:h.left-g.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(h,g)=>({top:c(h,g),left:h.left-g.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(h,g)=>({top:c(h,g),left:h.left-g.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(h,g)=>({top:c(h,g),left:h.left-g.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(h,g)=>({top:c(h,g),left:h.left+h.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(h,g)=>({top:c(h,g),left:h.left+h.width/2-g.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(h,g)=>({top:c(h,g),left:h.left+h.width/2-g.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(h,g)=>({top:c(h,g),left:h.left+h.width/2-g.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(h,g)=>({top:c(h,g),left:h.left+h.width/2-g.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(h,g)=>({top:c(h,g),left:h.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(h,g)=>({top:c(h,g),left:h.right-g.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(h,g)=>({top:c(h,g),left:h.right-g.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(h,g)=>({top:c(h,g),left:h.right-g.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(h,g)=>({top:c(h,g),left:h.right-g.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:h=>({top:d(h),left:h.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(h,g)=>({top:d(h),left:h.left-g.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(h,g)=>({top:d(h),left:h.left-g.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(h,g)=>({top:d(h),left:h.left-g.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(h,g)=>({top:d(h),left:h.left-g.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:h=>({top:d(h),left:h.left+h.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(h,g)=>({top:d(h),left:h.left+h.width/2-g.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(h,g)=>({top:d(h),left:h.left+h.width/2-g.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(h,g)=>({top:d(h),left:h.left+h.width/2-g.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(h,g)=>({top:d(h),left:h.left+h.width/2-g.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:h=>({top:d(h),left:h.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(h,g)=>({top:d(h),left:h.right-g.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(h,g)=>({top:d(h),left:h.right-g.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(h,g)=>({top:d(h),left:h.right-g.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(h,g)=>({top:d(h),left:h.right-g.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(h,g)=>({top:h.top+h.height/2-g.height/2,left:h.left-g.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(h,g)=>({top:h.top+h.height/2-g.height/2,left:h.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(h,g,b,v)=>{const y=v||b;return!h.getIntersection(y)||y.height-h.height>n?null:{top:y.top+n,left:h.left+h.width/2-g.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function c(h,g){return h.top-g.height-t}function d(h){return h.bottom+t}}var xy=a(3888),Sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sm.insert="head",Sm.singleton=!0,ie()(xy.Z,Sm),xy.Z.locals;const Ey="ck-tooltip";class Ut extends Wn(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ut._editors.add(e),Ut._instance)return Ut._instance;Ut._instance=this,this.tooltipTextView=new _e(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Vt(e.locale),this.balloonPanelView.class=Ey,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=wc(this._pinTooltip,600),this.listenTo(he.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(he.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(he.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(he.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(he.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Ut._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Ut._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ut._instance=null)}static getPositioningFunctions(e){const t=Ut.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=Dm(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,v6(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Er(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Dm(t),c=Dm(n);s&&s!==c&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:s}){const c=St(Ut._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Ut.getPositioningFunctions(n)}),this._resizeObserver=new Ye(e,()=>{Sr(e)||this._unpinTooltip()}),this.balloonPanelView.class=[Ey,s].filter(d=>d).join(" ");for(const d of Ut._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Ut._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!Sr(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ut.getPositioningFunctions(this._currentTooltipPosition)})}}Ut.defaultBalloonPositions=yy({heightOffset:5,sideOffset:13}),Ut._editors=new Set,Ut._instance=null;function Dm(o){return Er(o)?o.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function v6(o){return{text:o.dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}}const A6=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,C6=53,y6=10,x6=50,E6=350,S6="Powered by";class D6 extends Wn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=ru(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;!e.config.get("ui.poweredBy.forceVisible")&&QB(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Vt,n=Dy(e),s=new T6(e.locale,n.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=I6(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));s.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=s[0]}}class T6 extends _e{constructor(e,t){super(e);const n=new io,s=this.bindTemplate;n.set({content:A6,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:C6+"px",height:y6+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:s.to(c=>c.preventDefault())}}]})}}function I6(o,e){const t=Dy(o),n=t.side==="right"?M6(e,t):N6(e,t);return{target:e,positions:[n]}}function M6(o,e){return Sy(o,e,(t,n)=>t.left+t.width-n.width-e.horizontalOffset)}function N6(o,e){return Sy(o,e,t=>t.left+e.horizontalOffset)}function Sy(o,e,t){return(n,s)=>{const c=new Le(o);if(c.width<E6||c.height<x6)return null;let d;e.position==="inside"?d=c.bottom-s.height:d=c.bottom-s.height/2,d-=e.verticalOffset;const h=t(c,s),b=n.clone().moveTo(h,d).getIntersection(s.clone().moveTo(h,d)).getVisible();return!b||b.getArea()<s.getArea()?null:{top:d,left:h,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Dy(o){const e=o.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:S6,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:o.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class B6 extends Re(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new w6(e),this.focusTracker=new pn,this.tooltipManager=new Ut(e),this.poweredBy=new D6(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,s;e.keystrokes.set("Alt+F10",(c,d)=>{const h=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(h)&&!Array.from(t.domRoots.values()).includes(h)&&(n=h);const g=this._getCurrentFocusedToolbarDefinition();(!g||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<s.length;b++){const v=s.shift();if(s.push(v),v!==g&&this._focusFocusableCandidateToolbar(v)){g&&g.options.afterBlur&&g.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(c,d)=>{const h=this._getCurrentFocusedToolbarDefinition();h&&(n?(n.focus(),n=null):e.editing.view.focus(),h.options.afterBlur&&h.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:s}=t;(Sr(n.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,n)=>Ty(t)-Ty(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),Sr(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function Ty(o){const{toolbarView:e,options:t}=o;let n=10;return Sr(e.element)&&n--,t.isContextual&&n--,n}var Iy=a(9847),Tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tm.insert="head",Tm.singleton=!0,ie()(Iy.Z,Tm),Iy.Z.locals;class P6 extends _e{constructor(e){super(e),this.body=new NR(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class O6 extends _e{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(s){e.change(c=>{const d=e.document.getRoot(s.name);c.addClass(s.isFocused?"ck-focused":"ck-blurred",d),c.removeClass(s.isFocused?"ck-blurred":"ck-focused",d)})}function n(s){e.once("change:isRenderingInProgress",(c,d,h)=>{h?n(s):t(s)})}}}class z6 extends O6{constructor(e,t,n,s={}){super(e,t,n);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}var My=a(1874),Im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Im.insert="head",Im.singleton=!0,ie()(My.Z,Im),My.Z.locals;class Ny extends y0{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class By extends Re(){constructor(e,t){super(),t&&dA(this,t),e&&this.set(e)}}const L6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',j6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var Py=a(7592),Mm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mm.insert="head",Mm.singleton=!0,ie()(Py.Z,Mm),Py.Z.locals;var Oy=a(6356),Nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nm.insert="head",Nm.singleton=!0,ie()(Oy.Z,Nm),Oy.Z.locals;const gu=dc("px");class mu extends J{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new L("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new L("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new L("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Vt(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new R6(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,s)=>{if(s<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[c,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new F6(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class R6 extends _e{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new pn,this.buttonPrevView=this._createButtonView(t("Previous"),L6),this.buttonNextView=this._createButtonView(t("Next"),j6),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new et(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class F6 extends _e{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:n.to("top",gu),left:n.to("left",gu),width:n.to("width",gu),height:n.to("height",gu)}},children:this.content}),this.on("change:numberOfPanels",(s,c,d,h)=>{d>h?this._addPanels(d-h):this._removePanels(h-d),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new _e;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:s}=new Le(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:s})}}}var zy=a(3707),Bm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bm.insert="head",Bm.singleton=!0,ie()(zy.Z,Bm),zy.Z.locals;class V6 extends lu{constructor(e,t){const n=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:hu},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new io,this.iconView.content=Ve.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new et(e),this.resetButtonView.set({label:n("Clear"),icon:Ve.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",c=>!c),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class U6 extends _e{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class H6 extends _e{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new pn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new zo({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Ly=/[\\^$.*+?()[\]{}|]/g,$6=RegExp(Ly.source);function W6(o){return o=fg(o),o&&$6.test(o)?o.replace(Ly,"\\$&"):o}const G6=W6;var jy=a(9332),Pm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Pm.insert="head",Pm.singleton=!0,ie()(jy.Z,Pm),jy.Z.locals;class q6 extends _e{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new pn,this.keystrokes=new ci,this.resultsView=new H6(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new U6,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new zo({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:s,totalItemsCount:c})=>{this.resultsCount=s,this.totalItemsCount=c}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(G6(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new V6(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(s,c)=>{if(c.resultsCount)t.set({isVisible:!1});else{const d=this._config.infoView&&this._config.infoView.text;let h,g;c.totalItemsCount?d&&d.notFound?(h=d.notFound.primary,g=d.notFound.secondary):(h=e("No results found"),g=""):d&&d.noSearchableItems?(h=d.noSearchableItems.primary,g=d.noSearchableItems.secondary):(h=e("No searchable items"),g=""),t.set({primaryText:n(h,c),secondaryText:n(g,c),isVisible:!0})}});function n(s,{query:c,resultsCount:d,totalItemsCount:h}){return typeof s=="function"?s(c,d,h):s}}}var Ry=a(4029),Om={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Om.insert="head",Om.singleton=!0,ie()(Ry.Z,Om),Ry.Z.locals;class Bc extends q6{constructor(e,t){super(e,t),this._config=t;const n=dc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",c=>!c),s.to("_position",c=>`ck-search__results_${c}`)],style:{width:s.to("_width",n)}}}),this.focusTracker.on("change:isFocused",(c,d,h)=>{this._updateResultsVisibility(),h?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(he.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Le(this.queryView.fieldView.element).width;const e=Bc._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Bc.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}Bc.defaultResultsPositions=[o=>({top:o.bottom,left:o.left,name:"s"}),(o,e)=>({top:o.top-e.height,left:o.left,name:"n"})],Bc._getOptimalPosition=ig;var Fy=a(4746),zm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zm.insert="head",zm.singleton=!0,ie()(Fy.Z,zm),Fy.Z.locals;var Vy=a(6446),Lm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lm.insert="head",Lm.singleton=!0,ie()(Vy.Z,Lm),Vy.Z.locals;var Uy=a(4176),jm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jm.insert="head",jm.singleton=!0,ie()(Uy.Z,jm),Uy.Z.locals;class K6 extends B6{constructor(e,t){super(e),this.view=t,this._toolbarConfig=YC(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,n=e.editing.view,s=t.editable,c=n.document.getRoot();s.name=c.rootName,t.render();const d=s.element;this.setEditableElement(s.name,d),s.bind("isFocused").to(this.focusTracker),n.attachDomRoot(d),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:c})=>c||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:n,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),s=e.config.get("placeholder");if(s){const c=typeof s=="string"?s:s[n.rootName];c&&(n.placeholder=c)}S0({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}}const Z6=dc("px");class Y6 extends P6{constructor(e,t,n,s={}){super(e);const c=e.t;this.toolbar=new dm(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new Vt(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new z6(e,t,n,{label:d=>c("Rich Text Editor. Editing area: %0",d.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const t=this.editable.element;this._resizeObserver=new Ye(t,()=>{this.toolbar.maxWidth=Z6(new Le(t).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let n;return e.top>t.height+this.viewportTopOffset?n=e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?n=this.viewportTopOffset:n=e.bottom,n}_getPanelPositions(){const e=[(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left+t.width-n.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class ku extends ou(Wg(lR)){constructor(e,t={}){if(!bu(e)&&t.initialData!==void 0)throw new L("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",Q6(e)),this.model.document.createRoot(),bu(e)&&(this.sourceElement=e,hR(this,e));const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new Y6(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:n});this.ui=new K6(this,s),dR(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(bu(e)&&e.tagName==="TEXTAREA")throw new L("editor-wrong-element",null);const s=new this(e,t);n(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}ku.Context=C0,ku.EditorWatchdog=xC,ku.ContextWatchdog=bR;function Q6(o){return bu(o)?yB(o):o}function bu(o){return Er(o)}const Rm=["left","right","center","justify"];function Hy(o){return Rm.includes(o)}function $y(o,e){return e.contentLanguageDirection=="rtl"?o==="right":o==="left"}function Wy(o){const e=o.map(n=>{let s;return typeof n=="string"?s={name:n}:s=n,s}).filter(n=>{const s=Rm.includes(n.name);return s||Ie("alignment-config-name-not-recognized",{option:n}),s}),t=e.filter(n=>!!n.className).length;if(t&&t<e.length)throw new L("alignment-config-classnames-are-missing",{configuredOptions:o});return e.forEach((n,s,c)=>{const d=c.slice(s+1);if(d.some(g=>g.name==n.name))throw new L("alignment-config-name-already-defined",{option:n,configuredOptions:o});if(n.className&&d.some(b=>b.className==n.className))throw new L("alignment-config-classname-already-defined",{option:n,configuredOptions:o})}),e}const Fm="alignment";class J6 extends Ce{refresh(){const t=this.editor.locale,n=St(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,s=t.model,c=s.document,d=e.value;s.change(h=>{const g=Array.from(c.selection.getSelectedBlocks()).filter(y=>this._canBeAligned(y)),b=g[0].getAttribute("alignment");$y(d,n)||b===d||!d?X6(g,h):eF(g,h,d)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Fm)}}function X6(o,e){for(const t of o)e.removeAttribute(Fm,t)}function eF(o,e,t){for(const n of o)e.setAttribute(Fm,t,n)}class tF extends J{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Rm.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,c=Wy(e.config.get("alignment.options")).filter(b=>Hy(b.name)&&!$y(b.name,t)),d=c.some(b=>!!b.className);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),d?e.conversion.attributeToAttribute(rF(c)):e.conversion.for("downcast").attributeToAttribute(nF(c));const h=iF(c);for(const b of h)e.conversion.for("upcast").attributeToAttribute(b);const g=oF(c);for(const b of g)e.conversion.for("upcast").attributeToAttribute(b);e.commands.add("alignment",new J6(e))}}function nF(o){const e={};for(const{name:n}of o)e[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:o.map(n=>n.name)},view:e}}function iF(o){const e=[];for(const{name:t}of o)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function oF(o){const e=[];for(const{name:t}of o)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function rF(o){const e={};for(const n of o)e[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:o.map(n=>n.name)},view:e}}const wu=new Map([["left",Ve.alignLeft],["right",Ve.alignRight],["center",Ve.alignCenter],["justify",Ve.alignJustify]]);class sF extends J{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,s=Wy(e.config.get("alignment.options"));s.map(c=>c.name).filter(Hy).forEach(c=>this._addButton(c)),t.add("alignment",c=>{const d=oo(c);uu(d,()=>s.map(b=>t.create(`alignment:${b.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),d.buttonView.set({label:n("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const h=c.contentLanguageDirection==="rtl"?wu.get("right"):wu.get("left"),g=e.commands.get("alignment");return d.buttonView.bind("icon").to(g,"value",b=>wu.get(b)||h),d.bind("isEnabled").to(g,"isEnabled"),this.listenTo(d,"execute",()=>{e.editing.view.focus()}),d})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const s=t.commands.get("alignment"),c=new et(n);return c.set({label:this.localizedOptionTitles[e],icon:wu.get(e),tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s),c.bind("isOn").to(s,"value",d=>d===e),this.listenTo(c,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),c})}}class aF extends J{static get requires(){return[tF,sF]}static get pluginName(){return"Alignment"}}class Gy{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class cF extends Ce{constructor(e,t){super(e),this._buffer=new Gy(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,s=e.text||"",c=s.length;let d=n.selection;if(e.selection?d=e.selection:e.range&&(d=t.createSelection(e.range)),!t.canEditAt(d))return;const h=e.resultRange;t.enqueueChange(this._buffer.batch,g=>{this._buffer.lock(),t.deleteContent(d),s&&t.insertContent(g.createText(s,n.selection.getAttributes()),d),h?g.setSelection(h):d.is("documentSelection")||g.setSelection(d),this._buffer.unlock(),this._buffer.input(c)})}}const qy=["insertText","insertReplacementText"];class lF extends Ii{constructor(e){super(e),this.focusObserver=e.getObserver(eu),m.isAndroid&&qy.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,s)=>{if(!this.isEnabled)return;const{data:c,targetRanges:d,inputType:h,domEvent:g}=s;if(!qy.includes(h))return;this.focusObserver.flush();const b=new oe(t,"insertText");t.fire(b,new Is(e,g,{text:c,selection:e.createSelection(d)})),b.stop.called&&n.stop()}),t.on("compositionend",(n,{data:s,domEvent:c})=>{!this.isEnabled||m.isAndroid||s&&t.fire("insertText",new Is(e,c,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Ky extends J{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,s=t.document.selection;n.addObserver(lF);const c=new cF(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(n.document,"insertText",(d,h)=>{n.document.isComposing||h.preventDefault();const{text:g,selection:b,resultRange:v}=h,y=Array.from(b.getRanges()).map(R=>e.editing.mapper.toModelRange(R));let I=g;if(m.isAndroid){const R=Array.from(y[0].getItems()).reduce((V,q)=>V+(q.is("$textProxy")?q.data:""),"");R&&(R.length<=I.length?I.startsWith(R)&&(I=I.substring(R.length),y[0].start=y[0].start.getShiftedBy(R.length)):R.startsWith(I)&&(y[0].start=y[0].start.getShiftedBy(I.length),I=""))}const B={text:I,selection:t.createSelection(y)};v&&(B.resultRange=e.editing.mapper.toModelRange(v)),e.execute("insertText",B),n.scrollToTheSelection()}),m.isAndroid?this.listenTo(n.document,"keydown",(d,h)=>{s.isCollapsed||h.keyCode!=229||!n.document.isComposing||Zy(t,c)}):this.listenTo(n.document,"compositionstart",()=>{s.isCollapsed||Zy(t,c)})}}function Zy(o,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),o.enqueueChange(t.batch,()=>{o.deleteContent(o.document.selection)}),t.unlock()}class Yy extends Ce{constructor(e,t){super(e),this.direction=t,this._buffer=new Gy(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const c=s.createSelection(e.selection||n.selection);if(!t.canEditAt(c))return;const d=e.sequence||1,h=c.isCollapsed;if(c.isCollapsed&&t.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(c,d)){this.editor.execute("paragraph",{selection:c});return}if(c.isCollapsed)return;let g=0;c.getFirstRange().getMinimalFlatRanges().forEach(b=>{g+=ri(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(c,{doNotResetEntireContent:h,direction:this.direction}),this._buffer.input(g),s.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(c))||!t.schema.checkChild(c,"paragraph"))return!1;const h=c.getChild(0);return!(h&&h.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s),d=e.createElement("paragraph");e.remove(e.createRangeIn(c)),e.insert(d,c),e.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),c=n.schema.getLimitElement(s),d=c.getChild(0);return!(s.parent!=d||!e.containsEntireContent(d)||!n.schema.checkChild(c,"paragraph")||d.name=="paragraph")}}const dF="character",Qy="word",uF="codePoint",Lo="selection",Ls="backward",Pc="forward",Jy={deleteContent:{unit:Lo,direction:Ls},deleteContentBackward:{unit:uF,direction:Ls},deleteWordBackward:{unit:Qy,direction:Ls},deleteHardLineBackward:{unit:Lo,direction:Ls},deleteSoftLineBackward:{unit:Lo,direction:Ls},deleteContentForward:{unit:dF,direction:Pc},deleteWordForward:{unit:Qy,direction:Pc},deleteHardLineForward:{unit:Lo,direction:Pc},deleteSoftLineForward:{unit:Lo,direction:Pc}};class hF extends Ii{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:h,inputType:g}=c,b=Jy[g];if(!b)return;const v={direction:b.direction,unit:b.unit,sequence:n};v.unit==Lo&&(v.selectionToRemove=e.createSelection(d[0])),g==="deleteContentBackward"&&(m.isAndroid&&(v.sequence=1),pF(d)&&(v.unit=Lo,v.selectionToRemove=e.createSelection(d)));const y=new Ds(t,"delete",d[0]);t.fire(y,new Is(e,h,v)),y.stop.called&&s.stop()}),m.isBlink&&fF(this)}observe(){}stopObserving(){}}function fF(o){const e=o.view,t=e.document;let n=null,s=!1;t.on("keydown",(h,{keyCode:g})=>{n=g,s=!1}),t.on("keyup",(h,{keyCode:g,domEvent:b})=>{const v=t.selection,y=o.isEnabled&&g==n&&c(g)&&!v.isCollapsed&&!s;if(n=null,y){const I=v.getFirstRange(),B=new Ds(t,"delete",I),R={unit:Lo,direction:d(g),selectionToRemove:v};t.fire(B,new Is(e,b,R))}}),t.on("beforeinput",(h,{inputType:g})=>{const b=Jy[g];c(n)&&b&&b.direction==d(n)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(h,{inputType:g,data:b})=>{n==De.delete&&g=="insertText"&&b==""&&h.stop()},{priority:"high"});function c(h){return h==De.backspace||h==De.delete}function d(h){return h==De.backspace?Ls:Pc}}function pF(o){if(o.length!=1||o[0].isCollapsed)return!1;const e=o[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const s=n.parent.data,c=n.offset;if(ag(s,c)||cg(s,c)||b0(s,c))continue;t++}if(t>1)return!0}return!1}class Bi extends J{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,s=e.model.document;t.addObserver(hF),this._undoOnBackspace=!1;const c=new Yy(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new Yy(e,"backward")),this.listenTo(n,"delete",(d,h)=>{n.isComposing||h.preventDefault();const{direction:g,sequence:b,selectionToRemove:v,unit:y}=h,I=g==="forward"?"deleteForward":"delete",B={sequence:b};if(y=="selection"){const R=Array.from(v.getRanges()).map(V=>e.editing.mapper.toModelRange(V));B.selection=e.model.createSelection(R)}else B.unit=y;e.execute(I,B),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(d,h)=>{this._undoOnBackspace&&h.direction=="backward"&&h.sequence==1&&h.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),h.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class gF extends J{static get requires(){return[Ky,Bi]}static get pluginName(){return"Typing"}}function Xy(o,e){let t=o.start;return{text:Array.from(o.getWalker({ignoreElementEnd:!1})).reduce((s,{item:c})=>c.is("$text")||c.is("$textProxy")?s+c.data:(t=e.createPositionAfter(c),""),""),range:e.createRange(t,o.end)}}class mF extends Re(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,c=n.document.selection,d=n.createRange(n.createPositionAt(c.focus.parent,0),c.focus),{text:h,range:g}=Xy(d,n),b=this.testCallback(h);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const v=Object.assign(t,{text:h,range:g});typeof b=="object"&&Object.assign(v,b),this.fire(`matched:${e}`,v)}}}class e1 extends J{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,s=e.locale,c=t.document.selection;this.listenTo(n.document,"arrowKey",(d,h)=>{if(!c.isCollapsed||h.shiftKey||h.altKey||h.ctrlKey)return;const g=h.keyCode==De.arrowright,b=h.keyCode==De.arrowleft;if(!g&&!b)return;const v=s.contentLanguageDirection;let y=!1;v==="ltr"&&g||v==="rtl"&&b?y=this._handleForwardMovement(h):y=this._handleBackwardMovement(h),y===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(d,h)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!h.directChange&&vu(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,c=s.getFirstPosition();return this._isGravityOverridden||c.isAtStart&&Vm(s,t)?!1:vu(c,t)?(_u(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,s=n.document.selection,c=s.getFirstPosition();return this._isGravityOverridden?(_u(e),this._restoreGravity(),Um(n,t,c),!0):c.isAtStart?Vm(s,t)?(_u(e),Um(n,t,c),!0):!1:kF(c,t)?c.isAtEnd&&!Vm(s,t)&&vu(c,t)?(_u(e),Um(n,t,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Vm(o,e){for(const t of e)if(o.hasAttribute(t))return!0;return!1}function Um(o,e,t){const n=t.nodeBefore;o.change(s=>{if(n){const c=[],d=o.schema.isObject(n)&&o.schema.isInline(n);for(const[h,g]of n.getAttributes())o.schema.checkAttribute("$text",h)&&(!d||o.schema.getAttributeProperties(h).copyFromObject!==!1)&&c.push([h,g]);s.setSelectionAttribute(c)}else s.removeSelectionAttribute(e)})}function _u(o){o.preventDefault()}function kF(o,e){const t=o.getShiftedBy(-1);return vu(t,e)}function vu(o,e){const{nodeBefore:t,nodeAfter:n}=o;for(const s of e){const c=t?t.getAttribute(s):void 0;if((n?n.getAttribute(s):void 0)!==c)return!0}return!1}function js(o,e,t,n){return n.createRange(t1(o,e,t,!0,n),t1(o,e,t,!1,n))}function t1(o,e,t,n,s){let c=o.textNode||(n?o.nodeBefore:o.nodeAfter),d=null;for(;c&&c.getAttribute(e)==t;)d=c,c=n?c.previousSibling:c.nextSibling;return d?s.createPositionAt(d,n?"before":"after"):o}function bF(o,e,t,n){const s=o.editing.view,c=new Set;s.document.registerPostFixer(d=>{const h=o.model.document.selection;let g=!1;if(h.hasAttribute(e)){const b=js(h.getFirstPosition(),e,h.getAttribute(e),o.model),v=o.editing.mapper.toViewRange(b);for(const y of v.getItems())y.is("element",t)&&!y.hasClass(n)&&(d.addClass(n,y),c.add(y),g=!0)}return g}),o.conversion.for("editingDowncast").add(d=>{d.on("insert",h,{priority:"highest"}),d.on("remove",h,{priority:"highest"}),d.on("attribute",h,{priority:"highest"}),d.on("selection",h,{priority:"highest"});function h(){s.change(g=>{for(const b of c.values())g.removeClass(n,b),c.delete(b)})}})}function jo(o,e,t,n){let s,c=null;typeof n=="function"?s=n:(c=o.commands.get(n),s=()=>{o.execute(n)}),o.model.document.on("change:data",(d,h)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const g=St(o.model.document.selection.getRanges());if(!g.isCollapsed||h.isUndo||!h.isLocal)return;const b=Array.from(o.model.document.differ.getChanges()),v=b[0];if(b.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const y=v.position.parent;if(y.is("element","codeBlock")||y.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||c&&c.value===!0)return;const I=y.getChild(0),B=o.model.createRangeOn(I);if(!B.containsRange(g)&&!g.end.isEqual(B.end))return;const R=t.exec(I.data.substr(0,g.end.offset));R&&o.model.enqueueChange(V=>{const q=V.createPositionAt(y,0),Y=V.createPositionAt(y,R[0].length),ae=new gn(q,Y);if(s({match:R})!==!1){V.remove(ae);const Ke=o.model.document.selection.getFirstRange(),rt=V.createRangeIn(y);y.isEmpty&&!rt.isEqual(Ke)&&!rt.containsRange(Ke,!0)&&V.remove(y)}ae.detach(),o.model.enqueueChange(()=>{o.plugins.get("Delete").requestUndoOnBackspace()})})})}function Rs(o,e,t,n){let s,c;t instanceof RegExp?s=t:c=t,c=c||(d=>{let h;const g=[],b=[];for(;(h=s.exec(d))!==null&&!(h&&h.length<4);){let{index:v,1:y,2:I,3:B}=h;const R=y+I+B;v+=h[0].length-R.length;const V=[v,v+y.length],q=[v+y.length+I.length,v+y.length+I.length+B.length];g.push(V),g.push(q),b.push([v+y.length,v+y.length+I.length])}return{remove:g,format:b}}),o.model.document.on("change:data",(d,h)=>{if(h.isUndo||!h.isLocal||!e.isEnabled)return;const g=o.model,b=g.document.selection;if(!b.isCollapsed)return;const v=Array.from(g.document.differ.getChanges()),y=v[0];if(v.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const I=b.focus,B=I.parent,{text:R,range:V}=wF(g.createRange(g.createPositionAt(B,0),I),g),q=c(R),Y=n1(V.start,q.format,g),ae=n1(V.start,q.remove,g);Y.length&&ae.length&&g.enqueueChange(ye=>{if(n(ye,Y)!==!1){for(const rt of ae.reverse())ye.remove(rt);g.enqueueChange(()=>{o.plugins.get("Delete").requestUndoOnBackspace()})}})})}function n1(o,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(o.getShiftedBy(n[0]),o.getShiftedBy(n[1])))}function wF(o,e){let t=o.start;return{text:Array.from(o.getItems()).reduce((s,c)=>!(c.is("$text")||c.is("$textProxy"))||c.getAttribute("code")?(t=e.createPositionAfter(c),""):s+c.data,""),range:e.createRange(t,o.end)}}class _F extends J{static get requires(){return[Bi]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&jo(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&jo(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&jo(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&jo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=Au(this.editor,"bold");Rs(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Rs(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=Au(this.editor,"italic");Rs(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Rs(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=Au(this.editor,"code");Rs(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=Au(this.editor,"strikethrough");Rs(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],s=new RegExp(`^(#{${n}})\\s$`);jo(this.editor,this,s,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&jo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&jo(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&jo(this.editor,this,/^---$/,"horizontalLine")}}function Au(o,e){return(t,n)=>{if(!o.commands.get(e).isEnabled)return!1;const c=o.model.schema.getValidRanges(n,e);for(const d of c)t.setAttribute(e,!0,d);t.removeSelectionAttribute(e)}}class i1 extends Ce{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,c=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(s.isCollapsed)c?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const h=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const g of h)c?d.setAttribute(this.attributeKey,c,g):d.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const s of n.getRanges())for(const c of s.getItems())if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const Fs="bold";class vF extends J{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Fs}),e.model.schema.setAttributeProperties(Fs,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Fs,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Fs,new i1(e,Fs)),e.keystrokes.set("CTRL+B",Fs)}}const Hm="bold";class AF extends J{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Hm,n=>{const s=e.commands.get(Hm),c=new et(n);return c.set({label:t("Bold"),icon:Ve.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Hm),e.editing.view.focus()}),c})}}class CF extends J{static get requires(){return[vF,AF]}static get pluginName(){return"Bold"}}var o1=a(5363),$m={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};$m.insert="head",$m.singleton=!0,ie()(o1.Z,$m),o1.Z.locals;const Vs="italic";class yF extends J{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Vs}),e.model.schema.setAttributeProperties(Vs,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Vs,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Vs,new i1(e,Vs)),e.keystrokes.set("CTRL+I",Vs)}}const xF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',Wm="italic";class EF extends J{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Wm,n=>{const s=e.commands.get(Wm),c=new et(n);return c.set({label:t("Italic"),icon:xF,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Wm),e.editing.view.focus()}),c})}}class SF extends J{static get requires(){return[yF,EF]}static get pluginName(){return"Italic"}}function*r1(o,e){for(const t of e)t&&o.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class DF extends Ce{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,s=t.schema,c=n.isCollapsed,d=n.getFirstRange(),h=d.start.parent,g=d.end.parent;if(s.isLimit(h)||s.isLimit(g))return!c&&h==g&&t.deleteContent(n),!1;if(c){const b=r1(e.model.schema,n.getAttributes());return s1(e,d.start),e.setSelectionAttribute(b),!0}else{const b=!(d.start.isAtStart&&d.end.isAtEnd),v=h==g;if(t.deleteContent(n,{leaveUnmerged:b}),b){if(v)return s1(e,n.focus),!0;e.setSelection(g,0)}}return!1}}function s1(o,e){o.split(e),o.setSelection(e.parent.nextSibling,0)}const TF={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class a1 extends Ii{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(s,c)=>{n=c.shiftKey}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;let d=c.inputType;m.isSafari&&n&&d=="insertParagraph"&&(d="insertLineBreak");const h=c.domEvent,g=TF[d];if(!g)return;const b=new Ds(t,"enter",c.targetRanges[0]);t.fire(b,new Is(e,h,{isSoft:g.isSoft})),b.stop.called&&s.stop()})}observe(){}stopObserving(){}}class Cu extends J{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(a1),e.commands.add("enter",new DF(e)),this.listenTo(n,"enter",(s,c)=>{n.isComposing||c.preventDefault(),!c.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class IF extends Ce{execute(){const e=this.editor.model,t=e.document;e.change(n=>{NF(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=MF(e.schema,t.selection)}}function MF(o,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!o.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),s=n.start.parent,c=n.end.parent;return!((Gm(s,o)||Gm(c,o))&&s!==c)}function NF(o,e,t){const n=t.isCollapsed,s=t.getFirstRange(),c=s.start.parent,d=s.end.parent,h=c==d;if(n){const g=r1(o.schema,t.getAttributes());c1(o,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(g)}else{const g=!(s.start.isAtStart&&s.end.isAtEnd);o.deleteContent(t,{leaveUnmerged:g}),h?c1(o,e,t.focus):g&&e.setSelection(d,0)}}function c1(o,e,t){const n=e.createElement("softBreak");o.insertContent(n,t),e.setSelection(n,"after")}function Gm(o,e){return o.is("rootElement")?!1:e.isLimit(o)||Gm(o.parent,e)}class BF extends J{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,s=e.editing.view,c=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),s.addObserver(a1),e.commands.add("shiftEnter",new IF(e)),this.listenTo(c,"enter",(d,h)=>{c.isComposing||h.preventDefault(),h.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class PF extends Ce{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,s=t.document.selection,c=Array.from(s.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;t.change(h=>{if(!d)this._removeQuote(h,c.filter(yu));else{const g=c.filter(b=>yu(b)||d1(n,b));this._applyQuote(h,g)}})}_getValue(){const e=this.editor.model.document.selection,t=St(e.getSelectedBlocks());return!!(t&&yu(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=St(e.getSelectedBlocks());return n?d1(t,n):!1}_removeQuote(e,t){l1(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const c=e.createPositionBefore(n.start.parent);e.move(n,c);return}n.end.isAtEnd||e.split(n.end);const s=e.createPositionAfter(n.end.parent);e.move(n,s)})}_applyQuote(e,t){const n=[];l1(e,t).reverse().forEach(s=>{let c=yu(s.start);c||(c=e.createElement("blockQuote"),e.wrap(s,c)),n.push(c)}),n.reverse().reduce((s,c)=>s.nextSibling==c?(e.merge(e.createPositionAfter(s)),s):c)}}function yu(o){return o.parent.name=="blockQuote"?o.parent:null}function l1(o,e){let t,n=0;const s=[];for(;n<e.length;){const c=e[n],d=e[n+1];t||(t=o.createPositionBefore(c)),(!d||c.nextSibling!=d)&&(s.push(o.createRange(t,o.createPositionAfter(c))),t=null),n++}return s}function d1(o,e){const t=o.checkChild(e.parent,"blockQuote"),n=o.checkChild(["$root","blockQuote"],e);return t&&n}class OF extends J{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Cu,Bi]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new PF(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const h=e.model.document.differ.getChanges();for(const g of h)if(g.type=="insert"){const b=g.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return d.remove(b),!0;if(b.is("element","blockQuote")&&!t.checkChild(g.position,b))return d.unwrap(b),!0;if(b.is("element")){const v=d.createRangeIn(b);for(const y of v.getItems())if(y.is("element","blockQuote")&&!t.checkChild(d.createPositionBefore(y),y))return d.unwrap(y),!0}}else if(g.type=="remove"){const b=g.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return d.remove(b),!0}return!1});const n=this.editor.editing.view.document,s=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(n,"enter",(d,h)=>{if(!s.isCollapsed||!c.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(d,h)=>{if(h.direction!="backward"||!s.isCollapsed||!c.value)return;const g=s.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"})}}var u1=a(3789),qm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};qm.insert="head",qm.singleton=!0,ie()(u1.Z,qm),u1.Z.locals;class zF extends J{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const s=e.commands.get("blockQuote"),c=new et(n);return c.set({label:t("Block quote"),icon:Ve.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class LF extends J{static get requires(){return[OF,zF]}static get pluginName(){return"BlockQuote"}}class Oc extends Bo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(s){return(c,d)=>{d.preventDefault();const h=d.dropRange?[d.dropRange]:null,g=new oe(t,s);t.fire(g,{dataTransfer:d.dataTransfer,method:c.name,targetRanges:h,target:d.target,domEvent:d.domEvent}),g.stop.called&&d.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",s={dataTransfer:new vA(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=jF(this.view,e)),this.fire(e.type,e,s)}}function jF(o,e){const t=e.target.ownerDocument,n=e.clientX,s=e.clientY;let c;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,s)?c=t.caretRangeFromPoint(n,s):e.rangeParent&&(c=t.createRange(),c.setStart(e.rangeParent,e.rangeOffset),c.collapse(!0)),c?o.domConverter.domRangeToView(c):null}function RF(o){return o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(o.includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),o}function FF(o){return o.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}const h1=["figcaption","li"];function f1(o){let e="";if(o.is("$text")||o.is("$textProxy"))e=o.data;else if(o.is("element","img")&&o.hasAttribute("alt"))e=o.getAttribute("alt");else if(o.is("element","br"))e=`
`;else{let t=null;for(const n of o.getChildren()){const s=f1(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(h1.includes(t.name)||h1.includes(n.name)?e+=`
`:e+=`

`),e+=s,t=n}}return e}class ro extends J{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Oc),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:n})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document;this.listenTo(s,"clipboardInput",(c,d)=>{d.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&c.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(c,d)=>{const h=d.dataTransfer;let g;if(d.content)g=d.content;else{let v="";h.getData("text/html")?v=FF(h.getData("text/html")):h.getData("text/plain")&&(v=RF(h.getData("text/plain"))),g=this.editor.data.htmlProcessor.toView(v)}const b=new oe(this,"inputTransformation");this.fire(b,{content:g,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),b.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const g=this.editor.data.toModel(d.content,"$clipboardHolder");g.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:g,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=t.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,c=(d,h)=>{const g=h.dataTransfer;h.preventDefault(),this._fireOutputTransformationEvent(g,t.selection,d.name)};this.listenTo(s,"copy",c,{priority:"low"}),this.listenTo(s,"cut",(d,h)=>{e.model.canEditAt(e.model.document.selection)?c(d,h):h.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,h)=>{const g=e.data.toView(h.content);s.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:g,method:h.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(d,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",f1(h.content))),h.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class VF extends Ee(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,s=n[0];this._insertDescriptor(e);const c=n[0];s!==c&&!Km(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}remove(e,t){const n=this._stack,s=n[0];this._removeDescriptor(e);const c=n[0];s!==c&&!Km(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(c=>c.id===e.id);if(Km(e,t[n]))return;n>-1&&t.splice(n,1);let s=0;for(;t[s]&&UF(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e);n>-1&&t.splice(n,1)}}function Km(o,e){return o&&e&&o.priority==e.priority&&xu(o.classes)==xu(e.classes)}function UF(o,e){return o.priority>e.priority?!0:o.priority<e.priority?!1:xu(o.classes)>xu(e.classes)}function xu(o){return Array.isArray(o)?o.sort().join(","):o}const HF='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',$F="ck-widget",p1="ck-widget_selected";function Ot(o){return o.is("element")?!!o.getCustomProperty("widget"):!1}function Zm(o,e,t={}){if(!o.is("containerElement"))throw new L("widget-to-widget-wrong-element-type",null,{element:o});return e.setAttribute("contenteditable","false",o),e.addClass($F,o),e.setCustomProperty("widget",!0,o),o.getFillerOffset=ZF,e.setCustomProperty("widgetLabel",[],o),t.label&&qF(o,t.label),t.hasSelectionHandle&&YF(o,e),g1(o,e),o}function WF(o,e,t){if(e.classes&&t.addClass(Rt(e.classes),o),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],o)}function GF(o,e,t){if(e.classes&&t.removeClass(Rt(e.classes),o),e.attributes)for(const n in e.attributes)t.removeAttribute(n,o)}function g1(o,e,t=WF,n=GF){const s=new VF;s.on("change:top",(h,g)=>{g.oldDescriptor&&n(o,g.oldDescriptor,g.writer),g.newDescriptor&&t(o,g.newDescriptor,g.writer)});const c=(h,g,b)=>s.add(g,b),d=(h,g,b)=>s.remove(g,b);e.setCustomProperty("addHighlight",c,o),e.setCustomProperty("removeHighlight",d,o)}function qF(o,e){o.getCustomProperty("widgetLabel").push(e)}function KF(o){return o.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}function m1(o,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],o),e.setAttribute("role","textbox",o),t.label&&e.setAttribute("aria-label",t.label,o),e.setAttribute("contenteditable",o.isReadOnly?"false":"true",o),o.on("change:isReadOnly",(n,s,c)=>{e.setAttribute("contenteditable",c?"false":"true",o)}),o.on("change:isFocused",(n,s,c)=>{c?e.addClass("ck-editor__nested-editable_focused",o):e.removeClass("ck-editor__nested-editable_focused",o)}),g1(o,e),o}function k1(o,e){const t=o.getSelectedElement();if(t){const n=Ro(o);if(n)return e.createRange(e.createPositionAt(t,n))}return vC(o,e)}function ZF(){return null}function YF(o,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const s=this.toDomElement(n),c=new io;return c.set("content",HF),c.render(),s.appendChild(c.element),s});e.insert(e.createPositionAt(o,0),t),e.addClass(["ck-widget_with-selection-handle"],o)}const so="widget-type-around";function jr(o,e,t){return!!o&&Ot(o)&&!t.isInline(e)}function QF(o){return o.closest(".ck-widget__type-around__button")}function JF(o){return o.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function XF(o,e){const t=o.closest(".ck-widget");return e.mapDomToView(t)}function Ro(o){return o.getAttribute(so)}const e7='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var b1=a(2347),Ym={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ym.insert="head",Ym.singleton=!0,ie()(b1.Z,Ym),b1.Z.locals;const w1=["before","after"],t7=new DOMParser().parseFromString(e7,"image/svg+xml").firstChild,_1="ck-widget__type-around_disabled";class n7 extends J{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Cu,Bi]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,s,c)=>{t.change(d=>{for(const h of t.document.roots)c?d.removeClass(_1,h):d.addClass(_1,h)}),c||e.model.change(d=>{d.removeSelectionAttribute(so)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,s=n.editing.view,c=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:c}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,n,s){this.listenTo(e,t,(...c)=>{this.isEnabled&&n(...c)},s)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,s=Ro(n);if(!s)return!1;const c=n.getSelectedElement();return this._insertParagraph(c,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,s={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,d,h)=>{const g=h.mapper.toViewElement(d.item);g&&jr(g,d.item,t)&&(i7(h.writer,s,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,s=t.schema,c=e.editing.view;this._listenToIfEnabled(c.document,"arrowKey",(h,g)=>{this._handleArrowKeyPress(h,g)},{context:[Ot,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(h,g)=>{g.directChange&&e.model.change(b=>{b.removeSelectionAttribute(so)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const h=n.getSelectedElement();if(h){const g=e.editing.mapper.toViewElement(h);if(jr(g,h,s))return}e.model.change(g=>{g.removeSelectionAttribute(so)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(h,g,b)=>{const v=b.writer;if(this._currentFakeCaretModelElement){const R=b.mapper.toViewElement(this._currentFakeCaretModelElement);R&&(v.removeClass(w1.map(d),R),this._currentFakeCaretModelElement=null)}const y=g.selection.getSelectedElement();if(!y)return;const I=b.mapper.toViewElement(y);if(!jr(I,y,s))return;const B=Ro(g.selection);B&&(v.addClass(d(B),I),this._currentFakeCaretModelElement=y)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(h,g,b)=>{b||e.model.change(v=>{v.removeSelectionAttribute(so)})});function d(h){return`ck-widget_type-around_show-fake-caret_${h}`}}_handleArrowKeyPress(e,t){const n=this.editor,s=n.model,c=s.document.selection,d=s.schema,h=n.editing.view,g=t.keyCode,b=RB(g,n.locale.contentLanguageDirection),v=h.document.selection.getSelectedElement(),y=n.editing.mapper.toModelElement(v);let I;jr(v,y,d)?I=this._handleArrowKeyPressOnSelectedWidget(b):c.isCollapsed?I=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):t.shiftKey||(I=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),I&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,s=n.document.selection,c=Ro(s);return n.change(d=>{if(c){if(!(c===(e?"after":"before")))return d.removeSelectionAttribute(so),!0}else return d.setSelectionAttribute(so,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,s=n.schema,c=t.plugins.get("Widget"),d=c._getObjectElementNextToSelection(e),h=t.editing.mapper.toViewElement(d);return jr(h,d,s)?(n.change(g=>{c._setSelectionOverElement(d),g.setSelectionAttribute(so,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,s=n.schema,c=t.editing.mapper,d=n.document.selection,h=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter,g=c.toViewElement(h);return jr(g,h,s)?(n.change(b=>{b.setSelection(h,"on"),b.setSelectionAttribute(so,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,s)=>{const c=QF(s.domTarget);if(!c)return;const d=JF(c),h=XF(c,t.domConverter),g=e.editing.mapper.toModelElement(h);this._insertParagraph(g,d),s.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(s,c)=>{if(s.eventPhase!="atTarget")return;const d=t.getSelectedElement(),h=e.editing.mapper.toViewElement(d),g=e.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:jr(h,d,g)&&(this._insertParagraph(d,c.isSoft?"before":"after"),b=!0),b&&(c.preventDefault(),s.stop())},{context:Ot})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),m.isAndroid?this._listenToIfEnabled(t,"keydown",(n,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,s=n.schema;this._listenToIfEnabled(t.document,"delete",(c,d)=>{if(c.eventPhase!="atTarget")return;const h=Ro(n.document.selection);if(!h)return;const g=d.direction,b=n.document.selection.getSelectedElement(),v=h==="before",y=g=="forward";if(v===y)e.execute("delete",{selection:n.createSelection(b,"on")});else{const B=s.getNearestSelectionRange(n.createPositionAt(b,h),g);if(B)if(!B.isCollapsed)n.change(R=>{R.setSelection(B),e.execute(y?"deleteForward":"delete")});else{const R=n.createSelection(B.start);if(n.modifySelection(R,{direction:g}),!R.focus.isEqual(B.start))n.change(V=>{V.setSelection(B),e.execute(y?"deleteForward":"delete")});else{const V=s7(s,B.start.parent);n.deleteContent(n.createSelection(V,"on"),{doNotAutoparagraph:!0})}}}d.preventDefault(),c.stop()},{context:Ot})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[c,d])=>{if(d&&!d.is("documentSelection"))return;const h=Ro(n);if(h)return s.stop(),t.change(g=>{const b=n.getSelectedElement(),v=t.createPositionAt(b,h),y=g.createSelection(v),I=t.insertContent(c,y);return g.setSelection(y),I})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,c)=>{const[,d,h={}]=c;if(d&&!d.is("documentSelection"))return;const g=Ro(n);g&&(h.findOptimalPosition=g,c[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[c])=>{if(c&&!c.is("documentSelection"))return;Ro(n)&&s.stop()},{priority:"high"})}}function i7(o,e,t){const n=o.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const c=this.toDomElement(s);return o7(c,e),r7(c),c});o.insert(o.createPositionAt(t,"end"),n)}function o7(o,e){for(const t of w1){const n=new no({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[o.ownerDocument.importNode(t7,!0)]});o.appendChild(n.render())}}function r7(o){const e=new no({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});o.appendChild(e.render())}function s7(o,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||o.isLimit(n))break;t=n}return t}function a7(o){const e=o.model;return(t,n)=>{const s=n.keyCode==De.arrowup,c=n.keyCode==De.arrowdown,d=n.shiftKey,h=e.document.selection;if(!s&&!c)return;const g=c;if(d&&d7(h,g))return;const b=c7(o,h,g);if(b){if(b.isCollapsed){if(h.isCollapsed)return;if(d)return}(b.isCollapsed||l7(o,b,g))&&(e.change(v=>{const y=g?b.end:b.start;if(d){const I=e.createSelection(h.anchor);I.setFocus(y),v.setSelection(I)}else v.setSelection(y)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function c7(o,e,t){const n=o.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),c=v1(n,s,"forward");if(!c)return null;const d=n.createRange(s,c),h=A1(n.schema,d,"backward");return h?n.createRange(s,h):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),c=v1(n,s,"backward");if(!c)return null;const d=n.createRange(c,s),h=A1(n.schema,d,"forward");return h?n.createRange(h,s):null}}function v1(o,e,t){const n=o.schema,s=o.createRangeIn(e.root),c=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:h,type:g}of s.getWalker({startPosition:e,direction:t})){if(n.isLimit(h)&&!n.isInline(h))return d;if(g==c&&n.isBlock(h))return null}return null}function A1(o,e,t){const n=t=="backward"?e.end:e.start;if(o.checkChild(n,"$text"))return n;for(const{nextPosition:s}of e.getWalker({direction:t}))if(o.checkChild(s,"$text"))return s;return null}function l7(o,e,t){const n=o.model,s=o.view.domConverter;if(t){const b=n.createSelection(e.start);n.modifySelection(b),!b.focus.isAtEnd&&!e.start.isEqual(b.focus)&&(e=n.createRange(b.focus,e.end))}const c=o.mapper.toViewRange(e),d=s.viewRangeToDom(c),h=Le.getDomRangeRects(d);let g;for(const b of h){if(g===void 0){g=Math.round(b.bottom);continue}if(Math.round(b.top)>=g)return!1;g=Math.max(g,Math.round(b.bottom))}return!0}function d7(o,e){return!o.isCollapsed&&o.isBackward==e}var C1=a(7153),Qm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Qm.insert="head",Qm.singleton=!0,ie()(C1.Z,Qm),C1.Z.locals;class zc extends J{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[n7,Bi]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{const h=d.writer,g=c.selection;if(g.isCollapsed)return;const b=g.getSelectedElement();if(!b)return;const v=e.editing.mapper.toViewElement(b);Ot(v)&&d.consumable.consume(g,"selection")&&h.setSelection(h.createRangeOn(v),{fake:!0,label:KF(v)})}),this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,g=h.document.selection;let b=null;for(const v of g.getRanges())for(const y of v){const I=y.item;Ot(I)&&!h7(I,b)&&(h.addClass(p1,I),this._previouslySelected.add(I),b=I)}},{priority:"low"}),t.addObserver(Hg),this.listenTo(n,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(n,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Ot,"$text"]}),this.listenTo(n,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(n,"arrowKey",a7(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(s,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,s=n.editing.view,c=s.document;let d=t.target;if(u7(d)){if((m.isSafari||m.isGecko)&&t.domEvent.detail>=3){const g=n.editing.mapper,b=d.is("attributeElement")?d.findAncestor(y=>!y.is("attributeElement")):d,v=g.toModelElement(b);t.preventDefault(),this.editor.model.change(y=>{y.setSelection(v,"in")})}return}if(!Ot(d)&&(d=d.findAncestor(Ot),!d))return;m.isAndroid&&t.preventDefault(),c.isFocused||s.focus();const h=n.editing.mapper.toModelElement(d);this._setSelectionOverElement(h)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,s=this.editor.model,c=s.schema,d=s.document.selection,h=d.getSelectedElement(),g=rg(n,this.editor.locale.contentLanguageDirection),b=g=="down"||g=="right",v=g=="up"||g=="down";if(h&&c.isObject(h)){const I=b?d.getLastPosition():d.getFirstPosition(),B=c.getNearestSelectionRange(I,b?"forward":"backward");B&&(s.change(R=>{R.setSelection(B)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed&&!t.shiftKey){const I=d.getFirstPosition(),B=d.getLastPosition(),R=I.nodeAfter,V=B.nodeBefore;(R&&c.isObject(R)||V&&c.isObject(V))&&(s.change(q=>{q.setSelection(b?B:I)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed)return;const y=this._getObjectElementNextToSelection(b);if(y&&c.isObject(y)){if(c.isInline(y)&&v)return;this._setSelectionOverElement(y),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,s=n.schema,c=n.document.selection.getSelectedElement();c&&s.isObject(c)&&(t.preventDefault(),e.stop())}_handleDelete(e){const n=this.editor.model.document.selection;if(!this.editor.model.canEditAt(n)||!n.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(c=>{let d=n.anchor.parent;for(;d.isEmpty;){const h=d;d=h.parent,c.remove(h)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,s=t.document.selection,c=t.createSelection(s);if(t.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(s))return null;const d=e?c.focus.nodeBefore:c.focus.nodeAfter;return d&&n.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(p1,t);this._previouslySelected.clear()}}function u7(o){let e=o;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Ot(e))return!1;e=e.parent}return!1}function h7(o,e){return e?Array.from(o.getAncestors()).includes(e):!1}class Eu extends J{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[mu]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{f7(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:s,balloonClassName:c="ck-toolbar-container"}){if(!n.length){Ie("widget-toolbar-no-items",{toolbarId:e});return}const d=this.editor,h=d.t,g=new dm(d.locale);if(g.ariaLabel=t||h("Widget toolbar"),this._toolbarDefinitions.has(e))throw new L("widget-toolbar-duplicated",this,{toolbarId:e});const b={view:g,getRelatedElement:s,balloonClassName:c,itemsConfig:n,initialized:!1};d.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const v=s(d.editing.view.document.selection);v&&this._showToolbar(b,v)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(e,b)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const s of this._toolbarDefinitions.values()){const c=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!c)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const d=c.getAncestors().length;d>e&&(e=d,t=c,n=s)}}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?y1(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:x1(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const s=n.getRelatedElement(this.editor.editing.view.document.selection);y1(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function y1(o,e){const t=o.plugins.get("ContextualBalloon"),n=x1(o,e);t.updatePosition(n)}function x1(o,e){const t=o.editing.view,n=Vt.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function f7(o){const e=o.getSelectedElement();return!!(e&&Ot(e))}var E1=a(4875),Jm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Jm.insert="head",Jm.singleton=!0,ie()(E1.Z,Jm),E1.Z.locals;const Xm=dc("px");class p7 extends _e{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>Xm(t)),top:e.to("top",t=>Xm(t)),width:e.to("width",t=>Xm(t))}}})}}class Su extends J{constructor(){super(...arguments),this.removeDropMarkerDelayed=sg(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=ru(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=ru(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new p7,this._domEmitter=new(Wn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,s,c){this.removeDropMarkerDelayed.cancel();const d=S1(this.editor,e,t,n,s,c);d&&this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,n,s,c){const d=S1(this.editor,e,t,n,s,c);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(s=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("",t.createElement("span"),""),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,s=e.start.nodeAfter,c=e.start.parent,d=n?t.mapper.toViewElement(n):null,h=d?t.view.domConverter.mapViewToDom(d):null,g=s?t.mapper.toViewElement(s):null,b=g?t.view.domConverter.mapViewToDom(g):null,v=t.mapper.toViewElement(c),y=t.view.domConverter.mapViewToDom(v),I=this._getScrollableRect(v),{scrollX:B,scrollY:R}=he.window,V=h?new Le(h):null,q=b?new Le(b):null,Y=new Le(y).excludeScrollbarsAndBorders(),ae=V?V.bottom:Y.top,ye=q?q.top:Y.bottom,Ke=he.window.getComputedStyle(y),rt=ae<=ye?(ae+ye)/2:ye;if(I.top<rt&&rt<I.bottom){const le=Y.left+parseFloat(Ke.paddingLeft),pe=Y.right-parseFloat(Ke.paddingRight),de=Math.max(le+B,I.left),st=Math.min(pe+B,I.right);this._dropTargetLineView.set({isVisible:!0,left:de,top:rt+R,width:st-de})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);n=m7(s),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const c=new Ye(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:c})}return new Le(n).excludeScrollbarsAndBorders()}}function S1(o,e,t,n,s,c){const d=o.model,h=o.editing.mapper;let b=T1(o,e);for(;b;){if(!c){if(d.schema.checkChild(b,"$text")){const v=t?t[0].start:null,y=v?h.toModelPosition(v):null;if(y){if(d.schema.checkChild(y,"$text"))return d.createRange(y);if(v)return Du(o,T1(o,v.parent),n,s)}}else if(d.schema.isInline(b))return Du(o,b,n,s)}if(d.schema.isBlock(b))return Du(o,b,n,s);if(d.schema.checkChild(b,"$block")){const v=Array.from(b.getChildren()).filter(B=>B.is("element")&&!g7(o,B));let y=0,I=v.length;if(I==0)return d.createRange(d.createPositionAt(b,"end"));for(;y<I-1;){const B=Math.floor((y+I)/2);D1(o,v[B],n,s)=="before"?I=B:y=B}return Du(o,v[y],n,s)}b=b.parent}return null}function g7(o,e){const t=o.editing.mapper,n=o.editing.view.domConverter,s=t.toViewElement(e),c=n.mapViewToDom(s);return he.window.getComputedStyle(c).float!="none"}function Du(o,e,t,n){const s=o.model;return s.createRange(s.createPositionAt(e,D1(o,e,t,n)))}function D1(o,e,t,n){const s=o.editing.mapper,c=o.editing.view.domConverter,d=s.toViewElement(e),h=c.mapViewToDom(d),g=new Le(h);return o.model.schema.isInline(e)?t<(g.left+g.right)/2?"before":"after":n<(g.top+g.bottom)/2?"before":"after"}function T1(o,e){const t=o.editing.mapper,n=o.editing.view,s=t.toModelElement(e);if(s)return s;const c=n.createPositionBefore(e),d=t.findMappedViewAncestor(c);return t.toModelElement(d)}function m7(o){let e=o;do{e=e.parentElement;const t=he.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class k7 extends J{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Wn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),m.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const n=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",(s,c)=>this._handleBlockDragStart(c)),this._domEmitter.listenTo(he.document,"dragover",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(he.document,"drop",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(he.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",(s,c,d)=>{n.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,s=this.editor.editing.view,c=Array.from(n.getSelectedBlocks()),d=t.createRange(t.createPositionBefore(c[0]),t.createPositionAfter(c[c.length-1]));t.change(h=>h.setSelection(d)),this._isBlockDragging=!0,s.focus(),s.getObserver(Oc).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,s=document.elementFromPoint(t,n),c=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||c.getObserver(Oc).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var I1=a(799),ek={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ek.insert="head",ek.singleton=!0,ie()(I1.Z,ek),I1.Z.locals;class b7 extends J{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=sg(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Wn())}static get pluginName(){return"DragDrop"}static get requires(){return[ro,zc,Su,k7]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Oc),t.addObserver(Hg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,s,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,s,c)=>{c||this._finalizeDragging(!1)}),m.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=e.plugins.get(Su);this.listenTo(s,"dragstart",(d,h)=>{if(h.target&&h.target.is("editableElement")){h.preventDefault();return}if(this._prepareDraggedRange(h.target),!this._draggedRange){h.preventDefault();return}this._draggingUid=Ae(),h.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",h.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const g=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(h.dataTransfer,g,"dragstart");const{dataTransfer:v,domTarget:y,domEvent:I}=h,{clientX:B}=I;this._updatePreview({dataTransfer:v,domTarget:y,clientX:B}),h.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(d,h)=>{this._finalizeDragging(!h.dataTransfer.isCanceled&&h.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(he.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(s,"dragleave",()=>{c.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(d,h)=>{if(!this.isEnabled){h.dataTransfer.dropEffect="none";return}const{clientX:g,clientY:b}=h.domEvent;c.updateDropMarker(h.target,h.targetRanges,g,b,this._blockMode),this._draggedRange||(h.dataTransfer.dropEffect="copy"),m.isGecko||(h.dataTransfer.effectAllowed=="copy"?h.dataTransfer.dropEffect="copy":["all","copyMove"].includes(h.dataTransfer.effectAllowed)&&(h.dataTransfer.dropEffect="move")),d.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get(Su);this.listenTo(n,"clipboardInput",(c,d)=>{if(d.method!="drop")return;const{clientX:h,clientY:g}=d.domEvent,b=s.getFinalDropRange(d.target,d.targetRanges,h,g,this._blockMode);if(!b){this._finalizeDragging(!1),c.stop();return}if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),M1(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0)){this._finalizeDragging(!1),c.stop();return}d.targetRanges=[e.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(ro);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=n.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=M1(n.dataTransfer)=="move",c=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(c&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(s,c)=>{if(m.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let d=N1(c.target);if(m.isBlink&&!e.isReadOnly&&!d&&!n.selection.isCollapsed){const h=n.selection.getSelectedElement();(!h||!Ot(h))&&(d=n.selection.editableElement)}d&&(t.change(h=>{h.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(n,"mouseup",()=>{m.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(Su).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(c=>{const d=n.createSelection(this._draggedRange);n.deleteContent(d,{doNotAutoparagraph:!0});const h=d.getFirstPosition().parent;h.isEmpty&&!n.schema.checkChild(h,"$text")&&n.schema.checkChild(h,"paragraph")&&c.insertElement("paragraph",h,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,s=n.document.selection,c=e?N1(e):null;if(c){const b=t.editing.mapper.toModelElement(c);this._draggedRange=gn.fromRange(n.createRangeOn(b)),this._blockMode=n.schema.isBlock(b),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const d=Array.from(s.getSelectedBlocks()),h=s.getFirstRange();if(d.length==0){this._draggedRange=gn.fromRange(h);return}const g=B1(n,d);if(d.length>1)this._draggedRange=gn.fromRange(g),this._blockMode=!0;else if(d.length==1){const b=h.start.isTouching(g.start)&&h.end.isTouching(g.end);this._draggedRange=gn.fromRange(b?g:h),this._blockMode=b}n.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const s=this.editor.editing.view,c=s.document.selection.editableElement,d=s.domConverter.mapViewToDom(c),h=he.window.getComputedStyle(d);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Cs(he.document,"div",{style:"position: fixed; left: -999999px;"}),he.document.body.appendChild(this._previewContainer));const g=new Le(d);if(d.contains(t))return;const b=parseFloat(h.paddingLeft),v=Cs(he.document,"div");v.className="ck ck-content",v.style.width=h.width,v.style.paddingLeft=`${g.left-n+b}px`,m.isiOS&&(v.style.backgroundColor="white"),v.innerHTML=e.getData("text/html"),e.setDragImage(v,0,0),this._previewContainer.appendChild(v)}}function M1(o){return m.isGecko?o.dropEffect:["all","copyMove"].includes(o.effectAllowed)?"move":"copy"}function N1(o){if(o.is("editableElement"))return null;if(o.hasClass("ck-widget__selection-handle"))return o.findAncestor(Ot);if(Ot(o))return o;const e=o.findAncestor(t=>Ot(t)||t.is("editableElement"));return Ot(e)?e:null}function B1(o,e){const t=e[0],n=e[e.length-1],s=t.getCommonAncestor(n),c=o.createPositionBefore(t),d=o.createPositionAfter(n);if(s&&s.is("element")&&!o.schema.isLimit(s)){const h=o.createRangeOn(s),g=c.isTouching(h.start),b=d.isTouching(h.end);if(g&&b)return B1(o,[s])}return o.createRange(c,d)}class w7 extends J{static get pluginName(){return"PastePlainText"}static get requires(){return[ro]}init(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=t.document.selection;let d=!1;n.addObserver(Oc),this.listenTo(s,"keydown",(h,g)=>{d=g.shiftKey}),e.plugins.get(ro).on("contentInsertion",(h,g)=>{!d&&!_7(g.content,t.schema)||t.change(b=>{const v=Array.from(c.getAttributes()).filter(([I])=>t.schema.getAttributeProperties(I).isFormatting);c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),v.push(...c.getAttributes());const y=b.createRangeIn(g.content);for(const I of y.getItems())I.is("$textProxy")&&b.setAttributes(v,I)})})}}function _7(o,e){if(o.childCount>1)return!1;const t=o.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}class tk extends J{static get pluginName(){return"Clipboard"}static get requires(){return[ro,b7,w7]}}class v7 extends Ce{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!P1(e.schema,n))do if(n=n.parent,!n)return;while(!P1(e.schema,n));e.change(s=>{s.setSelection(n,"in")})}}function P1(o,e){return o.isLimit(e)&&(o.checkChild(e,"$text")||o.checkChild(e,"paragraph"))}const A7=hc("Ctrl+A");class C7 extends J{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new v7(e)),this.listenTo(n,"keydown",(s,c)=>{Ss(c)===A7&&(e.execute("selectAll"),c.preventDefault())})}}const y7='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class x7 extends J{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),s=new et(t),c=t.t;return s.set({label:c("Select all"),icon:y7,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(n,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class E7 extends J{static get requires(){return[C7,x7]}static get pluginName(){return"SelectAll"}}class O1 extends Ce{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const s=n[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const s=this.editor.model,c=s.document,d=[],h=e.map(b=>b.getTransformedByOperations(n)),g=h.flat();for(const b of h){const v=b.filter(y=>y.root!=c.graveyard).filter(y=>!D7(y,g));v.length&&(S7(v),d.push(v[0]))}d.length&&s.change(b=>{b.setSelection(d,{backward:t})})}_undo(e,t){const n=this.editor.model,s=n.document;this._createdBatches.add(t);const c=e.operations.slice().filter(d=>d.isDocumentOperation);c.reverse();for(const d of c){const h=d.baseVersion+1,g=Array.from(s.history.getOperations(h)),v=vj([d.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let y of v){const I=y.affectedSelectable;I&&!n.canEditAt(I)&&(y=new Dt(y.baseVersion)),t.addOperation(y),n.applyOperation(y),s.history.setOperationAsUndone(d,y)}}}}function S7(o){o.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<o.length;e++){const n=o[e-1].getJoined(o[e],!0);n&&(e--,o.splice(e,2,n))}}function D7(o,e){return e.some(t=>t!==o&&t.containsRange(o,!0))}class T7 extends O1{execute(e=null){const t=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(n.batch,s);const c=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c)}),this.fire("revert",n.batch,s),this.refresh()}}class I7 extends O1{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,c=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,c),this._undo(e.batch,t)}),this.refresh()}}class M7 extends J{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new T7(e),this._redoCommand=new I7(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const s=n[0];if(!s.isDocumentOperation)return;const c=s.batch,d=this._redoCommand.createdBatches.has(c),h=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):h||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const z1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',L1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class N7 extends J{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?z1:L1,c=t.uiLanguageDirection=="ltr"?L1:z1;this._addButton("undo",n("Undo"),"CTRL+Z",s),this._addButton("redo",n("Redo"),"CTRL+Y",c)}_addButton(e,t,n,s){const c=this.editor;c.ui.componentFactory.add(e,d=>{const h=c.commands.get(e),g=new et(d);return g.set({label:t,icon:s,keystroke:n,tooltip:!0}),g.bind("isEnabled").to(h,"isEnabled"),this.listenTo(g,"execute",()=>{c.execute(e),c.editing.view.focus()}),g})}}class nk extends J{static get requires(){return[M7,N7]}static get pluginName(){return"Undo"}}class B7 extends J{static get requires(){return[tk,Cu,E7,BF,gF,nk]}static get pluginName(){return"Essentials"}}class P7 extends Ce{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,n=St(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&j1(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,s=e.selection||n.selection;t.canEditAt(s)&&t.change(c=>{const d=s.getSelectedBlocks();for(const h of d)!h.is("element","paragraph")&&j1(h,t.schema)&&c.rename(h,"paragraph")})}}function j1(o,e){return e.checkChild(o.parent,"paragraph")&&!e.isObject(o)}class O7 extends Ce{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(c=>{if(s=this._findPositionToInsertParagraph(s,c),!s)return;const d=c.createElement("paragraph");n&&t.schema.setAllowedAttributes(d,n,c),t.insertContent(d,s),c.setSelection(d,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const s=n.schema.findAllowedParent(e,"paragraph");if(!s)return null;const c=e.parent,d=n.schema.checkChild(c,"$text");return c.isEmpty||d&&e.isAtEnd?n.createPositionAfter(c):!c.isEmpty&&d&&e.isAtStart?n.createPositionBefore(c):t.split(e,s).position}}class Lc extends J{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new P7(e)),e.commands.add("insertParagraph",new O7(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(n,{writer:s})=>!Lc.paragraphLikeElements.has(n.name)||n.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Lc.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class z7 extends Ce{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=St(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>R1(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,s=e.value;t.change(c=>{const d=Array.from(n.selection.getSelectedBlocks()).filter(h=>R1(h,s,t.schema));for(const h of d)h.is("element",s)||c.rename(h,s)})}}function R1(o,e,t){return t.checkChild(o.parent,e)&&!t.isObject(o)}const F1="paragraph";class L7 extends J{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Lc]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),n.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new z7(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,c)=>{const d=e.model.document.selection.getFirstPosition().parent;n.some(g=>d.is("element",g.model))&&!d.is("element",F1)&&d.childCount===0&&c.writer.rename(d,F1)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:je.low+1})}}function j7(o){const e=o.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return o.config.get("heading.options").map(n=>{const s=t[n.title];return s&&s!=n.title&&(n.title=s),n})}var V1=a(4249),ik={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ik.insert="head",ik.singleton=!0,ie()(V1.Z,ik),V1.Z.locals;class R7 extends J{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=j7(e),s=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",d=>{const h={},g=new ai,b=e.commands.get("heading"),v=e.commands.get("paragraph"),y=[b];for(const B of n){const R={type:"button",model:new By({label:B.title,class:B.class,role:"menuitemradio",withText:!0})};B.model==="paragraph"?(R.model.bind("isOn").to(v,"value"),R.model.set("commandName","paragraph"),y.push(v)):(R.model.bind("isOn").to(b,"value",V=>V===B.model),R.model.set({commandName:"heading",commandValue:B.model})),g.add(R),h[B.model]=B.title}const I=oo(d);return sy(I,g,{ariaLabel:c,role:"menu"}),I.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),I.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),I.bind("isEnabled").toMany(y,"isEnabled",(...B)=>B.some(R=>R)),I.buttonView.bind("label").to(b,"value",v,"value",(B,R)=>{const V=B||R&&"paragraph";return typeof V=="boolean"||!h[V]?s:h[V]}),this.listenTo(I,"execute",B=>{const{commandName:R,commandValue:V}=B.source;e.execute(R,V?{value:V}:void 0),e.editing.view.focus()}),I})}}class F7 extends J{static get requires(){return[L7,R7]}static get pluginName(){return"Heading"}}function V7(o){return o.createContainerElement("span",{class:"image-inline"},o.createEmptyElement("img"))}function U1(o){return o.createContainerElement("figure",{class:"image"},[o.createEmptyElement("img"),o.createSlot("children")])}function H1(o,e){const t=o.plugins.get("ImageUtils"),n=o.plugins.has("ImageInlineEditing")&&o.plugins.has("ImageBlockEditing");return c=>t.isInlineImageView(c)?n&&(c.getStyle("display")=="block"||c.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(c):null;function s(c){const d={name:!0};return c.hasAttribute("src")&&(d.attributes=["src"]),d}}function ok(o,e){const t=St(e.getSelectedBlocks());return!t||o.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Tu(o){return o&&o.endsWith("px")?parseInt(o):null}function $1(o){const e=Tu(o.getStyle("width")),t=Tu(o.getStyle("height"));return!!(e&&t)}const U7=/^(image|image-inline)$/;class qn extends J{constructor(){super(...arguments),this._domEmitter=new(Wn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,s={}){const c=this.editor,d=c.model,h=d.document.selection;n=W1(c,t||h,n),e={...Object.fromEntries(h.getAttributes()),...e};for(const g in e)d.schema.checkAttribute(n,g)||delete e[g];return d.change(g=>{const{setImageSizes:b=!0}=s,v=g.createElement(n,e);return d.insertObject(v,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":void 0}),v.parent?(b&&this.setImageNaturalSizeAttributes(v),v):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const s=new he.window.Image;this._domEmitter.listenTo(s,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(n.batch,c=>{c.setAttribute("width",s.naturalWidth,e),c.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:U7})}isImageAllowed(){const t=this.editor.model.document.selection;return H7(this.editor,t)&&$7(t)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),Zm(e,t,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Ot(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function H7(o,e){if(W1(o,e,null)=="imageBlock"){const n=W7(e,o.model);if(o.model.schema.checkChild(n,"imageBlock"))return!0}else if(o.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function $7(o){return[...o.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function W7(o,e){const n=k1(o,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function W1(o,e,t){const n=o.model.schema,s=o.config.get("image.insert.type");return o.plugins.has("ImageBlockEditing")?o.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?ok(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const G7=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class q7 extends J{static get requires(){return[tk,qn,nk,Bi]}static get pluginName(){return"AutoImage"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const s=t.selection.getFirstRange(),c=Tt.fromPosition(s.start);c.stickiness="toPrevious";const d=Tt.fromPosition(s.end);d.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(c,d),c.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(he.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const n=this.editor,s=new gn(e,t),c=s.getWalker({ignoreElementEnd:!0}),d=Object.fromEntries(n.model.document.selection.getAttributes()),h=this.editor.plugins.get("ImageUtils");let g="";for(const b of c)b.item.is("$textProxy")&&(g+=b.item.data);if(g=g.trim(),!g.match(G7)){s.detach();return}this._positionToInsert=Tt.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!n.commands.get("insertImage").isEnabled){s.detach();return}n.model.change(y=>{this._timeoutId=null,y.remove(s),s.detach();let I;this._positionToInsert.root.rootName!=="$graveyard"&&(I=this._positionToInsert.toPosition()),h.insertImage({...d,src:g},I),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)}}class K7 extends Ce{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=t.model,c=n.getClosestSelectedImageElement(s.document.selection);s.change(d=>{d.setAttribute("alt",e.newValue,c)})}}class Z7 extends J{static get requires(){return[qn]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new K7(this.editor))}}var G1=a(5269),rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rk.insert="head",rk.singleton=!0,ie()(G1.Z,rk),G1.Z.locals;var q1=a(6603),sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sk.insert="head",sk.singleton=!0,ie()(q1.Z,sk),q1.Z.locals;class Y7 extends _e{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new pn,this.keystrokes=new ci,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new to,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Zg({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,s){const c=new et(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createLabeledInputView(){const e=this.locale.t,t=new lu(this.locale,hu);return t.label=e("Text alternative"),t}}function Q7(o){const e=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const n=K1(o);e.updatePosition(n)}}function K1(o){const e=o.editing.view,t=Vt.defaultPositions,n=o.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class J7 extends J{static get requires(){return[mu]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const s=e.commands.get("imageTextAlternative"),c=new et(n);return c.set({label:t("Change image text alternative"),icon:Ve.lowVision,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>!!d),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Kg(Y7))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,d)=>{this._hideForm(!0),d()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(n.selection)?this._isVisible&&Q7(e):this._hideForm(!0)}),qg({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:K1(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Z1 extends J{static get requires(){return[Z7,J7]}static get pluginName(){return"ImageTextAlternative"}}function X7(o){const e=(t,n,s)=>{if(!s.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const c=o.findViewImgElement(n.viewItem);if(!c||!s.consumable.test(c,{name:!0}))return;s.consumable.consume(n.viewItem,{name:!0,classes:"image"});const d=s.convertItem(c,n.modelCursor),h=St(d.modelRange.getItems());if(!h){s.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n)};return t=>{t.on("element:figure",e)}}function Y1(o,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=c.writer,h=c.mapper.toViewElement(s.item),g=o.findViewImgElement(h);s.attributeNewValue===null?(d.removeAttribute("srcset",g),d.removeAttribute("sizes",g)):s.attributeNewValue&&(d.setAttribute("srcset",s.attributeNewValue,g),d.setAttribute("sizes","100vw",g))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Iu(o,e,t){const n=(s,c,d)=>{if(!d.consumable.consume(c.item,s.name))return;const h=d.writer,g=d.mapper.toViewElement(c.item),b=o.findViewImgElement(g);h.setAttribute(c.attributeKey,c.attributeNewValue||"",b)};return s=>{s.on(`attribute:${t}:${e}`,n)}}class e8 extends Ii{observe(e){this.listenTo(e,"load",(t,n)=>{const s=n.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class t8 extends Ce{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Ie("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Ie("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Rt(e.source),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const g=n.getSelectedElement();if(typeof d=="string"&&(d={src:d}),h&&g&&s.isImage(g)){const b=this.editor.model.createPositionAfter(g);s.insertImage({...d,...c},b)}else s.insertImage({...d,...c})})}}class n8 extends Ce{refresh(){const t=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}class Q1 extends J{static get requires(){return[qn]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(e8),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new t8(e),s=new n8(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",n)}}class J1 extends J{static get requires(){return[qn]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:d=>$1(d)?Tu(d.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:d=>$1(d)?Tu(d.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(d=>{c(d,"width","width",!0),c(d,"height","height",!0)}),t.conversion.for("dataDowncast").add(d=>{c(d,"width","width",!1),c(d,"height","height",!1)});function c(d,h,g,b){d.on(`attribute:${h}:${e}`,(v,y,I)=>{if(!I.consumable.consume(y.item,v.name))return;const B=I.writer,R=I.mapper.toViewElement(y.item),V=n.findViewImgElement(R);if(y.attributeNewValue!==null?B.setAttribute(g,y.attributeNewValue,V):B.removeAttribute(g,V),y.item.hasAttribute("sources"))return;const q=y.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!q&&!b)return;const Y=y.item.getAttribute("width"),ae=y.item.getAttribute("height"),ye=V.getStyle("aspect-ratio");Y&&ae&&!ye&&B.setStyle("aspect-ratio",`${Y}/${ae}`,V)})}}}class X1 extends Ce{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(n):this.isEnabled=t.isBlockImage(n)}execute(e={}){const t=this.editor,n=this.editor.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(n.document.selection),d=Object.fromEntries(c.getAttributes());return!d.src&&!d.uploadId?null:n.change(h=>{const{setImageSizes:g=!0}=e,b=Array.from(n.markers).filter(I=>I.getRange().containsItem(c)),v=s.insertImage(d,n.createSelection(c,"on"),this._modelElementName,{setImageSizes:g});if(!v)return null;const y=h.createRangeOn(v);for(const I of b){const B=I.getRange(),R=B.root.rootName!="$graveyard"?B.getJoined(y,!0):y;h.updateMarker(I,{range:R})}return{oldElement:c,newElement:v}})}}class ex extends J{static get requires(){return[Q1,J1,qn,ro]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new X1(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>U1(d)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>s.toImageWidget(U1(d),d,t("image widget"))}),n.for("downcast").add(Iu(s,"imageBlock","src")).add(Iu(s,"imageBlock","alt")).add(Y1(s,"imageBlock")),n.for("upcast").elementToElement({view:H1(e,"imageBlock"),model:(c,{writer:d})=>d.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(X7(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const g=Array.from(h.content.getChildren());let b;if(!g.every(s.isInlineImageView))return;h.targetRanges?b=e.editing.mapper.toModelRange(h.targetRanges[0]):b=t.document.selection.getFirstRange();const v=t.createSelection(b);if(ok(t.schema,v)==="imageBlock"){const y=new $g(n.document),I=g.map(B=>y.createElement("figure",{class:"image"},B));h.content=y.createDocumentFragment(I)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(g=>{const b=g.createRangeIn(h.content);for(const v of b.getItems())v.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(v)})})}}var tx=a(2430),ak={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ak.insert="head",ak.singleton=!0,ie()(tx.Z,ak),tx.Z.locals;class i8 extends J{static get requires(){return[ex,zc,Z1]}static get pluginName(){return"ImageBlock"}}class o8 extends J{static get requires(){return[Q1,J1,qn,ro]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,s)=>{if(n.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new X1(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:d})=>d.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:d})=>s.toImageWidget(V7(d),d,t("image widget"))}),n.for("downcast").add(Iu(s,"imageInline","src")).add(Iu(s,"imageInline","alt")).add(Y1(s,"imageInline")),n.for("upcast").elementToElement({view:H1(e,"imageInline"),model:(c,{writer:d})=>d.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const g=Array.from(h.content.getChildren());let b;if(!g.every(s.isBlockImageView))return;h.targetRanges?b=e.editing.mapper.toModelRange(h.targetRanges[0]):b=t.document.selection.getFirstRange();const v=t.createSelection(b);if(ok(t.schema,v)==="imageInline"){const y=new $g(n.document),I=g.map(B=>B.childCount===1?(Array.from(B.getAttributes()).forEach(R=>y.setAttribute(...R,s.findViewImgElement(B))),B.getChild(0)):B);h.content=y.createDocumentFragment(I)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(g=>{const b=g.createRangeIn(h.content);for(const v of b.getItems())v.is("element","imageInline")&&s.setImageNaturalSizeAttributes(v)})})}}class r8 extends J{static get requires(){return[o8,zc,Z1]}static get pluginName(){return"ImageInline"}}class s8 extends J{static get requires(){return[i8,r8]}static get pluginName(){return"Image"}}class nx extends J{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[qn]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class a8 extends Ce{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(ex)){this.isEnabled=!1,this.value=!1;return}const s=e.model.document.selection,c=s.getSelectedElement();if(!c){const d=t.getCaptionFromModelSelection(s);this.isEnabled=!!d,this.value=!!d;return}this.isEnabled=n.isImage(c),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let h=s.getSelectedElement();const g=c._getSavedCaption(h);d.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=s.getSelectedElement());const b=g||e.createElement("caption");e.append(b,h),t&&e.setSelection(b,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),c=t.plugins.get("ImageCaptionUtils");let d=n.getSelectedElement(),h;d?h=c.getCaptionFromImageModelElement(d):(h=c.getCaptionFromModelSelection(n),d=h.parent),s._saveCaption(d,h),e.setSelection(d,"on"),e.remove(h)}}class c8 extends J{static get requires(){return[qn,nx]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new a8(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:d=>s.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>n.isBlockImage(d.parent)?h.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>{if(!n.isBlockImage(d.parent))return null;const g=h.createEditableElement("figcaption");h.setCustomProperty("imageCaption",!0,g),g.placeholder=c("Enter image caption"),S0({view:t,element:g,keepOnFocus:!0});const b=d.parent.getAttribute("alt"),v=b?c("Caption for image: %0",[b]):c("Caption for the image");return m1(g,h,{label:v})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),d=h=>{if(!h.return)return;const{oldElement:g,newElement:b}=h.return;if(!g)return;if(t.isBlockImage(g)){const y=n.getCaptionFromImageModelElement(g);if(y){this._saveCaption(b,y);return}}const v=this._getSavedCaption(g);v&&this._saveCaption(b,v)};s&&this.listenTo(s,"execute",d,{priority:"low"}),c&&this.listenTo(c,"execute",d,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Fe.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const c=t.document.differ.getChanges();for(const d of c){if(d.attributeKey!=="alt")continue;const h=d.range.start.nodeAfter;if(n.isBlockImage(h)){const g=s.getCaptionFromImageModelElement(h);if(!g)return;e.editing.reconvertItem(g)}}})}}class l8 extends J{static get requires(){return[nx]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const d=e.commands.get("toggleImageCaption"),h=new et(c);return h.set({icon:Ve.caption,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.bind("label").to(d,"value",g=>s(g?"Toggle caption off":"Toggle caption on")),this.listenTo(h,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const g=n.getCaptionFromModelSelection(e.model.document.selection);if(g){const b=e.editing.mapper.toViewElement(g);t.scrollToTheSelection(),t.change(v=>{v.addClass("image__caption_highlighted",b)})}e.editing.view.focus()}),h})}}var ix=a(2423),ck={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ck.insert="head",ck.singleton=!0,ie()(ix.Z,ck),ix.Z.locals;class d8 extends J{static get requires(){return[c8,l8]}static get pluginName(){return"ImageCaption"}}class u8 extends Re(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,s)=>{t.onload=()=>{const c=t.result;this._data=c,n(c)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class jc extends J{constructor(){super(...arguments),this.loaders=new ai,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[AC]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Ie("filerepository-no-upload-adapter"),null;const t=new ox(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const s of this.loaders)n+=s.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const s of this.loaders)s.uploadTotal&&(n+=s.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof ox?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,s)=>{n===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(AC);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class ox extends Re(){constructor(e,t){super(),this.id=Ae(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new u8,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,s)=>s?n/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new L("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(c=>{t.isFulfilled=!0,n(c)}).catch(c=>{t.isFulfilled=!0,s(c)})}),t}}class h8 extends _e{constructor(e){super(e),this.buttonView=new et(e),this._fileInputView=new f8(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class f8 extends _e{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function rx(o){const e=o.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function p8(o){return new Promise((e,t)=>{const n=o.getAttribute("src");fetch(n).then(s=>s.blob()).then(s=>{const c=sx(s,n),h=`image.${c.replace("image/","")}`,g=new File([s],h,{type:c});e(g)}).catch(s=>s&&s.name==="TypeError"?m8(n).then(e).catch(t):t(s))})}function g8(o,e){return!o.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function sx(o,e){return o.type?o.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function m8(o){return k8(o).then(e=>{const t=sx(e,o),s=`image.${t.replace("image/","")}`;return new File([e],s,{type:t})})}function k8(o){return new Promise((e,t)=>{const n=he.document.createElement("img");n.addEventListener("load",()=>{const s=he.document.createElement("canvas");s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0),s.toBlob(d=>d?e(d):t())}),n.addEventListener("error",()=>t()),n.src=o})}class b8 extends J{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=s=>{const c=new h8(s),d=e.commands.get("uploadImage"),h=e.config.get("image.upload.types"),g=rx(h);return c.set({acceptedType:h.map(b=>`image/${b}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:t("Insert image"),icon:Ve.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(d),c.on("done",(b,v)=>{const y=Array.from(v).filter(I=>g.test(I.type));y.length&&(e.execute("uploadImage",{file:y}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}var ax=a(2926),lk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lk.insert="head",lk.singleton=!0,ie()(ax.Z,lk),ax.Z.locals;var cx=a(1547),dk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dk.insert="head",dk.singleton=!0,ie()(cx.Z,dk),cx.Z.locals;var lx=a(6618),uk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uk.insert="head",uk.singleton=!0,ie()(lx.Z,uk),lx.Z.locals;class w8 extends J{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,n,s)=>{const c=this.editor,d=n.item,h=d.getAttribute("uploadId");if(!s.consumable.consume(n.item,t.name))return;const g=c.plugins.get("ImageUtils"),b=c.plugins.get(jc),v=h?n.attributeNewValue:null,y=this.placeholder,I=c.editing.mapper.toViewElement(d),B=s.writer;if(v=="reading"){dx(I,B),ux(g,y,I,B);return}if(v=="uploading"){const R=b.loaders.get(h);dx(I,B),R?(hx(I,B),v8(I,B,R,c.editing.view),E8(g,I,B,R)):ux(g,y,I,B);return}v=="complete"&&b.loaders.get(h)&&C8(I,B,c.editing.view),A8(I,B),hx(I,B),_8(I,B)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function dx(o,e){o.hasClass("ck-appear")||e.addClass("ck-appear",o)}function _8(o,e){e.removeClass("ck-appear",o)}function ux(o,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const s=o.findViewImgElement(t);s.getAttribute("src")!==e&&n.setAttribute("src",e,s),fx(t,"placeholder")||n.insert(n.createPositionAfter(s),x8(n))}function hx(o,e){o.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",o),px(o,e,"placeholder")}function v8(o,e,t,n){const s=y8(e);e.insert(e.createPositionAt(o,"end"),s),t.on("change:uploadedPercent",(c,d,h)=>{n.change(g=>{g.setStyle("width",h+"%",s)})})}function A8(o,e){px(o,e,"progressBar")}function C8(o,e,t){const n=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(o,"end"),n),setTimeout(()=>{t.change(s=>s.remove(s.createRangeOn(n)))},3e3)}function y8(o){const e=o.createUIElement("div",{class:"ck-progress-bar"});return o.setCustomProperty("progressBar",!0,e),e}function x8(o){const e=o.createUIElement("div",{class:"ck-upload-placeholder-loader"});return o.setCustomProperty("placeholder",!0,e),e}function fx(o,e){for(const t of o.getChildren())if(t.getCustomProperty(e))return t}function px(o,e,t){const n=fx(o,t);n&&e.remove(e.createRangeOn(n))}function E8(o,e,t,n){if(n.data){const s=o.findViewImgElement(e);t.setAttribute("src",n.data,s)}}class S8 extends Ce{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=Rt(e.file),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const g=n.getSelectedElement();if(h&&g&&s.isImage(g)){const b=this.editor.model.createPositionAfter(g);this._uploadImage(d,c,b)}else this._uploadImage(d,c)})}_uploadImage(e,t,n){const s=this.editor,d=s.plugins.get(jc).createLoader(e),h=s.plugins.get("ImageUtils");d&&h.insertImage({...t,uploadId:d.id},n)}}class D8 extends J{static get requires(){return[jc,Ny,ro,qn]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,n=e.conversion,s=e.plugins.get(jc),c=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),h=rx(e.config.get("image.upload.types")),g=new S8(e);e.commands.add("uploadImage",g),e.commands.add("imageUpload",g),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(b,v)=>{if(T8(v.dataTransfer))return;const y=Array.from(v.dataTransfer.files).filter(I=>I?h.test(I.type):!1);y.length&&(b.stop(),e.model.change(I=>{v.targetRanges&&I.setSelection(v.targetRanges.map(B=>e.editing.mapper.toModelRange(B))),e.execute("uploadImage",{file:y})}))}),this.listenTo(d,"inputTransformation",(b,v)=>{const y=Array.from(e.editing.view.createRangeIn(v.content)).map(B=>B.item).filter(B=>g8(c,B)&&!B.getAttribute("uploadProcessed")).map(B=>({promise:p8(B),imageElement:B}));if(!y.length)return;const I=new $g(e.editing.view.document);for(const B of y){I.setAttribute("uploadProcessed",!0,B.imageElement);const R=s.createLoader(B.promise);R&&(I.setAttribute("src","",B.imageElement),I.setAttribute("uploadId",R.id,B.imageElement))}}),e.editing.view.document.on("dragover",(b,v)=>{v.preventDefault()}),t.on("change",()=>{const b=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),v=new Set;for(const y of b)if(y.type=="insert"&&y.name!="$text"){const I=y.position.nodeAfter,B=y.position.root.rootName=="$graveyard";for(const R of I8(e,I)){const V=R.getAttribute("uploadId");if(!V)continue;const q=s.loaders.get(V);q&&(B?v.has(V)||q.abort():(v.add(V),this._uploadImageElements.set(V,R),q.status=="idle"&&this._readAndUpload(q)))}}}),this.on("uploadComplete",(b,{imageElement:v,data:y})=>{const I=y.urls?y.urls:y;this.editor.model.change(B=>{B.setAttribute("src",I.default,v),this._parseAndSetSrcsetAttributeOnImage(I,v,B),c.setImageNaturalSizeAttributes(v)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,s=t.locale.t,c=t.plugins.get(jc),d=t.plugins.get(Ny),h=t.plugins.get("ImageUtils"),g=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","reading",g.get(e.id))}),e.read().then(()=>{const v=e.upload(),y=g.get(e.id);if(m.isSafari){const I=t.editing.mapper.toViewElement(y),B=h.findViewImgElement(I);t.editing.view.once("render",()=>{if(!B.parent)return;const R=t.editing.view.domConverter.mapViewToDom(B.parent);if(!R)return;const V=R.style.display;R.style.display="none",R._ckHack=R.offsetHeight,R.style.display=V})}return n.enqueueChange({isUndoable:!1},I=>{I.setAttribute("uploadStatus","uploading",y)}),v}).then(v=>{n.enqueueChange({isUndoable:!1},y=>{const I=g.get(e.id);y.setAttribute("uploadStatus","complete",I),this.fire("uploadComplete",{data:v,imageElement:I})}),b()}).catch(v=>{if(e.status!=="error"&&e.status!=="aborted")throw v;e.status=="error"&&v&&d.showWarning(v,{title:s("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},y=>{y.remove(g.get(e.id))}),b()});function b(){n.enqueueChange({isUndoable:!1},v=>{const y=g.get(e.id);v.removeAttribute("uploadId",y),v.removeAttribute("uploadStatus",y),g.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let s=0;const c=Object.keys(e).filter(d=>{const h=parseInt(d,10);if(!isNaN(h))return s=Math.max(s,h),!0}).map(d=>`${e[d]} ${d}w`).join(", ");if(c!=""){const d={srcset:c};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(d.width=s),n.setAttributes(d,t)}}}function T8(o){return Array.from(o.types).includes("text/html")&&o.getData("text/html")!==""}function I8(o,e){const t=o.plugins.get("ImageUtils");return Array.from(o.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}class M8 extends J{static get pluginName(){return"ImageUpload"}static get requires(){return[D8,b8,w8]}}var gx=a(8340),hk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hk.insert="head",hk.singleton=!0,ie()(gx.Z,hk),gx.Z.locals;var mx=a(8879),fk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};fk.insert="head",fk.singleton=!0,ie()(mx.Z,fk),mx.Z.locals;var kx=a(2400),pk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pk.insert="head",pk.singleton=!0,ie()(kx.Z,pk),kx.Z.locals;class N8 extends Ce{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const s of n.modelElements)this._defaultStyles[s]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils");n.change(c=>{const d=e.value,{setImageSizes:h=!0}=e;let g=s.getClosestSelectedImageElement(n.document.selection);d&&this.shouldConvertImageType(d,g)&&(this.editor.execute(s.isBlockImage(g)?"imageTypeInline":"imageTypeBlock",{setImageSizes:h}),g=s.getClosestSelectedImageElement(n.document.selection)),!d||this._styles.get(d).isDefault?c.removeAttribute("imageStyle",g):c.setAttribute("imageStyle",d,g),h&&s.setImageNaturalSizeAttributes(g)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:B8,objectInline:bx,objectLeft:wx,objectRight:gk,objectCenter:mk,objectBlockLeft:_x,objectBlockRight:vx}=Ve,Mu={get inline(){return{name:"inline",title:"In line",icon:bx,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:wx,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:_x,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:mk,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:gk,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:vx,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:mk,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:gk,modelElements:["imageBlock"],className:"image-style-side"}}},Ax={full:B8,left:_x,right:vx,center:mk,inlineLeft:wx,inlineRight:gk,inline:bx},Cx=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function P8(o){return(o.configuredStyles.options||[]).map(n=>L8(n)).filter(n=>j8(n,o))}function O8(o,e){return o&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:o?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function z8(o){return o.has("ImageBlockEditing")&&o.has("ImageInlineEditing")?[...Cx]:[]}function L8(o){return typeof o=="string"?Mu[o]?o={...Mu[o]}:o={name:o}:o=R8(Mu[o.name],o),typeof o.icon=="string"&&(o.icon=Ax[o.icon]||o.icon),o}function j8(o,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:n,name:s}=o;if(!n||!n.length||!s)return yx({style:o}),!1;{const c=[e?"imageBlock":null,t?"imageInline":null];if(!n.some(d=>c.includes(d)))return Ie("image-style-missing-dependency",{style:o,missingPlugins:n.map(d=>d==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function R8(o,e){const t={...e};for(const n in o)Object.prototype.hasOwnProperty.call(e,n)||(t[n]=o[n]);return t}function yx(o){Ie("image-style-configuration-definition-invalid",o)}const kk={normalizeStyles:P8,getDefaultStylesConfiguration:O8,getDefaultDropdownDefinitions:z8,warnInvalidStyle:yx,DEFAULT_OPTIONS:Mu,DEFAULT_ICONS:Ax,DEFAULT_DROPDOWN_DEFINITIONS:Cx};function F8(o){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const s=xx(t.attributeNewValue,o),c=xx(t.attributeOldValue,o),d=n.mapper.toViewElement(t.item),h=n.writer;c&&h.removeClass(c.className,d),s&&h.addClass(s.className,d)}}function V8(o){const e={imageInline:o.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:o.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,s)=>{if(!n.modelRange)return;const c=n.viewItem,d=St(n.modelRange.getItems());if(d&&s.schema.checkAttribute(d,"imageStyle"))for(const h of e[d.name])s.consumable.consume(c,{classes:h.className})&&s.writer.setAttribute("imageStyle",h.name,d)}}function xx(o,e){for(const t of e)if(t.name===o)return t}class Ex extends J{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[qn]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=kk,n=this.editor,s=n.plugins.has("ImageBlockEditing"),c=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(s,c)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:c}),this._setupConversion(s,c),this._setupPostFixer(),n.commands.add("imageStyle",new N8(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,s=n.model.schema,c=F8(this.normalizedStyles),d=V8(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",c),n.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(qn),s=new Map(this.normalizedStyles.map(c=>[c.name,c]));t.registerPostFixer(c=>{let d=!1;for(const h of t.differ.getChanges())if(h.type=="insert"||h.type=="attribute"&&h.attributeKey=="imageStyle"){let g=h.type=="insert"?h.position.nodeAfter:h.range.start.nodeAfter;if(g&&g.is("element","paragraph")&&g.childCount>0&&(g=g.getChild(0)),!n.isImage(g))continue;const b=g.getAttribute("imageStyle");if(!b)continue;const v=s.get(b);(!v||!v.modelElements.includes(g.name))&&(c.removeAttribute("imageStyle",g),d=!0)}return d})}}var Sx=a(3534),bk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bk.insert="head",bk.singleton=!0,ie()(Sx.Z,bk),Sx.Z.locals;class U8 extends J{static get requires(){return[Ex]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=e.get("ImageStyleEditing"),s=Dx(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const c=Dx([...t.filter(Qe),...kk.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const d of c)this._createDropdown(d,s)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,s=>{let c;const{defaultItem:d,items:h,title:g}=e,b=h.filter(B=>t.find(({name:R})=>Tx(R)===B)).map(B=>{const R=n.create(B);return B===d&&(c=R),R});h.length!==b.length&&kk.warnInvalidStyle({dropdown:e});const v=oo(s,fm),y=v.buttonView,I=y.arrowView;return uu(v,b,{enableActiveItemFocusOnDropdownOpen:!0}),y.set({label:Ix(g,c.label),class:null,tooltip:!0}),I.unbind("label"),I.set({label:g}),y.bind("icon").toMany(b,"isOn",(...B)=>{const R=B.findIndex(Ir);return R<0?c.icon:b[R].icon}),y.bind("label").toMany(b,"isOn",(...B)=>{const R=B.findIndex(Ir);return Ix(g,R<0?c.label:b[R].label)}),y.bind("isOn").toMany(b,"isOn",(...B)=>B.some(Ir)),y.bind("class").toMany(b,"isOn",(...B)=>B.some(Ir)?"ck-splitbutton_flatten":void 0),y.on("execute",()=>{b.some(({isOn:B})=>B)?v.isOpen=!v.isOpen:c.fire("execute")}),v.bind("isEnabled").toMany(b,"isEnabled",(...B)=>B.some(Ir)),this.listenTo(v,"execute",()=>{this.editor.editing.view.focus()}),v})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(Tx(t),n=>{const s=this.editor.commands.get("imageStyle"),c=new et(n);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>d===t),c.on("execute",this._executeCommand.bind(this,t)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Dx(o,e){for(const t of o)e[t.title]&&(t.title=e[t.title]);return o}function Tx(o){return`imageStyle:${o}`}function Ix(o,e){return(o?o+": ":"")+e}class H8 extends J{static get requires(){return[Ex,U8]}static get pluginName(){return"ImageStyle"}}class $8 extends J{static get requires(){return[Eu,qn]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Eu),s=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:W8(e.config.get("image.toolbar")||[]),getRelatedElement:c=>s.getClosestSelectedImageWidget(c)})}}function W8(o){return o.map(e=>Qe(e)?e.name:e)}class G8 extends J{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new v0(e)),e.commands.add("outdent",new v0(e))}}const Mx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Nx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class q8 extends J{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?Mx:Nx,c=t.uiLanguageDirection=="ltr"?Nx:Mx;this._defineButton("indent",n("Increase indent"),s),this._defineButton("outdent",n("Decrease indent"),c)}_defineButton(e,t,n){const s=this.editor;s.ui.componentFactory.add(e,c=>{const d=s.commands.get(e),h=new et(c);return h.set({label:t,icon:n,tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),this.listenTo(h,"execute",()=>{s.execute(e),s.editing.view.focus()}),h})}}class K8 extends J{static get pluginName(){return"Indent"}static get requires(){return[G8,q8]}}class Z8{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,s)=>{if(!s.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||s.schema.isInline(n.item)))return;const c=s.writer,d=c.document.selection;for(const h of this._definitions){const g=c.createAttributeElement("a",h.attributes,{priority:5});h.classes&&c.addClass(h.classes,g);for(const b in h.styles)c.setStyle(b,h.styles[b],g);c.setCustomProperty("link",!0,g),h.callback(n.attributeNewValue)?n.item.is("selection")?c.wrap(d.getFirstRange(),g):c.wrap(s.mapper.toViewRange(n.range),g):c.unwrap(s.mapper.toViewRange(n.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:s,mapper:c})=>{const d=c.toViewElement(n.item),h=Array.from(d.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const b=Ji(g.attributes);if(g.callback(n.attributeNewValue)){for(const[v,y]of b)v==="class"?s.addClass(y,h):s.setAttribute(v,y,h);g.classes&&s.addClass(g.classes,h);for(const v in g.styles)s.setStyle(v,g.styles[v],h)}else{for(const[v,y]of b)v==="class"?s.removeClass(y,h):s.removeAttribute(v,h);g.classes&&s.removeClass(g.classes,h);for(const v in g.styles)s.removeStyle(v,h)}}})}}}function Y8(o,e,t){var n=o.length;return t=t===void 0?n:t,!e&&t>=n?o:O0(o,e,t)}const Q8=Y8;var J8="\\ud800-\\udfff",X8="\\u0300-\\u036f",eV="\\ufe20-\\ufe2f",tV="\\u20d0-\\u20ff",nV=X8+eV+tV,iV="\\ufe0e\\ufe0f",oV="\\u200d",rV=RegExp("["+oV+J8+nV+iV+"]");function sV(o){return rV.test(o)}const Bx=sV;function aV(o){return o.split("")}const cV=aV;var Px="\\ud800-\\udfff",lV="\\u0300-\\u036f",dV="\\ufe20-\\ufe2f",uV="\\u20d0-\\u20ff",hV=lV+dV+uV,fV="\\ufe0e\\ufe0f",pV="["+Px+"]",wk="["+hV+"]",_k="\\ud83c[\\udffb-\\udfff]",gV="(?:"+wk+"|"+_k+")",Ox="[^"+Px+"]",zx="(?:\\ud83c[\\udde6-\\uddff]){2}",Lx="[\\ud800-\\udbff][\\udc00-\\udfff]",mV="\\u200d",jx=gV+"?",Rx="["+fV+"]?",kV="(?:"+mV+"(?:"+[Ox,zx,Lx].join("|")+")"+Rx+jx+")*",bV=Rx+jx+kV,wV="(?:"+[Ox+wk+"?",wk,zx,Lx,pV].join("|")+")",_V=RegExp(_k+"(?="+_k+")|"+wV+bV,"g");function vV(o){return o.match(_V)||[]}const AV=vV;function CV(o){return Bx(o)?AV(o):cV(o)}const yV=CV;function xV(o){return function(e){e=fg(e);var t=Bx(e)?yV(e):void 0,n=t?t[0]:e.charAt(0),s=t?Q8(t,1).join(""):e.slice(1);return n[o]()+s}}var EV=xV("toUpperCase");const SV=EV,DV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,TV=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,IV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,MV=/^((\w+:(\/{2,})?)|(\W))/i,vk="Ctrl+K";function NV(o){return o.is("attributeElement")&&!!o.getCustomProperty("link")}function Fx(o,{writer:e}){const t=e.createAttributeElement("a",{href:o},{priority:5});return e.setCustomProperty("link",!0,t),t}function Vx(o){const e=String(o);return BV(e)?e:"#"}function BV(o){return!!o.replace(DV,"").match(TV)}function PV(o,e){const t={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function OV(o){const e=[];if(o)for(const[t,n]of Object.entries(o)){const s=Object.assign({},n,{id:`link${SV(t)}`});e.push(s)}return e}function Ak(o,e){return o?e.checkAttribute(o.name,"linkHref"):!1}function zV(o){return IV.test(o)}function Ck(o,e){const t=zV(o)?"mailto:":e,n=!!t&&!Ux(o);return o&&n?t+o:o}function Ux(o){return MV.test(o)}function Hx(o){window.open(o,"_blank","noopener")}class LV extends Ce{constructor(){super(...arguments),this.manualDecorators=new ai,this.automaticDecorators=new Z8}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||St(t.getSelectedBlocks());Ak(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const n=this.editor.model,s=n.document.selection,c=[],d=[];for(const h in t)t[h]?c.push(h):d.push(h);n.change(h=>{if(s.isCollapsed){const g=s.getFirstPosition();if(s.hasAttribute("linkHref")){const b=$x(s);let v=js(g,"linkHref",s.getAttribute("linkHref"),n);s.getAttribute("linkHref")===b&&(v=this._updateLinkContent(n,h,v,e)),h.setAttribute("linkHref",e,v),c.forEach(y=>{h.setAttribute(y,!0,v)}),d.forEach(y=>{h.removeAttribute(y,v)}),h.setSelection(h.createPositionAfter(v.end.nodeBefore))}else if(e!==""){const b=Ji(s.getAttributes());b.set("linkHref",e),c.forEach(y=>{b.set(y,!0)});const{end:v}=n.insertContent(h.createText(e,b),g);h.setSelection(v)}["linkHref",...c,...d].forEach(b=>{h.removeSelectionAttribute(b)})}else{const g=n.schema.getValidRanges(s.getRanges(),"linkHref"),b=[];for(const y of s.getSelectedBlocks())n.schema.checkAttribute(y,"linkHref")&&b.push(h.createRangeOn(y));const v=b.slice();for(const y of g)this._isRangeToUpdate(y,b)&&v.push(y);for(const y of v){let I=y;if(v.length===1){const B=$x(s);s.getAttribute("linkHref")===B&&(I=this._updateLinkContent(n,h,y,e),h.setSelection(h.createSelection(I)))}h.setAttribute("linkHref",e,I),c.forEach(B=>{h.setAttribute(B,!0,I)}),d.forEach(B=>{h.removeAttribute(B,I)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,s=n.getSelectedElement();return Ak(s,t.schema)?s.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,s){const c=t.createText(s,{linkHref:s});return e.insertContent(c,n)}}function $x(o){if(o.isCollapsed){const e=o.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(o.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class jV extends Ce{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Ak(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,s=e.commands.get("link");t.change(c=>{const d=n.isCollapsed?[js(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const h of d)if(c.removeAttribute("linkHref",h),s)for(const g of s.manualDecorators)c.removeAttribute(g.id,h)})}}class RV extends Re(){constructor({id:e,label:t,attributes:n,classes:s,styles:c,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=t,this.attributes=n,this.classes=s,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Wx=a(3925),yk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yk.insert="head",yk.singleton=!0,ie()(Wx.Z,yk),Wx.Z.locals;const FV="ck-link_selected",Gx="automatic",VV="manual",UV=/^(https?:)?\/\//;class HV extends J{static get pluginName(){return"LinkEditing"}static get requires(){return[e1,Ky,ro]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Fx}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,c)=>Fx(Vx(s),c)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new LV(e)),e.commands.add("unlink",new jV(e));const t=PV(e.t,OV(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===Gx)),this._enableManualDecorators(t.filter(s=>s.mode===VV)),e.plugins.get(e1).registerAttribute("linkHref"),bF(e,"linkHref","a",FV),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:Gx,callback:c=>!!c&&UV.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(c=>{t.model.schema.extend("$text",{allowAttributes:c.id});const d=new RV(c);s.add(d),t.conversion.for("downcast").attributeToElement({model:d.id,view:(h,{writer:g,schema:b},{item:v})=>{if((v.is("selection")||b.isInline(v))&&h){const y=g.createAttributeElement("a",d.attributes,{priority:5});d.classes&&g.addClass(d.classes,y);for(const I in d.styles)g.setStyle(I,d.styles[I],y);return g.setCustomProperty("link",!0,y),y}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...d._createPattern()},model:{key:d.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(s,c)=>{if(!(m.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let h=c.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const g=h.getAttribute("href");g&&(s.stop(),c.preventDefault(),Hx(g))},{context:"$capture"}),this.listenTo(n,"keydown",(s,c)=>{const h=e.commands.get("link").value;h&&c.keyCode===De.enter&&c.altKey&&(s.stop(),Hx(h))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=n.anchor.nodeBefore,c=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(c&&c.hasAttribute("linkHref")||t.change(d=>{xk(d,Ek(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Hg);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const c=s.getFirstPosition(),d=js(c,"linkHref",s.getAttribute("linkHref"),t);(c.isTouching(d.start)||c.isTouching(d.end))&&t.change(h=>{xk(h,Ek(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;if(!c.isCollapsed){if(s){s=!1;return}qx(e)&&$V(e.model)&&(n=c.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[d])=>{s=!1,qx(e)&&n&&(e.model.change(h=>{for(const[g,b]of n)h.setAttribute(g,b,d)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,s=e.editing.view;let c=!1,d=!1;this.listenTo(s.document,"delete",(h,g)=>{d=g.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{c=!1;const h=n.getFirstPosition(),g=n.getAttribute("linkHref");if(!g)return;const b=js(h,"linkHref",g,t);c=b.containsPosition(h)||b.end.isEqual(h)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d&&(d=!1,!c&&e.model.enqueueChange(h=>{xk(h,Ek(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,c)=>{t.change(d=>{const h=d.createRangeIn(c.content);for(const g of h.getItems())if(g.hasAttribute("linkHref")){const b=Ck(g.getAttribute("linkHref"),n);d.setAttribute("linkHref",b,g)}})})}}function xk(o,e){o.removeSelectionAttribute("linkHref");for(const t of e)o.removeSelectionAttribute(t)}function $V(o){const e=o.document.selection,t=e.getFirstPosition(),n=e.getLastPosition(),s=t.nodeAfter;if(!s||!s.is("$text")||!s.hasAttribute("linkHref"))return!1;const c=n.textNode||n.nodeBefore;return s===c?!0:js(t,"linkHref",s.getAttribute("linkHref"),o).containsRange(o.createRange(t,n),!0)}function qx(o){return o.model.change(t=>t.batch).isTyping}function Ek(o){return o.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var Kx=a(4874),Sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sk.insert="head",Sk.singleton=!0,ie()(Kx.Z,Sk),Kx.Z.locals;class WV extends _e{constructor(e,t){super(e),this.focusTracker=new pn,this.keystrokes=new ci,this._focusables=new to;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Zg({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new lu(this.locale,hu);return t.label=e("Link URL"),t}_createButton(e,t,n,s){const c=new et(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const s=new cu(this.locale);s.set({name:n.id,label:n.label,withText:!0}),s.bind("isOn").toMany([n,e],"value",(c,d)=>d===void 0&&c===void 0?!!n.defaultValue:!!c),s.on("execute",()=>{n.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new _e;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var Zx=a(7536),Dk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dk.insert="head",Dk.singleton=!0,ie()(Zx.Z,Dk),Zx.Z.locals;const GV='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class qV extends _e{constructor(e){super(e),this.focusTracker=new pn,this.keystrokes=new ci,this._focusables=new to;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),GV,"unlink"),this.editButtonView=this._createButton(t("Edit link"),Ve.pencil,"edit"),this.set("href",void 0),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const s=new et(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,n),s}_createPreviewButton(){const e=new et(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&Vx(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||n("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const KV='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Pi="link-ui";class ZV extends J{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[mu]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(sR),this._balloon=e.plugins.get(mu),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Pi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Pi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new qV(e.locale),n=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(c,d)=>{this._hideUI(),d()}),t.keystrokes.set(vk,(c,d)=>{this._addFormView(),d()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),s=new(Kg(WV))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:c}=s.urlInputView.fieldView.element,d=Ck(c,n);e.execute("link",d,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(c,d)=>{this._closeFormView(),d()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",s=>{const c=new et(s);return c.isEnabled=!0,c.label=n("Link"),c.icon=KV,c.keystroke=vk,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(t,"isEnabled"),c.bind("isOn").to(t,"value",d=>!!d),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(vk,(n,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),qg({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),s=d();const c=()=>{const h=this._getSelectedLinkElement(),g=d();n&&!h||!n&&g!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=h,s=g};function d(){return t.selection.focus.getAncestors().reverse().find(h=>h.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let s;if(t.markers.has(Pi)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(Pi)),d=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));s=e.domConverter.viewRangeToDom(d)}else s=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&Ot(n))return Tk(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),c=Tk(s.start),d=Tk(s.end);return!c||c!=d?null:e.createRangeIn(c).getTrimmed().isEqual(s)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(Pi))t.updateMarker(Pi,{range:n});else if(n.start.isAtEnd){const s=n.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:n});t.addMarker(Pi,{usingOperation:!1,affectsData:!1,range:t.createRange(s,n.end)})}else t.addMarker(Pi,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Pi)&&e.change(t=>{t.removeMarker(Pi)})}}function Tk(o){return o.getAncestors().find(e=>NV(e))||null}const YV=4,QV=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),JV=2;class Yx extends J{static get requires(){return[Bi]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new mF(e.model,n=>{if(!XV(n))return;const s=Qx(n.substr(0,n.length-1));if(s)return{url:s}});t.on("matched:data",(n,s)=>{const{batch:c,range:d,url:h}=s;if(!c.isTyping)return;const g=d.end.getShiftedBy(-1),b=g.getShiftedBy(-h.length),v=e.model.createRange(b,g);this._applyAutoLink(h,v)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const c=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition(),c=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:s}=Xy(e,t),c=Qx(n);if(c){const d=t.createRange(s.end.getShiftedBy(-c.length),s.end);this._applyAutoLink(c,d)}}_applyAutoLink(e,t){const n=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),c=Ck(e,s);!this.isEnabled||!e9(t,n)||!Ux(c)||t9(t)||this._persistAutoLink(c,t)}_persistAutoLink(e,t){const n=this.editor.model,s=this.editor.plugins.get("Delete");n.enqueueChange(c=>{c.setAttribute("linkHref",e,t),n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function XV(o){return o.length>YV&&o[o.length-1]===" "&&o[o.length-2]!==" "}function Qx(o){const e=QV.exec(o);return e?e[JV]:null}function e9(o,e){return e.schema.checkAttributeInSelection(e.createSelection(o),"linkHref")}function t9(o){const e=o.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class n9 extends J{static get requires(){return[HV,ZV,Yx]}static get pluginName(){return"Link"}}var Jx=a(4330),Ik={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ik.insert="head",Ik.singleton=!0,ie()(Jx.Z,Ik),Jx.Z.locals;var Xx=a(3190),Mk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mk.insert="head",Mk.singleton=!0,ie()(Xx.Z,Mk),Xx.Z.locals;var eE=a(4784),Nk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nk.insert="head",Nk.singleton=!0,ie()(eE.Z,Nk),eE.Z.locals;function i9(o){const e=o.createContainerElement("li");return e.getFillerOffset=d9,e}function o9(o,e){const t=e.mapper,n=e.writer,s=o.getAttribute("listType")=="numbered"?"ol":"ul",c=i9(n),d=n.createContainerElement(s,null);return n.insert(n.createPositionAt(d,0),c),t.bindElements(o,c),c}function tE(o,e,t,n){const s=e.parent,c=t.mapper,d=t.writer;let h=c.toViewPosition(n.createPositionBefore(o));const g=iE(o.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:o.getAttribute("listIndent")}),b=o.previousSibling;if(g&&g.getAttribute("listIndent")==o.getAttribute("listIndent")){const v=c.toViewElement(g);h=d.breakContainer(d.createPositionAfter(v))}else if(b&&b.name=="listItem"){h=c.toViewPosition(n.createPositionAt(b,"end"));const v=c.findMappedViewAncestor(h),y=r9(v);y?h=d.createPositionBefore(y):h=d.createPositionAt(v,"end")}else h=c.toViewPosition(n.createPositionBefore(o));if(h=nE(h),d.insert(h,s),b&&b.name=="listItem"){const v=c.toViewElement(b),I=d.createRange(d.createPositionAt(v,0),h).getWalker({ignoreElementEnd:!0});for(const B of I)if(B.item.is("element","li")){const R=d.breakContainer(d.createPositionBefore(B.item)),V=B.item.parent,q=d.createPositionAt(e,"end");Kn(d,q.nodeBefore,q.nodeAfter),d.move(d.createRangeOn(V),q),I._position=R}}else{const v=s.nextSibling;if(v&&(v.is("element","ul")||v.is("element","ol"))){let y=null;for(const I of v.getChildren()){const B=c.toModelElement(I);if(B&&B.getAttribute("listIndent")>o.getAttribute("listIndent"))y=I;else break}y&&(d.breakContainer(d.createPositionAfter(y)),d.move(d.createRangeOn(y.parent),d.createPositionAt(e,"end")))}}Kn(d,s,s.nextSibling),Kn(d,s.previousSibling,s)}function Kn(o,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:o.mergeContainers(o.createPositionAfter(e))}function nE(o){return o.getLastMatchingPosition(e=>e.item.is("uiElement"))}function iE(o,e){const t=!!e.sameIndent,n=!!e.smallerIndent,s=e.listIndent;let c=o;for(;c&&c.name=="listItem";){const d=c.getAttribute("listIndent");if(t&&s==d||n&&s>d)return c;e.direction==="forward"?c=c.nextSibling:c=c.previousSibling}return null}function oE(o,e,t,n){o.ui.componentFactory.add(e,s=>{const c=o.commands.get(e),d=new et(s);return d.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.on("execute",()=>{o.execute(e),o.editing.view.focus()}),d})}function r9(o){for(const e of o.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Bk(o,e){const t=[],n=o.parent,s={ignoreElementEnd:!1,startPosition:o,shallow:!0,direction:e},c=n.getAttribute("listIndent"),d=[...new Mi(s)].filter(h=>h.item.is("element")).map(h=>h.item);for(const h of d){if(!h.is("element","listItem")||h.getAttribute("listIndent")<c)break;if(!(h.getAttribute("listIndent")>c)){if(h.getAttribute("listType")!==n.getAttribute("listType")||h.getAttribute("listStyle")!==n.getAttribute("listStyle")||h.getAttribute("listReversed")!==n.getAttribute("listReversed")||h.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(h):t.push(h)}}return t}function s9(o){let t=[...o.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const s=o.change(c=>c.createPositionAt(n,0));return[...Bk(s,"backward"),...Bk(s,"forward")]}).flat();return t=[...new Set(t)],t}const a9=["disc","circle","square"],c9=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function l9(o){return a9.includes(o)?"bulleted":c9.includes(o)?"numbered":null}function d9(){const o=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||o?0:V0.call(this)}const u9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',h9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class f9 extends J{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;oE(this.editor,"numberedList",e("Numbered List"),u9),oE(this.editor,"bulletedList",e("Bulleted List"),h9)}}const p9=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:o,typeAttribute:e,listType:t}of p9);var rE=a(5782),Pk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Pk.insert="head",Pk.singleton=!0,ie()(rE.Z,Pk),rE.Z.locals;var sE=a(9938),Ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ok.insert="head",Ok.singleton=!0,ie()(sE.Z,Ok),sE.Z.locals;var aE=a(2591),zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zk.insert="head",zk.singleton=!0,ie()(aE.Z,zk),aE.Z.locals;class cE extends Ce{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const c=n[n.length-1];let d=c.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>c.getAttribute("listIndent");)n.push(d),d=d.nextSibling;this._indentBy<0&&(n=n.reverse());for(const h of n){const g=h.getAttribute("listIndent")+this._indentBy;g<0?s.rename(h,"paragraph"):s.setAttribute("listIndent",g,h)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=St(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==n;s=s.previousSibling}return!1}return!0}}class lE extends Ce{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,s=Array.from(n.selection.getSelectedBlocks()).filter(d=>uE(d,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(c){let h=s[s.length-1].nextSibling,g=Number.POSITIVE_INFINITY,b=[];for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")!==0;){const v=h.getAttribute("listIndent");v<g&&(g=v);const y=v-g;b.push({element:h,listIndent:y}),h=h.nextSibling}b=b.reverse();for(const v of b)d.setAttribute("listIndent",v.listIndent,v.element)}if(!c){let h=Number.POSITIVE_INFINITY;for(const g of s)g.is("element","listItem")&&g.getAttribute("listIndent")<h&&(h=g.getAttribute("listIndent"));h=h===0?1:h,dE(s,!0,h),dE(s,!1,h)}for(const h of s.reverse())c&&h.name=="listItem"?d.rename(h,"paragraph"):!c&&h.name!="listItem"?(d.setAttributes({listType:this.type,listIndent:0},h),d.rename(h,"listItem")):!c&&h.name=="listItem"&&h.getAttribute("listType")!=this.type&&d.setAttribute("listType",this.type,h);this.fire("_executeCleanup",s)})}_getValue(){const e=St(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=St(e.getSelectedBlocks());return n?uE(n,t):!1}}function dE(o,e,t){const n=e?o[0]:o[o.length-1];if(n.is("element","listItem")){let s=n[e?"previousSibling":"nextSibling"],c=n.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)c>s.getAttribute("listIndent")&&(c=s.getAttribute("listIndent")),s.getAttribute("listIndent")==c&&o[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function uE(o,e){return e.checkChild(o.parent,"listItem")&&!e.isObject(o)}class g9 extends J{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return l9(e)}getSelectedListItems(e){return s9(e)}getSiblingNodes(e,t){return Bk(e,t)}}function hE(o){return(e,t,n)=>{const s=n.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const c=t.item,d=o9(c,n);tE(c,d,n,o)}}function m9(o){return(e,t,n)=>{const d=n.mapper.toViewPosition(t.position).getLastMatchingPosition(B=>!B.item.is("element","li")).nodeAfter,h=n.writer;h.breakContainer(h.createPositionBefore(d)),h.breakContainer(h.createPositionAfter(d));const g=d.parent,b=g.previousSibling,v=h.createRangeOn(g),y=h.remove(v);b&&b.nextSibling&&Kn(h,b,b.nextSibling);const I=n.mapper.toModelElement(d);mE(I.getAttribute("listIndent")+1,t.position,v.start,d,n,o);for(const B of h.createRangeIn(y).getItems())n.mapper.unbindViewElement(B);e.stop()}}const k9=(o,e,t)=>{if(!t.consumable.test(e.item,o.name))return;const n=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(n)),s.breakContainer(s.createPositionAfter(n));const c=n.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(d,c)},b9=(o,e,t)=>{t.consumable.consume(e.item,o.name);const s=t.mapper.toViewElement(e.item).parent,c=t.writer;Kn(c,s,s.nextSibling),Kn(c,s.previousSibling,s)};function w9(o){return(e,t,n)=>{if(!n.consumable.consume(t.item,"attribute:listIndent"))return;const s=n.mapper.toViewElement(t.item),c=n.writer;c.breakContainer(c.createPositionBefore(s)),c.breakContainer(c.createPositionAfter(s));const d=s.parent,h=d.previousSibling,g=c.createRangeOn(d);c.remove(g),h&&h.nextSibling&&Kn(c,h,h.nextSibling),mE(t.attributeOldValue+1,t.range.start,g.start,s,n,o),tE(t.item,s,n,o);for(const b of t.item.getChildren())n.consumable.consume(b,"insert")}}const fE=(o,e,t)=>{if(t.consumable.test(e.item,o.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const s=t.writer,c=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=s.breakContainer(n),n.parent.name=="li");){const d=n,h=s.createPositionAt(n.parent,"end");if(!d.isEqual(h)){const g=s.remove(s.createRange(d,h));c.push(g)}n=s.createPositionAfter(n.parent)}if(c.length>0){for(let d=0;d<c.length;d++){const h=n.nodeBefore;if(n=s.insert(n,c[d]).end,d>0){const b=Kn(s,h,h.nextSibling);b&&b.parent==h&&n.offset--}}Kn(s,n.nodeBefore,n.nodeAfter)}}},_9=(o,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=n.nodeBefore,c=n.nodeAfter;Kn(t.writer,s,c)},v9=(o,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,s=n.createElement("listItem"),c=D9(e.viewItem);n.setAttribute("listIndent",c,s);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",d,s),!t.safeInsert(s,e.modelCursor))return;const h=E9(s,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,h),t.updateConversionResult(s,e)}},pE=(o,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const s of n)!(s.is("element","li")||Us(s))&&s._remove()}},A9=(o,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let s=!1;for(const c of n)s&&!Us(c)&&c._remove(),Us(c)&&(s=!0)}};function gE(o){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const s=t.mapper.toViewElement(n),c=s.getAncestors().find(Us),d=o.createPositionAt(s,0).getWalker();for(const h of d)if(h.type=="elementStart"&&h.item.is("element","li")){t.viewPosition=h.previousPosition;break}else if(h.type=="elementEnd"&&h.item==c){t.viewPosition=h.nextPosition;break}}}}function C9(o){return(e,t)=>{const n=t.viewPosition,s=n.parent,c=t.mapper;if(s.name=="ul"||s.name=="ol"){if(n.isAtEnd){const d=c.toModelElement(n.nodeBefore),h=c.getModelLength(n.nodeBefore);t.modelPosition=o.createPositionBefore(d).getShiftedBy(h)}else{const d=c.toModelElement(n.nodeAfter);t.modelPosition=o.createPositionBefore(d)}e.stop()}else if(s.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const d=c.toModelElement(s);let h=1,g=n.nodeBefore;for(;g&&Us(g);)h+=c.getModelLength(g),g=g.previousSibling;t.modelPosition=o.createPositionBefore(d).getShiftedBy(h),e.stop()}}}function y9(o,e){const t=o.document.differ.getChanges(),n=new Map;let s=!1;for(const g of t)if(g.type=="insert"&&g.name=="listItem")c(g.position);else if(g.type=="insert"&&g.name!="listItem"){if(g.name!="$text"){const v=g.position.nodeAfter;v.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",v),s=!0),v.hasAttribute("listType")&&(e.removeAttribute("listType",v),s=!0),v.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",v),s=!0),v.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",v),s=!0),v.hasAttribute("listStart")&&(e.removeAttribute("listStart",v),s=!0);for(const y of Array.from(o.createRangeIn(v)).filter(I=>I.item.is("element","listItem")))c(y.previousPosition)}const b=g.position.getShiftedBy(g.length);c(b)}else g.type=="remove"&&g.name=="listItem"?c(g.position):(g.type=="attribute"&&g.attributeKey=="listIndent"||g.type=="attribute"&&g.attributeKey=="listType")&&c(g.range.start);for(const g of n.values())d(g),h(g);return s;function c(g){const b=g.nodeBefore;if(!b||!b.is("element","listItem")){const v=g.nodeAfter;v&&v.is("element","listItem")&&n.set(v,v)}else{let v=b;if(n.has(v))return;for(let y=v.previousSibling;y&&y.is("element","listItem");y=v.previousSibling)if(v=y,n.has(v))return;n.set(b,v)}}function d(g){let b=0,v=null;for(;g&&g.is("element","listItem");){const y=g.getAttribute("listIndent");if(y>b){let I;v===null?(v=y-b,I=b):(v>y&&(v=y),I=y-v),e.setAttribute("listIndent",I,g),s=!0}else v=null,b=g.getAttribute("listIndent")+1;g=g.nextSibling}}function h(g){let b=[],v=null;for(;g&&g.is("element","listItem");){const y=g.getAttribute("listIndent");if(v&&v.getAttribute("listIndent")>y&&(b=b.slice(0,y+1)),y!=0)if(b[y]){const I=b[y];g.getAttribute("listType")!=I&&(e.setAttribute("listType",I,g),s=!0)}else b[y]=g.getAttribute("listType");v=g,g=g.nextSibling}}}const x9=function(o,[e,t]){const n=this;let s=e.is("documentFragment")?e.getChild(0):e,c;if(t?c=n.createSelection(t):c=n.document.selection,s&&s.is("element","listItem")){const d=c.getFirstPosition();let h=null;if(d.parent.is("element","listItem")?h=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(h=d.nodeBefore),h){const g=h.getAttribute("listIndent");if(g>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+g),s=s.nextSibling}}};function E9(o,e,t){const{writer:n,schema:s}=t;let c=n.createPositionAfter(o);for(const d of e)if(d.name=="ul"||d.name=="ol")c=t.convertItem(d,c).modelCursor;else{const h=t.convertItem(d,n.createPositionAt(o,"end")),g=h.modelRange.start.nodeAfter;g&&g.is("element")&&!s.checkChild(o,g.name)&&(h.modelCursor.parent.is("element","listItem")?o=h.modelCursor.parent:o=S9(h.modelCursor),c=n.createPositionAfter(o))}return c}function S9(o){const e=new Mi({startPosition:o});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function mE(o,e,t,n,s,c){const d=iE(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:o}),h=s.mapper,g=s.writer,b=d?d.getAttribute("listIndent"):null;let v;if(!d)v=t;else if(b==o){const y=h.toViewElement(d).parent;v=g.createPositionAfter(y)}else{const y=c.createPositionAt(d,"end");v=h.toViewPosition(y)}v=nE(v);for(const y of[...n.getChildren()])Us(y)&&(v=g.move(g.createRangeOn(y),v).end,Kn(g,y,y.nextSibling),Kn(g,y.previousSibling,y))}function Us(o){return o.is("element","ol")||o.is("element","ul")}function D9(o){let e=0,t=o.parent;for(;t;){if(t.is("element","li"))e++;else{const n=t.previousSibling;n&&n.is("element","li")&&e++}t=t.parent}return e}class T9 extends J{static get pluginName(){return"ListEditing"}static get requires(){return[Cu,Bi,g9]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;e.model.document.registerPostFixer(c=>y9(e.model,c)),n.mapper.registerViewToModelLength("li",Lk),t.mapper.registerViewToModelLength("li",Lk),n.mapper.on("modelToViewPosition",gE(n.view)),n.mapper.on("viewToModelPosition",C9(e.model)),t.mapper.on("modelToViewPosition",gE(n.view)),e.conversion.for("editingDowncast").add(c=>{c.on("insert",fE,{priority:"high"}),c.on("insert:listItem",hE(e.model)),c.on("attribute:listType:listItem",k9,{priority:"high"}),c.on("attribute:listType:listItem",b9,{priority:"low"}),c.on("attribute:listIndent:listItem",w9(e.model)),c.on("remove:listItem",m9(e.model)),c.on("remove",_9,{priority:"low"})}),e.conversion.for("dataDowncast").add(c=>{c.on("insert",fE,{priority:"high"}),c.on("insert:listItem",hE(e.model))}),e.conversion.for("upcast").add(c=>{c.on("element:ul",pE,{priority:"high"}),c.on("element:ol",pE,{priority:"high"}),c.on("element:li",A9,{priority:"high"}),c.on("element:li",v9)}),e.model.on("insertContent",x9,{priority:"high"}),e.commands.add("numberedList",new lE(e,"numbered")),e.commands.add("bulletedList",new lE(e,"bulleted")),e.commands.add("indentList",new cE(e,"forward")),e.commands.add("outdentList",new cE(e,"backward"));const s=n.view.document;this.listenTo(s,"enter",(c,d)=>{const h=this.editor.model.document,g=h.selection.getLastPosition().parent;h.selection.isCollapsed&&g.name=="listItem"&&g.isEmpty&&(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(s,"delete",(c,d)=>{if(d.direction!=="backward")return;const h=this.editor.model.document.selection;if(!h.isCollapsed)return;const g=h.getFirstPosition();if(!g.isAtStart)return;const b=g.parent;b.name!=="listItem"||b.previousSibling&&b.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(c,d)=>{const h=d.shiftKey?"outdentList":"indentList";this.editor.commands.get(h).isEnabled&&(e.execute(h),d.stopPropagation(),d.preventDefault(),c.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function Lk(o){let e=1;for(const t of o.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=Lk(n);return e}class I9 extends J{static get requires(){return[T9,f9]}static get pluginName(){return"List"}}hc("Ctrl+Enter");var kE=a(9292),jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jk.insert="head",jk.singleton=!0,ie()(kE.Z,jk),kE.Z.locals,hc("Ctrl+Enter");function bE(o,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=s.attributeNewValue,h=c.writer,g=c.mapper.toViewElement(s.item),b=[...g.getChildren()].find(y=>y.getCustomProperty("media-content"));h.remove(b);const v=o.getMediaViewElement(h,d,e);h.insert(h.createPositionAt(g,0),v)};return n=>{n.on("attribute:url:media",t)}}function M9(o,e,t){return e.setCustomProperty("media",!0,o),Zm(o,e,{label:t})}function wE(o,e,t,n){return o.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(o,t,n),o.createSlot()])}function _E(o){const e=o.getSelectedElement();return e&&e.is("element","media")?e:null}function vE(o,e,t,n){o.change(s=>{const c=s.createElement("media",{url:e});o.insertObject(c,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class N9 extends Ce{refresh(){const e=this.editor.model,t=e.document.selection,n=_E(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=P9(t)||B9(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,s=_E(n);s?t.change(c=>{c.setAttribute("url",e,s)}):vE(t,e,n,!0)}}function B9(o,e){let n=k1(o,e).start.parent;return n.isEmpty&&!e.schema.isLimit(n)&&(n=n.parent),e.schema.checkChild(n,"media")}function P9(o){const e=o.getSelectedElement();return!!e&&e.name==="media"}const O9='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',z9="0 0 64 42";class L9{constructor(e,t){const n=t.providers,s=t.extraProviders||[],c=new Set(t.removeProviders),d=n.concat(s).filter(h=>{const g=h.name;return g?!c.has(g):(Ie("media-embed-no-provider-name",{provider:h}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new AE(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,s=Rt(t.url);for(const c of s){const d=this._getUrlMatches(e,c);if(d)return new AE(this.locale,e,d,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let s=e.replace(/^https?:\/\//,"");return n=s.match(t),n||(s=s.replace(/^www\./,""),n=s.match(t),n)?n:null}}class AE{constructor(e,t,n,s){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=s}getViewElement(e,t){const n={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const c=this._getPreviewHtml(t);s=e.createRawElement("div",n,(d,h)=>{h.setContentOf(d,c)})}else this.url&&(n.url=this.url),s=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new io,t=this._locale.t;return e.content=O9,e.viewBox=z9,new no({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var CE=a(1922),Rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rk.insert="head",Rk.singleton=!0,ie()(CE.Z,Rk),CE.Z.locals;class Nu extends J{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new L9(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,s=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),h=this.registry;e.commands.add("mediaEmbed",new N9(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(g,{writer:b})=>{const v=g.getAttribute("url");return wE(b,h,v,{elementName:d,renderMediaPreview:!!v&&c})}}),s.for("dataDowncast").add(bE(h,{elementName:d,renderMediaPreview:c})),s.for("editingDowncast").elementToStructure({model:"media",view:(g,{writer:b})=>{const v=g.getAttribute("url"),y=wE(b,h,v,{elementName:d,renderForEditingView:!0});return M9(y,b,n("media widget"))}}),s.for("editingDowncast").add(bE(h,{elementName:d,renderForEditingView:!0})),s.for("upcast").elementToElement({view:g=>["oembed",d].includes(g.name)&&g.getAttribute("url")?{name:!0}:null,model:(g,{writer:b})=>{const v=g.getAttribute("url");return h.hasMedia(v)?b.createElement("media",{url:v}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(g,{writer:b})=>{const v=g.getAttribute("data-oembed-url");return h.hasMedia(v)?b.createElement("media",{url:v}):null}}).add(g=>{const b=(v,y,I)=>{if(!I.consumable.consume(y.viewItem,{name:!0,classes:"media"}))return;const{modelRange:B,modelCursor:R}=I.convertChildren(y.viewItem,y.modelCursor);y.modelRange=B,y.modelCursor=R,St(B.getItems())||I.consumable.revert(y.viewItem,{name:!0,classes:"media"})};g.on("element:figure",b)})}}const j9=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class R9 extends J{static get requires(){return[tk,Bi,nk]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const c=t.selection.getFirstRange(),d=Tt.fromPosition(c.start);d.stickiness="toPrevious";const h=Tt.fromPosition(c.end);h.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(d,h),d.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(he.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,s=n.plugins.get(Nu).registry,c=new gn(e,t),d=c.getWalker({ignoreElementEnd:!0});let h="";for(const b of d)b.item.is("$textProxy")&&(h+=b.item.data);if(h=h.trim(),!h.match(j9)){c.detach();return}if(!s.hasMedia(h)){c.detach();return}if(!n.commands.get("mediaEmbed").isEnabled){c.detach();return}this._positionToInsert=Tt.fromPosition(e),this._timeoutId=he.window.setTimeout(()=>{n.model.change(b=>{this._timeoutId=null,b.remove(c),c.detach();let v=null;this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert),vE(n.model,h,v,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Bi).requestUndoOnBackspace()},100)}}var yE=a(7138),Fk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fk.insert="head",Fk.singleton=!0,ie()(yE.Z,Fk),yE.Z.locals;class F9 extends _e{constructor(e,t){super(t);const n=t.t;this.focusTracker=new pn,this.keystrokes=new ci,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(n("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new to,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Zg({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const t=n=>n.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new lu(this.locale,hu),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,s){const c=new et(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}}const V9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class U9 extends J{static get requires(){return[Nu]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const s=oo(n);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const n=this.editor,s=n.t,c=e.buttonView,d=n.plugins.get(Nu).registry;e.once("change:isOpen",()=>{const h=new(Kg(F9))(H9(n.t,d),n.locale);e.panelView.children.add(h),c.on("open",()=>{h.disableCssTransitions(),h.url=t.value||"",h.urlInputView.fieldView.select(),h.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{h.isValid()&&(n.execute("mediaEmbed",h.url),n.editing.view.focus())}),e.on("change:isOpen",()=>h.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),h.delegate("submit","cancel").to(e),h.urlInputView.fieldView.bind("value").to(t,"value"),h.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),c.set({label:s("Insert media"),icon:V9,tooltip:!0})}}function H9(o,e){return[t=>{if(!t.url.length)return o("The URL must not be empty.")},t=>{if(!e.hasMedia(t.url))return o("This media URL is not supported.")}]}var xE=a(8705),Vk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vk.insert="head",Vk.singleton=!0,ie()(xE.Z,Vk),xE.Z.locals;class $9 extends J{static get requires(){return[Nu,U9,R9,zc]}static get pluginName(){return"MediaEmbed"}}function bt(o,e,t,n,s=1){e!=null&&s!==void 0&&s!==null&&e>s?n.setAttribute(o,e,t):n.removeAttribute(o,t)}function Rr(o,e,t={}){const n=o.createElement("tableCell",t);return o.insertElement("paragraph",n),o.insert(n,e),n}function Uk(o,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:s}=o.getCellLocation(e);return!!n&&s<n}function W9(){return o=>{o.on("element:figure",(e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const s=K9(t.viewItem);if(!s||!n.consumable.test(s,{name:!0}))return;n.consumable.consume(t.viewItem,{name:!0,classes:"table"});const c=n.convertItem(s,t.modelCursor),d=St(c.modelRange.getItems());if(!d){n.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}n.convertChildren(t.viewItem,n.writer.createPositionAt(d,"end")),n.updateConversionResult(d,t)})}}function G9(){return o=>{o.on("element:table",(e,t,n)=>{const s=t.viewItem;if(!n.consumable.test(s,{name:!0}))return;const{rows:c,headingRows:d,headingColumns:h}=Z9(s),g={};h&&(g.headingColumns=h),d&&(g.headingRows=d);const b=n.writer.createElement("table",g);if(n.safeInsert(b,t.modelCursor)){if(n.consumable.consume(s,{name:!0}),c.forEach(v=>n.convertItem(v,n.writer.createPositionAt(b,"end"))),n.convertChildren(s,n.writer.createPositionAt(b,"end")),b.isEmpty){const v=n.writer.createElement("tableRow");n.writer.insert(v,n.writer.createPositionAt(b,"end")),Rr(n.writer,n.writer.createPositionAt(v,"end"))}n.updateConversionResult(b,t)}})}}function q9(){return o=>{o.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function EE(o){return e=>{e.on(`element:${o}`,(t,n,{writer:s})=>{if(!n.modelRange)return;const c=n.modelRange.start.nodeAfter,d=s.createPositionAt(c,0);if(n.viewItem.isEmpty){s.insertElement("paragraph",d);return}const h=Array.from(c.getChildren());if(h.every(g=>g.is("element","$marker"))){const g=s.createElement("paragraph");s.insert(g,s.createPositionAt(c,0));for(const b of h)s.move(s.createRangeOn(b),s.createPositionAt(g,"end"))}},{priority:"low"})}}function K9(o){for(const e of o.getChildren())if(e.is("element","table"))return e}function Z9(o){let e=0,t;const n=[],s=[];let c;for(const d of Array.from(o.getChildren())){if(d.name!=="tbody"&&d.name!=="thead"&&d.name!=="tfoot")continue;d.name==="thead"&&!c&&(c=d);const h=Array.from(d.getChildren()).filter(g=>g.is("element","tr"));for(const g of h)if(c&&d===c||d.name==="tbody"&&Array.from(g.getChildren()).length&&Array.from(g.getChildren()).every(b=>b.is("element","th")))e++,n.push(g);else{s.push(g);const b=Y9(g);(!t||b<t)&&(t=b)}}return{headingRows:e,headingColumns:t||0,rows:[...n,...s]}}function Y9(o){let e=0,t=0;const n=Array.from(o.getChildren()).filter(s=>s.name==="th"||s.name==="td");for(;t<n.length&&n[t].name==="th";){const s=n[t],c=parseInt(s.getAttribute("colspan")||"1");e=e+c,t++}return e}class Ue{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const s=e.getChild(this._cellIndex);if(!s)return this._advanceToNextRow();const c=parseInt(s.getAttribute("colspan")||"1"),d=parseInt(s.getAttribute("rowspan")||"1");(c>1||d>1)&&this._recordSpans(s,d,c),this._shouldSkipSlot()||(t=this._formatOutValue(s)),this._nextCellAtColumn=this._column+c}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new Q9(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,s=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||s}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const s={cell:e,row:this._row,column:this._column};for(let c=this._row;c<this._row+t;c++)for(let d=this._column;d<this._column+n;d++)(c!=this._row||d!=this._column)&&this._markSpannedCell(c,d,s)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((n,s)=>n+parseInt(s.getAttribute("colspan")||"1"),0)}}class Q9{constructor(e,t,n,s){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=s,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function SE(o,e){return(t,{writer:n})=>{const s=t.getAttribute("headingRows")||0,c=n.createContainerElement("table",null,[]),d=n.createContainerElement("figure",{class:"table"},c);s>0&&n.insert(n.createPositionAt(c,"end"),n.createContainerElement("thead",null,n.createSlot(h=>h.is("element","tableRow")&&h.index<s))),s<o.getRows(t)&&n.insert(n.createPositionAt(c,"end"),n.createContainerElement("tbody",null,n.createSlot(h=>h.is("element","tableRow")&&h.index>=s)));for(const{positionOffset:h,filter:g}of e.additionalSlots)n.insert(n.createPositionAt(c,h),n.createSlot(g));return n.insert(n.createPositionAt(c,"after"),n.createSlot(h=>h.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:g})=>g(h)))),e.asWidget?X9(d,n):d}}function J9(){return(o,{writer:e})=>o.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function DE(o={}){return(e,{writer:t})=>{const n=e.parent,s=n.parent,c=s.getChildIndex(n),d=new Ue(s,{row:c}),h=s.getAttribute("headingRows")||0,g=s.getAttribute("headingColumns")||0;let b=null;for(const v of d)if(v.cell==e){const I=v.row<h||v.column<g?"th":"td";b=o.asWidget?m1(t.createEditableElement(I),t):t.createContainerElement(I);break}return b}}function TE(o={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!IE(e))return null;if(o.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function IE(o){return o.parent.childCount==1&&!eU(o)}function X9(o,e){return e.setCustomProperty("table",!0,o),Zm(o,e,{hasSelectionHandle:!0})}function eU(o){return!o.getAttributeKeys().next().done}class tU extends Ce{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=nU(t,n)}execute(e={}){const t=this.editor,n=t.model,s=t.plugins.get("TableUtils"),c=t.config.get("table.defaultHeadings.rows"),d=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&c&&(e.headingRows=c),e.headingColumns===void 0&&d&&(e.headingColumns=d),n.change(h=>{const g=s.createTable(h,e);n.insertObject(g,null,null,{findOptimalPosition:"auto"}),h.setSelection(h.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}function nU(o,e){const t=o.getFirstPosition().parent,n=t===t.root?t:t.parent;return e.checkChild(n,"table")}class ME extends Ce{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),s=this.order==="above",c=n.getSelectionAffectedTableCells(t),d=n.getRowIndexes(c),h=s?d.first:d.last,g=c[0].findAncestor("table");n.insertRows(g,{at:s?h:h+1,copyStructureFromAbove:!s})}}class NE extends Ce{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),s=this.order==="left",c=n.getSelectionAffectedTableCells(t),d=n.getColumnIndexes(c),h=s?d.first:d.last,g=c[0].findAncestor("table");n.insertColumns(g,{columns:1,at:s?h:h+1})}}class BE extends Ce{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function PE(o,e,t){const{startRow:n,startColumn:s,endRow:c,endColumn:d}=e,h=t.createElement("table"),g=c-n+1;for(let v=0;v<g;v++)t.insertElement("tableRow",h,"end");const b=[...new Ue(o,{startRow:n,endRow:c,startColumn:s,endColumn:d,includeAllSlots:!0})];for(const{row:v,column:y,cell:I,isAnchor:B,cellAnchorRow:R,cellAnchorColumn:V}of b){const q=v-n,Y=h.getChild(q);if(!B)(R<n||V<s)&&Rr(t,t.createPositionAt(Y,"end"));else{const ae=t.cloneElement(I);t.append(ae,Y),RE(ae,v,y,c,d,t)}}return iU(h,o,n,s,t),h}function OE(o,e,t=0){const n=[],s=new Ue(o,{startRow:t,endRow:e-1});for(const c of s){const{row:d,cellHeight:h}=c,g=d+h-1;d<e&&e<=g&&n.push(c)}return n}function zE(o,e,t){const n=o.parent,s=n.parent,c=n.index,d=parseInt(o.getAttribute("rowspan")),h=e-c,g={},b=d-h;b>1&&(g.rowspan=b);const v=parseInt(o.getAttribute("colspan")||"1");v>1&&(g.colspan=v);const y=c,I=y+h,B=[...new Ue(s,{startRow:y,endRow:I,includeAllSlots:!0})];let R=null,V;for(const q of B){const{row:Y,column:ae,cell:ye}=q;ye===o&&V===void 0&&(V=ae),V!==void 0&&V===ae&&Y===I&&(R=Rr(t,q.getPositionBefore(),g))}return bt("rowspan",h,o,t),R}function LE(o,e){const t=[],n=new Ue(o);for(const s of n){const{column:c,cellWidth:d}=s,h=c+d-1;c<e&&e<=h&&t.push(s)}return t}function jE(o,e,t,n){const s=parseInt(o.getAttribute("colspan")),c=t-e,d={},h=s-c;h>1&&(d.colspan=h);const g=parseInt(o.getAttribute("rowspan")||"1");g>1&&(d.rowspan=g);const b=Rr(n,n.createPositionAfter(o),d);return bt("colspan",c,o,n),b}function RE(o,e,t,n,s,c){const d=parseInt(o.getAttribute("colspan")||"1"),h=parseInt(o.getAttribute("rowspan")||"1");if(t+d-1>s){const v=s-t+1;bt("colspan",v,o,c,1)}if(e+h-1>n){const v=n-e+1;bt("rowspan",v,o,c,1)}}function iU(o,e,t,n,s){const c=parseInt(e.getAttribute("headingRows")||"0");if(c>0){const h=c-t;bt("headingRows",h,o,s,0)}const d=parseInt(e.getAttribute("headingColumns")||"0");if(d>0){const h=d-n;bt("headingColumns",h,o,s,0)}}function Hk(o,e){const t=e.getColumns(o),n=new Array(t).fill(0);for(const{column:c}of new Ue(o))n[c]++;const s=n.reduce((c,d,h)=>d?c:[...c,h],[]);if(s.length>0){const c=s[s.length-1];return e.removeColumns(o,{at:c}),!0}return!1}function $k(o,e){const t=[],n=e.getRows(o);for(let s=0;s<n;s++)o.getChild(s).isEmpty&&t.push(s);if(t.length>0){const s=t[t.length-1];return e.removeRows(o,{at:s}),!0}return!1}function Wk(o,e){Hk(o,e)||$k(o,e)}function FE(o,e){const t=Array.from(new Ue(o,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:c})=>c===1))return e.lastRow;const s=t[0].cellHeight-1;return e.lastRow+s}function VE(o,e){const t=Array.from(new Ue(o,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:c})=>c===1))return e.lastColumn;const s=t[0].cellWidth-1;return e.lastColumn+s}class Bu extends Ce{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],c=this.value,d=this.direction;e.change(h=>{const g=d=="right"||d=="down",b=g?s:c,v=g?c:s,y=v.parent;sU(v,b,h);const I=this.isHorizontal?"colspan":"rowspan",B=parseInt(s.getAttribute(I)||"1"),R=parseInt(c.getAttribute(I)||"1");h.setAttribute(I,B+R,b),h.setSelection(h.createRangeIn(b));const V=this.editor.plugins.get("TableUtils"),q=y.findAncestor("table");Wk(q,V)})}_getMergeableCell(){const t=this.editor.model.document,n=this.editor.plugins.get("TableUtils"),s=n.getTableCellsContainingSelection(t.selection)[0];if(!s)return;const c=this.isHorizontal?oU(s,this.direction,n):rU(s,this.direction,n);if(!c)return;const d=this.isHorizontal?"rowspan":"colspan",h=parseInt(s.getAttribute(d)||"1");if(parseInt(c.getAttribute(d)||"1")===h)return c}}function oU(o,e,t){const s=o.parent.parent,c=e=="right"?o.nextSibling:o.previousSibling,d=(s.getAttribute("headingColumns")||0)>0;if(!c)return;const h=e=="right"?o:c,g=e=="right"?c:o,{column:b}=t.getCellLocation(h),{column:v}=t.getCellLocation(g),y=parseInt(h.getAttribute("colspan")||"1"),I=Uk(t,h),B=Uk(t,g);return d&&I!=B?void 0:b+y===v?c:void 0}function rU(o,e,t){const n=o.parent,s=n.parent,c=s.getChildIndex(n);if(e=="down"&&c===t.getRows(s)-1||e=="up"&&c===0)return null;const d=parseInt(o.getAttribute("rowspan")||"1"),h=s.getAttribute("headingRows")||0,g=e=="down"&&c+d===h,b=e=="up"&&c===h;if(h&&(g||b))return null;const v=parseInt(o.getAttribute("rowspan")||"1"),y=e=="down"?c+v:c,I=[...new Ue(s,{endRow:y})],R=I.find(q=>q.cell===o).column,V=I.find(({row:q,cellHeight:Y,column:ae})=>ae!==R?!1:e=="down"?q===y:y===q+Y);return V&&V.cell?V.cell:null}function sU(o,e,t){UE(o)||(UE(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(o),t.createPositionAt(e,"end"))),t.remove(o)}function UE(o){const e=o.getChild(0);return o.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class aU extends Ce{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const s=n.findAncestor("table"),d=e.getRows(s)-1,h=e.getRowIndexes(t),g=h.first===0&&h.last===d;this.isEnabled=!g}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(n),c=n[0],d=c.findAncestor("table"),h=t.getCellLocation(c).column;e.change(g=>{const b=s.last-s.first+1;t.removeRows(d,{at:s.first,rows:b});const v=cU(d,s.first,h,t.getRows(d));g.setSelection(g.createPositionAt(v,0))})}}function cU(o,e,t,n){const s=o.getChild(Math.min(e,n-1));let c=s.getChild(0),d=0;for(const h of s.getChildren()){if(d>t)return c;c=h,d+=parseInt(h.getAttribute("colspan")||"1")}return c}class lU extends Ce{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const s=n.findAncestor("table"),c=e.getColumns(s),{first:d,last:h}=e.getColumnIndexes(t);this.isEnabled=h-d<c-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=uU(this.editor.model.document.selection,e),s=t.parent.parent,c=[...new Ue(s)],d={first:c.find(g=>g.cell===t).column,last:c.find(g=>g.cell===n).column},h=dU(c,t,n,d);this.editor.model.change(g=>{const b=d.last-d.first+1;e.removeColumns(s,{at:d.first,columns:b}),g.setSelection(g.createPositionAt(h,0))})}}function dU(o,e,t,n){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:n.first?o.reverse().find(({column:c})=>c<n.first).cell:o.reverse().find(({column:c})=>c>n.last).cell}function uU(o,e){const t=e.getSelectionAffectedTableCells(o),n=t[0],s=t.pop(),c=[n,s];return n.isBefore(s)?c:c.reverse()}class hU extends Ce{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),s=n.length>0;this.isEnabled=s,this.value=s&&n.every(c=>this._isInHeading(c,c.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,s=t.getSelectionAffectedTableCells(n.document.selection),c=s[0].findAncestor("table"),{first:d,last:h}=t.getRowIndexes(s),g=this.value?d:h+1,b=c.getAttribute("headingRows")||0;n.change(v=>{if(g){const y=g>b?b:0,I=OE(c,g,y);for(const{cell:B}of I)zE(B,g,v)}bt("headingRows",g,c,v,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class fU extends Ce{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),s=n.length>0;this.isEnabled=s,this.value=s&&n.every(c=>Uk(t,c))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,s=t.getSelectionAffectedTableCells(n.document.selection),c=s[0].findAncestor("table"),{first:d,last:h}=t.getColumnIndexes(s),g=this.value?d:h+1;n.change(b=>{if(g){const v=LE(c,g);for(const{cell:y,column:I}of v)jE(y,I,g,b)}bt("headingColumns",g,c,b,0)})}}function pU(o){if(o.is("element","tableColumnGroup"))return o;const e=o.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function gU(o){const e=pU(o);return e?Array.from(e.getChildren()):[]}class Xt extends J{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,s=n.getChildIndex(t),c=new Ue(n,{row:s});for(const{cell:d,row:h,column:g}of c)if(d===e)return{row:h,column:g}}createTable(e,t){const n=e.createElement("table"),s=t.rows||2,c=t.columns||2;return Gk(e,n,0,s,c),t.headingRows&&bt("headingRows",Math.min(t.headingRows,s),n,e,0),t.headingColumns&&bt("headingColumns",Math.min(t.headingColumns,c),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,s=t.at||0,c=t.rows||1,d=t.copyStructureFromAbove!==void 0,h=t.copyStructureFromAbove?s-1:s,g=this.getRows(e),b=this.getColumns(e);if(s>g)throw new L("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(v=>{const y=e.getAttribute("headingRows")||0;if(y>s&&bt("headingRows",y+c,e,v,0),!d&&(s===0||s===g)){Gk(v,e,s,c,b);return}const I=d?Math.max(s,h):s,B=new Ue(e,{endRow:I}),R=new Array(b).fill(1);for(const{row:V,column:q,cellHeight:Y,cellWidth:ae,cell:ye}of B){const Ke=V+Y-1,rt=V<s&&s<=Ke,le=V<=h&&h<=Ke;rt?(v.setAttribute("rowspan",Y+c,ye),R[q]=-ae):d&&le&&(R[q]=ae)}for(let V=0;V<c;V++){const q=v.createElement("tableRow");v.insert(q,e,s);for(let Y=0;Y<R.length;Y++){const ae=R[Y],ye=v.createPositionAt(q,"end");ae>0&&Rr(v,ye,ae>1?{colspan:ae}:void 0),Y+=Math.abs(ae)-1}}})}insertColumns(e,t={}){const n=this.editor.model,s=t.at||0,c=t.columns||1;n.change(d=>{const h=e.getAttribute("headingColumns");s<h&&d.setAttribute("headingColumns",h+c,e);const g=this.getColumns(e);if(s===0||g===s){for(const v of e.getChildren())v.is("element","tableRow")&&Hs(c,d,d.createPositionAt(v,s?"end":0));return}const b=new Ue(e,{column:s,includeAllSlots:!0});for(const v of b){const{row:y,cell:I,cellAnchorColumn:B,cellAnchorRow:R,cellWidth:V,cellHeight:q}=v;if(B<s){d.setAttribute("colspan",V+c,I);const Y=R+q-1;for(let ae=y;ae<=Y;ae++)b.skipRow(ae)}else Hs(c,d,v.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,s=t.rows||1,c=this.getRows(e),d=t.at,h=d+s-1;if(h>c-1)throw new L("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(g=>{const b={first:d,last:h},{cellsToMove:v,cellsToTrim:y}=bU(e,b);if(v.size){const I=h+1;wU(e,I,v,g)}for(let I=h;I>=d;I--)g.remove(e.getChild(I));for(const{rowspan:I,cell:B}of y)bt("rowspan",I,B,g);kU(e,b,g),Hk(e,this)||$k(e,this)})}removeColumns(e,t){const n=this.editor.model,s=t.at,c=t.columns||1,d=t.at+c-1;n.change(h=>{mU(e,{first:s,last:d},h);const g=gU(e);for(let b=d;b>=s;b--){for(const{cell:v,column:y,cellWidth:I}of[...new Ue(e)])y<=b&&I>1&&y+I>b?bt("colspan",I-1,v,h):y===b&&h.remove(v);if(g[b]){const v=b===0?g[1]:g[b-1],y=parseFloat(g[b].getAttribute("columnWidth")),I=parseFloat(v.getAttribute("columnWidth"));h.remove(g[b]),h.setAttribute("columnWidth",y+I+"%",v)}}$k(e,this)||Hk(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,c=e.parent.parent,d=parseInt(e.getAttribute("rowspan")||"1"),h=parseInt(e.getAttribute("colspan")||"1");n.change(g=>{if(h>1){const{newCellsSpan:b,updatedSpan:v}=HE(h,t);bt("colspan",v,e,g);const y={};b>1&&(y.colspan=b),d>1&&(y.rowspan=d);const I=h>t?t-1:h-1;Hs(I,g,g.createPositionAfter(e),y)}if(h<t){const b=t-h,v=[...new Ue(c)],{column:y}=v.find(({cell:V})=>V===e),I=v.filter(({cell:V,cellWidth:q,column:Y})=>{const ae=V!==e&&Y===y,ye=Y<y&&Y+q>y;return ae||ye});for(const{cell:V,cellWidth:q}of I)g.setAttribute("colspan",q+b,V);const B={};d>1&&(B.rowspan=d),Hs(b,g,g.createPositionAfter(e),B);const R=c.getAttribute("headingColumns")||0;R>y&&bt("headingColumns",R+b,c,g)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,s=e.parent,c=s.parent,d=c.getChildIndex(s),h=parseInt(e.getAttribute("rowspan")||"1"),g=parseInt(e.getAttribute("colspan")||"1");n.change(b=>{if(h>1){const v=[...new Ue(c,{startRow:d,endRow:d+h-1,includeAllSlots:!0})],{newCellsSpan:y,updatedSpan:I}=HE(h,t);bt("rowspan",I,e,b);const{column:B}=v.find(({cell:V})=>V===e),R={};y>1&&(R.rowspan=y),g>1&&(R.colspan=g);for(const V of v){const{column:q,row:Y}=V,ae=Y>=d+I,ye=q===B,Ke=(Y+d+I)%y===0;ae&&ye&&Ke&&Hs(1,b,V.getPositionBefore(),R)}}if(h<t){const v=t-h,y=[...new Ue(c,{startRow:0,endRow:d})];for(const{cell:R,cellHeight:V,row:q}of y)if(R!==e&&q+V>d){const Y=V+v;b.setAttribute("rowspan",Y,R)}const I={};g>1&&(I.colspan=g),Gk(b,c,d+1,v,1,I);const B=c.getAttribute("headingRows")||0;B>d&&bt("headingRows",B+v,c,b)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((n,s)=>{const c=parseInt(s.getAttribute("colspan")||"1");return n+c},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Ue(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const s=n.getContainedElement();s&&s.is("element","tableCell")&&t.push(s)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const s=n.start.findAncestor("tableCell");s&&t.push(s)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),s=[...new Ue(t)].filter(c=>e.includes(c.cell)).map(c=>c.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let s=0;for(const d of e){const{row:h,column:g}=this.getCellLocation(d),b=parseInt(d.getAttribute("rowspan"))||1,v=parseInt(d.getAttribute("colspan"))||1;t.add(h),n.add(g),b>1&&t.add(h+b-1),v>1&&n.add(g+v-1),s+=b*v}return vU(t,n)==s}sortRanges(e){return Array.from(e).sort(_U)}_getFirstLastIndexesObject(e){const t=e.sort((c,d)=>c-d),n=t[0],s=t[t.length-1];return{first:n,last:s}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),s=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,s))return!1;const c=this.getColumnIndexes(e),d=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(c,d)}_areIndexesInSameSection({first:e,last:t},n){const s=e<n,c=t<n;return s===c}}function Gk(o,e,t,n,s,c={}){for(let d=0;d<n;d++){const h=o.createElement("tableRow");o.insert(h,e,t),Hs(s,o,o.createPositionAt(h,"end"),c)}}function Hs(o,e,t,n={}){for(let s=0;s<o;s++)Rr(e,t,n)}function HE(o,e){if(o<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(o/e),n=o-t*e+t;return{newCellsSpan:t,updatedSpan:n}}function mU(o,e,t){const n=o.getAttribute("headingColumns")||0;if(n&&e.first<n){const s=Math.min(n-1,e.last)-e.first+1;t.setAttribute("headingColumns",n-s,o)}}function kU(o,{first:e,last:t},n){const s=o.getAttribute("headingRows")||0;if(e<s){const c=t<s?s-(t-e+1):e;bt("headingRows",c,o,n,0)}}function bU(o,{first:e,last:t}){const n=new Map,s=[];for(const{row:c,column:d,cellHeight:h,cell:g}of new Ue(o,{endRow:t})){const b=c+h-1;if(c>=e&&c<=t&&b>t){const I=t-c+1,B=h-I;n.set(d,{cell:g,rowspan:B})}if(c<e&&b>=e){let I;b>=t?I=t-e+1:I=b-e+1,s.push({cell:g,rowspan:h-I})}}return{cellsToMove:n,cellsToTrim:s}}function wU(o,e,t,n){const c=[...new Ue(o,{includeAllSlots:!0,row:e})],d=o.getChild(e);let h;for(const{column:g,cell:b,isAnchor:v}of c)if(t.has(g)){const{cell:y,rowspan:I}=t.get(g),B=h?n.createPositionAfter(h):n.createPositionAt(d,0);n.move(n.createRangeOn(y),B),bt("rowspan",I,y,n),h=y}else v&&(h=b)}function _U(o,e){const t=o.start,n=e.start;return t.isBefore(n)?-1:1}function vU(o,e){const t=Array.from(o.values()),n=Array.from(e.values()),s=Math.max(...t),c=Math.min(...t),d=Math.max(...n),h=Math.min(...n);return(s-c+1)*(d-h+1)}class AU extends Ce{refresh(){const e=this.editor.plugins.get(Xt),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Xt);e.change(n=>{const s=t.getSelectedTableCells(e.document.selection),c=s.shift(),{mergeWidth:d,mergeHeight:h}=yU(c,s,t);bt("colspan",d,c,n),bt("rowspan",h,c,n);for(const b of s)CU(b,c,n);const g=c.findAncestor("table");Wk(g,t),n.setSelection(c,"in")})}}function CU(o,e,t){$E(o)||($E(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(o),t.createPositionAt(e,"end"))),t.remove(o)}function $E(o){const e=o.getChild(0);return o.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function yU(o,e,t){let n=0,s=0;for(const b of e){const{row:v,column:y}=t.getCellLocation(b);n=WE(b,y,n,"colspan"),s=WE(b,v,s,"rowspan")}const{row:c,column:d}=t.getCellLocation(o),h=n-d,g=s-c;return{mergeWidth:h,mergeHeight:g}}function WE(o,e,t,n){const s=parseInt(o.getAttribute(n)||"1");return Math.max(t,e+s)}class xU extends Ce{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(n),c=n[0].findAncestor("table"),d=[];for(let h=s.first;h<=s.last;h++)for(const g of c.getChild(h).getChildren())d.push(e.createRangeOn(g));e.change(h=>{h.setSelection(d)})}}class EU extends Ce{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),s=n[0],c=n.pop(),d=s.findAncestor("table"),h=e.getCellLocation(s),g=e.getCellLocation(c),b=Math.min(h.column,g.column),v=Math.max(h.column,g.column),y=[];for(const I of new Ue(d,{startColumn:b,endColumn:v}))y.push(t.createRangeOn(I.cell));t.change(I=>{I.setSelection(y)})}}function SU(o){o.document.registerPostFixer(e=>DU(e,o))}function DU(o,e){const t=e.document.differ.getChanges();let n=!1;const s=new Set;for(const c of t){let d=null;c.type=="insert"&&c.name=="table"&&(d=c.position.nodeAfter),(c.type=="insert"||c.type=="remove")&&(c.name=="tableRow"||c.name=="tableCell")&&(d=c.position.findAncestor("table")),BU(c)&&(d=c.range.start.findAncestor("table")),d&&!s.has(d)&&(n=TU(d,o)||n,n=IU(d,o)||n,s.add(d))}return n}function TU(o,e){let t=!1;const n=MU(o);if(n.length){t=!0;for(const s of n)bt("rowspan",s.rowspan,s.cell,e,1)}return t}function IU(o,e){let t=!1;const n=NU(o),s=[];for(const[g,b]of n.entries())!b&&o.getChild(g).is("element","tableRow")&&s.push(g);if(s.length){t=!0;for(const g of s.reverse())e.remove(o.getChild(g)),n.splice(g,1)}const c=n.filter((g,b)=>o.getChild(b).is("element","tableRow")),d=c[0];if(!c.every(g=>g===d)){const g=c.reduce((b,v)=>v>b?v:b,0);for(const[b,v]of c.entries()){const y=g-v;if(y){for(let I=0;I<y;I++)Rr(e,e.createPositionAt(o.getChild(b),"end"));t=!0}}}return t}function MU(o){const e=parseInt(o.getAttribute("headingRows")||"0"),t=Array.from(o.getChildren()).reduce((s,c)=>c.is("element","tableRow")?s+1:s,0),n=[];for(const{row:s,cell:c,cellHeight:d}of new Ue(o)){if(d<2)continue;const g=s<e?e:t;if(s+d>g){const b=g-s;n.push({cell:c,rowspan:b})}}return n}function NU(o){const e=new Array(o.childCount).fill(0);for(const{rowIndex:t}of new Ue(o,{includeAllSlots:!0}))e[t]++;return e}function BU(o){if(o.type!=="attribute")return!1;const e=o.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function PU(o){o.document.registerPostFixer(e=>OU(e,o))}function OU(o,e){const t=e.document.differ.getChanges();let n=!1;for(const s of t)s.type=="insert"&&s.name=="table"&&(n=zU(s.position.nodeAfter,o)||n),s.type=="insert"&&s.name=="tableRow"&&(n=GE(s.position.nodeAfter,o)||n),s.type=="insert"&&s.name=="tableCell"&&(n=qk(s.position.nodeAfter,o)||n),(s.type=="remove"||s.type=="insert")&&LU(s)&&(n=qk(s.position.parent,o)||n);return n}function zU(o,e){let t=!1;for(const n of o.getChildren())n.is("element","tableRow")&&(t=GE(n,e)||t);return t}function GE(o,e){let t=!1;for(const n of o.getChildren())t=qk(n,e)||t;return t}function qk(o,e){if(o.childCount==0)return e.insertElement("paragraph",o),!0;const t=Array.from(o.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function LU(o){return o.position.parent.is("element","tableCell")?o.type=="insert"&&o.name=="$text"||o.type=="remove":!1}function jU(o,e){const t=o.document.differ;for(const n of t.getChanges()){let s,c=!1;if(n.type=="attribute"){const b=n.range.start.nodeAfter;if(!b||!b.is("element","table")||n.attributeKey!="headingRows"&&n.attributeKey!="headingColumns")continue;s=b,c=n.attributeKey=="headingRows"}else(n.name=="tableRow"||n.name=="tableCell")&&(s=n.position.findAncestor("table"),c=n.name=="tableRow");if(!s)continue;const d=s.getAttribute("headingRows")||0,h=s.getAttribute("headingColumns")||0,g=new Ue(s);for(const b of g){const y=b.row<d||b.column<h?"th":"td",I=e.mapper.toViewElement(b.cell);I&&I.is("element")&&I.name!=y&&e.reconvertItem(c?b.cell.parent:b.cell)}}}function RU(o,e){const t=o.document.differ,n=new Set;for(const s of t.getChanges()){const c=s.type=="attribute"?s.range.start.parent:s.position.parent;c.is("element","tableCell")&&n.add(c)}for(const s of n.values()){const c=Array.from(s.getChildren()).filter(d=>FU(d,e.mapper));for(const d of c)e.reconvertItem(d)}}function FU(o,e){if(!o.is("element","paragraph"))return!1;const t=e.toViewElement(o);return t?IE(o)!==t.is("element","span"):!1}var qE=a(8361),Kk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Kk.insert="head",Kk.singleton=!0,ie()(qE.Z,Kk),qE.Z.locals;class VU extends J{static get pluginName(){return"TableEditing"}static get requires(){return[Xt]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,n=t.schema,s=e.conversion,c=e.plugins.get(Xt);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),s.for("upcast").add(W9()),s.for("upcast").add(G9()),s.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SE(c,{asWidget:!0,additionalSlots:this._additionalSlots})}),s.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SE(c,{additionalSlots:this._additionalSlots})}),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(q9()),s.for("downcast").elementToElement({model:"tableRow",view:J9()}),s.for("upcast").elementToElement({model:"tableCell",view:"td"}),s.for("upcast").elementToElement({model:"tableCell",view:"th"}),s.for("upcast").add(EE("td")),s.for("upcast").add(EE("th")),s.for("editingDowncast").elementToElement({model:"tableCell",view:DE({asWidget:!0})}),s.for("dataDowncast").elementToElement({model:"tableCell",view:DE()}),s.for("editingDowncast").elementToElement({model:"paragraph",view:TE({asWidget:!0}),converterPriority:"high"}),s.for("dataDowncast").elementToElement({model:"paragraph",view:TE(),converterPriority:"high"}),s.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),s.for("upcast").attributeToAttribute({model:{key:"colspan",value:KE("colspan")},view:"colspan"}),s.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("upcast").attributeToAttribute({model:{key:"rowspan",value:KE("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new tU(e)),e.commands.add("insertTableRowAbove",new ME(e,{order:"above"})),e.commands.add("insertTableRowBelow",new ME(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new NE(e,{order:"left"})),e.commands.add("insertTableColumnRight",new NE(e,{order:"right"})),e.commands.add("removeTableRow",new aU(e)),e.commands.add("removeTableColumn",new lU(e)),e.commands.add("splitTableCellVertically",new BE(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new BE(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new AU(e)),e.commands.add("mergeTableCellRight",new Bu(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Bu(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Bu(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Bu(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new fU(e)),e.commands.add("setTableRowHeader",new hU(e)),e.commands.add("selectTableRow",new xU(e)),e.commands.add("selectTableColumn",new EU(e)),SU(t),PU(t),this.listenTo(t.document,"change:data",()=>{jU(t,e.editing),RU(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function KE(o){return e=>{const t=parseInt(e.getAttribute(o));return Number.isNaN(t)||t<=0?null:t}}var ZE=a(468),Zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zk.insert="head",Zk.singleton=!0,ie()(ZE.Z,Zk),ZE.Z.locals;class UU extends _e{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ci,this.focusTracker=new pn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,s)=>`${s}  ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,s)=>{const{row:c,column:d}=s.target.dataset;this.items.get((parseInt(c,10)-1)*10+(parseInt(d,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,s,c)=>{if(!c)return;const{row:d,column:h}=c.dataset;this.set({rows:parseInt(d),columns:parseInt(h)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),_R({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,s)=>{const c=Math.floor(s/10),d=s%10,h=c<e&&d<t;n.set("isOn",h)})}_createGridButton(e,t,n,s){const c=new et(e);return c.set({label:s,class:"ck-insert-table-dropdown-grid-box"}),c.extendTemplate({attributes:{"data-row":t,"data-column":n}}),c}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),s=t%10,c=`${n+1}  ${s+1}`;e.push(this._createGridButton(this.locale,n+1,s+1,c))}return this.createCollection(e)}}const HU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',$U='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',WU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',GU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class qU extends J{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",c=>{const d=e.commands.get("insertTable"),h=oo(c);h.bind("isEnabled").to(d),h.buttonView.set({icon:HU,label:t("Insert table"),tooltip:!0});let g;return h.on("change:isOpen",()=>{g||(g=new UU(c),h.panelView.children.add(g),g.delegate("execute").to(h),h.on("execute",()=>{e.execute("insertTable",{rows:g.rows,columns:g.columns}),e.editing.view.focus()}))}),h}),e.ui.componentFactory.add("tableColumn",c=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),$U,d,c)}),e.ui.componentFactory.add("tableRow",c=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),WU,d,c)}),e.ui.componentFactory.add("mergeTableCells",c=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),GU,d,c)})}_prepareDropdown(e,t,n,s){const c=this.editor,d=oo(s),h=this._fillDropdownWithListOptions(d,n);return d.buttonView.set({label:e,icon:t,tooltip:!0}),d.bind("isEnabled").toMany(h,"isEnabled",(...g)=>g.some(b=>b)),this.listenTo(d,"execute",g=>{c.execute(g.source.commandName),g.source instanceof cu||c.editing.view.focus()}),d}_prepareMergeSplitButtonDropdown(e,t,n,s){const c=this.editor,d=oo(s,fm),h="mergeTableCells",g=c.commands.get(h),b=this._fillDropdownWithListOptions(d,n);return d.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),d.bind("isEnabled").toMany([g,...b],"isEnabled",(...v)=>v.some(y=>y)),this.listenTo(d.buttonView,"execute",()=>{c.execute(h),c.editing.view.focus()}),this.listenTo(d,"execute",v=>{c.execute(v.source.commandName),c.editing.view.focus()}),d}_fillDropdownWithListOptions(e,t){const n=this.editor,s=[],c=new ai;for(const d of t)KU(d,n,s,c);return sy(e,c),s}}function KU(o,e,t,n){if(o.type==="button"||o.type==="switchbutton"){const s=o.model=new By(o.model),{commandName:c,bindIsOn:d}=o.model,h=e.commands.get(c);t.push(h),s.set({commandName:c}),s.bind("isEnabled").to(h),d&&s.bind("isOn").to(h,"value"),s.set({withText:!0})}n.add(o)}var YE=a(1546),Yk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yk.insert="head",Yk.singleton=!0,ie()(YE.Z,Yk),YE.Z.locals;class Fr extends J{static get pluginName(){return"TableSelection"}static get requires(){return[Xt,Xt]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(s,c)=>this._handleDeleteContent(s,c),{priority:"high"}),this.listenTo(n.document,"insertText",(s,c)=>this._handleInsertTextEvent(s,c),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Xt),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(Xt),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const s=n.createDocumentFragment(),{first:c,last:d}=e.getColumnIndexes(t),{first:h,last:g}=e.getRowIndexes(t),b=t[0].findAncestor("table");let v=g,y=d;if(e.isSelectionRectangular(t)){const R={firstColumn:c,lastColumn:d,firstRow:h,lastRow:g};v=FE(b,R),y=VE(b,R)}const B=PE(b,{startRow:h,startColumn:c,endRow:v,endColumn:y},n);return n.insert(B,s,0),s}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(s=>{s.setSelection(n.cells.map(c=>s.createRangeOn(c)),{backward:n.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const e=this.editor.model.document.selection,n=St(e.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(c,d,h)=>{const g=h.writer;n(g);const b=this.getSelectedTableCells();if(!b)return;for(const y of b){const I=h.mapper.toViewElement(y);g.addClass("ck-editor__editable_selected",I),t.add(I)}const v=h.mapper.toViewElement(b[b.length-1]);g.setSelection(v,0)},{priority:"lowest"}));function n(s){for(const c of t)s.removeClass("ck-editor__editable_selected",c);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const s=n.createPositionAt(t[0],0),c=e.model.schema.getNearestSelectionRange(s);n.setSelection(c)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(Xt),s=t[0],c=t[1],d=this.editor.model,h=!c||c.direction=="backward",g=n.getSelectedTableCells(s);g.length&&(e.stop(),d.change(b=>{const v=g[h?g.length-1:0];d.change(I=>{for(const B of g)d.deleteContent(I.createSelection(B,"in"))});const y=d.schema.getNearestSelectionRange(b.createPositionAt(v,0));s.is("documentSelection")?b.setSelection(y):s.setTo(y)}))}_handleInsertTextEvent(e,t){const n=this.editor,s=this.getSelectedTableCells();if(!s)return;const c=n.editing.view,d=n.editing.mapper,h=s.map(g=>c.createRangeOn(d.toViewElement(g)));t.selection=c.createSelection(h)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),s=n.getCellLocation(e),c=n.getCellLocation(t),d=Math.min(s.row,c.row),h=Math.max(s.row,c.row),g=Math.min(s.column,c.column),b=Math.max(s.column,c.column),v=new Array(h-d+1).fill(null).map(()=>[]),y={startRow:d,endRow:h,startColumn:g,endColumn:b};for(const{row:R,cell:V}of new Ue(e.findAncestor("table"),y))v[R-d].push(V);const I=c.row<s.row,B=c.column<s.column;return I&&v.reverse(),B&&v.forEach(R=>R.reverse()),{cells:v.flat(),backward:I||B}}}class ZU extends J{static get pluginName(){return"TableClipboard"}static get requires(){return[Fr,Xt]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,s)=>this._onCopyCut(n,s)),this.listenTo(t,"cut",(n,s)=>this._onCopyCut(n,s)),this.listenTo(e.model,"insertContent",(n,[s,c])=>this._onInsertContent(n,s,c),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.plugins.get(Fr);if(!n.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;t.preventDefault(),e.stop();const s=this.editor.data,c=this.editor.editing.view.document,d=s.toView(n.getSelectionAsFragment());c.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:d,method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const s=this.editor.model,c=this.editor.plugins.get(Xt);let d=this.getTableIfOnlyTableInContent(t,s);if(!d)return;const h=c.getSelectionAffectedTableCells(s.document.selection);if(!h.length){Wk(d,c);return}e.stop(),s.change(g=>{const b={width:c.getColumns(d),height:c.getRows(d)},v=YU(h,b,g,c),y=v.lastRow-v.firstRow+1,I=v.lastColumn-v.firstColumn+1,B={startRow:0,startColumn:0,endRow:Math.min(y,b.height)-1,endColumn:Math.min(I,b.width)-1};d=PE(d,B,g);const R=h[0].findAncestor("table"),V=this._replaceSelectedCellsWithPasted(d,b,R,v,g);if(this.editor.plugins.get("TableSelection").isEnabled){const q=c.sortRanges(V.map(Y=>g.createRangeOn(Y)));g.setSelection(q)}else g.setSelection(V[0],0)})}_replaceSelectedCellsWithPasted(e,t,n,s,c){const{width:d,height:h}=t,g=JU(e,d,h),b=[...new Ue(n,{startRow:s.firstRow,endRow:s.lastRow,startColumn:s.firstColumn,endColumn:s.lastColumn,includeAllSlots:!0})],v=[];let y;for(const q of b){const{row:Y,column:ae}=q;ae===s.firstColumn&&(y=q.getPositionBefore());const ye=Y-s.firstRow,Ke=ae-s.firstColumn,rt=g[ye%h][Ke%d],le=rt?c.cloneElement(rt):null,pe=this._replaceTableSlotCell(q,le,y,c);pe&&(RE(pe,Y,ae,s.lastRow,s.lastColumn,c),v.push(pe),y=c.createPositionAfter(pe))}const I=parseInt(n.getAttribute("headingRows")||"0"),B=parseInt(n.getAttribute("headingColumns")||"0"),R=s.firstRow<I&&I<=s.lastRow,V=s.firstColumn<B&&B<=s.lastColumn;if(R){const q={first:s.firstColumn,last:s.lastColumn},Y=Qk(n,I,q,c,s.firstRow);v.push(...Y)}if(V){const q={first:s.firstRow,last:s.lastRow},Y=Jk(n,B,q,c);v.push(...Y)}return v}_replaceTableSlotCell(e,t,n,s){const{cell:c,isAnchor:d}=e;return d&&s.remove(c),t?(s.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const s of n.getItems())if(s.is("element","table")){const c=t.createRange(n.start,t.createPositionBefore(s));if(t.hasContent(c,{ignoreWhitespaces:!0}))return null;const d=t.createRange(t.createPositionAfter(s),n.end);return t.hasContent(d,{ignoreWhitespaces:!0})?null:s}return null}}function YU(o,e,t,n){const s=o[0].findAncestor("table"),c=n.getColumnIndexes(o),d=n.getRowIndexes(o),h={firstColumn:c.first,lastColumn:c.last,firstRow:d.first,lastRow:d.last},g=o.length===1;return g&&(h.lastRow+=e.height-1,h.lastColumn+=e.width-1,QU(s,h.lastRow+1,h.lastColumn+1,n)),g||!n.isSelectionRectangular(o)?XU(s,h,t):(h.lastRow=FE(s,h),h.lastColumn=VE(s,h)),h}function QU(o,e,t,n){const s=n.getColumns(o),c=n.getRows(o);t>s&&n.insertColumns(o,{at:s,columns:t-s}),e>c&&n.insertRows(o,{at:c,rows:e-c})}function JU(o,e,t){const n=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:s,row:c,cell:d}of new Ue(o))n[c][s]=d;return n}function XU(o,e,t){const{firstRow:n,lastRow:s,firstColumn:c,lastColumn:d}=e,h={first:n,last:s},g={first:c,last:d};Jk(o,c,h,t),Jk(o,d+1,h,t),Qk(o,n,g,t),Qk(o,s+1,g,t,n)}function Qk(o,e,t,n,s=0){return e<1?void 0:OE(o,e,s).filter(({column:h,cellWidth:g})=>QE(h,g,t)).map(({cell:h})=>zE(h,e,n))}function Jk(o,e,t,n){return e<1?void 0:LE(o,e).filter(({row:d,cellHeight:h})=>QE(d,h,t)).map(({cell:d,column:h})=>jE(d,h,e,n))}function QE(o,e,t){const n=o+e-1,{first:s,last:c}=t,d=o>=s&&o<=c,h=o<s&&n>=s;return d||h}class eH extends J{static get pluginName(){return"TableKeyboard"}static get requires(){return[Fr,Xt]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...n)=>this._onArrowKey(...n),{context:"table"}),this.listenTo(t,"tab",(...n)=>this._handleTabOnSelectedTable(...n),{context:"figure"}),this.listenTo(t,"tab",(...n)=>this._handleTab(...n),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const n=this.editor,c=n.model.document.selection.getSelectedElement();!c||!c.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(d=>{d.setSelection(d.createRangeIn(c.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,s=this.editor.plugins.get(Xt),c=this.editor.plugins.get("TableSelection"),d=n.model.document.selection,h=!t.shiftKey;let g=s.getTableCellsContainingSelection(d)[0];if(g||(g=c.getFocusCell()),!g)return;t.preventDefault(),t.stopPropagation(),e.stop();const b=g.parent,v=b.parent,y=v.getChildIndex(b),I=b.getChildIndex(g),B=I===0;if(!h&&B&&y===0){n.model.change(Y=>{Y.setSelection(Y.createRangeOn(v))});return}const R=I===b.childCount-1,V=y===s.getRows(v)-1;if(h&&V&&R&&(n.execute("insertTableRowBelow"),y===s.getRows(v)-1)){n.model.change(Y=>{Y.setSelection(Y.createRangeOn(v))});return}let q;if(h&&R)q=v.getChild(y+1).getChild(0);else if(!h&&B){const Y=v.getChild(y-1);q=Y.getChild(Y.childCount-1)}else q=b.getChild(I+(h?1:-1));n.model.change(Y=>{Y.setSelection(Y.createRangeIn(q))})}_onArrowKey(e,t){const n=this.editor,s=t.keyCode,c=rg(s,n.locale.contentLanguageDirection);this._handleArrowKeys(c,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(Xt),s=this.editor.plugins.get("TableSelection"),c=this.editor.model,d=c.document.selection,h=["right","down"].includes(e),g=n.getSelectedTableCells(d);if(g.length){let v;return t?v=s.getFocusCell():v=h?g[g.length-1]:g[0],this._navigateFromCellInDirection(v,e,t),!0}const b=d.focus.findAncestor("tableCell");if(!b)return!1;if(!d.isCollapsed)if(t){if(d.isBackward==h&&!d.containsEntireContent(b))return!1}else{const v=d.getSelectedElement();if(!v||!c.schema.isObject(v))return!1}return this._isSelectionAtCellEdge(d,b,h)?(this._navigateFromCellInDirection(b,e,t),!0):!1}_isSelectionAtCellEdge(e,t,n){const s=this.editor.model,c=this.editor.model.schema,d=n?e.getLastPosition():e.getFirstPosition();if(!c.getLimitElement(d).is("element","tableCell"))return s.createPositionAt(t,n?"end":0).isTouching(d);const h=s.createSelection(d);return s.modifySelection(h,{direction:n?"forward":"backward"}),d.isEqual(h.focus)}_navigateFromCellInDirection(e,t,n=!1){const s=this.editor.model,c=e.findAncestor("table"),d=[...new Ue(c,{includeAllSlots:!0})],{row:h,column:g}=d[d.length-1],b=d.find(({cell:ae})=>ae==e);let{row:v,column:y}=b;switch(t){case"left":y--;break;case"up":v--;break;case"right":y+=b.cellWidth;break;case"down":v+=b.cellHeight;break}const I=v<0||v>h,B=y<0&&v<=0,R=y>g&&v>=h;if(I||B||R){s.change(ae=>{ae.setSelection(ae.createRangeOn(c))});return}y<0?(y=n?0:g,v--):y>g&&(y=n?g:0,v++);const V=d.find(ae=>ae.row==v&&ae.column==y).cell,q=["right","down"].includes(t),Y=this.editor.plugins.get("TableSelection");if(n&&Y.isEnabled){const ae=Y.getAnchorCell()||e;Y.setCellSelection(ae,V)}else{const ae=s.createPositionAt(V,q?0:"end");s.change(ye=>{ye.setSelection(ae)})}}}class tH extends Bo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class nH extends J{static get pluginName(){return"TableMouse"}static get requires(){return[Fr,Xt]}init(){this.editor.editing.view.addObserver(tH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Xt);let n=!1;const s=e.plugins.get(Fr);this.listenTo(e.editing.view.document,"mousedown",(c,d)=>{const h=e.model.document.selection;if(!this.isEnabled||!s.isEnabled||!d.domEvent.shiftKey)return;const g=s.getAnchorCell()||t.getTableCellsContainingSelection(h)[0];if(!g)return;const b=this._getModelTableCellFromDomEvent(d);b&&JE(g,b)&&(n=!0,s.setCellSelection(g,b),d.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",c=>{n&&c.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,s=!1,c=!1;const d=e.plugins.get(Fr);this.listenTo(e.editing.view.document,"mousedown",(h,g)=>{!this.isEnabled||!d.isEnabled||g.domEvent.shiftKey||g.domEvent.ctrlKey||g.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(g))}),this.listenTo(e.editing.view.document,"mousemove",(h,g)=>{if(!g.domEvent.buttons||!t)return;const b=this._getModelTableCellFromDomEvent(g);b&&JE(t,b)&&(n=b,!s&&n!=t&&(s=!0)),s&&(c=!0,d.setCellSelection(t,n),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1,c=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",h=>{c&&h.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function JE(o,e){return o.parent.parent==e.parent.parent}var XE=a(2510),Xk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xk.insert="head",Xk.singleton=!0,ie()(XE.Z,Xk),XE.Z.locals;class iH extends J{static get requires(){return[VU,qU,Fr,nH,eH,ZU,zc]}static get pluginName(){return"Table"}}function oH(o){const e=o.getSelectedElement();return e&&e2(e)?e:null}function rH(o){const e=o.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&e2(t))return t;t=t.parent}return null}function e2(o){return!!o.getCustomProperty("table")&&Ot(o)}class sH extends J{static get requires(){return[Eu]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Eu),s=e.config.get("table.contentToolbar"),c=e.config.get("table.tableToolbar");s&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:rH}),c&&n.register("table",{ariaLabel:t("Table toolbar"),items:c,getRelatedElement:oH})}}var t2=a(9953),eb={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};eb.insert="head",eb.singleton=!0,ie()(t2.Z,eb),t2.Z.locals;var n2=a(6908),tb={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tb.insert="head",tb.singleton=!0,ie()(n2.Z,tb),n2.Z.locals;var i2=a(7502),nb={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nb.insert="head",nb.singleton=!0,ie()(i2.Z,nb),i2.Z.locals;var o2=a(9429),ib={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ib.insert="head",ib.singleton=!0,ie()(o2.Z,ib),o2.Z.locals;var r2=a(3964),ob={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ob.insert="head",ob.singleton=!0,ie()(r2.Z,ob),r2.Z.locals;const Vr=Vt.defaultPositions;Vr.northArrowSouth,Vr.northArrowSouthWest,Vr.northArrowSouthEast,Vr.southArrowNorth,Vr.southArrowNorthWest,Vr.southArrowNorthEast,Vr.viewportStickyNorth;var s2=a(6596),rb={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rb.insert="head",rb.singleton=!0,ie()(s2.Z,rb),s2.Z.locals;var a2=a(1111),sb={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sb.insert="head",sb.singleton=!0,ie()(a2.Z,sb),a2.Z.locals;var c2=a(7176),ab={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ab.insert="head",ab.singleton=!0,ie()(c2.Z,ab),c2.Z.locals;class cb extends ku{}cb.builtinPlugins=[aF,q7,Yx,_F,LF,CF,B7,F7,s8,d8,H8,$8,M8,K8,SF,n9,I9,$9,Lc,iH,sH],cb.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const aH=cb})(),l=l.default,l})());const wZ=(_t.exports==null?{}:_t.exports).default||_t.exports;(_t.exports==null?{}:_t.exports).undefined;function nM({handleChange:r,post:i}){return $.jsxs("form",{children:[$.jsxs("div",{className:"input",children:[$.jsx("label",{htmlFor:"title"}),$.jsx("input",{placeholder:"Title",onChange:r,value:i.title,type:"text",id:"title",name:"title"})]}),$.jsxs("div",{className:"input",children:[$.jsxs("div",{className:"input",children:[$.jsx("label",{htmlFor:"img"}),$.jsx("input",{placeholder:"Image URL (optional)",onChange:r,value:i.img,type:"text",id:"img_url",name:"img"})]}),$.jsx("div",{className:"ckeditor-container",children:$.jsx(bZ.CKEditor,{config:{placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0}},editor:wZ,data:i.content?i.content:"",onReady:a=>{console.log("Editor is ready to use!",a)},onChange:(a,l)=>{l.getData(),r(l)}})})]}),$.jsxs("div",{className:"radio-container",children:[$.jsx("input",{onChange:r,type:"radio",id:"general",name:"category",value:"general"}),$.jsx("label",{className:"radio",htmlFor:"general",children:"General (default)"}),$.jsx("br",{}),$.jsx("input",{onChange:r,type:"radio",id:"review",name:"category",value:"review"}),$.jsx("label",{className:"radio",onChange:r,htmlFor:"review",children:"Review"}),$.jsx("br",{}),$.jsx("input",{onChange:r,type:"radio",id:"recommend",name:"category",value:"recommend"}),$.jsx("label",{className:"radio",htmlFor:"recommend",children:"Recommend"}),$.jsx("br",{})]})]})}function _Z({supabase:r}){const[i,a]=ee.useState({title:"",content:"",img:""}),l=Ma(),{state:u}=$l();ee.useEffect(()=>{u&&a({title:`${u.title} ~ ${u.author}`,content:u.description,img:u.cover_key?u.cover_url:""})},[]);const f=m=>{let k,w;m.target?(k=m.target.name,w=m.target.value):(k="content",w=m.getData()),console.log("name: ",k," value: ",w),a(C=>({...C,[k]:w}))},p=async()=>{await r.from("posts").insert({title:i.title,content:i.content,img:i.img,category:i.category}),alert("Post inserted into database!"),l("/")};return $.jsx($.Fragment,{children:$.jsxs("div",{className:"create-container",children:[$.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",$.jsx("span",{className:"pastel-orange",children:"Post"})]}),$.jsx(nM,{handleChange:f,post:i}),$.jsx("button",{className:"btn red-button darkAccent",onClick:p,post:i,children:"Create Post"}),$.jsx(ns,{to:"/getBookInfo",children:$.jsx("button",{className:"btn orange-button",children:"Get Book Info"})})]})})}const iM=(r,i)=>{(r.keyCode||r.which)===13&&i()};function vZ({title:r,author:i,cover_url:a,cover_key:l,description:u}){const f=Ma(),p=()=>{f("/create",{state:{title:r,author:i,cover_url:a,description:u,cover_key:l}})};return $.jsxs("div",{onClick:p,className:"book",children:[$.jsxs("div",{children:[$.jsx("h4",{className:"pastel-black",children:r}),$.jsxs("h5",{children:["By: ",i]}),$.jsx("p",{children:u})]}),$.jsx("img",{src:l?a:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}const AZ="/Book-Chronicles/assets/arrow-up-0fb140ce.png",CZ=()=>{const[r,i]=ee.useState(!1);ee.useEffect(()=>{const l=()=>{window.scrollY>200?i(!0):i(!1)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return $.jsx("div",{children:$.jsx("img",{className:`back-to-top-button ${r?"show-back-to-top":""}`,onClick:a,src:AZ})})};function yZ(){const[r,i]=ee.useState(""),[a,l]=ee.useState([]),u=m=>{i(m.target.value)},f=async()=>{const k=await(await fetch(`https://openlibrary.org/search.json?q=${r}`)).json();l([]),i("");for(const w of k.docs)setTimeout(async()=>{const _=await(await fetch(`https://openlibrary.org${w.key}.json`)).json();let A;_.description&&(A=_.description,typeof A!="string"&&(A=_.description.value));const x=await fetch(`https://covers.openlibrary.org/b/olid/${w.cover_edition_key}-M.jpg`),S={key:_.key,title:_.title,author:w.author_name?w.author_name[0]:"",cover_url:x.url,description:A,cover_key:w.cover_edition_key};l(T=>[...T,S])},1e3)},p=()=>a.map((k,w)=>$.jsx(vZ,{title:k.title,author:k.author,cover_url:k.cover_url,cover_key:k.cover_key,description:k.description},w));return $.jsxs($.Fragment,{children:[$.jsx("h1",{className:"book-info-title pastel-black",children:$.jsxs("b",{children:["Grab a ",$.jsx("span",{className:"pastel-orange",children:"Book"})]})}),$.jsxs("div",{className:"search-bar",children:[$.jsx("label",{htmlFor:"title"}),$.jsx("input",{value:r,placeholder:"Search for a book...",className:"book-input",onKeyUp:m=>{iM(m,f)},onChange:u,type:"text",name:"title"}),$.jsx("button",{className:"btn orange-button",onClick:f,children:"Search"})]}),$.jsx("div",{className:"books-container",children:p()})]})}function xZ({date:r,comment:i}){return $.jsxs("div",{className:"comment",children:[$.jsxs("small",{children:["~ ",tf(r)?tf(r):""]}),$.jsx("p",{children:i})]})}const EZ="/Book-Chronicles/assets/trash-2415bf1a.png",SZ="/Book-Chronicles/assets/edit-727f5020.png";function DZ({supabase:r}){const[i,a]=ee.useState({}),[l,u]=ee.useState(!1),[f,p]=ee.useState([]),[m,k]=ee.useState(""),{id:w}=H5(),C=Ma(),_=async()=>{const{data:F,error:W}=await r.from("posts").select().eq("id",w);console.log(F),a(F[0])},A=async()=>{const{data:F,error:W}=await r.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",w);console.log("Comment data:",F),p(F)};ee.useEffect(()=>{_(),A()},[]);const x=async()=>{l||(await r.from("posts").update({vote:i.vote+1}).eq("id",w),console.log("vote has been updated..."),u(!0),a({...i,vote:i.vote+1}))},S=F=>{k(F.target.value),console.log(F.target.value)},T=async()=>{confirm("Are you sure you want to delete this post?")?(await r.from("posts").delete().eq("id",w),C("/")):console.log("delete is cancelled")},O=async()=>{await r.from("comments").insert({post_id:w,comment:m}),console.log("Comment is inserted into database..."),A(),k("")},M=f.map(F=>$.jsx(xZ,{date:F.created_at,comment:F.comment},F.id));let N="back-pastel-green pastel-green";i.category=="review"?N="back-pastel-purple pastel-purple":i.category=="recommend"&&(N="back-pastel-red pastel-red");function P(){return{__html:i.content}}function j(){return $.jsx("div",{dangerouslySetInnerHTML:P()})}return $.jsx("div",{className:"post-container",children:$.jsxs("div",{className:"post",children:[$.jsxs("div",{className:"post-tags",children:[$.jsxs("p",{children:["Posted ",i.created_at?tf(i.created_at):" "]}),$.jsxs("p",{className:`post-category ${N}`,children:["#",i.category]})]}),$.jsx("h2",{className:"pastel-black",children:i.title}),$.jsx("img",{className:"post-image",src:i.img}),$.jsx("p",{children:j()}),$.jsx("div",{}),$.jsxs("div",{className:"action-images",children:[$.jsxs("div",{onClick:x,className:"pastel-red like-image",children:[$.jsx("img",{src:tM})," ",$.jsxs("b",{children:[i.vote," ",i.vote!==1?"likes":"like"]})]}),$.jsxs("div",{children:[$.jsxs(ns,{className:"edit-image-link",to:`/post/${i.id}/edit`,children:[" ",$.jsx("img",{className:"edit-image",src:SZ})," "]}),$.jsx("img",{onClick:T,className:"delete-image",src:EZ})]})]}),$.jsxs("div",{className:"comments-section",children:[$.jsx("div",{className:"insert-comment-container",children:$.jsx("input",{onKeyUp:F=>{iM(F,O)},value:m,onChange:S,placeholder:"Leave a comment...",type:"text"})}),$.jsx("div",{className:"comments-container",children:M})]})]})})}function TZ({supabase:r}){const[i,a]=ee.useState({title:"",content:"",img:""}),l=Ma(),{id:u}=H5(),f=async()=>{const{data:k,error:w}=await r.from("posts").select().eq("id",u);console.log(k),a(k[0])};ee.useEffect(()=>{f()},[]);const p=k=>{let w,C;k.target?(w=k.target.name,C=k.target.value):(w="content",C=k.getData()),console.log("Name: ",w," value: ",C),a(_=>({..._,[w]:C})),console.log(C)},m=async()=>{await r.from("posts").update({title:i.title,content:i.content,img:i.img,category:i.category}).eq("id",u),alert("successfully updated!"),l(`/post/${u}`)};return $.jsx("div",{children:$.jsxs("div",{className:"create-container",children:[$.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",$.jsx("span",{className:"pastel-orange",children:"Post"})]}),$.jsx(nM,{handleChange:p,post:i}),$.jsx("button",{className:"btn orange-button",onClick:m,children:"Update Post"})]})})}function IZ(){return $.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-sm navbar-light",children:[$.jsx(ns,{to:"/",children:$.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),$.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto",children:$.jsx("h3",{children:"Bookshelf Chronicles"})}),$.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:$.jsx("span",{className:"navbar-toggler-icon"})}),$.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:$.jsxs("div",{className:"navbar-nav",children:[$.jsxs(ns,{to:"/",className:"nav-item nav-link",href:"#",children:["Home ",$.jsx("span",{className:"sr-only",children:"(current)"})]}),$.jsx(ns,{to:"/create",className:"nav-item nav-link",href:"#",children:"Create"}),$.jsx(ns,{to:"/getBookInfo",className:"nav-item nav-link",href:"#",children:"Get Book"})]})}),$.jsx(CZ,{})]})}const MZ="modulepreload",NZ=function(r){return"/Book-Chronicles/"+r},oD={},Zl=function(i,a,l){if(!a||a.length===0)return i();const u=document.getElementsByTagName("link");return Promise.all(a.map(f=>{if(f=NZ(f),f in oD)return;oD[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(!!l)for(let C=u.length-1;C>=0;C--){const _=u[C];if(_.href===f&&(!p||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${m}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":MZ,p||(w.as="script",w.crossOrigin=""),w.href=f,document.head.appendChild(w),p)return new Promise((C,_)=>{w.addEventListener("load",C),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>i()).catch(f=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f})},BZ=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...a)=>Zl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)};class fv extends Error{constructor(i,a="FunctionsError",l){super(i),this.name=a,this.context=l}}class PZ extends fv{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class OZ extends fv{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class zZ extends fv{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var LZ=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};class jZ{constructor(i,{headers:a={},customFetch:l}={}){this.url=i,this.headers=a,this.fetch=BZ(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,a={}){var l;return LZ(this,void 0,void 0,function*(){try{const{headers:u,method:f,body:p}=a;let m={},k;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(m["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(m["Content-Type"]="application/json",k=JSON.stringify(p)));const w=yield this.fetch(`${this.url}/${i}`,{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:k}).catch(x=>{throw new PZ(x)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new OZ(w);if(!w.ok)throw new zZ(w);let _=((l=w.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield w.json():_==="application/octet-stream"?A=yield w.blob():_==="multipart/form-data"?A=yield w.formData():A=yield w.text(),{data:A,error:null}}catch(u){return{data:null,error:u}}})}}var o_={exports:{}};(function(r,i){var a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Js<"u")return Js;throw new Error("unable to locate global object")},l=a();r.exports=i=l.fetch,l.fetch&&(i.default=l.fetch.bind(l)),i.Headers=l.Headers,i.Request=l.Request,i.Response=l.Response})(o_,o_.exports);var pv=o_.exports;const gv=vD(pv),Yl=_D({__proto__:null,default:gv},[pv]);class RZ{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=gv:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,k;let w=null,C=null,_=null,A=f.status,x=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=M:C=JSON.parse(M))}const T=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,_=null,A=406,x="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const T=await f.text();try{w=JSON.parse(T),Array.isArray(w)&&f.status===404&&(C=[],w=null,A=200,x="OK")}catch{f.status===404&&T===""?(A=204,x="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((k=w==null?void 0:w.details)===null||k===void 0)&&k.includes("0 rows"))&&(w=null,A=200,x="OK"),w&&this.shouldThrowOnError)throw w}return{error:w,data:C,count:_,status:A,statusText:x}});return this.shouldThrowOnError||(u=u.catch(f=>{var p,m,k;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(k=f==null?void 0:f.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}}class FZ extends RZ{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:l}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:p="text"}={}){const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),k=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${k}"; options=${m};`,p==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Qs extends FZ{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=a.map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${p}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}class VZ{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=a,this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),l&&(this.headers.Prefer=`count=${l}`),new Qs({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:l=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((m,k)=>m.concat(Object.keys(k)),[]);if(p.length>0){const m=[...new Set(p)].map(k=>`"${k}"`);this.url.searchParams.set("columns",m.join(","))}}return new Qs({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){const p="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const k=i.reduce((w,C)=>w.concat(Object.keys(C)),[]);if(k.length>0){const w=[...new Set(k)].map(C=>`"${C}"`);this.url.searchParams.set("columns",w.join(","))}}return new Qs({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new Qs({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Qs({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const UZ="1.8.5",HZ={"X-Client-Info":`postgrest-js/${UZ}`};class mv{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=Object.assign(Object.assign({},HZ),a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new VZ(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new mv(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,count:u}={}){let f;const p=new URL(`${this.url}/rpc/${i}`);let m;l?(f="HEAD",Object.entries(a).forEach(([w,C])=>{p.searchParams.append(w,`${C}`)})):(f="POST",m=a);const k=Object.assign({},this.headers);return u&&(k.Prefer=`count=${u}`),new Qs({method:f,url:p,headers:k,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var $b,rD;function $Z(){if(rD)return $b;rD=1;var r=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return $b=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}(),$b}const WZ="websocket",GZ="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",qZ=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],KZ="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ZZ=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],YZ="1.0.34",QZ={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},JZ="https://github.com/theturtle32/WebSocket-Node",XZ={node:">=4.0.0"},eY={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},tY={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},nY={verbose:!1},iY={test:"tape test/unit/*.js",gulp:"gulp"},oY="index",rY={lib:"./lib"},sY="lib/browser.js",aY="Apache-2.0",cY={name:WZ,description:GZ,keywords:qZ,author:KZ,contributors:ZZ,version:YZ,repository:QZ,homepage:JZ,engines:XZ,dependencies:eY,devDependencies:tY,config:nY,scripts:iY,main:oY,directories:rY,browser:sY,license:aY};var lY=cY.version,Qr;if(typeof globalThis=="object")Qr=globalThis;else try{Qr=$Z()}catch{}finally{if(!Qr&&typeof window<"u"&&(Qr=window),!Qr)throw new Error("Could not determine global this")}var zl=Qr.WebSocket||Qr.MozWebSocket,dY=lY;function oM(r,i){var a;return i?a=new zl(r,i):a=new zl(r),a}zl&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(r){Object.defineProperty(oM,r,{get:function(){return zl[r]}})});var uY={w3cwebsocket:zl?oM:null,version:dY};const hY="2.8.4",fY={"X-Client-Info":`realtime-js/${hY}`},pY="1.0.0",rM=1e4,gY=1e3;var gl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(gl||(gl={}));var Nn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Nn||(Nn={}));var bi;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(bi||(bi={}));var r_;(function(r){r.websocket="websocket"})(r_||(r_={}));var Jr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Jr||(Jr={}));class sM{constructor(i,a){this.callback=i,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class mY{constructor(){this.HEADER_LENGTH=1}decode(i,a){return i.constructor===ArrayBuffer?a(this._binaryDecode(i)):a(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const a=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,a,l)}_decodeBroadcast(i,a,l){const u=a.getUint8(1),f=a.getUint8(2);let p=this.HEADER_LENGTH+2;const m=l.decode(i.slice(p,p+u));p=p+u;const k=l.decode(i.slice(p,p+f));p=p+f;const w=JSON.parse(l.decode(i.slice(p,i.byteLength)));return{ref:null,topic:m,event:k,payload:w}}}class Wb{constructor(i,a,l={},u=rM){this.channel=i,this.event=a,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,a){var l;return this._hasReceived(i)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:a}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(a))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var sD;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(sD||(sD={}));class ml{constructor(i,a){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:f,onLeave:p,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,u,f,p),this.pendingDiffs.forEach(k=>{this.state=ml.syncDiff(this.state,k,f,p)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:f,onLeave:p,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ml.syncDiff(this.state,u,f,p),m())}),this.onJoin((u,f,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:p})}),this.onLeave((u,f,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,a,l,u){const f=this.cloneDeep(i),p=this.transformState(a),m={},k={};return this.map(f,(w,C)=>{p[w]||(k[w]=C)}),this.map(p,(w,C)=>{const _=f[w];if(_){const A=C.map(O=>O.presence_ref),x=_.map(O=>O.presence_ref),S=C.filter(O=>x.indexOf(O.presence_ref)<0),T=_.filter(O=>A.indexOf(O.presence_ref)<0);S.length>0&&(m[w]=S),T.length>0&&(k[w]=T)}else m[w]=C}),this.syncDiff(f,{joins:m,leaves:k},l,u)}static syncDiff(i,a,l,u){const{joins:f,leaves:p}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(f,(m,k)=>{var w;const C=(w=i[m])!==null&&w!==void 0?w:[];if(i[m]=this.cloneDeep(k),C.length>0){const _=i[m].map(x=>x.presence_ref),A=C.filter(x=>_.indexOf(x.presence_ref)<0);i[m].unshift(...A)}l(m,C,k)}),this.map(p,(m,k)=>{let w=i[m];if(!w)return;const C=k.map(_=>_.presence_ref);w=w.filter(_=>C.indexOf(_.presence_ref)<0),i[m]=w,u(m,w,k),w.length===0&&delete i[m]}),i}static map(i,a){return Object.getOwnPropertyNames(i).map(l=>a(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((a,l)=>{const u=i[l];return"metas"in u?a[l]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):a[l]=u,a},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(tt||(tt={}));const aD=(r,i,a={})=>{var l;const u=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((f,p)=>(f[p]=kY(p,r,i,u),f),{})},kY=(r,i,a,l)=>{const u=i.find(m=>m.name===r),f=u==null?void 0:u.type,p=a[r];return f&&!l.includes(f)?aM(f,p):s_(p)},aM=(r,i)=>{if(r.charAt(0)==="_"){const a=r.slice(1,r.length);return vY(i,a)}switch(r){case tt.bool:return bY(i);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return wY(i);case tt.json:case tt.jsonb:return _Y(i);case tt.timestamp:return AY(i);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return s_(i);default:return s_(i)}},s_=r=>r,bY=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},wY=r=>{if(typeof r=="string"){const i=parseFloat(r);if(!Number.isNaN(i))return i}return r},_Y=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},vY=(r,i)=>{if(typeof r!="string")return r;const a=r.length-1,l=r[a];if(r[0]==="{"&&l==="}"){let f;const p=r.slice(1,a);try{f=JSON.parse("["+p+"]")}catch{f=p?p.split(","):[]}return f.map(m=>aM(i,m))}return r},AY=r=>typeof r=="string"?r.replace(" ","T"):r;var cD;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(cD||(cD={}));var lD;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes"})(lD||(lD={}));var dD;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(dD||(dD={}));class kv{constructor(i,a={config:{}},l){this.topic=i,this.params=a,this.socket=l,this.bindings={},this.state=Nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},a.config),this.timeout=this.socket.timeout,this.joinPush=new Wb(this,bi.join,this.params,this.timeout),this.rejoinTimer=new sM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new ml(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(i,a=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:f,presence:p}}=this.params;this._onError(w=>i&&i("CHANNEL_ERROR",w)),this._onClose(()=>i&&i("CLOSED"));const m={},k={broadcast:f,presence:p,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&u!==void 0?u:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:k},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:w})=>{var C;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),w===void 0){i&&i("SUBSCRIBED");return}else{const _=this.bindings.postgres_changes,A=(C=_==null?void 0:_.length)!==null&&C!==void 0?C:0,x=[];for(let S=0;S<A;S++){const T=_[S],{filter:{event:O,schema:M,table:N,filter:P}}=T,j=w&&w[S];if(j&&j.event===O&&j.schema===M&&j.table===N&&j.filter===P)x.push(Object.assign(Object.assign({},T),{id:j.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,i&&i("SUBSCRIBED");return}}).receive("error",w=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(i,a={}){return await this.send({type:"presence",event:"track",payload:i},a.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,a,l){return this._on(i,a,l)}async send(i,a={}){var l,u;if(!this._canPush()&&i.type==="broadcast"){const{event:f,payload:p}=i,m={method:"POST",headers:{apikey:(l=this.socket.accessToken)!==null&&l!==void 0?l:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:p}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=a.timeout)!==null&&u!==void 0?u:this.timeout)).ok?"ok":"error"}catch(k){return k.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var p,m,k;const w=this._push(i.type,i,a.timeout||this.timeout);i.type==="broadcast"&&!(!((k=(m=(p=this.params)===null||p===void 0?void 0:p.config)===null||m===void 0?void 0:m.broadcast)===null||k===void 0)&&k.ack)&&f("ok"),w.receive("ok",()=>f("ok")),w.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Nn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new Wb(this,bi.leave,{},i);u.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let i=this.socket.endPoint;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(i,a,l){const u=new AbortController,f=setTimeout(()=>u.abort(),l),p=await this.socket.fetch(i,Object.assign(Object.assign({},a),{signal:u.signal}));return clearTimeout(f),p}_push(i,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Wb(this,i,a,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(i,a,l){return a}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,a,l){var u,f;const p=i.toLocaleLowerCase(),{close:m,error:k,leave:w,join:C}=bi;if(l&&[m,k,w,C].indexOf(p)>=0&&l!==this._joinRef())return;let A=this._onMessage(p,a,l);if(a&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var S,T,O;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(T=x.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===p}).map(x=>x.callback(A,l)):(f=this.bindings[p])===null||f===void 0||f.filter(x=>{var S,T,O,M,N,P;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in x){const j=x.id,F=(S=x.filter)===null||S===void 0?void 0:S.event;return j&&((T=a.ids)===null||T===void 0?void 0:T.includes(j))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const j=(N=(M=x==null?void 0:x.filter)===null||M===void 0?void 0:M.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return j==="*"||j===((P=a==null?void 0:a.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===p}).map(x=>{if(typeof A=="object"&&"ids"in A){const S=A.data,{schema:T,table:O,commit_timestamp:M,type:N,errors:P}=S;A=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:M,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(S))}x.callback(A,l)})}_isClosed(){return this.state===Nn.closed}_isJoined(){return this.state===Nn.joined}_isJoining(){return this.state===Nn.joining}_isLeaving(){return this.state===Nn.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,a,l){const u=i.toLocaleLowerCase(),f={type:u,filter:a,callback:l};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(i,a){const l=i.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&kv.isEqual(u.filter,a))}),this}static isEqual(i,a){if(Object.keys(i).length!==Object.keys(a).length)return!1;for(const l in i)if(i[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(bi.close,{},i)}_onError(i){this._on(bi.error,{},a=>i(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nn.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const a={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(a.new=aD(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(a.old=aD(i.columns,i.old_record)),a}}const CY=()=>{};class yY{constructor(i,a){var l;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=fY,this.params={},this.timeout=rM,this.transport=uY.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=CY,this.conn=null,this.sendBuffer=[],this.serializer=new mY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=f=>{let p;return f?p=f:typeof fetch>"u"?p=(...m)=>Zl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:k})=>k(...m)):p=fetch,(...m)=>p(...m)},this.endPoint=`${i}/${r_.websocket}`,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.transport&&(this.transport=a.transport),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const u=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;u&&(this.accessToken=u),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(f,p)=>p(JSON.stringify(f)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i)))}disconnect(i,a){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const a=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const i=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),i}log(i,a,l){this.logger(i,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case gl.connecting:return Jr.Connecting;case gl.open:return Jr.Open;case gl.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(i,a={config:{}}){const l=new kv(`realtime:${i}`,a,this);return this.channels.push(l),l}push(i){const{topic:a,event:l,payload:u,ref:f}=i,p=()=>{this.encode(i,m=>{var k;(k=this.conn)===null||k===void 0||k.send(m)})};this.log("push",`${a} ${l} (${f})`,u),this.isConnected()?p():this.sendBuffer.push(p)}setAuth(i){this.accessToken=i,this.channels.forEach(a=>{i&&a.updateJoinPayload({access_token:i}),a.joinedOnce&&a._isJoined()&&a._push(bi.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let a=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${i}"`),a.unsubscribe())}_remove(i){this.channels=this.channels.filter(a=>a._joinRef()!==i._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pY}))}_onConnMessage(i){this.decode(i.data,a=>{let{topic:l,event:u,payload:f,ref:p}=a;(p&&p===this.pendingHeartbeatRef||u===(f==null?void 0:f.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${l} ${u} ${p&&"("+p+")"||""}`,f),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,f,p)),this.stateChangeCallbacks.message.forEach(m=>m(a))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(bi.error))}_appendParams(i,a){if(Object.keys(a).length===0)return i;const l=i.match(/\?/)?"&":"?",u=new URLSearchParams(a);return`${i}${l}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(gY,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class bv extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function nn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class xY extends bv{constructor(i,a){super(i),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uD extends bv{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}}var EY=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};const cM=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...a)=>Zl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},SY=()=>EY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zl(()=>Promise.resolve().then(()=>Yl),void 0)).Response:Response});var La=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};const Gb=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),DY=(r,i)=>La(void 0,void 0,void 0,function*(){const a=yield SY();r instanceof a?r.json().then(l=>{i(new xY(Gb(l),r.status||500))}).catch(l=>{i(new uD(Gb(l),l))}):i(new uD(Gb(r),r))}),TY=(r,i,a,l)=>{const u={method:r,headers:(i==null?void 0:i.headers)||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};function Ef(r,i,a,l,u,f){return La(this,void 0,void 0,function*(){return new Promise((p,m)=>{r(a,TY(i,l,u,f)).then(k=>{if(!k.ok)throw k;return l!=null&&l.noResolveJson?k:k.json()}).then(k=>p(k)).catch(k=>DY(k,m))})})}function a_(r,i,a,l){return La(this,void 0,void 0,function*(){return Ef(r,"GET",i,a,l)})}function qo(r,i,a,l,u){return La(this,void 0,void 0,function*(){return Ef(r,"POST",i,l,u,a)})}function IY(r,i,a,l,u){return La(this,void 0,void 0,function*(){return Ef(r,"PUT",i,l,u,a)})}function lM(r,i,a,l,u){return La(this,void 0,void 0,function*(){return Ef(r,"DELETE",i,l,u,a)})}var Yn=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};const MY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NY{constructor(i,a={},l,u){this.url=i,this.headers=a,this.bucketId=l,this.fetch=cM(u)}uploadOrUpdate(i,a,l,u){return Yn(this,void 0,void 0,function*(){try{let f;const p=Object.assign(Object.assign({},hD),u),m=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.append("cacheControl",p.cacheControl)):(f=l,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const k=this._removeEmptyFolders(a),w=this._getFinalPath(k),C=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:i,body:f,headers:m},p!=null&&p.duplex?{duplex:p.duplex}:{}));return C.ok?{data:{path:k},error:null}:{data:null,error:yield C.json()}}catch(f){if(nn(f))return{data:null,error:f};throw f}})}upload(i,a,l){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,a,l)})}uploadToSignedUrl(i,a,l,u){return Yn(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(i),p=this._getFinalPath(f),m=new URL(this.url+`/object/upload/sign/${p}`);m.searchParams.set("token",a);try{let k;const w=Object.assign({upsert:hD.upsert},u),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(k=new FormData,k.append("cacheControl",w.cacheControl),k.append("",l)):typeof FormData<"u"&&l instanceof FormData?(k=l,k.append("cacheControl",w.cacheControl)):(k=l,C["cache-control"]=`max-age=${w.cacheControl}`,C["content-type"]=w.contentType);const _=yield this.fetch(m.toString(),{method:"PUT",body:k,headers:C});return _.ok?{data:{path:f},error:null}:{data:null,error:yield _.json()}}catch(k){if(nn(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(i){return Yn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const l=yield qo(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:this.headers}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new bv("No token returned by API");return{data:{signedUrl:u.toString(),path:i,token:f},error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}update(i,a,l){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,a,l)})}move(i,a){return Yn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers}),error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}copy(i,a){return Yn(this,void 0,void 0,function*(){try{return{data:{path:(yield qo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers})).Key},error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}createSignedUrl(i,a,l){return Yn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),f=yield qo(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const p=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${p}`)},{data:f,error:null}}catch(u){if(nn(u))return{data:null,error:u};throw u}})}createSignedUrls(i,a,l){return Yn(this,void 0,void 0,function*(){try{const u=yield qo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:i},{headers:this.headers}),f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${f}`):null})),error:null}}catch(u){if(nn(u))return{data:null,error:u};throw u}})}download(i,a){return Yn(this,void 0,void 0,function*(){const u=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),p=f?`?${f}`:"";try{const m=this._getFinalPath(i);return{data:yield(yield a_(this.fetch,`${this.url}/${u}/${m}${p}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(nn(m))return{data:null,error:m};throw m}})}getPublicUrl(i,a){const l=this._getFinalPath(i),u=[],f=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",k=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});k!==""&&u.push(k);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${w}`)}}}remove(i){return Yn(this,void 0,void 0,function*(){try{return{data:yield lM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}list(i,a,l){return Yn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},MY),a),{prefix:i||""});return{data:yield qo(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(nn(u))return{data:null,error:u};throw u}})}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}}const BY="2.5.4",PY={"X-Client-Info":`storage-js/${BY}`};var qs=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};class OY{constructor(i,a={},l){this.url=i,this.headers=Object.assign(Object.assign({},PY),a),this.fetch=cM(l)}listBuckets(){return qs(this,void 0,void 0,function*(){try{return{data:yield a_(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(nn(i))return{data:null,error:i};throw i}})}getBucket(i){return qs(this,void 0,void 0,function*(){try{return{data:yield a_(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}createBucket(i,a={public:!1}){return qs(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}updateBucket(i,a){return qs(this,void 0,void 0,function*(){try{return{data:yield IY(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}emptyBucket(i){return qs(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}deleteBucket(i){return qs(this,void 0,void 0,function*(){try{return{data:yield lM(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}}class zY extends OY{constructor(i,a={},l){super(i,a,l)}from(i){return new NY(this.url,this.headers,i,this.fetch)}}const LY="2.38.4";let nl="";typeof Deno<"u"?nl="deno":typeof document<"u"?nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nl="react-native":nl="node";const jY={"X-Client-Info":`supabase-js-${nl}/${LY}`};var RY=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};const FY=r=>{let i;return r?i=r:typeof fetch>"u"?i=gv:i=fetch,(...a)=>i(...a)},VY=()=>typeof Headers>"u"?pv.Headers:Headers,UY=(r,i,a)=>{const l=FY(a),u=VY();return(f,p)=>RY(void 0,void 0,void 0,function*(){var m;const k=(m=yield i())!==null&&m!==void 0?m:r;let w=new u(p==null?void 0:p.headers);return w.has("apikey")||w.set("apikey",r),w.has("Authorization")||w.set("Authorization",`Bearer ${k}`),l(f,Object.assign(Object.assign({},p),{headers:w}))})};function HY(r){return r.replace(/\/$/,"")}function $Y(r,i){const{db:a,auth:l,realtime:u,global:f}=r,{db:p,auth:m,realtime:k,global:w}=i;return{db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},k),u),global:Object.assign(Object.assign({},w),f)}}function WY(r){return Math.round(Date.now()/1e3)+r}function GY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}const ao=()=>typeof document<"u",Wr={tested:!1,writable:!1},kl=()=>{if(!ao())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function qb(r){const i={},a=new URL(r);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((u,f)=>{i[f]=u})}catch{}return a.searchParams.forEach((l,u)=>{i[u]=l}),i}const dM=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...a)=>Zl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},qY=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Gr=async(r,i,a)=>{await r.setItem(i,JSON.stringify(a))},rh=async(r,i)=>{const a=await r.getItem(i);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Kb=async(r,i)=>{await r.removeItem(i)};function KY(r){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",l,u,f,p,m,k,w,C=0;for(r=r.replace("-","+").replace("_","/");C<r.length;)p=i.indexOf(r.charAt(C++)),m=i.indexOf(r.charAt(C++)),k=i.indexOf(r.charAt(C++)),w=i.indexOf(r.charAt(C++)),l=p<<2|m>>4,u=(m&15)<<4|k>>2,f=(k&3)<<6|w,a=a+String.fromCharCode(l),k!=64&&u!=0&&(a=a+String.fromCharCode(u)),w!=64&&f!=0&&(a=a+String.fromCharCode(f));return a}class Sf{constructor(){this.promise=new Sf.promiseConstructor((i,a)=>{this.resolve=i,this.reject=a})}}Sf.promiseConstructor=Promise;function fD(r){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=r.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=a[1];return JSON.parse(KY(l))}async function ZY(r){return await new Promise(i=>{setTimeout(()=>i(null),r)})}function YY(r,i){return new Promise((l,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const p=await r(f);if(!i(f,null,p)){l(p);return}}catch(p){if(!i(f,p)){u(p);return}}})()})}function QY(r){return("0"+r.toString(16)).substr(-2)}function Ks(){const i=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let u="";for(let f=0;f<56;f++)u+=a.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(i),Array.from(i,QY).join("")}async function JY(r){const a=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",a),u=new Uint8Array(l);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}function XY(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const a=await JY(r);return XY(a)}class wv extends Error{constructor(i,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=a}}function Me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class eQ extends wv{constructor(i,a){super(i,a),this.name="AuthApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function tQ(r){return Me(r)&&r.name==="AuthApiError"}class uM extends wv{constructor(i,a){super(i),this.name="AuthUnknownError",this.originalError=a}}class ja extends wv{constructor(i,a,l){super(i),this.name=a,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ys extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Zb extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class sh extends ja{constructor(i){super(i,"AuthInvalidCredentialsError",400)}}class ah extends ja{constructor(i,a=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pD extends ja{constructor(i,a=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c_ extends ja{constructor(i,a){super(i,"AuthRetryableFetchError",a)}}function gD(r){return Me(r)&&r.name==="AuthRetryableFetchError"}var nQ=globalThis&&globalThis.__rest||function(r,i){var a={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(a[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(a[l[u]]=r[l[u]]);return a};const il=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),iQ=[502,503,504];async function mD(r){if(!qY(r))throw new c_(il(r),0);if(iQ.includes(r.status))throw new c_(il(r),r.status);let i;try{i=await r.json()}catch(a){throw new uM(il(a),a)}throw new eQ(il(i),r.status||500)}const oQ=(r,i,a,l)=>{const u={method:r,headers:(i==null?void 0:i.headers)||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};async function Oe(r,i,a,l){var u;const f=Object.assign({},l==null?void 0:l.headers);l!=null&&l.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const p=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(p.redirect_to=l.redirectTo);const m=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",k=await rQ(r,i,a+m,{headers:f,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(k):{data:Object.assign({},k),error:null}}async function rQ(r,i,a,l,u,f){const p=oQ(i,l,u,f);let m;try{m=await r(a,p)}catch(k){throw console.error(k),new c_(il(k),0)}if(m.ok||await mD(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(k){await mD(k)}}function Ho(r){var i;let a=null;lQ(r)&&(a=Object.assign({},r),r.expires_at||(a.expires_at=WY(r.expires_in)));const l=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:a,user:l},error:null}}function Qo(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function sQ(r){return{data:r,error:null}}function aQ(r){const{action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f}=r,p=nQ(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f},k=Object.assign({},p);return{data:{properties:m,user:k},error:null}}function cQ(r){return r}function lQ(r){return r.access_token&&r.refresh_token&&r.expires_in}var dQ=globalThis&&globalThis.__rest||function(r,i){var a={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(a[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(a[l[u]]=r[l[u]]);return a};class uQ{constructor({url:i="",headers:a={},fetch:l}){this.url=i,this.headers=a,this.fetch=dM(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,a="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Me(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,a={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Qo})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:a}=i,l=dQ(i,["options"]),u=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:aQ,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(Me(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(i){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Qo})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async listUsers(i){var a,l,u,f,p,m,k;try{const w={nextPage:null,lastPage:0,total:0},C=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=i==null?void 0:i.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(f=(u=i==null?void 0:i.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:cQ});if(C.error)throw C.error;const _=await C.json(),A=(p=C.headers.get("x-total-count"))!==null&&p!==void 0?p:0,x=(k=(m=C.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&k!==void 0?k:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);w[`${O}Page`]=T}),w.total=parseInt(A)),{data:Object.assign(Object.assign({},_),w),error:null}}catch(w){if(Me(w))return{data:{users:[]},error:w};throw w}}async getUserById(i){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Qo})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async updateUserById(i,a){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:a,headers:this.headers,xform:Qo})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,a=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:a},xform:Qo})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){try{const{data:a,error:l}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:a,error:l}}catch(a){if(Me(a))return{data:null,error:a};throw a}}async _deleteFactor(i){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(a){if(Me(a))return{data:null,error:a};throw a}}}const hM="2.57.0",hQ="http://localhost:9999",fQ="supabase.auth.token",pQ={"X-Client-Info":`gotrue-js/${hM}`},kD=10,gQ={getItem:r=>kl()?globalThis.localStorage.getItem(r):null,setItem:(r,i)=>{kl()&&globalThis.localStorage.setItem(r,i)},removeItem:r=>{kl()&&globalThis.localStorage.removeItem(r)}};function bD(r={}){return{getItem:i=>r[i]||null,setItem:(i,a)=>{r[i]=a},removeItem:i=>{delete r[i]}}}function mQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&kl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class kQ extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}mQ();const bQ={url:hQ,storageKey:fQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pQ,flowType:"implicit",debug:!1},Zc=30*1e3,wD=3;async function wQ(r,i,a){return await a()}class Ll{constructor(i){var a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ll.nextInstanceID,Ll.nextInstanceID+=1,this.instanceID>0&&ao()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},bQ),i);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new uQ({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=dM(l.fetch),this.lock=l.lock||wQ,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:kl()?this.storage=gQ:(this.memoryStorage={},this.storage=bD(this.memoryStorage)):(this.memoryStorage={},this.storage=bD(this.memoryStorage)),ao()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hM}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const i=ao()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",i),i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:l}=await this._getSessionFromURL(i);if(l)return this._debug("#_initialize()","error detecting session from URL",l),await this._removeSession(),{error:l};const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Me(i)?{error:i}:{error:new uM("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(i){var a,l,u;try{await this._removeSession();let f;if("email"in i){const{email:C,password:_,options:A}=i;let x=null,S=null;if(this.flowType==="pkce"){const T=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,T),x=await Zs(T),S=T===x?"plain":"s256"}f=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:C,password:_,data:(a=A==null?void 0:A.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:x,code_challenge_method:S},xform:Ho})}else if("phone"in i){const{phone:C,password:_,options:A}=i;f=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:_,data:(l=A==null?void 0:A.data)!==null&&l!==void 0?l:{},channel:(u=A==null?void 0:A.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Ho})}else throw new sh("You must provide either an email or phone number and a password");const{data:p,error:m}=f;if(m||!p)return{data:{user:null,session:null},error:m};const k=p.session,w=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:w,session:k},error:null}}catch(f){if(Me(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(i){try{await this._removeSession();let a;if("email"in i){const{email:f,password:p,options:m}=i;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:p,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ho})}else if("phone"in i){const{phone:f,password:p,options:m}=i;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:p,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ho})}else throw new sh("You must provide either an email or phone number and a password");const{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zb}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:{user:l.user,session:l.session},error:u})}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(i){var a,l,u,f;return await this._removeSession(),await this._handleProviderSignIn(i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const a=await rh(this.storage,`${this.storageKey}-code-verifier`),{data:l,error:u}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:Ho});return await Kb(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zb}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}async signInWithIdToken(i){await this._removeSession();try{const{options:a,provider:l,token:u,access_token:f,nonce:p}=i,m=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:f,nonce:p,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ho}),{data:k,error:w}=m;return w?{data:{user:null,session:null},error:w}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new Zb}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:w})}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(i){var a,l,u,f,p;try{if(await this._removeSession(),"email"in i){const{email:m,options:k}=i;let w=null,C=null;if(this.flowType==="pkce"){const A=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,A),w=await Zs(A),C=A===w?"plain":"s256"}const{error:_}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=k==null?void 0:k.data)!==null&&a!==void 0?a:{},create_user:(l=k==null?void 0:k.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:w,code_challenge_method:C},redirectTo:k==null?void 0:k.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in i){const{phone:m,options:k}=i,{data:w,error:C}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=k==null?void 0:k.data)!==null&&u!==void 0?u:{},create_user:(f=k==null?void 0:k.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},channel:(p=k==null?void 0:k.channel)!==null&&p!==void 0?p:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:C}}throw new sh("You must provide either an email or phone number.")}catch(m){if(Me(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(i){var a,l;try{i.type!=="email_change"&&i.type!=="phone_change"&&await this._removeSession();let u,f;"options"in i&&(u=(a=i.options)===null||a===void 0?void 0:a.redirectTo,f=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:p,error:m}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:Ho});if(m)throw m;if(!p)throw new Error("An error occurred on token verification.");const k=p.session,w=p.user;return k!=null&&k.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:w,session:k},error:null}}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var a,l,u;try{await this._removeSession();let f=null,p=null;if(this.flowType==="pkce"){const m=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,m),f=await Zs(m),p=m===f?"plain":"s256"}return await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(a=i.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=i==null?void 0:i.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:sQ})}catch(f){if(Me(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)throw l;if(!a)throw new Ys;const{error:u}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{i.type!="email_change"&&i.type!="phone_change"&&await this._removeSession();const a=`${this.url}/resend`;if("email"in i){const{email:l,type:u,options:f}=i,{error:p}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}else if("phone"in i){const{phone:l,type:u,options:f}=i,{data:p,error:m}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new sh("You must provide either an email or phone number and a type")}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(i,a){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await i(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const a=await rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?i=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l)return{data:{session:i},error:null};const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{session:null},error:f}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Qo}):await this._useSession(async a=>{var l,u;const{data:f,error:p}=a;if(p)throw p;return await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Qo})})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async updateUser(i,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,a))}async _updateUser(i,a={}){try{return await this._useSession(async l=>{const{data:u,error:f}=l;if(f)throw f;if(!u.session)throw new Ys;const p=u.session;let m=null,k=null;if(this.flowType==="pkce"&&i.email!=null){const _=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,_),m=await Zs(_),k=_===m?"plain":"s256"}const{data:w,error:C}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:m,code_challenge_method:k}),jwt:p.access_token,xform:Qo});if(C)throw C;return p.user=w.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),{data:{user:p.user},error:null}})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}_decodeJWT(i){return fD(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Ys;const a=Date.now()/1e3;let l=a,u=!0,f=null;const p=fD(i.access_token);if(p.exp&&(l=p.exp,u=l<=a),u){const{session:m,error:k}=await this._callRefreshToken(i.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:k}=await this._getUser(i.access_token);if(k)throw k;f={access_token:i.access_token,refresh_token:i.refresh_token,user:m.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(a){if(Me(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async a=>{var l;if(!i){const{data:p,error:m}=a;if(m)throw m;i=(l=p.session)!==null&&l!==void 0?l:void 0}if(!(i!=null&&i.refresh_token))throw new Ys;const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{user:null,session:null},error:f}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(i){try{if(!ao())throw new ah("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ah("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new pD("Not a valid PKCE flow url.");const a=qb(window.location.href);if(i){if(!a.code)throw new pD("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(a.code);if(P)throw P;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:N.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new ah(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:u,access_token:f,refresh_token:p,expires_in:m,expires_at:k,token_type:w}=a;if(!f||!m||!p||!w)throw new ah("No session defined in URL");const C=Math.round(Date.now()/1e3),_=parseInt(m);let A=C+_;k&&(A=parseInt(k));const x=A-C;x*1e3<=Zc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const S=A-_;C-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,A,C):C-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",S,A,C);const{data:T,error:O}=await this._getUser(f);if(O)throw O;const M={provider_token:l,provider_refresh_token:u,access_token:f,expires_in:_,expires_at:A,refresh_token:p,token_type:w,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:a.type},error:null}}catch(a){if(Me(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const i=qb(window.location.href);return!!(ao()&&(i.access_token||i.error_description))}async _isPKCEFlow(){const i=qb(window.location.href),a=await rh(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&a)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{error:f};const p=(l=u.session)===null||l===void 0?void 0:l.access_token;if(p){const{error:m}=await this.admin.signOut(p,i);if(m&&!(tQ(m)&&(m.status===404||m.status===401)))return{error:m}}return i!=="others"&&(await this._removeSession(),await Kb(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(i){const a=GY(),l={id:a,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async a=>{var l,u;try{const{data:{session:f},error:p}=a;if(p)throw p;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,a={}){let l=null,u=null;if(this.flowType==="pkce"){const f=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,f),l=await Zs(f),u=f===l?"plain":"s256"}try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(f){if(Me(f))return{data:null,error:f};throw f}}async _refreshAccessToken(i){const a=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await YY(async u=>(await ZY(u*200),this._debug(a,"refreshing attempt",u),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:Ho})),(u,f,p)=>p&&p.error&&gD(p.error)&&Date.now()+(u+1)*200-l<Zc)}catch(l){if(this._debug(a,"error",l),Me(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,a){const l=await this._getUrlForProvider(i,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",a,"url",l),ao()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await rh(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),f=((i=l.expires_at)!==null&&i!==void 0?i:1/0)<u+kD;if(this._debug(a,`session has${f?"":" not"} expired with margin of ${kD}s`),f){if(this.autoRefreshToken&&l.refresh_token){const{error:p}=await this._callRefreshToken(l.refresh_token);p&&(console.error(p),gD(p)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(i){var a,l;if(!i)throw new Ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Sf;const{data:f,error:p}=await this._refreshAccessToken(i);if(p)throw p;if(!f.session)throw new Ys;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={session:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(u,"error",f),Me(f)){const p={session:null,error:f};return(a=this.refreshingDeferred)===null||a===void 0||a.resolve(p),p}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,a,l=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:a});const f=[],p=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(i,a)}catch(k){f.push(k)}});if(await Promise.all(p),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),await this._persistSession(i)}_persistSession(i){return this._debug("#_persistSession()",i),Gr(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await Kb(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&ao()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Zc);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-i)/Zc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Zc}ms, refresh threshold is ${wD} ticks`),u<=wD&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof kQ)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ao()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const a=`#_onVisibilityChanged(${i})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const u=Ks();await Gr(this.storage,`${this.storageKey}-code-verifier`,u);const f=await Zs(u),p=u===f?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",f,"method",p);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(p)}`});l.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return`${this.url}/authorize?${l.join("&")}`}async _unenroll(i){try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async _enroll(i){try{return await this._useSession(async a=>{var l,u;const{data:f,error:p}=a;if(p)return{data:null,error:p};const{data:m,error:k}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(l=f==null?void 0:f.session)===null||l===void 0?void 0:l.access_token});return k?{data:null,error:k}:(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{data:null,error:f};const{data:p,error:m}=await Oe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:m})})}catch(a){if(Me(a))return{data:null,error:a};throw a}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Oe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Me(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(i){const{data:a,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:a.id,code:i.code})}async _listFactors(){const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(i==null?void 0:i.factors)||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified");return{data:{all:l,totp:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var a,l;const{data:{session:u},error:f}=i;if(f)return{data:null,error:f};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const p=this._decodeJWT(u.access_token);let m=null;p.aal&&(m=p.aal);let k=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(k="aal2");const C=p.amr||[];return{data:{currentLevel:m,nextLevel:k,currentAuthenticationMethods:C},error:null}}))}}Ll.nextInstanceID=0;class _Q extends Ll{constructor(i){super(i)}}var vQ=globalThis&&globalThis.__awaiter||function(r,i,a,l){function u(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function m(C){try{w(l.next(C))}catch(_){p(_)}}function k(C){try{w(l.throw(C))}catch(_){p(_)}}function w(C){C.done?f(C.value):u(C.value).then(m,k)}w((l=l.apply(r,i||[])).next())})};const AQ={headers:jY},CQ={schema:"public"},yQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xQ={};class EQ{constructor(i,a,l){var u,f,p,m,k,w,C,_;if(this.supabaseUrl=i,this.supabaseKey=a,!i)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const A=HY(i);this.realtimeUrl=`${A}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${A}/auth/v1`,this.storageUrl=`${A}/storage/v1`,this.functionsUrl=`${A}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:CQ,realtime:xQ,auth:Object.assign(Object.assign({},yQ),{storageKey:x}),global:AQ},T=$Y(l??{},S);this.storageKey=(f=(u=T.auth)===null||u===void 0?void 0:u.storageKey)!==null&&f!==void 0?f:"",this.headers=(m=(p=T.global)===null||p===void 0?void 0:p.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((k=T.auth)!==null&&k!==void 0?k:{},this.headers,(w=T.global)===null||w===void 0?void 0:w.fetch),this.fetch=UY(a,this._getAccessToken.bind(this),(C=T.global)===null||C===void 0?void 0:C.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new mv(`${A}/rest/v1`,{headers:this.headers,schema:(_=T.db)===null||_===void 0?void 0:_.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new jZ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zY(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},l){return this.rest.rpc(i,a,l)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,a;return vQ(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,storageKey:f,flowType:p,debug:m},k,w){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _Q({url:this.authUrl,headers:Object.assign(Object.assign({},C),k),storageKey:f,autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,flowType:p,debug:m,fetch:w})}_initRealtimeClient(i){return new yY(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(i,a,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SQ=(r,i,a)=>new EQ(r,i,a),DQ="https://wfmzmjdkdoryaeunljkv.supabase.co",TQ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",ch=SQ(DQ,TQ);function IQ(){return $.jsxs($.Fragment,{children:[$.jsx(IZ,{}),$.jsxs(AG,{children:[$.jsx(Zr,{path:"/",element:$.jsx(mZ,{supabase:ch})}),$.jsx(Zr,{path:"/create",element:$.jsx(_Z,{supabase:ch})}),$.jsx(Zr,{path:"/post/:id",element:$.jsx(DZ,{supabase:ch})}),$.jsx(Zr,{path:"/post/:id/edit",element:$.jsx(TZ,{supabase:ch})}),$.jsx(Zr,{path:"/getBookInfo",element:$.jsx(yZ,{})}),$.jsx(Zr,{path:"*",element:$.jsx(kZ,{})})]})]})}Yb.createRoot(document.getElementById("root")).render($.jsx(MD.StrictMode,{children:$.jsx(DG,{children:$.jsx(IQ,{})})}))});export default MQ();
