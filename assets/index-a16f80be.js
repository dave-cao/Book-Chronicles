var xP=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var WV=xP((Sn,zt)=>{function DE(i,n){for(var r=0;r<n.length;r++){const c=n[r];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in i)){const h=Object.getOwnPropertyDescriptor(c,u);h&&Object.defineProperty(i,u,h.get?h:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function db(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function EP(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var r=function c(){return this instanceof c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var u=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:function(){return i[c]}})}),r}var TE={exports:{}},Dg={},IE={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),SP=Symbol.for("react.portal"),DP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),IP=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),BP=Symbol.for("react.suspense"),PP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),rx=Symbol.iterator;function zP(i){return i===null||typeof i!="object"?null:(i=rx&&i[rx]||i["@@iterator"],typeof i=="function"?i:null)}var ME={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NE=Object.assign,OE={};function $c(i,n,r){this.props=i,this.context=n,this.refs=OE,this.updater=r||ME}$c.prototype.isReactComponent={};$c.prototype.setState=function(i,n){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,n,"setState")};$c.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function BE(){}BE.prototype=$c.prototype;function ub(i,n,r){this.props=i,this.context=n,this.refs=OE,this.updater=r||ME}var hb=ub.prototype=new BE;hb.constructor=ub;NE(hb,$c.prototype);hb.isPureReactComponent=!0;var sx=Array.isArray,PE=Object.prototype.hasOwnProperty,fb={current:null},LE={key:!0,ref:!0,__self:!0,__source:!0};function zE(i,n,r){var c,u={},h=null,f=null;if(n!=null)for(c in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(h=""+n.key),n)PE.call(n,c)&&!LE.hasOwnProperty(c)&&(u[c]=n[c]);var m=arguments.length-2;if(m===1)u.children=r;else if(1<m){for(var b=Array(m),v=0;v<m;v++)b[v]=arguments[v+2];u.children=b}if(i&&i.defaultProps)for(c in m=i.defaultProps,m)u[c]===void 0&&(u[c]=m[c]);return{$$typeof:au,type:i,key:h,ref:f,props:u,_owner:fb.current}}function jP(i,n){return{$$typeof:au,type:i.type,key:n,ref:i.ref,props:i.props,_owner:i._owner}}function gb(i){return typeof i=="object"&&i!==null&&i.$$typeof===au}function RP(i){var n={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(r){return n[r]})}var ax=/\/+/g;function nk(i,n){return typeof i=="object"&&i!==null&&i.key!=null?RP(""+i.key):n.toString(36)}function Sf(i,n,r,c,u){var h=typeof i;(h==="undefined"||h==="boolean")&&(i=null);var f=!1;if(i===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(i.$$typeof){case au:case SP:f=!0}}if(f)return f=i,u=u(f),i=c===""?"."+nk(f,0):c,sx(u)?(r="",i!=null&&(r=i.replace(ax,"$&/")+"/"),Sf(u,n,r,"",function(v){return v})):u!=null&&(gb(u)&&(u=jP(u,r+(!u.key||f&&f.key===u.key?"":(""+u.key).replace(ax,"$&/")+"/")+i)),n.push(u)),1;if(f=0,c=c===""?".":c+":",sx(i))for(var m=0;m<i.length;m++){h=i[m];var b=c+nk(h,m);f+=Sf(h,n,r,b,u)}else if(b=zP(i),typeof b=="function")for(i=b.call(i),m=0;!(h=i.next()).done;)h=h.value,b=c+nk(h,m++),f+=Sf(h,n,r,b,u);else if(h==="object")throw n=String(i),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function Zh(i,n,r){if(i==null)return i;var c=[],u=0;return Sf(i,c,"","",function(h){return n.call(r,h,u++)}),c}function FP(i){if(i._status===-1){var n=i._result;n=n(),n.then(function(r){(i._status===0||i._status===-1)&&(i._status=1,i._result=r)},function(r){(i._status===0||i._status===-1)&&(i._status=2,i._result=r)}),i._status===-1&&(i._status=0,i._result=n)}if(i._status===1)return i._result.default;throw i._result}var Xn={current:null},Df={transition:null},VP={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Df,ReactCurrentOwner:fb};Ue.Children={map:Zh,forEach:function(i,n,r){Zh(i,function(){n.apply(this,arguments)},r)},count:function(i){var n=0;return Zh(i,function(){n++}),n},toArray:function(i){return Zh(i,function(n){return n})||[]},only:function(i){if(!gb(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Ue.Component=$c;Ue.Fragment=DP;Ue.Profiler=IP;Ue.PureComponent=ub;Ue.StrictMode=TP;Ue.Suspense=BP;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;Ue.cloneElement=function(i,n,r){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var c=NE({},i.props),u=i.key,h=i.ref,f=i._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,f=fb.current),n.key!==void 0&&(u=""+n.key),i.type&&i.type.defaultProps)var m=i.type.defaultProps;for(b in n)PE.call(n,b)&&!LE.hasOwnProperty(b)&&(c[b]=n[b]===void 0&&m!==void 0?m[b]:n[b])}var b=arguments.length-2;if(b===1)c.children=r;else if(1<b){m=Array(b);for(var v=0;v<b;v++)m[v]=arguments[v+2];c.children=m}return{$$typeof:au,type:i.type,key:u,ref:h,props:c,_owner:f}};Ue.createContext=function(i){return i={$$typeof:NP,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:MP,_context:i},i.Consumer=i};Ue.createElement=zE;Ue.createFactory=function(i){var n=zE.bind(null,i);return n.type=i,n};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(i){return{$$typeof:OP,render:i}};Ue.isValidElement=gb;Ue.lazy=function(i){return{$$typeof:LP,_payload:{_status:-1,_result:i},_init:FP}};Ue.memo=function(i,n){return{$$typeof:PP,type:i,compare:n===void 0?null:n}};Ue.startTransition=function(i){var n=Df.transition;Df.transition={};try{i()}finally{Df.transition=n}};Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ue.useCallback=function(i,n){return Xn.current.useCallback(i,n)};Ue.useContext=function(i){return Xn.current.useContext(i)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(i){return Xn.current.useDeferredValue(i)};Ue.useEffect=function(i,n){return Xn.current.useEffect(i,n)};Ue.useId=function(){return Xn.current.useId()};Ue.useImperativeHandle=function(i,n,r){return Xn.current.useImperativeHandle(i,n,r)};Ue.useInsertionEffect=function(i,n){return Xn.current.useInsertionEffect(i,n)};Ue.useLayoutEffect=function(i,n){return Xn.current.useLayoutEffect(i,n)};Ue.useMemo=function(i,n){return Xn.current.useMemo(i,n)};Ue.useReducer=function(i,n,r){return Xn.current.useReducer(i,n,r)};Ue.useRef=function(i){return Xn.current.useRef(i)};Ue.useState=function(i){return Xn.current.useState(i)};Ue.useSyncExternalStore=function(i,n,r){return Xn.current.useSyncExternalStore(i,n,r)};Ue.useTransition=function(){return Xn.current.useTransition()};Ue.version="18.2.0";IE.exports=Ue;var Y=IE.exports;const mr=db(Y),UP=DE({__proto__:null,default:mr},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=Y,$P=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,GP=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YP={key:!0,ref:!0,__self:!0,__source:!0};function jE(i,n,r){var c,u={},h=null,f=null;r!==void 0&&(h=""+r),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(f=n.ref);for(c in n)qP.call(n,c)&&!YP.hasOwnProperty(c)&&(u[c]=n[c]);if(i&&i.defaultProps)for(c in n=i.defaultProps,n)u[c]===void 0&&(u[c]=n[c]);return{$$typeof:$P,type:i,key:h,ref:f,props:u,_owner:GP.current}}Dg.Fragment=WP;Dg.jsx=jE;Dg.jsxs=jE;TE.exports=Dg;var F=TE.exports,Wk={},RE={exports:{}},Bi={},FE={exports:{}},VE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function n(ie,ne){var ge=ie.length;ie.push(ne);e:for(;0<ge;){var me=ge-1>>>1,Ee=ie[me];if(0<u(Ee,ne))ie[me]=ne,ie[ge]=Ee,ge=me;else break e}}function r(ie){return ie.length===0?null:ie[0]}function c(ie){if(ie.length===0)return null;var ne=ie[0],ge=ie.pop();if(ge!==ne){ie[0]=ge;e:for(var me=0,Ee=ie.length,lt=Ee>>>1;me<lt;){var Ct=2*(me+1)-1,mt=ie[Ct],Ie=Ct+1,Mn=ie[Ie];if(0>u(mt,ge))Ie<Ee&&0>u(Mn,mt)?(ie[me]=Mn,ie[Ie]=ge,me=Ie):(ie[me]=mt,ie[Ct]=ge,me=Ct);else if(Ie<Ee&&0>u(Mn,ge))ie[me]=Mn,ie[Ie]=ge,me=Ie;else break e}}return ne}function u(ie,ne){var ge=ie.sortIndex-ne.sortIndex;return ge!==0?ge:ie.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var b=[],v=[],_=1,A=null,x=3,S=!1,T=!1,B=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ie){for(var ne=r(v);ne!==null;){if(ne.callback===null)c(v);else if(ne.startTime<=ie)c(v),ne.sortIndex=ne.expirationTime,n(b,ne);else break;ne=r(v)}}function U(ie){if(B=!1,E(ie),!T)if(r(b)!==null)T=!0,X(G);else{var ne=r(v);ne!==null&&re(U,ne.startTime-ie)}}function G(ie,ne){T=!1,B&&(B=!1,O(oe),oe=-1),S=!0;var ge=x;try{for(E(ne),A=r(b);A!==null&&(!(A.expirationTime>ne)||ie&&!K());){var me=A.callback;if(typeof me=="function"){A.callback=null,x=A.priorityLevel;var Ee=me(A.expirationTime<=ne);ne=i.unstable_now(),typeof Ee=="function"?A.callback=Ee:A===r(b)&&c(b),E(ne)}else c(b);A=r(b)}if(A!==null)var lt=!0;else{var Ct=r(v);Ct!==null&&re(U,Ct.startTime-ne),lt=!1}return lt}finally{A=null,x=ge,S=!1}}var te=!1,J=null,oe=-1,le=5,pe=-1;function K(){return!(i.unstable_now()-pe<le)}function Z(){if(J!==null){var ie=i.unstable_now();pe=ie;var ne=!0;try{ne=J(!0,ie)}finally{ne?$():(te=!1,J=null)}}else te=!1}var $;if(typeof L=="function")$=function(){L(Z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=Z,$=function(){H.postMessage(null)}}else $=function(){R(Z,0)};function X(ie){J=ie,te||(te=!0,$())}function re(ie,ne){oe=R(function(){ie(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){T||S||(T=!0,X(G))},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return r(b)},i.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var ge=x;x=ne;try{return ie()}finally{x=ge}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,ne){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=x;x=ie;try{return ne()}finally{x=ge}},i.unstable_scheduleCallback=function(ie,ne,ge){var me=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?me+ge:me):ge=me,ie){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ge+Ee,ie={id:_++,callback:ne,priorityLevel:ie,startTime:ge,expirationTime:Ee,sortIndex:-1},ge>me?(ie.sortIndex=ge,n(v,ie),r(b)===null&&ie===r(v)&&(B?(O(oe),oe=-1):B=!0,re(U,ge-me))):(ie.sortIndex=Ee,n(b,ie),T||S||(T=!0,X(G))),ie},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(ie){var ne=x;return function(){var ge=x;x=ne;try{return ie.apply(this,arguments)}finally{x=ge}}}})(VE);FE.exports=VE;var KP=FE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=Y,Oi=KP;function he(i){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+i,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,Fd={};function va(i,n){Bc(i,n),Bc(i+"Capture",n)}function Bc(i,n){for(Fd[i]=n,i=0;i<n.length;i++)HE.add(n[i])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qk=Object.prototype.hasOwnProperty,ZP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},lx={};function QP(i){return qk.call(lx,i)?!0:qk.call(cx,i)?!1:ZP.test(i)?lx[i]=!0:(cx[i]=!0,!1)}function JP(i,n,r,c){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:r!==null?!r.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function XP(i,n,r,c){if(n===null||typeof n>"u"||JP(i,n,r,c))return!0;if(c)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ei(i,n,r,c,u,h,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=i,this.type=n,this.sanitizeURL=h,this.removeEmptyString=f}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){In[i]=new ei(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var n=i[0];In[n]=new ei(n,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){In[i]=new ei(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){In[i]=new ei(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){In[i]=new ei(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){In[i]=new ei(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){In[i]=new ei(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){In[i]=new ei(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){In[i]=new ei(i,5,!1,i.toLowerCase(),null,!1,!1)});var pb=/[\-:]([a-z])/g;function mb(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var n=i.replace(pb,mb);In[n]=new ei(n,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var n=i.replace(pb,mb);In[n]=new ei(n,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var n=i.replace(pb,mb);In[n]=new ei(n,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){In[i]=new ei(i,1,!1,i.toLowerCase(),null,!1,!1)});In.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){In[i]=new ei(i,1,!1,i.toLowerCase(),null,!0,!0)});function kb(i,n,r,c){var u=In.hasOwnProperty(n)?In[n]:null;(u!==null?u.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(XP(n,r,u,c)&&(r=null),c||u===null?QP(n)&&(r===null?i.removeAttribute(n):i.setAttribute(n,""+r)):u.mustUseProperty?i[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,c=u.attributeNamespace,r===null?i.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,c?i.setAttributeNS(c,n,r):i.setAttribute(n,r))))}var Tr=UE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),gc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),Gk=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),WE=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),Yk=Symbol.for("react.suspense"),Kk=Symbol.for("react.suspense_list"),vb=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),qE=Symbol.for("react.offscreen"),dx=Symbol.iterator;function sd(i){return i===null||typeof i!="object"?null:(i=dx&&i[dx]||i["@@iterator"],typeof i=="function"?i:null)}var Ot=Object.assign,ik;function kd(i){if(ik===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ik=n&&n[1]||""}return`
`+ik+i}var ok=!1;function rk(i,n){if(!i||ok)return"";ok=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(v){var c=v}Reflect.construct(i,[],n)}else{try{n.call()}catch(v){c=v}i.call(n.prototype)}else{try{throw Error()}catch(v){c=v}i()}}catch(v){if(v&&c&&typeof v.stack=="string"){for(var u=v.stack.split(`
`),h=c.stack.split(`
`),f=u.length-1,m=h.length-1;1<=f&&0<=m&&u[f]!==h[m];)m--;for(;1<=f&&0<=m;f--,m--)if(u[f]!==h[m]){if(f!==1||m!==1)do if(f--,m--,0>m||u[f]!==h[m]){var b=`
`+u[f].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=f&&0<=m);break}}}finally{ok=!1,Error.prepareStackTrace=r}return(i=i?i.displayName||i.name:"")?kd(i):""}function eL(i){switch(i.tag){case 5:return kd(i.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return i=rk(i.type,!1),i;case 11:return i=rk(i.type.render,!1),i;case 1:return i=rk(i.type,!0),i;default:return""}}function Zk(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case pc:return"Fragment";case gc:return"Portal";case Gk:return"Profiler";case bb:return"StrictMode";case Yk:return"Suspense";case Kk:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case WE:return(i.displayName||"Context")+".Consumer";case $E:return(i._context.displayName||"Context")+".Provider";case wb:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case vb:return n=i.displayName||null,n!==null?n:Zk(i.type)||"Memo";case Xr:n=i._payload,i=i._init;try{return Zk(i(n))}catch{}}return null}function tL(i){var n=i.type;switch(i.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=n.render,i=i.displayName||i.name||"",n.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zk(n);case 8:return n===bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function vs(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function GE(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nL(i){var n=GE(i)?"checked":"value",r=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),c=""+i[n];if(!i.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return u.call(this)},set:function(f){c=""+f,h.call(this,f)}}),Object.defineProperty(i,n,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(f){c=""+f},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Jh(i){i._valueTracker||(i._valueTracker=nL(i))}function YE(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var r=n.getValue(),c="";return i&&(c=GE(i)?i.checked?"true":"false":i.value),i=c,i!==r?(n.setValue(i),!0):!1}function $f(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Qk(i,n){var r=n.checked;return Ot({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??i._wrapperState.initialChecked})}function ux(i,n){var r=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;r=vs(n.value!=null?n.value:r),i._wrapperState={initialChecked:c,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function KE(i,n){n=n.checked,n!=null&&kb(i,"checked",n,!1)}function Jk(i,n){KE(i,n);var r=vs(n.value),c=n.type;if(r!=null)c==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+r):i.value!==""+r&&(i.value=""+r);else if(c==="submit"||c==="reset"){i.removeAttribute("value");return}n.hasOwnProperty("value")?Xk(i,n.type,r):n.hasOwnProperty("defaultValue")&&Xk(i,n.type,vs(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(i.defaultChecked=!!n.defaultChecked)}function hx(i,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+i._wrapperState.initialValue,r||n===i.value||(i.value=n),i.defaultValue=n}r=i.name,r!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,r!==""&&(i.name=r)}function Xk(i,n,r){(n!=="number"||$f(i.ownerDocument)!==i)&&(r==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+r&&(i.defaultValue=""+r))}var bd=Array.isArray;function Ec(i,n,r,c){if(i=i.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<i.length;r++)u=n.hasOwnProperty("$"+i[r].value),i[r].selected!==u&&(i[r].selected=u),u&&c&&(i[r].defaultSelected=!0)}else{for(r=""+vs(r),n=null,u=0;u<i.length;u++){if(i[u].value===r){i[u].selected=!0,c&&(i[u].defaultSelected=!0);return}n!==null||i[u].disabled||(n=i[u])}n!==null&&(n.selected=!0)}}function e0(i,n){if(n.dangerouslySetInnerHTML!=null)throw Error(he(91));return Ot({},n,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function fx(i,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(he(92));if(bd(r)){if(1<r.length)throw Error(he(93));r=r[0]}n=r}n==null&&(n=""),r=n}i._wrapperState={initialValue:vs(r)}}function ZE(i,n){var r=vs(n.value),c=vs(n.defaultValue);r!=null&&(r=""+r,r!==i.value&&(i.value=r),n.defaultValue==null&&i.defaultValue!==r&&(i.defaultValue=r)),c!=null&&(i.defaultValue=""+c)}function gx(i){var n=i.textContent;n===i._wrapperState.initialValue&&n!==""&&n!==null&&(i.value=n)}function QE(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t0(i,n){return i==null||i==="http://www.w3.org/1999/xhtml"?QE(n):i==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xh,JE=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,c,u){MSApp.execUnsafeLocalFunction(function(){return i(n,r,c,u)})}:i}(function(i,n){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=n;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;n.firstChild;)i.appendChild(n.firstChild)}});function Vd(i,n){if(n){var r=i.firstChild;if(r&&r===i.lastChild&&r.nodeType===3){r.nodeValue=n;return}}i.textContent=n}var xd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iL=["Webkit","ms","Moz","O"];Object.keys(xd).forEach(function(i){iL.forEach(function(n){n=n+i.charAt(0).toUpperCase()+i.substring(1),xd[n]=xd[i]})});function XE(i,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||xd.hasOwnProperty(i)&&xd[i]?(""+n).trim():n+"px"}function eS(i,n){i=i.style;for(var r in n)if(n.hasOwnProperty(r)){var c=r.indexOf("--")===0,u=XE(r,n[r],c);r==="float"&&(r="cssFloat"),c?i.setProperty(r,u):i[r]=u}}var oL=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n0(i,n){if(n){if(oL[i]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(he(137,i));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(he(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(he(61))}if(n.style!=null&&typeof n.style!="object")throw Error(he(62))}}function i0(i,n){if(i.indexOf("-")===-1)return typeof n.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o0=null;function _b(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var r0=null,Sc=null,Dc=null;function px(i){if(i=du(i)){if(typeof r0!="function")throw Error(he(280));var n=i.stateNode;n&&(n=Og(n),r0(i.stateNode,i.type,n))}}function tS(i){Sc?Dc?Dc.push(i):Dc=[i]:Sc=i}function nS(){if(Sc){var i=Sc,n=Dc;if(Dc=Sc=null,px(i),n)for(i=0;i<n.length;i++)px(n[i])}}function iS(i,n){return i(n)}function oS(){}var sk=!1;function rS(i,n,r){if(sk)return i(n,r);sk=!0;try{return iS(i,n,r)}finally{sk=!1,(Sc!==null||Dc!==null)&&(oS(),nS())}}function Ud(i,n){var r=i.stateNode;if(r===null)return null;var c=Og(r);if(c===null)return null;r=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(r&&typeof r!="function")throw Error(he(231,n,typeof r));return r}var s0=!1;if(_r)try{var ad={};Object.defineProperty(ad,"passive",{get:function(){s0=!0}}),window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{s0=!1}function rL(i,n,r,c,u,h,f,m,b){var v=Array.prototype.slice.call(arguments,3);try{n.apply(r,v)}catch(_){this.onError(_)}}var Ed=!1,Wf=null,qf=!1,a0=null,sL={onError:function(i){Ed=!0,Wf=i}};function aL(i,n,r,c,u,h,f,m,b){Ed=!1,Wf=null,rL.apply(sL,arguments)}function cL(i,n,r,c,u,h,f,m,b){if(aL.apply(this,arguments),Ed){if(Ed){var v=Wf;Ed=!1,Wf=null}else throw Error(he(198));qf||(qf=!0,a0=v)}}function _a(i){var n=i,r=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,n.flags&4098&&(r=n.return),i=n.return;while(i)}return n.tag===3?r:null}function sS(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function mx(i){if(_a(i)!==i)throw Error(he(188))}function lL(i){var n=i.alternate;if(!n){if(n=_a(i),n===null)throw Error(he(188));return n!==i?null:i}for(var r=i,c=n;;){var u=r.return;if(u===null)break;var h=u.alternate;if(h===null){if(c=u.return,c!==null){r=c;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===r)return mx(u),i;if(h===c)return mx(u),n;h=h.sibling}throw Error(he(188))}if(r.return!==c.return)r=u,c=h;else{for(var f=!1,m=u.child;m;){if(m===r){f=!0,r=u,c=h;break}if(m===c){f=!0,c=u,r=h;break}m=m.sibling}if(!f){for(m=h.child;m;){if(m===r){f=!0,r=h,c=u;break}if(m===c){f=!0,c=h,r=u;break}m=m.sibling}if(!f)throw Error(he(189))}}if(r.alternate!==c)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?i:n}function aS(i){return i=lL(i),i!==null?cS(i):null}function cS(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var n=cS(i);if(n!==null)return n;i=i.sibling}return null}var lS=Oi.unstable_scheduleCallback,kx=Oi.unstable_cancelCallback,dL=Oi.unstable_shouldYield,uL=Oi.unstable_requestPaint,qt=Oi.unstable_now,hL=Oi.unstable_getCurrentPriorityLevel,yb=Oi.unstable_ImmediatePriority,dS=Oi.unstable_UserBlockingPriority,Gf=Oi.unstable_NormalPriority,fL=Oi.unstable_LowPriority,uS=Oi.unstable_IdlePriority,Tg=null,qo=null;function gL(i){if(qo&&typeof qo.onCommitFiberRoot=="function")try{qo.onCommitFiberRoot(Tg,i,void 0,(i.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:kL,pL=Math.log,mL=Math.LN2;function kL(i){return i>>>=0,i===0?32:31-(pL(i)/mL|0)|0}var ef=64,tf=4194304;function wd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Yf(i,n){var r=i.pendingLanes;if(r===0)return 0;var c=0,u=i.suspendedLanes,h=i.pingedLanes,f=r&268435455;if(f!==0){var m=f&~u;m!==0?c=wd(m):(h&=f,h!==0&&(c=wd(h)))}else f=r&~u,f!==0?c=wd(f):h!==0&&(c=wd(h));if(c===0)return 0;if(n!==0&&n!==c&&!(n&u)&&(u=c&-c,h=n&-n,u>=h||u===16&&(h&4194240)!==0))return n;if(c&4&&(c|=r&16),n=i.entangledLanes,n!==0)for(i=i.entanglements,n&=c;0<n;)r=31-yo(n),u=1<<r,c|=i[r],n&=~u;return c}function bL(i,n){switch(i){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wL(i,n){for(var r=i.suspendedLanes,c=i.pingedLanes,u=i.expirationTimes,h=i.pendingLanes;0<h;){var f=31-yo(h),m=1<<f,b=u[f];b===-1?(!(m&r)||m&c)&&(u[f]=bL(m,n)):b<=n&&(i.expiredLanes|=m),h&=~m}}function c0(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function hS(){var i=ef;return ef<<=1,!(ef&4194240)&&(ef=64),i}function ak(i){for(var n=[],r=0;31>r;r++)n.push(i);return n}function cu(i,n,r){i.pendingLanes|=n,n!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,n=31-yo(n),i[n]=r}function vL(i,n){var r=i.pendingLanes&~n;i.pendingLanes=n,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=n,i.mutableReadLanes&=n,i.entangledLanes&=n,n=i.entanglements;var c=i.eventTimes;for(i=i.expirationTimes;0<r;){var u=31-yo(r),h=1<<u;n[u]=0,c[u]=-1,i[u]=-1,r&=~h}}function Ab(i,n){var r=i.entangledLanes|=n;for(i=i.entanglements;r;){var c=31-yo(r),u=1<<c;u&n|i[c]&n&&(i[c]|=n),r&=~u}}var ct=0;function fS(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var gS,Cb,pS,mS,kS,l0=!1,nf=[],us=null,hs=null,fs=null,Hd=new Map,$d=new Map,is=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(i,n){switch(i){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Hd.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(n.pointerId)}}function cd(i,n,r,c,u,h){return i===null||i.nativeEvent!==h?(i={blockedOn:n,domEventName:r,eventSystemFlags:c,nativeEvent:h,targetContainers:[u]},n!==null&&(n=du(n),n!==null&&Cb(n)),i):(i.eventSystemFlags|=c,n=i.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),i)}function yL(i,n,r,c,u){switch(n){case"focusin":return us=cd(us,i,n,r,c,u),!0;case"dragenter":return hs=cd(hs,i,n,r,c,u),!0;case"mouseover":return fs=cd(fs,i,n,r,c,u),!0;case"pointerover":var h=u.pointerId;return Hd.set(h,cd(Hd.get(h)||null,i,n,r,c,u)),!0;case"gotpointercapture":return h=u.pointerId,$d.set(h,cd($d.get(h)||null,i,n,r,c,u)),!0}return!1}function bS(i){var n=ra(i.target);if(n!==null){var r=_a(n);if(r!==null){if(n=r.tag,n===13){if(n=sS(r),n!==null){i.blockedOn=n,kS(i.priority,function(){pS(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){i.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Tf(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var r=d0(i.domEventName,i.eventSystemFlags,n[0],i.nativeEvent);if(r===null){r=i.nativeEvent;var c=new r.constructor(r.type,r);o0=c,r.target.dispatchEvent(c),o0=null}else return n=du(r),n!==null&&Cb(n),i.blockedOn=r,!1;n.shift()}return!0}function wx(i,n,r){Tf(i)&&r.delete(n)}function AL(){l0=!1,us!==null&&Tf(us)&&(us=null),hs!==null&&Tf(hs)&&(hs=null),fs!==null&&Tf(fs)&&(fs=null),Hd.forEach(wx),$d.forEach(wx)}function ld(i,n){i.blockedOn===n&&(i.blockedOn=null,l0||(l0=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,AL)))}function Wd(i){function n(u){return ld(u,i)}if(0<nf.length){ld(nf[0],i);for(var r=1;r<nf.length;r++){var c=nf[r];c.blockedOn===i&&(c.blockedOn=null)}}for(us!==null&&ld(us,i),hs!==null&&ld(hs,i),fs!==null&&ld(fs,i),Hd.forEach(n),$d.forEach(n),r=0;r<is.length;r++)c=is[r],c.blockedOn===i&&(c.blockedOn=null);for(;0<is.length&&(r=is[0],r.blockedOn===null);)bS(r),r.blockedOn===null&&is.shift()}var Tc=Tr.ReactCurrentBatchConfig,Kf=!0;function CL(i,n,r,c){var u=ct,h=Tc.transition;Tc.transition=null;try{ct=1,xb(i,n,r,c)}finally{ct=u,Tc.transition=h}}function xL(i,n,r,c){var u=ct,h=Tc.transition;Tc.transition=null;try{ct=4,xb(i,n,r,c)}finally{ct=u,Tc.transition=h}}function xb(i,n,r,c){if(Kf){var u=d0(i,n,r,c);if(u===null)kk(i,n,c,Zf,r),bx(i,c);else if(yL(u,i,n,r,c))c.stopPropagation();else if(bx(i,c),n&4&&-1<_L.indexOf(i)){for(;u!==null;){var h=du(u);if(h!==null&&gS(h),h=d0(i,n,r,c),h===null&&kk(i,n,c,Zf,r),h===u)break;u=h}u!==null&&c.stopPropagation()}else kk(i,n,c,null,r)}}var Zf=null;function d0(i,n,r,c){if(Zf=null,i=_b(c),i=ra(i),i!==null)if(n=_a(i),n===null)i=null;else if(r=n.tag,r===13){if(i=sS(n),i!==null)return i;i=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null);return Zf=i,null}function wS(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hL()){case yb:return 1;case dS:return 4;case Gf:case fL:return 16;case uS:return 536870912;default:return 16}default:return 16}}var cs=null,Eb=null,If=null;function vS(){if(If)return If;var i,n=Eb,r=n.length,c,u="value"in cs?cs.value:cs.textContent,h=u.length;for(i=0;i<r&&n[i]===u[i];i++);var f=r-i;for(c=1;c<=f&&n[r-c]===u[h-c];c++);return If=u.slice(i,1<c?1-c:void 0)}function Mf(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function of(){return!0}function vx(){return!1}function Pi(i){function n(r,c,u,h,f){this._reactName=r,this._targetInst=u,this.type=c,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var m in i)i.hasOwnProperty(m)&&(r=i[m],this[m]=r?r(h):h[m]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?of:vx,this.isPropagationStopped=vx,this}return Ot(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=of)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=of)},persist:function(){},isPersistent:of}),n}var Wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sb=Pi(Wc),lu=Ot({},Wc,{view:0,detail:0}),EL=Pi(lu),ck,lk,dd,Ig=Ot({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Db,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==dd&&(dd&&i.type==="mousemove"?(ck=i.screenX-dd.screenX,lk=i.screenY-dd.screenY):lk=ck=0,dd=i),ck)},movementY:function(i){return"movementY"in i?i.movementY:lk}}),_x=Pi(Ig),SL=Ot({},Ig,{dataTransfer:0}),DL=Pi(SL),TL=Ot({},lu,{relatedTarget:0}),dk=Pi(TL),IL=Ot({},Wc,{animationName:0,elapsedTime:0,pseudoElement:0}),ML=Pi(IL),NL=Ot({},Wc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),OL=Pi(NL),BL=Ot({},Wc,{data:0}),yx=Pi(BL),PL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jL(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=zL[i])?!!n[i]:!1}function Db(){return jL}var RL=Ot({},lu,{key:function(i){if(i.key){var n=PL[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=Mf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?LL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Db,charCode:function(i){return i.type==="keypress"?Mf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FL=Pi(RL),VL=Ot({},Ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=Pi(VL),UL=Ot({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Db}),HL=Pi(UL),$L=Ot({},Wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=Pi($L),qL=Ot({},Ig,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GL=Pi(qL),YL=[9,13,27,32],Tb=_r&&"CompositionEvent"in window,Sd=null;_r&&"documentMode"in document&&(Sd=document.documentMode);var KL=_r&&"TextEvent"in window&&!Sd,_S=_r&&(!Tb||Sd&&8<Sd&&11>=Sd),Cx=String.fromCharCode(32),xx=!1;function yS(i,n){switch(i){case"keyup":return YL.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mc=!1;function ZL(i,n){switch(i){case"compositionend":return AS(n);case"keypress":return n.which!==32?null:(xx=!0,Cx);case"textInput":return i=n.data,i===Cx&&xx?null:i;default:return null}}function QL(i,n){if(mc)return i==="compositionend"||!Tb&&yS(i,n)?(i=vS(),If=Eb=cs=null,mc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _S&&n.locale!=="ko"?null:n.data;default:return null}}var JL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!JL[i.type]:n==="textarea"}function CS(i,n,r,c){tS(c),n=Qf(n,"onChange"),0<n.length&&(r=new Sb("onChange","change",null,r,c),i.push({event:r,listeners:n}))}var Dd=null,qd=null;function XL(i){PS(i,0)}function Mg(i){var n=wc(i);if(YE(n))return i}function e6(i,n){if(i==="change")return n}var xS=!1;if(_r){var uk;if(_r){var hk="oninput"in document;if(!hk){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),hk=typeof Sx.oninput=="function"}uk=hk}else uk=!1;xS=uk&&(!document.documentMode||9<document.documentMode)}function Dx(){Dd&&(Dd.detachEvent("onpropertychange",ES),qd=Dd=null)}function ES(i){if(i.propertyName==="value"&&Mg(qd)){var n=[];CS(n,qd,i,_b(i)),rS(XL,n)}}function t6(i,n,r){i==="focusin"?(Dx(),Dd=n,qd=r,Dd.attachEvent("onpropertychange",ES)):i==="focusout"&&Dx()}function n6(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mg(qd)}function i6(i,n){if(i==="click")return Mg(n)}function o6(i,n){if(i==="input"||i==="change")return Mg(n)}function r6(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var Co=typeof Object.is=="function"?Object.is:r6;function Gd(i,n){if(Co(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var r=Object.keys(i),c=Object.keys(n);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var u=r[c];if(!qk.call(n,u)||!Co(i[u],n[u]))return!1}return!0}function Tx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ix(i,n){var r=Tx(i);i=0;for(var c;r;){if(r.nodeType===3){if(c=i+r.textContent.length,i<=n&&c>=n)return{node:r,offset:n-i};i=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tx(r)}}function SS(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?SS(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function DS(){for(var i=window,n=$f();n instanceof i.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)i=n.contentWindow;else break;n=$f(i.document)}return n}function Ib(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}function s6(i){var n=DS(),r=i.focusedElem,c=i.selectionRange;if(n!==r&&r&&r.ownerDocument&&SS(r.ownerDocument.documentElement,r)){if(c!==null&&Ib(r)){if(n=c.start,i=c.end,i===void 0&&(i=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(i,r.value.length);else if(i=(n=r.ownerDocument||document)&&n.defaultView||window,i.getSelection){i=i.getSelection();var u=r.textContent.length,h=Math.min(c.start,u);c=c.end===void 0?h:Math.min(c.end,u),!i.extend&&h>c&&(u=c,c=h,h=u),u=Ix(r,h);var f=Ix(r,c);u&&f&&(i.rangeCount!==1||i.anchorNode!==u.node||i.anchorOffset!==u.offset||i.focusNode!==f.node||i.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),i.removeAllRanges(),h>c?(i.addRange(n),i.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),i.addRange(n)))}}for(n=[],i=r;i=i.parentNode;)i.nodeType===1&&n.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)i=n[r],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var a6=_r&&"documentMode"in document&&11>=document.documentMode,kc=null,u0=null,Td=null,h0=!1;function Mx(i,n,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h0||kc==null||kc!==$f(c)||(c=kc,"selectionStart"in c&&Ib(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Td&&Gd(Td,c)||(Td=c,c=Qf(u0,"onSelect"),0<c.length&&(n=new Sb("onSelect","select",null,n,r),i.push({event:n,listeners:c}),n.target=kc)))}function rf(i,n){var r={};return r[i.toLowerCase()]=n.toLowerCase(),r["Webkit"+i]="webkit"+n,r["Moz"+i]="moz"+n,r}var bc={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},fk={},TS={};_r&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function Ng(i){if(fk[i])return fk[i];if(!bc[i])return i;var n=bc[i],r;for(r in n)if(n.hasOwnProperty(r)&&r in TS)return fk[i]=n[r];return i}var IS=Ng("animationend"),MS=Ng("animationiteration"),NS=Ng("animationstart"),OS=Ng("transitionend"),BS=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(i,n){BS.set(i,n),va(n,[i])}for(var gk=0;gk<Nx.length;gk++){var pk=Nx[gk],c6=pk.toLowerCase(),l6=pk[0].toUpperCase()+pk.slice(1);Cs(c6,"on"+l6)}Cs(IS,"onAnimationEnd");Cs(MS,"onAnimationIteration");Cs(NS,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(OS,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d6=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function Ox(i,n,r){var c=i.type||"unknown-event";i.currentTarget=r,cL(c,n,void 0,i),i.currentTarget=null}function PS(i,n){n=(n&4)!==0;for(var r=0;r<i.length;r++){var c=i[r],u=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var f=c.length-1;0<=f;f--){var m=c[f],b=m.instance,v=m.currentTarget;if(m=m.listener,b!==h&&u.isPropagationStopped())break e;Ox(u,m,v),h=b}else for(f=0;f<c.length;f++){if(m=c[f],b=m.instance,v=m.currentTarget,m=m.listener,b!==h&&u.isPropagationStopped())break e;Ox(u,m,v),h=b}}}if(qf)throw i=a0,qf=!1,a0=null,i}function _t(i,n){var r=n[k0];r===void 0&&(r=n[k0]=new Set);var c=i+"__bubble";r.has(c)||(LS(n,i,2,!1),r.add(c))}function mk(i,n,r){var c=0;n&&(c|=4),LS(r,i,c,n)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Yd(i){if(!i[sf]){i[sf]=!0,HE.forEach(function(r){r!=="selectionchange"&&(d6.has(r)||mk(r,!1,i),mk(r,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[sf]||(n[sf]=!0,mk("selectionchange",!1,n))}}function LS(i,n,r,c){switch(wS(n)){case 1:var u=CL;break;case 4:u=xL;break;default:u=xb}r=u.bind(null,n,r,i),u=void 0,!s0||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),c?u!==void 0?i.addEventListener(n,r,{capture:!0,passive:u}):i.addEventListener(n,r,!0):u!==void 0?i.addEventListener(n,r,{passive:u}):i.addEventListener(n,r,!1)}function kk(i,n,r,c,u){var h=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var f=c.tag;if(f===3||f===4){var m=c.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(f===4)for(f=c.return;f!==null;){var b=f.tag;if((b===3||b===4)&&(b=f.stateNode.containerInfo,b===u||b.nodeType===8&&b.parentNode===u))return;f=f.return}for(;m!==null;){if(f=ra(m),f===null)return;if(b=f.tag,b===5||b===6){c=h=f;continue e}m=m.parentNode}}c=c.return}rS(function(){var v=h,_=_b(r),A=[];e:{var x=BS.get(i);if(x!==void 0){var S=Sb,T=i;switch(i){case"keypress":if(Mf(r)===0)break e;case"keydown":case"keyup":S=FL;break;case"focusin":T="focus",S=dk;break;case"focusout":T="blur",S=dk;break;case"beforeblur":case"afterblur":S=dk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=DL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=HL;break;case IS:case MS:case NS:S=ML;break;case OS:S=WL;break;case"scroll":S=EL;break;case"wheel":S=GL;break;case"copy":case"cut":case"paste":S=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ax}var B=(n&4)!==0,R=!B&&i==="scroll",O=B?x!==null?x+"Capture":null:x;B=[];for(var L=v,E;L!==null;){E=L;var U=E.stateNode;if(E.tag===5&&U!==null&&(E=U,O!==null&&(U=Ud(L,O),U!=null&&B.push(Kd(L,U,E)))),R)break;L=L.return}0<B.length&&(x=new S(x,T,null,r,_),A.push({event:x,listeners:B}))}}if(!(n&7)){e:{if(x=i==="mouseover"||i==="pointerover",S=i==="mouseout"||i==="pointerout",x&&r!==o0&&(T=r.relatedTarget||r.fromElement)&&(ra(T)||T[yr]))break e;if((S||x)&&(x=_.window===_?_:(x=_.ownerDocument)?x.defaultView||x.parentWindow:window,S?(T=r.relatedTarget||r.toElement,S=v,T=T?ra(T):null,T!==null&&(R=_a(T),T!==R||T.tag!==5&&T.tag!==6)&&(T=null)):(S=null,T=v),S!==T)){if(B=_x,U="onMouseLeave",O="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(B=Ax,U="onPointerLeave",O="onPointerEnter",L="pointer"),R=S==null?x:wc(S),E=T==null?x:wc(T),x=new B(U,L+"leave",S,r,_),x.target=R,x.relatedTarget=E,U=null,ra(_)===v&&(B=new B(O,L+"enter",T,r,_),B.target=E,B.relatedTarget=R,U=B),R=U,S&&T)t:{for(B=S,O=T,L=0,E=B;E;E=rc(E))L++;for(E=0,U=O;U;U=rc(U))E++;for(;0<L-E;)B=rc(B),L--;for(;0<E-L;)O=rc(O),E--;for(;L--;){if(B===O||O!==null&&B===O.alternate)break t;B=rc(B),O=rc(O)}B=null}else B=null;S!==null&&Bx(A,x,S,B,!1),T!==null&&R!==null&&Bx(A,R,T,B,!0)}}e:{if(x=v?wc(v):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var G=e6;else if(Ex(x))if(xS)G=o6;else{G=n6;var te=t6}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(G=i6);if(G&&(G=G(i,v))){CS(A,G,r,_);break e}te&&te(i,x,v),i==="focusout"&&(te=x._wrapperState)&&te.controlled&&x.type==="number"&&Xk(x,"number",x.value)}switch(te=v?wc(v):window,i){case"focusin":(Ex(te)||te.contentEditable==="true")&&(kc=te,u0=v,Td=null);break;case"focusout":Td=u0=kc=null;break;case"mousedown":h0=!0;break;case"contextmenu":case"mouseup":case"dragend":h0=!1,Mx(A,r,_);break;case"selectionchange":if(a6)break;case"keydown":case"keyup":Mx(A,r,_)}var J;if(Tb)e:{switch(i){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else mc?yS(i,r)&&(oe="onCompositionEnd"):i==="keydown"&&r.keyCode===229&&(oe="onCompositionStart");oe&&(_S&&r.locale!=="ko"&&(mc||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&mc&&(J=vS()):(cs=_,Eb="value"in cs?cs.value:cs.textContent,mc=!0)),te=Qf(v,oe),0<te.length&&(oe=new yx(oe,i,null,r,_),A.push({event:oe,listeners:te}),J?oe.data=J:(J=AS(r),J!==null&&(oe.data=J)))),(J=KL?ZL(i,r):QL(i,r))&&(v=Qf(v,"onBeforeInput"),0<v.length&&(_=new yx("onBeforeInput","beforeinput",null,r,_),A.push({event:_,listeners:v}),_.data=J))}PS(A,n)})}function Kd(i,n,r){return{instance:i,listener:n,currentTarget:r}}function Qf(i,n){for(var r=n+"Capture",c=[];i!==null;){var u=i,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Ud(i,r),h!=null&&c.unshift(Kd(i,h,u)),h=Ud(i,n),h!=null&&c.push(Kd(i,h,u))),i=i.return}return c}function rc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Bx(i,n,r,c,u){for(var h=n._reactName,f=[];r!==null&&r!==c;){var m=r,b=m.alternate,v=m.stateNode;if(b!==null&&b===c)break;m.tag===5&&v!==null&&(m=v,u?(b=Ud(r,h),b!=null&&f.unshift(Kd(r,b,m))):u||(b=Ud(r,h),b!=null&&f.push(Kd(r,b,m)))),r=r.return}f.length!==0&&i.push({event:n,listeners:f})}var u6=/\r\n?/g,h6=/\u0000|\uFFFD/g;function Px(i){return(typeof i=="string"?i:""+i).replace(u6,`
`).replace(h6,"")}function af(i,n,r){if(n=Px(n),Px(i)!==n&&r)throw Error(he(425))}function Jf(){}var f0=null,g0=null;function p0(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,f6=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,g6=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(i){return Lx.resolve(null).then(i).catch(p6)}:m0;function p6(i){setTimeout(function(){throw i})}function bk(i,n){var r=n,c=0;do{var u=r.nextSibling;if(i.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(c===0){i.removeChild(u),Wd(n);return}c--}else r!=="$"&&r!=="$?"&&r!=="$!"||c++;r=u}while(r);Wd(n)}function gs(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return i}function zx(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var r=i.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return i;n--}else r==="/$"&&n++}i=i.previousSibling}return null}var qc=Math.random().toString(36).slice(2),$o="__reactFiber$"+qc,Zd="__reactProps$"+qc,yr="__reactContainer$"+qc,k0="__reactEvents$"+qc,m6="__reactListeners$"+qc,k6="__reactHandles$"+qc;function ra(i){var n=i[$o];if(n)return n;for(var r=i.parentNode;r;){if(n=r[yr]||r[$o]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(i=zx(i);i!==null;){if(r=i[$o])return r;i=zx(i)}return n}i=r,r=i.parentNode}return null}function du(i){return i=i[$o]||i[yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function wc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(he(33))}function Og(i){return i[Zd]||null}var b0=[],vc=-1;function xs(i){return{current:i}}function At(i){0>vc||(i.current=b0[vc],b0[vc]=null,vc--)}function bt(i,n){vc++,b0[vc]=i.current,i.current=n}var _s={},Un=xs(_s),fi=xs(!1),fa=_s;function Pc(i,n){var r=i.type.contextTypes;if(!r)return _s;var c=i.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in r)u[h]=n[h];return c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=n,i.__reactInternalMemoizedMaskedChildContext=u),u}function gi(i){return i=i.childContextTypes,i!=null}function Xf(){At(fi),At(Un)}function jx(i,n,r){if(Un.current!==_s)throw Error(he(168));bt(Un,n),bt(fi,r)}function zS(i,n,r){var c=i.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return r;c=c.getChildContext();for(var u in c)if(!(u in n))throw Error(he(108,tL(i)||"Unknown",u));return Ot({},r,c)}function eg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_s,fa=Un.current,bt(Un,i),bt(fi,fi.current),!0}function Rx(i,n,r){var c=i.stateNode;if(!c)throw Error(he(169));r?(i=zS(i,n,fa),c.__reactInternalMemoizedMergedChildContext=i,At(fi),At(Un),bt(Un,i)):At(fi),bt(fi,r)}var pr=null,Bg=!1,wk=!1;function jS(i){pr===null?pr=[i]:pr.push(i)}function b6(i){Bg=!0,jS(i)}function Es(){if(!wk&&pr!==null){wk=!0;var i=0,n=ct;try{var r=pr;for(ct=1;i<r.length;i++){var c=r[i];do c=c(!0);while(c!==null)}pr=null,Bg=!1}catch(u){throw pr!==null&&(pr=pr.slice(i+1)),lS(yb,Es),u}finally{ct=n,wk=!1}}return null}var _c=[],yc=0,tg=null,ng=0,Yi=[],Ki=0,ga=null,kr=1,br="";function Xs(i,n){_c[yc++]=ng,_c[yc++]=tg,tg=i,ng=n}function RS(i,n,r){Yi[Ki++]=kr,Yi[Ki++]=br,Yi[Ki++]=ga,ga=i;var c=kr;i=br;var u=32-yo(c)-1;c&=~(1<<u),r+=1;var h=32-yo(n)+u;if(30<h){var f=u-u%5;h=(c&(1<<f)-1).toString(32),c>>=f,u-=f,kr=1<<32-yo(n)+u|r<<u|c,br=h+i}else kr=1<<h|r<<u|c,br=i}function Mb(i){i.return!==null&&(Xs(i,1),RS(i,1,0))}function Nb(i){for(;i===tg;)tg=_c[--yc],_c[yc]=null,ng=_c[--yc],_c[yc]=null;for(;i===ga;)ga=Yi[--Ki],Yi[Ki]=null,br=Yi[--Ki],Yi[Ki]=null,kr=Yi[--Ki],Yi[Ki]=null}var Ii=null,Ti=null,St=!1,vo=null;function FS(i,n){var r=Qi(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=i,n=i.deletions,n===null?(i.deletions=[r],i.flags|=16):n.push(r)}function Fx(i,n){switch(i.tag){case 5:var r=i.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(i.stateNode=n,Ii=i,Ti=gs(n.firstChild),!0):!1;case 6:return n=i.pendingProps===""||n.nodeType!==3?null:n,n!==null?(i.stateNode=n,Ii=i,Ti=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=ga!==null?{id:kr,overflow:br}:null,i.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Qi(18,null,null,0),r.stateNode=n,r.return=i,i.child=r,Ii=i,Ti=null,!0):!1;default:return!1}}function w0(i){return(i.mode&1)!==0&&(i.flags&128)===0}function v0(i){if(St){var n=Ti;if(n){var r=n;if(!Fx(i,n)){if(w0(i))throw Error(he(418));n=gs(r.nextSibling);var c=Ii;n&&Fx(i,n)?FS(c,r):(i.flags=i.flags&-4097|2,St=!1,Ii=i)}}else{if(w0(i))throw Error(he(418));i.flags=i.flags&-4097|2,St=!1,Ii=i}}}function Vx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ii=i}function cf(i){if(i!==Ii)return!1;if(!St)return Vx(i),St=!0,!1;var n;if((n=i.tag!==3)&&!(n=i.tag!==5)&&(n=i.type,n=n!=="head"&&n!=="body"&&!p0(i.type,i.memoizedProps)),n&&(n=Ti)){if(w0(i))throw VS(),Error(he(418));for(;n;)FS(i,n),n=gs(n.nextSibling)}if(Vx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));e:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8){var r=i.data;if(r==="/$"){if(n===0){Ti=gs(i.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}i=i.nextSibling}Ti=null}}else Ti=Ii?gs(i.stateNode.nextSibling):null;return!0}function VS(){for(var i=Ti;i;)i=gs(i.nextSibling)}function Lc(){Ti=Ii=null,St=!1}function Ob(i){vo===null?vo=[i]:vo.push(i)}var w6=Tr.ReactCurrentBatchConfig;function ko(i,n){if(i&&i.defaultProps){n=Ot({},n),i=i.defaultProps;for(var r in i)n[r]===void 0&&(n[r]=i[r]);return n}return n}var ig=xs(null),og=null,Ac=null,Bb=null;function Pb(){Bb=Ac=og=null}function Lb(i){var n=ig.current;At(ig),i._currentValue=n}function _0(i,n,r){for(;i!==null;){var c=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),i===r)break;i=i.return}}function Ic(i,n){og=i,Bb=Ac=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&n&&(hi=!0),i.firstContext=null)}function eo(i){var n=i._currentValue;if(Bb!==i)if(i={context:i,memoizedValue:n,next:null},Ac===null){if(og===null)throw Error(he(308));Ac=i,og.dependencies={lanes:0,firstContext:i}}else Ac=Ac.next=i;return n}var sa=null;function zb(i){sa===null?sa=[i]:sa.push(i)}function US(i,n,r,c){var u=n.interleaved;return u===null?(r.next=r,zb(n)):(r.next=u.next,u.next=r),n.interleaved=r,Ar(i,c)}function Ar(i,n){i.lanes|=n;var r=i.alternate;for(r!==null&&(r.lanes|=n),r=i,i=i.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),r=i,i=i.return;return r.tag===3?r.stateNode:null}var es=!1;function jb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HS(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vr(i,n){return{eventTime:i,lane:n,tag:0,payload:null,callback:null,next:null}}function ps(i,n,r){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Ze&2){var u=c.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),c.pending=n,Ar(i,r)}return u=c.interleaved,u===null?(n.next=n,zb(c)):(n.next=u.next,u.next=n),c.interleaved=n,Ar(i,r)}function Nf(i,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var c=n.lanes;c&=i.pendingLanes,r|=c,n.lanes=r,Ab(i,r)}}function Ux(i,n){var r=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var u=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?u=h=f:h=h.next=f,r=r.next}while(r!==null);h===null?u=h=n:h=h.next=n}else u=h=n;r={baseState:c.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:c.shared,effects:c.effects},i.updateQueue=r;return}i=r.lastBaseUpdate,i===null?r.firstBaseUpdate=n:i.next=n,r.lastBaseUpdate=n}function rg(i,n,r,c){var u=i.updateQueue;es=!1;var h=u.firstBaseUpdate,f=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var b=m,v=b.next;b.next=null,f===null?h=v:f.next=v,f=b;var _=i.alternate;_!==null&&(_=_.updateQueue,m=_.lastBaseUpdate,m!==f&&(m===null?_.firstBaseUpdate=v:m.next=v,_.lastBaseUpdate=b))}if(h!==null){var A=u.baseState;f=0,_=v=b=null,m=h;do{var x=m.lane,S=m.eventTime;if((c&x)===x){_!==null&&(_=_.next={eventTime:S,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var T=i,B=m;switch(x=n,S=r,B.tag){case 1:if(T=B.payload,typeof T=="function"){A=T.call(S,A,x);break e}A=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=B.payload,x=typeof T=="function"?T.call(S,A,x):T,x==null)break e;A=Ot({},A,x);break e;case 2:es=!0}}m.callback!==null&&m.lane!==0&&(i.flags|=64,x=u.effects,x===null?u.effects=[m]:x.push(m))}else S={eventTime:S,lane:x,tag:m.tag,payload:m.payload,callback:m.callback,next:null},_===null?(v=_=S,b=A):_=_.next=S,f|=x;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;x=m,m=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(1);if(_===null&&(b=A),u.baseState=b,u.firstBaseUpdate=v,u.lastBaseUpdate=_,n=u.shared.interleaved,n!==null){u=n;do f|=u.lane,u=u.next;while(u!==n)}else h===null&&(u.shared.lanes=0);ma|=f,i.lanes=f,i.memoizedState=A}}function Hx(i,n,r){if(i=n.effects,n.effects=null,i!==null)for(n=0;n<i.length;n++){var c=i[n],u=c.callback;if(u!==null){if(c.callback=null,c=r,typeof u!="function")throw Error(he(191,u));u.call(c)}}}var $S=new UE.Component().refs;function y0(i,n,r,c){n=i.memoizedState,r=r(c,n),r=r==null?n:Ot({},n,r),i.memoizedState=r,i.lanes===0&&(i.updateQueue.baseState=r)}var Pg={isMounted:function(i){return(i=i._reactInternals)?_a(i)===i:!1},enqueueSetState:function(i,n,r){i=i._reactInternals;var c=Jn(),u=ks(i),h=vr(c,u);h.payload=n,r!=null&&(h.callback=r),n=ps(i,h,u),n!==null&&(Ao(n,i,u,c),Nf(n,i,u))},enqueueReplaceState:function(i,n,r){i=i._reactInternals;var c=Jn(),u=ks(i),h=vr(c,u);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ps(i,h,u),n!==null&&(Ao(n,i,u,c),Nf(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var r=Jn(),c=ks(i),u=vr(r,c);u.tag=2,n!=null&&(u.callback=n),n=ps(i,u,c),n!==null&&(Ao(n,i,c,r),Nf(n,i,c))}};function $x(i,n,r,c,u,h,f){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,h,f):n.prototype&&n.prototype.isPureReactComponent?!Gd(r,c)||!Gd(u,h):!0}function WS(i,n,r){var c=!1,u=_s,h=n.contextType;return typeof h=="object"&&h!==null?h=eo(h):(u=gi(n)?fa:Un.current,c=n.contextTypes,h=(c=c!=null)?Pc(i,u):_s),n=new n(r,h),i.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Pg,i.stateNode=n,n._reactInternals=i,c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=u,i.__reactInternalMemoizedMaskedChildContext=h),n}function Wx(i,n,r,c){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,c),n.state!==i&&Pg.enqueueReplaceState(n,n.state,null)}function A0(i,n,r,c){var u=i.stateNode;u.props=r,u.state=i.memoizedState,u.refs=$S,jb(i);var h=n.contextType;typeof h=="object"&&h!==null?u.context=eo(h):(h=gi(n)?fa:Un.current,u.context=Pc(i,h)),u.state=i.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(y0(i,n,h,r),u.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Pg.enqueueReplaceState(u,u.state,null),rg(i,r,u,c),u.state=i.memoizedState),typeof u.componentDidMount=="function"&&(i.flags|=4194308)}function ud(i,n,r){if(i=r.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var c=r.stateNode}if(!c)throw Error(he(147,i));var u=c,h=""+i;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(f){var m=u.refs;m===$S&&(m=u.refs={}),f===null?delete m[h]:m[h]=f},n._stringRef=h,n)}if(typeof i!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,i))}return i}function lf(i,n){throw i=Object.prototype.toString.call(n),Error(he(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i))}function qx(i){var n=i._init;return n(i._payload)}function qS(i){function n(O,L){if(i){var E=O.deletions;E===null?(O.deletions=[L],O.flags|=16):E.push(L)}}function r(O,L){if(!i)return null;for(;L!==null;)n(O,L),L=L.sibling;return null}function c(O,L){for(O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function u(O,L){return O=bs(O,L),O.index=0,O.sibling=null,O}function h(O,L,E){return O.index=E,i?(E=O.alternate,E!==null?(E=E.index,E<L?(O.flags|=2,L):E):(O.flags|=2,L)):(O.flags|=1048576,L)}function f(O){return i&&O.alternate===null&&(O.flags|=2),O}function m(O,L,E,U){return L===null||L.tag!==6?(L=Ek(E,O.mode,U),L.return=O,L):(L=u(L,E),L.return=O,L)}function b(O,L,E,U){var G=E.type;return G===pc?_(O,L,E.props.children,U,E.key):L!==null&&(L.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Xr&&qx(G)===L.type)?(U=u(L,E.props),U.ref=ud(O,L,E),U.return=O,U):(U=jf(E.type,E.key,E.props,null,O.mode,U),U.ref=ud(O,L,E),U.return=O,U)}function v(O,L,E,U){return L===null||L.tag!==4||L.stateNode.containerInfo!==E.containerInfo||L.stateNode.implementation!==E.implementation?(L=Sk(E,O.mode,U),L.return=O,L):(L=u(L,E.children||[]),L.return=O,L)}function _(O,L,E,U,G){return L===null||L.tag!==7?(L=da(E,O.mode,U,G),L.return=O,L):(L=u(L,E),L.return=O,L)}function A(O,L,E){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Ek(""+L,O.mode,E),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Qh:return E=jf(L.type,L.key,L.props,null,O.mode,E),E.ref=ud(O,null,L),E.return=O,E;case gc:return L=Sk(L,O.mode,E),L.return=O,L;case Xr:var U=L._init;return A(O,U(L._payload),E)}if(bd(L)||sd(L))return L=da(L,O.mode,E,null),L.return=O,L;lf(O,L)}return null}function x(O,L,E,U){var G=L!==null?L.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return G!==null?null:m(O,L,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:return E.key===G?b(O,L,E,U):null;case gc:return E.key===G?v(O,L,E,U):null;case Xr:return G=E._init,x(O,L,G(E._payload),U)}if(bd(E)||sd(E))return G!==null?null:_(O,L,E,U,null);lf(O,E)}return null}function S(O,L,E,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return O=O.get(E)||null,m(L,O,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Qh:return O=O.get(U.key===null?E:U.key)||null,b(L,O,U,G);case gc:return O=O.get(U.key===null?E:U.key)||null,v(L,O,U,G);case Xr:var te=U._init;return S(O,L,E,te(U._payload),G)}if(bd(U)||sd(U))return O=O.get(E)||null,_(L,O,U,G,null);lf(L,U)}return null}function T(O,L,E,U){for(var G=null,te=null,J=L,oe=L=0,le=null;J!==null&&oe<E.length;oe++){J.index>oe?(le=J,J=null):le=J.sibling;var pe=x(O,J,E[oe],U);if(pe===null){J===null&&(J=le);break}i&&J&&pe.alternate===null&&n(O,J),L=h(pe,L,oe),te===null?G=pe:te.sibling=pe,te=pe,J=le}if(oe===E.length)return r(O,J),St&&Xs(O,oe),G;if(J===null){for(;oe<E.length;oe++)J=A(O,E[oe],U),J!==null&&(L=h(J,L,oe),te===null?G=J:te.sibling=J,te=J);return St&&Xs(O,oe),G}for(J=c(O,J);oe<E.length;oe++)le=S(J,O,oe,E[oe],U),le!==null&&(i&&le.alternate!==null&&J.delete(le.key===null?oe:le.key),L=h(le,L,oe),te===null?G=le:te.sibling=le,te=le);return i&&J.forEach(function(K){return n(O,K)}),St&&Xs(O,oe),G}function B(O,L,E,U){var G=sd(E);if(typeof G!="function")throw Error(he(150));if(E=G.call(E),E==null)throw Error(he(151));for(var te=G=null,J=L,oe=L=0,le=null,pe=E.next();J!==null&&!pe.done;oe++,pe=E.next()){J.index>oe?(le=J,J=null):le=J.sibling;var K=x(O,J,pe.value,U);if(K===null){J===null&&(J=le);break}i&&J&&K.alternate===null&&n(O,J),L=h(K,L,oe),te===null?G=K:te.sibling=K,te=K,J=le}if(pe.done)return r(O,J),St&&Xs(O,oe),G;if(J===null){for(;!pe.done;oe++,pe=E.next())pe=A(O,pe.value,U),pe!==null&&(L=h(pe,L,oe),te===null?G=pe:te.sibling=pe,te=pe);return St&&Xs(O,oe),G}for(J=c(O,J);!pe.done;oe++,pe=E.next())pe=S(J,O,oe,pe.value,U),pe!==null&&(i&&pe.alternate!==null&&J.delete(pe.key===null?oe:pe.key),L=h(pe,L,oe),te===null?G=pe:te.sibling=pe,te=pe);return i&&J.forEach(function(Z){return n(O,Z)}),St&&Xs(O,oe),G}function R(O,L,E,U){if(typeof E=="object"&&E!==null&&E.type===pc&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:e:{for(var G=E.key,te=L;te!==null;){if(te.key===G){if(G=E.type,G===pc){if(te.tag===7){r(O,te.sibling),L=u(te,E.props.children),L.return=O,O=L;break e}}else if(te.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Xr&&qx(G)===te.type){r(O,te.sibling),L=u(te,E.props),L.ref=ud(O,te,E),L.return=O,O=L;break e}r(O,te);break}else n(O,te);te=te.sibling}E.type===pc?(L=da(E.props.children,O.mode,U,E.key),L.return=O,O=L):(U=jf(E.type,E.key,E.props,null,O.mode,U),U.ref=ud(O,L,E),U.return=O,O=U)}return f(O);case gc:e:{for(te=E.key;L!==null;){if(L.key===te)if(L.tag===4&&L.stateNode.containerInfo===E.containerInfo&&L.stateNode.implementation===E.implementation){r(O,L.sibling),L=u(L,E.children||[]),L.return=O,O=L;break e}else{r(O,L);break}else n(O,L);L=L.sibling}L=Sk(E,O.mode,U),L.return=O,O=L}return f(O);case Xr:return te=E._init,R(O,L,te(E._payload),U)}if(bd(E))return T(O,L,E,U);if(sd(E))return B(O,L,E,U);lf(O,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,L!==null&&L.tag===6?(r(O,L.sibling),L=u(L,E),L.return=O,O=L):(r(O,L),L=Ek(E,O.mode,U),L.return=O,O=L),f(O)):r(O,L)}return R}var zc=qS(!0),GS=qS(!1),uu={},Go=xs(uu),Qd=xs(uu),Jd=xs(uu);function aa(i){if(i===uu)throw Error(he(174));return i}function Rb(i,n){switch(bt(Jd,n),bt(Qd,i),bt(Go,uu),i=n.nodeType,i){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:t0(null,"");break;default:i=i===8?n.parentNode:n,n=i.namespaceURI||null,i=i.tagName,n=t0(n,i)}At(Go),bt(Go,n)}function jc(){At(Go),At(Qd),At(Jd)}function YS(i){aa(Jd.current);var n=aa(Go.current),r=t0(n,i.type);n!==r&&(bt(Qd,i),bt(Go,r))}function Fb(i){Qd.current===i&&(At(Go),At(Qd))}var Mt=xs(0);function sg(i){for(var n=i;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vk=[];function Vb(){for(var i=0;i<vk.length;i++)vk[i]._workInProgressVersionPrimary=null;vk.length=0}var Of=Tr.ReactCurrentDispatcher,_k=Tr.ReactCurrentBatchConfig,pa=0,Nt=null,sn=null,wn=null,ag=!1,Id=!1,Xd=0,v6=0;function Ln(){throw Error(he(321))}function Ub(i,n){if(n===null)return!1;for(var r=0;r<n.length&&r<i.length;r++)if(!Co(i[r],n[r]))return!1;return!0}function Hb(i,n,r,c,u,h){if(pa=h,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Of.current=i===null||i.memoizedState===null?C6:x6,i=r(c,u),Id){h=0;do{if(Id=!1,Xd=0,25<=h)throw Error(he(301));h+=1,wn=sn=null,n.updateQueue=null,Of.current=E6,i=r(c,u)}while(Id)}if(Of.current=cg,n=sn!==null&&sn.next!==null,pa=0,wn=sn=Nt=null,ag=!1,n)throw Error(he(300));return i}function $b(){var i=Xd!==0;return Xd=0,i}function Ho(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Nt.memoizedState=wn=i:wn=wn.next=i,wn}function to(){if(sn===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=sn.next;var n=wn===null?Nt.memoizedState:wn.next;if(n!==null)wn=n,sn=i;else{if(i===null)throw Error(he(310));sn=i,i={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},wn===null?Nt.memoizedState=wn=i:wn=wn.next=i}return wn}function eu(i,n){return typeof n=="function"?n(i):n}function yk(i){var n=to(),r=n.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=i;var c=sn,u=c.baseQueue,h=r.pending;if(h!==null){if(u!==null){var f=u.next;u.next=h.next,h.next=f}c.baseQueue=u=h,r.pending=null}if(u!==null){h=u.next,c=c.baseState;var m=f=null,b=null,v=h;do{var _=v.lane;if((pa&_)===_)b!==null&&(b=b.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),c=v.hasEagerState?v.eagerState:i(c,v.action);else{var A={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};b===null?(m=b=A,f=c):b=b.next=A,Nt.lanes|=_,ma|=_}v=v.next}while(v!==null&&v!==h);b===null?f=c:b.next=m,Co(c,n.memoizedState)||(hi=!0),n.memoizedState=c,n.baseState=f,n.baseQueue=b,r.lastRenderedState=c}if(i=r.interleaved,i!==null){u=i;do h=u.lane,Nt.lanes|=h,ma|=h,u=u.next;while(u!==i)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Ak(i){var n=to(),r=n.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=i;var c=r.dispatch,u=r.pending,h=n.memoizedState;if(u!==null){r.pending=null;var f=u=u.next;do h=i(h,f.action),f=f.next;while(f!==u);Co(h,n.memoizedState)||(hi=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,c]}function KS(){}function ZS(i,n){var r=Nt,c=to(),u=n(),h=!Co(c.memoizedState,u);if(h&&(c.memoizedState=u,hi=!0),c=c.queue,Wb(XS.bind(null,r,c,i),[i]),c.getSnapshot!==n||h||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,tu(9,JS.bind(null,r,c,u,n),void 0,null),vn===null)throw Error(he(349));pa&30||QS(r,n,u)}return u}function QS(i,n,r){i.flags|=16384,i={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n={lastEffect:null,stores:null},Nt.updateQueue=n,n.stores=[i]):(r=n.stores,r===null?n.stores=[i]:r.push(i))}function JS(i,n,r,c){n.value=r,n.getSnapshot=c,e5(n)&&t5(i)}function XS(i,n,r){return r(function(){e5(n)&&t5(i)})}function e5(i){var n=i.getSnapshot;i=i.value;try{var r=n();return!Co(i,r)}catch{return!0}}function t5(i){var n=Ar(i,1);n!==null&&Ao(n,i,1,-1)}function Gx(i){var n=Ho();return typeof i=="function"&&(i=i()),n.memoizedState=n.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:i},n.queue=i,i=i.dispatch=A6.bind(null,Nt,i),[n.memoizedState,i]}function tu(i,n,r,c){return i={tag:i,create:n,destroy:r,deps:c,next:null},n=Nt.updateQueue,n===null?(n={lastEffect:null,stores:null},Nt.updateQueue=n,n.lastEffect=i.next=i):(r=n.lastEffect,r===null?n.lastEffect=i.next=i:(c=r.next,r.next=i,i.next=c,n.lastEffect=i)),i}function n5(){return to().memoizedState}function Bf(i,n,r,c){var u=Ho();Nt.flags|=i,u.memoizedState=tu(1|n,r,void 0,c===void 0?null:c)}function Lg(i,n,r,c){var u=to();c=c===void 0?null:c;var h=void 0;if(sn!==null){var f=sn.memoizedState;if(h=f.destroy,c!==null&&Ub(c,f.deps)){u.memoizedState=tu(n,r,h,c);return}}Nt.flags|=i,u.memoizedState=tu(1|n,r,h,c)}function Yx(i,n){return Bf(8390656,8,i,n)}function Wb(i,n){return Lg(2048,8,i,n)}function i5(i,n){return Lg(4,2,i,n)}function o5(i,n){return Lg(4,4,i,n)}function r5(i,n){if(typeof n=="function")return i=i(),n(i),function(){n(null)};if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function s5(i,n,r){return r=r!=null?r.concat([i]):null,Lg(4,4,r5.bind(null,n,i),r)}function qb(){}function a5(i,n){var r=to();n=n===void 0?null:n;var c=r.memoizedState;return c!==null&&n!==null&&Ub(n,c[1])?c[0]:(r.memoizedState=[i,n],i)}function c5(i,n){var r=to();n=n===void 0?null:n;var c=r.memoizedState;return c!==null&&n!==null&&Ub(n,c[1])?c[0]:(i=i(),r.memoizedState=[i,n],i)}function l5(i,n,r){return pa&21?(Co(r,n)||(r=hS(),Nt.lanes|=r,ma|=r,i.baseState=!0),n):(i.baseState&&(i.baseState=!1,hi=!0),i.memoizedState=r)}function _6(i,n){var r=ct;ct=r!==0&&4>r?r:4,i(!0);var c=_k.transition;_k.transition={};try{i(!1),n()}finally{ct=r,_k.transition=c}}function d5(){return to().memoizedState}function y6(i,n,r){var c=ks(i);if(r={lane:c,action:r,hasEagerState:!1,eagerState:null,next:null},u5(i))h5(n,r);else if(r=US(i,n,r,c),r!==null){var u=Jn();Ao(r,i,c,u),f5(r,n,c)}}function A6(i,n,r){var c=ks(i),u={lane:c,action:r,hasEagerState:!1,eagerState:null,next:null};if(u5(i))h5(n,u);else{var h=i.alternate;if(i.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var f=n.lastRenderedState,m=h(f,r);if(u.hasEagerState=!0,u.eagerState=m,Co(m,f)){var b=n.interleaved;b===null?(u.next=u,zb(n)):(u.next=b.next,b.next=u),n.interleaved=u;return}}catch{}finally{}r=US(i,n,u,c),r!==null&&(u=Jn(),Ao(r,i,c,u),f5(r,n,c))}}function u5(i){var n=i.alternate;return i===Nt||n!==null&&n===Nt}function h5(i,n){Id=ag=!0;var r=i.pending;r===null?n.next=n:(n.next=r.next,r.next=n),i.pending=n}function f5(i,n,r){if(r&4194240){var c=n.lanes;c&=i.pendingLanes,r|=c,n.lanes=r,Ab(i,r)}}var cg={readContext:eo,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},C6={readContext:eo,useCallback:function(i,n){return Ho().memoizedState=[i,n===void 0?null:n],i},useContext:eo,useEffect:Yx,useImperativeHandle:function(i,n,r){return r=r!=null?r.concat([i]):null,Bf(4194308,4,r5.bind(null,n,i),r)},useLayoutEffect:function(i,n){return Bf(4194308,4,i,n)},useInsertionEffect:function(i,n){return Bf(4,2,i,n)},useMemo:function(i,n){var r=Ho();return n=n===void 0?null:n,i=i(),r.memoizedState=[i,n],i},useReducer:function(i,n,r){var c=Ho();return n=r!==void 0?r(n):n,c.memoizedState=c.baseState=n,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:n},c.queue=i,i=i.dispatch=y6.bind(null,Nt,i),[c.memoizedState,i]},useRef:function(i){var n=Ho();return i={current:i},n.memoizedState=i},useState:Gx,useDebugValue:qb,useDeferredValue:function(i){return Ho().memoizedState=i},useTransition:function(){var i=Gx(!1),n=i[0];return i=_6.bind(null,i[1]),Ho().memoizedState=i,[n,i]},useMutableSource:function(){},useSyncExternalStore:function(i,n,r){var c=Nt,u=Ho();if(St){if(r===void 0)throw Error(he(407));r=r()}else{if(r=n(),vn===null)throw Error(he(349));pa&30||QS(c,n,r)}u.memoizedState=r;var h={value:r,getSnapshot:n};return u.queue=h,Yx(XS.bind(null,c,h,i),[i]),c.flags|=2048,tu(9,JS.bind(null,c,h,r,n),void 0,null),r},useId:function(){var i=Ho(),n=vn.identifierPrefix;if(St){var r=br,c=kr;r=(c&~(1<<32-yo(c)-1)).toString(32)+r,n=":"+n+"R"+r,r=Xd++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=v6++,n=":"+n+"r"+r.toString(32)+":";return i.memoizedState=n},unstable_isNewReconciler:!1},x6={readContext:eo,useCallback:a5,useContext:eo,useEffect:Wb,useImperativeHandle:s5,useInsertionEffect:i5,useLayoutEffect:o5,useMemo:c5,useReducer:yk,useRef:n5,useState:function(){return yk(eu)},useDebugValue:qb,useDeferredValue:function(i){var n=to();return l5(n,sn.memoizedState,i)},useTransition:function(){var i=yk(eu)[0],n=to().memoizedState;return[i,n]},useMutableSource:KS,useSyncExternalStore:ZS,useId:d5,unstable_isNewReconciler:!1},E6={readContext:eo,useCallback:a5,useContext:eo,useEffect:Wb,useImperativeHandle:s5,useInsertionEffect:i5,useLayoutEffect:o5,useMemo:c5,useReducer:Ak,useRef:n5,useState:function(){return Ak(eu)},useDebugValue:qb,useDeferredValue:function(i){var n=to();return sn===null?n.memoizedState=i:l5(n,sn.memoizedState,i)},useTransition:function(){var i=Ak(eu)[0],n=to().memoizedState;return[i,n]},useMutableSource:KS,useSyncExternalStore:ZS,useId:d5,unstable_isNewReconciler:!1};function Rc(i,n){try{var r="",c=n;do r+=eL(c),c=c.return;while(c);var u=r}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:i,source:n,stack:u,digest:null}}function Ck(i,n,r){return{value:i,source:null,stack:r??null,digest:n??null}}function C0(i,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var S6=typeof WeakMap=="function"?WeakMap:Map;function g5(i,n,r){r=vr(-1,r),r.tag=3,r.payload={element:null};var c=n.value;return r.callback=function(){dg||(dg=!0,B0=c),C0(i,n)},r}function p5(i,n,r){r=vr(-1,r),r.tag=3;var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var u=n.value;r.payload=function(){return c(u)},r.callback=function(){C0(i,n)}}var h=i.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){C0(i,n),typeof c!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),r}function Kx(i,n,r){var c=i.pingCache;if(c===null){c=i.pingCache=new S6;var u=new Set;c.set(n,u)}else u=c.get(n),u===void 0&&(u=new Set,c.set(n,u));u.has(r)||(u.add(r),i=V6.bind(null,i,n,r),n.then(i,i))}function Zx(i){do{var n;if((n=i.tag===13)&&(n=i.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return i;i=i.return}while(i!==null);return null}function Qx(i,n,r,c,u){return i.mode&1?(i.flags|=65536,i.lanes=u,i):(i===n?i.flags|=65536:(i.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=vr(-1,1),n.tag=2,ps(r,n,1))),r.lanes|=1),i)}var D6=Tr.ReactCurrentOwner,hi=!1;function Kn(i,n,r,c){n.child=i===null?GS(n,null,r,c):zc(n,i.child,r,c)}function Jx(i,n,r,c,u){r=r.render;var h=n.ref;return Ic(n,u),c=Hb(i,n,r,c,h,u),r=$b(),i!==null&&!hi?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~u,Cr(i,n,u)):(St&&r&&Mb(n),n.flags|=1,Kn(i,n,c,u),n.child)}function Xx(i,n,r,c,u){if(i===null){var h=r.type;return typeof h=="function"&&!ew(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=h,m5(i,n,h,c,u)):(i=jf(r.type,null,c,n,n.mode,u),i.ref=n.ref,i.return=n,n.child=i)}if(h=i.child,!(i.lanes&u)){var f=h.memoizedProps;if(r=r.compare,r=r!==null?r:Gd,r(f,c)&&i.ref===n.ref)return Cr(i,n,u)}return n.flags|=1,i=bs(h,c),i.ref=n.ref,i.return=n,n.child=i}function m5(i,n,r,c,u){if(i!==null){var h=i.memoizedProps;if(Gd(h,c)&&i.ref===n.ref)if(hi=!1,n.pendingProps=c=h,(i.lanes&u)!==0)i.flags&131072&&(hi=!0);else return n.lanes=i.lanes,Cr(i,n,u)}return x0(i,n,r,c,u)}function k5(i,n,r){var c=n.pendingProps,u=c.children,h=i!==null?i.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(xc,Ei),Ei|=r;else{if(!(r&1073741824))return i=h!==null?h.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:i,cachePool:null,transitions:null},n.updateQueue=null,bt(xc,Ei),Ei|=i,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:r,bt(xc,Ei),Ei|=c}else h!==null?(c=h.baseLanes|r,n.memoizedState=null):c=r,bt(xc,Ei),Ei|=c;return Kn(i,n,u,r),n.child}function b5(i,n){var r=n.ref;(i===null&&r!==null||i!==null&&i.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function x0(i,n,r,c,u){var h=gi(r)?fa:Un.current;return h=Pc(n,h),Ic(n,u),r=Hb(i,n,r,c,h,u),c=$b(),i!==null&&!hi?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~u,Cr(i,n,u)):(St&&c&&Mb(n),n.flags|=1,Kn(i,n,r,u),n.child)}function e2(i,n,r,c,u){if(gi(r)){var h=!0;eg(n)}else h=!1;if(Ic(n,u),n.stateNode===null)Pf(i,n),WS(n,r,c),A0(n,r,c,u),c=!0;else if(i===null){var f=n.stateNode,m=n.memoizedProps;f.props=m;var b=f.context,v=r.contextType;typeof v=="object"&&v!==null?v=eo(v):(v=gi(r)?fa:Un.current,v=Pc(n,v));var _=r.getDerivedStateFromProps,A=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function";A||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==c||b!==v)&&Wx(n,f,c,v),es=!1;var x=n.memoizedState;f.state=x,rg(n,c,f,u),b=n.memoizedState,m!==c||x!==b||fi.current||es?(typeof _=="function"&&(y0(n,r,_,c),b=n.memoizedState),(m=es||$x(n,r,m,c,x,b,v))?(A||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=b),f.props=c,f.state=b,f.context=v,c=m):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{f=n.stateNode,HS(i,n),m=n.memoizedProps,v=n.type===n.elementType?m:ko(n.type,m),f.props=v,A=n.pendingProps,x=f.context,b=r.contextType,typeof b=="object"&&b!==null?b=eo(b):(b=gi(r)?fa:Un.current,b=Pc(n,b));var S=r.getDerivedStateFromProps;(_=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==A||x!==b)&&Wx(n,f,c,b),es=!1,x=n.memoizedState,f.state=x,rg(n,c,f,u);var T=n.memoizedState;m!==A||x!==T||fi.current||es?(typeof S=="function"&&(y0(n,r,S,c),T=n.memoizedState),(v=es||$x(n,r,v,c,x,T,b)||!1)?(_||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(c,T,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(c,T,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=T),f.props=c,f.state=T,f.context=b,c=v):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=1024),c=!1)}return E0(i,n,r,c,h,u)}function E0(i,n,r,c,u,h){b5(i,n);var f=(n.flags&128)!==0;if(!c&&!f)return u&&Rx(n,r,!1),Cr(i,n,h);c=n.stateNode,D6.current=n;var m=f&&typeof r.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,i!==null&&f?(n.child=zc(n,i.child,null,h),n.child=zc(n,null,m,h)):Kn(i,n,m,h),n.memoizedState=c.state,u&&Rx(n,r,!0),n.child}function w5(i){var n=i.stateNode;n.pendingContext?jx(i,n.pendingContext,n.pendingContext!==n.context):n.context&&jx(i,n.context,!1),Rb(i,n.containerInfo)}function t2(i,n,r,c,u){return Lc(),Ob(u),n.flags|=256,Kn(i,n,r,c),n.child}var S0={dehydrated:null,treeContext:null,retryLane:0};function D0(i){return{baseLanes:i,cachePool:null,transitions:null}}function v5(i,n,r){var c=n.pendingProps,u=Mt.current,h=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=i!==null&&i.memoizedState===null?!1:(u&2)!==0),m?(h=!0,n.flags&=-129):(i===null||i.memoizedState!==null)&&(u|=1),bt(Mt,u&1),i===null)return v0(n),i=n.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(n.mode&1?i.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=c.children,i=c.fallback,h?(c=n.mode,h=n.child,f={mode:"hidden",children:f},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=f):h=Rg(f,c,0,null),i=da(i,c,r,null),h.return=n,i.return=n,h.sibling=i,n.child=h,n.child.memoizedState=D0(r),n.memoizedState=S0,i):Gb(n,f));if(u=i.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return T6(i,n,f,c,m,u,r);if(h){h=c.fallback,f=n.mode,u=i.child,m=u.sibling;var b={mode:"hidden",children:c.children};return!(f&1)&&n.child!==u?(c=n.child,c.childLanes=0,c.pendingProps=b,n.deletions=null):(c=bs(u,b),c.subtreeFlags=u.subtreeFlags&14680064),m!==null?h=bs(m,h):(h=da(h,f,r,null),h.flags|=2),h.return=n,c.return=n,c.sibling=h,n.child=c,c=h,h=n.child,f=i.child.memoizedState,f=f===null?D0(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=i.childLanes&~r,n.memoizedState=S0,c}return h=i.child,i=h.sibling,c=bs(h,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=r),c.return=n,c.sibling=null,i!==null&&(r=n.deletions,r===null?(n.deletions=[i],n.flags|=16):r.push(i)),n.child=c,n.memoizedState=null,c}function Gb(i,n){return n=Rg({mode:"visible",children:n},i.mode,0,null),n.return=i,i.child=n}function df(i,n,r,c){return c!==null&&Ob(c),zc(n,i.child,null,r),i=Gb(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function T6(i,n,r,c,u,h,f){if(r)return n.flags&256?(n.flags&=-257,c=Ck(Error(he(422))),df(i,n,f,c)):n.memoizedState!==null?(n.child=i.child,n.flags|=128,null):(h=c.fallback,u=n.mode,c=Rg({mode:"visible",children:c.children},u,0,null),h=da(h,u,f,null),h.flags|=2,c.return=n,h.return=n,c.sibling=h,n.child=c,n.mode&1&&zc(n,i.child,null,f),n.child.memoizedState=D0(f),n.memoizedState=S0,h);if(!(n.mode&1))return df(i,n,f,null);if(u.data==="$!"){if(c=u.nextSibling&&u.nextSibling.dataset,c)var m=c.dgst;return c=m,h=Error(he(419)),c=Ck(h,c,void 0),df(i,n,f,c)}if(m=(f&i.childLanes)!==0,hi||m){if(c=vn,c!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(c.suspendedLanes|f)?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Ar(i,u),Ao(c,i,u,-1))}return Xb(),c=Ck(Error(he(421))),df(i,n,f,c)}return u.data==="$?"?(n.flags|=128,n.child=i.child,n=U6.bind(null,i),u._reactRetry=n,null):(i=h.treeContext,Ti=gs(u.nextSibling),Ii=n,St=!0,vo=null,i!==null&&(Yi[Ki++]=kr,Yi[Ki++]=br,Yi[Ki++]=ga,kr=i.id,br=i.overflow,ga=n),n=Gb(n,c.children),n.flags|=4096,n)}function n2(i,n,r){i.lanes|=n;var c=i.alternate;c!==null&&(c.lanes|=n),_0(i.return,n,r)}function xk(i,n,r,c,u){var h=i.memoizedState;h===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=r,h.tailMode=u)}function _5(i,n,r){var c=n.pendingProps,u=c.revealOrder,h=c.tail;if(Kn(i,n,c.children,r),c=Mt.current,c&2)c=c&1|2,n.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n2(i,r,n);else if(i.tag===19)n2(i,r,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}if(bt(Mt,c),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)i=r.alternate,i!==null&&sg(i)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),xk(n,!1,u,r,h);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(i=u.alternate,i!==null&&sg(i)===null){n.child=u;break}i=u.sibling,u.sibling=r,r=u,u=i}xk(n,!0,r,null,h);break;case"together":xk(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pf(i,n){!(n.mode&1)&&i!==null&&(i.alternate=null,n.alternate=null,n.flags|=2)}function Cr(i,n,r){if(i!==null&&(n.dependencies=i.dependencies),ma|=n.lanes,!(r&n.childLanes))return null;if(i!==null&&n.child!==i.child)throw Error(he(153));if(n.child!==null){for(i=n.child,r=bs(i,i.pendingProps),n.child=r,r.return=n;i.sibling!==null;)i=i.sibling,r=r.sibling=bs(i,i.pendingProps),r.return=n;r.sibling=null}return n.child}function I6(i,n,r){switch(n.tag){case 3:w5(n),Lc();break;case 5:YS(n);break;case 1:gi(n.type)&&eg(n);break;case 4:Rb(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,u=n.memoizedProps.value;bt(ig,c._currentValue),c._currentValue=u;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(bt(Mt,Mt.current&1),n.flags|=128,null):r&n.child.childLanes?v5(i,n,r):(bt(Mt,Mt.current&1),i=Cr(i,n,r),i!==null?i.sibling:null);bt(Mt,Mt.current&1);break;case 19:if(c=(r&n.childLanes)!==0,i.flags&128){if(c)return _5(i,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),bt(Mt,Mt.current),c)break;return null;case 22:case 23:return n.lanes=0,k5(i,n,r)}return Cr(i,n,r)}var y5,T0,A5,C5;y5=function(i,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};T0=function(){};A5=function(i,n,r,c){var u=i.memoizedProps;if(u!==c){i=n.stateNode,aa(Go.current);var h=null;switch(r){case"input":u=Qk(i,u),c=Qk(i,c),h=[];break;case"select":u=Ot({},u,{value:void 0}),c=Ot({},c,{value:void 0}),h=[];break;case"textarea":u=e0(i,u),c=e0(i,c),h=[];break;default:typeof u.onClick!="function"&&typeof c.onClick=="function"&&(i.onclick=Jf)}n0(r,c);var f;r=null;for(v in u)if(!c.hasOwnProperty(v)&&u.hasOwnProperty(v)&&u[v]!=null)if(v==="style"){var m=u[v];for(f in m)m.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Fd.hasOwnProperty(v)?h||(h=[]):(h=h||[]).push(v,null));for(v in c){var b=c[v];if(m=u!=null?u[v]:void 0,c.hasOwnProperty(v)&&b!==m&&(b!=null||m!=null))if(v==="style")if(m){for(f in m)!m.hasOwnProperty(f)||b&&b.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in b)b.hasOwnProperty(f)&&m[f]!==b[f]&&(r||(r={}),r[f]=b[f])}else r||(h||(h=[]),h.push(v,r)),r=b;else v==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,m=m?m.__html:void 0,b!=null&&m!==b&&(h=h||[]).push(v,b)):v==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(v,""+b):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Fd.hasOwnProperty(v)?(b!=null&&v==="onScroll"&&_t("scroll",i),h||m===b||(h=[])):(h=h||[]).push(v,b))}r&&(h=h||[]).push("style",r);var v=h;(n.updateQueue=v)&&(n.flags|=4)}};C5=function(i,n,r,c){r!==c&&(n.flags|=4)};function hd(i,n){if(!St)switch(i.tailMode){case"hidden":n=i.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?i.tail=null:r.sibling=null;break;case"collapsed":r=i.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function zn(i){var n=i.alternate!==null&&i.alternate.child===i.child,r=0,c=0;if(n)for(var u=i.child;u!==null;)r|=u.lanes|u.childLanes,c|=u.subtreeFlags&14680064,c|=u.flags&14680064,u.return=i,u=u.sibling;else for(u=i.child;u!==null;)r|=u.lanes|u.childLanes,c|=u.subtreeFlags,c|=u.flags,u.return=i,u=u.sibling;return i.subtreeFlags|=c,i.childLanes=r,n}function M6(i,n,r){var c=n.pendingProps;switch(Nb(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(n),null;case 1:return gi(n.type)&&Xf(),zn(n),null;case 3:return c=n.stateNode,jc(),At(fi),At(Un),Vb(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(cf(n)?n.flags|=4:i===null||i.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,vo!==null&&(z0(vo),vo=null))),T0(i,n),zn(n),null;case 5:Fb(n);var u=aa(Jd.current);if(r=n.type,i!==null&&n.stateNode!=null)A5(i,n,r,c,u),i.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(he(166));return zn(n),null}if(i=aa(Go.current),cf(n)){c=n.stateNode,r=n.type;var h=n.memoizedProps;switch(c[$o]=n,c[Zd]=h,i=(n.mode&1)!==0,r){case"dialog":_t("cancel",c),_t("close",c);break;case"iframe":case"object":case"embed":_t("load",c);break;case"video":case"audio":for(u=0;u<vd.length;u++)_t(vd[u],c);break;case"source":_t("error",c);break;case"img":case"image":case"link":_t("error",c),_t("load",c);break;case"details":_t("toggle",c);break;case"input":ux(c,h),_t("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},_t("invalid",c);break;case"textarea":fx(c,h),_t("invalid",c)}n0(r,h),u=null;for(var f in h)if(h.hasOwnProperty(f)){var m=h[f];f==="children"?typeof m=="string"?c.textContent!==m&&(h.suppressHydrationWarning!==!0&&af(c.textContent,m,i),u=["children",m]):typeof m=="number"&&c.textContent!==""+m&&(h.suppressHydrationWarning!==!0&&af(c.textContent,m,i),u=["children",""+m]):Fd.hasOwnProperty(f)&&m!=null&&f==="onScroll"&&_t("scroll",c)}switch(r){case"input":Jh(c),hx(c,h,!0);break;case"textarea":Jh(c),gx(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Jf)}c=u,n.updateQueue=c,c!==null&&(n.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=QE(r)),i==="http://www.w3.org/1999/xhtml"?r==="script"?(i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof c.is=="string"?i=f.createElement(r,{is:c.is}):(i=f.createElement(r),r==="select"&&(f=i,c.multiple?f.multiple=!0:c.size&&(f.size=c.size))):i=f.createElementNS(i,r),i[$o]=n,i[Zd]=c,y5(i,n,!1,!1),n.stateNode=i;e:{switch(f=i0(r,c),r){case"dialog":_t("cancel",i),_t("close",i),u=c;break;case"iframe":case"object":case"embed":_t("load",i),u=c;break;case"video":case"audio":for(u=0;u<vd.length;u++)_t(vd[u],i);u=c;break;case"source":_t("error",i),u=c;break;case"img":case"image":case"link":_t("error",i),_t("load",i),u=c;break;case"details":_t("toggle",i),u=c;break;case"input":ux(i,c),u=Qk(i,c),_t("invalid",i);break;case"option":u=c;break;case"select":i._wrapperState={wasMultiple:!!c.multiple},u=Ot({},c,{value:void 0}),_t("invalid",i);break;case"textarea":fx(i,c),u=e0(i,c),_t("invalid",i);break;default:u=c}n0(r,u),m=u;for(h in m)if(m.hasOwnProperty(h)){var b=m[h];h==="style"?eS(i,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&JE(i,b)):h==="children"?typeof b=="string"?(r!=="textarea"||b!=="")&&Vd(i,b):typeof b=="number"&&Vd(i,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Fd.hasOwnProperty(h)?b!=null&&h==="onScroll"&&_t("scroll",i):b!=null&&kb(i,h,b,f))}switch(r){case"input":Jh(i),hx(i,c,!1);break;case"textarea":Jh(i),gx(i);break;case"option":c.value!=null&&i.setAttribute("value",""+vs(c.value));break;case"select":i.multiple=!!c.multiple,h=c.value,h!=null?Ec(i,!!c.multiple,h,!1):c.defaultValue!=null&&Ec(i,!!c.multiple,c.defaultValue,!0);break;default:typeof u.onClick=="function"&&(i.onclick=Jf)}switch(r){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return zn(n),null;case 6:if(i&&n.stateNode!=null)C5(i,n,i.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(he(166));if(r=aa(Jd.current),aa(Go.current),cf(n)){if(c=n.stateNode,r=n.memoizedProps,c[$o]=n,(h=c.nodeValue!==r)&&(i=Ii,i!==null))switch(i.tag){case 3:af(c.nodeValue,r,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&af(c.nodeValue,r,(i.mode&1)!==0)}h&&(n.flags|=4)}else c=(r.nodeType===9?r:r.ownerDocument).createTextNode(c),c[$o]=n,n.stateNode=c}return zn(n),null;case 13:if(At(Mt),c=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(St&&Ti!==null&&n.mode&1&&!(n.flags&128))VS(),Lc(),n.flags|=98560,h=!1;else if(h=cf(n),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(he(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(he(317));h[$o]=n}else Lc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;zn(n),h=!1}else vo!==null&&(z0(vo),vo=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(c=c!==null,c!==(i!==null&&i.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(i===null||Mt.current&1?an===0&&(an=3):Xb())),n.updateQueue!==null&&(n.flags|=4),zn(n),null);case 4:return jc(),T0(i,n),i===null&&Yd(n.stateNode.containerInfo),zn(n),null;case 10:return Lb(n.type._context),zn(n),null;case 17:return gi(n.type)&&Xf(),zn(n),null;case 19:if(At(Mt),h=n.memoizedState,h===null)return zn(n),null;if(c=(n.flags&128)!==0,f=h.rendering,f===null)if(c)hd(h,!1);else{if(an!==0||i!==null&&i.flags&128)for(i=n.child;i!==null;){if(f=sg(i),f!==null){for(n.flags|=128,hd(h,!1),c=f.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=r,r=n.child;r!==null;)h=r,i=c,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=i,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,i=f.dependencies,h.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return bt(Mt,Mt.current&1|2),n.child}i=i.sibling}h.tail!==null&&qt()>Fc&&(n.flags|=128,c=!0,hd(h,!1),n.lanes=4194304)}else{if(!c)if(i=sg(f),i!==null){if(n.flags|=128,c=!0,r=i.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),hd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!St)return zn(n),null}else 2*qt()-h.renderingStartTime>Fc&&r!==1073741824&&(n.flags|=128,c=!0,hd(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(r=h.last,r!==null?r.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=qt(),n.sibling=null,r=Mt.current,bt(Mt,c?r&1|2:r&1),n):(zn(n),null);case 22:case 23:return Jb(),c=n.memoizedState!==null,i!==null&&i.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?Ei&1073741824&&(zn(n),n.subtreeFlags&6&&(n.flags|=8192)):zn(n),null;case 24:return null;case 25:return null}throw Error(he(156,n.tag))}function N6(i,n){switch(Nb(n),n.tag){case 1:return gi(n.type)&&Xf(),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return jc(),At(fi),At(Un),Vb(),i=n.flags,i&65536&&!(i&128)?(n.flags=i&-65537|128,n):null;case 5:return Fb(n),null;case 13:if(At(Mt),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(he(340));Lc()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return At(Mt),null;case 4:return jc(),null;case 10:return Lb(n.type._context),null;case 22:case 23:return Jb(),null;case 24:return null;default:return null}}var uf=!1,Rn=!1,O6=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Cc(i,n){var r=i.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(c){jt(i,n,c)}else r.current=null}function I0(i,n,r){try{r()}catch(c){jt(i,n,c)}}var i2=!1;function B6(i,n){if(f0=Kf,i=DS(),Ib(i)){if("selectionStart"in i)var r={start:i.selectionStart,end:i.selectionEnd};else e:{r=(r=i.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var f=0,m=-1,b=-1,v=0,_=0,A=i,x=null;t:for(;;){for(var S;A!==r||u!==0&&A.nodeType!==3||(m=f+u),A!==h||c!==0&&A.nodeType!==3||(b=f+c),A.nodeType===3&&(f+=A.nodeValue.length),(S=A.firstChild)!==null;)x=A,A=S;for(;;){if(A===i)break t;if(x===r&&++v===u&&(m=f),x===h&&++_===c&&(b=f),(S=A.nextSibling)!==null)break;A=x,x=A.parentNode}A=S}r=m===-1||b===-1?null:{start:m,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(g0={focusedElem:i,selectionRange:r},Kf=!1,_e=n;_e!==null;)if(n=_e,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,_e=i;else for(;_e!==null;){n=_e;try{var T=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var B=T.memoizedProps,R=T.memoizedState,O=n.stateNode,L=O.getSnapshotBeforeUpdate(n.elementType===n.type?B:ko(n.type,B),R);O.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(U){jt(n,n.return,U)}if(i=n.sibling,i!==null){i.return=n.return,_e=i;break}_e=n.return}return T=i2,i2=!1,T}function Md(i,n,r){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var u=c=c.next;do{if((u.tag&i)===i){var h=u.destroy;u.destroy=void 0,h!==void 0&&I0(n,r,h)}u=u.next}while(u!==c)}}function zg(i,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&i)===i){var c=r.create;r.destroy=c()}r=r.next}while(r!==n)}}function M0(i){var n=i.ref;if(n!==null){var r=i.stateNode;switch(i.tag){case 5:i=r;break;default:i=r}typeof n=="function"?n(i):n.current=i}}function x5(i){var n=i.alternate;n!==null&&(i.alternate=null,x5(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&(delete n[$o],delete n[Zd],delete n[k0],delete n[m6],delete n[k6])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function E5(i){return i.tag===5||i.tag===3||i.tag===4}function o2(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||E5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function N0(i,n,r){var c=i.tag;if(c===5||c===6)i=i.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(i,n):r.insertBefore(i,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(i,r)):(n=r,n.appendChild(i)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Jf));else if(c!==4&&(i=i.child,i!==null))for(N0(i,n,r),i=i.sibling;i!==null;)N0(i,n,r),i=i.sibling}function O0(i,n,r){var c=i.tag;if(c===5||c===6)i=i.stateNode,n?r.insertBefore(i,n):r.appendChild(i);else if(c!==4&&(i=i.child,i!==null))for(O0(i,n,r),i=i.sibling;i!==null;)O0(i,n,r),i=i.sibling}var Dn=null,bo=!1;function Kr(i,n,r){for(r=r.child;r!==null;)S5(i,n,r),r=r.sibling}function S5(i,n,r){if(qo&&typeof qo.onCommitFiberUnmount=="function")try{qo.onCommitFiberUnmount(Tg,r)}catch{}switch(r.tag){case 5:Rn||Cc(r,n);case 6:var c=Dn,u=bo;Dn=null,Kr(i,n,r),Dn=c,bo=u,Dn!==null&&(bo?(i=Dn,r=r.stateNode,i.nodeType===8?i.parentNode.removeChild(r):i.removeChild(r)):Dn.removeChild(r.stateNode));break;case 18:Dn!==null&&(bo?(i=Dn,r=r.stateNode,i.nodeType===8?bk(i.parentNode,r):i.nodeType===1&&bk(i,r),Wd(i)):bk(Dn,r.stateNode));break;case 4:c=Dn,u=bo,Dn=r.stateNode.containerInfo,bo=!0,Kr(i,n,r),Dn=c,bo=u;break;case 0:case 11:case 14:case 15:if(!Rn&&(c=r.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){u=c=c.next;do{var h=u,f=h.destroy;h=h.tag,f!==void 0&&(h&2||h&4)&&I0(r,n,f),u=u.next}while(u!==c)}Kr(i,n,r);break;case 1:if(!Rn&&(Cc(r,n),c=r.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=r.memoizedProps,c.state=r.memoizedState,c.componentWillUnmount()}catch(m){jt(r,n,m)}Kr(i,n,r);break;case 21:Kr(i,n,r);break;case 22:r.mode&1?(Rn=(c=Rn)||r.memoizedState!==null,Kr(i,n,r),Rn=c):Kr(i,n,r);break;default:Kr(i,n,r)}}function r2(i){var n=i.updateQueue;if(n!==null){i.updateQueue=null;var r=i.stateNode;r===null&&(r=i.stateNode=new O6),n.forEach(function(c){var u=H6.bind(null,i,c);r.has(c)||(r.add(c),c.then(u,u))})}}function go(i,n){var r=n.deletions;if(r!==null)for(var c=0;c<r.length;c++){var u=r[c];try{var h=i,f=n,m=f;e:for(;m!==null;){switch(m.tag){case 5:Dn=m.stateNode,bo=!1;break e;case 3:Dn=m.stateNode.containerInfo,bo=!0;break e;case 4:Dn=m.stateNode.containerInfo,bo=!0;break e}m=m.return}if(Dn===null)throw Error(he(160));S5(h,f,u),Dn=null,bo=!1;var b=u.alternate;b!==null&&(b.return=null),u.return=null}catch(v){jt(u,n,v)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)D5(n,i),n=n.sibling}function D5(i,n){var r=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(go(n,i),Uo(i),c&4){try{Md(3,i,i.return),zg(3,i)}catch(B){jt(i,i.return,B)}try{Md(5,i,i.return)}catch(B){jt(i,i.return,B)}}break;case 1:go(n,i),Uo(i),c&512&&r!==null&&Cc(r,r.return);break;case 5:if(go(n,i),Uo(i),c&512&&r!==null&&Cc(r,r.return),i.flags&32){var u=i.stateNode;try{Vd(u,"")}catch(B){jt(i,i.return,B)}}if(c&4&&(u=i.stateNode,u!=null)){var h=i.memoizedProps,f=r!==null?r.memoizedProps:h,m=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{m==="input"&&h.type==="radio"&&h.name!=null&&KE(u,h),i0(m,f);var v=i0(m,h);for(f=0;f<b.length;f+=2){var _=b[f],A=b[f+1];_==="style"?eS(u,A):_==="dangerouslySetInnerHTML"?JE(u,A):_==="children"?Vd(u,A):kb(u,_,A,v)}switch(m){case"input":Jk(u,h);break;case"textarea":ZE(u,h);break;case"select":var x=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var S=h.value;S!=null?Ec(u,!!h.multiple,S,!1):x!==!!h.multiple&&(h.defaultValue!=null?Ec(u,!!h.multiple,h.defaultValue,!0):Ec(u,!!h.multiple,h.multiple?[]:"",!1))}u[Zd]=h}catch(B){jt(i,i.return,B)}}break;case 6:if(go(n,i),Uo(i),c&4){if(i.stateNode===null)throw Error(he(162));u=i.stateNode,h=i.memoizedProps;try{u.nodeValue=h}catch(B){jt(i,i.return,B)}}break;case 3:if(go(n,i),Uo(i),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Wd(n.containerInfo)}catch(B){jt(i,i.return,B)}break;case 4:go(n,i),Uo(i);break;case 13:go(n,i),Uo(i),u=i.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Zb=qt())),c&4&&r2(i);break;case 22:if(_=r!==null&&r.memoizedState!==null,i.mode&1?(Rn=(v=Rn)||_,go(n,i),Rn=v):go(n,i),Uo(i),c&8192){if(v=i.memoizedState!==null,(i.stateNode.isHidden=v)&&!_&&i.mode&1)for(_e=i,_=i.child;_!==null;){for(A=_e=_;_e!==null;){switch(x=_e,S=x.child,x.tag){case 0:case 11:case 14:case 15:Md(4,x,x.return);break;case 1:Cc(x,x.return);var T=x.stateNode;if(typeof T.componentWillUnmount=="function"){c=x,r=x.return;try{n=c,T.props=n.memoizedProps,T.state=n.memoizedState,T.componentWillUnmount()}catch(B){jt(c,r,B)}}break;case 5:Cc(x,x.return);break;case 22:if(x.memoizedState!==null){a2(A);continue}}S!==null?(S.return=x,_e=S):a2(A)}_=_.sibling}e:for(_=null,A=i;;){if(A.tag===5){if(_===null){_=A;try{u=A.stateNode,v?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(m=A.stateNode,b=A.memoizedProps.style,f=b!=null&&b.hasOwnProperty("display")?b.display:null,m.style.display=XE("display",f))}catch(B){jt(i,i.return,B)}}}else if(A.tag===6){if(_===null)try{A.stateNode.nodeValue=v?"":A.memoizedProps}catch(B){jt(i,i.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===i)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===i)break e;for(;A.sibling===null;){if(A.return===null||A.return===i)break e;_===A&&(_=null),A=A.return}_===A&&(_=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:go(n,i),Uo(i),c&4&&r2(i);break;case 21:break;default:go(n,i),Uo(i)}}function Uo(i){var n=i.flags;if(n&2){try{e:{for(var r=i.return;r!==null;){if(E5(r)){var c=r;break e}r=r.return}throw Error(he(160))}switch(c.tag){case 5:var u=c.stateNode;c.flags&32&&(Vd(u,""),c.flags&=-33);var h=o2(i);O0(i,h,u);break;case 3:case 4:var f=c.stateNode.containerInfo,m=o2(i);N0(i,m,f);break;default:throw Error(he(161))}}catch(b){jt(i,i.return,b)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function P6(i,n,r){_e=i,T5(i)}function T5(i,n,r){for(var c=(i.mode&1)!==0;_e!==null;){var u=_e,h=u.child;if(u.tag===22&&c){var f=u.memoizedState!==null||uf;if(!f){var m=u.alternate,b=m!==null&&m.memoizedState!==null||Rn;m=uf;var v=Rn;if(uf=f,(Rn=b)&&!v)for(_e=u;_e!==null;)f=_e,b=f.child,f.tag===22&&f.memoizedState!==null?c2(u):b!==null?(b.return=f,_e=b):c2(u);for(;h!==null;)_e=h,T5(h),h=h.sibling;_e=u,uf=m,Rn=v}s2(i)}else u.subtreeFlags&8772&&h!==null?(h.return=u,_e=h):s2(i)}}function s2(i){for(;_e!==null;){var n=_e;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Rn||zg(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Rn)if(r===null)c.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:ko(n.type,r.memoizedProps);c.componentDidUpdate(u,r.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Hx(n,h,c);break;case 3:var f=n.updateQueue;if(f!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Hx(n,f,r)}break;case 5:var m=n.stateNode;if(r===null&&n.flags&4){r=m;var b=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&r.focus();break;case"img":b.src&&(r.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var v=n.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var A=_.dehydrated;A!==null&&Wd(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Rn||n.flags&512&&M0(n)}catch(x){jt(n,n.return,x)}}if(n===i){_e=null;break}if(r=n.sibling,r!==null){r.return=n.return,_e=r;break}_e=n.return}}function a2(i){for(;_e!==null;){var n=_e;if(n===i){_e=null;break}var r=n.sibling;if(r!==null){r.return=n.return,_e=r;break}_e=n.return}}function c2(i){for(;_e!==null;){var n=_e;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{zg(4,n)}catch(b){jt(n,r,b)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var u=n.return;try{c.componentDidMount()}catch(b){jt(n,u,b)}}var h=n.return;try{M0(n)}catch(b){jt(n,h,b)}break;case 5:var f=n.return;try{M0(n)}catch(b){jt(n,f,b)}}}catch(b){jt(n,n.return,b)}if(n===i){_e=null;break}var m=n.sibling;if(m!==null){m.return=n.return,_e=m;break}_e=n.return}}var L6=Math.ceil,lg=Tr.ReactCurrentDispatcher,Yb=Tr.ReactCurrentOwner,Xi=Tr.ReactCurrentBatchConfig,Ze=0,vn=null,en=null,Tn=0,Ei=0,xc=xs(0),an=0,nu=null,ma=0,jg=0,Kb=0,Nd=null,ui=null,Zb=0,Fc=1/0,gr=null,dg=!1,B0=null,ms=null,hf=!1,ls=null,ug=0,Od=0,P0=null,Lf=-1,zf=0;function Jn(){return Ze&6?qt():Lf!==-1?Lf:Lf=qt()}function ks(i){return i.mode&1?Ze&2&&Tn!==0?Tn&-Tn:w6.transition!==null?(zf===0&&(zf=hS()),zf):(i=ct,i!==0||(i=window.event,i=i===void 0?16:wS(i.type)),i):1}function Ao(i,n,r,c){if(50<Od)throw Od=0,P0=null,Error(he(185));cu(i,r,c),(!(Ze&2)||i!==vn)&&(i===vn&&(!(Ze&2)&&(jg|=r),an===4&&os(i,Tn)),pi(i,c),r===1&&Ze===0&&!(n.mode&1)&&(Fc=qt()+500,Bg&&Es()))}function pi(i,n){var r=i.callbackNode;wL(i,n);var c=Yf(i,i===vn?Tn:0);if(c===0)r!==null&&kx(r),i.callbackNode=null,i.callbackPriority=0;else if(n=c&-c,i.callbackPriority!==n){if(r!=null&&kx(r),n===1)i.tag===0?b6(l2.bind(null,i)):jS(l2.bind(null,i)),g6(function(){!(Ze&6)&&Es()}),r=null;else{switch(fS(c)){case 1:r=yb;break;case 4:r=dS;break;case 16:r=Gf;break;case 536870912:r=uS;break;default:r=Gf}r=z5(r,I5.bind(null,i))}i.callbackPriority=n,i.callbackNode=r}}function I5(i,n){if(Lf=-1,zf=0,Ze&6)throw Error(he(327));var r=i.callbackNode;if(Mc()&&i.callbackNode!==r)return null;var c=Yf(i,i===vn?Tn:0);if(c===0)return null;if(c&30||c&i.expiredLanes||n)n=hg(i,c);else{n=c;var u=Ze;Ze|=2;var h=N5();(vn!==i||Tn!==n)&&(gr=null,Fc=qt()+500,la(i,n));do try{R6();break}catch(m){M5(i,m)}while(1);Pb(),lg.current=h,Ze=u,en!==null?n=0:(vn=null,Tn=0,n=an)}if(n!==0){if(n===2&&(u=c0(i),u!==0&&(c=u,n=L0(i,u))),n===1)throw r=nu,la(i,0),os(i,c),pi(i,qt()),r;if(n===6)os(i,c);else{if(u=i.current.alternate,!(c&30)&&!z6(u)&&(n=hg(i,c),n===2&&(h=c0(i),h!==0&&(c=h,n=L0(i,h))),n===1))throw r=nu,la(i,0),os(i,c),pi(i,qt()),r;switch(i.finishedWork=u,i.finishedLanes=c,n){case 0:case 1:throw Error(he(345));case 2:ea(i,ui,gr);break;case 3:if(os(i,c),(c&130023424)===c&&(n=Zb+500-qt(),10<n)){if(Yf(i,0)!==0)break;if(u=i.suspendedLanes,(u&c)!==c){Jn(),i.pingedLanes|=i.suspendedLanes&u;break}i.timeoutHandle=m0(ea.bind(null,i,ui,gr),n);break}ea(i,ui,gr);break;case 4:if(os(i,c),(c&4194240)===c)break;for(n=i.eventTimes,u=-1;0<c;){var f=31-yo(c);h=1<<f,f=n[f],f>u&&(u=f),c&=~h}if(c=u,c=qt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*L6(c/1960))-c,10<c){i.timeoutHandle=m0(ea.bind(null,i,ui,gr),c);break}ea(i,ui,gr);break;case 5:ea(i,ui,gr);break;default:throw Error(he(329))}}}return pi(i,qt()),i.callbackNode===r?I5.bind(null,i):null}function L0(i,n){var r=Nd;return i.current.memoizedState.isDehydrated&&(la(i,n).flags|=256),i=hg(i,n),i!==2&&(n=ui,ui=r,n!==null&&z0(n)),i}function z0(i){ui===null?ui=i:ui.push.apply(ui,i)}function z6(i){for(var n=i;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var c=0;c<r.length;c++){var u=r[c],h=u.getSnapshot;u=u.value;try{if(!Co(h(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function os(i,n){for(n&=~Kb,n&=~jg,i.suspendedLanes|=n,i.pingedLanes&=~n,i=i.expirationTimes;0<n;){var r=31-yo(n),c=1<<r;i[r]=-1,n&=~c}}function l2(i){if(Ze&6)throw Error(he(327));Mc();var n=Yf(i,0);if(!(n&1))return pi(i,qt()),null;var r=hg(i,n);if(i.tag!==0&&r===2){var c=c0(i);c!==0&&(n=c,r=L0(i,c))}if(r===1)throw r=nu,la(i,0),os(i,n),pi(i,qt()),r;if(r===6)throw Error(he(345));return i.finishedWork=i.current.alternate,i.finishedLanes=n,ea(i,ui,gr),pi(i,qt()),null}function Qb(i,n){var r=Ze;Ze|=1;try{return i(n)}finally{Ze=r,Ze===0&&(Fc=qt()+500,Bg&&Es())}}function ka(i){ls!==null&&ls.tag===0&&!(Ze&6)&&Mc();var n=Ze;Ze|=1;var r=Xi.transition,c=ct;try{if(Xi.transition=null,ct=1,i)return i()}finally{ct=c,Xi.transition=r,Ze=n,!(Ze&6)&&Es()}}function Jb(){Ei=xc.current,At(xc)}function la(i,n){i.finishedWork=null,i.finishedLanes=0;var r=i.timeoutHandle;if(r!==-1&&(i.timeoutHandle=-1,f6(r)),en!==null)for(r=en.return;r!==null;){var c=r;switch(Nb(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Xf();break;case 3:jc(),At(fi),At(Un),Vb();break;case 5:Fb(c);break;case 4:jc();break;case 13:At(Mt);break;case 19:At(Mt);break;case 10:Lb(c.type._context);break;case 22:case 23:Jb()}r=r.return}if(vn=i,en=i=bs(i.current,null),Tn=Ei=n,an=0,nu=null,Kb=jg=ma=0,ui=Nd=null,sa!==null){for(n=0;n<sa.length;n++)if(r=sa[n],c=r.interleaved,c!==null){r.interleaved=null;var u=c.next,h=r.pending;if(h!==null){var f=h.next;h.next=u,c.next=f}r.pending=c}sa=null}return i}function M5(i,n){do{var r=en;try{if(Pb(),Of.current=cg,ag){for(var c=Nt.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}ag=!1}if(pa=0,wn=sn=Nt=null,Id=!1,Xd=0,Yb.current=null,r===null||r.return===null){an=1,nu=n,en=null;break}e:{var h=i,f=r.return,m=r,b=n;if(n=Tn,m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var v=b,_=m,A=_.tag;if(!(_.mode&1)&&(A===0||A===11||A===15)){var x=_.alternate;x?(_.updateQueue=x.updateQueue,_.memoizedState=x.memoizedState,_.lanes=x.lanes):(_.updateQueue=null,_.memoizedState=null)}var S=Zx(f);if(S!==null){S.flags&=-257,Qx(S,f,m,h,n),S.mode&1&&Kx(h,v,n),n=S,b=v;var T=n.updateQueue;if(T===null){var B=new Set;B.add(b),n.updateQueue=B}else T.add(b);break e}else{if(!(n&1)){Kx(h,v,n),Xb();break e}b=Error(he(426))}}else if(St&&m.mode&1){var R=Zx(f);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Qx(R,f,m,h,n),Ob(Rc(b,m));break e}}h=b=Rc(b,m),an!==4&&(an=2),Nd===null?Nd=[h]:Nd.push(h),h=f;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var O=g5(h,b,n);Ux(h,O);break e;case 1:m=b;var L=h.type,E=h.stateNode;if(!(h.flags&128)&&(typeof L.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ms===null||!ms.has(E)))){h.flags|=65536,n&=-n,h.lanes|=n;var U=p5(h,m,n);Ux(h,U);break e}}h=h.return}while(h!==null)}B5(r)}catch(G){n=G,en===r&&r!==null&&(en=r=r.return);continue}break}while(1)}function N5(){var i=lg.current;return lg.current=cg,i===null?cg:i}function Xb(){(an===0||an===3||an===2)&&(an=4),vn===null||!(ma&268435455)&&!(jg&268435455)||os(vn,Tn)}function hg(i,n){var r=Ze;Ze|=2;var c=N5();(vn!==i||Tn!==n)&&(gr=null,la(i,n));do try{j6();break}catch(u){M5(i,u)}while(1);if(Pb(),Ze=r,lg.current=c,en!==null)throw Error(he(261));return vn=null,Tn=0,an}function j6(){for(;en!==null;)O5(en)}function R6(){for(;en!==null&&!dL();)O5(en)}function O5(i){var n=L5(i.alternate,i,Ei);i.memoizedProps=i.pendingProps,n===null?B5(i):en=n,Yb.current=null}function B5(i){var n=i;do{var r=n.alternate;if(i=n.return,n.flags&32768){if(r=N6(r,n),r!==null){r.flags&=32767,en=r;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,en=null;return}}else if(r=M6(r,n,Ei),r!==null){en=r;return}if(n=n.sibling,n!==null){en=n;return}en=n=i}while(n!==null);an===0&&(an=5)}function ea(i,n,r){var c=ct,u=Xi.transition;try{Xi.transition=null,ct=1,F6(i,n,r,c)}finally{Xi.transition=u,ct=c}return null}function F6(i,n,r,c){do Mc();while(ls!==null);if(Ze&6)throw Error(he(327));r=i.finishedWork;var u=i.finishedLanes;if(r===null)return null;if(i.finishedWork=null,i.finishedLanes=0,r===i.current)throw Error(he(177));i.callbackNode=null,i.callbackPriority=0;var h=r.lanes|r.childLanes;if(vL(i,h),i===vn&&(en=vn=null,Tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hf||(hf=!0,z5(Gf,function(){return Mc(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=Xi.transition,Xi.transition=null;var f=ct;ct=1;var m=Ze;Ze|=4,Yb.current=null,B6(i,r),D5(r,i),s6(g0),Kf=!!f0,g0=f0=null,i.current=r,P6(r),uL(),Ze=m,ct=f,Xi.transition=h}else i.current=r;if(hf&&(hf=!1,ls=i,ug=u),h=i.pendingLanes,h===0&&(ms=null),gL(r.stateNode),pi(i,qt()),n!==null)for(c=i.onRecoverableError,r=0;r<n.length;r++)u=n[r],c(u.value,{componentStack:u.stack,digest:u.digest});if(dg)throw dg=!1,i=B0,B0=null,i;return ug&1&&i.tag!==0&&Mc(),h=i.pendingLanes,h&1?i===P0?Od++:(Od=0,P0=i):Od=0,Es(),null}function Mc(){if(ls!==null){var i=fS(ug),n=Xi.transition,r=ct;try{if(Xi.transition=null,ct=16>i?16:i,ls===null)var c=!1;else{if(i=ls,ls=null,ug=0,Ze&6)throw Error(he(331));var u=Ze;for(Ze|=4,_e=i.current;_e!==null;){var h=_e,f=h.child;if(_e.flags&16){var m=h.deletions;if(m!==null){for(var b=0;b<m.length;b++){var v=m[b];for(_e=v;_e!==null;){var _=_e;switch(_.tag){case 0:case 11:case 15:Md(8,_,h)}var A=_.child;if(A!==null)A.return=_,_e=A;else for(;_e!==null;){_=_e;var x=_.sibling,S=_.return;if(x5(_),_===v){_e=null;break}if(x!==null){x.return=S,_e=x;break}_e=S}}}var T=h.alternate;if(T!==null){var B=T.child;if(B!==null){T.child=null;do{var R=B.sibling;B.sibling=null,B=R}while(B!==null)}}_e=h}}if(h.subtreeFlags&2064&&f!==null)f.return=h,_e=f;else e:for(;_e!==null;){if(h=_e,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Md(9,h,h.return)}var O=h.sibling;if(O!==null){O.return=h.return,_e=O;break e}_e=h.return}}var L=i.current;for(_e=L;_e!==null;){f=_e;var E=f.child;if(f.subtreeFlags&2064&&E!==null)E.return=f,_e=E;else e:for(f=L;_e!==null;){if(m=_e,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:zg(9,m)}}catch(G){jt(m,m.return,G)}if(m===f){_e=null;break e}var U=m.sibling;if(U!==null){U.return=m.return,_e=U;break e}_e=m.return}}if(Ze=u,Es(),qo&&typeof qo.onPostCommitFiberRoot=="function")try{qo.onPostCommitFiberRoot(Tg,i)}catch{}c=!0}return c}finally{ct=r,Xi.transition=n}}return!1}function d2(i,n,r){n=Rc(r,n),n=g5(i,n,1),i=ps(i,n,1),n=Jn(),i!==null&&(cu(i,1,n),pi(i,n))}function jt(i,n,r){if(i.tag===3)d2(i,i,r);else for(;n!==null;){if(n.tag===3){d2(n,i,r);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ms===null||!ms.has(c))){i=Rc(r,i),i=p5(n,i,1),n=ps(n,i,1),i=Jn(),n!==null&&(cu(n,1,i),pi(n,i));break}}n=n.return}}function V6(i,n,r){var c=i.pingCache;c!==null&&c.delete(n),n=Jn(),i.pingedLanes|=i.suspendedLanes&r,vn===i&&(Tn&r)===r&&(an===4||an===3&&(Tn&130023424)===Tn&&500>qt()-Zb?la(i,0):Kb|=r),pi(i,n)}function P5(i,n){n===0&&(i.mode&1?(n=tf,tf<<=1,!(tf&130023424)&&(tf=4194304)):n=1);var r=Jn();i=Ar(i,n),i!==null&&(cu(i,n,r),pi(i,r))}function U6(i){var n=i.memoizedState,r=0;n!==null&&(r=n.retryLane),P5(i,r)}function H6(i,n){var r=0;switch(i.tag){case 13:var c=i.stateNode,u=i.memoizedState;u!==null&&(r=u.retryLane);break;case 19:c=i.stateNode;break;default:throw Error(he(314))}c!==null&&c.delete(n),P5(i,r)}var L5;L5=function(i,n,r){if(i!==null)if(i.memoizedProps!==n.pendingProps||fi.current)hi=!0;else{if(!(i.lanes&r)&&!(n.flags&128))return hi=!1,I6(i,n,r);hi=!!(i.flags&131072)}else hi=!1,St&&n.flags&1048576&&RS(n,ng,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Pf(i,n),i=n.pendingProps;var u=Pc(n,Un.current);Ic(n,r),u=Hb(null,n,c,i,u,r);var h=$b();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,gi(c)?(h=!0,eg(n)):h=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,jb(n),u.updater=Pg,n.stateNode=u,u._reactInternals=n,A0(n,c,i,r),n=E0(null,n,c,!0,h,r)):(n.tag=0,St&&h&&Mb(n),Kn(null,n,u,r),n=n.child),n;case 16:c=n.elementType;e:{switch(Pf(i,n),i=n.pendingProps,u=c._init,c=u(c._payload),n.type=c,u=n.tag=W6(c),i=ko(c,i),u){case 0:n=x0(null,n,c,i,r);break e;case 1:n=e2(null,n,c,i,r);break e;case 11:n=Jx(null,n,c,i,r);break e;case 14:n=Xx(null,n,c,ko(c.type,i),r);break e}throw Error(he(306,c,""))}return n;case 0:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ko(c,u),x0(i,n,c,u,r);case 1:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ko(c,u),e2(i,n,c,u,r);case 3:e:{if(w5(n),i===null)throw Error(he(387));c=n.pendingProps,h=n.memoizedState,u=h.element,HS(i,n),rg(n,c,null,r);var f=n.memoizedState;if(c=f.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){u=Rc(Error(he(423)),n),n=t2(i,n,c,r,u);break e}else if(c!==u){u=Rc(Error(he(424)),n),n=t2(i,n,c,r,u);break e}else for(Ti=gs(n.stateNode.containerInfo.firstChild),Ii=n,St=!0,vo=null,r=GS(n,null,c,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lc(),c===u){n=Cr(i,n,r);break e}Kn(i,n,c,r)}n=n.child}return n;case 5:return YS(n),i===null&&v0(n),c=n.type,u=n.pendingProps,h=i!==null?i.memoizedProps:null,f=u.children,p0(c,u)?f=null:h!==null&&p0(c,h)&&(n.flags|=32),b5(i,n),Kn(i,n,f,r),n.child;case 6:return i===null&&v0(n),null;case 13:return v5(i,n,r);case 4:return Rb(n,n.stateNode.containerInfo),c=n.pendingProps,i===null?n.child=zc(n,null,c,r):Kn(i,n,c,r),n.child;case 11:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ko(c,u),Jx(i,n,c,u,r);case 7:return Kn(i,n,n.pendingProps,r),n.child;case 8:return Kn(i,n,n.pendingProps.children,r),n.child;case 12:return Kn(i,n,n.pendingProps.children,r),n.child;case 10:e:{if(c=n.type._context,u=n.pendingProps,h=n.memoizedProps,f=u.value,bt(ig,c._currentValue),c._currentValue=f,h!==null)if(Co(h.value,f)){if(h.children===u.children&&!fi.current){n=Cr(i,n,r);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){f=h.child;for(var b=m.firstContext;b!==null;){if(b.context===c){if(h.tag===1){b=vr(-1,r&-r),b.tag=2;var v=h.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?b.next=b:(b.next=_.next,_.next=b),v.pending=b}}h.lanes|=r,b=h.alternate,b!==null&&(b.lanes|=r),_0(h.return,r,n),m.lanes|=r;break}b=b.next}}else if(h.tag===10)f=h.type===n.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(he(341));f.lanes|=r,m=f.alternate,m!==null&&(m.lanes|=r),_0(f,r,n),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===n){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}Kn(i,n,u.children,r),n=n.child}return n;case 9:return u=n.type,c=n.pendingProps.children,Ic(n,r),u=eo(u),c=c(u),n.flags|=1,Kn(i,n,c,r),n.child;case 14:return c=n.type,u=ko(c,n.pendingProps),u=ko(c.type,u),Xx(i,n,c,u,r);case 15:return m5(i,n,n.type,n.pendingProps,r);case 17:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ko(c,u),Pf(i,n),n.tag=1,gi(c)?(i=!0,eg(n)):i=!1,Ic(n,r),WS(n,c,u),A0(n,c,u,r),E0(null,n,c,!0,i,r);case 19:return _5(i,n,r);case 22:return k5(i,n,r)}throw Error(he(156,n.tag))};function z5(i,n){return lS(i,n)}function $6(i,n,r,c){this.tag=i,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(i,n,r,c){return new $6(i,n,r,c)}function ew(i){return i=i.prototype,!(!i||!i.isReactComponent)}function W6(i){if(typeof i=="function")return ew(i)?1:0;if(i!=null){if(i=i.$$typeof,i===wb)return 11;if(i===vb)return 14}return 2}function bs(i,n){var r=i.alternate;return r===null?(r=Qi(i.tag,n,i.key,i.mode),r.elementType=i.elementType,r.type=i.type,r.stateNode=i.stateNode,r.alternate=i,i.alternate=r):(r.pendingProps=n,r.type=i.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=i.flags&14680064,r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,n=i.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=i.sibling,r.index=i.index,r.ref=i.ref,r}function jf(i,n,r,c,u,h){var f=2;if(c=i,typeof i=="function")ew(i)&&(f=1);else if(typeof i=="string")f=5;else e:switch(i){case pc:return da(r.children,u,h,n);case bb:f=8,u|=8;break;case Gk:return i=Qi(12,r,n,u|2),i.elementType=Gk,i.lanes=h,i;case Yk:return i=Qi(13,r,n,u),i.elementType=Yk,i.lanes=h,i;case Kk:return i=Qi(19,r,n,u),i.elementType=Kk,i.lanes=h,i;case qE:return Rg(r,u,h,n);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $E:f=10;break e;case WE:f=9;break e;case wb:f=11;break e;case vb:f=14;break e;case Xr:f=16,c=null;break e}throw Error(he(130,i==null?i:typeof i,""))}return n=Qi(f,r,n,u),n.elementType=i,n.type=c,n.lanes=h,n}function da(i,n,r,c){return i=Qi(7,i,c,n),i.lanes=r,i}function Rg(i,n,r,c){return i=Qi(22,i,c,n),i.elementType=qE,i.lanes=r,i.stateNode={isHidden:!1},i}function Ek(i,n,r){return i=Qi(6,i,null,n),i.lanes=r,i}function Sk(i,n,r){return n=Qi(4,i.children!==null?i.children:[],i.key,n),n.lanes=r,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}function q6(i,n,r,c,u){this.tag=n,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ak(0),this.expirationTimes=ak(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ak(0),this.identifierPrefix=c,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function tw(i,n,r,c,u,h,f,m,b){return i=new q6(i,n,r,m,b),n===1?(n=1,h===!0&&(n|=8)):n=0,h=Qi(3,null,null,n),i.current=h,h.stateNode=i,h.memoizedState={element:c,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jb(h),i}function G6(i,n,r){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:c==null?null:""+c,children:i,containerInfo:n,implementation:r}}function j5(i){if(!i)return _s;i=i._reactInternals;e:{if(_a(i)!==i||i.tag!==1)throw Error(he(170));var n=i;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(gi(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(he(171))}if(i.tag===1){var r=i.type;if(gi(r))return zS(i,r,n)}return n}function R5(i,n,r,c,u,h,f,m,b){return i=tw(r,c,!0,i,u,h,f,m,b),i.context=j5(null),r=i.current,c=Jn(),u=ks(r),h=vr(c,u),h.callback=n??null,ps(r,h,u),i.current.lanes=u,cu(i,u,c),pi(i,c),i}function Fg(i,n,r,c){var u=n.current,h=Jn(),f=ks(u);return r=j5(r),n.context===null?n.context=r:n.pendingContext=r,n=vr(h,f),n.payload={element:i},c=c===void 0?null:c,c!==null&&(n.callback=c),i=ps(u,n,f),i!==null&&(Ao(i,u,f,h),Nf(i,u,f)),f}function fg(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function u2(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var r=i.retryLane;i.retryLane=r!==0&&r<n?r:n}}function nw(i,n){u2(i,n),(i=i.alternate)&&u2(i,n)}function Y6(){return null}var F5=typeof reportError=="function"?reportError:function(i){console.error(i)};function iw(i){this._internalRoot=i}Vg.prototype.render=iw.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(he(409));Fg(i,n,null,null)};Vg.prototype.unmount=iw.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;ka(function(){Fg(null,i,null,null)}),n[yr]=null}};function Vg(i){this._internalRoot=i}Vg.prototype.unstable_scheduleHydration=function(i){if(i){var n=mS();i={blockedOn:null,target:i,priority:n};for(var r=0;r<is.length&&n!==0&&n<is[r].priority;r++);is.splice(r,0,i),r===0&&bS(i)}};function ow(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ug(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function h2(){}function K6(i,n,r,c,u){if(u){if(typeof c=="function"){var h=c;c=function(){var v=fg(f);h.call(v)}}var f=R5(n,c,i,0,null,!1,!1,"",h2);return i._reactRootContainer=f,i[yr]=f.current,Yd(i.nodeType===8?i.parentNode:i),ka(),f}for(;u=i.lastChild;)i.removeChild(u);if(typeof c=="function"){var m=c;c=function(){var v=fg(b);m.call(v)}}var b=tw(i,0,!1,null,null,!1,!1,"",h2);return i._reactRootContainer=b,i[yr]=b.current,Yd(i.nodeType===8?i.parentNode:i),ka(function(){Fg(n,b,r,c)}),b}function Hg(i,n,r,c,u){var h=r._reactRootContainer;if(h){var f=h;if(typeof u=="function"){var m=u;u=function(){var b=fg(f);m.call(b)}}Fg(n,f,i,u)}else f=K6(r,n,i,u,c);return fg(f)}gS=function(i){switch(i.tag){case 3:var n=i.stateNode;if(n.current.memoizedState.isDehydrated){var r=wd(n.pendingLanes);r!==0&&(Ab(n,r|1),pi(n,qt()),!(Ze&6)&&(Fc=qt()+500,Es()))}break;case 13:ka(function(){var c=Ar(i,1);if(c!==null){var u=Jn();Ao(c,i,1,u)}}),nw(i,1)}};Cb=function(i){if(i.tag===13){var n=Ar(i,134217728);if(n!==null){var r=Jn();Ao(n,i,134217728,r)}nw(i,134217728)}};pS=function(i){if(i.tag===13){var n=ks(i),r=Ar(i,n);if(r!==null){var c=Jn();Ao(r,i,n,c)}nw(i,n)}};mS=function(){return ct};kS=function(i,n){var r=ct;try{return ct=i,n()}finally{ct=r}};r0=function(i,n,r){switch(n){case"input":if(Jk(i,r),n=r.name,r.type==="radio"&&n!=null){for(r=i;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var c=r[n];if(c!==i&&c.form===i.form){var u=Og(c);if(!u)throw Error(he(90));YE(c),Jk(c,u)}}}break;case"textarea":ZE(i,r);break;case"select":n=r.value,n!=null&&Ec(i,!!r.multiple,n,!1)}};iS=Qb;oS=ka;var Z6={usingClientEntryPoint:!1,Events:[du,wc,Og,tS,nS,Qb]},fd={findFiberByHostInstance:ra,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Q6={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=aS(i),i===null?null:i.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||Y6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{Tg=ff.inject(Q6),qo=ff}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z6;Bi.createPortal=function(i,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ow(n))throw Error(he(200));return G6(i,n,null,r)};Bi.createRoot=function(i,n){if(!ow(i))throw Error(he(299));var r=!1,c="",u=F5;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=tw(i,1,!1,null,null,r,!1,c,u),i[yr]=n.current,Yd(i.nodeType===8?i.parentNode:i),new iw(n)};Bi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(he(188)):(i=Object.keys(i).join(","),Error(he(268,i)));return i=aS(n),i=i===null?null:i.stateNode,i};Bi.flushSync=function(i){return ka(i)};Bi.hydrate=function(i,n,r){if(!Ug(n))throw Error(he(200));return Hg(null,i,n,!0,r)};Bi.hydrateRoot=function(i,n,r){if(!ow(i))throw Error(he(405));var c=r!=null&&r.hydratedSources||null,u=!1,h="",f=F5;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),n=R5(n,null,i,1,r??null,u,!1,h,f),i[yr]=n.current,Yd(i),c)for(i=0;i<c.length;i++)r=c[i],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new Vg(n)};Bi.render=function(i,n,r){if(!Ug(n))throw Error(he(200));return Hg(null,i,n,!1,r)};Bi.unmountComponentAtNode=function(i){if(!Ug(i))throw Error(he(40));return i._reactRootContainer?(ka(function(){Hg(null,null,i,!1,function(){i._reactRootContainer=null,i[yr]=null})}),!0):!1};Bi.unstable_batchedUpdates=Qb;Bi.unstable_renderSubtreeIntoContainer=function(i,n,r,c){if(!Ug(r))throw Error(he(200));if(i==null||i._reactInternals===void 0)throw Error(he(38));return Hg(i,n,r,!1,c)};Bi.version="18.2.0-next-9e3b772b8-20220608";function V5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V5)}catch(i){console.error(i)}}V5(),RE.exports=Bi;var J6=RE.exports,f2=J6;Wk.createRoot=f2.createRoot,Wk.hydrateRoot=f2.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])}return i},iu.apply(this,arguments)}var ds;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(ds||(ds={}));const g2="popstate";function X6(i){i===void 0&&(i={});function n(c,u){let{pathname:h,search:f,hash:m}=c.location;return j0("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(c,u){return typeof u=="string"?u:gg(u)}return tz(n,r,null,i)}function Gt(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function rw(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ez(){return Math.random().toString(36).substr(2,8)}function p2(i,n){return{usr:i.state,key:i.key,idx:n}}function j0(i,n,r,c){return r===void 0&&(r=null),iu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof n=="string"?Gc(n):n,{state:r,key:n&&n.key||c||ez()})}function gg(i){let{pathname:n="/",search:r="",hash:c=""}=i;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),c&&c!=="#"&&(n+=c.charAt(0)==="#"?c:"#"+c),n}function Gc(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substr(r),i=i.substr(0,r));let c=i.indexOf("?");c>=0&&(n.search=i.substr(c),i=i.substr(0,c)),i&&(n.pathname=i)}return n}function tz(i,n,r,c){c===void 0&&(c={});let{window:u=document.defaultView,v5Compat:h=!1}=c,f=u.history,m=ds.Pop,b=null,v=_();v==null&&(v=0,f.replaceState(iu({},f.state,{idx:v}),""));function _(){return(f.state||{idx:null}).idx}function A(){m=ds.Pop;let R=_(),O=R==null?null:R-v;v=R,b&&b({action:m,location:B.location,delta:O})}function x(R,O){m=ds.Push;let L=j0(B.location,R,O);r&&r(L,R),v=_()+1;let E=p2(L,v),U=B.createHref(L);try{f.pushState(E,"",U)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;u.location.assign(U)}h&&b&&b({action:m,location:B.location,delta:1})}function S(R,O){m=ds.Replace;let L=j0(B.location,R,O);r&&r(L,R),v=_();let E=p2(L,v),U=B.createHref(L);f.replaceState(E,"",U),h&&b&&b({action:m,location:B.location,delta:0})}function T(R){let O=u.location.origin!=="null"?u.location.origin:u.location.href,L=typeof R=="string"?R:gg(R);return Gt(O,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,O)}let B={get action(){return m},get location(){return i(u,f)},listen(R){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(g2,A),b=R,()=>{u.removeEventListener(g2,A),b=null}},createHref(R){return n(u,R)},createURL:T,encodeLocation(R){let O=T(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:S,go(R){return f.go(R)}};return B}var m2;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(m2||(m2={}));function nz(i,n,r){r===void 0&&(r="/");let c=typeof n=="string"?Gc(n):n,u=sw(c.pathname||"/",r);if(u==null)return null;let h=U5(i);iz(h);let f=null;for(let m=0;f==null&&m<h.length;++m)f=hz(h[m],pz(u));return f}function U5(i,n,r,c){n===void 0&&(n=[]),r===void 0&&(r=[]),c===void 0&&(c="");let u=(h,f,m)=>{let b={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};b.relativePath.startsWith("/")&&(Gt(b.relativePath.startsWith(c),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(c.length));let v=ws([c,b.relativePath]),_=r.concat(b);h.children&&h.children.length>0&&(Gt(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),U5(h.children,n,_,v)),!(h.path==null&&!h.index)&&n.push({path:v,score:dz(v,h.index),routesMeta:_})};return i.forEach((h,f)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,f);else for(let b of H5(h.path))u(h,f,b)}),n}function H5(i){let n=i.split("/");if(n.length===0)return[];let[r,...c]=n,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(c.length===0)return u?[h,""]:[h];let f=H5(c.join("/")),m=[];return m.push(...f.map(b=>b===""?h:[h,b].join("/"))),u&&m.push(...f),m.map(b=>i.startsWith("/")&&b===""?"/":b)}function iz(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:uz(n.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}const oz=/^:\w+$/,rz=3,sz=2,az=1,cz=10,lz=-2,k2=i=>i==="*";function dz(i,n){let r=i.split("/"),c=r.length;return r.some(k2)&&(c+=lz),n&&(c+=sz),r.filter(u=>!k2(u)).reduce((u,h)=>u+(oz.test(h)?rz:h===""?az:cz),c)}function uz(i,n){return i.length===n.length&&i.slice(0,-1).every((c,u)=>c===n[u])?i[i.length-1]-n[n.length-1]:0}function hz(i,n){let{routesMeta:r}=i,c={},u="/",h=[];for(let f=0;f<r.length;++f){let m=r[f],b=f===r.length-1,v=u==="/"?n:n.slice(u.length)||"/",_=fz({path:m.relativePath,caseSensitive:m.caseSensitive,end:b},v);if(!_)return null;Object.assign(c,_.params);let A=m.route;h.push({params:c,pathname:ws([u,_.pathname]),pathnameBase:wz(ws([u,_.pathnameBase])),route:A}),_.pathnameBase!=="/"&&(u=ws([u,_.pathnameBase]))}return h}function fz(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,c]=gz(i.path,i.caseSensitive,i.end),u=n.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:c.reduce((v,_,A)=>{let{paramName:x,isOptional:S}=_;if(x==="*"){let B=m[A]||"";f=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const T=m[A];return S&&!T?v[x]=void 0:v[x]=mz(T||"",x),v},{}),pathname:h,pathnameBase:f,pattern:i}}function gz(i,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),rw(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let c=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(f,m,b)=>(c.push({paramName:m,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(c.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),c]}function pz(i){try{return decodeURI(i)}catch(n){return rw(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),i}}function mz(i,n){try{return decodeURIComponent(i)}catch(r){return rw(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),i}}function sw(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,c=i.charAt(r);return c&&c!=="/"?null:i.slice(r)||"/"}function kz(i,n){n===void 0&&(n="/");let{pathname:r,search:c="",hash:u=""}=typeof i=="string"?Gc(i):i;return{pathname:r?r.startsWith("/")?r:bz(r,n):n,search:vz(c),hash:_z(u)}}function bz(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Dk(i,n,r,c){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aw(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function cw(i,n,r,c){c===void 0&&(c=!1);let u;typeof i=="string"?u=Gc(i):(u=iu({},i),Gt(!u.pathname||!u.pathname.includes("?"),Dk("?","pathname","search",u)),Gt(!u.pathname||!u.pathname.includes("#"),Dk("#","pathname","hash",u)),Gt(!u.search||!u.search.includes("#"),Dk("#","search","hash",u)));let h=i===""||u.pathname==="",f=h?"/":u.pathname,m;if(c||f==null)m=r;else{let A=n.length-1;if(f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;u.pathname=x.join("/")}m=A>=0?n[A]:"/"}let b=kz(u,m),v=f&&f!=="/"&&f.endsWith("/"),_=(h||f===".")&&r.endsWith("/");return!b.pathname.endsWith("/")&&(v||_)&&(b.pathname+="/"),b}const ws=i=>i.join("/").replace(/\/\/+/g,"/"),wz=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vz=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_z=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yz(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const $5=["post","put","patch","delete"];new Set($5);const Az=["get",...$5];new Set(Az);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pg(){return pg=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])}return i},pg.apply(this,arguments)}const lw=Y.createContext(null),Cz=Y.createContext(null),Yc=Y.createContext(null),$g=Y.createContext(null),Ir=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),W5=Y.createContext(null);function xz(i,n){let{relative:r}=n===void 0?{}:n;Kc()||Gt(!1);let{basename:c,navigator:u}=Y.useContext(Yc),{hash:h,pathname:f,search:m}=G5(i,{relative:r}),b=f;return c!=="/"&&(b=f==="/"?c:ws([c,f])),u.createHref({pathname:b,search:m,hash:h})}function Kc(){return Y.useContext($g)!=null}function Zc(){return Kc()||Gt(!1),Y.useContext($g).location}function q5(i){Y.useContext(Yc).static||Y.useLayoutEffect(i)}function Mr(){let{isDataRoute:i}=Y.useContext(Ir);return i?jz():Ez()}function Ez(){Kc()||Gt(!1);let i=Y.useContext(lw),{basename:n,navigator:r}=Y.useContext(Yc),{matches:c}=Y.useContext(Ir),{pathname:u}=Zc(),h=JSON.stringify(aw(c).map(b=>b.pathnameBase)),f=Y.useRef(!1);return q5(()=>{f.current=!0}),Y.useCallback(function(b,v){if(v===void 0&&(v={}),!f.current)return;if(typeof b=="number"){r.go(b);return}let _=cw(b,JSON.parse(h),u,v.relative==="path");i==null&&n!=="/"&&(_.pathname=_.pathname==="/"?n:ws([n,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[n,r,h,u,i])}function dw(){let{matches:i}=Y.useContext(Ir),n=i[i.length-1];return n?n.params:{}}function G5(i,n){let{relative:r}=n===void 0?{}:n,{matches:c}=Y.useContext(Ir),{pathname:u}=Zc(),h=JSON.stringify(aw(c).map(f=>f.pathnameBase));return Y.useMemo(()=>cw(i,JSON.parse(h),u,r==="path"),[i,h,u,r])}function Sz(i,n){return Dz(i,n)}function Dz(i,n,r){Kc()||Gt(!1);let{navigator:c}=Y.useContext(Yc),{matches:u}=Y.useContext(Ir),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let b=Zc(),v;if(n){var _;let B=typeof n=="string"?Gc(n):n;m==="/"||(_=B.pathname)!=null&&_.startsWith(m)||Gt(!1),v=B}else v=b;let A=v.pathname||"/",x=m==="/"?A:A.slice(m.length)||"/",S=nz(i,{pathname:x}),T=Oz(S&&S.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:ws([m,c.encodeLocation?c.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:ws([m,c.encodeLocation?c.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,r);return n&&T?Y.createElement($g.Provider,{value:{location:pg({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ds.Pop}},T):T}function Tz(){let i=zz(),n=yz(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},n),r?Y.createElement("pre",{style:u},r):null,h)}const Iz=Y.createElement(Tz,null);class Mz extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error?Y.createElement(Ir.Provider,{value:this.props.routeContext},Y.createElement(W5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nz(i){let{routeContext:n,match:r,children:c}=i,u=Y.useContext(lw);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(Ir.Provider,{value:n},c)}function Oz(i,n,r){var c;if(n===void 0&&(n=[]),r===void 0&&(r=null),i==null){var u;if((u=r)!=null&&u.errors)i=r.matches;else return null}let h=i,f=(c=r)==null?void 0:c.errors;if(f!=null){let m=h.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id]));m>=0||Gt(!1),h=h.slice(0,Math.min(h.length,m+1))}return h.reduceRight((m,b,v)=>{let _=b.route.id?f==null?void 0:f[b.route.id]:null,A=null;r&&(A=b.route.errorElement||Iz);let x=n.concat(h.slice(0,v+1)),S=()=>{let T;return _?T=A:b.route.Component?T=Y.createElement(b.route.Component,null):b.route.element?T=b.route.element:T=m,Y.createElement(Nz,{match:b,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:T})};return r&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?Y.createElement(Mz,{location:r.location,revalidation:r.revalidation,component:A,error:_,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}var Y5=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Y5||{}),mg=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(mg||{});function Bz(i){let n=Y.useContext(lw);return n||Gt(!1),n}function Pz(i){let n=Y.useContext(Cz);return n||Gt(!1),n}function Lz(i){let n=Y.useContext(Ir);return n||Gt(!1),n}function K5(i){let n=Lz(),r=n.matches[n.matches.length-1];return r.route.id||Gt(!1),r.route.id}function zz(){var i;let n=Y.useContext(W5),r=Pz(mg.UseRouteError),c=K5(mg.UseRouteError);return n||((i=r.errors)==null?void 0:i[c])}function jz(){let{router:i}=Bz(Y5.UseNavigateStable),n=K5(mg.UseNavigateStable),r=Y.useRef(!1);return q5(()=>{r.current=!0}),Y.useCallback(function(u,h){h===void 0&&(h={}),r.current&&(typeof u=="number"?i.navigate(u):i.navigate(u,pg({fromRouteId:n},h)))},[i,n])}function Rz(i){let{to:n,replace:r,state:c,relative:u}=i;Kc()||Gt(!1);let{matches:h}=Y.useContext(Ir),{pathname:f}=Zc(),m=Mr(),b=cw(n,aw(h).map(_=>_.pathnameBase),f,u==="path"),v=JSON.stringify(b);return Y.useEffect(()=>m(JSON.parse(v),{replace:r,state:c,relative:u}),[m,v,u,r,c]),null}function Gi(i){Gt(!1)}function Fz(i){let{basename:n="/",children:r=null,location:c,navigationType:u=ds.Pop,navigator:h,static:f=!1}=i;Kc()&&Gt(!1);let m=n.replace(/^\/*/,"/"),b=Y.useMemo(()=>({basename:m,navigator:h,static:f}),[m,h,f]);typeof c=="string"&&(c=Gc(c));let{pathname:v="/",search:_="",hash:A="",state:x=null,key:S="default"}=c,T=Y.useMemo(()=>{let B=sw(v,m);return B==null?null:{location:{pathname:B,search:_,hash:A,state:x,key:S},navigationType:u}},[m,v,_,A,x,S,u]);return T==null?null:Y.createElement(Yc.Provider,{value:b},Y.createElement($g.Provider,{children:r,value:T}))}function Vz(i){let{children:n,location:r}=i;return Sz(R0(n),r)}new Promise(()=>{});function R0(i,n){n===void 0&&(n=[]);let r=[];return Y.Children.forEach(i,(c,u)=>{if(!Y.isValidElement(c))return;let h=[...n,u];if(c.type===Y.Fragment){r.push.apply(r,R0(c.props.children,h));return}c.type!==Gi&&Gt(!1),!c.props.index||!c.props.children||Gt(!1);let f={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=R0(c.props.children,h)),r.push(f)}),r}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])}return i},F0.apply(this,arguments)}function Uz(i,n){if(i==null)return{};var r={},c=Object.keys(i),u,h;for(h=0;h<c.length;h++)u=c[h],!(n.indexOf(u)>=0)&&(r[u]=i[u]);return r}function Hz(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $z(i,n){return i.button===0&&(!n||n==="_self")&&!Hz(i)}const Wz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qz="startTransition",b2=UP[qz];function Gz(i){let{basename:n,children:r,future:c,window:u}=i,h=Y.useRef();h.current==null&&(h.current=X6({window:u,v5Compat:!0}));let f=h.current,[m,b]=Y.useState({action:f.action,location:f.location}),{v7_startTransition:v}=c||{},_=Y.useCallback(A=>{v&&b2?b2(()=>b(A)):b(A)},[b,v]);return Y.useLayoutEffect(()=>f.listen(_),[f,_]),Y.createElement(Fz,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:f})}const Yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=Y.forwardRef(function(n,r){let{onClick:c,relative:u,reloadDocument:h,replace:f,state:m,target:b,to:v,preventScrollReset:_,unstable_viewTransition:A}=n,x=Uz(n,Wz),{basename:S}=Y.useContext(Yc),T,B=!1;if(typeof v=="string"&&Kz.test(v)&&(T=v,Yz))try{let E=new URL(window.location.href),U=v.startsWith("//")?new URL(E.protocol+v):new URL(v),G=sw(U.pathname,S);U.origin===E.origin&&G!=null?v=G+U.search+U.hash:B=!0}catch{}let R=xz(v,{relative:u}),O=Zz(v,{replace:f,state:m,target:b,preventScrollReset:_,relative:u,unstable_viewTransition:A});function L(E){c&&c(E),E.defaultPrevented||O(E)}return Y.createElement("a",F0({},x,{href:T||R,onClick:B||h?c:L,ref:r,target:b}))});var w2;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(w2||(w2={}));var v2;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(v2||(v2={}));function Zz(i,n){let{target:r,replace:c,state:u,preventScrollReset:h,relative:f,unstable_viewTransition:m}=n===void 0?{}:n,b=Mr(),v=Zc(),_=G5(i,{relative:f});return Y.useCallback(A=>{if($z(A,r)){A.preventDefault();let x=c!==void 0?c:gg(v)===gg(_);b(i,{replace:x,state:u,preventScrollReset:h,relative:f,unstable_viewTransition:m})}},[v,b,_,c,u,r,i,h,f,m])}function xr(i){return Array.isArray?Array.isArray(i):J5(i)==="[object Array]"}const Qz=1/0;function Jz(i){if(typeof i=="string")return i;let n=i+"";return n=="0"&&1/i==-Qz?"-0":n}function Xz(i){return i==null?"":Jz(i)}function Wo(i){return typeof i=="string"}function Z5(i){return typeof i=="number"}function ej(i){return i===!0||i===!1||tj(i)&&J5(i)=="[object Boolean]"}function Q5(i){return typeof i=="object"}function tj(i){return Q5(i)&&i!==null}function Di(i){return i!=null}function Tk(i){return!i.trim().length}function J5(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const nj="Incorrect 'index' type",ij=i=>`Invalid value for key ${i}`,oj=i=>`Pattern length exceeds max of ${i}.`,rj=i=>`Missing ${i} property in key`,sj=i=>`Property 'weight' in key '${i}' must be a positive integer`,_2=Object.prototype.hasOwnProperty;class aj{constructor(n){this._keys=[],this._keyMap={};let r=0;n.forEach(c=>{let u=X5(c);this._keys.push(u),this._keyMap[u.id]=u,r+=u.weight}),this._keys.forEach(c=>{c.weight/=r})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function X5(i){let n=null,r=null,c=null,u=1,h=null;if(Wo(i)||xr(i))c=i,n=y2(i),r=V0(i);else{if(!_2.call(i,"name"))throw new Error(rj("name"));const f=i.name;if(c=f,_2.call(i,"weight")&&(u=i.weight,u<=0))throw new Error(sj(f));n=y2(f),r=V0(f),h=i.getFn}return{path:n,id:r,weight:u,src:c,getFn:h}}function y2(i){return xr(i)?i:i.split(".")}function V0(i){return xr(i)?i.join("."):i}function cj(i,n){let r=[],c=!1;const u=(h,f,m)=>{if(Di(h))if(!f[m])r.push(h);else{let b=f[m];const v=h[b];if(!Di(v))return;if(m===f.length-1&&(Wo(v)||Z5(v)||ej(v)))r.push(Xz(v));else if(xr(v)){c=!0;for(let _=0,A=v.length;_<A;_+=1)u(v[_],f,m+1)}else f.length&&u(v,f,m+1)}};return u(i,Wo(n)?n.split("."):n,0),c?r:r[0]}const lj={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},dj={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,n)=>i.score===n.score?i.idx<n.idx?-1:1:i.score<n.score?-1:1},uj={location:0,threshold:.6,distance:100},hj={useExtendedSearch:!1,getFn:cj,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Be={...dj,...lj,...uj,...hj};const fj=/[^ ]+/g;function gj(i=1,n=3){const r=new Map,c=Math.pow(10,n);return{get(u){const h=u.match(fj).length;if(r.has(h))return r.get(h);const f=1/Math.pow(h,.5*i),m=parseFloat(Math.round(f*c)/c);return r.set(h,m),m},clear(){r.clear()}}}class uw{constructor({getFn:n=Be.getFn,fieldNormWeight:r=Be.fieldNormWeight}={}){this.norm=gj(r,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((r,c)=>{this._keysMap[r.id]=c})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Wo(this.docs[0])?this.docs.forEach((n,r)=>{this._addString(n,r)}):this.docs.forEach((n,r)=>{this._addObject(n,r)}),this.norm.clear())}add(n){const r=this.size();Wo(n)?this._addString(n,r):this._addObject(n,r)}removeAt(n){this.records.splice(n,1);for(let r=n,c=this.size();r<c;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(n,r){return n[this._keysMap[r]]}size(){return this.records.length}_addString(n,r){if(!Di(n)||Tk(n))return;let c={v:n,i:r,n:this.norm.get(n)};this.records.push(c)}_addObject(n,r){let c={i:r,$:{}};this.keys.forEach((u,h)=>{let f=u.getFn?u.getFn(n):this.getFn(n,u.path);if(Di(f)){if(xr(f)){let m=[];const b=[{nestedArrIndex:-1,value:f}];for(;b.length;){const{nestedArrIndex:v,value:_}=b.pop();if(Di(_))if(Wo(_)&&!Tk(_)){let A={v:_,i:v,n:this.norm.get(_)};m.push(A)}else xr(_)&&_.forEach((A,x)=>{b.push({nestedArrIndex:x,value:A})})}c.$[h]=m}else if(Wo(f)&&!Tk(f)){let m={v:f,n:this.norm.get(f)};c.$[h]=m}}}),this.records.push(c)}toJSON(){return{keys:this.keys,records:this.records}}}function eD(i,n,{getFn:r=Be.getFn,fieldNormWeight:c=Be.fieldNormWeight}={}){const u=new uw({getFn:r,fieldNormWeight:c});return u.setKeys(i.map(X5)),u.setSources(n),u.create(),u}function pj(i,{getFn:n=Be.getFn,fieldNormWeight:r=Be.fieldNormWeight}={}){const{keys:c,records:u}=i,h=new uw({getFn:n,fieldNormWeight:r});return h.setKeys(c),h.setIndexRecords(u),h}function gf(i,{errors:n=0,currentLocation:r=0,expectedLocation:c=0,distance:u=Be.distance,ignoreLocation:h=Be.ignoreLocation}={}){const f=n/i.length;if(h)return f;const m=Math.abs(c-r);return u?f+m/u:m?1:f}function mj(i=[],n=Be.minMatchCharLength){let r=[],c=-1,u=-1,h=0;for(let f=i.length;h<f;h+=1){let m=i[h];m&&c===-1?c=h:!m&&c!==-1&&(u=h-1,u-c+1>=n&&r.push([c,u]),c=-1)}return i[h-1]&&h-c>=n&&r.push([c,h-1]),r}const ta=32;function kj(i,n,r,{location:c=Be.location,distance:u=Be.distance,threshold:h=Be.threshold,findAllMatches:f=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,includeMatches:b=Be.includeMatches,ignoreLocation:v=Be.ignoreLocation}={}){if(n.length>ta)throw new Error(oj(ta));const _=n.length,A=i.length,x=Math.max(0,Math.min(c,A));let S=h,T=x;const B=m>1||b,R=B?Array(A):[];let O;for(;(O=i.indexOf(n,T))>-1;){let J=gf(n,{currentLocation:O,expectedLocation:x,distance:u,ignoreLocation:v});if(S=Math.min(J,S),T=O+_,B){let oe=0;for(;oe<_;)R[O+oe]=1,oe+=1}}T=-1;let L=[],E=1,U=_+A;const G=1<<_-1;for(let J=0;J<_;J+=1){let oe=0,le=U;for(;oe<le;)gf(n,{errors:J,currentLocation:x+le,expectedLocation:x,distance:u,ignoreLocation:v})<=S?oe=le:U=le,le=Math.floor((U-oe)/2+oe);U=le;let pe=Math.max(1,x-le+1),K=f?A:Math.min(x+le,A)+_,Z=Array(K+2);Z[K+1]=(1<<J)-1;for(let V=K;V>=pe;V-=1){let H=V-1,X=r[i.charAt(H)];if(B&&(R[H]=+!!X),Z[V]=(Z[V+1]<<1|1)&X,J&&(Z[V]|=(L[V+1]|L[V])<<1|1|L[V+1]),Z[V]&G&&(E=gf(n,{errors:J,currentLocation:H,expectedLocation:x,distance:u,ignoreLocation:v}),E<=S)){if(S=E,T=H,T<=x)break;pe=Math.max(1,2*x-T)}}if(gf(n,{errors:J+1,currentLocation:x,expectedLocation:x,distance:u,ignoreLocation:v})>S)break;L=Z}const te={isMatch:T>=0,score:Math.max(.001,E)};if(B){const J=mj(R,m);J.length?b&&(te.indices=J):te.isMatch=!1}return te}function bj(i){let n={};for(let r=0,c=i.length;r<c;r+=1){const u=i.charAt(r);n[u]=(n[u]||0)|1<<c-r-1}return n}class tD{constructor(n,{location:r=Be.location,threshold:c=Be.threshold,distance:u=Be.distance,includeMatches:h=Be.includeMatches,findAllMatches:f=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,isCaseSensitive:b=Be.isCaseSensitive,ignoreLocation:v=Be.ignoreLocation}={}){if(this.options={location:r,threshold:c,distance:u,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:b,ignoreLocation:v},this.pattern=b?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const _=(x,S)=>{this.chunks.push({pattern:x,alphabet:bj(x),startIndex:S})},A=this.pattern.length;if(A>ta){let x=0;const S=A%ta,T=A-S;for(;x<T;)_(this.pattern.substr(x,ta),x),x+=ta;if(S){const B=A-ta;_(this.pattern.substr(B),B)}}else _(this.pattern,0)}searchIn(n){const{isCaseSensitive:r,includeMatches:c}=this.options;if(r||(n=n.toLowerCase()),this.pattern===n){let T={isMatch:!0,score:0};return c&&(T.indices=[[0,n.length-1]]),T}const{location:u,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:b,ignoreLocation:v}=this.options;let _=[],A=0,x=!1;this.chunks.forEach(({pattern:T,alphabet:B,startIndex:R})=>{const{isMatch:O,score:L,indices:E}=kj(n,T,B,{location:u+R,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:b,includeMatches:c,ignoreLocation:v});O&&(x=!0),A+=L,O&&E&&(_=[..._,...E])});let S={isMatch:x,score:x?A/this.chunks.length:1};return x&&c&&(S.indices=_),S}}class Ss{constructor(n){this.pattern=n}static isMultiMatch(n){return A2(n,this.multiRegex)}static isSingleMatch(n){return A2(n,this.singleRegex)}search(){}}function A2(i,n){const r=i.match(n);return r?r[1]:null}class wj extends Ss{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const r=n===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class vj extends Ss{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const c=n.indexOf(this.pattern)===-1;return{isMatch:c,score:c?0:1,indices:[0,n.length-1]}}}class _j extends Ss{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const r=n.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class yj extends Ss{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const r=!n.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,n.length-1]}}}class Aj extends Ss{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const r=n.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class Cj extends Ss{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const r=!n.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,n.length-1]}}}class nD extends Ss{constructor(n,{location:r=Be.location,threshold:c=Be.threshold,distance:u=Be.distance,includeMatches:h=Be.includeMatches,findAllMatches:f=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,isCaseSensitive:b=Be.isCaseSensitive,ignoreLocation:v=Be.ignoreLocation}={}){super(n),this._bitapSearch=new tD(n,{location:r,threshold:c,distance:u,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:b,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class iD extends Ss{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let r=0,c;const u=[],h=this.pattern.length;for(;(c=n.indexOf(this.pattern,r))>-1;)r=c+h,u.push([c,r-1]);const f=!!u.length;return{isMatch:f,score:f?0:1,indices:u}}}const U0=[wj,iD,_j,yj,Cj,Aj,vj,nD],C2=U0.length,xj=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ej="|";function Sj(i,n={}){return i.split(Ej).map(r=>{let c=r.trim().split(xj).filter(h=>h&&!!h.trim()),u=[];for(let h=0,f=c.length;h<f;h+=1){const m=c[h];let b=!1,v=-1;for(;!b&&++v<C2;){const _=U0[v];let A=_.isMultiMatch(m);A&&(u.push(new _(A,n)),b=!0)}if(!b)for(v=-1;++v<C2;){const _=U0[v];let A=_.isSingleMatch(m);if(A){u.push(new _(A,n));break}}}return u})}const Dj=new Set([nD.type,iD.type]);class Tj{constructor(n,{isCaseSensitive:r=Be.isCaseSensitive,includeMatches:c=Be.includeMatches,minMatchCharLength:u=Be.minMatchCharLength,ignoreLocation:h=Be.ignoreLocation,findAllMatches:f=Be.findAllMatches,location:m=Be.location,threshold:b=Be.threshold,distance:v=Be.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:c,minMatchCharLength:u,findAllMatches:f,ignoreLocation:h,location:m,threshold:b,distance:v},this.pattern=r?n:n.toLowerCase(),this.query=Sj(this.pattern,this.options)}static condition(n,r){return r.useExtendedSearch}searchIn(n){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:c,isCaseSensitive:u}=this.options;n=u?n:n.toLowerCase();let h=0,f=[],m=0;for(let b=0,v=r.length;b<v;b+=1){const _=r[b];f.length=0,h=0;for(let A=0,x=_.length;A<x;A+=1){const S=_[A],{isMatch:T,indices:B,score:R}=S.search(n);if(T){if(h+=1,m+=R,c){const O=S.constructor.type;Dj.has(O)?f=[...f,...B]:f.push(B)}}else{m=0,h=0,f.length=0;break}}if(h){let A={isMatch:!0,score:m/h};return c&&(A.indices=f),A}}return{isMatch:!1,score:1}}}const H0=[];function Ij(...i){H0.push(...i)}function $0(i,n){for(let r=0,c=H0.length;r<c;r+=1){let u=H0[r];if(u.condition(i,n))return new u(i,n)}return new tD(i,n)}const kg={AND:"$and",OR:"$or"},W0={PATH:"$path",PATTERN:"$val"},q0=i=>!!(i[kg.AND]||i[kg.OR]),Mj=i=>!!i[W0.PATH],Nj=i=>!xr(i)&&Q5(i)&&!q0(i),x2=i=>({[kg.AND]:Object.keys(i).map(n=>({[n]:i[n]}))});function oD(i,n,{auto:r=!0}={}){const c=u=>{let h=Object.keys(u);const f=Mj(u);if(!f&&h.length>1&&!q0(u))return c(x2(u));if(Nj(u)){const b=f?u[W0.PATH]:h[0],v=f?u[W0.PATTERN]:u[b];if(!Wo(v))throw new Error(ij(b));const _={keyId:V0(b),pattern:v};return r&&(_.searcher=$0(v,n)),_}let m={children:[],operator:h[0]};return h.forEach(b=>{const v=u[b];xr(v)&&v.forEach(_=>{m.children.push(c(_))})}),m};return q0(i)||(i=x2(i)),c(i)}function Oj(i,{ignoreFieldNorm:n=Be.ignoreFieldNorm}){i.forEach(r=>{let c=1;r.matches.forEach(({key:u,norm:h,score:f})=>{const m=u?u.weight:null;c*=Math.pow(f===0&&m?Number.EPSILON:f,(m||1)*(n?1:h))}),r.score=c})}function Bj(i,n){const r=i.matches;n.matches=[],Di(r)&&r.forEach(c=>{if(!Di(c.indices)||!c.indices.length)return;const{indices:u,value:h}=c;let f={indices:u,value:h};c.key&&(f.key=c.key.src),c.idx>-1&&(f.refIndex=c.idx),n.matches.push(f)})}function Pj(i,n){n.score=i.score}function Lj(i,n,{includeMatches:r=Be.includeMatches,includeScore:c=Be.includeScore}={}){const u=[];return r&&u.push(Bj),c&&u.push(Pj),i.map(h=>{const{idx:f}=h,m={item:n[f],refIndex:f};return u.length&&u.forEach(b=>{b(h,m)}),m})}class Qc{constructor(n,r={},c){this.options={...Be,...r},this.options.useExtendedSearch,this._keyStore=new aj(this.options.keys),this.setCollection(n,c)}setCollection(n,r){if(this._docs=n,r&&!(r instanceof uw))throw new Error(nj);this._myIndex=r||eD(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Di(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const r=[];for(let c=0,u=this._docs.length;c<u;c+=1){const h=this._docs[c];n(h,c)&&(this.removeAt(c),c-=1,u-=1,r.push(h))}return r}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:r=-1}={}){const{includeMatches:c,includeScore:u,shouldSort:h,sortFn:f,ignoreFieldNorm:m}=this.options;let b=Wo(n)?Wo(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return Oj(b,{ignoreFieldNorm:m}),h&&b.sort(f),Z5(r)&&r>-1&&(b=b.slice(0,r)),Lj(b,this._docs,{includeMatches:c,includeScore:u})}_searchStringList(n){const r=$0(n,this.options),{records:c}=this._myIndex,u=[];return c.forEach(({v:h,i:f,n:m})=>{if(!Di(h))return;const{isMatch:b,score:v,indices:_}=r.searchIn(h);b&&u.push({item:h,idx:f,matches:[{score:v,value:h,norm:m,indices:_}]})}),u}_searchLogical(n){const r=oD(n,this.options),c=(m,b,v)=>{if(!m.children){const{keyId:A,searcher:x}=m,S=this._findMatches({key:this._keyStore.get(A),value:this._myIndex.getValueForItemAtKeyId(b,A),searcher:x});return S&&S.length?[{idx:v,item:b,matches:S}]:[]}const _=[];for(let A=0,x=m.children.length;A<x;A+=1){const S=m.children[A],T=c(S,b,v);if(T.length)_.push(...T);else if(m.operator===kg.AND)return[]}return _},u=this._myIndex.records,h={},f=[];return u.forEach(({$:m,i:b})=>{if(Di(m)){let v=c(r,m,b);v.length&&(h[b]||(h[b]={idx:b,item:m,matches:[]},f.push(h[b])),v.forEach(({matches:_})=>{h[b].matches.push(..._)}))}}),f}_searchObjectList(n){const r=$0(n,this.options),{keys:c,records:u}=this._myIndex,h=[];return u.forEach(({$:f,i:m})=>{if(!Di(f))return;let b=[];c.forEach((v,_)=>{b.push(...this._findMatches({key:v,value:f[_],searcher:r}))}),b.length&&h.push({idx:m,item:f,matches:b})}),h}_findMatches({key:n,value:r,searcher:c}){if(!Di(r))return[];let u=[];if(xr(r))r.forEach(({v:h,i:f,n:m})=>{if(!Di(h))return;const{isMatch:b,score:v,indices:_}=c.searchIn(h);b&&u.push({score:v,key:n,value:h,idx:f,norm:m,indices:_})});else{const{v:h,n:f}=r,{isMatch:m,score:b,indices:v}=c.searchIn(h);m&&u.push({score:b,key:n,value:h,norm:f,indices:v})}return u}}Qc.version="7.0.0";Qc.createIndex=eD;Qc.parseIndex=pj;Qc.config=Be;Qc.parseQuery=oD;Ij(Tj);const zj=(i,n,r)=>{const u=new Qc(n,{keys:r}).search(i);return i?u.map(f=>f.item):n};class ya extends Error{}class jj extends ya{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class Rj extends ya{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class Fj extends ya{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class _d extends ya{}class rD extends ya{constructor(n){super(`Invalid unit ${n}`)}}class Zi extends ya{}class Zr extends ya{constructor(){super("Zone is an abstract class")}}const be="numeric",xo="short",Mi="long",bg={year:be,month:be,day:be},sD={year:be,month:xo,day:be},Vj={year:be,month:xo,day:be,weekday:xo},aD={year:be,month:Mi,day:be},cD={year:be,month:Mi,day:be,weekday:Mi},lD={hour:be,minute:be},dD={hour:be,minute:be,second:be},uD={hour:be,minute:be,second:be,timeZoneName:xo},hD={hour:be,minute:be,second:be,timeZoneName:Mi},fD={hour:be,minute:be,hourCycle:"h23"},gD={hour:be,minute:be,second:be,hourCycle:"h23"},pD={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:xo},mD={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Mi},kD={year:be,month:be,day:be,hour:be,minute:be},bD={year:be,month:be,day:be,hour:be,minute:be,second:be},wD={year:be,month:xo,day:be,hour:be,minute:be},vD={year:be,month:xo,day:be,hour:be,minute:be,second:be},Uj={year:be,month:xo,day:be,weekday:xo,hour:be,minute:be},_D={year:be,month:Mi,day:be,hour:be,minute:be,timeZoneName:xo},yD={year:be,month:Mi,day:be,hour:be,minute:be,second:be,timeZoneName:xo},AD={year:be,month:Mi,day:be,weekday:Mi,hour:be,minute:be,timeZoneName:Mi},CD={year:be,month:Mi,day:be,weekday:Mi,hour:be,minute:be,second:be,timeZoneName:Mi};class hu{get type(){throw new Zr}get name(){throw new Zr}get ianaName(){return this.name}get isUniversal(){throw new Zr}offsetName(n,r){throw new Zr}formatOffset(n,r){throw new Zr}offset(n){throw new Zr}equals(n){throw new Zr}get isValid(){throw new Zr}}let Ik=null;class Wg extends hu{static get instance(){return Ik===null&&(Ik=new Wg),Ik}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:c}){return ED(n,r,c)}formatOffset(n,r){return Pd(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}let Rf={};function Hj(i){return Rf[i]||(Rf[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Rf[i]}const $j={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Wj(i,n){const r=i.format(n).replace(/\u200E/g,""),c=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,u,h,f,m,b,v,_]=c;return[f,u,h,m,b,v,_]}function qj(i,n){const r=i.formatToParts(n),c=[];for(let u=0;u<r.length;u++){const{type:h,value:f}=r[u],m=$j[h];h==="era"?c[m]=f:$e(m)||(c[m]=parseInt(f,10))}return c}let pf={};class Er extends hu{static create(n){return pf[n]||(pf[n]=new Er(n)),pf[n]}static resetCache(){pf={},Rf={}}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Er.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:c}){return ED(n,r,c,this.name)}formatOffset(n,r){return Pd(this.offset(n),r)}offset(n){const r=new Date(n);if(isNaN(r))return NaN;const c=Hj(this.name);let[u,h,f,m,b,v,_]=c.formatToParts?qj(c,r):Wj(c,r);m==="BC"&&(u=-Math.abs(u)+1);const x=Gg({year:u,month:h,day:f,hour:b===24?0:b,minute:v,second:_,millisecond:0});let S=+r;const T=S%1e3;return S-=T>=0?T:1e3+T,(x-S)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let E2={};function Gj(i,n={}){const r=JSON.stringify([i,n]);let c=E2[r];return c||(c=new Intl.ListFormat(i,n),E2[r]=c),c}let G0={};function Y0(i,n={}){const r=JSON.stringify([i,n]);let c=G0[r];return c||(c=new Intl.DateTimeFormat(i,n),G0[r]=c),c}let K0={};function Yj(i,n={}){const r=JSON.stringify([i,n]);let c=K0[r];return c||(c=new Intl.NumberFormat(i,n),K0[r]=c),c}let Z0={};function Kj(i,n={}){const{base:r,...c}=n,u=JSON.stringify([i,c]);let h=Z0[u];return h||(h=new Intl.RelativeTimeFormat(i,n),Z0[u]=h),h}let yd=null;function Zj(){return yd||(yd=new Intl.DateTimeFormat().resolvedOptions().locale,yd)}function Qj(i){const n=i.indexOf("-x-");n!==-1&&(i=i.substring(0,n));const r=i.indexOf("-u-");if(r===-1)return[i];{let c,u;try{c=Y0(i).resolvedOptions(),u=i}catch{const b=i.substring(0,r);c=Y0(b).resolvedOptions(),u=b}const{numberingSystem:h,calendar:f}=c;return[u,h,f]}}function Jj(i,n,r){return(r||n)&&(i.includes("-u-")||(i+="-u"),r&&(i+=`-ca-${r}`),n&&(i+=`-nu-${n}`)),i}function Xj(i){const n=[];for(let r=1;r<=12;r++){const c=Le.utc(2009,r,1);n.push(i(c))}return n}function eR(i){const n=[];for(let r=1;r<=7;r++){const c=Le.utc(2016,11,13+r);n.push(i(c))}return n}function mf(i,n,r,c){const u=i.listingMode();return u==="error"?null:u==="en"?r(n):c(n)}function tR(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}class nR{constructor(n,r,c){this.padTo=c.padTo||0,this.floor=c.floor||!1;const{padTo:u,floor:h,...f}=c;if(!r||Object.keys(f).length>0){const m={useGrouping:!1,...c};c.padTo>0&&(m.minimumIntegerDigits=c.padTo),this.inf=Yj(n,m)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):fw(n,3);return Xt(r,this.padTo)}}}class iR{constructor(n,r,c){this.opts=c,this.originalZone=void 0;let u;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&Er.create(m).valid?(u=m,this.dt=n):(u="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,u=n.zone.name):(u="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const h={...this.opts};h.timeZone=h.timeZone||u,this.dtf=Y0(r,h)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const c=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:c}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class oR{constructor(n,r,c){this.opts={style:"long",...c},!r&&xD()&&(this.rtf=Kj(n,c))}format(n,r){return this.rtf?this.rtf.format(n,r):_R(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}class yt{static fromOpts(n){return yt.create(n.locale,n.numberingSystem,n.outputCalendar,n.defaultToEN)}static create(n,r,c,u=!1){const h=n||Jt.defaultLocale,f=h||(u?"en-US":Zj()),m=r||Jt.defaultNumberingSystem,b=c||Jt.defaultOutputCalendar;return new yt(f,m,b,h)}static resetCache(){yd=null,G0={},K0={},Z0={}}static fromObject({locale:n,numberingSystem:r,outputCalendar:c}={}){return yt.create(n,r,c)}constructor(n,r,c,u){const[h,f,m]=Qj(n);this.locale=h,this.numberingSystem=r||f||null,this.outputCalendar=c||m||null,this.intl=Jj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=tR(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:yt.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return mf(this,n,TD,()=>{const c=r?{month:n,day:"numeric"}:{month:n},u=r?"format":"standalone";return this.monthsCache[u][n]||(this.monthsCache[u][n]=Xj(h=>this.extract(h,c,"month"))),this.monthsCache[u][n]})}weekdays(n,r=!1){return mf(this,n,ND,()=>{const c=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},u=r?"format":"standalone";return this.weekdaysCache[u][n]||(this.weekdaysCache[u][n]=eR(h=>this.extract(h,c,"weekday"))),this.weekdaysCache[u][n]})}meridiems(){return mf(this,void 0,()=>OD,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Le.utc(2016,11,13,9),Le.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return mf(this,n,BD,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Le.utc(-40,1,1),Le.utc(2017,1,1)].map(c=>this.extract(c,r,"era"))),this.eraCache[n]})}extract(n,r,c){const u=this.dtFormatter(n,r),h=u.formatToParts(),f=h.find(m=>m.type.toLowerCase()===c);return f?f.value:null}numberFormatter(n={}){return new nR(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new iR(n,this.intl,r)}relFormatter(n={}){return new oR(this.intl,this.isEnglish(),n)}listFormatter(n={}){return Gj(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}}let Mk=null;class Zn extends hu{static get utcInstance(){return Mk===null&&(Mk=new Zn(0)),Mk}static instance(n){return n===0?Zn.utcInstance:new Zn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Zn(Yg(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Pd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Pd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return Pd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class rR extends hu{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function rs(i,n){if($e(i)||i===null)return n;if(i instanceof hu)return i;if(sR(i)){const r=i.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Wg.instance:r==="utc"||r==="gmt"?Zn.utcInstance:Zn.parseSpecifier(r)||Er.create(i)}else return ua(i)?Zn.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new rR(i)}let S2=()=>Date.now(),D2="system",T2=null,I2=null,M2=null,N2=60,O2;class Jt{static get now(){return S2}static set now(n){S2=n}static set defaultZone(n){D2=n}static get defaultZone(){return rs(D2,Wg.instance)}static get defaultLocale(){return T2}static set defaultLocale(n){T2=n}static get defaultNumberingSystem(){return I2}static set defaultNumberingSystem(n){I2=n}static get defaultOutputCalendar(){return M2}static set defaultOutputCalendar(n){M2=n}static get twoDigitCutoffYear(){return N2}static set twoDigitCutoffYear(n){N2=n%100}static get throwOnInvalid(){return O2}static set throwOnInvalid(n){O2=n}static resetCaches(){yt.resetCache(),Er.resetCache()}}function $e(i){return typeof i>"u"}function ua(i){return typeof i=="number"}function qg(i){return typeof i=="number"&&i%1===0}function sR(i){return typeof i=="string"}function aR(i){return Object.prototype.toString.call(i)==="[object Date]"}function xD(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function cR(i){return Array.isArray(i)?i:[i]}function B2(i,n,r){if(i.length!==0)return i.reduce((c,u)=>{const h=[n(u),u];return c&&r(c[0],h[0])===c[0]?c:h},null)[1]}function lR(i,n){return n.reduce((r,c)=>(r[c]=i[c],r),{})}function Vc(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function wr(i,n,r){return qg(i)&&i>=n&&i<=r}function dR(i,n){return i-n*Math.floor(i/n)}function Xt(i,n=2){const r=i<0;let c;return r?c="-"+(""+-i).padStart(n,"0"):c=(""+i).padStart(n,"0"),c}function ts(i){if(!($e(i)||i===null||i===""))return parseInt(i,10)}function Ks(i){if(!($e(i)||i===null||i===""))return parseFloat(i)}function hw(i){if(!($e(i)||i===null||i==="")){const n=parseFloat("0."+i)*1e3;return Math.floor(n)}}function fw(i,n,r=!1){const c=10**n;return(r?Math.trunc:Math.round)(i*c)/c}function fu(i){return i%4===0&&(i%100!==0||i%400===0)}function Bd(i){return fu(i)?366:365}function wg(i,n){const r=dR(n-1,12)+1,c=i+(n-r)/12;return r===2?fu(c)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Gg(i){let n=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(n=new Date(n),n.setUTCFullYear(i.year,i.month-1,i.day)),+n}function vg(i){const n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7,r=i-1,c=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return n===4||c===3?53:52}function Q0(i){return i>99?i:i>Jt.twoDigitCutoffYear?1900+i:2e3+i}function ED(i,n,r,c=null){const u=new Date(i),h={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};c&&(h.timeZone=c);const f={timeZoneName:n,...h},m=new Intl.DateTimeFormat(r,f).formatToParts(u).find(b=>b.type.toLowerCase()==="timezonename");return m?m.value:null}function Yg(i,n){let r=parseInt(i,10);Number.isNaN(r)&&(r=0);const c=parseInt(n,10)||0,u=r<0||Object.is(r,-0)?-c:c;return r*60+u}function SD(i){const n=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(n))throw new Zi(`Invalid unit value ${i}`);return n}function _g(i,n){const r={};for(const c in i)if(Vc(i,c)){const u=i[c];if(u==null)continue;r[n(c)]=SD(u)}return r}function Pd(i,n){const r=Math.trunc(Math.abs(i/60)),c=Math.trunc(Math.abs(i%60)),u=i>=0?"+":"-";switch(n){case"short":return`${u}${Xt(r,2)}:${Xt(c,2)}`;case"narrow":return`${u}${r}${c>0?`:${c}`:""}`;case"techie":return`${u}${Xt(r,2)}${Xt(c,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Kg(i){return lR(i,["hour","minute","second","millisecond"])}const uR=["January","February","March","April","May","June","July","August","September","October","November","December"],DD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hR=["J","F","M","A","M","J","J","A","S","O","N","D"];function TD(i){switch(i){case"narrow":return[...hR];case"short":return[...DD];case"long":return[...uR];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ID=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],MD=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fR=["M","T","W","T","F","S","S"];function ND(i){switch(i){case"narrow":return[...fR];case"short":return[...MD];case"long":return[...ID];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const OD=["AM","PM"],gR=["Before Christ","Anno Domini"],pR=["BC","AD"],mR=["B","A"];function BD(i){switch(i){case"narrow":return[...mR];case"short":return[...pR];case"long":return[...gR];default:return null}}function kR(i){return OD[i.hour<12?0:1]}function bR(i,n){return ND(n)[i.weekday-1]}function wR(i,n){return TD(n)[i.month-1]}function vR(i,n){return BD(n)[i.year<0?0:1]}function _R(i,n,r="always",c=!1){const u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},h=["hours","minutes","seconds"].indexOf(i)===-1;if(r==="auto"&&h){const A=i==="days";switch(n){case 1:return A?"tomorrow":`next ${u[i][0]}`;case-1:return A?"yesterday":`last ${u[i][0]}`;case 0:return A?"today":`this ${u[i][0]}`}}const f=Object.is(n,-0)||n<0,m=Math.abs(n),b=m===1,v=u[i],_=c?b?v[1]:v[2]||v[1]:b?u[i][0]:i;return f?`${m} ${_} ago`:`in ${m} ${_}`}function P2(i,n){let r="";for(const c of i)c.literal?r+=c.val:r+=n(c.val);return r}const yR={D:bg,DD:sD,DDD:aD,DDDD:cD,t:lD,tt:dD,ttt:uD,tttt:hD,T:fD,TT:gD,TTT:pD,TTTT:mD,f:kD,ff:wD,fff:_D,ffff:AD,F:bD,FF:vD,FFF:yD,FFFF:CD};class Fn{static create(n,r={}){return new Fn(n,r)}static parseFormat(n){let r=null,c="",u=!1;const h=[];for(let f=0;f<n.length;f++){const m=n.charAt(f);m==="'"?(c.length>0&&h.push({literal:u||/^\s+$/.test(c),val:c}),r=null,c="",u=!u):u||m===r?c+=m:(c.length>0&&h.push({literal:/^\s+$/.test(c),val:c}),c=m,r=m)}return c.length>0&&h.push({literal:u||/^\s+$/.test(c),val:c}),h}static macroTokenToFormatOpts(n){return yR[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0){if(this.opts.forceSimple)return Xt(n,r);const c={...this.opts};return r>0&&(c.padTo=r),this.loc.numberFormatter(c).format(n)}formatDateTimeFromString(n,r){const c=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",h=(S,T)=>this.loc.extract(n,S,T),f=S=>n.isOffsetFixed&&n.offset===0&&S.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,S.format):"",m=()=>c?kR(n):h({hour:"numeric",hourCycle:"h12"},"dayperiod"),b=(S,T)=>c?wR(n,S):h(T?{month:S}:{month:S,day:"numeric"},"month"),v=(S,T)=>c?bR(n,S):h(T?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),_=S=>{const T=Fn.macroTokenToFormatOpts(S);return T?this.formatWithSystemDefault(n,T):S},A=S=>c?vR(n,S):h({era:S},"era"),x=S=>{switch(S){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return m();case"d":return u?h({day:"numeric"},"day"):this.num(n.day);case"dd":return u?h({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return v("short",!0);case"cccc":return v("long",!0);case"ccccc":return v("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return v("short",!1);case"EEEE":return v("long",!1);case"EEEEE":return v("narrow",!1);case"L":return u?h({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return u?h({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return b("short",!0);case"LLLL":return b("long",!0);case"LLLLL":return b("narrow",!0);case"M":return u?h({month:"numeric"},"month"):this.num(n.month);case"MM":return u?h({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return b("short",!1);case"MMMM":return b("long",!1);case"MMMMM":return b("narrow",!1);case"y":return u?h({year:"numeric"},"year"):this.num(n.year);case"yy":return u?h({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return u?h({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return u?h({year:"numeric"},"year"):this.num(n.year,6);case"G":return A("short");case"GG":return A("long");case"GGGGG":return A("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return _(S)}};return P2(Fn.parseFormat(r),x)}formatDurationFromString(n,r){const c=b=>{switch(b[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=b=>v=>{const _=c(v);return _?this.num(b.get(_),v.length):v},h=Fn.parseFormat(r),f=h.reduce((b,{literal:v,val:_})=>v?b:b.concat(_),[]),m=n.shiftTo(...f.map(c).filter(b=>b));return P2(h,u(m))}}class _o{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const PD=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Jc(...i){const n=i.reduce((r,c)=>r+c.source,"");return RegExp(`^${n}$`)}function Xc(...i){return n=>i.reduce(([r,c,u],h)=>{const[f,m,b]=h(n,u);return[{...r,...f},m||c,b]},[{},null,1]).slice(0,2)}function el(i,...n){if(i==null)return[null,null];for(const[r,c]of n){const u=r.exec(i);if(u)return c(u)}return[null,null]}function LD(...i){return(n,r)=>{const c={};let u;for(u=0;u<i.length;u++)c[i[u]]=ts(n[r+u]);return[c,null,r+u]}}const zD=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,AR=`(?:${zD.source}?(?:\\[(${PD.source})\\])?)?`,gw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,jD=RegExp(`${gw.source}${AR}`),pw=RegExp(`(?:T${jD.source})?`),CR=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,xR=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ER=/(\d{4})-?(\d{3})/,SR=LD("weekYear","weekNumber","weekDay"),DR=LD("year","ordinal"),TR=/(\d{4})-(\d\d)-(\d\d)/,RD=RegExp(`${gw.source} ?(?:${zD.source}|(${PD.source}))?`),IR=RegExp(`(?: ${RD.source})?`);function Nc(i,n,r){const c=i[n];return $e(c)?r:ts(c)}function MR(i,n){return[{year:Nc(i,n),month:Nc(i,n+1,1),day:Nc(i,n+2,1)},null,n+3]}function tl(i,n){return[{hours:Nc(i,n,0),minutes:Nc(i,n+1,0),seconds:Nc(i,n+2,0),milliseconds:hw(i[n+3])},null,n+4]}function gu(i,n){const r=!i[n]&&!i[n+1],c=Yg(i[n+1],i[n+2]),u=r?null:Zn.instance(c);return[{},u,n+3]}function pu(i,n){const r=i[n]?Er.create(i[n]):null;return[{},r,n+1]}const NR=RegExp(`^T?${gw.source}$`),OR=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function BR(i){const[n,r,c,u,h,f,m,b,v]=i,_=n[0]==="-",A=b&&b[0]==="-",x=(S,T=!1)=>S!==void 0&&(T||S&&_)?-S:S;return[{years:x(Ks(r)),months:x(Ks(c)),weeks:x(Ks(u)),days:x(Ks(h)),hours:x(Ks(f)),minutes:x(Ks(m)),seconds:x(Ks(b),b==="-0"),milliseconds:x(hw(v),A)}]}const PR={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mw(i,n,r,c,u,h,f){const m={year:n.length===2?Q0(ts(n)):ts(n),month:DD.indexOf(r)+1,day:ts(c),hour:ts(u),minute:ts(h)};return f&&(m.second=ts(f)),i&&(m.weekday=i.length>3?ID.indexOf(i)+1:MD.indexOf(i)+1),m}const LR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zR(i){const[,n,r,c,u,h,f,m,b,v,_,A]=i,x=mw(n,u,c,r,h,f,m);let S;return b?S=PR[b]:v?S=0:S=Yg(_,A),[x,new Zn(S)]}function jR(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const RR=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,FR=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,VR=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function L2(i){const[,n,r,c,u,h,f,m]=i;return[mw(n,u,c,r,h,f,m),Zn.utcInstance]}function UR(i){const[,n,r,c,u,h,f,m]=i;return[mw(n,m,r,c,u,h,f),Zn.utcInstance]}const HR=Jc(CR,pw),$R=Jc(xR,pw),WR=Jc(ER,pw),qR=Jc(jD),FD=Xc(MR,tl,gu,pu),GR=Xc(SR,tl,gu,pu),YR=Xc(DR,tl,gu,pu),KR=Xc(tl,gu,pu);function ZR(i){return el(i,[HR,FD],[$R,GR],[WR,YR],[qR,KR])}function QR(i){return el(jR(i),[LR,zR])}function JR(i){return el(i,[RR,L2],[FR,L2],[VR,UR])}function XR(i){return el(i,[OR,BR])}const e7=Xc(tl);function t7(i){return el(i,[NR,e7])}const n7=Jc(TR,IR),i7=Jc(RD),o7=Xc(tl,gu,pu);function r7(i){return el(i,[n7,FD],[i7,o7])}const z2="Invalid Duration",VD={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},s7={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...VD},$i=146097/400,sc=146097/4800,a7={years:{quarters:4,months:12,weeks:$i/7,days:$i,hours:$i*24,minutes:$i*24*60,seconds:$i*24*60*60,milliseconds:$i*24*60*60*1e3},quarters:{months:3,weeks:$i/28,days:$i/4,hours:$i*24/4,minutes:$i*24*60/4,seconds:$i*24*60*60/4,milliseconds:$i*24*60*60*1e3/4},months:{weeks:sc/7,days:sc,hours:sc*24,minutes:sc*24*60,seconds:sc*24*60*60,milliseconds:sc*24*60*60*1e3},...VD},ca=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],c7=ca.slice(0).reverse();function Qr(i,n,r=!1){const c={values:r?n.values:{...i.values,...n.values||{}},loc:i.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||i.conversionAccuracy,matrix:n.matrix||i.matrix};return new Ke(c)}function UD(i,n){let r=n.milliseconds??0;for(const c of c7.slice(1))n[c]&&(r+=n[c]*i[c].milliseconds);return r}function j2(i,n){const r=UD(i,n)<0?-1:1;ca.reduceRight((c,u)=>{if($e(n[u]))return c;if(c){const h=n[c]*r,f=i[u][c],m=Math.floor(h/f);n[u]+=m*r,n[c]-=m*f*r}return u},null),ca.reduce((c,u)=>{if($e(n[u]))return c;if(c){const h=n[c]%1;n[c]-=h,n[u]+=h*i[c][u]}return u},null)}function l7(i){const n={};for(const[r,c]of Object.entries(i))c!==0&&(n[r]=c);return n}class Ke{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let c=r?a7:s7;n.matrix&&(c=n.matrix),this.values=n.values,this.loc=n.loc||yt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=c,this.isLuxonDuration=!0}static fromMillis(n,r){return Ke.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new Zi(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new Ke({values:_g(n,Ke.normalizeUnit),loc:yt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(ua(n))return Ke.fromMillis(n);if(Ke.isDuration(n))return n;if(typeof n=="object")return Ke.fromObject(n);throw new Zi(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[c]=XR(n);return c?Ke.fromObject(c,r):Ke.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[c]=t7(n);return c?Ke.fromObject(c,r):Ke.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new Zi("need to specify a reason the Duration is invalid");const c=n instanceof _o?n:new _o(n,r);if(Jt.throwOnInvalid)throw new Fj(c);return new Ke({invalid:c})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new rD(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const c={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Fn.create(this.loc,c).formatDurationFromString(this,n):z2}toHuman(n={}){if(!this.isValid)return z2;const r=ca.map(c=>{const u=this.values[c];return $e(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:c.slice(0,-1)}).format(u)}).filter(c=>c);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=fw(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Le.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?UD(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=Ke.fromDurationLike(n),c={};for(const u of ca)(Vc(r.values,u)||Vc(this.values,u))&&(c[u]=r.get(u)+this.get(u));return Qr(this,{values:c},!0)}minus(n){if(!this.isValid)return this;const r=Ke.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const c of Object.keys(this.values))r[c]=SD(n(this.values[c],c));return Qr(this,{values:r},!0)}get(n){return this[Ke.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,..._g(n,Ke.normalizeUnit)};return Qr(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:c,matrix:u}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:u,conversionAccuracy:c};return Qr(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return j2(this.matrix,n),Qr(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=l7(this.normalize().shiftToAll().toObject());return Qr(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>Ke.normalizeUnit(f));const r={},c={},u=this.toObject();let h;for(const f of ca)if(n.indexOf(f)>=0){h=f;let m=0;for(const v in c)m+=this.matrix[v][f]*c[v],c[v]=0;ua(u[f])&&(m+=u[f]);const b=Math.trunc(m);r[f]=b,c[f]=(m*1e3-b*1e3)/1e3}else ua(u[f])&&(c[f]=u[f]);for(const f in c)c[f]!==0&&(r[h]+=f===h?c[f]:c[f]/this.matrix[h][f]);return j2(this.matrix,r),Qr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return Qr(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(c,u){return c===void 0||c===0?u===void 0||u===0:c===u}for(const c of ca)if(!r(this.values[c],n.values[c]))return!1;return!0}}const ac="Invalid Interval";function d7(i,n){return!i||!i.isValid?Lt.invalid("missing or invalid start"):!n||!n.isValid?Lt.invalid("missing or invalid end"):n<i?Lt.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${n.toISO()}`):null}class Lt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new Zi("need to specify a reason the Interval is invalid");const c=n instanceof _o?n:new _o(n,r);if(Jt.throwOnInvalid)throw new Rj(c);return new Lt({invalid:c})}static fromDateTimes(n,r){const c=pd(n),u=pd(r),h=d7(c,u);return h??new Lt({start:c,end:u})}static after(n,r){const c=Ke.fromDurationLike(r),u=pd(n);return Lt.fromDateTimes(u,u.plus(c))}static before(n,r){const c=Ke.fromDurationLike(r),u=pd(n);return Lt.fromDateTimes(u.minus(c),u)}static fromISO(n,r){const[c,u]=(n||"").split("/",2);if(c&&u){let h,f;try{h=Le.fromISO(c,r),f=h.isValid}catch{f=!1}let m,b;try{m=Le.fromISO(u,r),b=m.isValid}catch{b=!1}if(f&&b)return Lt.fromDateTimes(h,m);if(f){const v=Ke.fromISO(u,r);if(v.isValid)return Lt.after(h,v)}else if(b){const v=Ke.fromISO(c,r);if(v.isValid)return Lt.before(m,v)}}return Lt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(n),c=this.end.startOf(n);return Math.floor(c.diff(r,n).get(n))+(c.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Lt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(pd).filter(f=>this.contains(f)).sort(),c=[];let{s:u}=this,h=0;for(;u<this.e;){const f=r[h]||this.e,m=+f>+this.e?this.e:f;c.push(Lt.fromDateTimes(u,m)),u=m,h+=1}return c}splitBy(n){const r=Ke.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:c}=this,u=1,h;const f=[];for(;c<this.e;){const m=this.start.plus(r.mapUnits(b=>b*u));h=+m>+this.e?this.e:m,f.push(Lt.fromDateTimes(c,h)),c=h,u+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,c=this.e<n.e?this.e:n.e;return r>=c?null:Lt.fromDateTimes(r,c)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,c=this.e>n.e?this.e:n.e;return Lt.fromDateTimes(r,c)}static merge(n){const[r,c]=n.sort((u,h)=>u.s-h.s).reduce(([u,h],f)=>h?h.overlaps(f)||h.abutsStart(f)?[u,h.union(f)]:[u.concat([h]),f]:[u,f],[[],null]);return c&&r.push(c),r}static xor(n){let r=null,c=0;const u=[],h=n.map(b=>[{time:b.s,type:"s"},{time:b.e,type:"e"}]),f=Array.prototype.concat(...h),m=f.sort((b,v)=>b.time-v.time);for(const b of m)c+=b.type==="s"?1:-1,c===1?r=b.time:(r&&+r!=+b.time&&u.push(Lt.fromDateTimes(r,b.time)),r=null);return Lt.merge(u)}difference(...n){return Lt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:ac}toLocaleString(n=bg,r={}){return this.isValid?Fn.create(this.s.loc.clone(r),n).formatInterval(this):ac}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:ac}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ac}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:ac}toFormat(n,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:ac}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):Ke.invalid(this.invalidReason)}mapEndpoints(n){return Lt.fromDateTimes(n(this.s),n(this.e))}}class kf{static hasDST(n=Jt.defaultZone){const r=Le.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return Er.isValidZone(n)}static normalizeZone(n){return rs(n,Jt.defaultZone)}static months(n="long",{locale:r=null,numberingSystem:c=null,locObj:u=null,outputCalendar:h="gregory"}={}){return(u||yt.create(r,c,h)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:c=null,locObj:u=null,outputCalendar:h="gregory"}={}){return(u||yt.create(r,c,h)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:c=null,locObj:u=null}={}){return(u||yt.create(r,c,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:c=null,locObj:u=null}={}){return(u||yt.create(r,c,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return yt.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return yt.create(r,null,"gregory").eras(n)}static features(){return{relative:xD()}}}function R2(i,n){const r=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),c=r(n)-r(i);return Math.floor(Ke.fromMillis(c).as("days"))}function u7(i,n,r){const c=[["years",(b,v)=>v.year-b.year],["quarters",(b,v)=>v.quarter-b.quarter+(v.year-b.year)*4],["months",(b,v)=>v.month-b.month+(v.year-b.year)*12],["weeks",(b,v)=>{const _=R2(b,v);return(_-_%7)/7}],["days",R2]],u={},h=i;let f,m;for(const[b,v]of c)r.indexOf(b)>=0&&(f=b,u[b]=v(i,n),m=h.plus(u),m>n?(u[b]--,i=h.plus(u),i>n&&(m=i,u[b]--,i=h.plus(u))):i=m);return[i,u,m,f]}function h7(i,n,r,c){let[u,h,f,m]=u7(i,n,r);const b=n-u,v=r.filter(A=>["hours","minutes","seconds","milliseconds"].indexOf(A)>=0);v.length===0&&(f<n&&(f=u.plus({[m]:1})),f!==u&&(h[m]=(h[m]||0)+b/(f-u)));const _=Ke.fromObject(h,c);return v.length>0?Ke.fromMillis(b,c).shiftTo(...v).plus(_):_}const kw={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},F2={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},f7=kw.hanidec.replace(/[\[|\]]/g,"").split("");function g7(i){let n=parseInt(i,10);if(isNaN(n)){n="";for(let r=0;r<i.length;r++){const c=i.charCodeAt(r);if(i[r].search(kw.hanidec)!==-1)n+=f7.indexOf(i[r]);else for(const u in F2){const[h,f]=F2[u];c>=h&&c<=f&&(n+=c-h)}}return parseInt(n,10)}else return n}function po({numberingSystem:i},n=""){return new RegExp(`${kw[i||"latn"]}${n}`)}const p7="missing Intl.DateTimeFormat.formatToParts support";function it(i,n=r=>r){return{regex:i,deser:([r])=>n(g7(r))}}const m7=String.fromCharCode(160),HD=`[ ${m7}]`,$D=new RegExp(HD,"g");function k7(i){return i.replace(/\./g,"\\.?").replace($D,HD)}function V2(i){return i.replace(/\./g,"").replace($D," ").toLowerCase()}function mo(i,n){return i===null?null:{regex:RegExp(i.map(k7).join("|")),deser:([r])=>i.findIndex(c=>V2(r)===V2(c))+n}}function U2(i,n){return{regex:i,deser:([,r,c])=>Yg(r,c),groups:n}}function bf(i){return{regex:i,deser:([n])=>n}}function b7(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function w7(i,n){const r=po(n),c=po(n,"{2}"),u=po(n,"{3}"),h=po(n,"{4}"),f=po(n,"{6}"),m=po(n,"{1,2}"),b=po(n,"{1,3}"),v=po(n,"{1,6}"),_=po(n,"{1,9}"),A=po(n,"{2,4}"),x=po(n,"{4,6}"),S=R=>({regex:RegExp(b7(R.val)),deser:([O])=>O,literal:!0}),B=(R=>{if(i.literal)return S(R);switch(R.val){case"G":return mo(n.eras("short"),0);case"GG":return mo(n.eras("long"),0);case"y":return it(v);case"yy":return it(A,Q0);case"yyyy":return it(h);case"yyyyy":return it(x);case"yyyyyy":return it(f);case"M":return it(m);case"MM":return it(c);case"MMM":return mo(n.months("short",!0),1);case"MMMM":return mo(n.months("long",!0),1);case"L":return it(m);case"LL":return it(c);case"LLL":return mo(n.months("short",!1),1);case"LLLL":return mo(n.months("long",!1),1);case"d":return it(m);case"dd":return it(c);case"o":return it(b);case"ooo":return it(u);case"HH":return it(c);case"H":return it(m);case"hh":return it(c);case"h":return it(m);case"mm":return it(c);case"m":return it(m);case"q":return it(m);case"qq":return it(c);case"s":return it(m);case"ss":return it(c);case"S":return it(b);case"SSS":return it(u);case"u":return bf(_);case"uu":return bf(m);case"uuu":return it(r);case"a":return mo(n.meridiems(),0);case"kkkk":return it(h);case"kk":return it(A,Q0);case"W":return it(m);case"WW":return it(c);case"E":case"c":return it(r);case"EEE":return mo(n.weekdays("short",!1),1);case"EEEE":return mo(n.weekdays("long",!1),1);case"ccc":return mo(n.weekdays("short",!0),1);case"cccc":return mo(n.weekdays("long",!0),1);case"Z":case"ZZ":return U2(new RegExp(`([+-]${m.source})(?::(${c.source}))?`),2);case"ZZZ":return U2(new RegExp(`([+-]${m.source})(${c.source})?`),2);case"z":return bf(/[a-z_+-/]{1,256}?/i);case" ":return bf(/[^\S\n\r]/);default:return S(R)}})(i)||{invalidReason:p7};return B.token=i,B}const v7={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function _7(i,n,r){const{type:c,value:u}=i;if(c==="literal"){const b=/^\s+$/.test(u);return{literal:!b,val:b?" ":u}}const h=n[c];let f=c;c==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=r.hour12?"hour12":"hour24");let m=v7[f];if(typeof m=="object"&&(m=m[h]),m)return{literal:!1,val:m}}function y7(i){return[`^${i.map(r=>r.regex).reduce((r,c)=>`${r}(${c.source})`,"")}$`,i]}function A7(i,n,r){const c=i.match(n);if(c){const u={};let h=1;for(const f in r)if(Vc(r,f)){const m=r[f],b=m.groups?m.groups+1:1;!m.literal&&m.token&&(u[m.token.val[0]]=m.deser(c.slice(h,h+b))),h+=b}return[c,u]}else return[c,{}]}function C7(i){const n=h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,c;return $e(i.z)||(r=Er.create(i.z)),$e(i.Z)||(r||(r=new Zn(i.Z)),c=i.Z),$e(i.q)||(i.M=(i.q-1)*3+1),$e(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),$e(i.u)||(i.S=hw(i.u)),[Object.keys(i).reduce((h,f)=>{const m=n(f);return m&&(h[m]=i[f]),h},{}),r,c]}let Nk=null;function x7(){return Nk||(Nk=Le.fromMillis(1555555555555)),Nk}function E7(i,n){if(i.literal)return i;const r=Fn.macroTokenToFormatOpts(i.val),c=GD(r,n);return c==null||c.includes(void 0)?i:c}function WD(i,n){return Array.prototype.concat(...i.map(r=>E7(r,n)))}function qD(i,n,r){const c=WD(Fn.parseFormat(r),i),u=c.map(f=>w7(f,i)),h=u.find(f=>f.invalidReason);if(h)return{input:n,tokens:c,invalidReason:h.invalidReason};{const[f,m]=y7(u),b=RegExp(f,"i"),[v,_]=A7(n,b,m),[A,x,S]=_?C7(_):[null,null,void 0];if(Vc(_,"a")&&Vc(_,"H"))throw new _d("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:c,regex:b,rawMatches:v,matches:_,result:A,zone:x,specificOffset:S}}}function S7(i,n,r){const{result:c,zone:u,specificOffset:h,invalidReason:f}=qD(i,n,r);return[c,u,h,f]}function GD(i,n){if(!i)return null;const c=Fn.create(n,i).dtFormatter(x7()),u=c.formatToParts(),h=c.resolvedOptions();return u.map(f=>_7(f,i,h))}const YD=[0,31,59,90,120,151,181,212,243,273,304,334],KD=[0,31,60,91,121,152,182,213,244,274,305,335];function Ji(i,n){return new _o("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${i}, which is invalid`)}function ZD(i,n,r){const c=new Date(Date.UTC(i,n-1,r));i<100&&i>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const u=c.getUTCDay();return u===0?7:u}function QD(i,n,r){return r+(fu(i)?KD:YD)[n-1]}function JD(i,n){const r=fu(i)?KD:YD,c=r.findIndex(h=>h<n),u=n-r[c];return{month:c+1,day:u}}function J0(i){const{year:n,month:r,day:c}=i,u=QD(n,r,c),h=ZD(n,r,c);let f=Math.floor((u-h+10)/7),m;return f<1?(m=n-1,f=vg(m)):f>vg(n)?(m=n+1,f=1):m=n,{weekYear:m,weekNumber:f,weekday:h,...Kg(i)}}function H2(i){const{weekYear:n,weekNumber:r,weekday:c}=i,u=ZD(n,1,4),h=Bd(n);let f=r*7+c-u-3,m;f<1?(m=n-1,f+=Bd(m)):f>h?(m=n+1,f-=Bd(n)):m=n;const{month:b,day:v}=JD(m,f);return{year:m,month:b,day:v,...Kg(i)}}function Ok(i){const{year:n,month:r,day:c}=i,u=QD(n,r,c);return{year:n,ordinal:u,...Kg(i)}}function $2(i){const{year:n,ordinal:r}=i,{month:c,day:u}=JD(n,r);return{year:n,month:c,day:u,...Kg(i)}}function D7(i){const n=qg(i.weekYear),r=wr(i.weekNumber,1,vg(i.weekYear)),c=wr(i.weekday,1,7);return n?r?c?!1:Ji("weekday",i.weekday):Ji("week",i.week):Ji("weekYear",i.weekYear)}function T7(i){const n=qg(i.year),r=wr(i.ordinal,1,Bd(i.year));return n?r?!1:Ji("ordinal",i.ordinal):Ji("year",i.year)}function XD(i){const n=qg(i.year),r=wr(i.month,1,12),c=wr(i.day,1,wg(i.year,i.month));return n?r?c?!1:Ji("day",i.day):Ji("month",i.month):Ji("year",i.year)}function eT(i){const{hour:n,minute:r,second:c,millisecond:u}=i,h=wr(n,0,23)||n===24&&r===0&&c===0&&u===0,f=wr(r,0,59),m=wr(c,0,59),b=wr(u,0,999);return h?f?m?b?!1:Ji("millisecond",u):Ji("second",c):Ji("minute",r):Ji("hour",n)}const Bk="Invalid DateTime",W2=864e13;function wf(i){return new _o("unsupported zone",`the zone "${i.name}" is not supported`)}function Pk(i){return i.weekData===null&&(i.weekData=J0(i.c)),i.weekData}function Zs(i,n){const r={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Le({...r,...n,old:r})}function tT(i,n,r){let c=i-n*60*1e3;const u=r.offset(c);if(n===u)return[c,n];c-=(u-n)*60*1e3;const h=r.offset(c);return u===h?[c,u]:[i-Math.min(u,h)*60*1e3,Math.max(u,h)]}function vf(i,n){i+=n*60*1e3;const r=new Date(i);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Ff(i,n,r){return tT(Gg(i),n,r)}function q2(i,n){const r=i.o,c=i.c.year+Math.trunc(n.years),u=i.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,h={...i.c,year:c,month:u,day:Math.min(i.c.day,wg(c,u))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=Ke.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),m=Gg(h);let[b,v]=tT(m,r,i.zone);return f!==0&&(b+=f,v=i.zone.offset(b)),{ts:b,o:v}}function gd(i,n,r,c,u,h){const{setZone:f,zone:m}=r;if(i&&Object.keys(i).length!==0||n){const b=n||m,v=Le.fromObject(i,{...r,zone:b,specificOffset:h});return f?v:v.setZone(m)}else return Le.invalid(new _o("unparsable",`the input "${u}" can't be parsed as ${c}`))}function _f(i,n,r=!0){return i.isValid?Fn.create(yt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(i,n):null}function Lk(i,n){const r=i.c.year>9999||i.c.year<0;let c="";return r&&i.c.year>=0&&(c+="+"),c+=Xt(i.c.year,r?6:4),n?(c+="-",c+=Xt(i.c.month),c+="-",c+=Xt(i.c.day)):(c+=Xt(i.c.month),c+=Xt(i.c.day)),c}function G2(i,n,r,c,u,h){let f=Xt(i.c.hour);return n?(f+=":",f+=Xt(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!r)&&(f+=":")):f+=Xt(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!r)&&(f+=Xt(i.c.second),(i.c.millisecond!==0||!c)&&(f+=".",f+=Xt(i.c.millisecond,3))),u&&(i.isOffsetFixed&&i.offset===0&&!h?f+="Z":i.o<0?(f+="-",f+=Xt(Math.trunc(-i.o/60)),f+=":",f+=Xt(Math.trunc(-i.o%60))):(f+="+",f+=Xt(Math.trunc(i.o/60)),f+=":",f+=Xt(Math.trunc(i.o%60)))),h&&(f+="["+i.zone.ianaName+"]"),f}const nT={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},I7={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},M7={ordinal:1,hour:0,minute:0,second:0,millisecond:0},iT=["year","month","day","hour","minute","second","millisecond"],N7=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],O7=["year","ordinal","hour","minute","second","millisecond"];function Y2(i){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!n)throw new rD(i);return n}function K2(i,n){const r=rs(n.zone,Jt.defaultZone),c=yt.fromObject(n),u=Jt.now();let h,f;if($e(i.year))h=u;else{for(const v of iT)$e(i[v])&&(i[v]=nT[v]);const m=XD(i)||eT(i);if(m)return Le.invalid(m);const b=r.offset(u);[h,f]=Ff(i,b,r)}return new Le({ts:h,zone:r,loc:c,o:f})}function Z2(i,n,r){const c=$e(r.round)?!0:r.round,u=(f,m)=>(f=fw(f,c||r.calendary?0:2,!0),n.loc.clone(r).relFormatter(r).format(f,m)),h=f=>r.calendary?n.hasSame(i,f)?0:n.startOf(f).diff(i.startOf(f),f).get(f):n.diff(i,f).get(f);if(r.unit)return u(h(r.unit),r.unit);for(const f of r.units){const m=h(f);if(Math.abs(m)>=1)return u(m,f)}return u(i>n?-0:0,r.units[r.units.length-1])}function Q2(i){let n={},r;return i.length>0&&typeof i[i.length-1]=="object"?(n=i[i.length-1],r=Array.from(i).slice(0,i.length-1)):r=Array.from(i),[n,r]}class Le{constructor(n){const r=n.zone||Jt.defaultZone;let c=n.invalid||(Number.isNaN(n.ts)?new _o("invalid input"):null)||(r.isValid?null:wf(r));this.ts=$e(n.ts)?Jt.now():n.ts;let u=null,h=null;if(!c)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[u,h]=[n.old.c,n.old.o];else{const m=r.offset(this.ts);u=vf(this.ts,m),c=Number.isNaN(u.year)?new _o("invalid input"):null,u=c?null:u,h=c?null:m}this._zone=r,this.loc=n.loc||yt.create(),this.invalid=c,this.weekData=null,this.c=u,this.o=h,this.isLuxonDateTime=!0}static now(){return new Le({})}static local(){const[n,r]=Q2(arguments),[c,u,h,f,m,b,v]=r;return K2({year:c,month:u,day:h,hour:f,minute:m,second:b,millisecond:v},n)}static utc(){const[n,r]=Q2(arguments),[c,u,h,f,m,b,v]=r;return n.zone=Zn.utcInstance,K2({year:c,month:u,day:h,hour:f,minute:m,second:b,millisecond:v},n)}static fromJSDate(n,r={}){const c=aR(n)?n.valueOf():NaN;if(Number.isNaN(c))return Le.invalid("invalid input");const u=rs(r.zone,Jt.defaultZone);return u.isValid?new Le({ts:c,zone:u,loc:yt.fromObject(r)}):Le.invalid(wf(u))}static fromMillis(n,r={}){if(ua(n))return n<-W2||n>W2?Le.invalid("Timestamp out of range"):new Le({ts:n,zone:rs(r.zone,Jt.defaultZone),loc:yt.fromObject(r)});throw new Zi(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(ua(n))return new Le({ts:n*1e3,zone:rs(r.zone,Jt.defaultZone),loc:yt.fromObject(r)});throw new Zi("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const c=rs(r.zone,Jt.defaultZone);if(!c.isValid)return Le.invalid(wf(c));const u=Jt.now(),h=$e(r.specificOffset)?c.offset(u):r.specificOffset,f=_g(n,Y2),m=!$e(f.ordinal),b=!$e(f.year),v=!$e(f.month)||!$e(f.day),_=b||v,A=f.weekYear||f.weekNumber,x=yt.fromObject(r);if((_||m)&&A)throw new _d("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&m)throw new _d("Can't mix ordinal dates with month/day");const S=A||f.weekday&&!_;let T,B,R=vf(u,h);S?(T=N7,B=I7,R=J0(R)):m?(T=O7,B=M7,R=Ok(R)):(T=iT,B=nT);let O=!1;for(const oe of T){const le=f[oe];$e(le)?O?f[oe]=B[oe]:f[oe]=R[oe]:O=!0}const L=S?D7(f):m?T7(f):XD(f),E=L||eT(f);if(E)return Le.invalid(E);const U=S?H2(f):m?$2(f):f,[G,te]=Ff(U,h,c),J=new Le({ts:G,zone:c,o:te,loc:x});return f.weekday&&_&&n.weekday!==J.weekday?Le.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${J.toISO()}`):J}static fromISO(n,r={}){const[c,u]=ZR(n);return gd(c,u,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[c,u]=QR(n);return gd(c,u,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[c,u]=JR(n);return gd(c,u,r,"HTTP",r)}static fromFormat(n,r,c={}){if($e(n)||$e(r))throw new Zi("fromFormat requires an input string and a format");const{locale:u=null,numberingSystem:h=null}=c,f=yt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),[m,b,v,_]=S7(f,n,r);return _?Le.invalid(_):gd(m,b,c,`format ${r}`,n,v)}static fromString(n,r,c={}){return Le.fromFormat(n,r,c)}static fromSQL(n,r={}){const[c,u]=r7(n);return gd(c,u,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new Zi("need to specify a reason the DateTime is invalid");const c=n instanceof _o?n:new _o(n,r);if(Jt.throwOnInvalid)throw new jj(c);return new Le({invalid:c})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const c=GD(n,yt.fromObject(r));return c?c.map(u=>u?u.val:null).join(""):null}static expandFormat(n,r={}){return WD(Fn.parseFormat(n),yt.fromObject(r)).map(u=>u.val).join("")}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Pk(this).weekYear:NaN}get weekNumber(){return this.isValid?Pk(this).weekNumber:NaN}get weekday(){return this.isValid?Pk(this).weekday:NaN}get ordinal(){return this.isValid?Ok(this.c).ordinal:NaN}get monthShort(){return this.isValid?kf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?kf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?kf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?kf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,c=Gg(this.c),u=this.zone.offset(c-n),h=this.zone.offset(c+n),f=this.zone.offset(c-u*r),m=this.zone.offset(c-h*r);if(f===m)return[this];const b=c-f*r,v=c-m*r,_=vf(b,f),A=vf(v,m);return _.hour===A.hour&&_.minute===A.minute&&_.second===A.second&&_.millisecond===A.millisecond?[Zs(this,{ts:b}),Zs(this,{ts:v})]:[this]}get isInLeapYear(){return fu(this.year)}get daysInMonth(){return wg(this.year,this.month)}get daysInYear(){return this.isValid?Bd(this.year):NaN}get weeksInWeekYear(){return this.isValid?vg(this.weekYear):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:c,calendar:u}=Fn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:c,outputCalendar:u}}toUTC(n=0,r={}){return this.setZone(Zn.instance(n),r)}toLocal(){return this.setZone(Jt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:c=!1}={}){if(n=rs(n,Jt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let u=this.ts;if(r||c){const h=n.offset(this.ts),f=this.toObject();[u]=Ff(f,h,n)}return Zs(this,{ts:u,zone:n})}else return Le.invalid(wf(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:c}={}){const u=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:c});return Zs(this,{loc:u})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=_g(n,Y2),c=!$e(r.weekYear)||!$e(r.weekNumber)||!$e(r.weekday),u=!$e(r.ordinal),h=!$e(r.year),f=!$e(r.month)||!$e(r.day),m=h||f,b=r.weekYear||r.weekNumber;if((m||u)&&b)throw new _d("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new _d("Can't mix ordinal dates with month/day");let v;c?v=H2({...J0(this.c),...r}):$e(r.ordinal)?(v={...this.toObject(),...r},$e(r.day)&&(v.day=Math.min(wg(v.year,v.month),v.day))):v=$2({...Ok(this.c),...r});const[_,A]=Ff(v,this.o,this.zone);return Zs(this,{ts:_,o:A})}plus(n){if(!this.isValid)return this;const r=Ke.fromDurationLike(n);return Zs(this,q2(this,r))}minus(n){if(!this.isValid)return this;const r=Ke.fromDurationLike(n).negate();return Zs(this,q2(this,r))}startOf(n){if(!this.isValid)return this;const r={},c=Ke.normalizeUnit(n);switch(c){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(c==="weeks"&&(r.weekday=1),c==="quarters"){const u=Math.ceil(this.month/3);r.month=(u-1)*3+1}return this.set(r)}endOf(n){return this.isValid?this.plus({[n]:1}).startOf(n).minus(1):this}toFormat(n,r={}){return this.isValid?Fn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):Bk}toLocaleString(n=bg,r={}){return this.isValid?Fn.create(this.loc.clone(r),n).formatDateTime(this):Bk}toLocaleParts(n={}){return this.isValid?Fn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:c=!1,includeOffset:u=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const f=n==="extended";let m=Lk(this,f);return m+="T",m+=G2(this,f,r,c,u,h),m}toISODate({format:n="extended"}={}){return this.isValid?Lk(this,n==="extended"):null}toISOWeekDate(){return _f(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:c=!0,includePrefix:u=!1,extendedZone:h=!1,format:f="extended"}={}){return this.isValid?(u?"T":"")+G2(this,f==="extended",r,n,c,h):null}toRFC2822(){return _f(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _f(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Lk(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:c=!0}={}){let u="HH:mm:ss.SSS";return(r||n)&&(c&&(u+=" "),r?u+="z":n&&(u+="ZZ")),_f(this,u,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Bk}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",c={}){if(!this.isValid||!n.isValid)return Ke.invalid("created by diffing an invalid DateTime");const u={locale:this.locale,numberingSystem:this.numberingSystem,...c},h=cR(r).map(Ke.normalizeUnit),f=n.valueOf()>this.valueOf(),m=f?this:n,b=f?n:this,v=h7(m,b,h,u);return f?v.negate():v}diffNow(n="milliseconds",r={}){return this.diff(Le.now(),n,r)}until(n){return this.isValid?Lt.fromDateTimes(this,n):this}hasSame(n,r){if(!this.isValid)return!1;const c=n.valueOf(),u=this.setZone(n.zone,{keepLocalTime:!0});return u.startOf(r)<=c&&c<=u.endOf(r)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Le.fromObject({},{zone:this.zone}),c=n.padding?this<r?-n.padding:n.padding:0;let u=["years","months","days","hours","minutes","seconds"],h=n.unit;return Array.isArray(n.unit)&&(u=n.unit,h=void 0),Z2(r,this.plus(c),{...n,numeric:"always",units:u,unit:h})}toRelativeCalendar(n={}){return this.isValid?Z2(n.base||Le.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Le.isDateTime))throw new Zi("min requires all arguments be DateTimes");return B2(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Le.isDateTime))throw new Zi("max requires all arguments be DateTimes");return B2(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,c={}){const{locale:u=null,numberingSystem:h=null}=c,f=yt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0});return qD(f,n,r)}static fromStringExplain(n,r,c={}){return Le.fromFormatExplain(n,r,c)}static get DATE_SHORT(){return bg}static get DATE_MED(){return sD}static get DATE_MED_WITH_WEEKDAY(){return Vj}static get DATE_FULL(){return aD}static get DATE_HUGE(){return cD}static get TIME_SIMPLE(){return lD}static get TIME_WITH_SECONDS(){return dD}static get TIME_WITH_SHORT_OFFSET(){return uD}static get TIME_WITH_LONG_OFFSET(){return hD}static get TIME_24_SIMPLE(){return fD}static get TIME_24_WITH_SECONDS(){return gD}static get TIME_24_WITH_SHORT_OFFSET(){return pD}static get TIME_24_WITH_LONG_OFFSET(){return mD}static get DATETIME_SHORT(){return kD}static get DATETIME_SHORT_WITH_SECONDS(){return bD}static get DATETIME_MED(){return wD}static get DATETIME_MED_WITH_SECONDS(){return vD}static get DATETIME_MED_WITH_WEEKDAY(){return Uj}static get DATETIME_FULL(){return _D}static get DATETIME_FULL_WITH_SECONDS(){return yD}static get DATETIME_HUGE(){return AD}static get DATETIME_HUGE_WITH_SECONDS(){return CD}}function pd(i){if(Le.isDateTime(i))return i;if(i&&i.valueOf&&ua(i.valueOf()))return Le.fromJSDate(i);if(i&&typeof i=="object")return Le.fromObject(i);throw new Zi(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const J2=["year","month","week","day","hour","minute","second"],yg=i=>{const r=Le.fromISO(i).diffNow().shiftTo(...J2),c=J2.find(h=>r.get(h)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(r.as(c)),c)},oT="/Book-Chronicles/assets/like-21544d1e.png",B7=i=>{const n=/<oembed[^>]*>/g,r=i.match(n);if(r){const u=`<iframe src="${r[0].match(/url="([^"]*)"/)[1]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;i=i.replace(n,u)}return i};function P7(i){return{__html:B7(i||"")}}function rT(i){return F.jsx("div",{dangerouslySetInnerHTML:P7(i)})}function sT({id:i,title:n,created_at:r,vote:c,category:u,username:h,img_url:f,content:m,currentUserLiked:b}){let v="back-pastel-green pastel-green";u=="review"?v="back-pastel-purple pastel-purple":u=="recommend"&&(v="back-pastel-red pastel-red");const _=m.length>=300?m.replace(/<p>&nbsp;<\/p>/g,"").substring(0,300)+"...":m.replace(/<p>&nbsp;<\/p>/g,""),A=rT(_);return F.jsxs(Si,{className:"post-preview",to:`/Book-Chronicles/post/${i}`,children:[F.jsxs("div",{className:"post-preview-top",children:[F.jsxs("p",{className:"time-ago",children:["Posted ",r?yg(r):" "]}),F.jsxs("p",{className:`post-category ${v}`,children:["#",u]})]}),F.jsxs("div",{className:"post-preview-middle",children:[F.jsx("h2",{className:"pastel-black",children:n}),F.jsxs("div",{className:"post-preview-img-content",children:[f?F.jsx("img",{className:"post-preview-image",src:f}):"",F.jsxs("div",{className:"post-preview-content",children:[A," "]})]})]}),F.jsxs("div",{className:"post-preview-bot",children:[F.jsxs("div",{className:"vote-image",children:[F.jsx("img",{src:oT,className:"upvotes pastel-red"}),F.jsx("span",{className:"",children:F.jsxs("b",{className:b?"pastel-orange":"",children:[c," "]})})]}),F.jsx("p",{children:h?"~ "+h:""})]})]})}let L7={data:""},z7=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||L7,j7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,R7=/\/\*[^]*?\*\/|  +/g,X2=/\n+/g,ss=(i,n)=>{let r="",c="",u="";for(let h in i){let f=i[h];h[0]=="@"?h[1]=="i"?r=h+" "+f+";":c+=h[1]=="f"?ss(f,h):h+"{"+ss(f,h[1]=="k"?"":n)+"}":typeof f=="object"?c+=ss(f,n?n.replace(/([^,])+/g,m=>h.replace(/(^:.*)|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,m):m?m+" "+b:b)):h):f!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=ss.p?ss.p(h,f):h+":"+f+";")}return r+(n&&u?n+"{"+u+"}":u)+c},hr={},aT=i=>{if(typeof i=="object"){let n="";for(let r in i)n+=r+aT(i[r]);return n}return i},F7=(i,n,r,c,u)=>{let h=aT(i),f=hr[h]||(hr[h]=(b=>{let v=0,_=11;for(;v<b.length;)_=101*_+b.charCodeAt(v++)>>>0;return"go"+_})(h));if(!hr[f]){let b=h!==i?i:(v=>{let _,A,x=[{}];for(;_=j7.exec(v.replace(R7,""));)_[4]?x.shift():_[3]?(A=_[3].replace(X2," ").trim(),x.unshift(x[0][A]=x[0][A]||{})):x[0][_[1]]=_[2].replace(X2," ").trim();return x[0]})(i);hr[f]=ss(u?{["@keyframes "+f]:b}:b,r?"":"."+f)}let m=r&&hr.g?hr.g:null;return r&&(hr.g=hr[f]),((b,v,_,A)=>{A?v.data=v.data.replace(A,b):v.data.indexOf(b)===-1&&(v.data=_?b+v.data:v.data+b)})(hr[f],n,c,m),f},V7=(i,n,r)=>i.reduce((c,u,h)=>{let f=n[h];if(f&&f.call){let m=f(r),b=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=b?"."+b:m&&typeof m=="object"?m.props?"":ss(m,""):m===!1?"":m}return c+u+(f??"")},"");function Zg(i){let n=this||{},r=i.call?i(n.p):i;return F7(r.unshift?r.raw?V7(r,[].slice.call(arguments,1),n.p):r.reduce((c,u)=>Object.assign(c,u&&u.call?u(n.p):u),{}):r,z7(n.target),n.g,n.o,n.k)}let cT,X0,eb;Zg.bind({g:1});let Sr=Zg.bind({k:1});function U7(i,n,r,c){ss.p=n,cT=i,X0=r,eb=c}function Ds(i,n){let r=this||{};return function(){let c=arguments;function u(h,f){let m=Object.assign({},h),b=m.className||u.className;r.p=Object.assign({theme:X0&&X0()},m),r.o=/ *go\d+/.test(b),m.className=Zg.apply(r,c)+(b?" "+b:""),n&&(m.ref=f);let v=i;return i[0]&&(v=m.as||i,delete m.as),eb&&v[0]&&eb(m),cT(v,m)}return n?n(u):u}}var H7=i=>typeof i=="function",Ag=(i,n)=>H7(i)?i(n):i,$7=(()=>{let i=0;return()=>(++i).toString()})(),lT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");i=!n||n.matches}return i}})(),W7=20,Vf=new Map,q7=1e3,eE=i=>{if(Vf.has(i))return;let n=setTimeout(()=>{Vf.delete(i),Aa({type:4,toastId:i})},q7);Vf.set(i,n)},G7=i=>{let n=Vf.get(i);n&&clearTimeout(n)},tb=(i,n)=>{switch(n.type){case 0:return{...i,toasts:[n.toast,...i.toasts].slice(0,W7)};case 1:return n.toast.id&&G7(n.toast.id),{...i,toasts:i.toasts.map(h=>h.id===n.toast.id?{...h,...n.toast}:h)};case 2:let{toast:r}=n;return i.toasts.find(h=>h.id===r.id)?tb(i,{type:1,toast:r}):tb(i,{type:0,toast:r});case 3:let{toastId:c}=n;return c?eE(c):i.toasts.forEach(h=>{eE(h.id)}),{...i,toasts:i.toasts.map(h=>h.id===c||c===void 0?{...h,visible:!1}:h)};case 4:return n.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==n.toastId)};case 5:return{...i,pausedAt:n.time};case 6:let u=n.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Uf=[],Hf={toasts:[],pausedAt:void 0},Aa=i=>{Hf=tb(Hf,i),Uf.forEach(n=>{n(Hf)})},Y7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},K7=(i={})=>{let[n,r]=Y.useState(Hf);Y.useEffect(()=>(Uf.push(r),()=>{let u=Uf.indexOf(r);u>-1&&Uf.splice(u,1)}),[n]);let c=n.toasts.map(u=>{var h,f;return{...i,...i[u.type],...u,duration:u.duration||((h=i[u.type])==null?void 0:h.duration)||(i==null?void 0:i.duration)||Y7[u.type],style:{...i.style,...(f=i[u.type])==null?void 0:f.style,...u.style}}});return{...n,toasts:c}},Z7=(i,n="blank",r)=>({createdAt:Date.now(),visible:!0,type:n,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...r,id:(r==null?void 0:r.id)||$7()}),mu=i=>(n,r)=>{let c=Z7(n,i,r);return Aa({type:2,toast:c}),c.id},Vn=(i,n)=>mu("blank")(i,n);Vn.error=mu("error");Vn.success=mu("success");Vn.loading=mu("loading");Vn.custom=mu("custom");Vn.dismiss=i=>{Aa({type:3,toastId:i})};Vn.remove=i=>Aa({type:4,toastId:i});Vn.promise=(i,n,r)=>{let c=Vn.loading(n.loading,{...r,...r==null?void 0:r.loading});return i.then(u=>(Vn.success(Ag(n.success,u),{id:c,...r,...r==null?void 0:r.success}),u)).catch(u=>{Vn.error(Ag(n.error,u),{id:c,...r,...r==null?void 0:r.error})}),i};var Q7=(i,n)=>{Aa({type:1,toast:{id:i,height:n}})},J7=()=>{Aa({type:5,time:Date.now()})},X7=i=>{let{toasts:n,pausedAt:r}=K7(i);Y.useEffect(()=>{if(r)return;let h=Date.now(),f=n.map(m=>{if(m.duration===1/0)return;let b=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(b<0){m.visible&&Vn.dismiss(m.id);return}return setTimeout(()=>Vn.dismiss(m.id),b)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[n,r]);let c=Y.useCallback(()=>{r&&Aa({type:6,time:Date.now()})},[r]),u=Y.useCallback((h,f)=>{let{reverseOrder:m=!1,gutter:b=8,defaultPosition:v}=f||{},_=n.filter(S=>(S.position||v)===(h.position||v)&&S.height),A=_.findIndex(S=>S.id===h.id),x=_.filter((S,T)=>T<A&&S.visible).length;return _.filter(S=>S.visible).slice(...m?[x+1]:[0,x]).reduce((S,T)=>S+(T.height||0)+b,0)},[n]);return{toasts:n,handlers:{updateHeight:Q7,startPause:J7,endPause:c,calculateOffset:u}}},e8=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t8=Sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n8=Sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,i8=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t8} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n8} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,o8=Sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,r8=Ds("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${o8} 1s linear infinite;
`,s8=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,a8=Sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c8=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${a8} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,l8=Ds("div")`
  position: absolute;
`,d8=Ds("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,u8=Sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h8=Ds("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${u8} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,f8=({toast:i})=>{let{icon:n,type:r,iconTheme:c}=i;return n!==void 0?typeof n=="string"?Y.createElement(h8,null,n):n:r==="blank"?null:Y.createElement(d8,null,Y.createElement(r8,{...c}),r!=="loading"&&Y.createElement(l8,null,r==="error"?Y.createElement(i8,{...c}):Y.createElement(c8,{...c})))},g8=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p8=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,m8="0%{opacity:0;} 100%{opacity:1;}",k8="0%{opacity:1;} 100%{opacity:0;}",b8=Ds("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,w8=Ds("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,v8=(i,n)=>{let r=i.includes("top")?1:-1,[c,u]=lT()?[m8,k8]:[g8(r),p8(r)];return{animation:n?`${Sr(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sr(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_8=Y.memo(({toast:i,position:n,style:r,children:c})=>{let u=i.height?v8(i.position||n||"top-center",i.visible):{opacity:0},h=Y.createElement(f8,{toast:i}),f=Y.createElement(w8,{...i.ariaProps},Ag(i.message,i));return Y.createElement(b8,{className:i.className,style:{...u,...r,...i.style}},typeof c=="function"?c({icon:h,message:f}):Y.createElement(Y.Fragment,null,h,f))});U7(Y.createElement);var y8=({id:i,className:n,style:r,onHeightUpdate:c,children:u})=>{let h=Y.useCallback(f=>{if(f){let m=()=>{let b=f.getBoundingClientRect().height;c(i,b)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,c]);return Y.createElement("div",{ref:h,className:n,style:r},u)},A8=(i,n)=>{let r=i.includes("top"),c=r?{top:0}:{bottom:0},u=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(r?1:-1)}px)`,...c,...u}},C8=Zg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yf=16,x8=({reverseOrder:i,position:n="top-center",toastOptions:r,gutter:c,children:u,containerStyle:h,containerClassName:f})=>{let{toasts:m,handlers:b}=X7(r);return Y.createElement("div",{style:{position:"fixed",zIndex:9999,top:yf,left:yf,right:yf,bottom:yf,pointerEvents:"none",...h},className:f,onMouseEnter:b.startPause,onMouseLeave:b.endPause},m.map(v=>{let _=v.position||n,A=b.calculateOffset(v,{reverseOrder:i,gutter:c,defaultPosition:n}),x=A8(_,A);return Y.createElement(y8,{id:v.id,key:v.id,onHeightUpdate:b.updateHeight,className:v.visible?C8:"",style:x},v.type==="custom"?Ag(v.message,v):u?u(v):Y.createElement(_8,{toast:v,position:_}))}))},Qn=Vn;function E8({supabase:i,session:n}){const[r,c]=Y.useState([]),[u,h]=Y.useState({created_at:!1,vote:!0}),[f,m]=Y.useState(""),v=(n?n.user:{user_metadata:{}}).id,_=async()=>{const{data:T,error:B}=await i.from("posts").select().order("created_at",{ascending:!1});c(T)};Y.useEffect(()=>{const T=_();Qn.promise(T,{loading:"Loading your posts...",success:"Bookshelf Loaded",error:"Error when fetching"})},[]);const A=T=>{m(T.target.value)},x=()=>zj(f,r,["title","category","username"]).map(B=>{const R=B.user_likes[v];return F.jsx(sT,{id:B.id,title:B.title,created_at:B.created_at,vote:B.vote,category:B.category,username:B.username,img_url:B.img,content:B.content,currentUserLiked:R},B.id)}),S=T=>{const B=JSON.parse(JSON.stringify(r));T==="vote"?(u.vote?B.sort((R,O)=>O.vote-R.vote):B.sort((R,O)=>R.vote-O.vote),h(R=>({...R,vote:!u.vote}))):(u.created_at?B.sort((R,O)=>new Date(O.created_at)-new Date(R.created_at)):B.sort((R,O)=>new Date(R.created_at)-new Date(O.created_at)),h(R=>({...R,created_at:!u.created_at}))),c(B)};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"home-title-outside-container",children:F.jsxs("div",{className:"home-title-container",children:[F.jsxs("h1",{className:"home-title",children:[F.jsx("span",{className:"pastel-black",children:"Home"})," ",F.jsx("span",{className:"accent",children:"Feed"})]}),F.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),F.jsx("div",{className:"input-outside-container",children:F.jsxs("div",{className:"input-container",children:[F.jsx("input",{className:"search-input",onChange:A,placeholder:"Search",type:"text"}),F.jsxs("div",{className:"sort-posts-container",children:[F.jsx("span",{children:"Order by: "}),F.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{S("created_at")},children:"Newest"}),F.jsx("button",{className:"btn sort-button",onClick:()=>{S("vote")},children:"Most Popular"})]})]})}),F.jsx("div",{className:"post-preview-container",children:x()})]})}function S8(){const i=Mr();return Y.useEffect(()=>{i("/")},[]),F.jsx("div",{children:"NotFound"})}var Cg={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Cg.exports;(function(i,n){(function(r,c){i.exports=c(Y)})(self,r=>(()=>{var c={703:(m,b,v)=>{var _=v(414);function A(){}function x(){}x.resetWarningCache=A,m.exports=function(){function S(R,O,L,E,U,G){if(G!==_){var te=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw te.name="Invariant Violation",te}}function T(){return S}S.isRequired=S;var B={array:S,bigint:S,bool:S,func:S,number:S,object:S,string:S,symbol:S,any:S,arrayOf:T,element:S,elementType:S,instanceOf:T,node:S,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T,checkPropTypes:x,resetWarningCache:A};return B.PropTypes=B,B}},697:(m,b,v)=>{m.exports=v(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=r}},u={};function h(m){var b=u[m];if(b!==void 0)return b.exports;var v=u[m]={exports:{}};return c[m](v,v.exports,h),v.exports}h.n=m=>{var b=m&&m.__esModule?()=>m.default:()=>m;return h.d(b,{a:b}),b},h.d=(m,b)=>{for(var v in b)h.o(b,v)&&!h.o(m,v)&&Object.defineProperty(m,v,{enumerable:!0,get:b[v]})},h.o=(m,b)=>Object.prototype.hasOwnProperty.call(m,b),h.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var f={};return(()=>{h.r(f),h.d(f,{CKEditor:()=>rr,CKEditorContext:()=>Ra,useMultiRootEditor:()=>yp});var m=h(787),b=h.n(m),v=h(697),_=h.n(v);const A=new Array(256).fill("").map((I,M)=>("0"+M.toString(16)).slice(-2));class x{constructor(M){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof M.crashNumberLimit=="number"?M.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof M.minimumNonErrorTimePeriod=="number"?M.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=j=>{const q="error"in j?j.error:j.reason;q instanceof Error&&this._handleError(q,j)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(M,j){this._listeners[M]||(this._listeners[M]=[]),this._listeners[M].push(j)}off(M,j){this._listeners[M]=this._listeners[M].filter(q=>q!==j)}_fire(M,...j){const q=this._listeners[M]||[];for(const se of q)se.apply(this,[null,...j])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(M,j){if(this._shouldReactToError(M)){this.crashes.push({message:M.message,stack:M.stack,filename:j instanceof ErrorEvent?j.filename:void 0,lineno:j instanceof ErrorEvent?j.lineno:void 0,colno:j instanceof ErrorEvent?j.colno:void 0,date:this._now()});const q=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:M,causesRestart:q}),q?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(M){return M.is&&M.is("CKEditorError")&&M.context!==void 0&&M.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(M)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function S(I,M=new Set){const j=[I],q=new Set;let se=0;for(;j.length>se;){const ve=j[se++];if(!q.has(ve)&&T(ve)&&!M.has(ve))if(q.add(ve),Symbol.iterator in ve)try{for(const ue of ve)j.push(ue)}catch{}else for(const ue in ve)ue!=="defaultValue"&&j.push(ve[ue])}return q}function T(I){const M=Object.prototype.toString.call(I),j=typeof I;return!(j==="number"||j==="boolean"||j==="string"||j==="symbol"||j==="function"||M==="[object Date]"||M==="[object RegExp]"||M==="[object Module]"||I==null||I._watchdogExcluded||I instanceof EventTarget||I instanceof Event)}function B(I,M,j=new Set){if(I===M&&typeof(q=I)=="object"&&q!==null)return!0;var q;const se=S(I,j),ve=S(M,j);for(const ue of se)if(ve.has(ue))return!0;return!1}const R=function(I){var M=typeof I;return I!=null&&(M=="object"||M=="function")},O=typeof oa=="object"&&oa&&oa.Object===Object&&oa;var L=typeof self=="object"&&self&&self.Object===Object&&self;const E=O||L||Function("return this")(),U=function(){return E.Date.now()};var G=/\s/;const te=function(I){for(var M=I.length;M--&&G.test(I.charAt(M)););return M};var J=/^\s+/;const oe=function(I){return I&&I.slice(0,te(I)+1).replace(J,"")},le=E.Symbol;var pe=Object.prototype,K=pe.hasOwnProperty,Z=pe.toString,$=le?le.toStringTag:void 0;const V=function(I){var M=K.call(I,$),j=I[$];try{I[$]=void 0;var q=!0}catch{}var se=Z.call(I);return q&&(M?I[$]=j:delete I[$]),se};var H=Object.prototype.toString;const X=function(I){return H.call(I)};var re=le?le.toStringTag:void 0;const ie=function(I){return I==null?I===void 0?"[object Undefined]":"[object Null]":re&&re in Object(I)?V(I):X(I)},ne=function(I){return I!=null&&typeof I=="object"},ge=function(I){return typeof I=="symbol"||ne(I)&&ie(I)=="[object Symbol]"};var me=/^[-+]0x[0-9a-f]+$/i,Ee=/^0b[01]+$/i,lt=/^0o[0-7]+$/i,Ct=parseInt;const mt=function(I){if(typeof I=="number")return I;if(ge(I))return NaN;if(R(I)){var M=typeof I.valueOf=="function"?I.valueOf():I;I=R(M)?M+"":M}if(typeof I!="string")return I===0?I:+I;I=oe(I);var j=Ee.test(I);return j||lt.test(I)?Ct(I.slice(2),j?2:8):me.test(I)?NaN:+I};var Ie=Math.max,Mn=Math.min;const Me=function(I,M,j){var q,se,ve,ue,we,ze,Ne=0,$n=!1,Cn=!1,on=!0;if(typeof I!="function")throw new TypeError("Expected a function");function un(hn){var qn=q,Ae=se;return q=se=void 0,Ne=hn,ue=I.apply(Ae,qn)}function Ri(hn){var qn=hn-ze;return ze===void 0||qn>=M||qn<0||Cn&&hn-Ne>=ve}function wi(){var hn=U();if(Ri(hn))return dt(hn);we=setTimeout(wi,function(qn){var Ae=M-(qn-ze);return Cn?Mn(Ae,ve-(qn-Ne)):Ae}(hn))}function dt(hn){return we=void 0,on&&q?un(hn):(q=se=void 0,ue)}function Wn(){var hn=U(),qn=Ri(hn);if(q=arguments,se=this,ze=hn,qn){if(we===void 0)return function(Ae){return Ne=Ae,we=setTimeout(wi,M),$n?un(Ae):ue}(ze);if(Cn)return clearTimeout(we),we=setTimeout(wi,M),un(ze)}return we===void 0&&(we=setTimeout(wi,M)),ue}return M=mt(M)||0,R(j)&&($n=!!j.leading,ve=(Cn="maxWait"in j)?Ie(mt(j.maxWait)||0,M):ve,on="trailing"in j?!!j.trailing:on),Wn.cancel=function(){we!==void 0&&clearTimeout(we),Ne=0,q=ze=se=we=void 0},Wn.flush=function(){return we===void 0?ue:dt(U())},Wn},cn=function(I,M,j){var q=!0,se=!0;if(typeof I!="function")throw new TypeError("Expected a function");return R(j)&&(q="leading"in j?!!j.leading:q,se="trailing"in j?!!j.trailing:se),Me(I,M,{leading:q,maxWait:M,trailing:se})},Li=function(I,M){return function(j){return I(M(j))}},io=Li(Object.getPrototypeOf,Object);var Ko=Function.prototype,Eo=Object.prototype,oo=Ko.toString,Dt=Eo.hasOwnProperty,Yt=oo.call(Object);const ln=function(I){if(!ne(I)||ie(I)!="[object Object]")return!1;var M=io(I);if(M===null)return!0;var j=Dt.call(M,"constructor")&&M.constructor;return typeof j=="function"&&j instanceof j&&oo.call(j)==Yt},Zo=function(I){return ne(I)&&I.nodeType===1&&!ln(I)},Kt=function(){this.__data__=[],this.size=0},Rt=function(I,M){return I===M||I!=I&&M!=M},et=function(I,M){for(var j=I.length;j--;)if(Rt(I[j][0],M))return j;return-1};var Qo=Array.prototype.splice;const Jo=function(I){var M=this.__data__,j=et(M,I);return!(j<0)&&(j==M.length-1?M.pop():Qo.call(M,j,1),--this.size,!0)},mi=function(I){var M=this.__data__,j=et(M,I);return j<0?void 0:M[j][1]},Or=function(I){return et(this.__data__,I)>-1},Br=function(I,M){var j=this.__data__,q=et(j,I);return q<0?(++this.size,j.push([I,M])):j[q][1]=M,this};function ti(I){var M=-1,j=I==null?0:I.length;for(this.clear();++M<j;){var q=I[M];this.set(q[0],q[1])}}ti.prototype.clear=Kt,ti.prototype.delete=Jo,ti.prototype.get=mi,ti.prototype.has=Or,ti.prototype.set=Br;const Nn=ti,_n=function(){this.__data__=new Nn,this.size=0},wt=function(I){var M=this.__data__,j=M.delete(I);return this.size=M.size,j},Ft=function(I){return this.__data__.get(I)},ni=function(I){return this.__data__.has(I)},zi=function(I){if(!R(I))return!1;var M=ie(I);return M=="[object Function]"||M=="[object GeneratorFunction]"||M=="[object AsyncFunction]"||M=="[object Proxy]"},ji=E["__core-js_shared__"];var tn=function(){var I=/[^.]+$/.exec(ji&&ji.keys&&ji.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}();const yn=function(I){return!!tn&&tn in I};var Xo=Function.prototype.toString;const An=function(I){if(I!=null){try{return Xo.call(I)}catch{}try{return I+""}catch{}}return""};var ro=/^\[object .+?Constructor\]$/,So=Function.prototype,Vt=Object.prototype,Ut=So.toString,Ht=Vt.hasOwnProperty,Ce=RegExp("^"+Ut.call(Ht).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const We=function(I){return!(!R(I)||yn(I))&&(zi(I)?Ce:ro).test(An(I))},nn=function(I,M){return I==null?void 0:I[M]},On=function(I,M){var j=nn(I,M);return We(j)?j:void 0},ii=On(E,"Map"),ke=On(Object,"create"),De=function(){this.__data__=ke?ke(null):{},this.size=0},Se=function(I){var M=this.has(I)&&delete this.__data__[I];return this.size-=M?1:0,M};var xt=Object.prototype.hasOwnProperty;const Et=function(I){var M=this.__data__;if(ke){var j=M[I];return j==="__lodash_hash_undefined__"?void 0:j}return xt.call(M,I)?M[I]:void 0};var oi=Object.prototype.hasOwnProperty;const ki=function(I){var M=this.__data__;return ke?M[I]!==void 0:oi.call(M,I)},Tt=function(I,M){var j=this.__data__;return this.size+=this.has(I)?0:1,j[I]=ke&&M===void 0?"__lodash_hash_undefined__":M,this};function It(I){var M=-1,j=I==null?0:I.length;for(this.clear();++M<j;){var q=I[M];this.set(q[0],q[1])}}It.prototype.clear=De,It.prototype.delete=Se,It.prototype.get=Et,It.prototype.has=ki,It.prototype.set=Tt;const ot=It,er=function(){this.size=0,this.__data__={hash:new ot,map:new(ii||Nn),string:new ot}},ol=function(I){var M=typeof I;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?I!=="__proto__":I===null},Hn=function(I,M){var j=I.__data__;return ol(M)?j[typeof M=="string"?"string":"hash"]:j.map},Ca=function(I){var M=Hn(this,I).delete(I);return this.size-=M?1:0,M},xa=function(I){return Hn(this,I).get(I)},Ea=function(I){return Hn(this,I).has(I)},rt=function(I,M){var j=Hn(this,I),q=j.size;return j.set(I,M),this.size+=j.size==q?0:1,this};function dn(I){var M=-1,j=I==null?0:I.length;for(this.clear();++M<j;){var q=I[M];this.set(q[0],q[1])}}dn.prototype.clear=er,dn.prototype.delete=Ca,dn.prototype.get=xa,dn.prototype.has=Ea,dn.prototype.set=rt;const Ts=dn,tr=function(I,M){var j=this.__data__;if(j instanceof Nn){var q=j.__data__;if(!ii||q.length<199)return q.push([I,M]),this.size=++j.size,this;j=this.__data__=new Ts(q)}return j.set(I,M),this.size=j.size,this};function Do(I){var M=this.__data__=new Nn(I);this.size=M.size}Do.prototype.clear=_n,Do.prototype.delete=wt,Do.prototype.get=Ft,Do.prototype.has=ni,Do.prototype.set=tr;const bi=Do,Is=function(I,M){for(var j=-1,q=I==null?0:I.length;++j<q&&M(I[j],j,I)!==!1;);return I},Pr=function(){try{var I=On(Object,"defineProperty");return I({},"",{}),I}catch{}}(),yu=function(I,M,j){M=="__proto__"&&Pr?Pr(I,M,{configurable:!0,enumerable:!0,value:j,writable:!0}):I[M]=j};var np=Object.prototype.hasOwnProperty;const Au=function(I,M,j){var q=I[M];np.call(I,M)&&Rt(q,j)&&(j!==void 0||M in I)||yu(I,M,j)},Sa=function(I,M,j,q){var se=!j;j||(j={});for(var ve=-1,ue=M.length;++ve<ue;){var we=M[ve],ze=q?q(j[we],I[we],we,j,I):void 0;ze===void 0&&(ze=I[we]),se?yu(j,we,ze):Au(j,we,ze)}return j},ip=function(I,M){for(var j=-1,q=Array(I);++j<I;)q[j]=M(j);return q},Cu=function(I){return ne(I)&&ie(I)=="[object Arguments]"};var xu=Object.prototype,Lr=xu.hasOwnProperty,Eu=xu.propertyIsEnumerable;const op=Cu(function(){return arguments}())?Cu:function(I){return ne(I)&&Lr.call(I,"callee")&&!Eu.call(I,"callee")},rl=Array.isArray,Da=function(){return!1};var Su=n&&!n.nodeType&&n,Du=Su&&!0&&i&&!i.nodeType&&i,Tu=Du&&Du.exports===Su?E.Buffer:void 0;const Iu=(Tu?Tu.isBuffer:void 0)||Da;var zr=/^(?:0|[1-9]\d*)$/;const Ta=function(I,M){var j=typeof I;return!!(M=M??9007199254740991)&&(j=="number"||j!="symbol"&&zr.test(I))&&I>-1&&I%1==0&&I<M},Mu=function(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=9007199254740991};var Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Arguments]"]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe["[object Function]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe["[object Object]"]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;const Ms=function(I){return ne(I)&&Mu(I.length)&&!!Qe[ie(I)]},sl=function(I){return function(M){return I(M)}};var Ns=n&&!n.nodeType&&n,nr=Ns&&!0&&i&&!i.nodeType&&i,al=nr&&nr.exports===Ns&&O.process;const To=function(){try{var I=nr&&nr.require&&nr.require("util").types;return I||al&&al.binding&&al.binding("util")}catch{}}();var ir=To&&To.isTypedArray;const rp=ir?sl(ir):Ms;var Nu=Object.prototype.hasOwnProperty;const cl=function(I,M){var j=rl(I),q=!j&&op(I),se=!j&&!q&&Iu(I),ve=!j&&!q&&!se&&rp(I),ue=j||q||se||ve,we=ue?ip(I.length,String):[],ze=we.length;for(var Ne in I)!M&&!Nu.call(I,Ne)||ue&&(Ne=="length"||se&&(Ne=="offset"||Ne=="parent")||ve&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||Ta(Ne,ze))||we.push(Ne);return we};var sp=Object.prototype;const ll=function(I){var M=I&&I.constructor;return I===(typeof M=="function"&&M.prototype||sp)},dl=Li(Object.keys,Object);var ap=Object.prototype.hasOwnProperty;const Ou=function(I){if(!ll(I))return dl(I);var M=[];for(var j in Object(I))ap.call(I,j)&&j!="constructor"&&M.push(j);return M},ul=function(I){return I!=null&&Mu(I.length)&&!zi(I)},Ia=function(I){return ul(I)?cl(I):Ou(I)},Os=function(I,M){return I&&Sa(M,Ia(M),I)},cp=function(I){var M=[];if(I!=null)for(var j in Object(I))M.push(j);return M};var hl=Object.prototype.hasOwnProperty;const Bu=function(I){if(!R(I))return cp(I);var M=ll(I),j=[];for(var q in I)(q!="constructor"||!M&&hl.call(I,q))&&j.push(q);return j},st=function(I){return ul(I)?cl(I,!0):Bu(I)},lp=function(I,M){return I&&Sa(M,st(M),I)};var Ma=n&&!n.nodeType&&n,fl=Ma&&!0&&i&&!i.nodeType&&i,jr=fl&&fl.exports===Ma?E.Buffer:void 0,Na=jr?jr.allocUnsafe:void 0;const Rr=function(I,M){if(M)return I.slice();var j=I.length,q=Na?Na(j):new I.constructor(j);return I.copy(q),q},Pu=function(I,M){var j=-1,q=I.length;for(M||(M=Array(q));++j<q;)M[j]=I[j];return M},gl=function(I,M){for(var j=-1,q=I==null?0:I.length,se=0,ve=[];++j<q;){var ue=I[j];M(ue,j,I)&&(ve[se++]=ue)}return ve},Lu=function(){return[]};var zu=Object.prototype.propertyIsEnumerable,ju=Object.getOwnPropertySymbols;const Bs=ju?function(I){return I==null?[]:(I=Object(I),gl(ju(I),function(M){return zu.call(I,M)}))}:Lu,dp=function(I,M){return Sa(I,Bs(I),M)},Ru=function(I,M){for(var j=-1,q=M.length,se=I.length;++j<q;)I[se+j]=M[j];return I},Fu=Object.getOwnPropertySymbols?function(I){for(var M=[];I;)Ru(M,Bs(I)),I=io(I);return M}:Lu,Oa=function(I,M){return Sa(I,Fu(I),M)},Ba=function(I,M,j){var q=M(I);return rl(I)?q:Ru(q,j(I))},up=function(I){return Ba(I,Ia,Bs)},hp=function(I){return Ba(I,st,Fu)},pl=On(E,"DataView"),ml=On(E,"Promise"),Io=On(E,"Set"),kl=On(E,"WeakMap");var bl="[object Map]",wl="[object Promise]",vl="[object Set]",_l="[object WeakMap]",yl="[object DataView]",Vu=An(pl),fp=An(ii),Uu=An(ml),gp=An(Io),Hu=An(kl),so=ie;(pl&&so(new pl(new ArrayBuffer(1)))!=yl||ii&&so(new ii)!=bl||ml&&so(ml.resolve())!=wl||Io&&so(new Io)!=vl||kl&&so(new kl)!=_l)&&(so=function(I){var M=ie(I),j=M=="[object Object]"?I.constructor:void 0,q=j?An(j):"";if(q)switch(q){case Vu:return yl;case fp:return bl;case Uu:return wl;case gp:return vl;case Hu:return _l}return M});const Al=so;var $u=Object.prototype.hasOwnProperty;const Wu=function(I){var M=I.length,j=new I.constructor(M);return M&&typeof I[0]=="string"&&$u.call(I,"index")&&(j.index=I.index,j.input=I.input),j},qu=E.Uint8Array,Pa=function(I){var M=new I.constructor(I.byteLength);return new qu(M).set(new qu(I)),M},Cl=function(I,M){var j=M?Pa(I.buffer):I.buffer;return new I.constructor(j,I.byteOffset,I.byteLength)};var pp=/\w*$/;const xl=function(I){var M=new I.constructor(I.source,pp.exec(I));return M.lastIndex=I.lastIndex,M};var La=le?le.prototype:void 0,za=La?La.valueOf:void 0;const El=function(I){return za?Object(za.call(I)):{}},Gu=function(I,M){var j=M?Pa(I.buffer):I.buffer;return new I.constructor(j,I.byteOffset,I.length)},Yu=function(I,M,j){var q=I.constructor;switch(M){case"[object ArrayBuffer]":return Pa(I);case"[object Boolean]":case"[object Date]":return new q(+I);case"[object DataView]":return Cl(I,j);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Gu(I,j);case"[object Map]":case"[object Set]":return new q;case"[object Number]":case"[object String]":return new q(I);case"[object RegExp]":return xl(I);case"[object Symbol]":return El(I)}};var Sl=Object.create;const Ku=function(){function I(){}return function(M){if(!R(M))return{};if(Sl)return Sl(M);I.prototype=M;var j=new I;return I.prototype=void 0,j}}(),Zu=function(I){return typeof I.constructor!="function"||ll(I)?{}:Ku(io(I))},mp=function(I){return ne(I)&&Al(I)=="[object Map]"};var Qu=To&&To.isMap;const kp=Qu?sl(Qu):mp,bp=function(I){return ne(I)&&Al(I)=="[object Set]"};var Ju=To&&To.isSet;const or=Ju?sl(Ju):bp;var Fr="[object Arguments]",Xu="[object Function]",eh="[object Object]",tt={};tt[Fr]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt[eh]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt[Xu]=tt["[object WeakMap]"]=!1;const Dl=function I(M,j,q,se,ve,ue){var we,ze=1&j,Ne=2&j,$n=4&j;if(q&&(we=ve?q(M,se,ve,ue):q(M)),we!==void 0)return we;if(!R(M))return M;var Cn=rl(M);if(Cn){if(we=Wu(M),!ze)return Pu(M,we)}else{var on=Al(M),un=on==Xu||on=="[object GeneratorFunction]";if(Iu(M))return Rr(M,ze);if(on==eh||on==Fr||un&&!ve){if(we=Ne||un?{}:Zu(M),!ze)return Ne?Oa(M,lp(we,M)):dp(M,Os(we,M))}else{if(!tt[on])return ve?M:{};we=Yu(M,on,ze)}}ue||(ue=new bi);var Ri=ue.get(M);if(Ri)return Ri;ue.set(M,we),or(M)?M.forEach(function(dt){we.add(I(dt,j,q,dt,M,ue))}):kp(M)&&M.forEach(function(dt,Wn){we.set(Wn,I(dt,j,q,Wn,M,ue))});var wi=Cn?void 0:($n?Ne?hp:up:Ne?st:Ia)(M);return Is(wi||M,function(dt,Wn){wi&&(dt=M[Wn=dt]),Au(we,Wn,I(dt,j,q,Wn,M,ue))}),we},wp=function(I,M){return Dl(I,5,M=typeof M=="function"?M:void 0)};class Tl extends x{constructor(M,j={}){super(j),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=cn(this._save.bind(this),typeof j.saveInterval=="number"?j.saveInterval:5e3),M&&(this._creator=(q,se)=>M.create(q,se)),this._destructor=q=>q.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(M){this._creator=M}setDestructor(M){this._destructor=M}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(M=>{console.error("An error happened during the editor destroying.",M)}).then(()=>{const M={},j=[],q=this._config.rootsAttributes||{},se={};for(const[ue,we]of Object.entries(this._data.roots))we.isLoaded?(M[ue]="",se[ue]=q[ue]||{}):j.push(ue);const ve={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:j,rootsAttributes:se,_watchdogInitialData:this._data};return delete ve.initialData,ve.extraPlugins.push(vp),this._initUsingData?this.create(M,ve,ve.context):Zo(this._elementOrData)?this.create(this._elementOrData,ve,ve.context):this.create(this._editables,ve,ve.context)}).then(()=>{this._fire("restart")})}create(M=this._elementOrData,j=this._config,q){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=M,this._initUsingData=typeof M=="string"||Object.keys(M).length>0&&typeof Object.values(M)[0]=="string",this._config=this._cloneEditorConfiguration(j)||{},this._config.context=q,this._creator(M,this._config))).then(se=>{this._editor=se,se.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=se.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const M=this._editor;return this._editor=null,M.model.document.off("change:data",this._throttledSave),this._destructor(M)})}_save(){const M=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=M}catch(j){console.error(j,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(M){this._excludedProps=M}_getData(){const M=this._editor,j=M.model.document.roots.filter(we=>we.isAttached()&&we.rootName!="$graveyard"),{plugins:q}=M,se=q.has("CommentsRepository")&&q.get("CommentsRepository"),ve=q.has("TrackChanges")&&q.get("TrackChanges"),ue={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};j.forEach(we=>{ue.roots[we.rootName]={content:JSON.stringify(Array.from(we.getChildren())),attributes:JSON.stringify(Array.from(we.getAttributes())),isLoaded:we._isLoaded}});for(const we of M.model.markers)we._affectsData&&(ue.markers[we.name]={rangeJSON:we.getRange().toJSON(),usingOperation:we._managedUsingOperations,affectsData:we._affectsData});return se&&(ue.commentThreads=JSON.stringify(se.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),ve&&(ue.suggestions=JSON.stringify(ve.getSuggestions({toJSON:!0,skipNotAttached:!0}))),ue}_getEditables(){const M={};for(const j of this.editor.model.document.getRootNames()){const q=this.editor.ui.getEditableElement(j);q&&(M[j]=q)}return M}_isErrorComingFromThisItem(M){return B(this._editor,M.context,this._excludedProps)}_cloneEditorConfiguration(M){return wp(M,(j,q)=>Zo(j)||q==="context"?j:void 0)}}class vp{constructor(M){this.editor=M,this._data=M.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",M=>{M.stop(),this.editor.model.enqueueChange({isUndoable:!1},j=>{this._restoreCollaborationData(),this._restoreEditorData(j)}),this.editor.data.fire("ready")},{priority:999})}_createNode(M,j){if("name"in j){const q=M.createElement(j.name,j.attributes);if(j.children)for(const se of j.children)q._appendChild(this._createNode(M,se));return q}return M.createText(j.data,j.attributes)}_restoreEditorData(M){const j=this.editor;Object.entries(this._data.roots).forEach(([q,{content:se,attributes:ve}])=>{const ue=JSON.parse(se),we=JSON.parse(ve),ze=j.model.document.getRoot(q);for(const[Ne,$n]of we)M.setAttribute(Ne,$n,ze);for(const Ne of ue){const $n=this._createNode(M,Ne);M.insert($n,ze,"end")}}),Object.entries(this._data.markers).forEach(([q,se])=>{const{document:ve}=j.model,{rangeJSON:{start:ue,end:we},...ze}=se,Ne=ve.getRoot(ue.root),$n=M.createPositionFromPath(Ne,ue.path,ue.stickiness),Cn=M.createPositionFromPath(Ne,we.path,we.stickiness),on=M.createRange($n,Cn);M.addMarker(q,{range:on,...ze})})}_restoreCollaborationData(){const M=JSON.parse(this._data.commentThreads),j=JSON.parse(this._data.suggestions);M.forEach(q=>{const se=this.editor.config.get("collaboration.channelId"),ve=this.editor.plugins.get("CommentsRepository");ve.hasCommentThread(q.threadId)&&ve.getCommentThread(q.threadId).remove(),ve.addCommentThread({channelId:se,...q})}),j.forEach(q=>{const se=this.editor.plugins.get("TrackChangesEditing");se.hasSuggestion(q.id)?se.getSuggestion(q.id).attributes=q.attributes:se.addSuggestionData(q)})}}const Vr=Symbol("MainQueueId");class ja extends x{constructor(M,j={}){super(j),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new _p,this._watchdogConfig=j,this._creator=q=>M.create(q),this._destructor=q=>q.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(M){this._creator=M}setDestructor(M){this._destructor=M}get context(){return this._context}create(M={}){return this._actionQueues.enqueue(Vr,()=>(this._contextConfig=M,this._create()))}getItem(M){return this._getWatchdog(M)._item}getItemState(M){return this._getWatchdog(M).state}add(M){const j=Il(M);return Promise.all(j.map(q=>this._actionQueues.enqueue(q.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let se;if(this._watchdogs.has(q.id))throw new Error(`Item with the given id is already added: '${q.id}'.`);if(q.type==="editor")return se=new Tl(null,this._watchdogConfig),se.setCreator(q.creator),se._setExcludedProperties(this._contextProps),q.destructor&&se.setDestructor(q.destructor),this._watchdogs.set(q.id,se),se.on("error",(ve,{error:ue,causesRestart:we})=>{this._fire("itemError",{itemId:q.id,error:ue}),we&&this._actionQueues.enqueue(q.id,()=>new Promise(ze=>{const Ne=()=>{se.off("restart",Ne),this._fire("itemRestart",{itemId:q.id}),ze()};se.on("restart",Ne)}))}),se.create(q.sourceElementOrData,q.config,this._context);throw new Error(`Not supported item type: '${q.type}'.`)})))}remove(M){const j=Il(M);return Promise.all(j.map(q=>this._actionQueues.enqueue(q,()=>{const se=this._getWatchdog(q);return this._watchdogs.delete(q),se.destroy()})))}destroy(){return this._actionQueues.enqueue(Vr,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Vr,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(M=>{console.error("An error happened during destroying the context or items.",M)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(M=>(this._context=M,this._contextProps=S(this._context),Promise.all(Array.from(this._watchdogs.values()).map(j=>(j._setExcludedProperties(this._contextProps),j.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const M=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(j=>j.destroy())).then(()=>this._destructor(M))})}_getWatchdog(M){const j=this._watchdogs.get(M);if(!j)throw new Error(`Item with the given id was not registered: ${M}.`);return j}_isErrorComingFromThisItem(M){for(const j of this._watchdogs.values())if(j._isErrorComingFromThisItem(M))return!1;return B(this._context,M.context)}}class _p{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(M){this._onEmptyCallbacks.push(M)}enqueue(M,j){const q=M===Vr;this._activeActions++,this._queues.get(M)||this._queues.set(M,Promise.resolve());const se=(q?Promise.all(this._queues.values()):Promise.all([this._queues.get(Vr),this._queues.get(M)])).then(j),ve=se.catch(()=>{});return this._queues.set(M,ve),se.finally(()=>{this._activeActions--,this._queues.get(M)===ve&&this._activeActions===0&&this._onEmptyCallbacks.forEach(ue=>ue())})}}function Il(I){return Array.isArray(I)?I:[I]}const Ml=b().createContext("contextWatchdog");class Ra extends b().Component{constructor(M,j){super(M,j),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(M){return this._shouldComponentUpdate(M)}async _shouldComponentUpdate(M){return M.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(M.config)),M.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(M.config),!0):this.props.children!==M.children}render(){return b().createElement(Ml.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(M){this.contextWatchdog=new ja(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(j,q)=>{this.props.onError(q.error,{phase:"runtime",willContextRestart:q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(M).catch(j=>{this.props.onError(j,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Ra.defaultProps={isLayoutReady:!0,onError:(I,M)=>console.error(I,M)},Ra.propTypes={id:_().string,isLayoutReady:_().bool,context:_().func,watchdogConfig:_().object,config:_().object,onReady:_().func,onError:_().func};const Nl="Lock from React integration (@ckeditor/ckeditor5-react)";class rr extends b().Component{constructor(M){super(M),this.editorDestructionInProgress=null,this.domContainer=b().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:j}=window;if(j){const[q]=j.split(".").map(Number);q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(M){return!!this.editor&&(M.id!==this.props.id||M.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(M)&&this.editor.data.set(M.data),"disabled"in M&&(M.disabled?this.editor.enableReadOnlyMode(Nl):this.editor.disableReadOnlyMode(Nl)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return b().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof ja?this.watchdog=new th(this.context):this.watchdog=new rr._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((M,j)=>this._createEditor(M,j)),this.watchdog.on("error",(M,{error:j,causesRestart:q})=>{(this.props.onError||console.error)(j,{phase:"runtime",willEditorRestart:q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(M=>{(this.props.onError||console.error)(M,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(M,j){return this.props.editor.create(M,j).then(q=>{"disabled"in this.props&&this.props.disabled&&q.enableReadOnlyMode(Nl);const se=q.model.document,ve=q.editing.view.document;return se.on("change:data",ue=>{this.props.onChange&&this.props.onChange(ue,q)}),ve.on("focus",ue=>{this.props.onFocus&&this.props.onFocus(ue,q)}),ve.on("blur",ue=>{this.props.onBlur&&this.props.onBlur(ue,q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(q)}),q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(M=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,M()):this.instance?(await this.instance.destroy(),this.instance=null,M()):void M())})}_shouldUpdateEditor(M){return this.props.data!==M.data&&this.editor.data.get()!==M.data}_getConfig(){const M=this.props.config||{};return this.props.data&&M.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...M,initialData:M.initialData||this.props.data||""}}}rr.contextType=Ml,rr.propTypes={editor:_().func.isRequired,data:_().string,config:_().object,disableWatchdog:_().bool,watchdogConfig:_().object,onChange:_().func,onReady:_().func,onFocus:_().func,onBlur:_().func,onError:_().func,disabled:_().bool,id:_().any},rr._EditorWatchdog=Tl;class th{constructor(M){this._contextWatchdog=M,this._id=function(){const j=4294967296*Math.random()>>>0,q=4294967296*Math.random()>>>0,se=4294967296*Math.random()>>>0,ve=4294967296*Math.random()>>>0;return"e"+A[j>>0&255]+A[j>>8&255]+A[j>>16&255]+A[j>>24&255]+A[q>>0&255]+A[q>>8&255]+A[q>>16&255]+A[q>>24&255]+A[se>>0&255]+A[se>>8&255]+A[se>>16&255]+A[se>>24&255]+A[ve>>0&255]+A[ve>>8&255]+A[ve>>16&255]+A[ve>>24&255]}()}setCreator(M){this._creator=M}create(M,j){return this._contextWatchdog.add({sourceElementOrData:M,config:j,creator:this._creator,id:this._id,type:"editor"})}on(M,j){this._contextWatchdog.on("itemError",(q,{itemId:se,error:ve})=>{se===this._id&&j(null,{error:ve,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Fa="Lock from React integration (@ckeditor/ckeditor5-react)",yp=I=>{let M=null;const j=(0,m.useRef)(null),q=(0,m.useContext)(Ml),[se,ve]=(0,m.useState)(null),[ue,we]=(0,m.useState)(I.data),[ze,Ne]=(0,m.useState)(I.rootsAttributes||{}),[$n,Cn]=(0,m.useState)([]),on=(0,m.useRef)(!0),un=(0,m.useRef)(null),Ri=b().createElement("div",{ref:un});(0,m.useEffect)(()=>((async()=>(await j.current,I.isLayoutReady!==!1&&qn()))(),()=>{hn().then(()=>{j.current=null})}),[I.isLayoutReady]),(0,m.useEffect)(()=>{se&&(I.disabled?se.enableReadOnlyMode(Fa):se.disableReadOnlyMode(Fa))},[I.disabled]),(0,m.useEffect)(()=>{const Oe=un.current;if(se&&!j.current){const ut=se.getFullData();we({...ut}),Ne({...se.getRootsAttributes()}),Cn([...Object.keys(ut).map(Re=>dt(se,Re))]),Oe&&Oe.appendChild(se.ui.view.toolbar.element)}return()=>{Oe&&Oe.firstChild&&Oe.removeChild(Oe.firstChild)}},[se&&se.id]);const wi=()=>{const Oe=I.config||{};return I.data&&Oe.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Oe,rootsAttributes:ze}},dt=(Oe,ut)=>b().createElement("div",{id:ut,key:ut,ref:Re=>{if(Re){const vi=Oe.ui.view.createEditable(ut,Re);Oe.ui.addEditable(vi),Oe.editing.view.forceRender()}}}),Wn=(Oe,ut)=>I.editor.create(Oe,ut).then(Re=>{I.disabled&&I.disabled&&Re.enableReadOnlyMode(Fa);const vi=Re.model.document,Fe=Re.editing.view.document;return vi.on("change:data",ao=>((Bn,Gn)=>{const fn=Bn.model.document,Pn={},$t={};fn.differ.getChanges().forEach(vt=>{let rn;if(rn=vt.type=="insert"||vt.type=="remove"?vt.position.root:vt.range.root,!rn.isAttached())return;const{rootName:sr}=rn;Pn[sr]=Bn.getData({rootName:sr})}),fn.differ.getChangedRoots().forEach(vt=>{if(vt.state)return void(Pn[vt.name]!==void 0&&delete Pn[vt.name]);const rn=vt.name;$t[rn]=Bn.getRootAttributes(rn)}),Object.keys(Pn).length&&we(vt=>({...vt,...Pn})),Object.keys($t).length&&Ne(vt=>({...vt,...$t})),I.onChange&&I.onChange(Gn,Bn)})(Re,ao)),Re.on("addRoot",(ao,Bn)=>((Gn,fn,Pn)=>{const $t=Pn.rootName,vt=dt(Gn,$t);we(rn=>({...rn,[$t]:Gn.getData({rootName:$t})})),Ne(rn=>({...rn,[$t]:Gn.getRootAttributes($t)})),Cn(rn=>[...rn,vt])})(Re,0,Bn)),Re.on("detachRoot",(ao,Bn)=>((Gn,fn,Pn)=>{const $t=Pn.rootName;Cn(vt=>vt.filter(rn=>rn.props.id!==$t)),we(vt=>{const{[$t]:rn,...sr}=vt;return{...sr}}),Ne(vt=>{const{[$t]:rn,...sr}=vt;return{...sr}}),Gn.detachEditable(Pn)})(Re,0,Bn)),Fe.on("focus",ao=>{I.onFocus&&I.onFocus(ao,Re)}),Fe.on("blur",ao=>{I.onBlur&&I.onBlur(ao,Re)}),ve(Re),I.onReady&&I.onReady(Re),Re}),hn=async()=>{ve(null),we({}),Ne({}),Cn([]),j.current=new Promise(Oe=>{setTimeout(async()=>M?(await M.destroy(),M=null,Oe()):se?(await se.destroy(),Oe()):void Oe())})},qn=async()=>{I.disableWatchdog?await Wn(I.data,wi()):M||(M=q instanceof ja?new th(q):new Tl(I.editor,I.watchdogConfig),M.setCreator((Oe,ut)=>Wn(Oe,ut)),M.on("error",(Oe,{error:ut,causesRestart:Re})=>{(I.onError||console.error)(ut,{phase:"runtime",willEditorRestart:Re})}),await M.create(ue,wi()).catch(Oe=>{(I.onError||console.error)(Oe,{phase:"initialization",willEditorRestart:!1})}))};(0,m.useEffect)(()=>{if(se&&on.current){on.current=!1;const Oe=Object.keys(ue),ut=Object.keys(ze);if(!Oe.every(fn=>ut.includes(fn)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Re=se.getFullData(),vi=se.getRootsAttributes(),{addedKeys:Fe,removedKeys:ao}=Ae(Re,ue||{}),Bn=Oe.some(fn=>Re[fn]!==void 0&&JSON.stringify(Re[fn])!==JSON.stringify(ue[fn])),Gn=ut.filter(fn=>JSON.stringify(vi[fn])!==JSON.stringify(ze[fn]));se.model.change(fn=>{Bt(Fe),Va(ao),Bn&&nh(),Gn.length&&ih(fn,Gn)})}},[ue,ze]);const Ae=(Oe,ut)=>{const Re=Object.keys(Oe),vi=Object.keys(ut);return{addedKeys:vi.filter(Fe=>!Re.includes(Fe)),removedKeys:Re.filter(Fe=>!vi.includes(Fe))}},Bt=Oe=>{Oe.forEach(ut=>{se.addRoot(ut,{data:ue[ut]||"",attributes:(ze==null?void 0:ze[ut])||{},isUndoable:!0})})},Va=Oe=>{Oe.forEach(ut=>{se.detachRoot(ut,!0)})},nh=()=>{se.data.set(ue,{suppressErrorInCollaboration:!0})},ih=(Oe,ut)=>{ut.forEach(Re=>{Object.keys(ze[Re]).forEach(vi=>{se.registerRootAttribute(vi)}),Oe.clearAttributes(se.model.document.getRoot(Re)),Oe.setAttributes(ze[Re],se.model.document.getRoot(Re))})},oh=(0,m.useCallback)(Oe=>{on.current=!0,we(Oe)},[we]),je=(0,m.useCallback)(Oe=>{on.current=!0,Ne(Oe)},[Ne]);return{editor:se,editableElements:$n,toolbarElement:Ri,data:ue,setData:oh,attributes:ze,setAttributes:je}}})(),f})())})(Cg,Cg.exports);var D8=Cg.exports,zt={exports:{}},Sn=zt.exports;(function(i){const n=i.en=i.en||{};n.dictionary=Object.assign(n.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Dim grey":"Dim grey",Disc:"Disc",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal line":"Horizontal line","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Save:"Save","Select all":"Select all","Show more items":"Show more items","Side image":"Side image",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,n){typeof Sn=="object"&&typeof zt=="object"?zt.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Sn=="object"?Sn.InlineEditor=n():i.InlineEditor=n()}(self,()=>(()=>{var i={8168:(u,h,f)=>{const m=f(8874),b={};for(const _ of Object.keys(m))b[m[_]]=_;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=v;for(const _ of Object.keys(v)){if(!("channels"in v[_]))throw new Error("missing channels property: "+_);if(!("labels"in v[_]))throw new Error("missing channel labels property: "+_);if(v[_].labels.length!==v[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:A,labels:x}=v[_];delete v[_].channels,delete v[_].labels,Object.defineProperty(v[_],"channels",{value:A}),Object.defineProperty(v[_],"labels",{value:x})}v.rgb.hsl=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(A,x,S),B=Math.max(A,x,S),R=B-T;let O,L;B===T?O=0:A===B?O=(x-S)/R:x===B?O=2+(S-A)/R:S===B&&(O=4+(A-x)/R),O=Math.min(60*O,360),O<0&&(O+=360);const E=(T+B)/2;return L=B===T?0:E<=.5?R/(B+T):R/(2-B-T),[O,100*L,100*E]},v.rgb.hsv=function(_){let A,x,S,T,B;const R=_[0]/255,O=_[1]/255,L=_[2]/255,E=Math.max(R,O,L),U=E-Math.min(R,O,L),G=function(te){return(E-te)/6/U+.5};return U===0?(T=0,B=0):(B=U/E,A=G(R),x=G(O),S=G(L),R===E?T=S-x:O===E?T=.3333333333333333+A-S:L===E&&(T=.6666666666666666+x-A),T<0?T+=1:T>1&&(T-=1)),[360*T,100*B,100*E]},v.rgb.hwb=function(_){const A=_[0],x=_[1];let S=_[2];const T=v.rgb.hsl(_)[0],B=1/255*Math.min(A,Math.min(x,S));return S=1-.00392156862745098*Math.max(A,Math.max(x,S)),[T,100*B,100*S]},v.rgb.cmyk=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(1-A,1-x,1-S);return[100*((1-A-T)/(1-T)||0),100*((1-x-T)/(1-T)||0),100*((1-S-T)/(1-T)||0),100*T]},v.rgb.keyword=function(_){const A=b[_];if(A)return A;let x,S=1/0;for(const R of Object.keys(m)){const O=m[R],L=(B=O,((T=_)[0]-B[0])**2+(T[1]-B[1])**2+(T[2]-B[2])**2);L<S&&(S=L,x=R)}var T,B;return x},v.keyword.rgb=function(_){return m[_]},v.rgb.xyz=function(_){let A=_[0]/255,x=_[1]/255,S=_[2]/255;return A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*A+.3576*x+.1805*S),100*(.2126*A+.7152*x+.0722*S),100*(.0193*A+.1192*x+.9505*S)]},v.rgb.lab=function(_){const A=v.rgb.xyz(_);let x=A[0],S=A[1],T=A[2];return x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*S-16,500*(x-S),200*(S-T)]},v.hsl.rgb=function(_){const A=_[0]/360,x=_[1]/100,S=_[2]/100;let T,B,R;if(x===0)return R=255*S,[R,R,R];T=S<.5?S*(1+x):S+x-S*x;const O=2*S-T,L=[0,0,0];for(let E=0;E<3;E++)B=A+.3333333333333333*-(E-1),B<0&&B++,B>1&&B--,R=6*B<1?O+6*(T-O)*B:2*B<1?T:3*B<2?O+(T-O)*(.6666666666666666-B)*6:O,L[E]=255*R;return L},v.hsl.hsv=function(_){const A=_[0];let x=_[1]/100,S=_[2]/100,T=x;const B=Math.max(S,.01);return S*=2,x*=S<=1?S:2-S,T*=B<=1?B:2-B,[A,100*(S===0?2*T/(B+T):2*x/(S+x)),100*((S+x)/2)]},v.hsv.rgb=function(_){const A=_[0]/60,x=_[1]/100;let S=_[2]/100;const T=Math.floor(A)%6,B=A-Math.floor(A),R=255*S*(1-x),O=255*S*(1-x*B),L=255*S*(1-x*(1-B));switch(S*=255,T){case 0:return[S,L,R];case 1:return[O,S,R];case 2:return[R,S,L];case 3:return[R,O,S];case 4:return[L,R,S];case 5:return[S,R,O]}},v.hsv.hsl=function(_){const A=_[0],x=_[1]/100,S=_[2]/100,T=Math.max(S,.01);let B,R;R=(2-x)*S;const O=(2-x)*T;return B=x*T,B/=O<=1?O:2-O,B=B||0,R/=2,[A,100*B,100*R]},v.hwb.rgb=function(_){const A=_[0]/360;let x=_[1]/100,S=_[2]/100;const T=x+S;let B;T>1&&(x/=T,S/=T);const R=Math.floor(6*A),O=1-S;B=6*A-R,1&R&&(B=1-B);const L=x+B*(O-x);let E,U,G;switch(R){default:case 6:case 0:E=O,U=L,G=x;break;case 1:E=L,U=O,G=x;break;case 2:E=x,U=O,G=L;break;case 3:E=x,U=L,G=O;break;case 4:E=L,U=x,G=O;break;case 5:E=O,U=x,G=L}return[255*E,255*U,255*G]},v.cmyk.rgb=function(_){const A=_[0]/100,x=_[1]/100,S=_[2]/100,T=_[3]/100;return[255*(1-Math.min(1,A*(1-T)+T)),255*(1-Math.min(1,x*(1-T)+T)),255*(1-Math.min(1,S*(1-T)+T))]},v.xyz.rgb=function(_){const A=_[0]/100,x=_[1]/100,S=_[2]/100;let T,B,R;return T=3.2406*A+-1.5372*x+-.4986*S,B=-.9689*A+1.8758*x+.0415*S,R=.0557*A+-.204*x+1.057*S,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,T=Math.min(Math.max(0,T),1),B=Math.min(Math.max(0,B),1),R=Math.min(Math.max(0,R),1),[255*T,255*B,255*R]},v.xyz.lab=function(_){let A=_[0],x=_[1],S=_[2];return A/=95.047,x/=100,S/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*x-16,500*(A-x),200*(x-S)]},v.lab.xyz=function(_){let A,x,S;x=(_[0]+16)/116,A=_[1]/500+x,S=x-_[2]/200;const T=x**3,B=A**3,R=S**3;return x=T>.008856?T:(x-.13793103448275862)/7.787,A=B>.008856?B:(A-.13793103448275862)/7.787,S=R>.008856?R:(S-.13793103448275862)/7.787,A*=95.047,x*=100,S*=108.883,[A,x,S]},v.lab.lch=function(_){const A=_[0],x=_[1],S=_[2];let T;return T=360*Math.atan2(S,x)/2/Math.PI,T<0&&(T+=360),[A,Math.sqrt(x*x+S*S),T]},v.lch.lab=function(_){const A=_[0],x=_[1],S=_[2]/360*2*Math.PI;return[A,x*Math.cos(S),x*Math.sin(S)]},v.rgb.ansi16=function(_,A=null){const[x,S,T]=_;let B=A===null?v.rgb.hsv(_)[2]:A;if(B=Math.round(B/50),B===0)return 30;let R=30+(Math.round(T/255)<<2|Math.round(S/255)<<1|Math.round(x/255));return B===2&&(R+=60),R},v.hsv.ansi16=function(_){return v.rgb.ansi16(v.hsv.rgb(_),_[2])},v.rgb.ansi256=function(_){const A=_[0],x=_[1],S=_[2];return A===x&&x===S?A<8?16:A>248?231:Math.round((A-8)/247*24)+232:16+36*Math.round(A/255*5)+6*Math.round(x/255*5)+Math.round(S/255*5)},v.ansi16.rgb=function(_){let A=_%10;if(A===0||A===7)return _>50&&(A+=3.5),A=A/10.5*255,[A,A,A];const x=.5*(1+~~(_>50));return[(1&A)*x*255,(A>>1&1)*x*255,(A>>2&1)*x*255]},v.ansi256.rgb=function(_){if(_>=232){const x=10*(_-232)+8;return[x,x,x]}let A;return _-=16,[Math.floor(_/36)/5*255,Math.floor((A=_%36)/6)/5*255,A%6/5*255]},v.rgb.hex=function(_){const A=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(A.length)+A},v.hex.rgb=function(_){const A=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!A)return[0,0,0];let x=A[0];A[0].length===3&&(x=x.split("").map(T=>T+T).join(""));const S=parseInt(x,16);return[S>>16&255,S>>8&255,255&S]},v.rgb.hcg=function(_){const A=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.max(Math.max(A,x),S),B=Math.min(Math.min(A,x),S),R=T-B;let O,L;return O=R<1?B/(1-R):0,L=R<=0?0:T===A?(x-S)/R%6:T===x?2+(S-A)/R:4+(A-x)/R,L/=6,L%=1,[360*L,100*R,100*O]},v.hsl.hcg=function(_){const A=_[1]/100,x=_[2]/100,S=x<.5?2*A*x:2*A*(1-x);let T=0;return S<1&&(T=(x-.5*S)/(1-S)),[_[0],100*S,100*T]},v.hsv.hcg=function(_){const A=_[1]/100,x=_[2]/100,S=A*x;let T=0;return S<1&&(T=(x-S)/(1-S)),[_[0],100*S,100*T]},v.hcg.rgb=function(_){const A=_[0]/360,x=_[1]/100,S=_[2]/100;if(x===0)return[255*S,255*S,255*S];const T=[0,0,0],B=A%1*6,R=B%1,O=1-R;let L=0;switch(Math.floor(B)){case 0:T[0]=1,T[1]=R,T[2]=0;break;case 1:T[0]=O,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=R;break;case 3:T[0]=0,T[1]=O,T[2]=1;break;case 4:T[0]=R,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=O}return L=(1-x)*S,[255*(x*T[0]+L),255*(x*T[1]+L),255*(x*T[2]+L)]},v.hcg.hsv=function(_){const A=_[1]/100,x=A+_[2]/100*(1-A);let S=0;return x>0&&(S=A/x),[_[0],100*S,100*x]},v.hcg.hsl=function(_){const A=_[1]/100,x=_[2]/100*(1-A)+.5*A;let S=0;return x>0&&x<.5?S=A/(2*x):x>=.5&&x<1&&(S=A/(2*(1-x))),[_[0],100*S,100*x]},v.hcg.hwb=function(_){const A=_[1]/100,x=A+_[2]/100*(1-A);return[_[0],100*(x-A),100*(1-x)]},v.hwb.hcg=function(_){const A=_[1]/100,x=1-_[2]/100,S=x-A;let T=0;return S<1&&(T=(x-S)/(1-S)),[_[0],100*S,100*T]},v.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},v.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},v.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},v.gray.hsl=function(_){return[0,0,_[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(_){return[0,100,_[0]]},v.gray.cmyk=function(_){return[0,0,0,_[0]]},v.gray.lab=function(_){return[_[0],0,0]},v.gray.hex=function(_){const A=255&Math.round(_[0]/100*255),x=((A<<16)+(A<<8)+A).toString(16).toUpperCase();return"000000".substring(x.length)+x},v.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},2085:(u,h,f)=>{const m=f(8168),b=f(4111),v={};Object.keys(m).forEach(_=>{v[_]={},Object.defineProperty(v[_],"channels",{value:m[_].channels}),Object.defineProperty(v[_],"labels",{value:m[_].labels});const A=b(_);Object.keys(A).forEach(x=>{const S=A[x];v[_][x]=function(T){const B=function(...R){const O=R[0];if(O==null)return O;O.length>1&&(R=O);const L=T(R);if(typeof L=="object")for(let E=L.length,U=0;U<E;U++)L[U]=Math.round(L[U]);return L};return"conversion"in T&&(B.conversion=T.conversion),B}(S),v[_][x].raw=function(T){const B=function(...R){const O=R[0];return O==null?O:(O.length>1&&(R=O),T(R))};return"conversion"in T&&(B.conversion=T.conversion),B}(S)})}),u.exports=v},4111:(u,h,f)=>{const m=f(8168);function b(A){const x=function(){const T={},B=Object.keys(m);for(let R=B.length,O=0;O<R;O++)T[B[O]]={distance:-1,parent:null};return T}(),S=[A];for(x[A].distance=0;S.length;){const T=S.pop(),B=Object.keys(m[T]);for(let R=B.length,O=0;O<R;O++){const L=B[O],E=x[L];E.distance===-1&&(E.distance=x[T].distance+1,E.parent=T,S.unshift(L))}}return x}function v(A,x){return function(S){return x(A(S))}}function _(A,x){const S=[x[A].parent,A];let T=m[x[A].parent][A],B=x[A].parent;for(;x[B].parent;)S.unshift(x[B].parent),T=v(m[x[B].parent][B],T),B=x[B].parent;return T.conversion=S,T}u.exports=function(A){const x=b(A),S={},T=Object.keys(x);for(let B=T.length,R=0;R<B;R++){const O=T[R];x[O].parent!==null&&(S[O]=_(O,x))}return S}},8874:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const A=_},3789:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const A=_},799:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const A=_},7372:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const A=_},5037:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const A=_},4249:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const A=_},9893:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const A=_},2430:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const A=_},2423:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const A=_},8879:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD,CCfA,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const A=_},8340:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=_},2400:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const A=_},3534:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},1547:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const A=_},6618:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const A=_},2926:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const A=_},5269:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},3925:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const A=_},7536:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CCtDD,oCD0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CCzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4874:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},4330:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const A=_},5782:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`],sourceRoot:""}]);const A=_},3190:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const A=_},4784:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},9938:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const A=_},2591:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const A=_},9292:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const A=_},8705:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const A=_},1922:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},7138:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4029:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},4971:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=_},7258:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=_},4923:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const A=_},4257:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const A=_},6306:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const A=_},5062:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},1883:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4791:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},2704:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const A=_},9847:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},1874:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCXD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAkBD,CAbC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const A=_},4746:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const A=_},1977:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const A=_},2470:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},3525:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const A=_},2933:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,4WAGE,+HAYF,CAfA,4WAOE,wIAQF,CAfA,wVAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},179:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,oJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAgED,CA9DC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA6CD,CA/CA,uCAME,eAyCF,CA/CA,uCAUE,gBAqCF,CA/CA,6BAgBC,qCA+BD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},4460:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},7592:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const A=_},6356:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},3707:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},6603:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CCvBD,oCDMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CCpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},9332:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const A=_},6446:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const A=_},5224:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const A=_},4176:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const A=_},4768:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=_},3888:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const A=_},5167:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CC3GhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJ2GD,CIrGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const A=_},7153:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=_},4875:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const A=_},2347:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const A=_},5948:(u,h,f)=>{f.d(h,{Z:()=>A});var m=f(4015),b=f.n(m),v=f(3645),_=f.n(v)()(b());_.push([u.id,".ck-editor.ck-plugin-full-screen{align-items:center;background-color:#fff;display:flex;flex-direction:column;height:100vh;left:0;position:fixed;top:0;width:100%;z-index:100}.ck-editor.ck-plugin-full-screen .ck-editor__main,.ck-editor.ck-plugin-full-screen .ck-editor__top{max-width:1000px;width:100%}.ck-editor.ck-plugin-full-screen .ck-editor__top{margin-top:2em}.ck-editor.ck-plugin-full-screen .ck-editor__main{flex-grow:1;margin-bottom:2em;overflow-y:hidden}.ck-editor.ck-plugin-full-screen .ck-source-editing-area{height:100%}.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea{overflow-y:scroll}","",{version:3,sources:["webpack://./plugins/fullscreen/theme/fullscreen.css"],names:[],mappings:"AAAA,iCASE,kBAAmB,CACnB,qBAAsB,CAHtB,YAAa,CACb,qBAAsB,CAFtB,YAAa,CAHb,MAAO,CAFP,cAAe,CACf,KAAM,CAGN,UAAW,CADX,WAOF,CAEA,mGAGE,gBAAiB,CADjB,UAEF,CAEA,iDACE,cACF,CAEA,kDAEE,WAAY,CAEZ,iBAAkB,CADlB,iBAEF,CAGA,yDACE,WACF,CAEA,kEACE,iBACF",sourcesContent:[`.ck-editor.ck-plugin-full-screen {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #fff;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top,
.ck-editor.ck-plugin-full-screen .ck-editor__main {
  width: 100%;
  max-width: 1000px;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top {
  margin-top: 2em;
}

.ck-editor.ck-plugin-full-screen .ck-editor__main {
  /* Fill the rest of the height of the parent */
  flex-grow: 1;
  overflow-y: hidden;
  margin-bottom: 2em;
}

/* Make source view also cover the whole viewport */
.ck-editor.ck-plugin-full-screen .ck-source-editing-area {
  height: 100%;
}

.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea {
  overflow-y: scroll;
}
`],sourceRoot:""}]);const A=_},3645:u=>{u.exports=function(h){var f=[];return f.toString=function(){return this.map(function(m){var b=h(m);return m[2]?"@media ".concat(m[2]," {").concat(b,"}"):b}).join("")},f.i=function(m,b,v){typeof m=="string"&&(m=[[null,m,""]]);var _={};if(v)for(var A=0;A<this.length;A++){var x=this[A][0];x!=null&&(_[x]=!0)}for(var S=0;S<m.length;S++){var T=[].concat(m[S]);v&&_[T[0]]||(b&&(T[2]?T[2]="".concat(b," and ").concat(T[2]):T[2]=b),f.push(T))}},f}},4015:u=>{function h(m,b){return function(v){if(Array.isArray(v))return v}(m)||function(v,_){var A=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(A!=null){var x,S,T=[],B=!0,R=!1;try{for(A=A.call(v);!(B=(x=A.next()).done)&&(T.push(x.value),!_||T.length!==_);B=!0);}catch(O){R=!0,S=O}finally{try{B||A.return==null||A.return()}finally{if(R)throw S}}return T}}(m,b)||function(v,_){if(v){if(typeof v=="string")return f(v,_);var A=Object.prototype.toString.call(v).slice(8,-1);if(A==="Object"&&v.constructor&&(A=v.constructor.name),A==="Map"||A==="Set")return Array.from(v);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(v,_)}}(m,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(m,b){(b==null||b>m.length)&&(b=m.length);for(var v=0,_=new Array(b);v<b;v++)_[v]=m[v];return _}u.exports=function(m){var b=h(m,4),v=b[1],_=b[3];if(!_)return v;if(typeof btoa=="function"){var A=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),S="/*# ".concat(x," */"),T=_.sources.map(function(B){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(B," */")});return[v].concat(T).concat([S]).join(`
`)}return[v].join(`
`)}},3379:(u,h,f)=>{var m,b=function(){return m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m},v=function(){var G={};return function(te){if(G[te]===void 0){var J=document.querySelector(te);if(window.HTMLIFrameElement&&J instanceof window.HTMLIFrameElement)try{J=J.contentDocument.head}catch{J=null}G[te]=J}return G[te]}}(),_=[];function A(G){for(var te=-1,J=0;J<_.length;J++)if(_[J].identifier===G){te=J;break}return te}function x(G,te){for(var J={},oe=[],le=0;le<G.length;le++){var pe=G[le],K=te.base?pe[0]+te.base:pe[0],Z=J[K]||0,$="".concat(K," ").concat(Z);J[K]=Z+1;var V=A($),H={css:pe[1],media:pe[2],sourceMap:pe[3]};V!==-1?(_[V].references++,_[V].updater(H)):_.push({identifier:$,updater:U(H,te),references:1}),oe.push($)}return oe}function S(G){var te=document.createElement("style"),J=G.attributes||{};if(J.nonce===void 0){var oe=f.nc;oe&&(J.nonce=oe)}if(Object.keys(J).forEach(function(pe){te.setAttribute(pe,J[pe])}),typeof G.insert=="function")G.insert(te);else{var le=v(G.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(te)}return te}var T,B=(T=[],function(G,te){return T[G]=te,T.filter(Boolean).join(`
`)});function R(G,te,J,oe){var le=J?"":oe.media?"@media ".concat(oe.media," {").concat(oe.css,"}"):oe.css;if(G.styleSheet)G.styleSheet.cssText=B(te,le);else{var pe=document.createTextNode(le),K=G.childNodes;K[te]&&G.removeChild(K[te]),K.length?G.insertBefore(pe,K[te]):G.appendChild(pe)}}function O(G,te,J){var oe=J.css,le=J.media,pe=J.sourceMap;if(le?G.setAttribute("media",le):G.removeAttribute("media"),pe&&typeof btoa<"u"&&(oe+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(pe))))," */")),G.styleSheet)G.styleSheet.cssText=oe;else{for(;G.firstChild;)G.removeChild(G.firstChild);G.appendChild(document.createTextNode(oe))}}var L=null,E=0;function U(G,te){var J,oe,le;if(te.singleton){var pe=E++;J=L||(L=S(te)),oe=R.bind(null,J,pe,!1),le=R.bind(null,J,pe,!0)}else J=S(te),oe=O.bind(null,J,te),le=function(){(function(K){if(K.parentNode===null)return!1;K.parentNode.removeChild(K)})(J)};return oe(G),function(K){if(K){if(K.css===G.css&&K.media===G.media&&K.sourceMap===G.sourceMap)return;oe(G=K)}else le()}}u.exports=function(G,te){(te=te||{}).singleton||typeof te.singleton=="boolean"||(te.singleton=b());var J=x(G=G||[],te);return function(oe){if(oe=oe||[],Object.prototype.toString.call(oe)==="[object Array]"){for(var le=0;le<J.length;le++){var pe=A(J[le]);_[pe].references--}for(var K=x(oe,te),Z=0;Z<J.length;Z++){var $=A(J[Z]);_[$].references===0&&(_[$].updater(),_.splice($,1))}J=K}}}}},n={};function r(u){var h=n[u];if(h!==void 0)return h.exports;var f=n[u]={id:u,exports:{}};return i[u](f,f.exports,r),f.exports}r.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return r.d(h,{a:h}),h},r.d=(u,h)=>{for(var f in h)r.o(h,f)&&!r.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:h[f]})},r.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),r.nc=void 0;var c={};return(()=>{r.d(c,{default:()=>AP});const u=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),h={isMac:m(u),isWindows:function(a){return a.indexOf("windows")>-1}(u),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(u),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(u),isiOS:function(a){return!!a.match(/iphone|ipad/i)||m(a)&&navigator.maxTouchPoints>0}(u),isAndroid:function(a){return a.indexOf("android")>-1}(u),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(u),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}},f=h;function m(a){return a.indexOf("macintosh")>-1}function b(a,e,t,o){t=t||function(p,k){return p===k};const s=Array.isArray(a)?a:Array.prototype.slice.call(a),l=Array.isArray(e)?e:Array.prototype.slice.call(e),d=function(p,k,w){const y=v(p,k,w);if(y===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const C=_(p,y),D=_(k,y),N=v(C,D,w),P=p.length-N,z=k.length-N;return{firstIndex:y,lastIndexOld:P,lastIndexNew:z}}(s,l,t);return o?function(p,k){const{firstIndex:w,lastIndexOld:y,lastIndexNew:C}=p;if(w===-1)return Array(k).fill("equal");let D=[];return w>0&&(D=D.concat(Array(w).fill("equal"))),C-w>0&&(D=D.concat(Array(C-w).fill("insert"))),y-w>0&&(D=D.concat(Array(y-w).fill("delete"))),C<k&&(D=D.concat(Array(k-C).fill("equal"))),D}(d,l.length):function(p,k){const w=[],{firstIndex:y,lastIndexOld:C,lastIndexNew:D}=k;return D-y>0&&w.push({index:y,type:"insert",values:p.slice(y,D)}),C-y>0&&w.push({index:y+(D-y),type:"delete",howMany:C-y}),w}(l,d)}function v(a,e,t){for(let o=0;o<Math.max(a.length,e.length);o++)if(a[o]===void 0||e[o]===void 0||!t(a[o],e[o]))return o;return-1}function _(a,e){return a.slice(e).reverse()}function A(a,e,t){t=t||function(P,z){return P===z};const o=a.length,s=e.length;if(o>200||s>200||o+s>300)return A.fastDiff(a,e,t,!0);let l,d;if(s<o){const P=a;a=e,e=P,l="delete",d="insert"}else l="insert",d="delete";const g=a.length,p=e.length,k=p-g,w={},y={};function C(P){const z=(y[P-1]!==void 0?y[P-1]:-1)+1,W=y[P+1]!==void 0?y[P+1]:-1,Q=z>W?-1:1;w[P+Q]&&(w[P]=w[P+Q].slice(0)),w[P]||(w[P]=[]),w[P].push(z>W?l:d);let ce=Math.max(z,W),xe=ce-P;for(;xe<g&&ce<p&&t(a[xe],e[ce]);)xe++,ce++,w[P].push("equal");return ce}let D,N=0;do{for(D=-N;D<k;D++)y[D]=C(D);for(D=k+N;D>k;D--)y[D]=C(D);y[k]=C(k),N++}while(y[k]!==p);return w[k].slice(1)}A.fastDiff=b;const x=function(){return function a(){a.called=!0}};class S{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=x(),this.off=x()}}const T=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function B(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+T[a>>0&255]+T[a>>8&255]+T[a>>16&255]+T[a>>24&255]+T[e>>0&255]+T[e>>8&255]+T[e>>16&255]+T[e>>24&255]+T[t>>0&255]+T[t>>8&255]+T[t>>16&255]+T[t>>24&255]+T[o>>0&255]+T[o>>8&255]+T[o>>16&255]+T[o>>24&255]}const R={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function O(a,e){const t=R.get(e.priority);for(let o=0;o<a.length;o++)if(R.get(a[o].priority)<t)return void a.splice(o,0,e);a.push(e)}const L="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class E extends Error{constructor(e,t,o){super(function(s,l){const d=new WeakSet,g=(w,y)=>{if(typeof y=="object"&&y!==null){if(d.has(y))return`[object ${y.constructor.name}]`;d.add(y)}return y},p=l?` ${JSON.stringify(l,g)}`:"",k=G(s);return s+p+k}(e,o)),this.name="CKEditorError",this.context=t,this.data=o}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const o=new E(e.message,t);throw o.stack=e.stack,o}}function U(a,e){console.warn(...te(a,e))}function G(a){return`
Read more: ${L}#error-${a}`}function te(a,e){const t=G(a);return e?[a,e,t]:[a,t]}const J="40.0.0",oe=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new E("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=J;const le=Symbol("listeningTo"),pe=Symbol("emitterId"),K=Symbol("delegations"),Z=$(Object);function $(a){return a?class extends a{on(e,t,o){this.listenTo(this,e,t,o)}once(e,t,o){let s=!1;this.listenTo(this,e,(l,...d)=>{s||(s=!0,l.off(),t.call(this,l,...d))},o)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,o,s={}){let l,d;this[le]||(this[le]={});const g=this[le];H(e)||V(e);const p=H(e);(l=g[p])||(l=g[p]={emitter:e,callbacks:{}}),(d=l.callbacks[t])||(d=l.callbacks[t]=[]),d.push(o),function(k,w,y,C,D){w._addEventListener?w._addEventListener(y,C,D):k._addEventListener.call(w,y,C,D)}(this,e,t,o,s)}stopListening(e,t,o){const s=this[le];let l=e&&H(e);const d=s&&l?s[l]:void 0,g=d&&t?d.callbacks[t]:void 0;if(!(!s||e&&!d||t&&!g))if(o)ge(this,e,t,o),g.indexOf(o)!==-1&&(g.length===1?delete d.callbacks[t]:ge(this,e,t,o));else if(g){for(;o=g.pop();)ge(this,e,t,o);delete d.callbacks[t]}else if(d){for(t in d.callbacks)this.stopListening(e,t);delete s[l]}else{for(l in s)this.stopListening(s[l].emitter);delete this[le]}}fire(e,...t){try{const o=e instanceof S?e:new S(this,e),s=o.name;let l=ie(this,s);if(o.path.push(this),l){const g=[o,...t];l=Array.from(l);for(let p=0;p<l.length&&(l[p].callback.apply(this,g),o.off.called&&(delete o.off.called,this._removeEventListener(s,l[p].callback)),!o.stop.called);p++);}const d=this[K];if(d){const g=d.get(s),p=d.get("*");g&&ne(g,o,t),p&&ne(p,o,t)}return o.return}catch(o){E.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(t,o)=>{this[K]||(this[K]=new Map),e.forEach(s=>{const l=this[K].get(s);l?l.set(t,o):this[K].set(s,new Map([[t,o]]))})}}}stopDelegating(e,t){if(this[K])if(e)if(t){const o=this[K].get(e);o&&o.delete(t)}else this[K].delete(e);else this[K].clear()}_addEventListener(e,t,o){(function(d,g){const p=X(d);if(p[g])return;let k=g,w=null;const y=[];for(;k!==""&&!p[k];)p[k]={callbacks:[],childEvents:[]},y.push(p[k]),w&&p[k].childEvents.push(w),w=k,k=k.substr(0,k.lastIndexOf(":"));if(k!==""){for(const C of y)C.callbacks=p[k].callbacks.slice();p[k].childEvents.push(w)}})(this,e);const s=re(this,e),l={callback:t,priority:R.get(o.priority)};for(const d of s)O(d,l)}_removeEventListener(e,t){const o=re(this,e);for(const s of o)for(let l=0;l<s.length;l++)s[l].callback==t&&(s.splice(l,1),l--)}}:Z}function V(a,e){a[pe]||(a[pe]=e||B())}function H(a){return a[pe]}function X(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function re(a,e){const t=X(a)[e];if(!t)return[];let o=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const l=re(a,t.childEvents[s]);o=o.concat(l)}return o}function ie(a,e){let t;return a._events&&(t=a._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?ie(a,e.substr(0,e.lastIndexOf(":"))):null}function ne(a,e,t){for(let[o,s]of a){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const l=new S(e.source,s);l.path=[...e.path],o.fire(l,...t)}}function ge(a,e,t,o){e._removeEventListener?e._removeEventListener(t,o):a._removeEventListener.call(e,t,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{$[a]=Z.prototype[a]});const me=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},Ee=Symbol("observableProperties"),lt=Symbol("boundObservables"),Ct=Symbol("boundProperties"),mt=Symbol("decoratedMethods"),Ie=Symbol("decoratedOriginal"),Mn=Me($());function Me(a){return a?class extends a{set(e,t){if(me(e))return void Object.keys(e).forEach(s=>{this.set(s,e[s])},this);cn(this);const o=this[Ee];if(e in this&&!o.has(e))throw new E("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(s){const l=o.get(e);let d=this.fire(`set:${e}`,e,s,l);d===void 0&&(d=s),l===d&&o.has(e)||(o.set(e,d),this.fire(`change:${e}`,e,d,l))}}),this[e]=t}bind(...e){if(!e.length||!Ko(e))throw new E("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new E("observable-bind-duplicate-properties",this);cn(this);const t=this[Ct];e.forEach(s=>{if(t.has(s))throw new E("observable-bind-rebind",this)});const o=new Map;return e.forEach(s=>{const l={property:s,to:[]};t.set(s,l),o.set(s,l)}),{to:Li,toMany:io,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[Ee])return;const t=this[Ct],o=this[lt];if(e.length){if(!Ko(e))throw new E("observable-unbind-wrong-properties",this);e.forEach(s=>{const l=t.get(s);l&&(l.to.forEach(([d,g])=>{const p=o.get(d),k=p[g];k.delete(l),k.size||delete p[g],Object.keys(p).length||(o.delete(d),this.stopListening(d,"change"))}),t.delete(s))})}else o.forEach((s,l)=>{this.stopListening(l,"change")}),o.clear(),t.clear()}decorate(e){cn(this);const t=this[e];if(!t)throw new E("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,s)=>{o.return=t.apply(this,s)}),this[e]=function(...o){return this.fire(e,o)},this[e][Ie]=t,this[mt]||(this[mt]=[]),this[mt].push(e)}stopListening(e,t,o){if(!e&&this[mt]){for(const s of this[mt])this[s]=this[s][Ie];delete this[mt]}super.stopListening(e,t,o)}}:Mn}function cn(a){a[Ee]||(Object.defineProperty(a,Ee,{value:new Map}),Object.defineProperty(a,lt,{value:new Map}),Object.defineProperty(a,Ct,{value:new Map}))}function Li(...a){const e=function(...l){if(!l.length)throw new E("observable-bind-to-parse-error",null);const d={to:[]};let g;return typeof l[l.length-1]=="function"&&(d.callback=l.pop()),l.forEach(p=>{if(typeof p=="string")g.properties.push(p);else{if(typeof p!="object")throw new E("observable-bind-to-parse-error",null);g={observable:p,properties:[]},d.to.push(g)}}),d}(...a),t=Array.from(this._bindings.keys()),o=t.length;if(!e.callback&&e.to.length>1)throw new E("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new E("observable-bind-to-extra-callback",this);var s;e.to.forEach(l=>{if(l.properties.length&&l.properties.length!==o)throw new E("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),s=this._observable,this._to.forEach(l=>{const d=s[lt];let g;d.get(l.observable)||s.listenTo(l.observable,"change",(p,k)=>{g=d.get(l.observable)[k],g&&g.forEach(w=>{Eo(s,w.property)})})}),function(l){let d;l._bindings.forEach((g,p)=>{l._to.forEach(k=>{d=k.properties[g.callback?0:l._bindProperties.indexOf(p)],g.to.push([k.observable,d]),function(w,y,C,D){const N=w[lt],P=N.get(C),z=P||{};z[D]||(z[D]=new Set),z[D].add(y),P||N.set(C,z)}(l._observable,g,k.observable,d)})})}(this),this._bindProperties.forEach(l=>{Eo(this._observable,l)})}function io(a,e,t){if(this._bindings.size>1)throw new E("observable-bind-to-many-not-one-binding",this);this.to(...function(o,s){const l=o.map(d=>[d,s]);return Array.prototype.concat.apply([],l)}(a,e),t)}function Ko(a){return a.every(e=>typeof e=="string")}function Eo(a,e){const t=a[Ct].get(e);let o;t.callback?o=t.callback.apply(a,t.to.map(s=>s[0][s[1]])):(o=t.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=o:a.set(e,o)}function oo(a){let e=0;for(const t of a)e++;return e}function Dt(a,e){const t=Math.min(a.length,e.length);for(let o=0;o<t;o++)if(a[o]!=e[o])return o;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function Yt(a){return!(!a||!a[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Me[a]=Mn.prototype[a]});const ln=typeof global=="object"&&global&&global.Object===Object&&global;var Zo=typeof self=="object"&&self&&self.Object===Object&&self;const Kt=ln||Zo||Function("return this")(),Rt=Kt.Symbol;var et=Object.prototype,Qo=et.hasOwnProperty,Jo=et.toString,mi=Rt?Rt.toStringTag:void 0;const Or=function(a){var e=Qo.call(a,mi),t=a[mi];try{a[mi]=void 0;var o=!0}catch{}var s=Jo.call(a);return o&&(e?a[mi]=t:delete a[mi]),s};var Br=Object.prototype.toString;const ti=function(a){return Br.call(a)};var Nn=Rt?Rt.toStringTag:void 0;const _n=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Nn&&Nn in Object(a)?Or(a):ti(a)},wt=Array.isArray,Ft=function(a){return a!=null&&typeof a=="object"},ni=function(a){return typeof a=="string"||!wt(a)&&Ft(a)&&_n(a)=="[object String]"};function zi(a,e,t={},o=[]){const s=t&&t.xmlns,l=s?a.createElementNS(s,e):a.createElement(e);for(const d in t)l.setAttribute(d,t[d]);!ni(o)&&Yt(o)||(o=[o]);for(let d of o)ni(d)&&(d=a.createTextNode(d)),l.appendChild(d);return l}const ji=function(a,e){return function(t){return a(e(t))}},tn=ji(Object.getPrototypeOf,Object);var yn=Function.prototype,Xo=Object.prototype,An=yn.toString,ro=Xo.hasOwnProperty,So=An.call(Object);const Vt=function(a){if(!Ft(a)||_n(a)!="[object Object]")return!1;var e=tn(a);if(e===null)return!0;var t=ro.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&An.call(t)==So},Ut=function(){this.__data__=[],this.size=0},Ht=function(a,e){return a===e||a!=a&&e!=e},Ce=function(a,e){for(var t=a.length;t--;)if(Ht(a[t][0],e))return t;return-1};var We=Array.prototype.splice;const nn=function(a){var e=this.__data__,t=Ce(e,a);return!(t<0)&&(t==e.length-1?e.pop():We.call(e,t,1),--this.size,!0)},On=function(a){var e=this.__data__,t=Ce(e,a);return t<0?void 0:e[t][1]},ii=function(a){return Ce(this.__data__,a)>-1},ke=function(a,e){var t=this.__data__,o=Ce(t,a);return o<0?(++this.size,t.push([a,e])):t[o][1]=e,this};function De(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}De.prototype.clear=Ut,De.prototype.delete=nn,De.prototype.get=On,De.prototype.has=ii,De.prototype.set=ke;const Se=De,xt=function(){this.__data__=new Se,this.size=0},Et=function(a){var e=this.__data__,t=e.delete(a);return this.size=e.size,t},oi=function(a){return this.__data__.get(a)},ki=function(a){return this.__data__.has(a)},Tt=function(a){if(!me(a))return!1;var e=_n(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},It=Kt["__core-js_shared__"];var ot=function(){var a=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const er=function(a){return!!ot&&ot in a};var ol=Function.prototype.toString;const Hn=function(a){if(a!=null){try{return ol.call(a)}catch{}try{return a+""}catch{}}return""};var Ca=/^\[object .+?Constructor\]$/,xa=Function.prototype,Ea=Object.prototype,rt=xa.toString,dn=Ea.hasOwnProperty,Ts=RegExp("^"+rt.call(dn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const tr=function(a){return!(!me(a)||er(a))&&(Tt(a)?Ts:Ca).test(Hn(a))},Do=function(a,e){return a==null?void 0:a[e]},bi=function(a,e){var t=Do(a,e);return tr(t)?t:void 0},Is=bi(Kt,"Map"),Pr=bi(Object,"create"),yu=function(){this.__data__=Pr?Pr(null):{},this.size=0},np=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var Au=Object.prototype.hasOwnProperty;const Sa=function(a){var e=this.__data__;if(Pr){var t=e[a];return t==="__lodash_hash_undefined__"?void 0:t}return Au.call(e,a)?e[a]:void 0};var ip=Object.prototype.hasOwnProperty;const Cu=function(a){var e=this.__data__;return Pr?e[a]!==void 0:ip.call(e,a)},xu=function(a,e){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=Pr&&e===void 0?"__lodash_hash_undefined__":e,this};function Lr(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}Lr.prototype.clear=yu,Lr.prototype.delete=np,Lr.prototype.get=Sa,Lr.prototype.has=Cu,Lr.prototype.set=xu;const Eu=Lr,op=function(){this.size=0,this.__data__={hash:new Eu,map:new(Is||Se),string:new Eu}},rl=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},Da=function(a,e){var t=a.__data__;return rl(e)?t[typeof e=="string"?"string":"hash"]:t.map},Su=function(a){var e=Da(this,a).delete(a);return this.size-=e?1:0,e},Du=function(a){return Da(this,a).get(a)},Tu=function(a){return Da(this,a).has(a)},Iu=function(a,e){var t=Da(this,a),o=t.size;return t.set(a,e),this.size+=t.size==o?0:1,this};function zr(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}zr.prototype.clear=op,zr.prototype.delete=Su,zr.prototype.get=Du,zr.prototype.has=Tu,zr.prototype.set=Iu;const Ta=zr,Mu=function(a,e){var t=this.__data__;if(t instanceof Se){var o=t.__data__;if(!Is||o.length<199)return o.push([a,e]),this.size=++t.size,this;t=this.__data__=new Ta(o)}return t.set(a,e),this.size=t.size,this};function Qe(a){var e=this.__data__=new Se(a);this.size=e.size}Qe.prototype.clear=xt,Qe.prototype.delete=Et,Qe.prototype.get=oi,Qe.prototype.has=ki,Qe.prototype.set=Mu;const Ms=Qe,sl=function(a,e){for(var t=-1,o=a==null?0:a.length;++t<o&&e(a[t],t,a)!==!1;);return a},Ns=function(){try{var a=bi(Object,"defineProperty");return a({},"",{}),a}catch{}}(),nr=function(a,e,t){e=="__proto__"&&Ns?Ns(a,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):a[e]=t};var al=Object.prototype.hasOwnProperty;const To=function(a,e,t){var o=a[e];al.call(a,e)&&Ht(o,t)&&(t!==void 0||e in a)||nr(a,e,t)},ir=function(a,e,t,o){var s=!t;t||(t={});for(var l=-1,d=e.length;++l<d;){var g=e[l],p=o?o(t[g],a[g],g,t,a):void 0;p===void 0&&(p=a[g]),s?nr(t,g,p):To(t,g,p)}return t},rp=function(a,e){for(var t=-1,o=Array(a);++t<a;)o[t]=e(t);return o},Nu=function(a){return Ft(a)&&_n(a)=="[object Arguments]"};var cl=Object.prototype,sp=cl.hasOwnProperty,ll=cl.propertyIsEnumerable;const dl=Nu(function(){return arguments}())?Nu:function(a){return Ft(a)&&sp.call(a,"callee")&&!ll.call(a,"callee")},ap=function(){return!1};var Ou=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,ul=Ou&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,Ia=ul&&ul.exports===Ou?Kt.Buffer:void 0;const Os=(Ia?Ia.isBuffer:void 0)||ap;var cp=/^(?:0|[1-9]\d*)$/;const hl=function(a,e){var t=typeof a;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&cp.test(a))&&a>-1&&a%1==0&&a<e},Bu=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;const lp=function(a){return Ft(a)&&Bu(a.length)&&!!st[_n(a)]},Ma=function(a){return function(e){return a(e)}};var fl=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,jr=fl&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,Na=jr&&jr.exports===fl&&ln.process;const Rr=function(){try{var a=jr&&jr.require&&jr.require("util").types;return a||Na&&Na.binding&&Na.binding("util")}catch{}}();var Pu=Rr&&Rr.isTypedArray;const gl=Pu?Ma(Pu):lp;var Lu=Object.prototype.hasOwnProperty;const zu=function(a,e){var t=wt(a),o=!t&&dl(a),s=!t&&!o&&Os(a),l=!t&&!o&&!s&&gl(a),d=t||o||s||l,g=d?rp(a.length,String):[],p=g.length;for(var k in a)!e&&!Lu.call(a,k)||d&&(k=="length"||s&&(k=="offset"||k=="parent")||l&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||hl(k,p))||g.push(k);return g};var ju=Object.prototype;const Bs=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||ju)},dp=ji(Object.keys,Object);var Ru=Object.prototype.hasOwnProperty;const Fu=function(a){if(!Bs(a))return dp(a);var e=[];for(var t in Object(a))Ru.call(a,t)&&t!="constructor"&&e.push(t);return e},Oa=function(a){return a!=null&&Bu(a.length)&&!Tt(a)},Ba=function(a){return Oa(a)?zu(a):Fu(a)},up=function(a,e){return a&&ir(e,Ba(e),a)},hp=function(a){var e=[];if(a!=null)for(var t in Object(a))e.push(t);return e};var pl=Object.prototype.hasOwnProperty;const ml=function(a){if(!me(a))return hp(a);var e=Bs(a),t=[];for(var o in a)(o!="constructor"||!e&&pl.call(a,o))&&t.push(o);return t},Io=function(a){return Oa(a)?zu(a,!0):ml(a)},kl=function(a,e){return a&&ir(e,Io(e),a)};var bl=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,wl=bl&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,vl=wl&&wl.exports===bl?Kt.Buffer:void 0,_l=vl?vl.allocUnsafe:void 0;const yl=function(a,e){if(e)return a.slice();var t=a.length,o=_l?_l(t):new a.constructor(t);return a.copy(o),o},Vu=function(a,e){var t=-1,o=a.length;for(e||(e=Array(o));++t<o;)e[t]=a[t];return e},fp=function(a,e){for(var t=-1,o=a==null?0:a.length,s=0,l=[];++t<o;){var d=a[t];e(d,t,a)&&(l[s++]=d)}return l},Uu=function(){return[]};var gp=Object.prototype.propertyIsEnumerable,Hu=Object.getOwnPropertySymbols;const so=Hu?function(a){return a==null?[]:(a=Object(a),fp(Hu(a),function(e){return gp.call(a,e)}))}:Uu,Al=function(a,e){return ir(a,so(a),e)},$u=function(a,e){for(var t=-1,o=e.length,s=a.length;++t<o;)a[s+t]=e[t];return a},Wu=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)$u(e,so(a)),a=tn(a);return e}:Uu,qu=function(a,e){return ir(a,Wu(a),e)},Pa=function(a,e,t){var o=e(a);return wt(a)?o:$u(o,t(a))},Cl=function(a){return Pa(a,Ba,so)},pp=function(a){return Pa(a,Io,Wu)},xl=bi(Kt,"DataView"),La=bi(Kt,"Promise"),za=bi(Kt,"Set"),El=bi(Kt,"WeakMap");var Gu="[object Map]",Yu="[object Promise]",Sl="[object Set]",Ku="[object WeakMap]",Zu="[object DataView]",mp=Hn(xl),Qu=Hn(Is),kp=Hn(La),bp=Hn(za),Ju=Hn(El),or=_n;(xl&&or(new xl(new ArrayBuffer(1)))!=Zu||Is&&or(new Is)!=Gu||La&&or(La.resolve())!=Yu||za&&or(new za)!=Sl||El&&or(new El)!=Ku)&&(or=function(a){var e=_n(a),t=e=="[object Object]"?a.constructor:void 0,o=t?Hn(t):"";if(o)switch(o){case mp:return Zu;case Qu:return Gu;case kp:return Yu;case bp:return Sl;case Ju:return Ku}return e});const Fr=or;var Xu=Object.prototype.hasOwnProperty;const eh=function(a){var e=a.length,t=new a.constructor(e);return e&&typeof a[0]=="string"&&Xu.call(a,"index")&&(t.index=a.index,t.input=a.input),t},tt=Kt.Uint8Array,Dl=function(a){var e=new a.constructor(a.byteLength);return new tt(e).set(new tt(a)),e},wp=function(a,e){var t=e?Dl(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.byteLength)};var Tl=/\w*$/;const vp=function(a){var e=new a.constructor(a.source,Tl.exec(a));return e.lastIndex=a.lastIndex,e};var Vr=Rt?Rt.prototype:void 0,ja=Vr?Vr.valueOf:void 0;const _p=function(a){return ja?Object(ja.call(a)):{}},Il=function(a,e){var t=e?Dl(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.length)},Ml=function(a,e,t){var o=a.constructor;switch(e){case"[object ArrayBuffer]":return Dl(a);case"[object Boolean]":case"[object Date]":return new o(+a);case"[object DataView]":return wp(a,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Il(a,t);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(a);case"[object RegExp]":return vp(a);case"[object Symbol]":return _p(a)}};var Ra=Object.create;const Nl=function(){function a(){}return function(e){if(!me(e))return{};if(Ra)return Ra(e);a.prototype=e;var t=new a;return a.prototype=void 0,t}}(),rr=function(a){return typeof a.constructor!="function"||Bs(a)?{}:Nl(tn(a))},th=function(a){return Ft(a)&&Fr(a)=="[object Map]"};var Fa=Rr&&Rr.isMap;const yp=Fa?Ma(Fa):th,I=function(a){return Ft(a)&&Fr(a)=="[object Set]"};var M=Rr&&Rr.isSet;const j=M?Ma(M):I;var q="[object Arguments]",se="[object Function]",ve="[object Object]",ue={};ue[q]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object DataView]"]=ue["[object Boolean]"]=ue["[object Date]"]=ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Map]"]=ue["[object Number]"]=ue[ve]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object Symbol]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Error]"]=ue[se]=ue["[object WeakMap]"]=!1;const we=function a(e,t,o,s,l,d){var g,p=1&t,k=2&t,w=4&t;if(o&&(g=l?o(e,s,l,d):o(e)),g!==void 0)return g;if(!me(e))return e;var y=wt(e);if(y){if(g=eh(e),!p)return Vu(e,g)}else{var C=Fr(e),D=C==se||C=="[object GeneratorFunction]";if(Os(e))return yl(e,p);if(C==ve||C==q||D&&!l){if(g=k||D?{}:rr(e),!p)return k?qu(e,kl(g,e)):Al(e,up(g,e))}else{if(!ue[C])return l?e:{};g=Ml(e,C,p)}}d||(d=new Ms);var N=d.get(e);if(N)return N;d.set(e,g),j(e)?e.forEach(function(z){g.add(a(z,t,o,z,e,d))}):yp(e)&&e.forEach(function(z,W){g.set(W,a(z,t,o,W,e,d))});var P=y?void 0:(w?k?pp:Cl:k?Io:Ba)(e);return sl(P||e,function(z,W){P&&(z=e[W=z]),To(g,W,a(z,t,o,W,e,d))}),g},ze=function(a,e){return we(a,5,e=typeof e=="function"?e:void 0)},Ne=function(a){return Ft(a)&&a.nodeType===1&&!Vt(a)};class $n{constructor(e,t){this._config={},t&&this.define(Cn(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,o,s=!1){if(Vt(t))return void this._setObjectToTarget(e,t,s);const l=t.split(".");t=l.pop();for(const d of l)Vt(e[d])||(e[d]={}),e=e[d];if(Vt(o))return Vt(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,o,s);s&&e[t]!==void 0||(e[t]=o)}_getFromSource(e,t){const o=t.split(".");t=o.pop();for(const s of o){if(!Vt(e[s])){e=null;break}e=e[s]}return e?Cn(e[t]):void 0}_setObjectToTarget(e,t,o){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],o)})}}function Cn(a){return ze(a,on)}function on(a){return Ne(a)?a:void 0}function un(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Ri(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const wi=dt($());function dt(a){return a?class extends a{listenTo(e,t,o,s={}){if(un(e)||Ri(e)){const l={capture:!!s.useCapture,passive:!!s.usePassive},d=this._getProxyEmitter(e,l)||new Wn(e,l);this.listenTo(d,t,o,s)}else super.listenTo(e,t,o,s)}stopListening(e,t,o){if(un(e)||Ri(e)){const s=this._getAllProxyEmitters(e);for(const l of s)this.stopListening(l,t,o)}else super.stopListening(e,t,o)}_getProxyEmitter(e,t){return function(o,s){const l=o[le];return l&&l[s]?l[s].emitter:null}(this,hn(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:wi}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{dt[a]=wi.prototype[a]});class Wn extends $(){constructor(e,t){super(),V(this,hn(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,o){this.attach(e),$().prototype._addEventListener.call(this,e,t,o)}_removeEventListener(e,t){$().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=o=>{this.fire(e,o)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function hn(a,e){let t=function(o){return o["data-ck-expando"]||(o["data-ck-expando"]=B())}(a);for(const o of Object.keys(e).sort())e[o]&&(t+="-"+o);return t}let qn;try{qn={window,document}}catch{qn={window:{},document:{}}}const Ae=qn;function Bt(a){return Object.prototype.toString.call(a)=="[object Text]"}function Va(a){return Object.prototype.toString.apply(a)=="[object Range]"}function nh(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function ih(a){return a&&a.parentNode?a.offsetParent===Ae.document.body?null:a.offsetParent:null}const oh=["top","right","bottom","left","width","height"];class je{constructor(e){const t=Va(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Re(e)||t)if(t){const o=je.getDomRangeRects(e);Oe(this,je.getBoundingRect(o))}else Oe(this,e.getBoundingClientRect());else if(Ri(e)){const{innerWidth:o,innerHeight:s}=e;Oe(this,{top:0,right:o,bottom:s,left:0,width:o,height:s})}else Oe(this,e)}clone(){return new je(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const o=new je(t);return o._source=this._source,o}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(ut(e))return t;let o,s=e,l=e.parentNode||e.commonAncestorContainer;for(;l&&!ut(l);){const g=((d=l)instanceof HTMLElement?d.ownerDocument.defaultView.getComputedStyle(d).overflow:"visible")==="visible";s instanceof HTMLElement&&vi(s)==="absolute"&&(o=s);const p=vi(l);if(g||o&&(p==="relative"&&g||p!=="relative")){s=l,l=l.parentNode;continue}const k=new je(l),w=t.getIntersection(k);if(!w)return null;w.getArea()<t.getArea()&&(t=w),s=l,l=l.parentNode}var d;return t}isEqual(e){for(const t of oh)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Ae.window,o=this.clone().moveBy(e,t);if(Re(o._source)){const s=ih(o._source);s&&function(l,d){const g=new je(d),p=nh(d);let k=0,w=0;k-=g.left,w-=g.top,k+=d.scrollLeft,w+=d.scrollTop,k-=p.left,w-=p.top,l.moveBy(k,w)}(o,s)}return o}excludeScrollbarsAndBorders(){const e=this._source;let t,o,s;if(Ri(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const l=nh(e);t=e.offsetWidth-e.clientWidth-l.left-l.right,o=e.offsetHeight-e.clientHeight-l.top-l.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const t=[],o=Array.from(e.getClientRects());if(o.length)for(const s of o)t.push(new je(s));else{let s=e.startContainer;Bt(s)&&(s=s.parentNode);const l=new je(s.getBoundingClientRect());l.right=l.left,l.width=0,t.push(l)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const s of e)o++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return o==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new je(t))}}function Oe(a,e){for(const t of oh)a[t]=e[t]}function ut(a){return!!Re(a)&&a===a.ownerDocument.body}function Re(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function vi(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}class Fe{constructor(e,t){Fe._observerInstance||Fe._createObserver(),this._element=e,this._callback=t,Fe._addElementCallback(e,t),Fe._observerInstance.observe(e)}get element(){return this._element}destroy(){Fe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Fe._elementCallbacks||(Fe._elementCallbacks=new Map);let o=Fe._elementCallbacks.get(e);o||(o=new Set,Fe._elementCallbacks.set(e,o)),o.add(t)}static _deleteElementCallback(e,t){const o=Fe._getElementCallbacks(e);o&&(o.delete(t),o.size||(Fe._elementCallbacks.delete(e),Fe._observerInstance.unobserve(e))),Fe._elementCallbacks&&!Fe._elementCallbacks.size&&(Fe._observerInstance=null,Fe._elementCallbacks=null)}static _getElementCallbacks(e){return Fe._elementCallbacks?Fe._elementCallbacks.get(e):null}static _createObserver(){Fe._observerInstance=new Ae.window.ResizeObserver(e=>{for(const t of e){const o=Fe._getElementCallbacks(t.target);if(o)for(const s of o)s(t)}})}}function ao(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function Bn(a){return e=>e+a}function Gn(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function fn(a,e,t){a.insertBefore(t,a.childNodes[e]||null)}function Pn(a){return a&&a.nodeType===Node.COMMENT_NODE}function $t(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}function vt({element:a,target:e,positions:t,limiter:o,fitInViewport:s,viewportOffsetConfig:l}){Tt(e)&&(e=e()),Tt(o)&&(o=o());const d=ih(a),g=function(C){C=Object.assign({top:0,bottom:0,left:0,right:0},C);const D=new je(Ae.window);return D.top+=C.top,D.height-=C.top,D.bottom-=C.bottom,D.height-=C.bottom,D}(l),p=new je(a),k=rn(e,g);let w;if(!k||!g.getIntersection(k))return null;const y={targetRect:k,elementRect:p,positionedElementAncestor:d,viewportRect:g};if(o||s){if(o){const C=rn(o,g);C&&(y.limiterRect=C)}w=function(C,D){const{elementRect:N}=D,P=N.getArea(),z=C.map(ce=>new sr(ce,D)).filter(ce=>!!ce.name);let W=0,Q=null;for(const ce of z){const{limiterIntersectionArea:xe,viewportIntersectionArea:He}=ce;if(xe===P)return ce;const di=He**2+xe**2;di>W&&(W=di,Q=ce)}return Q}(t,y)}else w=new sr(t[0],y);return w}function rn(a,e){const t=new je(a).getVisible();return t?t.getIntersection(e):null}Fe._observerInstance=null,Fe._elementCallbacks=null;class sr{constructor(e,t){const o=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!o)return;const{left:s,top:l,name:d,config:g}=o;this.name=d,this.config=g,this._positioningFunctionCoordinates={left:s,top:l},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Mw(a){const e=a.parentNode;e&&e.removeChild(a)}function OT({window:a,rect:e,alignToTop:t,forceScroll:o,viewportOffset:s}){const l=e.clone().moveBy(0,s.bottom),d=e.clone().moveBy(0,-s.top),g=new je(a).excludeScrollbarsAndBorders(),p=t&&o,k=[d,l].every(N=>g.contains(N));let{scrollX:w,scrollY:y}=a;const C=w,D=y;p?y-=g.top-e.top+s.top:k||(Ow(d,g)?y-=g.top-e.top+s.top:Nw(l,g)&&(y+=t?e.top-g.top-s.top:e.bottom-g.bottom+s.bottom)),k||(Bw(e,g)?w-=g.left-e.left+s.left:Pw(e,g)&&(w+=e.right-g.right+s.right)),w==C&&y===D||a.scrollTo(w,y)}function BT({parent:a,getRect:e,alignToTop:t,forceScroll:o,ancestorOffset:s=0,limiterElement:l}){const d=Ap(a),g=t&&o;let p,k,w;const y=l||d.document.body;for(;a!=y;)k=e(),p=new je(a).excludeScrollbarsAndBorders(),w=p.contains(k),g?a.scrollTop-=p.top-k.top+s:w||(Ow(k,p)?a.scrollTop-=p.top-k.top+s:Nw(k,p)&&(a.scrollTop+=t?k.top-p.top-s:k.bottom-p.bottom+s)),w||(Bw(k,p)?a.scrollLeft-=p.left-k.left+s:Pw(k,p)&&(a.scrollLeft+=k.right-p.right+s)),a=a.parentNode}function Nw(a,e){return a.bottom>e.bottom}function Ow(a,e){return a.top<e.top}function Bw(a,e){return a.left<e.left}function Pw(a,e){return a.right>e.right}function Ap(a){return Va(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function PT(a){if(Va(a)){let e=a.commonAncestorContainer;return Bt(e)&&(e=e.parentNode),e}return a.parentNode}function Lw(a,e){const t=Ap(a),o=new je(a);if(t===e)return o;{let s=t;for(;s!=e;){const l=s.frameElement,d=new je(l).excludeScrollbarsAndBorders();o.moveBy(d.left,d.top),s=s.parent}}return o}const LT={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},zT={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},qe=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),jT=Object.fromEntries(Object.entries(qe).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function Ua(a){let e;if(typeof a=="string"){if(e=qe[a.toLowerCase()],!e)throw new E("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?qe.alt:0)+(a.ctrlKey?qe.ctrl:0)+(a.shiftKey?qe.shift:0)+(a.metaKey?qe.cmd:0);return e}function Ol(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(t=>t.trim())}(a)),a.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return Ua(t.slice(0,-1));const o=Ua(t);return(f.isMac||f.isiOS)&&o==qe.ctrl?qe.cmd:o}(e):e).reduce((e,t)=>t+e,0)}function zw(a){let e=Ol(a);return Object.entries(f.isMac||f.isiOS?LT:zT).reduce((t,[o,s])=>(e&qe[o]&&(e&=~qe[o],t+=s),t),"")+(e?jT[e]:"")}function jw(a,e){const t=e==="ltr";switch(a){case qe.arrowleft:return t?"left":"right";case qe.arrowright:return t?"right":"left";case qe.arrowup:return"up";case qe.arrowdown:return"down"}}function gn(a){return Array.isArray(a)?a:[a]}function RT(a,e,t=1){if(typeof t!="number")throw new E("translation-service-quantity-not-a-number",null,{quantity:t});const o=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS).length;o===1&&(a=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(o===0||!function(p,k){return!!Ae.window.CKEDITOR_TRANSLATIONS[p]&&!!Ae.window.CKEDITOR_TRANSLATIONS[p].dictionary[k]}(a,s))return t!==1?e.plural:e.string;const l=Ae.window.CKEDITOR_TRANSLATIONS[a].dictionary,d=Ae.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(p=>p===1?0:1),g=l[s];return typeof g=="string"?g:g[Number(d(t))]}Ae.window.CKEDITOR_TRANSLATIONS||(Ae.window.CKEDITOR_TRANSLATIONS={});const FT=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Rw(a){return FT.includes(a)?"rtl":"ltr"}class VT{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Rw(this.uiLanguage),this.contentLanguageDirection=Rw(this.contentLanguage),this.t=(o,s)=>this._t(o,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=gn(t),typeof e=="string"&&(e={string:e});const o=e.plural?t[0]:1;return function(s,l){return s.replace(/%(\d+)/g,(d,g)=>g<l.length?l[g]:d)}(RT(this.uiLanguage,e,o),t)}}class Fi extends $(){constructor(e={},t={}){super();const o=Yt(e);if(o||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new E("collection-add-item-invalid-index",this);let o=0;for(const s of e){const l=this._getItemIdBeforeAdding(s),d=t+o;this._items.splice(d,0,s),this._itemMap.set(l,s),this.fire("add",s,d),o++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new E("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,o]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:o}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new E("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(o=>new t(o))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(o=>o[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,o=(s,l,d)=>{const g=t._bindToCollection==this,p=t._bindToInternalToExternalMap.get(l);if(g&&p)this._bindToExternalToInternalMap.set(l,p),this._bindToInternalToExternalMap.set(p,l);else{const k=e(l);if(!k)return void this._skippedIndexesFromExternal.push(d);let w=d;for(const y of this._skippedIndexesFromExternal)d>y&&w--;for(const y of t._skippedIndexesFromExternal)w>=y&&w++;this._bindToExternalToInternalMap.set(l,k),this._bindToInternalToExternalMap.set(k,l),this.add(k,w);for(let y=0;y<t._skippedIndexesFromExternal.length;y++)w<=t._skippedIndexesFromExternal[y]&&t._skippedIndexesFromExternal[y]++}};for(const s of t)o(0,s,t.getIndex(s));this.listenTo(t,"add",o),this.listenTo(t,"remove",(s,l,d)=>{const g=this._bindToExternalToInternalMap.get(l);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((p,k)=>(d<k&&p.push(k-1),d>k&&p.push(k),p),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let o;if(t in e){if(o=e[t],typeof o!="string")throw new E("collection-add-invalid-id",this);if(this.get(o))throw new E("collection-add-item-already-exists",this)}else e[t]=o=B();return o}_remove(e){let t,o,s,l=!1;const d=this._idProperty;if(typeof e=="string"?(o=e,s=this._itemMap.get(o),l=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],l=!s,s&&(o=s[d])):(s=e,o=s[d],t=this._items.indexOf(s),l=t==-1||!this._itemMap.get(o)),l)throw new E("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(o);const g=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(g),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function pn(a){const e=a.next();return e.done?null:e.value}class ri extends dt(Me()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new E("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class co{constructor(){this._listener=new(dt())}listenTo(e){this._listener.listenTo(e,"keydown",(t,o)=>{this._listener.fire("_keydown:"+Ua(o),o)})}set(e,t,o={}){const s=Ol(e),l=o.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(d,g)=>{t(g,()=>{g.preventDefault(),g.stopPropagation(),d.stop()}),d.return=!0},{priority:l})}press(e){return!!this._listener.fire("_keydown:"+Ua(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Mo(a){return Yt(a)?new Map(a):function(e){const t=new Map;for(const o in e)t.set(o,e[o]);return t}(a)}function Cp(a,e){let t;function o(...s){o.cancel(),t=setTimeout(()=>a(...s),e)}return o.cancel=()=>{clearTimeout(t)},o}function xp(a,e){return!!(t=a.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}(a.charAt(e));var t}function Ep(a,e){return!!(t=a.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const UT=function(){const a=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${a}|${e}(?:‍${e})*`,"ug")}();function Fw(a,e){const t=String(a).matchAll(UT);return Array.from(t).some(o=>o.index<e&&e<o.index+o[0].length)}class de extends Me(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Vw,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Vw),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Vw(a){a.return=!1,a.stop()}class pt extends Me(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const o=e.model.document.selection,s=o.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(o);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Uw,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Uw),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Uw(a){a.return=!1,a.stop()}class Hw extends pt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){O(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class $w extends $(){constructor(e,t=[],o=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,l]of o)this._contextPlugins.set(s,l),this._contextPlugins.set(l,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let o=e;throw typeof e=="function"&&(o=e.pluginName||e.name),new E("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return t}has(e){return this._plugins.has(e)}init(e,t=[],o=[]){const s=this,l=this._context;(function N(P,z=new Set){P.forEach(W=>{p(W)&&(z.has(W)||(z.add(W),W.pluginName&&!s._availablePlugins.has(W.pluginName)&&s._availablePlugins.set(W.pluginName,W),W.requires&&N(W.requires,z)))})})(e),C(e);const d=[...function N(P,z=new Set){return P.map(W=>p(W)?W:s._availablePlugins.get(W)).reduce((W,Q)=>z.has(Q)?W:(z.add(Q),Q.requires&&(C(Q.requires,Q),N(Q.requires,z).forEach(ce=>W.add(ce))),W.add(Q)),new Set)}(e.filter(N=>!w(N,t)))];(function(N,P){for(const z of P){if(typeof z!="function")throw new E("plugincollection-replace-plugin-invalid-type",null,{pluginItem:z});const W=z.pluginName;if(!W)throw new E("plugincollection-replace-plugin-missing-name",null,{pluginItem:z});if(z.requires&&z.requires.length)throw new E("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:W});const Q=s._availablePlugins.get(W);if(!Q)throw new E("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:W});const ce=N.indexOf(Q);if(ce===-1){if(s._contextPlugins.has(Q))return;throw new E("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:W})}if(Q.requires&&Q.requires.length)throw new E("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:W});N.splice(ce,1,z),s._availablePlugins.set(W,z)}})(d,o);const g=function(N){return N.map(P=>{let z=s._contextPlugins.get(P);return z=z||new P(l),s._add(P,z),z})}(d);return D(g,"init").then(()=>D(g,"afterInit")).then(()=>g);function p(N){return typeof N=="function"}function k(N){return p(N)&&!!N.isContextPlugin}function w(N,P){return P.some(z=>z===N||y(N)===z||y(z)===N)}function y(N){return p(N)?N.pluginName||N.name:N}function C(N,P=null){N.map(z=>p(z)?z:s._availablePlugins.get(z)||z).forEach(z=>{(function(W,Q){if(!p(W))throw Q?new E("plugincollection-soft-required",l,{missingPlugin:W,requiredBy:y(Q)}):new E("plugincollection-plugin-not-found",l,{plugin:W})})(z,P),function(W,Q){if(k(Q)&&!k(W))throw new E("plugincollection-context-required",l,{plugin:y(W),requiredBy:y(Q)})}(z,P),function(W,Q){if(Q&&w(W,t))throw new E("plugincollection-required",l,{plugin:y(W),requiredBy:y(Q)})}(z,P)})}function D(N,P){return N.reduce((z,W)=>W[P]?s._contextPlugins.has(W)?z:z.then(W[P].bind(W)):z,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new E("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,t)}}}class Ww{constructor(e){this._contextOwner=null,this.config=new $n(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new $w(this,t);const o=this.config.get("language")||{};this.locale=new VT({uiLanguage:typeof o=="string"?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fi}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const o of e.concat(t)){if(typeof o!="function")throw new E("context-initplugins-constructor-only",null,{Plugin:o});if(o.isContextPlugin!==!0)throw new E("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new E("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const o=new this(e);t(o.initPlugins().then(()=>o))})}}class qw extends Me(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var HT=r(3379),ye=r.n(HT),Gw=r(7372),$T={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Gw.Z,$T),Gw.Z.locals;const rh=new WeakMap;let Yw=!1;function Kw({view:a,element:e,text:t,isDirectHost:o=!0,keepOnFocus:s=!1}){const l=a.document;function d(g){rh.get(l).set(e,{text:g,isDirectHost:o,keepOnFocus:s,hostElement:o?e:null}),a.change(p=>Sp(l,p))}rh.has(l)||(rh.set(l,new Map),l.registerPostFixer(g=>Sp(l,g)),l.on("change:isComposing",()=>{a.change(g=>Sp(l,g))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(g,p,k)=>{d(k)}),e.placeholder?d(e.placeholder):t&&d(t),t&&function(){Yw||U("enableplaceholder-deprecated-text-option"),Yw=!0}()}function WT(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function Sp(a,e){const t=rh.get(a),o=[];let s=!1;for(const[l,d]of t)d.isDirectHost&&(o.push(l),Zw(e,l,d)&&(s=!0));for(const[l,d]of t){if(d.isDirectHost)continue;const g=qT(l);g&&(o.includes(g)||(d.hostElement=g,Zw(e,l,d)&&(s=!0)))}return s}function Zw(a,e,t){const{text:o,isDirectHost:s,hostElement:l}=t;let d=!1;return l.getAttribute("data-placeholder")!==o&&(a.setAttribute("data-placeholder",o,l),d=!0),(s||e.childCount==1)&&function(g,p){if(!g.isAttached()||Array.from(g.getChildren()).some(C=>!C.is("uiElement")))return!1;const w=g.document,y=w.selection.anchor;return!(w.isComposing&&y&&y.parent===g||!p&&w.isFocused&&(!y||y.parent===g))}(l,t.keepOnFocus)?function(g,p){return!p.hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",p),!0)}(a,l)&&(d=!0):WT(a,l)&&(d=!0),d}function qT(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ps{is(){throw new Error("is() method is abstract")}}const Qw=function(a){return we(a,4)};class Ls extends $(Ps){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new E("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),s=e.getAncestors(t);let l=0;for(;o[l]==s[l]&&o[l];)l++;return l===0?null:o[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),s=Dt(t,o);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<o[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Qw(this);return delete e.parent,e}}Ls.prototype.is=function(a){return a==="node"||a==="view:node"};class ht extends Ls{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ht&&(this===e||this.data===e.data)}_clone(){return new ht(this.document,this.data)}}ht.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class No extends Ps{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.data.length)throw new E("view-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.data.length)throw new E("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let o=e.includeSelf?this.textNode:this.parent;for(;o!==null;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}}No.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class Vi{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const o of this._patterns){const s=Jw(t,o);if(s)return{element:t,pattern:o,match:s}}return null}matchAll(...e){const t=[];for(const o of e)for(const s of this._patterns){const l=Jw(o,s);l&&t.push({element:o,pattern:s,match:l})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function Jw(a,e){if(typeof e=="function")return e(a);const t={};return e.name&&(t.name=function(o,s){return o instanceof RegExp?!!s.match(o):o===s}(e.name,a.name),!t.name)||e.attributes&&(t.attributes=function(o,s){const l=new Set(s.getAttributeKeys());return Vt(o)?(o.style!==void 0&&U("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&U("matcher-pattern-deprecated-attributes-class-key",o)):(l.delete("style"),l.delete("class")),Dp(o,l,d=>s.getAttribute(d))}(e.attributes,a),!t.attributes)||e.classes&&(t.classes=function(o,s){return Dp(o,s.getClassNames(),()=>{})}(e.classes,a),!t.classes)||e.styles&&(t.styles=function(o,s){return Dp(o,s.getStyleNames(!0),l=>s.getStyle(l))}(e.styles,a),!t.styles)?null:t}function Dp(a,e,t){const o=function(d){return Array.isArray(d)?d.map(g=>Vt(g)?(g.key!==void 0&&g.value!==void 0||U("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):Vt(d)?Object.entries(d):[[d,!0]]}(a),s=Array.from(e),l=[];if(o.forEach(([d,g])=>{s.forEach(p=>{(function(k,w){return k===!0||k===w||k instanceof RegExp&&w.match(k)})(d,p)&&function(k,w,y){if(k===!0)return!0;const C=y(w);return k===C||k instanceof RegExp&&!!String(C).match(k)}(g,p,t)&&l.push(p)})}),o.length&&!(l.length<o.length))return l}const sh=function(a){return typeof a=="symbol"||Ft(a)&&_n(a)=="[object Symbol]"};var GT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YT=/^\w*$/;const KT=function(a,e){if(wt(a))return!1;var t=typeof a;return!(t!="number"&&t!="symbol"&&t!="boolean"&&a!=null&&!sh(a))||YT.test(a)||!GT.test(a)||e!=null&&a in Object(e)};function Tp(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var o=arguments,s=e?e.apply(this,o):o[0],l=t.cache;if(l.has(s))return l.get(s);var d=a.apply(this,o);return t.cache=l.set(s,d)||l,d};return t.cache=new(Tp.Cache||Ta),t}Tp.Cache=Ta;const ZT=Tp,QT=function(a){var e=ZT(a,function(o){return t.size===500&&t.clear(),o}),t=e.cache;return e};var JT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XT=/\\(\\)?/g,e4=QT(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(JT,function(t,o,s,l){e.push(s?l.replace(XT,"$1"):o||t)}),e});const t4=e4,n4=function(a,e){for(var t=-1,o=a==null?0:a.length,s=Array(o);++t<o;)s[t]=e(a[t],t,a);return s};var Xw=Rt?Rt.prototype:void 0,ev=Xw?Xw.toString:void 0;const i4=function a(e){if(typeof e=="string")return e;if(wt(e))return n4(e,a)+"";if(sh(e))return ev?ev.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Ip=function(a){return a==null?"":i4(a)},Mp=function(a,e){return wt(a)?a:KT(a,e)?[a]:t4(Ip(a))},o4=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},Np=function(a){if(typeof a=="string"||sh(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},tv=function(a,e){for(var t=0,o=(e=Mp(e,a)).length;a!=null&&t<o;)a=a[Np(e[t++])];return t&&t==o?a:void 0},nv=function(a,e,t){var o=-1,s=a.length;e<0&&(e=-e>s?0:s+e),(t=t>s?s:t)<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var l=Array(s);++o<s;)l[o]=a[o+e];return l},r4=function(a,e){return e.length<2?a:tv(a,nv(e,0,-1))},s4=function(a,e){return e=Mp(e,a),(a=r4(a,e))==null||delete a[Np(o4(e))]},a4=function(a,e){return a==null||s4(a,e)},ah=function(a,e,t){var o=a==null?void 0:tv(a,e);return o===void 0?t:o},Op=function(a,e,t){(t!==void 0&&!Ht(a[e],t)||t===void 0&&!(e in a))&&nr(a,e,t)},c4=function(a){return function(e,t,o){for(var s=-1,l=Object(e),d=o(e),g=d.length;g--;){var p=d[a?g:++s];if(t(l[p],p,l)===!1)break}return e}}(),l4=function(a){return Ft(a)&&Oa(a)},Bp=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},d4=function(a){return ir(a,Io(a))},u4=function(a,e,t,o,s,l,d){var g=Bp(a,t),p=Bp(e,t),k=d.get(p);if(k)Op(a,t,k);else{var w=l?l(g,p,t+"",a,e,d):void 0,y=w===void 0;if(y){var C=wt(p),D=!C&&Os(p),N=!C&&!D&&gl(p);w=p,C||D||N?wt(g)?w=g:l4(g)?w=Vu(g):D?(y=!1,w=yl(p,!0)):N?(y=!1,w=Il(p,!0)):w=[]:Vt(p)||dl(p)?(w=g,dl(g)?w=d4(g):me(g)&&!Tt(g)||(w=rr(p))):y=!1}y&&(d.set(p,w),s(w,p,o,l,d),d.delete(p)),Op(a,t,w)}},h4=function a(e,t,o,s,l){e!==t&&c4(t,function(d,g){if(l||(l=new Ms),me(d))u4(e,t,g,o,a,s,l);else{var p=s?s(Bp(e,g),d,g+"",e,t,l):void 0;p===void 0&&(p=d),Op(e,g,p)}},Io)},zs=function(a){return a},f4=function(a,e,t){switch(t.length){case 0:return a.call(e);case 1:return a.call(e,t[0]);case 2:return a.call(e,t[0],t[1]);case 3:return a.call(e,t[0],t[1],t[2])}return a.apply(e,t)};var iv=Math.max;const g4=function(a,e,t){return e=iv(e===void 0?a.length-1:e,0),function(){for(var o=arguments,s=-1,l=iv(o.length-e,0),d=Array(l);++s<l;)d[s]=o[e+s];s=-1;for(var g=Array(e+1);++s<e;)g[s]=o[s];return g[e]=t(d),f4(a,this,g)}},p4=function(a){return function(){return a}},m4=Ns?function(a,e){return Ns(a,"toString",{configurable:!0,enumerable:!1,value:p4(e),writable:!0})}:zs;var k4=Date.now;const b4=function(a){var e=0,t=0;return function(){var o=k4(),s=16-(o-t);if(t=o,s>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(m4),w4=function(a,e){return b4(g4(a,e,zs),a+"")},v4=function(a,e,t){if(!me(t))return!1;var o=typeof e;return!!(o=="number"?Oa(t)&&hl(e,t.length):o=="string"&&e in t)&&Ht(t[e],a)},ov=function(a){return w4(function(e,t){var o=-1,s=t.length,l=s>1?t[s-1]:void 0,d=s>2?t[2]:void 0;for(l=a.length>3&&typeof l=="function"?(s--,l):void 0,d&&v4(t[0],t[1],d)&&(l=s<3?void 0:l,s=1),e=Object(e);++o<s;){var g=t[o];g&&a(e,g,o,l)}return e})},rv=ov(function(a,e,t){h4(a,e,t)}),_4=function(a,e,t,o){if(!me(a))return a;for(var s=-1,l=(e=Mp(e,a)).length,d=l-1,g=a;g!=null&&++s<l;){var p=Np(e[s]),k=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(s!=d){var w=g[p];(k=o?o(w,p,g):void 0)===void 0&&(k=me(w)?w:hl(e[s+1])?[]:{})}To(g,p,k),g=g[p]}return a},y4=function(a,e,t){return a==null?a:_4(a,e,t)};class A4{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(o){let s=null,l=0,d=0,g=null;const p=new Map;if(o==="")return p;o.charAt(o.length-1)!=";"&&(o+=";");for(let k=0;k<o.length;k++){const w=o.charAt(k);if(s===null)switch(w){case":":g||(g=o.substr(l,k-l),d=k+1);break;case'"':case"'":s=w;break;case";":{const y=o.substr(d,k-d);g&&p.set(g.trim(),y.trim()),g=null,l=k+1;break}}else w===s&&(s=null)}return p}(e).entries());for(const[o,s]of t)this._styleProcessor.toNormalizedForm(o,s,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)}set(e,t){if(me(e))for(const[o,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Pp(e);a4(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!me(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const o of t)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const o=t.splice(0,t.length-1).join("."),s=ah(this._styles,o);s&&!Array.from(Object.keys(s)).length&&this.remove(o)}}class C4{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,o){if(me(t))Lp(o,Pp(e),t);else if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:l,value:d}=s(t);Lp(o,l,d)}else Lp(o,e,t)}getNormalized(e,t){if(!e)return rv({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if(typeof o=="string")return ah(t,o);const s=o(e,t);if(s)return s}return ah(t,Pp(e))}getReducedForm(e,t){const o=this.getNormalized(e,t);return o===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const l=this.getNormalized(s,e);return l&&typeof l=="object"?Object.keys(l).length:l}),o=new Set([...t,...Object.keys(e)]);return Array.from(o.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const o of t)this._mapStyleNames(o,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Pp(a){return a.replace("-",".")}function Lp(a,e,t){let o=t;me(t)&&(o=rv({},ah(a,e),t)),y4(a,e,o)}class _i extends Ls{constructor(e,t,o,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(l){const d=Mo(l);for(const[g,p]of d)p===null?d.delete(g):typeof p!="string"&&d.set(g,String(p));return d}(o),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");sv(this._classes,l),this._attrs.delete("class")}this._styles=new A4(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof _i))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,o]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==o)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Vi(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(t.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),o=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(o==""?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let o=0;const s=function(l,d){return typeof d=="string"?[new ht(l,d)]:(Yt(d)||(d=[d]),Array.from(d).map(g=>typeof g=="string"?new ht(l,g):g instanceof No?new ht(l,g.data):g))}(this.document,t);for(const l of s)l.parent!==null&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(e,0,l),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const o=String(t);this._fireChange("attributes",this),e=="class"?sv(this._classes,o):e=="style"?this._styles.setTo(o):this._attrs.set(e,o)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of gn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function sv(a,e){const t=e.split(/\s+/);a.clear(),t.forEach(o=>a.add(o))}_i.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Bl extends _i{constructor(e,t,o,s){super(e,t,o,s),this.getFillerOffset=av}}function av(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of a)if(!t.is("uiElement"))return null;return this.childCount}Bl.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class ch extends Me(Bl){constructor(e,t,o,s){super(e,t,o,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",l=>l&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}ch.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const cv=Symbol("rootName");class lv extends ch{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(cv)}set rootName(e){this._setCustomProperty(cv,e)}set _name(e){this.name=e}}lv.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class js{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new E("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new E("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=fe._createAt(e.startPosition):this._position=fe._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,o;do o=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,o=e.parent;if(o.parent===null&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(o instanceof ht){if(e.isAtEnd)return this._position=fe._createAfter(o),this._next();s=o.data[e.offset]}else s=o.getChild(e.offset);if(s instanceof _i){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new fe(s,0);return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof ht){if(this.singleCharacters)return e=new fe(s,0),this._position=e,this._next();let l,d=s.data.length;return s==this._boundaryEndParent?(d=this.boundaries.end.offset,l=new No(s,0,d),e=fe._createAfter(l)):(l=new No(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,t,e,d)}if(typeof s=="string"){let l;this.singleCharacters?l=1:l=(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const d=new No(o,e.offset,l);return e.offset+=l,this._position=e,this._formatReturnValue("text",d,t,e,l)}return e=fe._createAfter(o),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,t,e)}_previous(){let e=this.position.clone();const t=this.position,o=e.parent;if(o.parent===null&&e.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(o instanceof ht){if(e.isAtStart)return this._position=fe._createBefore(o),this._previous();s=o.data[e.offset-1]}else s=o.getChild(e.offset-1);if(s instanceof _i)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new fe(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof ht){if(this.singleCharacters)return e=new fe(s,s.data.length),this._position=e,this._previous();let l,d=s.data.length;if(s==this._boundaryStartParent){const g=this.boundaries.start.offset;l=new No(s,g,s.data.length-g),d=l.data.length,e=fe._createBefore(l)}else l=new No(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,t,e,d)}if(typeof s=="string"){let l;if(this.singleCharacters)l=1;else{const g=o===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-g}e.offset-=l;const d=new No(o,e.offset,l);return this._position=e,this._formatReturnValue("text",d,t,e,l)}return e=fe._createBefore(o),this._position=e,this._formatReturnValue("elementStart",o,t,e,1)}_formatReturnValue(e,t,o,s,l){return t instanceof No&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=fe._createAfter(t.textNode):(s=fe._createAfter(t.textNode),this._position=s)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=fe._createBefore(t.textNode):(s=fe._createBefore(t.textNode),this._position=s))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:s,length:l}}}}class fe extends Ps{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof ch);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=fe._createAt(this),o=t.offset+e;return t.offset=o<0?0:o,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new js(t);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let s=0;for(;t[s]==o[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);const s=Dt(t,o);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<o[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new js(e)}clone(){return new fe(this.parent,this.offset)}static _createAt(e,t){if(e instanceof fe)return new this(e.parent,e.offset);{const o=e;if(t=="end")t=o.is("$text")?o.data.length:o.childCount;else{if(t=="before")return this._createBefore(o);if(t=="after")return this._createAfter(o);if(t!==0&&!t)throw new E("view-createpositionat-offset-required",o)}return new fe(o,t)}}static _createAfter(e){if(e.is("$textProxy"))return new fe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new E("view-position-after-root",e,{root:e});return new fe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new fe(e.textNode,e.offsetInText);if(!e.parent)throw new E("view-position-before-root",e,{root:e});return new fe(e.parent,e.index)}}fe.prototype.is=function(a){return a==="position"||a==="view:position"};class Te extends Ps{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new js({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(lh,{direction:"backward"}),t=this.end.getLastMatchingPosition(lh);return e.parent.is("$text")&&e.isAtStart&&(e=fe._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=fe._createAfter(t.parent)),new Te(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(lh);if(e.isAfter(this.end)||e.isEqual(this.end))return new Te(e,e);let t=this.end.getLastMatchingPosition(lh,{direction:"backward"});const o=e.nodeAfter,s=t.nodeBefore;return o&&o.is("$text")&&(e=new fe(o,0)),s&&s.is("$text")&&(t=new fe(s,s.data.length)),new Te(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Te(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Te(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Te(t,o)}return null}getWalker(e={}){return e.boundaries=this,new js(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Te(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new js(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new js(e);yield t.position;for(const o of t)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,o,s){return new this(new fe(e,t),new fe(o,s))}static _createFromPositionAndShift(e,t){const o=e,s=e.getShiftedBy(t);return t>0?new this(o,s):new this(s,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(fe._createBefore(e),t)}}function lh(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Te.prototype.is=function(a){return a==="range"||a==="view:range"};class lo extends $(Ps){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const s of e._ranges)if(t.isEqual(s)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=oo(this.getRanges());if(t!=oo(e.getRanges()))return!1;if(t==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let s=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),o.start.isEqual(l.start)&&o.end.isEqual(l.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,o,s]=e;if(typeof o=="object"&&(s=o,o=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof lo||t instanceof zp)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Te)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof fe)this._setRanges([new Te(t)]),this._setFakeOptions(s);else if(t instanceof Ls){const l=!!s&&!!s.backward;let d;if(o===void 0)throw new E("view-selection-setto-required-second-parameter",this);d=o=="in"?Te._createIn(t):o=="on"?Te._createOn(t):new Te(fe._createAt(t,o)),this._setRanges([d],l),this._setFakeOptions(s)}else{if(!Yt(t))throw new E("view-selection-setto-not-selectable",this);this._setRanges(t,s&&s.backward),this._setFakeOptions(s)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new E("view-selection-setfocus-no-ranges",this);const o=fe._createAt(e,t);if(o.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),o.compareWith(s)=="before"?this._addRange(new Te(o,s),!0):this._addRange(new Te(s,o)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Te))throw new E("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new E("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Te(e.start,e.end))}}lo.prototype.is=function(a){return a==="selection"||a==="view:selection"};class zp extends $(Ps){constructor(...e){super(),this._selection=new lo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}zp.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class Ha extends S{constructor(e,t,o){super(e,t),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const jp=Symbol("bubbling contexts");function Rp(a){return class extends a{fire(e,...t){try{const o=e instanceof S?e:new S(this,e),s=Fp(this);if(!s.size)return;if(Pl(o,"capturing",this),$a(s,"$capture",o,...t))return o.return;const l=o.startRange||this.selection.getFirstRange(),d=l?l.getContainedElement():null,g=!!d&&!!dv(s,d);let p=d||function(k){if(!k)return null;const w=k.start.parent,y=k.end.parent,C=w.getPath(),D=y.getPath();return C.length>D.length?w:y}(l);if(Pl(o,"atTarget",p),!g){if($a(s,"$text",o,...t))return o.return;Pl(o,"bubbling",p)}for(;p;){if(p.is("rootElement")){if($a(s,"$root",o,...t))return o.return}else if(p.is("element")&&$a(s,p.name,o,...t))return o.return;if($a(s,p,o,...t))return o.return;p=p.parent,Pl(o,"bubbling",p)}return Pl(o,"bubbling",this),$a(s,"$document",o,...t),o.return}catch(o){E.rethrowUnexpectedError(o,this)}}_addEventListener(e,t,o){const s=gn(o.context||"$document"),l=Fp(this);for(const d of s){let g=l.get(d);g||(g=new($()),l.set(d,g)),this.listenTo(g,e,t,o)}}_removeEventListener(e,t){const o=Fp(this);for(const s of o.values())this.stopListening(s,e,t)}}}{const a=Rp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Rp[e]=a.prototype[e]})}function Pl(a,e,t){a instanceof Ha&&(a._eventPhase=e,a._currentTarget=t)}function $a(a,e,t,...o){const s=typeof e=="string"?a.get(e):dv(a,e);return!!s&&(s.fire(t,...o),t.stop.called)}function dv(a,e){for(const[t,o]of a)if(typeof t=="function"&&t(e))return o;return null}function Fp(a){return a[jp]||(a[jp]=new Map),a[jp]}class dh extends Rp(Me()){constructor(e){super(),this._postFixers=new Set,this.selection=new zp,this.roots=new Fi({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(t=o(e),t)break;while(t)}}class Rs extends _i{constructor(e,t,o,s){super(e,t,o,s),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=x4}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new E("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function x4(){if(Vp(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(Vp(a)>1)return null;a=a.parent}return!a||Vp(a)>1?null:this.childCount}function Vp(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Rs.DEFAULT_PRIORITY=10,Rs.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Up extends _i{constructor(e,t,o,s){super(e,t,o,s),this.getFillerOffset=E4}_insertChild(e,t){if(t&&(t instanceof Ls||Array.from(t).length>0))throw new E("view-emptyelement-cannot-add",[this,t]);return 0}}function E4(){return null}Up.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class uh extends _i{constructor(e,t,o,s){super(e,t,o,s),this.getFillerOffset=D4}_insertChild(e,t){if(t&&(t instanceof Ls||Array.from(t).length>0))throw new E("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const o of this.getAttributeKeys())t.setAttribute(o,this.getAttribute(o));return t}}function S4(a){a.document.on("arrowKey",(e,t)=>function(o,s,l){if(s.keyCode==qe.arrowright){const d=s.domTarget.ownerDocument.defaultView.getSelection(),g=d.rangeCount==1&&d.getRangeAt(0).collapsed;if(g||s.shiftKey){const p=d.focusNode,k=d.focusOffset,w=l.domPositionToView(p,k);if(w===null)return;let y=!1;const C=w.getLastMatchingPosition(D=>(D.item.is("uiElement")&&(y=!0),!(!D.item.is("uiElement")&&!D.item.is("attributeElement"))));if(y){const D=l.viewPositionToDom(C);g?d.collapse(D.parent,D.offset):d.extend(D.parent,D.offset)}}}}(0,t,a.domConverter),{priority:"low"})}function D4(){return null}uh.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Hp extends _i{constructor(e,t,o,s){super(e,t,o,s),this.getFillerOffset=T4}_insertChild(e,t){if(t&&(t instanceof Ls||Array.from(t).length>0))throw new E("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function T4(){return null}Hp.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Fs extends $(Ps){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let o=0;const s=function(l,d){return typeof d=="string"?[new ht(l,d)]:(Yt(d)||(d=[d]),Array.from(d).map(g=>typeof g=="string"?new ht(l,g):g instanceof No?new ht(l,g.data):g))}(this.document,t);for(const l of s)l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Fs.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class uv{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Fs(this.document,e)}createText(e){return new ht(this.document,e)}createAttributeElement(e,t,o={}){const s=new Rs(this.document,e,t);return typeof o.priority=="number"&&(s._priority=o.priority),o.id&&(s._id=o.id),o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createContainerElement(e,t,o={},s={}){let l=null;Vt(o)?s=o:l=o;const d=new Bl(this.document,e,t,l);return s.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),d}createEditableElement(e,t,o={}){const s=new ch(this.document,e,t);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createEmptyElement(e,t,o={}){const s=new Up(this.document,e,t);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createUIElement(e,t,o){const s=new uh(this.document,e,t);return o&&(s.render=o),s}createRawElement(e,t,o,s={}){const l=new Hp(this.document,e,t);return o&&(l.render=o),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){Vt(e)&&o===void 0?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof fe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new E("view-writer-break-non-container-element",this.document);if(!t.parent)throw new E("view-writer-break-root",this.document);if(e.isAtStart)return fe._createBefore(t);if(!e.isAtEnd){const o=t._clone(!1);this.insert(fe._createAfter(t),o);const s=new Te(e,fe._createAt(t,"end")),l=new fe(o,0);this.move(s,l)}return fe._createAfter(t)}mergeAttributes(e){const t=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&o.childCount===0){const d=o.parent,g=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new fe(d,g))}const s=o.getChild(t-1),l=o.getChild(t);if(!s||!l)return e;if(s.is("$text")&&l.is("$text"))return fv(s,l);if(s.is("attributeElement")&&l.is("attributeElement")&&s.isSimilar(l)){const d=s.childCount;return s._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new fe(s,d))}return e}mergeContainers(e){const t=e.nodeBefore,o=e.nodeAfter;if(!(t&&o&&t.is("containerElement")&&o.is("containerElement")))throw new E("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),l=s instanceof ht?fe._createAt(s,"end"):fe._createAt(t,"end");return this.move(Te._createIn(o),fe._createAt(t,"end")),this.remove(Te._createOn(o)),l}insert(e,t){gv(t=Yt(t)?[...t]:[t],this.document);const o=t.reduce((d,g)=>{const p=d[d.length-1],k=!g.is("uiElement");return p&&p.breakAttributes==k?p.nodes.push(g):d.push({breakAttributes:k,nodes:[g]}),d},[]);let s=null,l=e;for(const{nodes:d,breakAttributes:g}of o){const p=this._insertNodes(l,d,g);s||(s=p.start),l=p.end}return s?new Te(s,l):new Te(e)}remove(e){const t=e instanceof Te?e:Te._createOn(e);if(Ll(t,this.document),t.isCollapsed)return new Fs(this.document);const{start:o,end:s}=this._breakAttributesRange(t,!0),l=o.parent,d=s.offset-o.offset,g=l._removeChildren(o.offset,d);for(const k of g)this._removeFromClonedElementsGroup(k);const p=this.mergeAttributes(o);return t.start=p,t.end=p.clone(),new Fs(this.document,g)}clear(e,t){Ll(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of o){const l=s.item;let d;if(l.is("element")&&t.isSimilar(l))d=Te._createOn(l);else if(!s.nextPosition.isAfter(e.start)&&l.is("$textProxy")){const g=l.getAncestors().find(p=>p.is("element")&&t.isSimilar(p));g&&(d=Te._createIn(g))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,t){let o;if(t.isAfter(e.end)){const s=(t=this._breakAttributes(t,!0)).parent,l=s.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=s.childCount-l}else o=this.remove(e);return this.insert(t,o)}wrap(e,t){if(!(t instanceof Rs))throw new E("view-writer-wrap-invalid-attribute",this.document);if(Ll(e,this.document),e.isCollapsed){let s=e.start;s.parent.is("element")&&(o=s.parent,!Array.from(o.getChildren()).some(d=>!d.is("uiElement")))&&(s=s.getLastMatchingPosition(d=>d.item.is("uiElement"))),s=this._wrapPosition(s,t);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(e.start)&&this.setSelection(s),new Te(s)}return this._wrapRange(e,t);var o}unwrap(e,t){if(!(t instanceof Rs))throw new E("view-writer-unwrap-invalid-attribute",this.document);if(Ll(e,this.document),e.isCollapsed)return e;const{start:o,end:s}=this._breakAttributesRange(e,!0),l=o.parent,d=this._unwrapChildren(l,o.offset,s.offset,t),g=this.mergeAttributes(d.start);g.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new Te(g,p)}rename(e,t){const o=new Bl(this.document,e,t.getAttributes());return this.insert(fe._createAfter(t),o),this.move(Te._createIn(t),fe._createAt(o,0)),this.remove(Te._createOn(t)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Te(e,t)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(...e){return new lo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new E("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,o){let s,l;if(s=o?$p(e):e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new E("view-writer-invalid-position-container",this.document);l=o?this._breakAttributes(e,!0):e.parent.is("$text")?Wp(e):e;const d=s._insertChild(l.offset,t);for(const w of t)this._addToClonedElementsGroup(w);const g=l.getShiftedBy(d),p=this.mergeAttributes(l);p.isEqual(l)||g.offset--;const k=this.mergeAttributes(g);return new Te(p,k)}_wrapChildren(e,t,o,s){let l=t;const d=[];for(;l<o;){const p=e.getChild(l),k=p.is("$text"),w=p.is("attributeElement");if(w&&this._wrapAttributeElement(s,p))d.push(new fe(e,l));else if(k||!w||I4(s,p)){const y=s._clone();p._remove(),y._appendChild(p),e._insertChild(l,y),this._addToClonedElementsGroup(y),d.push(new fe(e,l))}else this._wrapChildren(p,0,p.childCount,s);l++}let g=0;for(const p of d)p.offset-=g,p.offset!=t&&(this.mergeAttributes(p).isEqual(p)||(g++,o--));return Te._createFromParentsAndOffsets(e,t,e,o)}_unwrapChildren(e,t,o,s){let l=t;const d=[];for(;l<o;){const p=e.getChild(l);if(p.is("attributeElement"))if(p.isSimilar(s)){const k=p.getChildren(),w=p.childCount;p._remove(),e._insertChild(l,k),this._removeFromClonedElementsGroup(p),d.push(new fe(e,l),new fe(e,l+w)),l+=w,o+=w-1}else this._unwrapAttributeElement(s,p)?(d.push(new fe(e,l),new fe(e,l+1)),l++):(this._unwrapChildren(p,0,p.childCount,s),l++);else l++}let g=0;for(const p of d)p.offset-=g,!(p.offset==t||p.offset==o)&&(this.mergeAttributes(p).isEqual(p)||(g++,o--));return Te._createFromParentsAndOffsets(e,t,e,o)}_wrapRange(e,t){const{start:o,end:s}=this._breakAttributesRange(e,!0),l=o.parent,d=this._wrapChildren(l,o.offset,s.offset,t),g=this.mergeAttributes(d.start);g.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new Te(g,p)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return hv(e.clone());e.parent.is("$text")&&(e=Wp(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const s=new Te(e,e.getShiftedBy(1));this.wrap(s,t);const l=new fe(o.parent,o.index);o._remove();const d=l.nodeBefore,g=l.nodeAfter;return d instanceof ht&&g instanceof ht?fv(d,g):hv(l)}_wrapAttributeElement(e,t){if(!pv(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&(t.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),t));for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const o of e.getClassNames())t.hasClass(o)||this.addClass(o,t);return!0}_unwrapAttributeElement(e,t){if(!pv(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&this.removeAttribute(o,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const o=e.start,s=e.end;if(Ll(e,this.document),e.isCollapsed){const p=this._breakAttributes(e.start,t);return new Te(p,p)}const l=this._breakAttributes(s,t),d=l.parent.childCount,g=this._breakAttributes(o,t);return l.offset+=l.parent.childCount-d,new Te(g,l)}_breakAttributes(e,t=!1){const o=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new E("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new E("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new E("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&qp(s.parent)||qp(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Wp(e),t);if(o==s.childCount){const l=new fe(s.parent,s.index+1);return this._breakAttributes(l,t)}if(o===0){const l=new fe(s.parent,s.index);return this._breakAttributes(l,t)}{const l=s.index+1,d=s._clone();s.parent._insertChild(l,d),this._addToClonedElementsGroup(d);const g=s.childCount-o,p=s._removeChildren(o,g);d._appendChild(p);const k=new fe(s.parent,l);return this._breakAttributes(k,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let o=this._cloneGroups.get(t);o||(o=new Set,this._cloneGroups.set(t,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const o=this._cloneGroups.get(t);o&&o.delete(e)}}function $p(a){let e=a.parent;for(;!qp(e);){if(!e)return;e=e.parent}return e}function I4(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function hv(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new fe(e,e.data.length);const t=a.nodeAfter;return t&&t.is("$text")?new fe(t,0):a}function Wp(a){if(a.offset==a.parent.data.length)return new fe(a.parent.parent,a.parent.index+1);if(a.offset===0)return new fe(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new ht(a.root.document,e)),new fe(a.parent.parent,a.parent.index+1)}function fv(a,e){const t=a.data.length;return a._data+=e.data,e._remove(),new fe(a,t)}const M4=[ht,Rs,Bl,Up,Hp,uh];function gv(a,e){for(const t of a){if(!M4.some(o=>t instanceof o))throw new E("view-writer-insert-invalid-node-type",e);t.is("$text")||gv(t.getChildren(),e)}}function qp(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function Ll(a,e){const t=$p(a.start),o=$p(a.end);if(!t||!o||t!==o)throw new E("view-writer-invalid-range-container",e)}function pv(a,e){return a.id===null&&e.id===null}const mv=a=>a.createTextNode(" "),kv=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},bv=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},uo=7,zl="⁠".repeat(uo);function yi(a){return typeof a=="string"?a.substr(0,uo)===zl:Bt(a)&&a.data.substr(0,uo)===zl}function jl(a){return a.data.length==uo&&yi(a)}function wv(a){const e=typeof a=="string"?a:a.data;return yi(a)?e.slice(uo):e}function N4(a,e){if(e.keyCode==qe.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const o=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;yi(o)&&s<=uo&&t.collapse(o,0)}}}var vv=r(5037),O4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(vv.Z,O4),vv.Z.locals;class B4 extends Me(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),f.isBlink&&!f.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new E("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!f.isAndroid)return;let e=null;const t=!(f.isBlink&&!f.isAndroid)||!this.isSelecting;for(const o of this.markedChildren)this._updateChildrenMappings(o);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=fe._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(t)if(e){const o=this.domConverter.viewPositionToDom(e),s=o.parent.ownerDocument;yi(o.parent)?this._inlineFiller=o.parent:this._inlineFiller=_v(s,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const o=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(o,s),d=this._findUpdateActions(l,o,s,P4);if(d.indexOf("update")!==-1){const g={equal:0,insert:0,delete:0};for(const p of d)if(p==="update"){const k=g.equal+g.insert,w=g.equal+g.delete,y=e.getChild(k);!y||y.is("uiElement")||y.is("rawElement")||this._updateElementMappings(y,o[w]),Mw(s[k]),g.equal++}else g[p]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?fe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Bt(t.parent)&&yi(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!yi(e))throw new E("view-renderer-filler-was-lost",this);jl(e)?e.remove():e.data=e.data.substr(uo),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(d){if(d.getAttribute("contenteditable")=="false")return!1;const g=d.findAncestor(p=>p.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(t)||o===t.getFillerOffset())return!1;const s=e.nodeBefore,l=e.nodeAfter;return!(s instanceof ht||l instanceof ht)&&(!f.isAndroid||!s&&!l)}_updateText(e,t){const o=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(s=zl+s),yv(o,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const o=Array.from(t.attributes).map(l=>l.name),s=e.getAttributeKeys();for(const l of s)this.domConverter.setDomElementAttribute(t,l,e.getAttribute(l),e);for(const l of o)e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(t,l)}_updateChildren(e,t){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(f.isAndroid){let y=null;for(const C of Array.from(o.childNodes)){if(y&&Bt(y)&&Bt(C)){o.normalize();break}y=C}}const s=t.inlineFillerPosition,l=o.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&_v(o.ownerDocument,d,s.offset);const g=this._diffNodeLists(l,d),p=this._findUpdateActions(g,l,d,L4);let k=0;const w=new Set;for(const y of p)y==="delete"?(w.add(l[k]),Mw(l[k])):y!=="equal"&&y!=="update"||k++;k=0;for(const y of p)y==="insert"?(fn(o,k,d[k]),k++):y==="update"?(yv(l[k],d[k].data),k++):y==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[k])),k++);for(const y of w)y.parentNode||this.domConverter.unbindDomElement(y)}_diffNodeLists(e,t){return e=function(o,s){const l=Array.from(o);return l.length==0||!s||l[l.length-1]==s&&l.pop(),l}(e,this._fakeSelectionContainer),A(e,t,z4.bind(null,this.domConverter))}_findUpdateActions(e,t,o,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let l=[],d=[],g=[];const p={equal:0,insert:0,delete:0};for(const k of e)k==="insert"?g.push(o[p.equal+p.insert]):k==="delete"?d.push(t[p.equal+p.delete]):(l=l.concat(A(d,g,s).map(w=>w==="equal"?"update":w)),l.push("equal"),d=[],g=[]),p[k]++;return l.concat(A(d,g,s).map(k=>k==="equal"?"update":k))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(f.isBlink&&!f.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&f.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(d){const g=d.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent=" ",g}(t));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||" ";const s=t.getSelection(),l=t.createRange();s.removeAllRanges(),l.selectNodeContents(o),s.addRange(l)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(o.parent,o.offset,s.parent,s.offset),f.isGecko&&function(l,d){const g=l.parent;if(g.nodeType!=Node.ELEMENT_NODE||l.offset!=g.childNodes.length-1)return;const p=g.childNodes[l.offset];p&&p.tagName=="BR"&&d.addRange(d.getRangeAt(0))}(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!t||t.parentElement!==e||o.anchorNode!==t&&!t.contains(o.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const o=e.activeElement,s=this.domConverter.mapDomToView(o);o&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function _v(a,e,t){const o=e instanceof Array?e:e.childNodes,s=o[t];if(Bt(s))return s.data=zl+s.data,s;{const l=a.createTextNode(zl);return Array.isArray(e)?o.splice(t,0,l):fn(e,t,l),l}}function P4(a,e){return un(a)&&un(e)&&!Bt(a)&&!Bt(e)&&!Pn(a)&&!Pn(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function L4(a,e){return un(a)&&un(e)&&Bt(a)&&Bt(e)}function z4(a,e,t){return e===t||(Bt(e)&&Bt(t)?e.data===t.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(t)))}function yv(a,e){const t=a.data;if(t==e)return;const o=b(t,e);for(const s of o)s.type==="insert"?a.insertData(s.index,s.values.join("")):a.deleteData(s.index,s.howMany)}const j4=bv(Ae.document),R4=mv(Ae.document),F4=kv(Ae.document),hh="data-ck-unsafe-attribute-",Av="data-ck-unsafe-element";class fh{constructor(e,{blockFillerMode:t,renderingMode:o="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Vi,this._inlineObjectElementMatcher=new Vi,this.document=e,this.renderingMode=o,this.blockFillerMode=t||(o==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ae.document:Ae.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new lo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,o){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(o==="img"&&(e==="src"||e==="srcset")||o==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const o=new DOMParser().parseFromString(t,"text/html"),s=o.createDocumentFragment(),l=o.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);const d=o.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),g=[];let p;for(;p=d.nextNode();)g.push(p);for(const k of g){for(const y of k.getAttributeNames())this.setDomElementAttribute(k,y,k.getAttribute(y));const w=k.tagName.toLowerCase();this._shouldRenameElement(w)&&(Ev(w),k.replaceWith(this._createReplacementDomElement(w,k)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(o,e),o;this._shouldRenameElement(e.name)?(Ev(e.name),o=this._createReplacementDomElement(e.name)):o=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(o,this),t.bind&&this.bindElements(o,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(o,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))o.appendChild(s);return o}}setDomElementAttribute(e,t,o,s){const l=this.shouldRenderAttribute(t,o,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);l||U("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:o}),function(d){try{Ae.document.createAttribute(d)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!l?e.removeAttribute(t):e.hasAttribute(hh+t)&&l&&e.removeAttribute(hh+t),e.setAttribute(l?t:hh+t,o)):U("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:o})}removeDomElementAttribute(e,t){t!=Av&&(e.removeAttribute(t),e.removeAttribute(hh+t))}*viewChildrenToDom(e,t={}){const o=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const l of e.getChildren()){o===s&&(yield this._getBlockFiller());const d=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!pn(l.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(l,t):(d&&U("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,t)),s++}o===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(o.parent,o.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const o=this.findCorrespondingDomText(t);if(!o)return null;let s=e.offset;return yi(o)&&(s+=uo),{parent:o,offset:s}}{let o,s,l;if(e.offset===0){if(o=this.mapViewToDom(t),!o)return null;l=o.childNodes[0]}else{const d=e.nodeBefore;if(s=d.is("$text")?this.findCorrespondingDomText(d):this.mapViewToDom(d),!s)return null;o=s.parentNode,l=s.nextSibling}return Bt(l)&&yi(l)?{parent:l,offset:uo}:{parent:o,offset:s?Gn(s)+1:0}}}domToView(e,t={}){const o=[],s=this._domToView(e,t,o),l=s.next().value;return l?(s.next(),this._processDomInlineNodes(null,o,t),l.is("$text")&&l.data.length==0?null:l):null}*domChildrenToView(e,t={},o=[]){for(let s=0;s<e.childNodes.length;s++){const l=e.childNodes[s],d=this._domToView(l,t,o),g=d.next().value;g!==null&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(e,o,t),yield g,d.next())}this._processDomInlineNodes(e,o,t)}domSelectionToView(e){if(function(s){if(!f.isGecko||!s.rangeCount)return!1;const l=s.getRangeAt(0).startContainer;try{Object.prototype.toString.call(l)}catch{return!0}return!1}(e))return new lo([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Bt(s)&&(s=s.parentNode);const l=this.fakeSelectionToView(s);if(l)return l}const t=this.isDomSelectionBackward(e),o=[];for(let s=0;s<e.rangeCount;s++){const l=e.getRangeAt(s),d=this.domRangeToView(l);d&&o.push(d)}return new lo(o,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new Te(t,o):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Gn(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return fe._createBefore(o);if(Bt(e)){if(jl(e))return this.domPositionToView(e.parentNode,Gn(e));const s=this.findCorrespondingViewText(e);let l=t;return s?(yi(e)&&(l-=uo,l=l<0?0:l),new fe(s,l)):null}if(t===0){const s=this.mapDomToView(e);if(s)return new fe(s,0)}else{const s=e.childNodes[t-1];if(Bt(s)&&jl(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Gn(s));const l=Bt(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(l&&l.parent)return new fe(l.parent,l.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(jl(e))return null;const t=this.getHostViewElement(e);if(t)return t;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const s=this.mapDomToView(o);if(s){const l=s.nextSibling;return l instanceof ht?l:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const l=s.getChild(0);return l instanceof ht?l:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:o,scrollY:s}=Ae.window,l=[];Cv(t,d=>{const{scrollLeft:g,scrollTop:p}=d;l.push([g,p])}),t.focus(),Cv(t,d=>{const[g,p]=l.shift();d.scrollLeft=g,d.scrollTop=p}),Ae.window.scrollTo(o,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),o=this.domSelectionToView(t);o&&o.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(j4):!(e.tagName!=="BR"||!xv(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(F4)||function(t,o){return t.isEqualNode(R4)&&xv(t,o)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const o=t.collapsed;return t.detach(),o}getHostViewElement(e){const t=function(o){const s=[];let l=o;for(;l&&l.nodeType!=Node.DOCUMENT_NODE;)s.unshift(l),l=l.parentNode;return s}(e);for(t.pop();t.length;){const o=t.pop(),s=this._domToViewMapping.get(o);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return mv(this._domDocument);case"markedNbsp":return kv(this._domDocument);case"br":return bv(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Bt(e)&&yi(e)&&t<uo||this.isElement(e)&&yi(e.childNodes[t]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}*_domToView(e,t,o){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(Pn(e)&&t.skipComments)return null;if(Bt(e)){if(jl(e))return null;{const l=e.data;if(l==="")return null;const d=new ht(this.document,l);return o.push(d),d}}{let l=this.mapDomToView(e);if(l)return this._isInlineObjectElement(l)&&o.push(l),l;if(this.isDocumentFragment(e))l=new Fs(this.document),t.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,t),t.bind&&this.bindElements(e,l);const g=e.attributes;if(g)for(let p=g.length,k=0;k<p;k++)l._setAttribute(g[k].name,g[k].value);if(this._isViewElementWithRawContent(l,t))return l._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(l)||o.push(l),l;if(Pn(e))return l._setCustomProperty("$rawContent",e.data),l}yield l;const d=[];if(t.withChildren!==!1)for(const g of this.domChildrenToView(e,t,d))l._appendChild(g);if(this._isInlineObjectElement(l))o.push(l);else for(const g of d)o.push(g)}}_processDomInlineNodes(e,t,o){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let l=0;l<t.length;l++){const d=t[l];if(!d.is("$text")){s=!1;continue}let g,p=!1;if(V4(d,this.preElements))g=wv(d.data);else{g=d.data.replace(/[ \n\t\r]{1,}/g," "),p=/[^\S\u00A0]/.test(g.charAt(g.length-1));const k=l>0?t[l-1]:null,w=l+1<t.length?t[l+1]:null,y=!k||k.is("element")&&k.name=="br"||s,C=!w&&!yi(d.data);o.withChildren!==!1&&(y&&(g=g.replace(/^ /,"")),C&&(g=g.replace(/ $/,""))),g=wv(g),g=g.replace(/ \u00A0/g,"  ");const D=w&&w.is("element")&&w.name!="br",N=w&&w.is("$text")&&w.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!w||D||N)&&(g=g.replace(/\u00A0$/," ")),(y||k&&k.is("element")&&k.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&d.parent?(d._remove(),t.splice(l,1),l--):(d._data=g,s=p)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return t;if(t.charAt(0)==" "){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const o=this._getTouchingInlineViewNode(e,!0),s=o&&o.is("$textProxy")&&o.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&o&&!s||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const o=new js({startPosition:t?fe._createAfter(e):fe._createBefore(e),direction:t?"forward":"backward"});for(const s of o){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(Pn(e))return new uh(this.document,"$comment");const o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new _i(this.document,o)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const o=this._domDocument.createElement("span");if(o.setAttribute(Av,e),t){for(;t.firstChild;)o.appendChild(t.firstChild);for(const s of t.getAttributeNames())o.setAttribute(s,t.getAttribute(s))}return o}}function V4(a,e){return a.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function Cv(a,e){let t=a;for(;t;)e(t),t=t.parentElement}function xv(a,e){const t=a.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Ev(a){a==="script"&&U("domconverter-unsafe-script-element-detected"),a==="style"&&U("domconverter-unsafe-style-element-detected")}class Oo extends dt(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Sv=ov(function(a,e){ir(e,Io(e),a)});class Wa{constructor(e,t,o){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Sv(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Vs extends Oo{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(o,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,o){this.isEnabled&&this.document.fire(e,new Wa(this.view,t,o))}}class U4 extends Vs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ua(this)}};this.fire(e.type,e,t)}}const Gp=function(){return Kt.Date.now()};var H4=/\s/;const $4=function(a){for(var e=a.length;e--&&H4.test(a.charAt(e)););return e};var W4=/^\s+/;const q4=function(a){return a&&a.slice(0,$4(a)+1).replace(W4,"")};var G4=/^[-+]0x[0-9a-f]+$/i,Y4=/^0b[01]+$/i,K4=/^0o[0-7]+$/i,Z4=parseInt;const Dv=function(a){if(typeof a=="number")return a;if(sh(a))return NaN;if(me(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=me(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=q4(a);var t=Y4.test(a);return t||K4.test(a)?Z4(a.slice(2),t?2:8):G4.test(a)?NaN:+a};var Q4=Math.max,J4=Math.min;const Rl=function(a,e,t){var o,s,l,d,g,p,k=0,w=!1,y=!1,C=!0;if(typeof a!="function")throw new TypeError("Expected a function");function D(Q){var ce=o,xe=s;return o=s=void 0,k=Q,d=a.apply(xe,ce)}function N(Q){var ce=Q-p;return p===void 0||ce>=e||ce<0||y&&Q-k>=l}function P(){var Q=Gp();if(N(Q))return z(Q);g=setTimeout(P,function(ce){var xe=e-(ce-p);return y?J4(xe,l-(ce-k)):xe}(Q))}function z(Q){return g=void 0,C&&o?D(Q):(o=s=void 0,d)}function W(){var Q=Gp(),ce=N(Q);if(o=arguments,s=this,p=Q,ce){if(g===void 0)return function(xe){return k=xe,g=setTimeout(P,e),w?D(xe):d}(p);if(y)return clearTimeout(g),g=setTimeout(P,e),D(p)}return g===void 0&&(g=setTimeout(P,e)),d}return e=Dv(e)||0,me(t)&&(w=!!t.leading,l=(y="maxWait"in t)?Q4(Dv(t.maxWait)||0,e):l,C="trailing"in t?!!t.trailing:C),W.cancel=function(){g!==void 0&&clearTimeout(g),k=0,o=p=s=g=void 0},W.flush=function(){return g===void 0?d:z(Gp())},W};class X4 extends Oo{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Rl(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,o=new lo(t.getRanges(),{backward:t.isBackward,fake:!1});e!=qe.arrowleft&&e!=qe.arrowup||o.setTo(o.getFirstPosition()),e!=qe.arrowright&&e!=qe.arrowdown||o.setTo(o.getLastPosition());const s={oldSelection:t,newSelection:o,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}const eI=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},tI=function(a){return this.__data__.has(a)};function gh(a){var e=-1,t=a==null?0:a.length;for(this.__data__=new Ta;++e<t;)this.add(a[e])}gh.prototype.add=gh.prototype.push=eI,gh.prototype.has=tI;const nI=gh,iI=function(a,e){for(var t=-1,o=a==null?0:a.length;++t<o;)if(e(a[t],t,a))return!0;return!1},oI=function(a,e){return a.has(e)},Tv=function(a,e,t,o,s,l){var d=1&t,g=a.length,p=e.length;if(g!=p&&!(d&&p>g))return!1;var k=l.get(a),w=l.get(e);if(k&&w)return k==e&&w==a;var y=-1,C=!0,D=2&t?new nI:void 0;for(l.set(a,e),l.set(e,a);++y<g;){var N=a[y],P=e[y];if(o)var z=d?o(P,N,y,e,a,l):o(N,P,y,a,e,l);if(z!==void 0){if(z)continue;C=!1;break}if(D){if(!iI(e,function(W,Q){if(!oI(D,Q)&&(N===W||s(N,W,t,o,l)))return D.push(Q)})){C=!1;break}}else if(N!==P&&!s(N,P,t,o,l)){C=!1;break}}return l.delete(a),l.delete(e),C},rI=function(a){var e=-1,t=Array(a.size);return a.forEach(function(o,s){t[++e]=[s,o]}),t},sI=function(a){var e=-1,t=Array(a.size);return a.forEach(function(o){t[++e]=o}),t};var Iv=Rt?Rt.prototype:void 0,Yp=Iv?Iv.valueOf:void 0;const aI=function(a,e,t,o,s,l,d){switch(t){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!l(new tt(a),new tt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ht(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var g=rI;case"[object Set]":var p=1&o;if(g||(g=sI),a.size!=e.size&&!p)return!1;var k=d.get(a);if(k)return k==e;o|=2,d.set(a,e);var w=Tv(g(a),g(e),o,s,l,d);return d.delete(a),w;case"[object Symbol]":if(Yp)return Yp.call(a)==Yp.call(e)}return!1};var cI=Object.prototype.hasOwnProperty;const lI=function(a,e,t,o,s,l){var d=1&t,g=Cl(a),p=g.length;if(p!=Cl(e).length&&!d)return!1;for(var k=p;k--;){var w=g[k];if(!(d?w in e:cI.call(e,w)))return!1}var y=l.get(a),C=l.get(e);if(y&&C)return y==e&&C==a;var D=!0;l.set(a,e),l.set(e,a);for(var N=d;++k<p;){var P=a[w=g[k]],z=e[w];if(o)var W=d?o(z,P,w,e,a,l):o(P,z,w,a,e,l);if(!(W===void 0?P===z||s(P,z,t,o,l):W)){D=!1;break}N||(N=w=="constructor")}if(D&&!N){var Q=a.constructor,ce=e.constructor;Q==ce||!("constructor"in a)||!("constructor"in e)||typeof Q=="function"&&Q instanceof Q&&typeof ce=="function"&&ce instanceof ce||(D=!1)}return l.delete(a),l.delete(e),D};var Mv="[object Arguments]",Nv="[object Array]",ph="[object Object]",Ov=Object.prototype.hasOwnProperty;const dI=function(a,e,t,o,s,l){var d=wt(a),g=wt(e),p=d?Nv:Fr(a),k=g?Nv:Fr(e),w=(p=p==Mv?ph:p)==ph,y=(k=k==Mv?ph:k)==ph,C=p==k;if(C&&Os(a)){if(!Os(e))return!1;d=!0,w=!1}if(C&&!w)return l||(l=new Ms),d||gl(a)?Tv(a,e,t,o,s,l):aI(a,e,p,t,o,s,l);if(!(1&t)){var D=w&&Ov.call(a,"__wrapped__"),N=y&&Ov.call(e,"__wrapped__");if(D||N){var P=D?a.value():a,z=N?e.value():e;return l||(l=new Ms),s(P,z,t,o,l)}}return!!C&&(l||(l=new Ms),lI(a,e,t,o,s,l))},Bv=function a(e,t,o,s,l){return e===t||(e==null||t==null||!Ft(e)&&!Ft(t)?e!=e&&t!=t:dI(e,t,o,s,a,l))},uI=function(a,e,t){var o=(t=typeof t=="function"?t:void 0)?t(a,e):void 0;return o===void 0?Bv(a,e,void 0,t):!!o};class Pv extends Oo{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,o=new Set,s=new Set;for(const d of e){const g=t.mapDomToView(d.target);g&&(g.is("uiElement")||g.is("rawElement")||d.type!=="childList"||this._isBogusBrMutation(d)||s.add(g))}for(const d of e){const g=t.mapDomToView(d.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&d.type==="characterData"){const p=t.findCorrespondingViewText(d.target);p&&!s.has(p.parent)?o.add(p):!p&&yi(d.target)&&s.add(t.mapDomToView(d.target.parentNode))}}let l=!1;for(const d of o)l=!0,this.renderer.markToSync("text",d);for(const d of s){const g=t.mapViewToDom(d),p=Array.from(d.getChildren()),k=Array.from(t.domChildrenToView(g,{withChildren:!1}));uI(p,k,hI)||(l=!0,this.renderer.markToSync("children",d))}l&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function hI(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class mh extends Vs{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(o,s)=>{const l=t.selection.editableElement;l!==null&&l!==s.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class fI extends Oo{constructor(e){super(e),this.mutationObserver=e.getObserver(Pv),this.focusObserver=e.getObserver(mh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Rl(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Rl(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(s,l)=>{this.document.isComposing&&!f.isAndroid||(this._handleSelectionChange(l,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const o=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(o);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(s)||!this.domConverter.isDomSelectionCorrect(o))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(s))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:s,domSelection:o};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class gI extends Vs{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Lv{constructor(e,t={}){this._files=t.cacheFiles?zv(e):null,this._native=e}get files(){return this._files||(this._files=zv(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,o){this._native.setDragImage(e,t,o)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function zv(a){const e=Array.from(a.files||[]),t=Array.from(a.items||[]);return e.length?e:t.filter(o=>o.kind==="file").map(o=>o.getAsFile())}class pI extends Vs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),o=this.view,s=o.document;let l=null,d=null,g=[];if(e.dataTransfer&&(l=new Lv(e.dataTransfer)),e.data!==null?d=e.data:l&&(d=l.getData("text/plain")),s.selection.isFake)g=Array.from(s.selection.getRanges());else if(t.length)g=t.map(p=>{const k=o.domConverter.domPositionToView(p.startContainer,p.startOffset),w=o.domConverter.domPositionToView(p.endContainer,p.endOffset);return k?o.createRange(k,w):w?o.createRange(w):void 0}).filter(p=>!!p);else if(f.isAndroid){const p=e.target.ownerDocument.defaultView.getSelection();g=Array.from(o.domConverter.domSelectionToView(p).getRanges())}if(f.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(g[0].end)]});else if(e.inputType=="insertText"&&d&&d.includes(`
`)){const p=d.split(/\n{1,2}/g);let k=g;for(let w=0;w<p.length;w++){const y=p[w];y!=""&&(this.fire(e.type,e,{data:y,dataTransfer:l,targetRanges:k,inputType:e.inputType,isComposing:e.isComposing}),k=[s.selection.getFirstRange()]),w+1<p.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:k}),k=[s.selection.getFirstRange()])}}else this.fire(e.type,e,{data:d,dataTransfer:l,targetRanges:g,inputType:e.inputType,isComposing:e.isComposing})}}class mI extends Oo{constructor(e){super(e),this.document.on("keydown",(t,o)=>{if(this.isEnabled&&((s=o.keyCode)==qe.arrowright||s==qe.arrowleft||s==qe.arrowup||s==qe.arrowdown)){const l=new Ha(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,o),l.stop.called&&t.stop()}var s})}observe(){}stopObserving(){}}class kI extends Oo{constructor(e){super(e);const t=this.document;t.on("keydown",(o,s)=>{if(!this.isEnabled||s.keyCode!=qe.tab||s.ctrlKey)return;const l=new Ha(t,"tab",t.selection.getFirstRange());t.fire(l,s),l.stop.called&&o.stop()})}observe(){}stopObserving(){}}const Ur=function(a){return we(a,5)};class bI extends Me(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new dh(e),this.domConverter=new fh(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new B4(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new uv(this.document),this.addObserver(Pv),this.addObserver(mh),this.addObserver(fI),this.addObserver(U4),this.addObserver(X4),this.addObserver(gI),this.addObserver(mI),this.addObserver(pI),this.addObserver(kI),this.document.on("arrowKey",N4,{priority:"low"}),S4(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),f.isiOS&&this.listenTo(this.document,"blur",(t,o)=>{this.domConverter.mapDomToView(o.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const o=this.document.getRoot(t);o._name=e.tagName.toLowerCase();const s={};for(const{name:d,value:g}of Array.from(e.attributes))s[d]=g,d==="class"?this._writer.addClass(g.split(" "),o):this._writer.setAttribute(d,g,o);this._initialDomRootAttributes.set(e,s);const l=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};l(),this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(d,g)=>this._renderer.markToSync("children",g)),o.on("change:attributes",(d,g)=>this._renderer.markToSync("attributes",g)),o.on("change:text",(d,g)=>this._renderer.markToSync("text",g)),o.on("change:isReadOnly",()=>this.change(l)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const o=this._initialDomRootAttributes.get(t);for(const s in o)t.setAttribute(s,o[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[o,s]of this.domRoots)t.observe(s,o);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:o=20,ancestorOffset:s=20}={}){const l=this.document.selection.getFirstRange();if(!l)return;const d=Ur({alignToTop:e,forceScroll:t,viewportOffset:o,ancestorOffset:s});typeof o=="number"&&(o={top:o,bottom:o,left:o,right:o});const g={target:this.domConverter.viewRangeToDom(l),viewportOffset:o,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",g,d),function({target:p,viewportOffset:k=0,ancestorOffset:w=0,alignToTop:y,forceScroll:C}){const D=Ap(p);let N=D,P=null;for(k=function(z){return typeof z=="number"?{top:z,bottom:z,left:z,right:z}:z}(k);N;){let z;z=PT(N==D?p:P),BT({parent:z,getRect:()=>Lw(p,N),alignToTop:y,ancestorOffset:w,forceScroll:C});const W=Lw(p,N);if(OT({window:N,rect:W,viewportOffset:k,alignToTop:y,forceScroll:C}),N.parent!=N){if(P=N.frameElement,N=N.parent,!P)return}else N=null}}(g)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new E("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){E.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(mh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Te(e,t)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(...e){return new lo(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Hr{is(){throw new Error("is() method is abstract")}}class Us extends Hr{constructor(e){super(),this.parent=null,this._attrs=Mo(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new E("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new E("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),s=e.getAncestors(t);let l=0;for(;o[l]==s[l]&&o[l];)l++;return l===0?null:o[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),s=Dt(t,o);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<o[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,o)=>(t[o[0]]=o[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Mo(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Us.prototype.is=function(a){return a==="node"||a==="model:node"};class Fl{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((o,s)=>o+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new E("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const o of this._nodes){if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}if(t!=e)throw new E("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const o of t)if(!(o instanceof Us))throw new E("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,s,l,d){if(Math.max(s.length,o.length)>1e4)return o.slice(0,l).concat(s).concat(o.slice(l+d,o.length));{const g=Array.from(o);return g.splice(l,d,...s),g}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class ft extends Us{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new ft(this.data,this.getAttributes())}static fromJSON(e){return new ft(e.data,e.attributes)}}ft.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class ho extends Hr{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new E("model-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.offsetSize)throw new E("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ho.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class at extends Us{constructor(e,t,o){super(t),this._children=new Fl,this.name=e,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}findAncestor(e,t={}){let o=t.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new at(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=function(s){return typeof s=="string"?[new ft(s)]:(Yt(s)||(s=[s]),Array.from(s).map(l=>typeof l=="string"?new ft(l):l instanceof ho?new ft(l.data,l.getAttributes()):l))}(t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const s of o)s.parent=null;return o}static fromJSON(e){let t;if(e.children){t=[];for(const o of e.children)o.name?t.push(at.fromJSON(o)):t.push(ft.fromJSON(o))}return new at(e.name,e.attributes,t)}}at.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Bo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new E("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new E("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=ae._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,o,s,l;do s=this.position,l=this._visitedParent,{done:t,value:o}=this.next();while(!t&&e(o));t||(this._position=s,this._visitedParent=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(o.parent===null&&t.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Vl(t,o),l=s||jv(t,o,s);if(l instanceof at){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=l;return this._position=t,Hs("elementStart",l,e,t,1)}if(l instanceof ft){let d;if(this.singleCharacters)d=1;else{let k=l.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<k&&(k=this.boundaries.end.offset),d=k-t.offset}const g=t.offset-l.startOffset,p=new ho(l,g,d);return t.offset+=d,this._position=t,Hs("text",p,e,t,d)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():Hs("elementEnd",o,e,t)}_previous(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(o.parent===null&&t.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,l=Vl(t,s),d=l||Rv(t,s,l);if(d instanceof at)return t.offset--,this.shallow?(this._position=t,Hs("elementStart",d,e,t,1)):(t.path.push(d.maxOffset),this._position=t,this._visitedParent=d,this.ignoreElementEnd?this._previous():Hs("elementEnd",d,e,t));if(d instanceof ft){let g;if(this.singleCharacters)g=1;else{let w=d.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>w&&(w=this.boundaries.start.offset),g=t.offset-w}const p=t.offset-d.startOffset,k=new ho(d,p-g,g);return t.offset-=g,this._position=t,Hs("text",k,e,t,g)}return t.path.pop(),this._position=t,this._visitedParent=o.parent,Hs("elementStart",o,e,t,1)}}function Hs(a,e,t,o,s){return{done:!1,value:{type:a,item:e,previousPosition:t,nextPosition:o,length:s}}}class ae extends Hr{constructor(e,t,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new E("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new E("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new E("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new E("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Vl(this,this.parent)}get nodeAfter(){const e=this.parent;return jv(this,e,Vl(this,e))}get nodeBefore(){const e=this.parent;return Rv(this,e,Vl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Dt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new Bo(t);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Dt(this.path,e.path),o=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,o)}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let s=0;for(;t[s]==o[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),o=t.offset+e;return t.offset=o<0?0:o,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let o=0;o<t;o++){const s=this.path[o]-e.path[o];if(s<-1||s>1)return!1;if(s===1)return Fv(e,this,o);if(s===-1)return Fv(this,e,o)}return this.path.length===e.path.length||(this.path.length>e.path.length?Kp(this.path,t):Kp(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Dt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ae._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let o;return t.containsPosition(this)||t.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?ae._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,t){const o=ae._createAt(this);if(this.root!=e.root)return o;if(Dt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;o.offset-=t}}else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;o.path[s]-=t}}return o}_getTransformedByInsertion(e,t){const o=ae._createAt(this);if(this.root!=e.root)return o;if(Dt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(o.offset+=t);else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(o.path[s]+=t)}return o}_getTransformedByMove(e,t,o){if(t=t._getTransformedByDeletion(e,o),e.isEqual(t))return ae._createAt(this);const s=this._getTransformedByDeletion(e,o);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(o).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,o)}_getCombined(e,t){const o=e.path.length-1,s=ae._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[o]-e.offset,s.path=[...s.path,...this.path.slice(o+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,o="toNone"){if(e instanceof ae)return new ae(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,o);if(t=="after")return this._createAfter(s,o);if(t!==0&&!t)throw new E("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new E("model-position-parent-incorrect",[this,e]);const l=s.getPath();return l.push(t),new this(s.root,l,o)}}static _createAfter(e,t){if(!e.parent)throw new E("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new E("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const o=new ae(t.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!t.getRoot(e.root))throw new E("model-position-fromjson-no-root",t,{rootName:e.root});return new ae(t.getRoot(e.root),e.path,e.stickiness)}}function Vl(a,e){const t=e.getChild(e.offsetToIndex(a.offset));return t&&t.is("$text")&&t.startOffset<a.offset?t:null}function jv(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset))}function Rv(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function Fv(a,e,t){return t+1!==a.path.length&&!!Kp(e.path,t+1)&&!!function(o,s){let l=o.parent,d=o.path.length-1,g=0;for(;d>=s;){if(o.path[d]+g!==l.maxOffset)return!1;g=1,d--,l=l.parent}return!0}(a,t+1)}function Kp(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}ae.prototype.is=function(a){return a==="position"||a==="model:position"};class ee extends Hr{constructor(e,t){super(),this.start=ae._createAt(e),this.end=t?ae._createAt(t):ae._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Bo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Dt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&s}containsItem(e){const t=ae._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ee(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ee(e.end,this.end))):t.push(new ee(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new ee(t,o)}return null}getJoined(e,t=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let s=this.start,l=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(l)&&(l=e.end),new ee(s,l)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,o=ae._createAt(this.start);let s=o.parent;for(;o.path.length>t+1;){const l=s.maxOffset-o.offset;l!==0&&e.push(new ee(o,o.getShiftedBy(l))),o.path=o.path.slice(0,-1),o.offset++,s=s.parent}for(;o.path.length<=this.end.path.length;){const l=this.end.path[o.path.length-1],d=l-o.offset;d!==0&&e.push(new ee(o,o.getShiftedBy(d))),o.offset=l,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Bo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Bo(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new Bo(e);yield t.position;for(const o of t)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ee(this.start,this.end)]}getTransformedByOperations(e){const t=[new ee(this.start,this.end)];for(const o of e)for(let s=0;s<t.length;s++){const l=t[s].getTransformedByOperation(o);t.splice(s,1,...l),s+=l.length-1}for(let o=0;o<t.length;o++){const s=t[o];for(let l=o+1;l<t.length;l++){const d=t[l];(s.containsRange(d)||d.containsRange(s)||s.isEqual(d))&&t.splice(l,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const o=e.sourcePosition,s=e.howMany,l=e.targetPosition;return this._getTransformedByMove(o,l,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),t.root!=o.root&&(o=this.end.getShiftedBy(-1)),new ee(t,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ee(this.start);let t=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return t.root!=o.root&&(o=this.end.getShiftedBy(-1)),t.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(t=ae._createAt(o),t.offset=0):(e.deletionPosition.isEqual(t)||(o=e.deletionPosition),t=e.targetPosition),new ee(t,o)):new ee(t,o)}_getTransformedByInsertion(e,t,o=!1){if(o&&this.containsPosition(e))return[new ee(this.start,e),new ee(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new ee(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,o,s=!1){if(this.isCollapsed){const y=this.start._getTransformedByMove(e,t,o);return[new ee(y)]}const l=ee._createFromPositionAndShift(e,o),d=t._getTransformedByDeletion(e,o);if(this.containsPosition(t)&&!s&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const y=this.start._getTransformedByMove(e,t,o),C=this.end._getTransformedByMove(e,t,o);return[new ee(y,C)]}let g;const p=this.getDifference(l);let k=null;const w=this.getIntersection(l);if(p.length==1?k=new ee(p[0].start._getTransformedByDeletion(e,o),p[0].end._getTransformedByDeletion(e,o)):p.length==2&&(k=new ee(this.start,this.end._getTransformedByDeletion(e,o))),g=k?k._getTransformedByInsertion(d,o,w!==null||s):[],w){const y=new ee(w.start._getCombined(l.start,d),w.end._getCombined(l.start,d));g.length==2?g.splice(1,0,y):g.push(y)}return g}_getTransformedByDeletion(e,t){let o=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return o==null&&s==null?null:(o==null&&(o=e),s==null&&(s=e),new ee(o,s))}static _createFromPositionAndShift(e,t){const o=e,s=e.getShiftedBy(t);return t>0?new this(o,s):new this(s,o)}static _createIn(e){return new this(ae._createAt(e,0),ae._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ae._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new E("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((l,d)=>l.start.isAfter(d.start)?1:-1);const o=e.indexOf(t),s=new this(t.start,t.end);if(o>0)for(let l=o-1;e[l].end.isEqual(s.start);l++)s.start=ae._createAt(e[l].start);for(let l=o+1;l<e.length&&e[l].start.isEqual(s.end);l++)s.end=ae._createAt(e[l].end);return s}static fromJSON(e,t){return new this(ae.fromJSON(e.start,t),ae.fromJSON(e.end,t))}}ee.prototype.is=function(a){return a==="range"||a==="model:range"};class Vv extends $(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const o=this._modelToViewMapping.get(t.modelPosition.parent);if(!o)throw new E("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(o,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const o=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(o),l=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,o);t.modelPosition=ae._createAt(s,l)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const o=this._markerNameToElements.get(t)||new Set;o.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,o),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const o=this._markerNameToElements.get(t);o&&(o.delete(e),o.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ee(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Te(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const o=new Set;for(const s of t)if(s.is("attributeElement"))for(const l of s.getElementsWithSameId())o.add(l);else o.add(s);return o}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let s=0;for(let l=0;l<t;l++)s+=this.getModelLength(e.getChild(l));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const o of e.getChildren())t+=this.getModelLength(o);return t}}findPositionIn(e,t){let o,s=0,l=0,d=0;if(e.is("$text"))return new fe(e,t);for(;l<t;)o=e.getChild(d),s=this.getModelLength(o),l+=s,d++;return l==t?this._moveViewPositionToTextNode(new fe(e,d)):this.findPositionIn(o,t-(l-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,o=e.nodeAfter;return t instanceof ht?new fe(t,t.data.length):o instanceof ht?new fe(o,0):e}}class wI{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=kh(t),e instanceof ho&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=kh(t),e instanceof ho&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=kh(t),e instanceof ho&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const s=o.get(t);return s===void 0?null:s}revert(e,t){t=kh(t),e instanceof ho&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,t);return o===!1?(this._consumable.get(e).set(t,!0),!0):o!==!0&&null}verifyAllConsumed(e){const t=[];for(const[o,s]of this._consumable)for(const[l,d]of s){const g=l.split(":")[0];d&&e==g&&t.push({event:l,item:o.name||o.description})}if(t.length)throw new E("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const s=o.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,o=e.endOffset,s=e.parent,l=Symbol("$textProxy:"+e.data);let d,g;return d=this._textProxyRegistry.get(t),d||(d=new Map,this._textProxyRegistry.set(t,d)),g=d.get(o),g||(g=new Map,d.set(o,g)),g.set(s,l),l}}function kh(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}class Uv extends $(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,o){const s=this._createConversionApi(o,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,s);const l=this._reduceChanges(e.getChanges());for(const d of l)d.type==="insert"?this._convertInsert(ee._createFromPositionAndShift(d.position,d.length),s):d.type==="reinsert"?this._convertReinsert(ee._createFromPositionAndShift(d.position,d.length),s):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,s):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,s);for(const d of s.mapper.flushUnboundMarkerNames()){const g=t.get(d).getRange();this._convertMarkerRemove(d,g,s),this._convertMarkerAdd(d,g,s)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,o,s={}){const l=this._createConversionApi(o,void 0,s);this._convertInsert(e,l);for(const[d,g]of t)this._convertMarkerAdd(d,g,l);l.consumable.verifyAllConsumed("insert")}convertSelection(e,t,o){const s=this._createConversionApi(o);this.fire("cleanSelection",{selection:e},s);const l=e.getFirstPosition().root;if(!s.mapper.toViewElement(l))return;const d=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,d),this.fire("selection",{selection:e},s),e.isCollapsed){for(const g of d)if(s.consumable.test(e,"addMarker:"+g.name)){const p=g.getRange();if(!vI(e.getFirstPosition(),g,s.mapper))continue;const k={item:e,markerName:g.name,markerRange:p};this.fire(`addMarker:${g.name}`,k,s)}for(const g of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+g)){const p={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};this.fire(`attribute:${g}:$text`,p,s)}}}_convertInsert(e,t,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(Hv))this._testAndFire("insert",s,t)}_convertRemove(e,t,o,s){this.fire(`remove:${o}`,{position:e,length:t},s)}_convertAttribute(e,t,o,s,l){this._addConsumablesForRange(l.consumable,e,`attribute:${t}`);for(const d of e){const g={item:d.item,range:ee._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:t,attributeOldValue:o,attributeNewValue:s};this._testAndFire(`attribute:${t}`,g,l)}}_convertReinsert(e,t){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,o);for(const s of o.map(Hv))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,o){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(o.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},o),o.consumable.consume(t,s)){this._addConsumablesForRange(o.consumable,t,s);for(const l of t.getItems()){if(!o.consumable.test(l,s))continue;const d={item:l,range:ee._createOn(l),markerName:e,markerRange:t};this.fire(s,d,o)}}}_convertMarkerRemove(e,t,o){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},o)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const o of t){const s=o.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const l of s.getAttributeKeys())e.add(s,"attribute:"+l)}}return e}_addConsumablesForRange(e,t,o){for(const s of t.getItems())e.add(s,o);return e}_addConsumablesForSelection(e,t,o){e.add(t,"selection");for(const s of o)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,o){const s=function(p,k){const w=k.item.is("element")?k.item.name:"$text";return`${p}:${w}`}(e,t),l=t.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(t.item):t.item,d=this._firedEventsMap.get(o),g=d.get(l);if(g){if(g.has(s))return;g.add(s)}else d.set(l,new Set([s]));this.fire(s,t,o)}_testAndFireAddAttributes(e,t){const o={item:e,range:ee._createOn(e)};for(const s of o.item.getAttributeKeys())o.attributeKey=s,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(s),this._testAndFire(`attribute:${s}`,o,t)}_createConversionApi(e,t=new Set,o={}){const s={...this._conversionApi,consumable:new wI,writer:e,options:o,convertItem:l=>this._convertInsert(ee._createOn(l),s),convertChildren:l=>this._convertInsert(ee._createIn(l),s,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,s),canReuseView:l=>!t.has(s.mapper.toModelElement(l))};return this._firedEventsMap.set(s,new Map),s}}function vI(a,e,t){const o=e.getRange(),s=Array.from(a.getAncestors());return s.shift(),s.reverse(),!s.some(l=>{if(o.containsItem(l))return!!t.toViewElement(l).getCustomProperty("addHighlight")})}function Hv(a){return{item:a.item,range:ee._createFromPositionAndShift(a.previousPosition,a.length)}}class Ai extends $(Hr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const s of e._ranges)if(t.isEqual(s)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ee(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new ee(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new ee(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,o,s]=e;if(typeof o=="object"&&(s=o,o=void 0),t===null)this._setRanges([]);else if(t instanceof Ai)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ee)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof ae)this._setRanges([new ee(t)]);else if(t instanceof Us){const l=!!s&&!!s.backward;let d;if(o=="in")d=ee._createIn(t);else if(o=="on")d=ee._createOn(t);else{if(o===void 0)throw new E("model-selection-setto-required-second-parameter",[this,t]);d=new ee(ae._createAt(t,o))}this._setRanges([d],l)}else{if(!Yt(t))throw new E("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,s&&!!s.backward)}}_setRanges(e,t=!1){const o=Array.from(e),s=o.some(l=>{if(!(l instanceof ee))throw new E("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(l))});(o.length!==this._ranges.length||s)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new E("model-selection-setfocus-no-ranges",[this,e]);const o=ae._createAt(e,t);if(o.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),o.compareWith(s)=="before"?(this._pushRange(new ee(o,s)),this._lastRangeBackward=!0):(this._pushRange(new ee(s,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const o=Wv(t.start,e);yI(o,t)&&(yield o);for(const l of t.getWalker()){const d=l.item;l.type=="elementEnd"&&_I(d,e,t)&&(yield d)}const s=Wv(t.end,e);AI(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=ae._createAt(e,0),o=ae._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ee(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new E("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function $v(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function _I(a,e,t){return $v(a,e)&&Zp(a,t)}function Wv(a,e){const t=a.parent.root.document.model.schema,o=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const l=o.find(d=>!s&&(s=t.isLimit(d),!s&&$v(d,e)));return o.forEach(d=>e.add(d)),l}function Zp(a,e){const t=function(o){const s=o.root.document.model.schema;let l=o.parent;for(;l;){if(s.isBlock(l))return l;l=l.parent}}(a);return t?!e.containsRange(ee._createOn(t),!0):!0}function yI(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(ae._createAt(a,a.maxOffset))&&Zp(a,e))}function AI(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(ae._createAt(a,0))&&Zp(a,e))}Ai.prototype.is=function(a){return a==="selection"||a==="model:selection"};class si extends $(ee){constructor(e,t){super(e,t),CI.call(this)}detach(){this.stopListening()}toRange(){return new ee(this.start,this.end)}static fromRange(e){return new si(e.start,e.end)}}function CI(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&xI.call(this,t)},{priority:"low"})}function xI(a){const e=this.getTransformedByOperation(a),t=ee._createFromRanges(e),o=!t.isEqual(this),s=function(d,g){switch(g.type){case"insert":return d.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return d.containsPosition(g.sourcePosition)||d.start.isEqual(g.sourcePosition)||d.containsPosition(g.targetPosition);case"split":return d.containsPosition(g.splitPosition)||d.containsPosition(g.insertionPosition)}return!1}(this,a);let l=null;if(o){t.root.rootName=="$graveyard"&&(l=a.type=="remove"?a.sourcePosition:a.deletionPosition);const d=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",d,{deletionPosition:l})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:l})}si.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const bh="selection:";class fo extends $(Hr){constructor(e){super(),this._selection=new EI(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return bh+e}static _isStoreAttributeKey(e){return e.startsWith(bh)}}fo.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class EI extends Ai{constructor(e){super(),this.markers=new Fi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,o)=>{const s=o[0];s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,o,s,l)=>{this._updateMarker(o,l)}),this.listenTo(this._document,"change",(t,o)=>{(function(s,l){const d=s.document.differ;for(const g of d.getChanges()){if(g.type!="insert")continue;const p=g.position.parent;g.length===p.maxOffset&&s.enqueueChange(l,k=>{const w=Array.from(p.getAttributeKeys()).filter(y=>y.startsWith(bh));for(const y of w)k.removeAttribute(y,p)})}})(this._model,o)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=B();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new E("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new E("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=si.fromRange(e);return t.on("change:range",(o,s,l)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const d=this._ranges.indexOf(t);this._ranges.splice(d,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const l=s.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const d=s.getRange();for(const g of this.getRanges())d.containsRange(g,!g.isCollapsed)&&e.push(s)}const o=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,t){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let s=!1;const l=Array.from(this.markers),d=this.markers.has(e);if(t){let g=!1;for(const p of this.getRanges())if(t.containsRange(p,!p.isCollapsed)){g=!0;break}g&&!d?(this.markers.add(e),s=!0):!g&&d&&(this.markers.remove(e),s=!0)}else d&&(this.markers.remove(e),s=!0);s&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(e){const t=Mo(this._getSurroundingAttributes()),o=Mo(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,d]of this._attributePriority)d=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(t);const s=[];for(const[l,d]of this.getAttributes())o.has(l)&&o.get(l)===d||s.push(l);for(const[l]of o)this.hasAttribute(l)||s.push(l);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,o=!0){const s=o?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const o=t?"normal":"low";return(o!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,o),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[o,s]of this.getAttributes())e.get(o)!==s&&this._removeAttribute(o,!1);for(const[o,s]of e)this._setAttribute(o,s,!1)&&t.add(o);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(bh)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let o=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Ul(s,t)),o||(o=Ul(l,t)),!this.isGravityOverridden&&!o){let d=s;for(;d&&!o;)d=d.previousSibling,o=Ul(d,t)}if(!o){let d=l;for(;d&&!o;)d=d.nextSibling,o=Ul(d,t)}o||(o=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const l of s){if(l.item.is("element")&&t.isObject(l.item)){o=Ul(l.item,t);break}if(l.type=="text"){o=l.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Ul(a,e){if(!a)return null;if(a instanceof ho||a instanceof ft)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const t=[];for(const[o,s]of a.getAttributes())e.checkAttribute("$text",o)&&e.getAttributeProperties(o).copyFromObject!==!1&&t.push([o,s]);return t}class qv{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class SI extends qv{elementToElement(e){return this.add(function(t){const o=Kv(t.model),s=Hl(t.view,"container");return o.attributes.length&&(o.children=!0),l=>{l.on(`insert:${o.name}`,function(d,g=TI){return(p,k,w)=>{if(!g(k.item,w.consumable,{preflight:!0}))return;const y=d(k.item,w,k);if(!y)return;g(k.item,w.consumable);const C=w.mapper.toViewPosition(k.range.start);w.mapper.bindElements(k.item,y),w.writer.insert(C,y),w.convertAttributes(k.item),e_(y,k.item.getChildren(),w,{reconversion:k.reconversion})}}(s,Xv(o)),{priority:t.converterPriority||"normal"}),(o.children||o.attributes.length)&&l.on("reduceChanges",Jv(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const o=Kv(t.model),s=Hl(t.view,"container");return o.children=!0,l=>{if(l._conversionApi.schema.checkChild(o.name,"$text"))throw new E("conversion-element-to-structure-disallowed-text",l,{elementName:o.name});var d,g;l.on(`insert:${o.name}`,(d=s,g=Xv(o),(p,k,w)=>{if(!g(k.item,w.consumable,{preflight:!0}))return;const y=new Map;w.writer._registerSlotFactory(function(N,P,z){return(W,Q)=>{const ce=W.createContainerElement("$slot");let xe=null;if(Q==="children")xe=Array.from(N.getChildren());else{if(typeof Q!="function")throw new E("conversion-slot-mode-unknown",z.dispatcher,{modeOrFilter:Q});xe=Array.from(N.getChildren()).filter(He=>Q(He))}return P.set(ce,xe),ce}}(k.item,y,w));const C=d(k.item,w,k);if(w.writer._clearSlotFactory(),!C)return;(function(N,P,z){const W=Array.from(P.values()).flat(),Q=new Set(W);if(Q.size!=W.length)throw new E("conversion-slot-filter-overlap",z.dispatcher,{element:N});if(Q.size!=N.childCount)throw new E("conversion-slot-filter-incomplete",z.dispatcher,{element:N})})(k.item,y,w),g(k.item,w.consumable);const D=w.mapper.toViewPosition(k.range.start);w.mapper.bindElements(k.item,C),w.writer.insert(D,C),w.convertAttributes(k.item),function(N,P,z,W){z.mapper.on("modelToViewPosition",xe,{priority:"highest"});let Q=null,ce=null;for([Q,ce]of P)e_(N,ce,z,W),z.writer.move(z.writer.createRangeIn(Q),z.writer.createPositionBefore(Q)),z.writer.remove(Q);function xe(He,di){const Vo=di.modelPosition.nodeAfter,Yn=ce.indexOf(Vo);Yn<0||(di.viewPosition=di.mapper.findPositionIn(Q,Yn))}z.mapper.off("modelToViewPosition",xe)}(C,y,w,{reconversion:k.reconversion})}),{priority:t.converterPriority||"normal"}),l.on("reduceChanges",Jv(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Ur(t);let o=t.model;typeof o=="string"&&(o={key:o});let s=`attribute:${o.key}`;if(o.name&&(s+=":"+o.name),o.values)for(const d of o.values)t.view[d]=Hl(t.view[d],"attribute");else t.view=Hl(t.view,"attribute");const l=Zv(t);return d=>{d.on(s,function(g){return(p,k,w)=>{if(!w.consumable.test(k.item,p.name))return;const y=g(k.attributeOldValue,w,k),C=g(k.attributeNewValue,w,k);if(!y&&!C)return;w.consumable.consume(k.item,p.name);const D=w.writer,N=D.document.selection;if(k.item instanceof Ai||k.item instanceof fo)D.wrap(N.getFirstRange(),C);else{let P=w.mapper.toViewRange(k.range);k.attributeOldValue!==null&&y&&(P=D.unwrap(P,y)),k.attributeNewValue!==null&&C&&D.wrap(P,C)}}}(l),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Ur(t);let o=t.model;typeof o=="string"&&(o={key:o});let s=`attribute:${o.key}`;if(o.name&&(s+=":"+o.name),o.values)for(const d of o.values)t.view[d]=Qv(t.view[d]);else t.view=Qv(t.view);const l=Zv(t);return d=>{var g;d.on(s,(g=l,(p,k,w)=>{if(!w.consumable.test(k.item,p.name))return;const y=g(k.attributeOldValue,w,k),C=g(k.attributeNewValue,w,k);if(!y&&!C)return;w.consumable.consume(k.item,p.name);const D=w.mapper.toViewElement(k.item),N=w.writer;if(!D)throw new E("conversion-attribute-to-attribute-on-text",w.dispatcher,k);if(k.attributeOldValue!==null&&y)if(y.key=="class"){const P=gn(y.value);for(const z of P)N.removeClass(z,D)}else if(y.key=="style"){const P=Object.keys(y.value);for(const z of P)N.removeStyle(z,D)}else N.removeAttribute(y.key,D);if(k.attributeNewValue!==null&&C)if(C.key=="class"){const P=gn(C.value);for(const z of P)N.addClass(z,D)}else if(C.key=="style"){const P=Object.keys(C.value);for(const z of P)N.setStyle(z,C.value[z],D)}else N.setAttribute(C.key,C.value,D)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const o=Hl(t.view,"ui");return s=>{var l;s.on(`addMarker:${t.model}`,(l=o,(d,g,p)=>{g.isOpening=!0;const k=l(g,p);g.isOpening=!1;const w=l(g,p);if(!k||!w)return;const y=g.markerRange;if(y.isCollapsed&&!p.consumable.consume(y,d.name))return;for(const N of y)if(!p.consumable.consume(N.item,d.name))return;const C=p.mapper,D=p.writer;D.insert(C.toViewPosition(y.start),k),p.mapper.bindElementToMarker(k,g.markerName),y.isCollapsed||(D.insert(C.toViewPosition(y.end),w),p.mapper.bindElementToMarker(w,g.markerName)),d.stop()}),{priority:t.converterPriority||"normal"}),s.on(`removeMarker:${t.model}`,(d,g,p)=>{const k=p.mapper.markerNameToElements(g.markerName);if(k){for(const w of k)p.mapper.unbindElementFromMarkerName(w,g.markerName),p.writer.clear(p.writer.createRangeOn(w),w);p.writer.clearClonedElementsGroup(g.markerName),d.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return o=>{var s;o.on(`addMarker:${t.model}`,(s=t.view,(l,d,g)=>{if(!d.item||!(d.item instanceof Ai||d.item instanceof fo||d.item.is("$textProxy")))return;const p=Qp(s,d,g);if(!p||!g.consumable.consume(d.item,l.name))return;const k=g.writer,w=Gv(k,p),y=k.document.selection;if(d.item instanceof Ai||d.item instanceof fo)k.wrap(y.getFirstRange(),w);else{const C=g.mapper.toViewRange(d.range),D=k.wrap(C,w);for(const N of D.getItems())if(N.is("attributeElement")&&N.isSimilar(w)){g.mapper.bindElementToMarker(N,d.markerName);break}}}),{priority:t.converterPriority||"normal"}),o.on(`addMarker:${t.model}`,function(l){return(d,g,p)=>{if(!g.item||!(g.item instanceof at))return;const k=Qp(l,g,p);if(!k||!p.consumable.test(g.item,d.name))return;const w=p.mapper.toViewElement(g.item);if(w&&w.getCustomProperty("addHighlight")){p.consumable.consume(g.item,d.name);for(const y of ee._createIn(g.item))p.consumable.consume(y.item,d.name);w.getCustomProperty("addHighlight")(w,k,p.writer),p.mapper.bindElementToMarker(w,g.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,function(l){return(d,g,p)=>{if(g.markerRange.isCollapsed)return;const k=Qp(l,g,p);if(!k)return;const w=Gv(p.writer,k),y=p.mapper.markerNameToElements(g.markerName);if(y){for(const C of y)p.mapper.unbindElementFromMarkerName(C,g.markerName),C.is("attributeElement")?p.writer.unwrap(p.writer.createRangeOn(C),w):C.getCustomProperty("removeHighlight")(C,k.id,p.writer);p.writer.clearClonedElementsGroup(g.markerName),d.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Ur(t);const o=t.model;let s=t.view;return s||(s=l=>({group:o,name:l.substr(t.model.length+1)})),l=>{var d;l.on(`addMarker:${o}`,(d=s,(g,p,k)=>{const w=d(p.markerName,k);if(!w)return;const y=p.markerRange;k.consumable.consume(y,g.name)&&(Yv(y,!1,k,p,w),Yv(y,!0,k,p,w),g.stop())}),{priority:t.converterPriority||"normal"}),l.on(`removeMarker:${o}`,function(g){return(p,k,w)=>{const y=g(k.markerName,w);if(!y)return;const C=w.mapper.markerNameToElements(k.markerName);if(C){for(const N of C)w.mapper.unbindElementFromMarkerName(N,k.markerName),N.is("containerElement")?(D(`data-${y.group}-start-before`,N),D(`data-${y.group}-start-after`,N),D(`data-${y.group}-end-before`,N),D(`data-${y.group}-end-after`,N)):w.writer.clear(w.writer.createRangeOn(N),N);w.writer.clearClonedElementsGroup(k.markerName),p.stop()}function D(N,P){if(P.hasAttribute(N)){const z=new Set(P.getAttribute(N).split(","));z.delete(y.name),z.size==0?w.writer.removeAttribute(N,P):w.writer.setAttribute(N,Array.from(z).join(","),P)}}}}(s),{priority:t.converterPriority||"normal"})}}(e))}}function Gv(a,e){const t=a.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Yv(a,e,t,o,s){const l=e?a.start:a.end,d=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,g=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(d||g){let p,k;e&&d||!e&&!g?(p=d,k=!0):(p=g,k=!1);const w=t.mapper.toViewElement(p);if(w)return void function(y,C,D,N,P,z){const W=`data-${z.group}-${C?"start":"end"}-${D?"before":"after"}`,Q=y.hasAttribute(W)?y.getAttribute(W).split(","):[];Q.unshift(z.name),N.writer.setAttribute(W,Q.join(","),y),N.mapper.bindElementToMarker(y,P.markerName)}(w,e,k,t,o,s)}(function(p,k,w,y,C){const D=`${C.group}-${k?"start":"end"}`,N=C.name?{name:C.name}:null,P=w.writer.createUIElement(D,N);w.writer.insert(p,P),w.mapper.bindElementToMarker(P,y.markerName)})(t.mapper.toViewPosition(l),e,t,o,s)}function Kv(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function Hl(a,e){return typeof a=="function"?a:(t,o)=>function(s,l,d){typeof s=="string"&&(s={name:s});let g;const p=l.writer,k=Object.assign({},s.attributes);if(d=="container")g=p.createContainerElement(s.name,k);else if(d=="attribute"){const w={priority:s.priority||Rs.DEFAULT_PRIORITY};g=p.createAttributeElement(s.name,k,w)}else g=p.createUIElement(s.name,k);if(s.styles){const w=Object.keys(s.styles);for(const y of w)p.setStyle(y,s.styles[y],g)}if(s.classes){const w=s.classes;if(typeof w=="string")p.addClass(w,g);else for(const y of w)p.addClass(y,g)}return g}(a,o,e)}function Zv(a){return a.model.values?(e,t,o)=>{const s=a.view[e];return s?s(e,t,o):null}:a.view}function Qv(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function Qp(a,e,t){const o=typeof a=="function"?a(e,t):a;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function Jv(a){const e=function(t){return(o,s)=>{if(!o.is("element",t.name))return!1;if(s.type=="attribute"){if(t.attributes.includes(s.attributeKey))return!0}else if(t.children)return!0;return!1}}(a);return(t,o)=>{const s=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const l of o.changes){const d=l.type=="attribute"?l.range.start.nodeAfter:l.position.parent;if(d&&e(d,l)){if(!o.reconvertedElements.has(d)){o.reconvertedElements.add(d);const g=ae._createBefore(d);let p=s.length;for(let k=s.length-1;k>=0;k--){const w=s[k],y=(w.type=="attribute"?w.range.start:w.position).compareWith(g);if(y=="before"||w.type=="remove"&&y=="same")break;p=k}s.splice(p,0,{type:"remove",name:d.name,position:g,length:1},{type:"reinsert",name:d.name,position:g,length:1})}}else s.push(l)}o.changes=s}}function Xv(a){return(e,t,o={})=>{const s=["insert"];for(const l of a.attributes)e.hasAttribute(l)&&s.push(`attribute:${l}`);return!!s.every(l=>t.test(e,l))&&(o.preflight||s.forEach(l=>t.consume(e,l)),!0)}}function e_(a,e,t,o){for(const s of e)DI(a.root,s,t,o)||t.convertItem(s)}function DI(a,e,t,o){const{writer:s,mapper:l}=t;if(!o.reconversion)return!1;const d=l.toViewElement(e);return!(!d||d.root==a)&&!!t.canReuseView(d)&&(s.move(s.createRangeOn(d),l.toViewPosition(ae._createBefore(e))),!0)}function TI(a,e,{preflight:t}={}){return t?e.test(a,"insert"):e.consume(a,"insert")}function t_(a){const{schema:e,document:t}=a.model;for(const o of t.getRoots())if(o.isEmpty&&!e.checkChild(o,"$text")&&e.checkChild(o,"paragraph"))return a.insertElement("paragraph",o),!0;return!1}function n_(a,e,t){const o=t.createContext(a);return!!t.checkChild(o,"paragraph")&&!!t.checkChild(o.push("paragraph"),e)}function i_(a,e){const t=e.createElement("paragraph");return e.insert(t,a),e.createPositionAt(t,0)}class II extends qv{elementToElement(e){return this.add(o_(e))}elementToAttribute(e){return this.add(function(t){t=Ur(t),r_(t);const o=s_(t,!1),s=Jp(t.view),l=s?`element:${s}`:"element";return d=>{d.on(l,o,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Ur(t);let o=null;(typeof t.view=="string"||t.view.key)&&(o=function(l){typeof l.view=="string"&&(l.view={key:l.view});const d=l.view.key;let g;return d=="class"||d=="style"?g={[d=="class"?"classes":"styles"]:l.view.value}:g={attributes:{[d]:l.view.value===void 0?/[\s\S]*/:l.view.value}},l.view.name&&(g.name=l.view.name),l.view=g,d}(t)),r_(t,o);const s=s_(t,!0);return l=>{l.on("element",s,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const o=function(s){return(l,d)=>{const g=typeof s=="string"?s:s(l,d);return d.writer.createElement("$marker",{"data-name":g})}}(t.model);return o_({...t,model:o})}(e))}dataToMarker(e){return this.add(function(t){t=Ur(t),t.model||(t.model=d=>d?t.view+":"+d:t.view);const o={view:t.view,model:t.model},s=Xp(a_(o,"start")),l=Xp(a_(o,"end"));return d=>{d.on(`element:${t.view}-start`,s,{priority:t.converterPriority||"normal"}),d.on(`element:${t.view}-end`,l,{priority:t.converterPriority||"normal"});const g=R.low,p=R.highest,k=R.get(t.converterPriority)/p;d.on("element",function(w){return(y,C,D)=>{const N=`data-${w.view}`;function P(z,W){for(const Q of W){const ce=w.model(Q,D),xe=D.writer.createElement("$marker",{"data-name":ce});D.writer.insert(xe,z),C.modelCursor.isEqual(z)?C.modelCursor=C.modelCursor.getShiftedBy(1):C.modelCursor=C.modelCursor._getTransformedByInsertion(z,1),C.modelRange=C.modelRange._getTransformedByInsertion(z,1)[0]}}(D.consumable.test(C.viewItem,{attributes:N+"-end-after"})||D.consumable.test(C.viewItem,{attributes:N+"-start-after"})||D.consumable.test(C.viewItem,{attributes:N+"-end-before"})||D.consumable.test(C.viewItem,{attributes:N+"-start-before"}))&&(C.modelRange||Object.assign(C,D.convertChildren(C.viewItem,C.modelCursor)),D.consumable.consume(C.viewItem,{attributes:N+"-end-after"})&&P(C.modelRange.end,C.viewItem.getAttribute(N+"-end-after").split(",")),D.consumable.consume(C.viewItem,{attributes:N+"-start-after"})&&P(C.modelRange.end,C.viewItem.getAttribute(N+"-start-after").split(",")),D.consumable.consume(C.viewItem,{attributes:N+"-end-before"})&&P(C.modelRange.start,C.viewItem.getAttribute(N+"-end-before").split(",")),D.consumable.consume(C.viewItem,{attributes:N+"-start-before"})&&P(C.modelRange.start,C.viewItem.getAttribute(N+"-start-before").split(",")))}}(o),{priority:g+k})}}(e))}}function o_(a){const e=Xp(a=Ur(a)),t=Jp(a.view),o=t?`element:${t}`:"element";return s=>{s.on(o,e,{priority:a.converterPriority||"normal"})}}function Jp(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function Xp(a){const e=new Vi(a.view);return(t,o,s)=>{const l=e.match(o.viewItem);if(!l)return;const d=l.match;if(d.name=!0,!s.consumable.test(o.viewItem,d))return;const g=function(p,k,w){return p instanceof Function?p(k,w):w.writer.createElement(p)}(a.model,o.viewItem,s);g&&s.safeInsert(g,o.modelCursor)&&(s.consumable.consume(o.viewItem,d),s.convertChildren(o.viewItem,g),s.updateConversionResult(g,o))}}function r_(a,e=null){const t=e===null||(l=>l.getAttribute(e)),o=typeof a.model!="object"?a.model:a.model.key,s=typeof a.model!="object"||a.model.value===void 0?t:a.model.value;a.model={key:o,value:s}}function s_(a,e){const t=new Vi(a.view);return(o,s,l)=>{if(!s.modelRange&&e)return;const d=t.match(s.viewItem);if(!d||(function(w,y){const C=typeof w=="function"?w(y):w;return typeof C=="object"&&!Jp(C)?!1:!C.classes&&!C.attributes&&!C.styles}(a.view,s.viewItem)?d.match.name=!0:delete d.match.name,!l.consumable.test(s.viewItem,d.match)))return;const g=a.model.key,p=typeof a.model.value=="function"?a.model.value(s.viewItem,l):a.model.value;if(p===null)return;s.modelRange||Object.assign(s,l.convertChildren(s.viewItem,s.modelCursor)),function(w,y,C,D){let N=!1;for(const P of Array.from(w.getItems({shallow:C})))D.schema.checkAttribute(P,y.key)&&(N=!0,P.hasAttribute(y.key)||D.writer.setAttribute(y.key,y.value,P));return N}(s.modelRange,{key:g,value:p},e,l)&&(l.consumable.test(s.viewItem,{name:!0})&&(d.match.name=!0),l.consumable.consume(s.viewItem,d.match))}}function a_(a,e){return{view:`${a.view}-${e}`,model:(t,o)=>{const s=t.getAttribute("name"),l=a.model(s,o);return o.writer.createElement("$marker",{"data-name":l})}}}function MI(a){a.document.registerPostFixer(e=>function(t,o){const s=o.document.selection,l=o.schema,d=[];let g=!1;for(const p of s.getRanges()){const k=c_(p,l);k&&!k.isEqual(p)?(d.push(k),g=!0):d.push(p)}return g&&t.setSelection(function(p){const k=[...p],w=new Set;let y=1;for(;y<k.length;){const C=k[y],D=k.slice(0,y);for(const[N,P]of D.entries())if(!w.has(N)){if(C.isEqual(P))w.add(N);else if(C.isIntersecting(P)){w.add(N),w.add(y);const z=C.getJoined(P);k.push(z)}}y++}return k.filter((C,D)=>!w.has(D))}(d),{backward:s.isBackward}),!1}(e,a))}function c_(a,e){return a.isCollapsed?function(t,o){const s=t.start,l=o.getNearestSelectionRange(s);if(!l){const g=s.getAncestors().reverse().find(p=>o.isObject(p));return g?ee._createOn(g):null}if(!l.isCollapsed)return l;const d=l.start;return s.isEqual(d)?null:new ee(d)}(a,e):function(t,o){const{start:s,end:l}=t,d=o.checkChild(s,"$text"),g=o.checkChild(l,"$text"),p=o.getLimitElement(s),k=o.getLimitElement(l);if(p===k){if(d&&g)return null;if(function(C,D,N){const P=C.nodeAfter&&!N.isLimit(C.nodeAfter)||N.checkChild(C,"$text"),z=D.nodeBefore&&!N.isLimit(D.nodeBefore)||N.checkChild(D,"$text");return P||z}(s,l,o)){const C=s.nodeAfter&&o.isSelectable(s.nodeAfter)?null:o.getNearestSelectionRange(s,"forward"),D=l.nodeBefore&&o.isSelectable(l.nodeBefore)?null:o.getNearestSelectionRange(l,"backward"),N=C?C.start:s,P=D?D.end:l;return new ee(N,P)}}const w=p&&!p.is("rootElement"),y=k&&!k.is("rootElement");if(w||y){const C=s.nodeAfter&&l.nodeBefore&&s.nodeAfter.parent===l.nodeBefore.parent,D=w&&(!C||!d_(s.nodeAfter,o)),N=y&&(!C||!d_(l.nodeBefore,o));let P=s,z=l;return D&&(P=ae._createBefore(l_(p,o))),N&&(z=ae._createAfter(l_(k,o))),new ee(P,z)}return null}(a,e)}function l_(a,e){let t=a,o=t;for(;e.isLimit(o)&&o.parent;)t=o,o=o.parent;return t}function d_(a,e){return a&&e.isSelectable(a)}class NI extends Me(){constructor(e,t){super(),this.model=e,this.view=new bI(t),this.mapper=new Vv,this.downcastDispatcher=new Uv({mapper:this.mapper,schema:e.schema});const o=this.model.document,s=o.selection,l=this.model.markers;var d,g,p;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(k=>{this.downcastDispatcher.convertChanges(o.differ,l,k),this.downcastDispatcher.convertSelection(s,l,k)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(k,w){return(y,C)=>{const D=C.newSelection,N=[];for(const z of D.getRanges())N.push(w.toModelRange(z));const P=k.createSelection(N,{backward:D.isBackward});P.isEqual(k.document.selection)||k.change(z=>{z.setSelection(P)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(d=this.mapper,g=this.model.schema,p=this.view,(k,w)=>{if(!p.document.isComposing||f.isAndroid)for(let y=0;y<w.targetRanges.length;y++){const C=w.targetRanges[y],D=d.toModelRange(C),N=c_(D,g);N&&!N.isEqual(D)&&(w.targetRanges[y]=d.toViewRange(N))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(k,w,y)=>{if(!y.consumable.consume(w.item,k.name))return;const C=y.writer,D=y.mapper.toViewPosition(w.range.start),N=C.createText(w.item.data);C.insert(D,N)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(k,w,y)=>{y.convertAttributes(w.item),w.reconversion||!w.item.is("element")||w.item.isEmpty||y.convertChildren(w.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(k,w,y)=>{const C=y.mapper.toViewPosition(w.position),D=w.position.getShiftedBy(w.length),N=y.mapper.toViewPosition(D,{isPhantom:!0}),P=y.writer.createRange(C,N),z=y.writer.remove(P.getTrimmed());for(const W of y.writer.createRangeIn(z).getItems())y.mapper.unbindViewElement(W,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(k,w,y)=>{const C=y.writer,D=C.document.selection;for(const N of D.getRanges())N.isCollapsed&&N.end.parent.isAttached()&&y.writer.mergeAttributes(N.start);C.setSelection(null)}),this.downcastDispatcher.on("selection",(k,w,y)=>{const C=w.selection;if(C.isCollapsed||!y.consumable.consume(C,"selection"))return;const D=[];for(const N of C.getRanges())D.push(y.mapper.toViewRange(N));y.writer.setSelection(D,{backward:C.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(k,w,y)=>{const C=w.selection;if(!C.isCollapsed||!y.consumable.consume(C,"selection"))return;const D=y.writer,N=C.getFirstPosition(),P=y.mapper.toViewPosition(N),z=D.breakAttributes(P);D.setSelection(z)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(k=>{if(k.rootName=="$graveyard")return null;const w=new lv(this.view.document,k.name);return w.rootName=k.rootName,this.mapper.bindElements(k,w),w})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,o=this.model.markers.get(t);if(!o)throw new E("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class $l{constructor(){this._consumables=new Map}add(e,t){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new OI(e),this._consumables.set(e,o)),o.add(t))}test(e,t){const o=this._consumables.get(e);return o===void 0?null:e.is("$text")||e.is("documentFragment")?o:o.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const o=this._consumables.get(e);o!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const d of o)d!="style"&&d!="class"&&t.attributes.push(d);const s=e.getClassNames();for(const d of s)t.classes.push(d);const l=e.getStyleNames();for(const d of l)t.styles.push(d);return t}static createFrom(e,t){if(t||(t=new $l),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,$l.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const o of e.getChildren())t=$l.createFrom(o,t);return t}}const wh=["attributes","classes","styles"];class OI{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of wh)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of wh)if(t in e){const o=this._test(t,e[t]);if(o!==!0)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of wh)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of wh)t in e&&this._revert(t,e[t])}_add(e,t){const o=wt(t)?t:[t],s=this._consumables[e];for(const l of o){if(e==="attributes"&&(l==="class"||l==="style"))throw new E("viewconsumable-invalid-attribute",this);if(s.set(l,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(l))s.set(d,!0)}}_test(e,t){const o=wt(t)?t:[t],s=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style"){const d=s.get(l);if(d===void 0)return null;if(!d)return!1}else{const d=l=="class"?"classes":"styles",g=this._test(d,[...this._consumables[d].keys()]);if(g!==!0)return g}return!0}_consume(e,t){const o=wt(t)?t:[t],s=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style"){if(s.set(l,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(l))s.set(d,!1)}else{const d=l=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}}_revert(e,t){const o=wt(t)?t:[t],s=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style")s.get(l)===!1&&s.set(l,!0);else{const d=l=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}}}class BI extends Me(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new $s(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new $s(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new E("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new E("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof ae){const o=e.nodeBefore,s=e.nodeAfter;if(!(o instanceof at))throw new E("schema-check-merge-no-element-before",this);if(!(s instanceof at))throw new E("schema-check-merge-no-element-after",this);return this.checkMerge(o,s)}for(const o of t.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[o,s])=>{if(!s)return;const l=e(o,s);typeof l=="boolean"&&(t.stop(),t.return=l)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[o,s])=>{const l=e(o,s);typeof l=="boolean"&&(t.stop(),t.return=l)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof ae?t=e.parent:t=(e instanceof ee?[e]:Array.from(e.getRanges())).reduce((o,s)=>{const l=s.getCommonAncestor();return o?o.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new ft("",e.getAttributes())];return this.checkAttribute(o,t)}{const o=e.getRanges();for(const s of o)for(const l of s)if(this.checkAttribute(l.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(o){for(const s of o)yield*s.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ee(e);let o,s;const l=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;t!="both"&&t!="backward"||(o=new Bo({boundaries:ee._createIn(l),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(s=new Bo({boundaries:ee._createIn(l),startPosition:e}));for(const d of function*(g,p){let k=!1;for(;!k;){if(k=!0,g){const w=g.next();w.done||(k=!1,yield{walker:g,value:w.value})}if(p){const w=p.next();w.done||(k=!1,yield{walker:p,value:w.value})}}}(o,s)){const g=d.walker==o?"elementEnd":"elementStart",p=d.value;if(p.type==g&&this.isObject(p.item))return ee._createOn(p.item);if(this.checkChild(p.nextPosition,"$text"))return new ee(p.nextPosition)}return null}findAllowedParent(e,t){let o=e.parent;for(;o;){if(this.checkChild(o,t))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,t,o){const s=o.model;for(const[l,d]of Object.entries(t))s.schema.checkAttribute(e,l)&&o.setAttribute(l,d,e)}removeDisallowedAttributes(e,t){for(const o of e)if(o.is("$text"))u_(this,o,t);else{const s=ee._createIn(o).getPositions();for(const l of s)u_(this,l.nodeBefore||l.parent,t)}}getAttributesWithProperty(e,t,o){const s={};for(const[l,d]of e.getAttributes()){const g=this.getAttributeProperties(l);g[t]!==void 0&&(o!==void 0&&o!==g[t]||(s[l]=d))}return s}createContext(e){return new $s(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,o=Object.keys(t);for(const s of o)e[s]=PI(t[s],s);for(const s of o)LI(e,s);for(const s of o)zI(e,s);for(const s of o)jI(e,s);for(const s of o)RI(e,s),FI(e,s);for(const s of o)VI(e,s),UI(e,s),HI(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,o=t.length-1){const s=t.getItem(o);if(e.allowIn.includes(s.name)){if(o==0)return!0;{const l=this.getDefinition(s);return this._checkContextMatch(l,t,o-1)}}return!1}*_getValidRangesForRange(e,t){let o=e.start,s=e.start;for(const l of e.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(ee._createIn(l),t)),this.checkAttribute(l,t)||(o.isEqual(s)||(yield new ee(o,s)),o=ae._createAfter(l)),s=ae._createAfter(l);o.isEqual(s)||(yield new ee(o,s))}}class $s{constructor(e){if(e instanceof $s)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(WI)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new $s([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function PI(a,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,s){for(const l of o){const d=Object.keys(l).filter(g=>g.startsWith("is"));for(const g of d)s[g]=!!l[g]}}(a,t),Ws(a,t,"allowIn"),Ws(a,t,"allowContentOf"),Ws(a,t,"allowWhere"),Ws(a,t,"allowAttributes"),Ws(a,t,"allowAttributesOf"),Ws(a,t,"allowChildren"),Ws(a,t,"inheritTypesFrom"),function(o,s){for(const l of o){const d=l.inheritAllFrom;d&&(s.allowContentOf.push(d),s.allowWhere.push(d),s.allowAttributesOf.push(d),s.inheritTypesFrom.push(d))}}(a,t),t}function LI(a,e){const t=a[e];for(const o of t.allowChildren){const s=a[o];s&&s.allowIn.push(e)}t.allowChildren.length=0}function zI(a,e){for(const t of a[e].allowContentOf)a[t]&&$I(a,t).forEach(o=>{o.allowIn.push(e)});delete a[e].allowContentOf}function jI(a,e){for(const t of a[e].allowWhere){const o=a[t];if(o){const s=o.allowIn;a[e].allowIn.push(...s)}}delete a[e].allowWhere}function RI(a,e){for(const t of a[e].allowAttributesOf){const o=a[t];if(o){const s=o.allowAttributes;a[e].allowAttributes.push(...s)}}delete a[e].allowAttributesOf}function FI(a,e){const t=a[e];for(const o of t.inheritTypesFrom){const s=a[o];if(s){const l=Object.keys(s).filter(d=>d.startsWith("is"));for(const d of l)d in t||(t[d]=s[d])}}delete t.inheritTypesFrom}function VI(a,e){const t=a[e],o=t.allowIn.filter(s=>a[s]);t.allowIn=Array.from(new Set(o))}function UI(a,e){const t=a[e];for(const o of t.allowIn)a[o].allowChildren.push(e)}function HI(a,e){const t=a[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Ws(a,e,t){for(const o of a){const s=o[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function $I(a,e){const t=a[e];return(o=a,Object.keys(o).map(s=>o[s])).filter(s=>s.allowIn.includes(t.name));var o}function WI(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function u_(a,e,t){for(const o of e.getAttributeKeys())a.checkAttribute(e,o)||t.removeAttribute(o,e)}class qI extends $(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,o)=>this._convertItem(t,o),convertChildren:(t,o)=>this._convertChildren(t,o),safeInsert:(t,o)=>this._safeInsert(t,o),updateConversionResult:(t,o)=>this._updateConversionResult(t,o),splitToAllowedParent:(t,o)=>this._splitToAllowedParent(t,o),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(d,g){let p;for(const k of new $s(d)){const w={};for(const C of k.getAttributeKeys())w[C]=k.getAttribute(C);const y=g.createElement(k.name,w);p&&g.insert(y,p),p=ae._createAt(y,0)}return p}(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=$l.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),l=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))t.append(d,l);l.markers=function(d,g){const p=new Set,k=new Map,w=ee._createIn(d).getItems();for(const y of w)y.is("element","$marker")&&p.add(y);for(const y of p){const C=y.getAttribute("data-name"),D=g.createPositionBefore(y);k.has(C)?k.get(C).end=D.clone():k.set(C,new ee(D.clone())),g.remove(y)}return k}(l,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(e,t){const o={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof ee))throw new E("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,t){let o=t.is("position")?t:ae._createAt(t,0);const s=new ee(o);for(const l of Array.from(e.getChildren())){const d=this._convertItem(l,o);d.modelRange instanceof ee&&(s.end=d.modelRange.end,o=d.modelCursor)}return{modelRange:s,modelCursor:o}}_safeInsert(e,t){const o=this._splitToAllowedParent(e,t);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,t){const o=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(o[o.length-1])));const l=this._cursorParents.get(e);t.modelCursor=l?s.createPositionAt(l,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:o,writer:s}=this.conversionApi;let l=o.findAllowedParent(t,e);if(l){if(l===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return n_(t,e,o)?{position:i_(t,s)}:null;const d=this.conversionApi.writer.split(t,l),g=[];for(const k of d.range.getWalker())if(k.type=="elementEnd")g.push(k.item);else{const w=g.pop(),y=k.item;this._registerSplitPair(w,y)}const p=d.range.end.parent;return this._cursorParents.set(e,p),{position:d.position,cursorParent:p}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(t,o),o.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class GI{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class YI{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new fh(e,{renderingMode:"data"}),this.htmlWriter=new GI}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),o=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)o.appendChild(s[0]);return o}}class KI extends $(){constructor(e,t){super(),this.model=e,this.mapper=new Vv,this.downcastDispatcher=new Uv({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,s,l)=>{if(!l.consumable.consume(s.item,o.name))return;const d=l.writer,g=l.mapper.toViewPosition(s.range.start),p=d.createText(s.item.data);d.insert(g,p)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,s,l)=>{l.convertAttributes(s.item),s.reconversion||!s.item.is("element")||s.item.isEmpty||l.convertChildren(s.item)},{priority:"lowest"}),this.upcastDispatcher=new qI({schema:e.schema}),this.viewDocument=new dh(t),this.stylesProcessor=t,this.htmlProcessor=new YI(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new uv(this.viewDocument),this.upcastDispatcher.on("text",(o,s,{schema:l,consumable:d,writer:g})=>{let p=s.modelCursor;if(!d.test(s.viewItem))return;if(!l.checkChild(p,"$text")){if(!n_(p,"$text",l)||s.viewItem.data.trim().length==0)return;const w=p.nodeBefore;p=i_(p,g),w&&w.is("element","$marker")&&(g.move(g.createRangeOn(w),p),p=g.createPositionAfter(w))}d.consume(s.viewItem);const k=g.createText(s.viewItem.data);g.insert(k,p),s.modelRange=g.createRange(p,p.getShiftedBy(k.offsetSize)),s.modelCursor=s.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,s,l)=>{if(!s.modelRange&&l.consumable.consume(s.viewItem,{name:!0})){const{modelRange:d,modelCursor:g}=l.convertChildren(s.viewItem,s.modelCursor);s.modelRange=d,s.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,s,l)=>{if(!s.modelRange&&l.consumable.consume(s.viewItem,{name:!0})){const{modelRange:d,modelCursor:g}=l.convertChildren(s.viewItem,s.modelCursor);s.modelRange=d,s.modelCursor=g}},{priority:"lowest"}),Me().prototype.decorate.call(this,"init"),Me().prototype.decorate.call(this,"set"),Me().prototype.decorate.call(this,"get"),Me().prototype.decorate.call(this,"toView"),Me().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},t_)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([t]))throw new E("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||U("datacontroller-get-detached-root",this),o!=="empty"||this.model.hasContent(s,{ignoreWhitespaces:!0})?this.stringify(s,e):""}stringify(e,t={}){const o=this.toView(e,t);return this.processor.toData(o)}toView(e,t={}){const o=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const l=ee._createIn(e),d=new Fs(o);this.mapper.bindElements(e,d);const g=e.is("documentFragment")?e.markers:function(p){const k=[],w=p.root.document;if(!w)return new Map;const y=ee._createIn(p);for(const C of w.model.markers){const D=C.getRange(),N=D.isCollapsed,P=D.start.isEqual(y.start)||D.end.isEqual(y.end);if(N&&P)k.push([C.name,D]);else{const z=y.getIntersection(D);z&&k.push([C.name,z])}}return k.sort(([C,D],[N,P])=>{if(D.end.compareWith(P.start)!=="after")return 1;if(D.start.compareWith(P.end)!=="before")return-1;switch(D.start.compareWith(P.start)){case"before":return 1;case"after":return-1;default:switch(D.end.compareWith(P.end)){case"before":return 1;case"after":return-1;default:return N.localeCompare(C)}}}),new Map(k)}(e);return this.downcastDispatcher.convert(l,g,s,t),d}init(e){if(this.model.document.version)throw new E("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new E("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const s of Object.keys(t)){const l=this.model.document.getRoot(s);o.insert(this.parse(t[s],l),l,0)}}),Promise.resolve()}set(e,t={}){let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new E("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(o)){const d=this.model.document.getRoot(l);s.remove(s.createRangeIn(d)),s.insert(this.parse(o[l],d),d,0)}})}parse(e,t="$root"){const o=this.processor.toView(e);return this.toModel(o,t)}toModel(e,t="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class ZI{constructor(e,t){this._helpers=new Map,this._downcast=gn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=gn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const o=this._downcast.includes(t);if(!this._upcast.includes(t)&&!o)throw new E("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new E("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:o}of em(e))this.for("upcast").elementToElement({model:t,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:o}of em(e))this.for("upcast").elementToAttribute({view:o,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:o}of em(e))this.for("upcast").attributeToAttribute({view:o,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:o}){if(this._helpers.has(e))throw new E("conversion-group-exists",this);const s=o?new SI(t):new II(t);this._helpers.set(e,s)}}function*em(a){if(a.model.values)for(const e of a.model.values){const t={key:a.model.key,value:e},o=a.view[e],s=a.upcastAlso?a.upcastAlso[e]:void 0;yield*h_(t,o,s)}else yield*h_(a.model,a.view,a.upcastAlso)}function*h_(a,e,t){if(yield{model:a,view:e},t)for(const o of gn(t))yield{model:a,view:o}}class Ci{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function tm(a,e){const t=g_(e),o=t.reduce((d,g)=>d+g.offsetSize,0),s=a.parent;Gl(a);const l=a.index;return s._insertChild(l,t),ql(s,l+t.length),ql(s,l),new ee(a,a.getShiftedBy(o))}function f_(a){if(!a.isFlat)throw new E("operation-utils-remove-range-not-flat",this);const e=a.start.parent;Gl(a.start),Gl(a.end);const t=e._removeChildren(a.start.index,a.end.index-a.start.index);return ql(e,a.start.index),t}function Wl(a,e){if(!a.isFlat)throw new E("operation-utils-move-range-not-flat",this);const t=f_(a);return tm(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),t)}function g_(a){const e=[];(function t(o){if(typeof o=="string")e.push(new ft(o));else if(o instanceof ho)e.push(new ft(o.data,o.getAttributes()));else if(o instanceof Us)e.push(o);else if(Yt(o))for(const s of o)t(s)})(a);for(let t=1;t<e.length;t++){const o=e[t],s=e[t-1];o instanceof ft&&s instanceof ft&&p_(o,s)&&(e.splice(t-1,2,new ft(s.data+o.data,s.getAttributes())),t--)}return e}function ql(a,e){const t=a.getChild(e-1),o=a.getChild(e);if(t&&o&&t.is("$text")&&o.is("$text")&&p_(t,o)){const s=new ft(t.data+o.data,t.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,s)}}function Gl(a){const e=a.textNode,t=a.parent;if(e){const o=a.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const l=new ft(e.data.substr(0,o),e.getAttributes()),d=new ft(e.data.substr(o),e.getAttributes());t._insertChild(s,[l,d])}}function p_(a,e){const t=a.getAttributes(),o=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;o.next()}return o.next().done}class Je extends Ci{constructor(e,t,o,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ee._createFromPositionAndShift(this.sourcePosition,this.howMany),ee._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Je(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Je(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,s=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new E("move-operation-nodes-do-not-exist",this);if(e===t&&o<s&&s<o+this.howMany)throw new E("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Dt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=o&&this.targetPosition.path[l]<o+this.howMany)throw new E("move-operation-node-into-itself",this)}}_execute(){Wl(ee._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const o=ae.fromJSON(e.sourcePosition,t),s=ae.fromJSON(e.targetPosition,t);return new this(o,e.howMany,s,e.baseVersion)}}class mn extends Ci{constructor(e,t,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Fl(g_(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Fl([...this.nodes].map(o=>o._clone(!0))),t=new mn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new ae(e,[0]);return new Je(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new E("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Fl([...e].map(t=>t._clone(!0))),tm(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const o=[];for(const l of e.nodes)l.name?o.push(at.fromJSON(l)):o.push(ft.fromJSON(l));const s=new mn(ae.fromJSON(e.position,t),o,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class gt extends Ci{constructor(e,t,o,s,l){super(l),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=o,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ae(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ee(this.splitPosition,e)}get affectedSelectable(){const e=[ee._createFromPositionAndShift(this.splitPosition,0),ee._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ee._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new gt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new ae(e,[0]);return new Pt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new E("split-operation-position-invalid",this);if(!e.parent)throw new E("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new E("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new E("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Wl(ee._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();tm(this.insertionPosition,t)}Wl(new ee(ae._createAt(e,this.splitPosition.offset),ae._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new ae(e.root,t,"toPrevious")}static fromJSON(e,t){const o=ae.fromJSON(e.splitPosition,t),s=ae.fromJSON(e.insertionPosition,t),l=e.graveyardPosition?ae.fromJSON(e.graveyardPosition,t):null;return new this(o,e.howMany,s,l,e.baseVersion)}}class Pt extends Ci{constructor(e,t,o,s,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new ae(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ee(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ee._createOn(e),ee._createFromPositionAndShift(this.targetPosition,0),ee._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Pt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),o=new ae(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new gt(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new E("merge-operation-source-position-invalid",this);if(!t.parent)throw new E("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new E("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Wl(ee._createIn(e),this.targetPosition),Wl(ee._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const o=ae.fromJSON(e.sourcePosition,t),s=ae.fromJSON(e.targetPosition,t),l=ae.fromJSON(e.graveyardPosition,t);return new this(o,e.howMany,s,l,e.baseVersion)}}class ai extends Ci{constructor(e,t,o,s,l,d){super(d),this.name=e,this.oldRange=t?t.clone():null,this.newRange=o?o.clone():null,this.affectsData=l,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new ai(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ai(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new ai(e.name,e.oldRange?ee.fromJSON(e.oldRange,t):null,e.newRange?ee.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const m_=function(a,e){return Bv(a,e)};class Wt extends Ci{constructor(e,t,o,s,l){super(l),this.range=e.clone(),this.key=t,this.oldValue=o===void 0?null:o,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Wt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Wt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new E("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!m_(e.getAttribute(this.key),this.oldValue))throw new E("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new E("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){m_(this.oldValue,this.newValue)||function(e,t,o){Gl(e.start),Gl(e.end);for(const s of e.getItems({shallow:!0})){const l=s.is("$textProxy")?s.textNode:s;o!==null?l._setAttribute(t,o):l._removeAttribute(t),ql(l.parent,l.index)}ql(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Wt(ee.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Zt extends Ci{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Zt(this.baseVersion)}getReversed(){return new Zt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ci extends Ci{constructor(e,t,o,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=o}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ci(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ci(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof at))throw new E("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new E("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new ci(ae.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class ar extends Ci{constructor(e,t,o,s,l){super(l),this.root=e,this.key=t,this.oldValue=o===void 0?null:o,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ar(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ar(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new E("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new E("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new E("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new E("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new ar(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Po extends Ci{constructor(e,t,o,s,l){super(l),this.rootName=e,this.elementName=t,this.isAdd=o,this._document=s,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Po(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Po(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Po(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Ui={};Ui[Wt.className]=Wt,Ui[mn.className]=mn,Ui[ai.className]=ai,Ui[Je.className]=Je,Ui[Zt.className]=Zt,Ui[Ci.className]=Ci,Ui[ci.className]=ci,Ui[ar.className]=ar,Ui[Po.className]=Po,Ui[gt.className]=gt,Ui[Pt.className]=Pt;class QI{static fromJSON(e,t){return Ui[e.__className].fromJSON(e,t)}}const nm=new Map;function Ge(a,e,t){let o=nm.get(a);o||(o=new Map,nm.set(a,o)),o.set(e,t)}function JI(a){return[a]}function k_(a,e,t={}){const o=function(s,l){const d=nm.get(s);return d&&d.has(l)?d.get(l):JI}(a.constructor,e.constructor);try{return o(a=a.clone(),e,t)}catch(s){throw s}}function XI(a,e,t){a=a.slice(),e=e.slice();const o=new eM(t.document,t.useRelations,t.forceWeakRemove);o.setOriginalOperations(a),o.setOriginalOperations(e);const s=o.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:s};const l=new WeakMap;for(const p of a)l.set(p,0);const d={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let g=0;for(;g<a.length;){const p=a[g],k=l.get(p);if(k==e.length){g++;continue}const w=e[k],y=k_(p,w,o.getContext(p,w,!0)),C=k_(w,p,o.getContext(w,p,!1));o.updateRelation(p,w),o.setOriginalOperations(y,p),o.setOriginalOperations(C,w);for(const D of y)l.set(D,k+C.length);a.splice(g,1,...y),e.splice(k,1,...C)}if(t.padWithNoOps){const p=a.length-d.originalOperationsACount,k=e.length-d.originalOperationsBCount;w_(a,k-p),w_(e,p-k)}return b_(a,d.nextBaseVersionB),b_(e,d.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:s}}class eM{constructor(e,t,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,t=null){const o=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,o||s)}updateRelation(e,t){if(e instanceof Je)t instanceof Pt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Je&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof gt){if(t instanceof Pt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Je)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const o=ee._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.splitPosition)){const s=o.end.offset-e.splitPosition.offset,l=e.splitPosition.offset-o.start.offset;this._setRelation(e,t,{howMany:s,offset:l})}}}else if(e instanceof Pt)t instanceof Pt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof gt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof ai){const o=e.newRange;if(!o)return;if(t instanceof Je){const s=ee._createFromPositionAndShift(t.sourcePosition,t.howMany),l=s.containsPosition(o.start)||s.start.isEqual(o.start),d=s.containsPosition(o.end)||s.end.isEqual(o.end);!l&&!d||s.containsRange(o)||this._setRelation(e,t,{side:l?"left":"right",path:l?o.start.path.slice():o.end.path.slice()})}else if(t instanceof Pt){const s=o.start.isEqual(t.targetPosition),l=o.start.isEqual(t.deletionPosition),d=o.end.isEqual(t.deletionPosition),g=o.end.isEqual(t.sourcePosition);(s||l||d||g)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:d,wasInRightElement:g})}}}getContext(e,t,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const o=this.originalOperations.get(t),s=this._history.getUndoneOperation(o);if(!s)return null;const l=this.originalOperations.get(e),d=this._relations.get(l);return d&&d.get(s)||null}_setRelation(e,t,o){const s=this.originalOperations.get(e),l=this.originalOperations.get(t);let d=this._relations.get(s);d||(d=new Map,this._relations.set(s,d)),d.set(l,o)}}function b_(a,e){for(const t of a)t.baseVersion=e++}function w_(a,e){for(let t=0;t<e;t++)a.push(new Zt(0))}function v_(a,e,t){const o=a.nodes.getNode(0).getAttribute(e);if(o==t)return null;const s=new ee(a.position,a.position.getShiftedBy(a.howMany));return new Wt(s,e,o,t,0)}function __(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function qa(a,e){const t=[];for(let o=0;o<a.length;o++){const s=a[o],l=new Je(s.start,s.end.offset-s.start.offset,e,0);t.push(l);for(let d=o+1;d<a.length;d++)a[d]=a[d]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];e=e._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return t}Ge(Wt,Wt,(a,e,t)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const o=a.range.getDifference(e.range).map(l=>new Wt(l,a.key,a.oldValue,a.newValue,0)),s=a.range.getIntersection(e.range);return s&&t.aIsStrong&&o.push(new Wt(s,e.key,e.newValue,a.newValue,0)),o.length==0?[new Zt(0)]:o}return[a]}),Ge(Wt,mn,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const t=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new Wt(o,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const o=v_(e,a.key,a.oldValue);o&&t.unshift(o)}return t}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),Ge(Wt,Pt,(a,e)=>{const t=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&t.push(ee._createFromPositionAndShift(e.graveyardPosition,1));const o=a.range._getTransformedByMergeOperation(e);return o.isCollapsed||t.push(o),t.map(s=>new Wt(s,a.key,a.oldValue,a.newValue,a.baseVersion))}),Ge(Wt,Je,(a,e)=>function(o,s){const l=ee._createFromPositionAndShift(s.sourcePosition,s.howMany);let d=null,g=[];l.containsRange(o,!0)?d=o:o.start.hasSameParentAs(l.start)?(g=o.getDifference(l),d=o.getIntersection(l)):g=[o];const p=[];for(let k of g){k=k._getTransformedByDeletion(s.sourcePosition,s.howMany);const w=s.getMovedRangeStart(),y=k.start.hasSameParentAs(w),C=k._getTransformedByInsertion(w,s.howMany,y);p.push(...C)}return d&&p.push(d._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany,!1)[0]),p}(a.range,e).map(o=>new Wt(o,a.key,a.oldValue,a.newValue,a.baseVersion))),Ge(Wt,gt,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const t=a.clone();return t.range=new ee(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,t]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),Ge(mn,Wt,(a,e)=>{const t=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const o=v_(a,e.key,e.newValue);o&&t.push(o)}return t}),Ge(mn,mn,(a,e,t)=>(a.position.isEqual(e.position)&&t.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),Ge(mn,Je,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Ge(mn,gt,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),Ge(mn,Pt,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),Ge(ai,mn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),Ge(ai,ai,(a,e,t)=>{if(a.name==e.name){if(!t.aIsStrong)return[new Zt(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),Ge(ai,Pt,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),Ge(ai,Je,(a,e,t)=>{if(a.oldRange&&(a.oldRange=ee._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(t.abRelation){const o=ee._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=o.end,a.newRange.start.path=t.abRelation.path,[a];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=o.start,a.newRange.end.path=t.abRelation.path,[a]}a.newRange=ee._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),Ge(ai,gt,(a,e,t)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(t.abRelation){const o=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?a.newRange.start=ae._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(a.newRange.start=ae._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?a.newRange.end=ae._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?a.newRange.end=ae._createAt(e.insertionPosition):a.newRange.end=o.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),Ge(Pt,mn,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),Ge(Pt,Pt,(a,e,t)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),a.sourcePosition=new ae(e.graveyardPosition.root,o),a.howMany=0,[a]}return[new Zt(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const o=a.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!o||!(o&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),d=a.targetPosition._getTransformedByMergeOperation(e);return[new Je(l,a.howMany,d,0)]}return[new Zt(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Ge(Pt,Je,(a,e,t)=>{const o=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.sourcePosition)?[new Zt(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),Ge(Pt,gt,(a,e,t)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const o=e.howMany!=0,s=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(o||s||t.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(t.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),Ge(Je,mn,(a,e)=>{const t=ee._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=t.start,a.howMany=t.end.offset-t.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),Ge(Je,Je,(a,e,t)=>{const o=ee._createFromPositionAndShift(a.sourcePosition,a.howMany),s=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);let l,d=t.aIsStrong,g=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?g=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(g=!1),l=a.targetPosition.isEqual(e.targetPosition)&&g?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),__(a,e)&&__(e,a))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(s,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),qa([o],l);if(s.containsPosition(a.targetPosition)&&s.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),qa([o],l);const p=Dt(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(p=="prefix"||p=="extension")return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),qa([o],l);a.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?a.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(d=!1):d=!0;const k=[],w=o.getDifference(s);for(const C of w){C.start=C.start._getTransformedByDeletion(e.sourcePosition,e.howMany),C.end=C.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const D=Dt(C.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",N=C._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,D);k.push(...N)}const y=o.getIntersection(s);return y!==null&&d&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),k.length===0?k.push(y):k.length==1?s.start.isBefore(o.start)||s.start.isEqual(o.start)?k.unshift(y):k.push(y):k.splice(1,0,y)),k.length===0?[new Zt(a.baseVersion)]:qa(k,l)}),Ge(Je,gt,(a,e,t)=>{let o=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(o=a.targetPosition._getTransformedBySplitOperation(e));const s=ee._createFromPositionAndShift(a.sourcePosition,a.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=o,[a];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let d=new ee(e.splitPosition,s.end);return d=d._getTransformedBySplitOperation(e),qa([new ee(s.start,e.splitPosition),d],o)}a.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(o=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(o=a.targetPosition);const l=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const d=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);a.howMany>1&&d&&!t.aWasUndone&&l.push(ee._createFromPositionAndShift(e.insertionPosition,1))}return qa(l,o)}),Ge(Je,Pt,(a,e,t)=>{const o=ee._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&o.containsPosition(e.sourcePosition)){if(a.type!="remove"||t.forceWeakRemove){if(a.howMany==1)return t.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Zt(0)]}else if(!t.aWasUndone){const l=[];let d=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(l.push(new Je(a.sourcePosition,a.howMany-1,a.targetPosition,0)),d=d._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),g=g._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const p=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),k=new Je(d,1,p,0),w=k.getMovedRangeStart().path.slice();w.push(0);const y=new ae(k.targetPosition.root,w);g=g._getTransformedByMove(d,p,1);const C=new Je(g,e.howMany,y,0);return l.push(k),l.push(C),l}}const s=ee._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=s.start,a.howMany=s.end.offset-s.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),Ge(ci,mn,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),Ge(ci,Pt,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),Ge(ci,Je,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Ge(ci,ci,(a,e,t)=>{if(a.position.isEqual(e.position)){if(!t.aIsStrong)return[new Zt(0)];a.oldName=e.newName}return[a]}),Ge(ci,gt,(a,e)=>{if(Dt(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new ci(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,t]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),Ge(ar,ar,(a,e,t)=>{if(a.root===e.root&&a.key===e.key){if(!t.aIsStrong||a.newValue===e.newValue)return[new Zt(0)];a.oldValue=e.newValue}return[a]}),Ge(Po,Po,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new Zt(0)]:[a]),Ge(gt,mn,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),Ge(gt,Pt,(a,e,t)=>{if(!a.graveyardPosition&&!t.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const s=new ae(e.graveyardPosition.root,o),l=gt.getInsertionPosition(new ae(e.graveyardPosition.root,o)),d=new gt(s,0,l,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=gt.getInsertionPosition(a.splitPosition),a.graveyardPosition=d.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[d,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=gt.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Ge(gt,Je,(a,e,t)=>{const o=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const l=o.start.isEqual(a.graveyardPosition)||o.containsPosition(a.graveyardPosition);if(!t.bWasUndone&&l){const d=a.splitPosition._getTransformedByMoveOperation(e),g=a.graveyardPosition._getTransformedByMoveOperation(e),p=g.path.slice();p.push(0);const k=new ae(g.root,p);return[new Je(d,a.howMany,k,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const s=a.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=gt.getInsertionPosition(a.splitPosition),[a];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:l,offset:d}=t.abRelation;return a.howMany+=l,a.splitPosition=a.splitPosition.getShiftedBy(d),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.splitPosition)){const l=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=l,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=gt.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=gt.getInsertionPosition(a.splitPosition),[a]}),Ge(gt,gt,(a,e,t)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Zt(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Zt(0)];if(t.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const o=a.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!o||!(o&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Je(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&l.push(new Je(a.splitPosition,a.howMany,a.moveTargetPosition,0)),l}return[new Zt(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&t.baRelation=="splitBefore"){const o=e.insertionPosition.path.slice();o.push(0);const s=new ae(e.insertionPosition.root,o);return[a,new Je(a.insertionPosition,1,s,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=gt.getInsertionPosition(a.splitPosition),[a]});class Qt extends $(ae){constructor(e,t,o="toNone"){if(super(e,t,o),!this.root.is("rootElement"))throw new E("model-liveposition-root-not-rootelement",e);tM.call(this)}detach(){this.stopListening()}toPosition(){return new ae(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function tM(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&nM.call(this,t)},{priority:"low"})}function nM(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Qt.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class Ga{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},U("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:o=!0,isUndo:s=!1,isTyping:l=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=o,this.isUndo=s,this.isTyping=l}get type(){return U("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class iM{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of t.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const o=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const o=ee._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(o)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}break}case"split":{const o=t.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const o=t.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const l=t.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,t.targetPosition.offset,o.maxOffset);break}case"detachRoot":case"addRoot":{const o=t.affectedSelectable;if(!o._isLoaded||o.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const o=t.root.rootName;this._bufferRootAttributeChange(o,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,o){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=o:(s={newMarkerData:o,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&o.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,o]of this._changedMarkers)o.oldMarkerData.range!=null&&e.push({name:t,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,o]of this._changedMarkers)o.newMarkerData.range!=null&&e.push({name:t,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const o=e.range&&!t.range,s=!e.range&&t.range,l=e.range&&t.range&&!e.range.isEqual(t.range);if(o||s||l)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const o of this._changesInElement.keys()){const s=this._changesInElement.get(o).sort((w,y)=>w.offset===y.offset?w.type!=y.type?w.type=="remove"?-1:1:0:w.offset<y.offset?-1:1),l=this._elementSnapshots.get(o),d=y_(o.getChildren()),g=oM(l.length,s);let p=0,k=0;for(const w of g)if(w==="i")t.push(this._getInsertDiff(o,p,d[p])),p++;else if(w==="r")t.push(this._getRemoveDiff(o,p,l[k])),k++;else if(w==="a"){const y=d[p].attributes,C=l[k].attributes;let D;if(d[p].name=="$text")D=new ee(ae._createAt(o,p),ae._createAt(o,p+1));else{const N=o.offsetToIndex(p);D=new ee(ae._createAt(o,p),ae._createAt(o.getChild(N),0))}t.push(...this._getAttributesDiff(D,C,y)),p++,k++}else p++,k++}t.sort((o,s)=>o.position.root!=s.position.root?o.position.root.rootName<s.position.root.rootName?-1:1:o.position.isEqual(s.position)?o.changeCount-s.changeCount:o.position.isBefore(s.position)?-1:1);for(let o=1,s=0;o<t.length;o++){const l=t[s],d=t[o],g=l.type=="remove"&&d.type=="remove"&&l.name=="$text"&&d.name=="$text"&&l.position.isEqual(d.position),p=l.type=="insert"&&d.type=="insert"&&l.name=="$text"&&d.name=="$text"&&l.position.parent==d.position.parent&&l.position.offset+l.length==d.position.offset,k=l.type=="attribute"&&d.type=="attribute"&&l.position.parent==d.position.parent&&l.range.isFlat&&d.range.isFlat&&l.position.offset+l.length==d.position.offset&&l.attributeKey==d.attributeKey&&l.attributeOldValue==d.attributeOldValue&&l.attributeNewValue==d.attributeNewValue;g||p||k?(l.length++,k&&(l.range.end=l.range.end.getShiftedBy(1)),t[o]=null):s=o}t=t.filter(o=>o);for(const o of t)delete o.changeCount,o.type=="attribute"&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(rM),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const o=this._changedRoots.get(e);o.state!==void 0?(delete o.state,o.attributes===void 0&&this._changedRoots.delete(e)):o.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,o,s){const l=this._changedRoots.get(e)||{name:e},d=l.attributes||{};if(d[t]){const g=d[t];s===g.oldValue?delete d[t]:g.newValue=s}else d[t]={oldValue:o,newValue:s};Object.entries(d).length===0?(delete l.attributes,l.state===void 0&&this._changedRoots.delete(e)):(l.attributes=d,this._changedRoots.set(e,l))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=ee._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(t)){const s=o.getData();this.bufferMarkerChange(o.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const o=t.getData();this.bufferMarkerChange(t.name,{...o,range:null},o)}}}_markInsert(e,t,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,o)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(let s=0;s<o.length;s++)o[s].howMany<1&&(o.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,y_(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const o of t){const s=e.offset+e.howMany,l=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<l&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<l){const d=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:s,howMany:d-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(s<=o.offset)o.offset-=e.howMany;else if(s<=l)if(e.offset<o.offset){const d=s-o.offset;o.offset=e.offset,o.howMany-=d,e.nodesToHandle-=d}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<l){const d=l-e.offset;o.howMany-=d,e.nodesToHandle-=d}}if(o.type=="remove"&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const d=s-o.offset;o.offset=e.offset,o.howMany-=d}else if(e.offset<l)if(s<=l){const d=o.howMany;o.howMany=e.offset-o.offset;const g=d-o.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:g,count:this._changeCount++})}else o.howMany-=l-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&s>o.offset){if(s>l){const d={type:"attribute",offset:l,howMany:s-l,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<l&&(s>l?(e.nodesToHandle=s-l,e.offset=l):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&s>o.offset){const d={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(d,t),t.push(d),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&s<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=l&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,o){return{type:"insert",position:ae._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,o){return{type:"remove",position:ae._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,o){const s=[];o=new Map(o);for(const[l,d]of t){const g=o.has(l)?o.get(l):null;g!==d&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:d,attributeNewValue:g,changeCount:this._changeCount++}),o.delete(l)}for(const[l,d]of o)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const o=this._changesInElement.get(t),s=e.startOffset;if(o){for(const l of o)if(l.type=="insert"&&s>=l.offset&&s<l.offset+l.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,o){const s=new ee(ae._createAt(e,t),ae._createAt(e,t+o));for(const l of s.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function y_(a){const e=[];for(const t of a)if(t.is("$text"))for(let o=0;o<t.data.length;o++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function oM(a,e){const t=[];let o=0,s=0;for(const l of e){if(l.offset>o){for(let d=0;d<l.offset-o;d++)t.push("e");s+=l.offset-o}if(l.type=="insert"){for(let d=0;d<l.howMany;d++)t.push("i");o=l.offset+l.howMany}else if(l.type=="remove"){for(let d=0;d<l.howMany;d++)t.push("r");o=l.offset,s+=l.howMany}else t.push(..."a".repeat(l.howMany).split("")),o=l.offset+l.howMany,s+=l.howMany}if(s<a)for(let l=0;l<a-s-o;l++)t.push("e");return t}function rM(a){const e="position"in a&&a.position.root.rootName=="$graveyard",t="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!t}class sM{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new E("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const o=this._operations[0];e===void 0&&(e=o.baseVersion);let s=t-1;for(const[g,p]of this._gaps)e>g&&e<p&&(e=p),s>g&&s<p&&(s=g-1);if(s<o.baseVersion||e>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(e);l===void 0&&(l=0);let d=this._baseVersionToOperationIndex.get(s);return d===void 0&&(d=this._operations.length-1),this._operations.slice(l,d+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class vh extends at{constructor(e,t,o="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=o}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}vh.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};const A_="$graveyard";class aM extends $(){constructor(e){super(),this.model=e,this.history=new sM,this.selection=new fo(this),this.roots=new Fi({idProperty:"rootName"}),this.differ=new iM(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",A_),this.listenTo(e,"applyOperation",(t,o)=>{const s=o[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,o)=>{const s=o[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,o,s,l,d)=>{const g={...o.getData(),range:l};this.differ.bufferMarkerChange(o.name,d,g),s===null&&o.on("change",(p,k)=>{const w=o.getData();this.differ.bufferMarkerChange(o.name,{...w,range:k},w)})}),this.registerPostFixer(t=>{let o=!1;for(const s of this.roots)s.isAttached()||s.isEmpty||(t.remove(t.createRangeIn(s)),o=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),o=!0);return o})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(A_)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new E("model-document-createroot-name-exists",this,{name:t});const o=new vh(this,e,t);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Qw(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,o=t.schema,s=t.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return C_(e.start)&&C_(e.end)}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(this.selection.refresh(),t=o(e),t)break;while(t)}}function C_(a){const e=a.textNode;if(e){const t=e.data,o=a.offset-e.startOffset;return!xp(t,o)&&!Ep(t,o)}return!0}class cM extends $(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ya?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,o=!1,s=!1){const l=e instanceof Ya?e.name:e;if(l.includes(","))throw new E("markercollection-incorrect-marker-name",this);const d=this._markers.get(l);if(d){const k=d.getData(),w=d.getRange();let y=!1;return w.isEqual(t)||(d._attachLiveRange(si.fromRange(t)),y=!0),o!=d.managedUsingOperations&&(d._managedUsingOperations=o,y=!0),typeof s=="boolean"&&s!=d.affectsData&&(d._affectsData=s,y=!0),y&&this.fire(`update:${l}`,d,w,t,k),d}const g=si.fromRange(t),p=new Ya(l,g,o,s);return this._markers.set(l,p),this.fire(`update:${l}`,p,null,t,{...p.getData(),range:null}),p}_remove(e){const t=e instanceof Ya?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire(`update:${t}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const t=e instanceof Ya?e.name:e,o=this._markers.get(t);if(!o)throw new E("markercollection-refresh-marker-not-exists",this);const s=o.getRange();this.fire(`update:${t}`,o,s,s,o.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ya extends $(Hr){constructor(e,t,o,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=o,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ya.prototype.is=function(a){return a==="marker"||a==="model:marker"};class lM extends Ci{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new E("detach-operation-on-document-node",this)}_execute(){f_(ee._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class cr extends Hr{constructor(e){super(),this.markers=new Map,this._children=new Fl,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const o of e)o.name?t.push(at.fromJSON(o)):t.push(ft.fromJSON(o));return new cr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=function(s){return typeof s=="string"?[new ft(s)]:(Yt(s)||(s=[s]),Array.from(s).map(l=>typeof l=="string"?new ft(l):l instanceof ho?new ft(l.data,l.getAttributes()):l))}(t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const s of o)s.parent=null;return o}}cr.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class dM{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new ft(e,t)}createElement(e,t){return new at(e,t)}createDocumentFragment(){return new cr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,o=0){if(this._assertWriterUsedCorrectly(),e instanceof ft&&e.data=="")return;const s=ae._createAt(t,o);if(e.parent){if(S_(e.root,s.root))return void this.move(ee._createOn(e),s);if(e.root.document)throw new E("model-writer-insert-forbidden-move",this);this.remove(e)}const l=s.root.document?s.root.document.version:null,d=new mn(s,e,l);if(e instanceof ft&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof cr)for(const[g,p]of e.markers){const k=ae._createAt(p.root,0),w={range:new ee(p.start._getCombined(k,s),p.end._getCombined(k,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,w):this.addMarker(g,w)}}insertText(e,t,o,s){t instanceof cr||t instanceof at||t instanceof ae?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,s)}insertElement(e,t,o,s){t instanceof cr||t instanceof at||t instanceof ae?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,o){t instanceof cr||t instanceof at?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),o,"end")}appendElement(e,t,o){t instanceof cr||t instanceof at?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),o,"end")}setAttribute(e,t,o){if(this._assertWriterUsedCorrectly(),o instanceof ee){const s=o.getMinimalFlatRanges();for(const l of s)x_(this,e,t,l)}else E_(this,e,t,o)}setAttributes(e,t){for(const[o,s]of Mo(e))this.setAttribute(o,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ee){const o=t.getMinimalFlatRanges();for(const s of o)x_(this,e,null,s)}else E_(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=o=>{for(const s of o.getAttributeKeys())this.removeAttribute(s,o)};if(e instanceof ee)for(const o of e.getItems())t(o);else t(e)}move(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof ee))throw new E("writer-move-invalid-range",this);if(!e.isFlat)throw new E("writer-move-range-not-flat",this);const s=ae._createAt(t,o);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!S_(e.root,s.root))throw new E("writer-move-different-document",this);const l=e.root.document?e.root.document.version:null,d=new Je(e.start,e.end.offset-e.start.offset,s,l);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof ee?e:ee._createOn(e)).getMinimalFlatRanges().reverse();for(const o of t)this._addOperationForAffectedMarkers("move",o),uM(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof at))throw new E("writer-merge-no-element-before",this);if(!(o instanceof at))throw new E("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,o){return this.model.createPositionFromPath(e,t,o)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,o=e.nodeAfter;this.move(ee._createIn(o),ae._createAt(t,"end")),this.remove(o)}_merge(e){const t=ae._createAt(e.nodeBefore,"end"),o=ae._createAt(e.nodeAfter,0),s=e.root.document.graveyard,l=new ae(s,[0]),d=e.root.document.version,g=new Pt(o,e.nodeAfter.maxOffset,t,l,d);this.batch.addOperation(g),this.model.applyOperation(g)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof at))throw new E("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,s=new ci(ae._createBefore(e),e.name,t,o);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let o,s,l=e.parent;if(!l.parent)throw new E("writer-split-element-no-parent",this);if(t||(t=l.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new E("writer-split-invalid-limit-element",this);do{const d=l.root.document?l.root.document.version:null,g=l.maxOffset-e.offset,p=gt.getInsertionPosition(e),k=new gt(e,g,p,null,d);this.batch.addOperation(k),this.model.applyOperation(k),o||s||(o=l,s=e.parent.nextSibling),l=(e=this.createPositionAfter(e.parent)).parent}while(l!==t);return{position:e,range:new ee(ae._createAt(o,"end"),ae._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new E("writer-wrap-range-not-flat",this);const o=t instanceof at?t:new at(t);if(o.childCount>0)throw new E("writer-wrap-element-not-empty",this);if(o.parent!==null)throw new E("writer-wrap-element-attached",this);this.insert(o,e.start);const s=new ee(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,ae._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new E("writer-unwrap-element-no-parent",this);this.move(ee._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new E("writer-addmarker-no-usingoperation",this);const o=t.usingOperation,s=t.range,l=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new E("writer-addmarker-marker-exists",this);if(!s)throw new E("writer-addmarker-no-range",this);return o?(Yl(this,e,null,s,l),this.model.markers.get(e)):this.model.markers._set(e,s,o,l)}updateMarker(e,t){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name,s=this.model.markers.get(o);if(!s)throw new E("writer-updatemarker-marker-not-exists",this);if(!t)return U("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(s);const l=typeof t.usingOperation=="boolean",d=typeof t.affectsData=="boolean",g=d?t.affectsData:s.affectsData;if(!l&&!t.range&&!d)throw new E("writer-updatemarker-wrong-options",this);const p=s.getRange(),k=t.range?t.range:p;l&&t.usingOperation!==s.managedUsingOperations?t.usingOperation?Yl(this,o,null,k,g):(Yl(this,o,p,null,g),this.model.markers._set(o,k,void 0,g)):s.managedUsingOperations?Yl(this,o,p,k,g):this.model.markers._set(o,k,void 0,g)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new E("writer-removemarker-no-marker",this);const o=this.model.markers.get(t);if(!o.managedUsingOperations)return void this.model.markers._remove(t);Yl(this,t,o.getRange(),null,o.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const o=this.model.document.getRoot(e);if(o&&o.isAttached())throw new E("writer-addroot-root-exists",this);const s=this.model.document,l=new Po(e,t,!0,s,s.version);return this.batch.addOperation(l),this.model.applyOperation(l),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new E("writer-detachroot-no-root",this);for(const l of this.model.markers)l.getRange().root===t&&this.removeMarker(l);for(const l of t.getAttributeKeys())this.removeAttribute(l,t);this.remove(this.createRangeIn(t));const o=this.model.document,s=new Po(t.rootName,t.name,!1,o,o.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[o,s]of Mo(e))this._setSelectionAttribute(o,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const s=fo._getStoreAttributeKey(e);this.setAttribute(s,t,o.anchor.parent)}o._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=fo._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new E("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const s=o.getRange();let l=!1;if(e==="move"){const d=t;l=d.containsPosition(s.start)||d.start.isEqual(s.start)||d.containsPosition(s.end)||d.end.isEqual(s.end)}else{const d=t,g=d.nodeBefore,p=d.nodeAfter,k=s.start.parent==g&&s.start.isAtEnd,w=s.end.parent==p&&s.end.offset==0,y=s.end.nodeAfter==p,C=s.start.nodeAfter==p;l=k||w||y||C}l&&this.updateMarker(o.name,{range:s})}}}function x_(a,e,t,o){const s=a.model,l=s.document;let d,g,p,k=o.start;for(const y of o.getWalker({shallow:!0}))p=y.item.getAttribute(e),d&&g!=p&&(g!=t&&w(),k=d),d=y.nextPosition,g=p;function w(){const y=new ee(k,d),C=y.root.document?l.version:null,D=new Wt(y,e,g,t,C);a.batch.addOperation(D),s.applyOperation(D)}d instanceof ae&&d!=k&&g!=t&&w()}function E_(a,e,t,o){const s=a.model,l=s.document,d=o.getAttribute(e);let g,p;if(d!=t){if(o.root===o){const k=o.document?l.version:null;p=new ar(o,e,d,t,k)}else{g=new ee(ae._createBefore(o),a.createPositionAfter(o));const k=g.root.document?l.version:null;p=new Wt(g,e,d,t,k)}a.batch.addOperation(p),s.applyOperation(p)}}function Yl(a,e,t,o,s){const l=a.model,d=l.document,g=new ai(e,t,o,l.markers,!!s,d.version);a.batch.addOperation(g),l.applyOperation(g)}function uM(a,e,t,o){let s;if(a.root.document){const l=o.document,d=new ae(l.graveyard,[0]);s=new Je(a,e,d,l.version)}else s=new lM(a,e);t.addOperation(s),o.applyOperation(s)}function S_(a,e){return a===e||a instanceof vh&&e instanceof vh}function hM(a,e,t={}){if(e.isCollapsed)return;const o=e.getFirstRange();if(o.root.rootName=="$graveyard")return;const s=a.schema;a.change(l=>{if(!t.doNotResetEntireContent&&function(k,w){const y=k.getLimitElement(w);if(!w.containsEntireContent(y))return!1;const C=w.getFirstRange();return C.start.parent==C.end.parent?!1:k.checkChild(y,"paragraph")}(s,e))return void function(k,w){const y=k.model.schema.getLimitElement(w);k.remove(k.createRangeIn(y)),I_(k,k.createPositionAt(y,0),w)}(l,e);const d={};if(!t.doNotAutoparagraph){const k=e.getSelectedElement();k&&Object.assign(d,s.getAttributesWithProperty(k,"copyOnReplace",!0))}const[g,p]=function(k){const w=k.root.document.model,y=k.start;let C=k.end;if(w.hasContent(k,{ignoreMarkers:!0})){const D=function(N){const P=N.parent,z=P.root.document.model.schema,W=P.getAncestors({parentFirst:!0,includeSelf:!0});for(const Q of W){if(z.isLimit(Q))return null;if(z.isBlock(Q))return Q}}(C);if(D&&C.isTouching(w.createPositionAt(D,0))){const N=w.createSelection(k);w.modifySelection(N,{direction:"backward"});const P=N.getLastPosition(),z=w.createRange(P,C);w.hasContent(z,{ignoreMarkers:!0})||(C=P)}}return[Qt.fromPosition(y,"toPrevious"),Qt.fromPosition(C,"toNext")]}(o);g.isTouching(p)||l.remove(l.createRange(g,p)),t.leaveUnmerged||(function(k,w,y){const C=k.model;if(!im(k.model.schema,w,y))return;const[D,N]=function(P,z){const W=P.getAncestors(),Q=z.getAncestors();let ce=0;for(;W[ce]&&W[ce]==Q[ce];)ce++;return[W[ce],Q[ce]]}(w,y);!D||!N||(!C.hasContent(D,{ignoreMarkers:!0})&&C.hasContent(N,{ignoreMarkers:!0})?T_(k,w,y,D.parent):D_(k,w,y,D.parent))}(l,g,p),s.removeDisallowedAttributes(g.parent.getChildren(),l)),M_(l,e,g),!t.doNotAutoparagraph&&function(k,w){const y=k.checkChild(w,"$text"),C=k.checkChild(w,"paragraph");return!y&&C}(s,g)&&I_(l,g,e,d),g.detach(),p.detach()})}function D_(a,e,t,o){const s=e.parent,l=t.parent;if(s!=o&&l!=o){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(l)).isEqual(e)||a.insert(l,e),a.merge(e);t.parent.isEmpty;){const d=t.parent;t=a.createPositionBefore(d),a.remove(d)}im(a.model.schema,e,t)&&D_(a,e,t,o)}}function T_(a,e,t,o){const s=e.parent,l=t.parent;if(s!=o&&l!=o){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(l)).isEqual(e)||a.insert(s,t);e.parent.isEmpty;){const d=e.parent;e=a.createPositionBefore(d),a.remove(d)}t=a.createPositionBefore(l),function(d,g){const p=g.nodeBefore,k=g.nodeAfter;p.name!=k.name&&d.rename(p,k.name),d.clearAttributes(p),d.setAttributes(Object.fromEntries(k.getAttributes()),p),d.merge(g)}(a,t),im(a.model.schema,e,t)&&T_(a,e,t,o)}}function im(a,e,t){const o=e.parent,s=t.parent;return o!=s&&!a.isLimit(o)&&!a.isLimit(s)&&function(l,d,g){const p=new ee(l,d);for(const k of p.getWalker())if(g.isLimit(k.item))return!1;return!0}(e,t,a)}function I_(a,e,t,o={}){const s=a.createElement("paragraph");a.model.schema.setAllowedAttributes(s,o,a),a.insert(s,e),M_(a,t,a.createPositionAt(s,0))}function M_(a,e,t){e instanceof fo?a.setSelection(t):e.setTo(t)}function N_(a,e){const t=[];Array.from(a.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(a.start)||o.start.isEqual(a.start))&&(o.end.isBefore(a.end)||o.end.isEqual(a.end))).forEach(o=>{t.push(o.start.parent),e.remove(o)}),t.forEach(o=>{let s=o;for(;s.parent&&s.isEmpty;){const l=e.createRangeOn(s);s=s.parent,e.remove(l)}})}class fM{constructor(e,t,o){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new E("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ee._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ee(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Qt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new E("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Qt.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Qt.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof at)||!this._canMergeLeft(e))return;const t=Qt._createBefore(e);t.stickiness="toNext";const o=Qt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Qt._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Qt._createAt(t.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof at)||!this._canMergeRight(e))return;const t=Qt._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new E("insertcontent-invalid-insertion-position",this);this.position=ae._createAt(t.nodeBefore,"end");const o=Qt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Qt._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Qt._createAt(t.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof at&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof at&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===t&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function O_(a,e,t="auto"){const o=a.getSelectedElement();if(o&&e.schema.isObject(o)&&!e.schema.isInline(o))return t=="before"||t=="after"?e.createRange(e.createPositionAt(o,t)):e.createRangeOn(o);const s=pn(a.getSelectedBlocks());if(!s)return e.createRange(a.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const l=e.createPositionAfter(s);return a.focus.isTouching(l)?e.createRange(l):e.createRange(e.createPositionBefore(s))}function gM(a,e,t,o={}){if(!a.schema.isObject(e))throw new E("insertobject-element-not-an-object",a,{object:e});const s=t||a.document.selection;let l=s;o.findOptimalPosition&&a.schema.isBlock(e)&&(l=a.createSelection(O_(s,a,o.findOptimalPosition)));const d=pn(s.getSelectedBlocks()),g={};return d&&Object.assign(g,a.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),a.change(p=>{l.isCollapsed||a.deleteContent(l,{doNotAutoparagraph:!0});let k=e;const w=l.anchor.parent;!a.schema.checkChild(w,e)&&a.schema.checkChild(w,"paragraph")&&a.schema.checkChild("paragraph",e)&&(k=p.createElement("paragraph"),p.insert(e,k)),a.schema.setAllowedAttributes(k,g,p);const y=a.insertContent(k,l);return y.isCollapsed||o.setSelection&&function(C,D,N,P){const z=C.model;if(N=="on")return void C.setSelection(D,"on");if(N!="after")throw new E("insertobject-invalid-place-parameter-value",z);let W=D.nextSibling;if(z.schema.isInline(D))return void C.setSelection(D,"after");!(W&&z.schema.checkChild(W,"$text"))&&z.schema.checkChild(D.parent,"paragraph")&&(W=C.createElement("paragraph"),z.schema.setAllowedAttributes(W,P,C),z.insertContent(W,C.createPositionAfter(D))),W&&C.setSelection(W,0)}(p,e,o.setSelection,g),y})}const pM=' ,.?!:;"-()';function mM(a,e){const{isForward:t,walker:o,unit:s,schema:l,treatEmojiAsSingleUnit:d}=a,{type:g,item:p,nextPosition:k}=e;if(g=="text")return a.unit==="word"?function(w,y){let C=w.position.textNode;for(C||(C=y?w.position.nodeAfter:w.position.nodeBefore);C&&C.is("$text");){const D=w.position.offset-C.startOffset;if(wM(C,D,y))C=y?w.position.nodeAfter:w.position.nodeBefore;else{if(bM(C.data,D,y))break;w.next()}}return w.position}(o,t):function(w,y,C){const D=w.position.textNode;if(D){const N=D.data;let P=w.position.offset-D.startOffset;for(;xp(N,P)||y=="character"&&Ep(N,P)||C&&Fw(N,P);)w.next(),P=w.position.offset-D.startOffset}return w.position}(o,s,d);if(g==(t?"elementStart":"elementEnd")){if(l.isSelectable(p))return ae._createAt(p,t?"after":"before");if(l.checkChild(k,"$text"))return k}else{if(l.isLimit(p))return void o.skip(()=>!0);if(l.checkChild(k,"$text"))return k}}function kM(a,e){const t=a.root,o=ae._createAt(t,e?"end":0);return e?new ee(a,o):new ee(o,a)}function bM(a,e,t){const o=e+(t?0:-1);return pM.includes(a.charAt(o))}function wM(a,e,t){return e===(t?a.offsetSize:0)}class vM extends Me(){constructor(){super(),this.markers=new cM,this.document=new aM(this),this.schema=new BI,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),MI(this),this.document.registerPostFixer(t_),this.on("insertContent",(e,[t,o])=>{e.return=function(s,l,d){return s.change(g=>{const p=d||s.document.selection;p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0});const k=new fM(s,g,p.anchor),w=[];let y;if(l.is("documentFragment")){if(l.markers.size){const N=[];for(const[P,z]of l.markers){const{start:W,end:Q}=z,ce=W.isEqual(Q);N.push({position:W,name:P,isCollapsed:ce},{position:Q,name:P,isCollapsed:ce})}N.sort(({position:P},{position:z})=>P.isBefore(z)?1:-1);for(const{position:P,name:z,isCollapsed:W}of N){let Q=null,ce=null;const xe=P.parent===l&&P.isAtStart,He=P.parent===l&&P.isAtEnd;xe||He?W&&(ce=xe?"start":"end"):(Q=g.createElement("$marker"),g.insert(Q,P)),w.push({name:z,element:Q,collapsed:ce})}}y=l.getChildren()}else y=[l];k.handleNodes(y);let C=k.getSelectionRange();if(l.is("documentFragment")&&w.length){const N=C?si.fromRange(C):null,P={};for(let z=w.length-1;z>=0;z--){const{name:W,element:Q,collapsed:ce}=w[z],xe=!P[W];if(xe&&(P[W]=[]),Q){const He=g.createPositionAt(Q,"before");P[W].push(He),g.remove(Q)}else{const He=k.getAffectedRange();if(!He){ce&&P[W].push(k.position);continue}ce?P[W].push(He[ce]):P[W].push(xe?He.start:He.end)}}for(const[z,[W,Q]]of Object.entries(P))W&&Q&&W.root===Q.root&&g.addMarker(z,{usingOperation:!0,affectsData:!0,range:new ee(W,Q)});N&&(C=N.toRange(),N.detach())}C&&(p instanceof fo?g.setSelection(C):p.setTo(C));const D=k.getAffectedRange()||s.createRange(p.anchor);return k.destroy(),D})}(this,t,o)}),this.on("insertObject",(e,[t,o,s])=>{e.return=gM(this,t,o,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ga,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){E.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ga):e instanceof Ga||(e=new Ga(e)):e=new Ga,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(o){E.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,t,o,...s){const l=om(t,o);return this.fire("insertContent",[e,l,o,...s])}insertObject(e,t,o,s,...l){const d=om(t,o);return this.fire("insertObject",[e,d,s,s,...l])}deleteContent(e,t){hM(this,e,t)}modifySelection(e,t){(function(o,s,l={}){const d=o.schema,g=l.direction!="backward",p=l.unit?l.unit:"character",k=!!l.treatEmojiAsSingleUnit,w=s.focus,y=new Bo({boundaries:kM(w,g),singleCharacters:!0,direction:g?"forward":"backward"}),C={walker:y,schema:d,isForward:g,unit:p,treatEmojiAsSingleUnit:k};let D;for(;D=y.next();){if(D.done)return;const N=mM(C,D.value);if(N)return void(s instanceof fo?o.change(P=>{P.setSelectionFocus(N)}):s.setFocus(N))}})(this,e,t)}getSelectedContent(e){return function(t,o){return t.change(s=>{const l=s.createDocumentFragment(),d=o.getFirstRange();if(!d||d.isCollapsed)return l;const g=d.start.root,p=d.start.getCommonPath(d.end),k=g.getNodeByPath(p);let w;w=d.start.parent==d.end.parent?d:s.createRange(s.createPositionAt(k,d.start.path[p.length]),s.createPositionAt(k,d.end.path[p.length]+1));const y=w.end.offset-w.start.offset;for(const C of w.getItems({shallow:!0}))C.is("$textProxy")?s.appendText(C.data,C.getAttributes(),l):s.append(s.cloneElement(C,!0),l);if(w!=d){const C=d._getTransformedByMove(w.start,s.createPositionAt(l,0),y)[0],D=s.createRange(s.createPositionAt(l,0),C.start);N_(s.createRange(C.end,s.createPositionAt(l,"end")),s),N_(D,s)}return l})}(this,e)}hasContent(e,t={}){const o=e instanceof ee?e:ee._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:l=!1}=t;if(!l){for(const d of this.markers.getMarkersIntersectingRange(o))if(d.affectsData)return!0}for(const d of o.getItems())if(this.schema.isContent(d)&&(!d.is("$textProxy")||!s||d.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=om(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,o){return new ae(e,t,o)}createPositionAt(e,t){return ae._createAt(e,t)}createPositionAfter(e){return ae._createAfter(e)}createPositionBefore(e){return ae._createBefore(e)}createRange(e,t){return new ee(e,t)}createRangeIn(e){return ee._createIn(e)}createRangeOn(e){return ee._createOn(e)}createSelection(...e){return new Ai(...e)}createBatch(e){return new Ga(e)}createOperationFromJSON(e){return QI.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new dM(this,t);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function om(a,e){if(a)return a instanceof Ai||a instanceof fo?a:a instanceof Us?e||e===0?new Ai(a,e):a.is("rootElement")?new Ai(a,"in"):new Ai(a,"on"):new Ai(a)}class _M extends Vs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class _h extends Vs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class qs{constructor(e){this.document=e}createDocumentFragment(e){return new Fs(this.document,e)}createElement(e,t,o){return new _i(this.document,e,t,o)}createText(e){return new ht(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,o){return o._insertChild(e,t)}removeChildren(e,t,o){return o._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const o=e.parent;if(o){const s=o.getChildIndex(e);return this.removeChildren(s,1,o),this.insertChild(s,t,o),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const o=t.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),t)}}rename(e,t){const o=new _i(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,o)?o:null}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){Vt(e)&&o===void 0?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Te(e,t)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(...e){return new lo(...e)}}class yM{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const o=this.get(e);if(!o)throw new E("commandcollection-command-not-found",this,{commandName:e});return o.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class AM extends co{constructor(e){super(),this.editor=e}set(e,t,o={}){if(typeof t=="string"){const s=t;t=(l,d)=>{this.editor.execute(s),d()}}super.set(e,t,o)}}class CM extends Me(){constructor(e={}){super();const t=this.constructor,o=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new Ww({language:o}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new $n(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new $w(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new yM,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new vM,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const l=new C4;this.data=new KI(this.model,l),this.editing=new NI(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ZI([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new AM(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new E("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new E("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new E("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),o=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],l=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),o,l)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(o){E.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function yh(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=yh(Object);yh.setData=a.prototype.setData,yh.getData=a.prototype.getData}function rm(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new E("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;ao(this.sourceElement,t||o?e:"")}}}rm.updateSourceElement=rm(Object).prototype.updateSourceElement;class B_ extends qw{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new E("pendingactions-add-invalid-message",this);const t=new(Me());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ve={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class P_{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const o="error"in t?t.error:t.reason;o instanceof Error&&this._handleError(o,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(o=>o!==t)}_fire(e,...t){const o=this._listeners[e]||[];for(const s of o)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function sm(a,e=new Set){const t=[a],o=new Set;let s=0;for(;t.length>s;){const l=t[s++];if(!o.has(l)&&xM(l)&&!e.has(l))if(o.add(l),Symbol.iterator in l)try{for(const d of l)t.push(d)}catch{}else for(const d in l)d!=="defaultValue"&&t.push(l[d])}return o}function xM(a){const e=Object.prototype.toString.call(a),t=typeof a;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function L_(a,e,t=new Set){if(a===e&&typeof(o=a)=="object"&&o!==null)return!0;var o;const s=sm(a,t),l=sm(e,t);for(const d of s)if(l.has(d))return!0;return!1}const Kl=function(a,e,t){var o=!0,s=!0;if(typeof a!="function")throw new TypeError("Expected a function");return me(t)&&(o="leading"in t?!!t.leading:o,s="trailing"in t?!!t.trailing:s),Rl(a,e,{leading:o,maxWait:e,trailing:s})};class z_ extends P_{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Kl(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(o,s)=>e.create(o,s)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],o=this._config.rootsAttributes||{},s={};for(const[d,g]of Object.entries(this._data.roots))g.isLoaded?(e[d]="",s[d]=o[d]||{}):t.push(d);const l={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete l.initialData,l.extraPlugins.push(EM),this._initUsingData?this.create(e,l,l.context):Ne(this._elementOrData)?this.create(this._elementOrData,l,l.context):this.create(this._editables,l,l.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=o,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:o}=e,s=o.has("CommentsRepository")&&o.get("CommentsRepository"),l=o.has("TrackChanges")&&o.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(g=>{d.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of e.model.markers)g._affectsData&&(d.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),l&&(d.suggestions=JSON.stringify(l.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(t);o&&(e[t]=o)}return e}_isErrorComingFromThisItem(e){return L_(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return ze(e,(t,o)=>Ne(t)||o==="context"?t:void 0)}}class EM{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const o=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)o._appendChild(this._createNode(e,s));return o}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([o,{content:s,attributes:l}])=>{const d=JSON.parse(s),g=JSON.parse(l),p=t.model.document.getRoot(o);for(const[k,w]of g)e.setAttribute(k,w,p);for(const k of d){const w=this._createNode(e,k);e.insert(w,p,"end")}}),Object.entries(this._data.markers).forEach(([o,s])=>{const{document:l}=t.model,{rangeJSON:{start:d,end:g},...p}=s,k=l.getRoot(d.root),w=e.createPositionFromPath(k,d.path,d.stickiness),y=e.createPositionFromPath(k,g.path,g.stickiness),C=e.createRange(w,y);e.addMarker(o,{range:C,...p})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(o=>{const s=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(o.threadId)&&l.getCommentThread(o.threadId).remove(),l.addCommentThread({channelId:s,...o})}),t.forEach(o=>{const s=this.editor.plugins.get("TrackChangesEditing");s.hasSuggestion(o.id)?s.getSuggestion(o.id).attributes=o.attributes:s.addSuggestionData(o)})}}const Zl=Symbol("MainQueueId");class SM{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const o=e===Zl;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(Zl),this._queues.get(e)])).then(t),l=s.catch(()=>{});return this._queues.set(e,l),s.finally(()=>{this._activeActions--,this._queues.get(e)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(d=>d())})}}function j_(a){return Array.isArray(a)?a:[a]}function am({emitter:a,activator:e,callback:t,contextElements:o}){a.listenTo(document,"mousedown",(s,l)=>{if(!e())return;const d=typeof l.composedPath=="function"?l.composedPath():[],g=typeof o=="function"?o():o;for(const p of g)if(p.contains(l.target)||d.includes(p))return;t()})}function cm(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Ah({view:a}){a.listenTo(a.element,"submit",(e,t)=>{t.preventDefault(),a.fire("submit")},{useCapture:!0})}class Lo extends Fi{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,o,s)=>{this._renderViewIntoCollectionParent(o,s)}),this.on("remove",(t,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new E("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const o of this)for(const s of e)o.delegate(s).to(t);this.on("add",(o,s)=>{for(const l of e)s.delegate(l).to(t)}),this.on("remove",(o,s)=>{for(const l of e)s.stopDelegating(l,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}var R_=r(5167),DM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(R_.Z,DM),R_.Z.locals;class Pe extends dt(Me()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Fi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=zo.bind(this,this)}createCollection(e){const t=new Lo(e);return this._viewCollections.add(t),t}registerChild(e){Yt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Yt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new zo(e)}extendTemplate(e){zo.extend(this.template,e)}render(){if(this.isRendered)throw new E("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class zo extends $(){constructor(e){super(),Object.assign(this,H_(U_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new E("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const o of t.children)xh(o)?yield o:lm(o)&&(yield*e(o))}(this)}static bind(e,t){return{to:(o,s)=>new TM({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:s}),if:(o,s,l)=>new F_({observable:e,emitter:t,attribute:o,valueIfTrue:s,callback:l})}}static extend(e,t){if(e._isRendered)throw new E("template-extend-render",[this,e]);G_(e,H_(U_(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new E("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Ch(this.text)?this._bindToObservable({schema:this.text,updater:IM(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,o=e.revertData;for(const s in this.attributes){const l=t.getAttribute(s),d=this.attributes[s];o&&(o.attributes[s]=l);const g=Y_(d)?d[0].ns:null;if(Ch(d)){const p=Y_(d)?d[0].value:d;o&&K_(s)&&p.unshift(l),this._bindToObservable({schema:p,updater:MM(t,s,g),data:e})}else if(s=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{o&&l&&K_(s)&&d.unshift(l);const p=d.map(k=>k&&k.value||k).reduce((k,w)=>k.concat(w),[]).reduce(W_,"");Ka(p)||t.setAttributeNS(g,s,p)}}}_renderStyleAttribute(e,t){const o=t.node;for(const s in e){const l=e[s];Ch(l)?this._bindToObservable({schema:[l],updater:NM(o,s),data:t}):o.style[s]=l}}_renderElementChildren(e){const t=e.node,o=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let l=0;for(const d of this.children)if(dm(d)){if(!s){d.setParent(t);for(const g of d)o.appendChild(g.element)}}else if(xh(d))s||(d.isRendered||d.render(),o.appendChild(d.element));else if(un(d))o.appendChild(d);else if(s){const g={children:[],bindings:[],attributes:{}};e.revertData.children.push(g),d._renderNode({intoFragment:!1,node:o.childNodes[l++],isApplying:!0,revertData:g})}else o.appendChild(d.render());e.intoFragment&&t.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const o=this.eventListeners[t].map(s=>{const[l,d]=t.split("@");return s.activateDomEventListener(l,d,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:t,data:o}){const s=o.revertData;V_(e,t,o);const l=e.filter(d=>!Ka(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,t,o));s&&s.bindings.push(l)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const l of s)l();if(t.text)return void(e.textContent=t.text);const o=e;for(const s in t.attributes){const l=t.attributes[s];l===null?o.removeAttribute(s):o.setAttribute(s,l)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(o.childNodes[s],t.children[s])}}class Ql{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,o){const s=()=>V_(e,t,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class TM extends Ql{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,o){const s=(l,d)=>{t&&!d.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(o.node,e,s),()=>{this.emitter.stopListening(o.node,e,s)}}}class F_ extends Ql{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Ka(super.getValue(e))&&(this.valueIfTrue||!0)}}function Ch(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Ch):a instanceof Ql)}function V_(a,e,{node:t}){const o=function(l,d){return l.map(g=>g instanceof Ql?g.getValue(d):g)}(a,t);let s;s=a.length==1&&a[0]instanceof F_?o[0]:o.reduce(W_,""),Ka(s)?e.remove():e.set(s)}function IM(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function MM(a,e,t){return{set(o){a.setAttributeNS(t,e,o)},remove(){a.removeAttributeNS(t,e)}}}function NM(a,e){return{set(t){a.style[e]=t},remove(){a.style[e]=null}}}function U_(a){return ze(a,e=>{if(e&&(e instanceof Ql||lm(e)||xh(e)||dm(e)))return e})}function H_(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=gn(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const t in e)$_(e,t);return e}(a.on),delete a.on),!a.text){a.attributes&&function(t){for(const o in t)t[o].value&&(t[o].value=gn(t[o].value)),$_(t,o)}(a.attributes);const e=[];if(a.children)if(dm(a.children))e.push(a.children);else for(const t of a.children)lm(t)||xh(t)||un(t)?e.push(t):e.push(new zo(t));a.children=e}return a}function $_(a,e){a[e]=gn(a[e])}function W_(a,e){return Ka(e)?a:Ka(a)?e:`${a} ${e}`}function q_(a,e){for(const t in e)a[t]?a[t].push(...e[t]):a[t]=e[t]}function G_(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),q_(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),q_(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new E("ui-template-extend-children-mismatch",a);let t=0;for(const o of e.children)G_(a.children[t++],o)}}function Ka(a){return!a&&a!==0}function xh(a){return a instanceof Pe}function lm(a){return a instanceof zo}function dm(a){return a instanceof Lo}function Y_(a){return me(a[0])&&a[0].ns}function K_(a){return a=="class"||a=="style"}class OM extends Lo{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new zo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=zi(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var Z_=r(1977),BM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Z_.Z,BM),Z_.Z.locals;class lr extends Pe{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:o,value:s}of Array.from(e.attributes))lr.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}lr.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class PM extends Pe{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var Q_=r(4971),LM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Q_.Z,LM),Q_.Z.locals;class nt extends Pe{constructor(e,t=new PM){super(e),this._focusDelayed=null;const o=this.bindTemplate,s=B();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new lr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",d=>!d),o.if("isVisible","ck-hidden",d=>!d),o.to("isOn",d=>d?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],role:o.to("role"),type:o.to("type",d=>d||"button"),tabindex:o.to("tabindex"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy"),"aria-disabled":o.if("isEnabled",!0,d=>!d),"aria-checked":o.to("isOn"),"aria-pressed":o.to("isOn",d=>!!this.isToggleable&&String(!!d)),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};f.isSafari&&(this._focusDelayed||(this._focusDelayed=Cp(()=>this.focus(),0)),l.on.mousedown=o.to(()=>{this._focusDelayed()}),l.on.mouseup=o.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>zw(t))}]}),e}_getTooltipString(e,t,o){return e?typeof e=="string"?e:(o&&(o=zw(o)),e instanceof Function?e(t,o):`${t}${o?` (${o})`:""}`):""}}var J_=r(7258),zM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(J_.Z,zM),J_.Z.locals;class um extends nt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var X_=r(4923),jM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(X_.Z,jM),X_.Z.locals,r(8874),r(2085);var ey=r(3525),RM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ey.Z,RM),ey.Z.locals;class FM extends Pe{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${B()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var ty=r(2933),VM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ty.Z,VM),ty.Z.locals;class Jl extends Pe{constructor(e,t){super(e);const o=`ck-labeled-field-view-${B()}`,s=`ck-labeled-field-view-status-${B()}`;this.fieldView=t(this,o,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,g)=>d||g);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",d=>!d),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new FM(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Pe(this.locale),o=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",s=>!s)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class UM extends Pe{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ri,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var ny=r(2470),HM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ny.Z,HM),ny.Z.locals;class $M extends UM{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class WM extends $M{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var iy=r(5224),qM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(iy.Z,qM),iy.Z.locals;class GM extends Pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",o=>`ck-dropdown__panel_${o}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(o=>{o.target.tagName.toLocaleLowerCase()!=="input"&&o.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():U("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var oy=r(5062),YM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(oy.Z,YM),oy.Z.locals;class Za extends Pe{constructor(e,t,o){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new co,this.focusTracker=new ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,o]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,o,s)=>{if(s)if(this.panelPosition==="auto"){const l=Za._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(t,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(t,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:o,southWest:s,northEast:l,northWest:d,southMiddleEast:g,southMiddleWest:p,northMiddleEast:k,northMiddleWest:w}=Za.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,s,g,p,e,l,d,k,w,t]:[s,o,p,g,e,d,l,w,k,t]}}Za.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},Za._getOptimalPosition=vt;const ry='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class sy extends nt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new lr;return e.content=ry,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class dr extends $(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let o=e.actions[t];typeof o=="string"&&(o=[o]);for(const s of o)e.keystrokeHandler.set(s,(l,d)=>{this[t](),d()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(hm)||null}get last(){return this.focusables.filter(hm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,o)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=o),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,o=this.focusables.length;if(!o)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+o+e)%o;do{const l=this.focusables.get(s);if(hm(l))return l;s=(s+o+e)%o}while(s!==t);return null}}function hm(a){return!(!("focus"in a)||!$t(a.element))}class ay extends Pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class KM extends Pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function cy(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}var ly=r(4768),ZM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ly.Z,ZM),ly.Z.locals;const{threeVerticalDots:dy}=Ve,QM={alignLeft:Ve.alignLeft,bold:Ve.bold,importExport:Ve.importExport,paragraph:Ve.paragraph,plus:Ve.plus,text:Ve.text,threeVerticalDots:Ve.threeVerticalDots,pilcrow:Ve.pilcrow,dragIndicator:Ve.dragIndicator};class fm extends Pe{constructor(e,t){super(e);const o=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ri,this.keystrokes=new co,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new JM(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l=e.uiLanguageDirection==="rtl";this._focusCycler=new dr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(p=>{p.target===g.element&&p.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new e3(this):new XM(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,o){this.items.addMany(this._buildItemsFromConfig(e,t,o))}_buildItemsFromConfig(e,t,o){const s=cy(e),l=o||s.removeItems;return this._cleanItemsConfiguration(s.items,t,l).map(d=>me(d)?this._createNestedToolbarDropdown(d,t,l):d==="|"?new ay:d==="-"?new KM:t.create(d)).filter(d=>!!d)}_cleanItemsConfiguration(e,t,o){const s=e.filter((l,d,g)=>l==="|"||o.indexOf(l)===-1&&(l==="-"?!this.options.shouldGroupWhenFull||(U("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!me(l)&&!t.has(l))||(U("toolbarview-item-unavailable",{item:l}),!1)));return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=d=>d!=="-"&&d!=="|",o=e.length,s=e.findIndex(t);if(s===-1)return[];const l=o-e.slice().reverse().findIndex(t);return e.slice(s,l).filter((d,g,p)=>t(d)?!0:!(g>0&&p[g-1]===d))}_createNestedToolbarDropdown(e,t,o){let{label:s,icon:l,items:d,tooltip:g=!0,withText:p=!1}=e;if(d=this._cleanItemsConfiguration(d,t,o),!d.length)return null;const k=$r(this.locale);return s||U("toolbarview-nested-toolbar-dropdown-missing-label",e),k.class="ck-toolbar__nested-toolbar-dropdown",k.buttonView.set({label:s,tooltip:g,withText:!!p}),l!==!1?k.buttonView.icon=QM[l]||l||dy:k.buttonView.withText=!0,Sh(k,()=>k.toolbarView._buildItemsFromConfig(d,t,o)),k}}class JM extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class XM{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>o),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class e3{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,o)=>{const s=o.index,l=Array.from(o.added);for(const d of o.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=s;d<s+l.length;d++){const g=l[d-s];d>this.ungroupedItems.length?this.groupedItems.add(g,d-this.ungroupedItems.length):this.ungroupedItems.add(g,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!$t(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,o=new je(e.lastChild),s=new je(e);if(!this.cachedPadding){const l=Ae.window.getComputedStyle(e),d=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(l[d])}return t==="ltr"?o.right>s.right-this.cachedPadding:o.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Fe(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ay),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,o=$r(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Sh(o,this.groupedItems),o.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:dy}),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Eh extends Pe{constructor(e){super(e);const t=this.bindTemplate,o=`ck-editor__label_${B()}`,s=new hy(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(o),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:o}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}_createLabel(e){const t=new Pe(this.locale),o=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:o.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var uy=r(179),t3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(uy.Z,t3),uy.Z.locals;class hy extends Pe{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Lo,this.items=this.createCollection(),this.focusTracker=new ri,this.keystrokes=new co,this._focusCycler=new dr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Eh?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const o of t.removed)o instanceof Eh?this._deregisterFocusableItemsGroup(o):this._deregisterFocusableListItem(o);for(const o of Array.from(t.added).reverse())o instanceof Eh?this._registerFocusableItemsGroup(o,t.index):this._registerFocusableListItem(o,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,o)=>{for(const s of o.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(o.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+o.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,l)=>{const d=t!==void 0?t+l:void 0;this._registerFocusableListItem(s,d)});const o=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,o),e.items.on("change",o)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class fy extends Pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",o=>!o)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class n3 extends Pe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var gy=r(4791),i3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(gy.Z,i3),gy.Z.locals;class gm extends Pe{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new co,this.focusTracker=new ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new nt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new nt,t=e.bindTemplate;return e.icon=ry,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var py=r(2704),o3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(py.Z,o3),py.Z.locals;var my=r(1883),r3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(my.Z,r3),my.Z.locals;function $r(a,e=sy){const t=new e(a),o=new GM(a),s=new Za(a,t,o);return t.bind("isEnabled").to(s),t instanceof gm?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),function(l){(function(d){d.on("render",()=>{am({emitter:d,activator:()=>d.isOpen,callback:()=>{d.isOpen=!1},contextElements:()=>[d.element,...d.focusTracker._elements]})})})(l),function(d){d.on("execute",g=>{g.source instanceof um||(d.isOpen=!1)})}(l),function(d){d.focusTracker.on("change:isFocused",(g,p,k)=>{d.isOpen&&!k&&(d.isOpen=!1)})}(l),function(d){d.keystrokes.set("arrowdown",(g,p)=>{d.isOpen&&(d.panelView.focus(),p())}),d.keystrokes.set("arrowup",(g,p)=>{d.isOpen&&(d.panelView.focusLast(),p())})}(l),function(d){d.on("change:isOpen",(g,p,k)=>{if(k)return;const w=d.panelView.element;w&&w.contains(Ae.document.activeElement)&&d.buttonView.focus()})}(l),function(d){d.on("change:isOpen",(g,p,k)=>{k&&d.panelView.focus()},{priority:"low"})}(l)}(s),s}function Sh(a,e,t={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?ky(a,e,t):a.once("change:isOpen",()=>ky(a,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&vy(a,()=>a.toolbarView.items.find(o=>o.isOn))}function ky(a,e,t){const o=a.locale,s=o.t,l=a.toolbarView=new fm(o),d=typeof e=="function"?e():e;l.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(l.maxWidth=t.maxWidth),t.class&&(l.class=t.class),t.isCompact&&(l.isCompact=t.isCompact),t.isVertical&&(l.isVertical=!0),d instanceof Lo?l.items.bindTo(d).using(g=>g):l.items.addMany(d),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function by(a,e,t={}){a.isOpen?wy(a,e,t):a.once("change:isOpen",()=>wy(a,e,t),{priority:"highest"}),vy(a,()=>a.listView.items.find(o=>o instanceof fy&&o.children.first.isOn))}function wy(a,e,t){const o=a.locale,s=a.listView=new hy(o),l=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,_y(a,s.items,l,o),a.panelView.children.add(s),s.items.delegate("execute").to(a)}function vy(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():U("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:R.low-10})}function _y(a,e,t,o){e.bindTo(t).using(s=>{if(s.type==="separator")return new n3(o);if(s.type==="group"){const l=new Eh(o);return l.set({label:s.label}),_y(a,l.items,s.items,o),l.items.delegate("execute").to(a),l}if(s.type==="button"||s.type==="switchbutton"){const l=new fy(o);let d;return d=s.type==="button"?new nt(o):new um(o),d.bind(...Object.keys(s.model)).to(s.model),d.delegate("execute").to(l),l.children.add(d),l}return null})}const Xl=(a,e,t)=>{const o=new WM(a.locale);return o.set({id:e,ariaDescribedById:t}),o.bind("isReadOnly").to(a,"isEnabled",s=>!s),o.bind("hasError").to(a,"errorText",s=>!!s),o.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(o),o},ed=(a,e=0,t=1)=>a>t?t:a<e?e:a,xn=(a,e=0,t=Math.pow(10,e))=>Math.round(t*a)/t,pm=a=>(a[0]==="#"&&(a=a.substring(1)),a.length<6?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?xn(parseInt(a[3]+a[3],16)/255,2):1}:{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16),a:a.length===8?xn(parseInt(a.substring(6,8),16)/255,2):1}),s3=({h:a,s:e,v:t,a:o})=>{const s=(200-e)*t/100;return{h:xn(a),s:xn(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:xn(s/2),a:xn(o,2)}},mm=a=>{const{h:e,s:t,l:o}=s3(a);return`hsl(${e}, ${t}%, ${o}%)`},a3=({h:a,s:e,v:t,a:o})=>{a=a/360*6,e/=100,t/=100;const s=Math.floor(a),l=t*(1-e),d=t*(1-(a-s)*e),g=t*(1-(1-a+s)*e),p=s%6;return{r:xn(255*[t,d,l,l,g,t][p]),g:xn(255*[g,t,t,d,l,l][p]),b:xn(255*[l,l,g,t,t,d][p]),a:xn(o,2)}},Dh=a=>{const e=a.toString(16);return e.length<2?"0"+e:e},c3=({r:a,g:e,b:t,a:o})=>{const s=o<1?Dh(xn(255*o)):"";return"#"+Dh(a)+Dh(e)+Dh(t)+s},l3=({r:a,g:e,b:t,a:o})=>{const s=Math.max(a,e,t),l=s-Math.min(a,e,t),d=l?s===a?(e-t)/l:s===e?2+(t-a)/l:4+(a-e)/l:0;return{h:xn(60*(d<0?d+6:d)),s:xn(s?l/s*100:0),v:xn(s/255*100),a:o}},yy=(a,e)=>{if(a===e)return!0;for(const t in a)if(a[t]!==e[t])return!1;return!0},Ay={},Cy=a=>{let e=Ay[a];return e||(e=document.createElement("template"),e.innerHTML=a,Ay[a]=e),e},km=(a,e,t)=>{a.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Qa=!1;const bm=a=>"touches"in a,xy=(a,e)=>{const t=bm(e)?e.touches[0]:e,o=a.el.getBoundingClientRect();km(a.el,"move",a.getMove({x:ed((t.pageX-(o.left+window.pageXOffset))/o.width),y:ed((t.pageY-(o.top+window.pageYOffset))/o.height)}))};class Ey{constructor(e,t,o,s){const l=Cy(`<div role="slider" tabindex="0" part="${t}" ${o}><div part="${t}-pointer"></div></div>`);e.appendChild(l.content.cloneNode(!0));const d=e.querySelector(`[part=${t}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=s,this.nodes=[d.firstChild,d]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Qa?"touchmove":"mousemove",this),t(Qa?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(t=>!(Qa&&!bm(t)||(Qa||(Qa=bm(t)),0)))(e)||!Qa&&e.button!=0)return;this.el.focus(),xy(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),xy(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,o)=>{const s=o.keyCode;s>40||t.xy&&s<37||s<33||(o.preventDefault(),km(t.el,"move",t.getMove({x:s===39?.01:s===37?-.01:s===34?.05:s===33?-.05:s===35?1:s===36?-1:0,y:s===40?.01:s===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((t,o)=>{for(const s in t)this.nodes[o].style.setProperty(s,t[s])})}}class d3 extends Ey{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:mm({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${xn(e)}`)}getMove(e,t){return{h:t?ed(this.h+360*e.x,0,360):360*e.x}}}class u3 extends Ey{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:mm(e)},{"background-color":mm({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${xn(e.s)}%, Brightness ${xn(e.v)}%`)}getMove(e,t){return{s:t?ed(this.hsva.s+100*e.x,0,100):100*e.x,v:t?ed(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const Th=Symbol("same"),wm=Symbol("color"),Sy=Symbol("hsva"),vm=Symbol("update"),Dy=Symbol("parts"),Ty=Symbol("css"),Iy=Symbol("sliders");class h3 extends HTMLElement{static get observedAttributes(){return["color"]}get[Ty](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Iy](){return[u3,d3]}get color(){return this[wm]}set color(e){if(!this[Th](e)){const t=this.colorModel.toHsva(e);this[vm](t),this[wm]=e}}constructor(){super();const e=Cy(`<style>${this[Ty].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[Dy]=this[Iy].map(o=>new o(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,o){const s=this.colorModel.fromAttr(o);this[Th](s)||(this.color=s)}handleEvent(e){const t=this[Sy],o={...t,...e.detail};let s;this[vm](o),yy(o,t)||this[Th](s=this.colorModel.fromHsva(o))||(this[wm]=s,km(this,"color-changed",{value:s}))}[Th](e){return this.color&&this.colorModel.equal(e,this.color)}[vm](e){this[Sy]=e,this[Dy].forEach(t=>t.update(e))}}const f3={defaultColor:"#000",toHsva:a=>l3(pm(a)),fromHsva:({h:a,s:e,v:t})=>c3(a3({h:a,s:e,v:t,a:1})),equal:(a,e)=>a.toLowerCase()===e.toLowerCase()||yy(pm(a),pm(e)),fromAttr:a=>a};class g3 extends h3{get colorModel(){return f3}}customElements.define("hex-color-picker",class extends g3{});var My=r(4257),p3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(My.Z,p3),My.Z.locals;var Ny=r(6306),m3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Ny.Z,m3),Ny.Z.locals;class k3{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(_m(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new E("componentfactory-item-missing",this,{name:e});return this._components.get(_m(e)).callback(this.editor.locale)}has(e){return this._components.has(_m(e))}}function _m(a){return String(a).toLowerCase()}var Oy=r(4460),b3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Oy.Z,b3),Oy.Z.locals;const By=Bn("px"),Py=Ae.document.body,w3={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class En extends Pe{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",o=>`ck-balloon-panel_${o}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",By),left:t.to("left",By)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=En.defaultPositions,o=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:Py,fitInViewport:!0},e),s=En._getOptimalPosition(o)||w3,l=parseInt(s.left),d=parseInt(s.top),g=s.name,p=s.config||{},{withArrow:k=!0}=p;this.top=d,this.left=l,this.position=g,this.withArrow=k}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=ym(e.target),o=e.limiter?ym(e.limiter):Py;this.listenTo(Ae.document,"scroll",(s,l)=>{const d=l.target,g=t&&d.contains(t),p=o&&d.contains(o);!g&&!p&&t&&o||this.attachTo(e)},{useCapture:!0}),this.listenTo(Ae.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Ae.document,"scroll"),this.stopListening(Ae.window,"resize")}}function ym(a){return Ne(a)?a:Va(a)?a.commonAncestorContainer:typeof a=="function"?ym(a()):null}function Ly(a={}){const{sideOffset:e=En.arrowSideOffset,heightOffset:t=En.arrowHeightOffset,stickyVerticalOffset:o=En.stickyVerticalOffset,config:s}=a;return{northWestArrowSouthWest:(g,p)=>({top:l(g,p),left:g.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(g,p)=>({top:l(g,p),left:g.left-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(g,p)=>({top:l(g,p),left:g.left-p.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(g,p)=>({top:l(g,p),left:g.left-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(g,p)=>({top:l(g,p),left:g.left-p.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(g,p)=>({top:l(g,p),left:g.left+g.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(g,p)=>({top:l(g,p),left:g.left+g.width/2-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(g,p)=>({top:l(g,p),left:g.left+g.width/2-p.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(g,p)=>({top:l(g,p),left:g.left+g.width/2-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(g,p)=>({top:l(g,p),left:g.left+g.width/2-p.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(g,p)=>({top:l(g,p),left:g.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(g,p)=>({top:l(g,p),left:g.right-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(g,p)=>({top:l(g,p),left:g.right-p.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(g,p)=>({top:l(g,p),left:g.right-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(g,p)=>({top:l(g,p),left:g.right-p.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:g=>({top:d(g),left:g.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.left-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(g,p)=>({top:d(g),left:g.left-p.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.left-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(g,p)=>({top:d(g),left:g.left-p.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:g=>({top:d(g),left:g.left+g.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.left+g.width/2-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(g,p)=>({top:d(g),left:g.left+g.width/2-p.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.left+g.width/2-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(g,p)=>({top:d(g),left:g.left+g.width/2-p.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:g=>({top:d(g),left:g.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.right-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(g,p)=>({top:d(g),left:g.right-p.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.right-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(g,p)=>({top:d(g),left:g.right-p.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(g,p)=>({top:g.top+g.height/2-p.height/2,left:g.left-p.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(g,p)=>({top:g.top+g.height/2-p.height/2,left:g.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(g,p,k,w)=>{const y=w||k;return g.getIntersection(y)?y.height-g.height>o?null:{top:y.top+o,left:g.left+g.width/2-p.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null}};function l(g,p){return g.top-p.height-t}function d(g){return g.bottom+t}}En.arrowSideOffset=25,En.arrowHeightOffset=10,En.stickyVerticalOffset=20,En._getOptimalPosition=vt,En.defaultPositions=Ly();var zy=r(3888),v3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(zy.Z,v3),zy.Z.locals;const jy="ck-tooltip";class kn extends dt(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,kn._editors.add(e),kn._instance)return kn._instance;kn._instance=this,this.tooltipTextView=new Pe(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new En(e.locale),this.balloonPanelView.class=jy,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Rl(this._pinTooltip,600),this.listenTo(Ae.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;kn._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),kn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),kn._instance=null)}static getPositioningFunctions(e){const t=kn.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const o=Am(t);var s;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(s=o).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:t,relatedTarget:o}){if(e.name==="mouseleave"){if(!Ne(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Am(t),l=Am(o);s&&s!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:o,cssClass:s}){const l=pn(kn._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:kn.getPositioningFunctions(o)}),this._resizeObserver=new Fe(e,()=>{$t(e)||this._unpinTooltip()}),this.balloonPanelView.class=[jy,s].filter(d=>d).join(" ");for(const d of kn._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of kn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){$t(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:kn.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function Am(a){return Ne(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}kn.defaultBalloonPositions=Ly({heightOffset:5,sideOffset:13}),kn._editors=new Set,kn._instance=null;const _3=50,y3=350,A3="Powered by";class C3 extends dt(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Kl(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function o(D){return D.length>=40&&D.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let s="";try{s=atob(t)}catch{return"INVALID"}const l=s.split("-"),d=l[0],g=l[1];if(!g)return o(t);try{atob(g)}catch{try{if(atob(d),!atob(d).length)return o(t)}catch{return o(t)}}if(d.length<40||d.length>255)return"INVALID";let p="";try{atob(d),p=atob(g)}catch{return"INVALID"}if(p.length!==8)return"INVALID";const k=Number(p.substring(0,4)),w=Number(p.substring(4,6))-1,y=Number(p.substring(6,8)),C=new Date(k,w,y);return C<oe||isNaN(Number(C))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,o,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,o,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new En,o=Fy(e),s=new x3(e.locale,o.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,o){const s=Fy(t),l=s.side==="right"?function(d,g){return Ry(d,g,(p,k)=>p.left+p.width-k.width-g.horizontalOffset)}(o,s):function(d,g){return Ry(d,g,p=>p.left+g.horizontalOffset)}(o,s);return{target:o,positions:[l]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,o=e.ui.focusTracker.focusedElement;if(!t||!o)return void(this._lastFocusedEditableElement=null);const s=Array.from(e.ui.getEditableElementsNames()).map(l=>e.ui.getEditableElement(l));s.includes(o)?this._lastFocusedEditableElement=o:this._lastFocusedEditableElement=s[0]}}class x3 extends Pe{constructor(e,t){super(e);const o=new lr,s=this.bindTemplate;o.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),o.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],o],on:{dragstart:s.to(l=>l.preventDefault())}}]})}}function Ry(a,e,t){return(o,s)=>{const l=new je(a);if(l.width<y3||l.height<_3)return null;let d;d=e.position==="inside"?l.bottom-s.height:l.bottom-s.height/2,d-=e.verticalOffset;const g=t(l,s),p=o.clone().moveTo(g,d).getIntersection(s.clone().moveTo(g,d)).getVisible();return!p||p.getArea()<s.getArea()?null:{top:d,left:g,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Fy(a){const e=a.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:A3,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class E3 extends Me(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new k3(e),this.focusTracker=new ri,this.tooltipManager=new kn(e),this.poweredBy=new C3(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?o():this.once("ready",o)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let o,s;e.keystrokes.set("Alt+F10",(l,d)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(t.domRoots.values()).includes(g)&&(o=g);const p=this._getCurrentFocusedToolbarDefinition();p&&s||(s=this._getFocusableCandidateToolbarDefinitions());for(let k=0;k<s.length;k++){const w=s.shift();if(s.push(w),w!==p&&this._focusFocusableCandidateToolbar(w)){p&&p.options.afterBlur&&p.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(l,d)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(o?(o.focus(),o=null):e.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:o,options:s}=t;($t(o.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,o)=>Vy(t)-Vy(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:o}}=e;return o&&o(),!!$t(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const o={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=o.top,t.viewportOffset.bottom+=o.bottom,t.viewportOffset.left+=o.left,t.viewportOffset.right+=o.right}}function Vy(a){const{toolbarView:e,options:t}=a;let o=10;return $t(e.element)&&o--,t.isContextual&&o--,o}var Uy=r(9847),S3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Uy.Z,S3),Uy.Z.locals;class D3 extends Pe{constructor(e){super(e),this.body=new OM(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class T3 extends Pe{constructor(e,t,o){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(o){e.change(s=>{const l=e.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}e.isRenderingInProgress?function o(s){e.once("change:isRenderingInProgress",(l,d,g)=>{g?o(s):t(s)})}(this):t(this)}}class I3 extends T3{constructor(e,t,o,s={}){super(e,t,o);const l=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const o=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),o)})}}var Hy=r(1874),M3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Hy.Z,M3),Hy.Z.locals;class $y extends qw{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class Wy extends Me(){constructor(e,t){super(),t&&Sv(this,t),e&&this.set(e)}}var qy=r(7592),N3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(qy.Z,N3),qy.Z.locals;var Gy=r(6356),O3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Gy.Z,O3),Gy.Z.locals;const Ih=Bn("px");class Mh extends de{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,o=t.document.selection.editableElement;return o?t.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new E("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const o=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new E("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new E("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new En(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new B3(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,s)=>!s&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,s)=>{if(s<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[l,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new P3(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,o)=>!o&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:o=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class B3 extends Pe{constructor(e){super(e);const t=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ri,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const o=new nt(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o}}class P3 extends Pe{constructor(e,t){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:o.to("top",Ih),left:o.to("left",Ih),width:o.to("width",Ih),height:o.to("height",Ih)}},children:this.content}),this.on("change:numberOfPanels",(s,l,d,g)=>{d>g?this._addPanels(d-g):this._removePanels(g-d),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Pe;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:o,height:s}=new je(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:o,height:s})}}}var Yy=r(3707),L3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Yy.Z,L3),Yy.Z.locals;class z3 extends Jl{constructor(e,t){const o=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Xl},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new lr,this.iconView.content=Ve.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new nt(e),this.resetButtonView.set({label:o("Clear"),icon:Ve.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",l=>!l),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class j3 extends Pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class R3 extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new dr({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Ky=/[\\^$.*+?()[\]{}|]/g,F3=RegExp(Ky.source);const Zy=function(a){return(a=Ip(a))&&F3.test(a)?a.replace(Ky,"\\$&"):a};var Qy=r(9332),V3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Qy.Z,V3),Qy.Z.locals;class U3 extends Pe{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new ri,this.keystrokes=new co,this.resultsView=new R3(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new j3,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new dr({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(o,{resultsCount:s,totalItemsCount:l})=>{this.resultsCount=s,this.totalItemsCount=l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(Zy(e),"ig"):null,o=this.filteredView.filter(t);this.fire("search",{query:e,...o})}_createSearchTextQueryView(){const e=new z3(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function o(s,{query:l,resultsCount:d,totalItemsCount:g}){return typeof s=="function"?s(l,d,g):s}this.on("search",(s,l)=>{if(l.resultsCount)t.set({isVisible:!1});else{const d=this._config.infoView&&this._config.infoView.text;let g,p;l.totalItemsCount?d&&d.notFound?(g=d.notFound.primary,p=d.notFound.secondary):(g=e("No results found"),p=""):d&&d.noSearchableItems?(g=d.noSearchableItems.primary,p=d.noSearchableItems.secondary):(g=e("No searchable items"),p=""),t.set({primaryText:o(g,l),secondaryText:o(p,l),isVisible:!0})}})}}var Jy=r(4029),H3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Jy.Z,H3),Jy.Z.locals;class td extends U3{constructor(e,t){super(e,t),this._config=t;const o=Bn("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",l=>!l),s.to("_position",l=>`ck-search__results_${l}`)],style:{width:s.to("_width",o)}}}),this.focusTracker.on("change:isFocused",(l,d,g)=>{this._updateResultsVisibility(),g?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(Ae.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new je(this.queryView.fieldView.element).width;const e=td._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:td.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=this._config.queryMinChars===void 0?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}td.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,e)=>({top:a.top-e.height,left:a.left,name:"n"})],td._getOptimalPosition=vt;var Xy=r(4746),$3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Xy.Z,$3),Xy.Z.locals;var eA=r(6446),W3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(eA.Z,W3),eA.Z.locals;var tA=r(4176),q3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(tA.Z,q3),tA.Z.locals;class G3 extends E3{constructor(e,t){super(e),this.view=t,this._toolbarConfig=cy(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,o=e.editing.view,s=t.editable,l=o.document.getRoot();s.name=l.rootName,t.render();const d=s.element;this.setEditableElement(s.name,d),s.bind("isFocused").to(this.focusTracker),o.attachDomRoot(d),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,o=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:l})=>l||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:o,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,o=t.document.getRoot(),s=e.config.get("placeholder");if(s){const l=typeof s=="string"?s:s[o.rootName];l&&(o.placeholder=l)}Kw({view:t,element:o,isDirectHost:!1,keepOnFocus:!0})}}const Y3=Bn("px");class K3 extends D3{constructor(e,t,o,s={}){super(e);const l=e.t;this.toolbar=new fm(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new En(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new I3(e,t,o,{label:d=>l("Rich Text Editor. Editing area: %0",d.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const e=this.editable.element;this._resizeObserver=new Fe(e,()=>{this.toolbar.maxWidth=Y3(new je(e).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let o;return o=e.top>t.height+this.viewportTopOffset?e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?this.viewportTopOffset:e.bottom,o}_getPanelPositions(){const e=[(t,o)=>({top:this._getPanelPositionTop(t,o),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,o)=>({top:this._getPanelPositionTop(t,o),left:t.left+t.width-o.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class Nh extends yh(rm(CM)){constructor(e,t={}){if(!Oh(e)&&t.initialData!==void 0)throw new E("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",function(l){return Oh(l)?(d=l,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):l;var d}(e)),this.model.document.createRoot(),Oh(e)&&(this.sourceElement=e,function(l,d){if(d.ckeditorInstance)throw new E("editor-source-element-already-used",l);d.ckeditorInstance=l,l.once("destroy",()=>{delete d.ckeditorInstance})}(this,e));const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new K3(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:o});this.ui=new G3(this,s),function(l){if(!Tt(l.updateSourceElement))throw new E("attachtoform-missing-elementapi-interface",l);const d=l.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(d)&&d.form){let g;const p=d.form,k=()=>l.updateSourceElement();Tt(p.submit)&&(g=p.submit,p.submit=()=>{k(),g.apply(p)}),p.addEventListener("submit",k),l.on("destroy",()=>{p.removeEventListener("submit",k),g&&(p.submit=g)})}}(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(o=>{if(Oh(e)&&e.tagName==="TEXTAREA")throw new E("editor-wrong-element",null);const s=new this(e,t);o(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function Oh(a){return Ne(a)}Nh.Context=Ww,Nh.EditorWatchdog=z_,Nh.ContextWatchdog=class extends P_{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new SM,this._watchdogConfig=e,this._creator=t=>a.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(Zl,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=j_(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return o=new z_(null,this._watchdogConfig),o.setCreator(t.creator),o._setExcludedProperties(this._contextProps),t.destructor&&o.setDestructor(t.destructor),this._watchdogs.set(t.id,o),o.on("error",(s,{error:l,causesRestart:d})=>{this._fire("itemError",{itemId:t.id,error:l}),d&&this._actionQueues.enqueue(t.id,()=>new Promise(g=>{const p=()=>{o.off("restart",p),this._fire("itemRestart",{itemId:t.id}),g()};o.on("restart",p)}))}),o.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(a){const e=j_(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const o=this._getWatchdog(t);return this._watchdogs.delete(t),o.destroy()})))}destroy(){return this._actionQueues.enqueue(Zl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Zl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=sm(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return L_(this._context,a.context)}};const Cm=["left","right","center","justify"];function nA(a){return Cm.includes(a)}function iA(a,e){return e.contentLanguageDirection=="rtl"?a==="right":a==="left"}function oA(a){const e=a.map(o=>{let s;return s=typeof o=="string"?{name:o}:o,s}).filter(o=>{const s=Cm.includes(o.name);return s||U("alignment-config-name-not-recognized",{option:o}),s}),t=e.filter(o=>!!o.className).length;if(t&&t<e.length)throw new E("alignment-config-classnames-are-missing",{configuredOptions:a});return e.forEach((o,s,l)=>{const d=l.slice(s+1);if(d.some(g=>g.name==o.name))throw new E("alignment-config-name-already-defined",{option:o,configuredOptions:a});if(o.className&&d.some(g=>g.className==o.className))throw new E("alignment-config-classname-already-defined",{option:o,configuredOptions:a})}),e}const xm="alignment";class Z3 extends pt{refresh(){const e=this.editor.locale,t=pn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,o=t.locale,s=t.model,l=s.document,d=e.value;s.change(g=>{const p=Array.from(l.selection.getSelectedBlocks()).filter(w=>this._canBeAligned(w)),k=p[0].getAttribute("alignment");iA(d,o)||k===d||!d?function(w,y){for(const C of w)y.removeAttribute(xm,C)}(p,g):function(w,y,C){for(const D of w)y.setAttribute(xm,C,D)}(p,g,d)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,xm)}}class Q3 extends de{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Cm.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,o=e.model.schema,s=oA(e.config.get("alignment.options")).filter(p=>nA(p.name)&&!iA(p.name,t)),l=s.some(p=>!!p.className);o.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),l?e.conversion.attributeToAttribute(function(p){const k={};for(const y of p)k[y.name]={key:"class",value:y.className};return{model:{key:"alignment",values:p.map(y=>y.name)},view:k}}(s)):e.conversion.for("downcast").attributeToAttribute(function(p){const k={};for(const{name:y}of p)k[y]={key:"style",value:{"text-align":y}};return{model:{key:"alignment",values:p.map(y=>y.name)},view:k}}(s));const d=function(p){const k=[];for(const{name:w}of p)k.push({view:{key:"style",value:{"text-align":w}},model:{key:"alignment",value:w}});return k}(s);for(const p of d)e.conversion.for("upcast").attributeToAttribute(p);const g=function(p){const k=[];for(const{name:w}of p)k.push({view:{key:"align",value:w},model:{key:"alignment",value:w}});return k}(s);for(const p of g)e.conversion.for("upcast").attributeToAttribute(p);e.commands.add("alignment",new Z3(e))}}const Bh=new Map([["left",Ve.alignLeft],["right",Ve.alignRight],["center",Ve.alignCenter],["justify",Ve.alignJustify]]);class J3 extends de{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,o=e.t,s=oA(e.config.get("alignment.options"));s.map(l=>l.name).filter(nA).forEach(l=>this._addButton(l)),t.add("alignment",l=>{const d=$r(l);Sh(d,()=>s.map(k=>t.create(`alignment:${k.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:o("Text alignment toolbar")}),d.buttonView.set({label:o("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const g=l.contentLanguageDirection==="rtl"?Bh.get("right"):Bh.get("left"),p=e.commands.get("alignment");return d.buttonView.bind("icon").to(p,"value",k=>Bh.get(k)||g),d.bind("isEnabled").to(p,"isEnabled"),this.listenTo(d,"execute",()=>{e.editing.view.focus()}),d})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,o=>{const s=t.commands.get("alignment"),l=new nt(o);return l.set({label:this.localizedOptionTitles[e],icon:Bh.get(e),tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(s),l.bind("isOn").to(s,"value",d=>d===e),this.listenTo(l,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),l})}}class rA{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(o,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class X3 extends pt{constructor(e,t){super(e),this._buffer=new rA(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,o=t.document,s=e.text||"",l=s.length;let d=o.selection;if(e.selection?d=e.selection:e.range&&(d=t.createSelection(e.range)),!t.canEditAt(d))return;const g=e.resultRange;t.enqueueChange(this._buffer.batch,p=>{this._buffer.lock(),t.deleteContent(d),s&&t.insertContent(p.createText(s,o.selection.getAttributes()),d),g?p.setSelection(g):d.is("documentSelection")||p.setSelection(d),this._buffer.unlock(),this._buffer.input(l)})}}const sA=["insertText","insertReplacementText"];class eN extends Oo{constructor(e){super(e),this.focusObserver=e.getObserver(mh),f.isAndroid&&sA.push("insertCompositionText");const t=e.document;t.on("beforeinput",(o,s)=>{if(!this.isEnabled)return;const{data:l,targetRanges:d,inputType:g,domEvent:p}=s;if(!sA.includes(g))return;this.focusObserver.flush();const k=new S(t,"insertText");t.fire(k,new Wa(e,p,{text:l,selection:e.createSelection(d)})),k.stop.called&&o.stop()}),t.on("compositionend",(o,{data:s,domEvent:l})=>{this.isEnabled&&!f.isAndroid&&s&&t.fire("insertText",new Wa(e,l,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class aA extends de{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,o=e.editing.view,s=t.document.selection;o.addObserver(eN);const l=new X3(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(o.document,"insertText",(d,g)=>{o.document.isComposing||g.preventDefault();const{text:p,selection:k,resultRange:w}=g,y=Array.from(k.getRanges()).map(N=>e.editing.mapper.toModelRange(N));let C=p;if(f.isAndroid){const N=Array.from(y[0].getItems()).reduce((P,z)=>P+(z.is("$textProxy")?z.data:""),"");N&&(N.length<=C.length?C.startsWith(N)&&(C=C.substring(N.length),y[0].start=y[0].start.getShiftedBy(N.length)):N.startsWith(C)&&(y[0].start=y[0].start.getShiftedBy(C.length),C=""))}const D={text:C,selection:t.createSelection(y)};w&&(D.resultRange=e.editing.mapper.toModelRange(w)),e.execute("insertText",D),o.scrollToTheSelection()}),f.isAndroid?this.listenTo(o.document,"keydown",(d,g)=>{!s.isCollapsed&&g.keyCode==229&&o.document.isComposing&&cA(t,l)}):this.listenTo(o.document,"compositionstart",()=>{s.isCollapsed||cA(t,l)})}}function cA(a,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),a.enqueueChange(t.batch,()=>{a.deleteContent(a.document.selection)}),t.unlock()}class lA extends pt{constructor(e,t){super(e),this.direction=t,this._buffer=new rA(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,o=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const l=s.createSelection(e.selection||o.selection);if(!t.canEditAt(l))return;const d=e.sequence||1,g=l.isCollapsed;if(l.isCollapsed&&t.modifySelection(l,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d))return void this._replaceEntireContentWithParagraph(s);if(this._shouldReplaceFirstBlockWithParagraph(l,d))return void this.editor.execute("paragraph",{selection:l});if(l.isCollapsed)return;let p=0;l.getFirstRange().getMinimalFlatRanges().forEach(k=>{p+=oo(k.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(l,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(p),s.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,o=t.document.selection,s=t.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const l=s.getChild(0);return!l||!l.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,o=t.document.selection,s=t.schema.getLimitElement(o),l=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(l,s),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const o=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),l=o.schema.getLimitElement(s),d=l.getChild(0);return s.parent==d&&!!e.containsEntireContent(d)&&!!o.schema.checkChild(l,"paragraph")&&d.name!="paragraph"}}const dA="word",Wr="selection",Ja="backward",nd="forward",uA={deleteContent:{unit:Wr,direction:Ja},deleteContentBackward:{unit:"codePoint",direction:Ja},deleteWordBackward:{unit:dA,direction:Ja},deleteHardLineBackward:{unit:Wr,direction:Ja},deleteSoftLineBackward:{unit:Wr,direction:Ja},deleteContentForward:{unit:"character",direction:nd},deleteWordForward:{unit:dA,direction:nd},deleteHardLineForward:{unit:Wr,direction:nd},deleteSoftLineForward:{unit:Wr,direction:nd}};class tN extends Oo{constructor(e){super(e);const t=e.document;let o=0;t.on("keydown",()=>{o++}),t.on("keyup",()=>{o=0}),t.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:g,inputType:p}=l,k=uA[p];if(!k)return;const w={direction:k.direction,unit:k.unit,sequence:o};w.unit==Wr&&(w.selectionToRemove=e.createSelection(d[0])),p==="deleteContentBackward"&&(f.isAndroid&&(w.sequence=1),function(C){if(C.length!=1||C[0].isCollapsed)return!1;const D=C[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let N=0;for(const{nextPosition:P}of D){if(P.parent.is("$text")){const z=P.parent.data,W=P.offset;if(xp(z,W)||Ep(z,W)||Fw(z,W))continue;N++}else N++;if(N>1)return!0}return!1}(d)&&(w.unit=Wr,w.selectionToRemove=e.createSelection(d)));const y=new Ha(t,"delete",d[0]);t.fire(y,new Wa(e,g,w)),y.stop.called&&s.stop()}),f.isBlink&&function(s){const l=s.view,d=l.document;let g=null,p=!1;function k(y){return y==qe.backspace||y==qe.delete}function w(y){return y==qe.backspace?Ja:nd}d.on("keydown",(y,{keyCode:C})=>{g=C,p=!1}),d.on("keyup",(y,{keyCode:C,domEvent:D})=>{const N=d.selection,P=s.isEnabled&&C==g&&k(C)&&!N.isCollapsed&&!p;if(g=null,P){const z=N.getFirstRange(),W=new Ha(d,"delete",z),Q={unit:Wr,direction:w(C),selectionToRemove:N};d.fire(W,new Wa(l,D,Q))}}),d.on("beforeinput",(y,{inputType:C})=>{const D=uA[C];k(g)&&D&&D.direction==w(g)&&(p=!0)},{priority:"high"}),d.on("beforeinput",(y,{inputType:C,data:D})=>{g==qe.delete&&C=="insertText"&&D==""&&y.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class jo extends de{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,o=t.document,s=e.model.document;t.addObserver(tN),this._undoOnBackspace=!1;const l=new lA(e,"forward");e.commands.add("deleteForward",l),e.commands.add("forwardDelete",l),e.commands.add("delete",new lA(e,"backward")),this.listenTo(o,"delete",(d,g)=>{o.isComposing||g.preventDefault();const{direction:p,sequence:k,selectionToRemove:w,unit:y}=g,C=p==="forward"?"deleteForward":"delete",D={sequence:k};if(y=="selection"){const N=Array.from(w.getRanges()).map(P=>e.editing.mapper.toModelRange(P));D.selection=e.model.createSelection(N)}else D.unit=y;e.execute(C,D),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(d,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),g.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class nN extends de{static get requires(){return[aA,jo]}static get pluginName(){return"Typing"}}function hA(a,e){let t=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((o,{item:s})=>s.is("$text")||s.is("$textProxy")?o+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,a.end)}}class fA extends Me(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,t={}){const o=this.model,s=o.document.selection,l=o.createRange(o.createPositionAt(s.focus.parent,0),s.focus),{text:d,range:g}=hA(l,o),p=this.testCallback(d);if(!p&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!p,p){const k=Object.assign(t,{text:d,range:g});typeof p=="object"&&Object.assign(k,p),this.fire(`matched:${e}`,k)}}}class gA extends de{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,o=e.editing.view,s=e.locale,l=t.document.selection;this.listenTo(o.document,"arrowKey",(d,g)=>{if(!l.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const p=g.keyCode==qe.arrowright,k=g.keyCode==qe.arrowleft;if(!p&&!k)return;const w=s.contentLanguageDirection;let y=!1;y=w==="ltr"&&p||w==="rtl"&&k?this._handleForwardMovement(g):this._handleBackwardMovement(g),y===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(l,"change:range",(d,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&Lh(l.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,o=this.editor.model.document.selection,s=o.getFirstPosition();return!this._isGravityOverridden&&(!s.isAtStart||!Em(o,t))&&!!Lh(s,t)&&(Ph(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,o=this.editor.model,s=o.document.selection,l=s.getFirstPosition();return this._isGravityOverridden?(Ph(e),this._restoreGravity(),Sm(o,t,l),!0):l.isAtStart?!!Em(s,t)&&(Ph(e),Sm(o,t,l),!0):!!function(d,g){const p=d.getShiftedBy(-1);return Lh(p,g)}(l,t)&&(l.isAtEnd&&!Em(s,t)&&Lh(l,t)?(Ph(e),Sm(o,t,l),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Em(a,e){for(const t of e)if(a.hasAttribute(t))return!0;return!1}function Sm(a,e,t){const o=t.nodeBefore;a.change(s=>{if(o){const l=[],d=a.schema.isObject(o)&&a.schema.isInline(o);for(const[g,p]of o.getAttributes())!a.schema.checkAttribute("$text",g)||d&&a.schema.getAttributeProperties(g).copyFromObject===!1||l.push([g,p]);s.setSelectionAttribute(l)}else s.removeSelectionAttribute(e)})}function Ph(a){a.preventDefault()}function Lh(a,e){const{nodeBefore:t,nodeAfter:o}=a;for(const s of e){const l=t?t.getAttribute(s):void 0;if((o?o.getAttribute(s):void 0)!==l)return!0}return!1}const pA={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Xa('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Xa("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Xa("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Xa('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Xa('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Xa("'"),to:[null,"‚",null,"’"]}},mA={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},iN=["symbols","mathematical","typography","quotes"];function oN(a){return typeof a=="string"?new RegExp(`(${Zy(a)})$`):a}function rN(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function sN(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Xa(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function ec(a,e,t,o){return o.createRange(kA(a,e,t,!0,o),kA(a,e,t,!1,o))}function kA(a,e,t,o,s){let l=a.textNode||(o?a.nodeBefore:a.nodeAfter),d=null;for(;l&&l.getAttribute(e)==t;)d=l,l=o?l.previousSibling:l.nextSibling;return d?s.createPositionAt(d,o?"before":"after"):a}function qr(a,e,t,o){let s,l=null;typeof o=="function"?s=o:(l=a.commands.get(o),s=()=>{a.execute(o)}),a.model.document.on("change:data",(d,g)=>{if(l&&!l.isEnabled||!e.isEnabled)return;const p=pn(a.model.document.selection.getRanges());if(!p.isCollapsed||g.isUndo||!g.isLocal)return;const k=Array.from(a.model.document.differ.getChanges()),w=k[0];if(k.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const y=w.position.parent;if(y.is("element","codeBlock")||y.is("element","listItem")&&typeof o!="function"&&!["numberedList","bulletedList","todoList"].includes(o)||l&&l.value===!0)return;const C=y.getChild(0),D=a.model.createRangeOn(C);if(!D.containsRange(p)&&!p.end.isEqual(D.end))return;const N=t.exec(C.data.substr(0,p.end.offset));N&&a.model.enqueueChange(P=>{const z=P.createPositionAt(y,0),W=P.createPositionAt(y,N[0].length),Q=new si(z,W);if(s({match:N})!==!1){P.remove(Q);const ce=a.model.document.selection.getFirstRange(),xe=P.createRangeIn(y);!y.isEmpty||xe.isEqual(ce)||xe.containsRange(ce,!0)||P.remove(y)}Q.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function tc(a,e,t,o){let s,l;t instanceof RegExp?s=t:l=t,l=l||(d=>{let g;const p=[],k=[];for(;(g=s.exec(d))!==null&&!(g&&g.length<4);){let{index:w,1:y,2:C,3:D}=g;const N=y+C+D;w+=g[0].length-N.length;const P=[w,w+y.length],z=[w+y.length+C.length,w+y.length+C.length+D.length];p.push(P),p.push(z),k.push([w+y.length,w+y.length+C.length])}return{remove:p,format:k}}),a.model.document.on("change:data",(d,g)=>{if(g.isUndo||!g.isLocal||!e.isEnabled)return;const p=a.model,k=p.document.selection;if(!k.isCollapsed)return;const w=Array.from(p.document.differ.getChanges()),y=w[0];if(w.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const C=k.focus,D=C.parent,{text:N,range:P}=function(ce,xe){let He=ce.start;return{text:Array.from(ce.getItems()).reduce((Vo,Yn)=>!Yn.is("$text")&&!Yn.is("$textProxy")||Yn.getAttribute("code")?(He=xe.createPositionAfter(Yn),""):Vo+Yn.data,""),range:xe.createRange(He,ce.end)}}(p.createRange(p.createPositionAt(D,0),C),p),z=l(N),W=bA(P.start,z.format,p),Q=bA(P.start,z.remove,p);W.length&&Q.length&&p.enqueueChange(ce=>{if(o(ce,W)!==!1){for(const xe of Q.reverse())ce.remove(xe);p.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function bA(a,e,t){return e.filter(o=>o[0]!==void 0&&o[1]!==void 0).map(o=>t.createRange(a.getShiftedBy(o[0]),a.getShiftedBy(o[1])))}function zh(a,e){return(t,o)=>{if(!a.commands.get(e).isEnabled)return!1;const s=a.model.schema.getValidRanges(o,e);for(const l of s)t.setAttribute(e,!0,l);t.removeSelectionAttribute(e)}}class wA extends pt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(l=>{if(o.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const d=t.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const g of d)s?l.setAttribute(this.attributeKey,s,g):l.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const s of o.getRanges())for(const l of s.getItems())if(t.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const nc="bold";class aN extends de{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:nc}),e.model.schema.setAttributeProperties(nc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:nc,view:"strong",upcastAlso:["b",t=>{const o=t.getStyle("font-weight");return o&&(o=="bold"||Number(o)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(nc,new wA(e,nc)),e.keystrokes.set("CTRL+B",nc)}}const Dm="bold";class cN extends de{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Dm,o=>{const s=e.commands.get(Dm),l=new nt(o);return l.set({label:t("Bold"),icon:Ve.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(Dm),e.editing.view.focus()}),l})}}var vA=r(5363),lN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(vA.Z,lN),vA.Z.locals;const ic="italic";class dN extends de{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ic}),e.model.schema.setAttributeProperties(ic,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ic,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(ic,new wA(e,ic)),e.keystrokes.set("CTRL+I",ic)}}const Tm="italic";class uN extends de{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Tm,o=>{const s=e.commands.get(Tm),l=new nt(o);return l.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(Tm),e.editing.view.focus()}),l})}}function*_A(a,e){for(const t of e)t&&a.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class hN extends pt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,o=t.document.selection,s=t.schema,l=o.isCollapsed,d=o.getFirstRange(),g=d.start.parent,p=d.end.parent;if(s.isLimit(g)||s.isLimit(p))return l||g!=p||t.deleteContent(o),!1;if(l){const k=_A(e.model.schema,o.getAttributes());return yA(e,d.start),e.setSelectionAttribute(k),!0}{const k=!(d.start.isAtStart&&d.end.isAtEnd),w=g==p;if(t.deleteContent(o,{leaveUnmerged:k}),k){if(w)return yA(e,o.focus),!0;e.setSelection(p,0)}}return!1}}function yA(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const fN={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class AA extends Oo{constructor(e){super(e);const t=this.document;let o=!1;t.on("keydown",(s,l)=>{o=l.shiftKey}),t.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;let d=l.inputType;f.isSafari&&o&&d=="insertParagraph"&&(d="insertLineBreak");const g=l.domEvent,p=fN[d];if(!p)return;const k=new Ha(t,"enter",l.targetRanges[0]);t.fire(k,new Wa(e,g,{isSoft:p.isSoft})),k.stop.called&&s.stop()})}observe(){}stopObserving(){}}class jh extends de{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(AA),e.commands.add("enter",new hN(e)),this.listenTo(o,"enter",(s,l)=>{o.isComposing||l.preventDefault(),l.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class gN extends pt{execute(){const e=this.editor.model,t=e.document;e.change(o=>{(function(s,l,d){const g=d.isCollapsed,p=d.getFirstRange(),k=p.start.parent,w=p.end.parent,y=k==w;if(g){const C=_A(s.schema,d.getAttributes());CA(s,l,p.end),l.removeSelectionAttribute(d.getAttributeKeys()),l.setSelectionAttribute(C)}else{const C=!(p.start.isAtStart&&p.end.isAtEnd);s.deleteContent(d,{leaveUnmerged:C}),y?CA(s,l,d.focus):C&&l.setSelection(w,0)}})(e,o,t.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(o,s){if(s.rangeCount>1)return!1;const l=s.anchor;if(!l||!o.checkChild(l,"softBreak"))return!1;const d=s.getFirstRange(),g=d.start.parent,p=d.end.parent;return!((Im(g,o)||Im(p,o))&&g!==p)}(e.schema,t.selection)}}function CA(a,e,t){const o=e.createElement("softBreak");a.insertContent(o,t),e.setSelection(o,"after")}function Im(a,e){return!a.is("rootElement")&&(e.isLimit(a)||Im(a.parent,e))}class pN extends de{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,o=e.conversion,s=e.editing.view,l=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:g})=>g.createEmptyElement("br")}),s.addObserver(AA),e.commands.add("shiftEnter",new gN(e)),this.listenTo(l,"enter",(d,g)=>{l.isComposing||g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class mN extends pt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,o=t.schema,s=t.document.selection,l=Array.from(s.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;t.change(g=>{if(d){const p=l.filter(k=>Rh(k)||EA(o,k));this._applyQuote(g,p)}else this._removeQuote(g,l.filter(Rh))})}_getValue(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Rh(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=pn(e.getSelectedBlocks());return!!o&&EA(t,o)}_removeQuote(e,t){xA(e,t).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const l=e.createPositionBefore(o.start.parent);return void e.move(o,l)}o.end.isAtEnd||e.split(o.end);const s=e.createPositionAfter(o.end.parent);e.move(o,s)})}_applyQuote(e,t){const o=[];xA(e,t).reverse().forEach(s=>{let l=Rh(s.start);l||(l=e.createElement("blockQuote"),e.wrap(s,l)),o.push(l)}),o.reverse().reduce((s,l)=>s.nextSibling==l?(e.merge(e.createPositionAfter(s)),s):l)}}function Rh(a){return a.parent.name=="blockQuote"?a.parent:null}function xA(a,e){let t,o=0;const s=[];for(;o<e.length;){const l=e[o],d=e[o+1];t||(t=a.createPositionBefore(l)),d&&l.nextSibling==d||(s.push(a.createRange(t,a.createPositionAfter(l))),t=null),o++}return s}function EA(a,e){const t=a.checkChild(e.parent,"blockQuote"),o=a.checkChild(["$root","blockQuote"],e);return t&&o}class kN extends de{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[jh,jo]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new mN(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const g=e.model.document.differ.getChanges();for(const p of g)if(p.type=="insert"){const k=p.position.nodeAfter;if(!k)continue;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0;if(k.is("element","blockQuote")&&!t.checkChild(p.position,k))return d.unwrap(k),!0;if(k.is("element")){const w=d.createRangeIn(k);for(const y of w.getItems())if(y.is("element","blockQuote")&&!t.checkChild(d.createPositionBefore(y),y))return d.unwrap(y),!0}}else if(p.type=="remove"){const k=p.position.parent;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0}return!1});const o=this.editor.editing.view.document,s=e.model.document.selection,l=e.commands.get("blockQuote");this.listenTo(o,"enter",(d,g)=>{!s.isCollapsed||!l.value||s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(d,g)=>{if(g.direction!="backward"||!s.isCollapsed||!l.value)return;const p=s.getLastPosition().parent;p.isEmpty&&!p.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),d.stop())},{context:"blockquote"})}}var SA=r(3789),bN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(SA.Z,bN),SA.Z.locals;class wN extends de{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",o=>{const s=e.commands.get("blockQuote"),l=new nt(o);return l.set({label:t("Block quote"),icon:Ve.quote,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),l})}}class id extends Vs{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function o(s){return(l,d)=>{d.preventDefault();const g=d.dropRange?[d.dropRange]:null,p=new S(t,s);t.fire(p,{dataTransfer:d.dataTransfer,method:l.name,targetRanges:g,target:d.target,domEvent:d.domEvent}),p.stop.called&&d.stopPropagation()}}this.listenTo(t,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,o=e.type=="drop"||e.type=="paste",s={dataTransfer:new Lv(t,{cacheFiles:o})};e.type!="drop"&&e.type!="dragover"||(s.dropRange=function(l,d){const g=d.target.ownerDocument,p=d.clientX,k=d.clientY;let w;return g.caretRangeFromPoint&&g.caretRangeFromPoint(p,k)?w=g.caretRangeFromPoint(p,k):d.rangeParent&&(w=g.createRange(),w.setStart(d.rangeParent,d.rangeOffset),w.collapse(!0)),w?l.domConverter.domRangeToView(w):null}(this.view,e)),this.fire(e.type,e,s)}}const DA=["figcaption","li"];function TA(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let t=null;for(const o of a.getChildren()){const s=TA(o);t&&(t.is("containerElement")||o.is("containerElement"))&&(DA.includes(t.name)||DA.includes(o.name)?e+=`
`:e+=`

`),e+=s,t=o}}return e}class Ro extends de{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(id),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,o){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:o})}_setupPasteDrop(){const e=this.editor,t=e.model,o=e.editing.view,s=o.document;this.listenTo(s,"clipboardInput",(l,d)=>{d.method!="paste"||e.model.canEditAt(e.model.document.selection)||l.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(l,d)=>{const g=d.dataTransfer;let p;if(d.content)p=d.content;else{let y="";g.getData("text/html")?y=function(C){return C.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(D,N)=>N.length==1?" ":N).replace(/<!--[\s\S]*?-->/g,"")}(g.getData("text/html")):g.getData("text/plain")&&(((k=(k=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||k.includes("<br>"))&&(k=`<p>${k}</p>`),y=k),p=this.editor.data.htmlProcessor.toView(y)}var k;const w=new S(this,"inputTransformation");this.fire(w,{content:p,dataTransfer:g,targetRanges:d.targetRanges,method:d.method}),w.stop.called&&l.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(l,d)=>{if(d.content.isEmpty)return;const g=this.editor.data.toModel(d.content,"$clipboardHolder");g.childCount!=0&&(l.stop(),t.change(()=>{this.fire("contentInsertion",{content:g,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(l,d)=>{d.resultRange=t.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,o=e.editing.view.document,s=(l,d)=>{const g=d.dataTransfer;d.preventDefault(),this._fireOutputTransformationEvent(g,t.selection,l.name)};this.listenTo(o,"copy",s,{priority:"low"}),this.listenTo(o,"cut",(l,d)=>{e.model.canEditAt(e.model.document.selection)?s(l,d):d.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(l,d)=>{const g=e.data.toView(d.content);o.fire("clipboardOutput",{dataTransfer:d.dataTransfer,content:g,method:d.method})},{priority:"low"}),this.listenTo(o,"clipboardOutput",(l,d)=>{d.content.isEmpty||(d.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",TA(d.content))),d.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class vN extends $(){constructor(){super(...arguments),this._stack=[]}add(e,t){const o=this._stack,s=o[0];this._insertDescriptor(e);const l=o[0];s===l||Mm(s,l)||this.fire("change:top",{oldDescriptor:s,newDescriptor:l,writer:t})}remove(e,t){const o=this._stack,s=o[0];this._removeDescriptor(e);const l=o[0];s===l||Mm(s,l)||this.fire("change:top",{oldDescriptor:s,newDescriptor:l,writer:t})}_insertDescriptor(e){const t=this._stack,o=t.findIndex(l=>l.id===e.id);if(Mm(e,t[o]))return;o>-1&&t.splice(o,1);let s=0;for(;t[s]&&_N(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,o=t.findIndex(s=>s.id===e);o>-1&&t.splice(o,1)}}function Mm(a,e){return a&&e&&a.priority==e.priority&&Fh(a.classes)==Fh(e.classes)}function _N(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&Fh(a.classes)>Fh(e.classes)}function Fh(a){return Array.isArray(a)?a.sort().join(","):a}const yN='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',AN="ck-widget",IA="ck-widget_selected";function bn(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Nm(a,e,t={}){if(!a.is("containerElement"))throw new E("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(AN,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=EN,e.setCustomProperty("widgetLabel",[],a),t.label&&function(o,s){o.getCustomProperty("widgetLabel").push(s)}(a,t.label),t.hasSelectionHandle&&function(o,s){const l=s.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(d){const g=this.toDomElement(d),p=new lr;return p.set("content",yN),p.render(),g.appendChild(p.element),g});s.insert(s.createPositionAt(o,0),l),s.addClass(["ck-widget_with-selection-handle"],o)}(a,e),MA(a,e),a}function CN(a,e,t){if(e.classes&&t.addClass(gn(e.classes),a),e.attributes)for(const o in e.attributes)t.setAttribute(o,e.attributes[o],a)}function xN(a,e,t){if(e.classes&&t.removeClass(gn(e.classes),a),e.attributes)for(const o in e.attributes)t.removeAttribute(o,a)}function MA(a,e,t=CN,o=xN){const s=new vN;s.on("change:top",(l,d)=>{d.oldDescriptor&&o(a,d.oldDescriptor,d.writer),d.newDescriptor&&t(a,d.newDescriptor,d.writer)}),e.setCustomProperty("addHighlight",(l,d,g)=>s.add(d,g),a),e.setCustomProperty("removeHighlight",(l,d,g)=>s.remove(d,g),a)}function Om(a,e){const t=a.getSelectedElement();if(t){const o=Gr(a);if(o)return e.createRange(e.createPositionAt(t,o))}return O_(a,e)}function EN(){return null}const ur="widget-type-around";function Gs(a,e,t){return!!a&&bn(a)&&!t.isInline(e)}function Gr(a){return a.getAttribute(ur)}var NA=r(2347),SN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(NA.Z,SN),NA.Z.locals;const OA=["before","after"],DN=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,BA="ck-widget__type-around_disabled";class TN extends de{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[jh,jo]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(o,s,l)=>{t.change(d=>{for(const g of t.document.roots)l?d.removeClass(BA,g):d.addClass(BA,g)}),l||e.model.change(d=>{d.removeSelectionAttribute(ur)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const o=this.editor,s=o.editing.view,l=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,t),attributes:l}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,o,s){this.listenTo(e,t,(...l)=>{this.isEnabled&&o(...l)},s)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=Gr(e);if(!t)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,o=e.locale.t,s={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(l,d,g)=>{const p=g.mapper.toViewElement(d.item);p&&Gs(p,d.item,t)&&(function(k,w,y){const C=k.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(D){const N=this.toDomElement(D);return function(P,z){for(const W of OA){const Q=new zo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${W}`],title:z[W],"aria-hidden":"true"},children:[P.ownerDocument.importNode(DN,!0)]});P.appendChild(Q.render())}}(N,w),function(P){const z=new zo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});P.appendChild(z.render())}(N),N});k.insert(k.createPositionAt(y,"end"),C)}(g.writer,s,p),p.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,o=t.document.selection,s=t.schema,l=e.editing.view;function d(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(l.document,"arrowKey",(g,p)=>{this._handleArrowKeyPress(g,p)},{context:[bn,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(g,p)=>{p.directChange&&e.model.change(k=>{k.removeSelectionAttribute(ur)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const g=o.getSelectedElement();g&&Gs(e.editing.mapper.toViewElement(g),g,s)||e.model.change(p=>{p.removeSelectionAttribute(ur)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(g,p,k)=>{const w=k.writer;if(this._currentFakeCaretModelElement){const N=k.mapper.toViewElement(this._currentFakeCaretModelElement);N&&(w.removeClass(OA.map(d),N),this._currentFakeCaretModelElement=null)}const y=p.selection.getSelectedElement();if(!y)return;const C=k.mapper.toViewElement(y);if(!Gs(C,y,s))return;const D=Gr(p.selection);D&&(w.addClass(d(D),C),this._currentFakeCaretModelElement=y)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(g,p,k)=>{k||e.model.change(w=>{w.removeSelectionAttribute(ur)})})}_handleArrowKeyPress(e,t){const o=this.editor,s=o.model,l=s.document.selection,d=s.schema,g=o.editing.view,p=function(y,C){const D=jw(y,C);return D==="down"||D==="right"}(t.keyCode,o.locale.contentLanguageDirection),k=g.document.selection.getSelectedElement();let w;Gs(k,o.editing.mapper.toModelElement(k),d)?w=this._handleArrowKeyPressOnSelectedWidget(p):l.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(p):t.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(p)),w&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,o=Gr(t.document.selection);return t.change(s=>o?o!==(e?"after":"before")?(s.removeSelectionAttribute(ur),!0):!1:(s.setSelectionAttribute(ur,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,o=t.model,s=o.schema,l=t.plugins.get("Widget"),d=l._getObjectElementNextToSelection(e);return!!Gs(t.editing.mapper.toViewElement(d),d,s)&&(o.change(g=>{l._setSelectionOverElement(d),g.setSelectionAttribute(ur,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,o=t.model,s=o.schema,l=t.editing.mapper,d=o.document.selection,g=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter;return!!Gs(l.toViewElement(g),g,s)&&(o.change(p=>{p.setSelection(g,"on"),p.setSelectionAttribute(ur,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(o,s)=>{const l=s.domTarget.closest(".ck-widget__type-around__button");if(!l)return;const d=function(k){return k.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),g=function(k,w){const y=k.closest(".ck-widget");return w.mapDomToView(y)}(l,t.domConverter),p=e.editing.mapper.toModelElement(g);this._insertParagraph(p,d),s.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,o=e.editing.view;this._listenToIfEnabled(o.document,"enter",(s,l)=>{if(s.eventPhase!="atTarget")return;const d=t.getSelectedElement(),g=e.editing.mapper.toViewElement(d),p=e.model.schema;let k;this._insertParagraphAccordingToFakeCaretPosition()?k=!0:Gs(g,d,p)&&(this._insertParagraph(d,l.isSoft?"before":"after"),k=!0),k&&(l.preventDefault(),s.stop())},{context:bn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),f.isAndroid?this._listenToIfEnabled(e,"keydown",(t,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,o=e.model,s=o.schema;this._listenToIfEnabled(t.document,"delete",(l,d)=>{if(l.eventPhase!="atTarget")return;const g=Gr(o.document.selection);if(!g)return;const p=d.direction,k=o.document.selection.getSelectedElement(),w=p=="forward";if(g==="before"===w)e.execute("delete",{selection:o.createSelection(k,"on")});else{const y=s.getNearestSelectionRange(o.createPositionAt(k,g),p);if(y)if(y.isCollapsed){const C=o.createSelection(y.start);if(o.modifySelection(C,{direction:p}),C.focus.isEqual(y.start)){const D=function(N,P){let z=P;for(const W of P.getAncestors({parentFirst:!0})){if(W.childCount>1||N.isLimit(W))break;z=W}return z}(s,y.start.parent);o.deleteContent(o.createSelection(D,"on"),{doNotAutoparagraph:!0})}else o.change(D=>{D.setSelection(y),e.execute(w?"deleteForward":"delete")})}else o.change(C=>{C.setSelection(y),e.execute(w?"deleteForward":"delete")})}d.preventDefault(),l.stop()},{context:bn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,o=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[l,d])=>{if(d&&!d.is("documentSelection"))return;const g=Gr(o);return g?(s.stop(),t.change(p=>{const k=o.getSelectedElement(),w=t.createPositionAt(k,g),y=p.createSelection(w),C=t.insertContent(l,y);return p.setSelection(y),C})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,s)=>{const[,l,d={}]=s;if(l&&!l.is("documentSelection"))return;const g=Gr(t);g&&(d.findOptimalPosition=g,s[3]=d)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[s])=>{s&&!s.is("documentSelection")||Gr(t)&&o.stop()},{priority:"high"})}}function IN(a){const e=a.model;return(t,o)=>{const s=o.keyCode==qe.arrowup,l=o.keyCode==qe.arrowdown,d=o.shiftKey,g=e.document.selection;if(!s&&!l)return;const p=l;if(d&&function(w,y){return!w.isCollapsed&&w.isBackward==y}(g,p))return;const k=function(w,y,C){const D=w.model;if(C){const N=y.isCollapsed?y.focus:y.getLastPosition(),P=PA(D,N,"forward");if(!P)return null;const z=D.createRange(N,P),W=LA(D.schema,z,"backward");return W?D.createRange(N,W):null}{const N=y.isCollapsed?y.focus:y.getFirstPosition(),P=PA(D,N,"backward");if(!P)return null;const z=D.createRange(P,N),W=LA(D.schema,z,"forward");return W?D.createRange(W,N):null}}(a,g,p);if(k){if(k.isCollapsed&&(g.isCollapsed||d))return;(k.isCollapsed||function(w,y,C){const D=w.model,N=w.view.domConverter;if(C){const ce=D.createSelection(y.start);D.modifySelection(ce),ce.focus.isAtEnd||y.start.isEqual(ce.focus)||(y=D.createRange(ce.focus,y.end))}const P=w.mapper.toViewRange(y),z=N.viewRangeToDom(P),W=je.getDomRangeRects(z);let Q;for(const ce of W)if(Q!==void 0){if(Math.round(ce.top)>=Q)return!1;Q=Math.max(Q,Math.round(ce.bottom))}else Q=Math.round(ce.bottom);return!0}(a,k,p))&&(e.change(w=>{const y=p?k.end:k.start;if(d){const C=e.createSelection(g.anchor);C.setFocus(y),w.setSelection(C)}else w.setSelection(y)}),t.stop(),o.preventDefault(),o.stopPropagation())}}}function PA(a,e,t){const o=a.schema,s=a.createRangeIn(e.root),l=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:g,type:p}of s.getWalker({startPosition:e,direction:t})){if(o.isLimit(g)&&!o.isInline(g))return d;if(p==l&&o.isBlock(g))return null}return null}function LA(a,e,t){const o=t=="backward"?e.end:e.start;if(a.checkChild(o,"$text"))return o;for(const{nextPosition:s}of e.getWalker({direction:t}))if(a.checkChild(s,"$text"))return s;return null}var zA=r(7153),MN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(zA.Z,MN),zA.Z.locals;class od extends de{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[TN,jo]}init(){const e=this.editor,t=e.editing.view,o=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,l,d)=>{const g=d.writer,p=l.selection;if(p.isCollapsed)return;const k=p.getSelectedElement();if(!k)return;const w=e.editing.mapper.toViewElement(k);var y;bn(w)&&d.consumable.consume(p,"selection")&&g.setSelection(g.createRangeOn(w),{fake:!0,label:(y=w,y.getCustomProperty("widgetLabel").reduce((C,D)=>typeof D=="function"?C?C+". "+D():D():C?C+". "+D:D,""))})}),this.editor.editing.downcastDispatcher.on("selection",(s,l,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const g=d.writer,p=g.document.selection;let k=null;for(const w of p.getRanges())for(const y of w){const C=y.item;bn(C)&&!NN(C,k)&&(g.addClass(IA,C),this._previouslySelected.add(C),k=C)}},{priority:"low"}),t.addObserver(_h),this.listenTo(o,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(o,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[bn,"$text"]}),this.listenTo(o,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(o,"arrowKey",IN(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(s,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const o=this.editor,s=o.editing.view,l=s.document;let d=t.target;if(function(p){let k=p;for(;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(bn(k))return!1;k=k.parent}return!1}(d)){if((f.isSafari||f.isGecko)&&t.domEvent.detail>=3){const p=o.editing.mapper,k=d.is("attributeElement")?d.findAncestor(y=>!y.is("attributeElement")):d,w=p.toModelElement(k);t.preventDefault(),this.editor.model.change(y=>{y.setSelection(w,"in")})}return}if(!bn(d)&&(d=d.findAncestor(bn),!d))return;f.isAndroid&&t.preventDefault(),l.isFocused||s.focus();const g=o.editing.mapper.toModelElement(d);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(e,t){const o=t.keyCode,s=this.editor.model,l=s.schema,d=s.document.selection,g=d.getSelectedElement(),p=jw(o,this.editor.locale.contentLanguageDirection),k=p=="down"||p=="right",w=p=="up"||p=="down";if(g&&l.isObject(g)){const C=k?d.getLastPosition():d.getFirstPosition(),D=l.getNearestSelectionRange(C,k?"forward":"backward");return void(D&&(s.change(N=>{N.setSelection(D)}),t.preventDefault(),e.stop()))}if(!d.isCollapsed&&!t.shiftKey){const C=d.getFirstPosition(),D=d.getLastPosition(),N=C.nodeAfter,P=D.nodeBefore;return void((N&&l.isObject(N)||P&&l.isObject(P))&&(s.change(z=>{z.setSelection(k?D:C)}),t.preventDefault(),e.stop()))}if(!d.isCollapsed)return;const y=this._getObjectElementNextToSelection(k);if(y&&l.isObject(y)){if(l.isInline(y)&&w)return;this._setSelectionOverElement(y),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const o=this.editor.model,s=o.schema,l=o.document.selection.getSelectedElement();l&&s.isObject(l)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(s=>{let l=t.anchor.parent;for(;l.isEmpty;){const d=l;l=d.parent,s.remove(d)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,o=t.schema,s=t.document.selection,l=t.createSelection(s);if(t.modifySelection(l,{direction:e?"forward":"backward"}),l.isEqual(s))return null;const d=e?l.focus.nodeBefore:l.focus.nodeAfter;return d&&o.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(IA,t);this._previouslySelected.clear()}}function NN(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class jA extends de{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Mh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",o=>{(function(s){const l=s.getSelectedElement();return!(!l||!bn(l))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:o,getRelatedElement:s,balloonClassName:l="ck-toolbar-container"}){if(!o.length)return void U("widget-toolbar-no-items",{toolbarId:e});const d=this.editor,g=d.t,p=new fm(d.locale);if(p.ariaLabel=t||g("Widget toolbar"),this._toolbarDefinitions.has(e))throw new E("widget-toolbar-duplicated",this,{toolbarId:e});const k={view:p,getRelatedElement:s,balloonClassName:l,itemsConfig:o,initialized:!1};d.ui.addToolbar(p,{isContextual:!0,beforeFocus:()=>{const w=s(d.editing.view.document.selection);w&&this._showToolbar(k,w)},afterBlur:()=>{this._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}_updateToolbarsVisibility(){let e=0,t=null,o=null;for(const s of this._toolbarDefinitions.values()){const l=s.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const d=l.getAncestors().length;d>e&&(e=d,t=l,o=s)}else this._isToolbarVisible(s)&&this._hideToolbar(s);else this._isToolbarInBalloon(s)&&this._hideToolbar(s)}o&&this._showToolbar(o,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?RA(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:FA(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const s=o.getRelatedElement(this.editor.editing.view.document.selection);RA(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function RA(a,e){const t=a.plugins.get("ContextualBalloon"),o=FA(a,e);t.updatePosition(o)}function FA(a,e){const t=a.editing.view,o=En.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class ON extends Me(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,o){const s=new je(t);this.activeHandlePosition=function(d){const g=["top-left","top-right","bottom-right","bottom-left"];for(const p of g)if(d.classList.contains(BN(p)))return p}(e),this._referenceCoordinates=function(d,g){const p=new je(d),k=g.split("-"),w={x:k[1]=="right"?p.right:p.left,y:k[0]=="bottom"?p.bottom:p.top};return w.x+=d.ownerDocument.defaultView.scrollX,w.y+=d.ownerDocument.defaultView.scrollY,w}(t,function(d){const g=d.split("-"),p={top:"bottom",bottom:"top",left:"right",right:"left"};return`${p[g[0]]}-${p[g[1]]}`}(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const l=o.style.width;l&&l.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(l):this._originalWidthPercents=function(d,g){const p=d.parentElement;let k=parseFloat(p.ownerDocument.defaultView.getComputedStyle(p).width);const w=5;let y=0,C=p;for(;isNaN(k);){if(C=C.parentElement,++y>w)return 0;k=parseFloat(p.ownerDocument.defaultView.getComputedStyle(C).width)}return g.width/k*100}(o,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function BN(a){return`ck-widget__resizer__handle-${a}`}class PN extends Pe{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(o,s)=>o!==null&&s!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(o,s,l)=>e.unit==="px"?`${o}×${s}`:`${l}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(o,s,l)=>s<50||l<50?"above-center":o)}_dismiss(){this.unbind(),this._isVisible=!1}}class VA extends Me(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,o)=>t&&o),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(e=>{e.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(o=>{const s=o.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(l){const d=this.toDomElement(l);return e._appendHandles(d),e._appendSizeUI(d),d});o.insert(o.createPositionAt(t,"end"),s),o.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new ON(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(p=>{const k=this._options.unit||"%",w=(k==="%"?t.widthPercents:t.width)+k;p.setStyle("width",w,this._options.viewElement)});const o=this._getHandleHost(),s=new je(o),l=Math.round(s.width),d=Math.round(s.height),g=new je(o);t.width=Math.round(g.width),t.height=Math.round(g.height),this.redraw(s),this.state.update({...t,handleHostWidth:l,handleHostHeight:d})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!((o=t)&&o.ownerDocument&&o.ownerDocument.contains(o)))return;var o;const s=t.parentElement,l=this._getHandleHost(),d=this._viewResizerWrapper,g=[d.getStyle("width"),d.getStyle("height"),d.getStyle("left"),d.getStyle("top")];let p;if(s.isSameNode(l)){const k=e||new je(l);p=[k.width+"px",k.height+"px",void 0,void 0]}else p=[l.offsetWidth+"px",l.offsetHeight+"px",l.offsetLeft+"px",l.offsetTop+"px"];Dt(g,p)!=="same"&&this._options.editor.editing.view.change(k=>{k.setStyle({width:p[0],height:p[1],left:p[2],top:p[3]},d)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,o={x:(s=e).pageX,y:s.pageY};var s;const l=!this._options.isCentered||this._options.isCentered(this),d={x:t._referenceCoordinates.x-(o.x+t.originalWidth),y:o.y-t.originalHeight-t._referenceCoordinates.y};l&&t.activeHandlePosition.endsWith("-right")&&(d.x=o.x-(t._referenceCoordinates.x+t.originalWidth)),l&&(d.x*=2);let g=Math.abs(t.originalWidth+d.x),p=Math.abs(t.originalHeight+d.y);return(g/t.aspectRatio>p?"width":"height")=="width"?p=g/t.aspectRatio:g=p*t.aspectRatio,{width:Math.round(g),height:Math.round(p),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*g*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const s of t)e.appendChild(new zo({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(o=s,`ck-widget__resizer__handle-${o}`)}}).render());var o}_appendSizeUI(e){this._sizeView=new PN,this._sizeView.render(),e.appendChild(this._sizeView.element)}}var UA=r(4875),LN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(UA.Z,LN),UA.Z.locals;class Bm extends de{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Ae.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(_h),this._observer=new(dt()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Kl(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,l]of this._resizers)s.isAttached()||(this._resizers.delete(s),l.destroy())},{priority:"lowest"}),this._observer.listenTo(Ae.window,"resize",this._redrawSelectedResizerThrottled);const o=this.editor.editing.view.document.selection;o.on("change",()=>{const s=o.getSelectedElement(),l=this.getResizerByViewElement(s)||null;l?this.select(l):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new VA(e),o=this.editor.plugins;if(t.attach(),o.has("WidgetToolbarRepository")){const l=o.get("WidgetToolbarRepository");t.on("begin",()=>{l.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{l.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{l.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const o=t.domTarget;VA.isResizeHandle(o)&&(this._activeResizer=this._getResizerByHandle(o)||null,this._activeResizer&&(this._activeResizer.begin(o),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const Pm=Bn("px");class zN extends Pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>Pm(t)),top:e.to("top",t=>Pm(t)),width:e.to("width",t=>Pm(t))}}})}}class Vh extends de{constructor(){super(...arguments),this.removeDropMarkerDelayed=Cp(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Kl(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Kl(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new zN,this._domEmitter=new(dt()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,o,s,l){this.removeDropMarkerDelayed.cancel();const d=HA(this.editor,e,t,o,s,l);d&&this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,o,s,l){const d=HA(this.editor,e,t,o,s,l);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:o})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(o);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,o=t.model.markers;t.model.change(s=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const o=this.toDomElement(t);return o.append("⁠",t.createElement("span"),"⁠"),o})}_updateDropTargetLine(e){const t=this.editor.editing,o=e.start.nodeBefore,s=e.start.nodeAfter,l=e.start.parent,d=o?t.mapper.toViewElement(o):null,g=d?t.view.domConverter.mapViewToDom(d):null,p=s?t.mapper.toViewElement(s):null,k=p?t.view.domConverter.mapViewToDom(p):null,w=t.mapper.toViewElement(l),y=t.view.domConverter.mapViewToDom(w),C=this._getScrollableRect(w),{scrollX:D,scrollY:N}=Ae.window,P=g?new je(g):null,z=k?new je(k):null,W=new je(y).excludeScrollbarsAndBorders(),Q=P?P.bottom:W.top,ce=z?z.top:W.bottom,xe=Ae.window.getComputedStyle(y),He=Q<=ce?(Q+ce)/2:ce;if(C.top<He&&He<C.bottom){const di=W.left+parseFloat(xe.paddingLeft),Vo=W.right-parseFloat(xe.paddingRight),Yn=Math.max(di+D,C.left),Yr=Math.min(Vo+D,C.right);this._dropTargetLineView.set({isVisible:!0,left:Yn,top:He+N,width:Yr-Yn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let o;if(this._scrollables.has(t))o=this._scrollables.get(t).domElement;else{o=function(l){let d=l;do{d=d.parentElement;const g=Ae.window.getComputedStyle(d).overflowY;if(g=="auto"||g=="scroll")break}while(d.tagName!="BODY");return d}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(o,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Fe(o,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:o,resizeObserver:s})}return new je(o).excludeScrollbarsAndBorders()}}function HA(a,e,t,o,s,l){const d=a.model,g=a.editing.mapper;let p=WA(a,e);for(;p;){if(!l){if(d.schema.checkChild(p,"$text")){const k=t?t[0].start:null,w=k?g.toModelPosition(k):null;if(w){if(d.schema.checkChild(w,"$text"))return d.createRange(w);if(k)return Uh(a,WA(a,k.parent),o,s)}}else if(d.schema.isInline(p))return Uh(a,p,o,s)}if(d.schema.isBlock(p))return Uh(a,p,o,s);if(d.schema.checkChild(p,"$block")){const k=Array.from(p.getChildren()).filter(C=>C.is("element")&&!jN(a,C));let w=0,y=k.length;if(y==0)return d.createRange(d.createPositionAt(p,"end"));for(;w<y-1;){const C=Math.floor((w+y)/2);$A(a,k[C],o,s)=="before"?y=C:w=C}return Uh(a,k[w],o,s)}p=p.parent}return null}function jN(a,e){const t=a.editing.mapper,o=a.editing.view.domConverter,s=t.toViewElement(e),l=o.mapViewToDom(s);return Ae.window.getComputedStyle(l).float!="none"}function Uh(a,e,t,o){const s=a.model;return s.createRange(s.createPositionAt(e,$A(a,e,t,o)))}function $A(a,e,t,o){const s=a.editing.mapper,l=a.editing.view.domConverter,d=s.toViewElement(e),g=l.mapViewToDom(d),p=new je(g);return a.model.schema.isInline(e)?t<(p.left+p.right)/2?"before":"after":o<(p.top+p.bottom)/2?"before":"after"}function WA(a,e){const t=a.editing.mapper,o=a.editing.view,s=t.toModelElement(e);if(s)return s;const l=o.createPositionBefore(e),d=t.findMappedViewAncestor(l);return t.toModelElement(d)}class RN extends de{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(dt())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,o,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),f.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(o,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(Ae.document,"dragover",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"drop",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(o,s,l)=>{t.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,o=t.document.selection,s=this.editor.editing.view,l=Array.from(o.getSelectedBlocks()),d=t.createRange(t.createPositionBefore(l[0]),t.createPositionAfter(l[l.length-1]));t.change(g=>g.setSelection(d)),this._isBlockDragging=!0,s.focus(),s.getObserver(id).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),o=e.clientY,s=document.elementFromPoint(t,o),l=this.editor.editing.view;s&&s.closest(".ck-editor__editable")&&l.getObserver(id).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:o,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var qA=r(799),FN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(qA.Z,FN),qA.Z.locals;class VN extends de{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Cp(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(dt())}static get pluginName(){return"DragDrop"}static get requires(){return[Ro,od,Vh,RN]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(id),t.addObserver(_h),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,s,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,s,l)=>{l||this._finalizeDragging(!1)}),f.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,o=e.editing.view,s=o.document,l=e.plugins.get(Vh);this.listenTo(s,"dragstart",(d,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=B(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const p=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,p,"dragstart");const{dataTransfer:k,domTarget:w,domEvent:y}=g,{clientX:C}=y;this._updatePreview({dataTransfer:k,domTarget:w,clientX:C}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(d,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Ae.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&o.focus()}),this.listenTo(s,"dragleave",()=>{l.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(d,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:p,clientY:k}=g.domEvent;l.updateDropMarker(g.target,g.targetRanges,p,k,this._blockMode),this._draggedRange||(g.dataTransfer.dropEffect="copy"),f.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),d.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,o=e.plugins.get(Vh);this.listenTo(t,"clipboardInput",(s,l)=>{if(l.method!="drop")return;const{clientX:d,clientY:g}=l.domEvent,p=o.getFinalDropRange(l.target,l.targetRanges,d,g,this._blockMode);if(!p)return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),GA(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0))return this._finalizeDragging(!1),void s.stop();l.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ro);e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||o.method!=="drop")return;const s=o.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||o.method!=="drop")return;const s=GA(o.dataTransfer)=="move",l=!o.resultRange||!o.resultRange.isCollapsed;this._finalizeDragging(l&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,o=t.document;this.listenTo(o,"mousedown",(s,l)=>{if(f.isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let d=YA(l.target);if(f.isBlink&&!e.isReadOnly&&!d&&!o.selection.isCollapsed){const g=o.selection.getSelectedElement();g&&bn(g)||(d=o.selection.editableElement)}d&&(t.change(g=>{g.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(o,"mouseup",()=>{f.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,o=t.model;t.plugins.get(Vh).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&o.change(s=>{const l=o.createSelection(this._draggedRange);o.deleteContent(l,{doNotAutoparagraph:!0});const d=l.getFirstPosition().parent;d.isEmpty&&!o.schema.checkChild(d,"$text")&&o.schema.checkChild(d,"paragraph")&&s.insertElement("paragraph",d,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,o=t.model,s=o.document.selection,l=e?YA(e):null;if(l){const k=t.editing.mapper.toModelElement(l);this._draggedRange=si.fromRange(o.createRangeOn(k)),this._blockMode=o.schema.isBlock(k),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const d=Array.from(s.getSelectedBlocks()),g=s.getFirstRange();if(d.length==0)return void(this._draggedRange=si.fromRange(g));const p=KA(o,d);if(d.length>1)this._draggedRange=si.fromRange(p),this._blockMode=!0;else if(d.length==1){const k=g.start.isTouching(p.start)&&g.end.isTouching(p.end);this._draggedRange=si.fromRange(k?p:g),this._blockMode=k}o.change(k=>k.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:o}){const s=this.editor.editing.view,l=s.document.selection.editableElement,d=s.domConverter.mapViewToDom(l),g=Ae.window.getComputedStyle(d);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=zi(Ae.document,"div",{style:"position: fixed; left: -999999px;"}),Ae.document.body.appendChild(this._previewContainer));const p=new je(d);if(d.contains(t))return;const k=parseFloat(g.paddingLeft),w=zi(Ae.document,"div");w.className="ck ck-content",w.style.width=g.width,w.style.paddingLeft=`${p.left-o+k}px`,f.isiOS&&(w.style.backgroundColor="white"),w.innerHTML=e.getData("text/html"),e.setDragImage(w,0,0),this._previewContainer.appendChild(w)}}function GA(a){return f.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function YA(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(bn);if(bn(a))return a;const e=a.findAncestor(t=>bn(t)||t.is("editableElement"));return bn(e)?e:null}function KA(a,e){const t=e[0],o=e[e.length-1],s=t.getCommonAncestor(o),l=a.createPositionBefore(t),d=a.createPositionAfter(o);if(s&&s.is("element")&&!a.schema.isLimit(s)){const g=a.createRangeOn(s),p=l.isTouching(g.start),k=d.isTouching(g.end);if(p&&k)return KA(a,[s])}return a.createRange(l,d)}class UN extends de{static get pluginName(){return"PastePlainText"}static get requires(){return[Ro]}init(){const e=this.editor,t=e.model,o=e.editing.view,s=o.document,l=t.document.selection;let d=!1;o.addObserver(id),this.listenTo(s,"keydown",(g,p)=>{d=p.shiftKey}),e.plugins.get(Ro).on("contentInsertion",(g,p)=>{(d||function(k,w){if(k.childCount>1)return!1;const y=k.getChild(0);return w.isObject(y)?!1:Array.from(y.getAttributeKeys()).length==0}(p.content,t.schema))&&t.change(k=>{const w=Array.from(l.getAttributes()).filter(([C])=>t.schema.getAttributeProperties(C).isFormatting);l.isCollapsed||t.deleteContent(l,{doNotAutoparagraph:!0}),w.push(...l.getAttributes());const y=k.createRangeIn(p.content);for(const C of y.getItems())C.is("$textProxy")&&k.setAttributes(w,C)})})}}class Lm extends de{static get pluginName(){return"Clipboard"}static get requires(){return[Ro,VN,UN]}}class HN extends pt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let o=e.schema.getLimitElement(t);if(t.containsEntireContent(o)||!ZA(e.schema,o))do if(o=o.parent,!o)return;while(!ZA(e.schema,o));e.change(s=>{s.setSelection(o,"in")})}}function ZA(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const $N=Ol("Ctrl+A");class WN extends de{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new HN(e)),this.listenTo(t,"keydown",(o,s)=>{Ua(s)===$N&&(e.execute("selectAll"),s.preventDefault())})}}class qN extends de{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const o=e.commands.get("selectAll"),s=new nt(t),l=t.t;return s.set({label:l("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(o,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class GN extends de{static get requires(){return[WN,qN]}static get pluginName(){return"SelectAll"}}class QA extends pt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,o)=>{o[1]={...o[1]};const s=o[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,o){const s=this.editor.model,l=s.document,d=[],g=e.map(k=>k.getTransformedByOperations(o)),p=g.flat();for(const k of g){const w=k.filter(y=>y.root!=l.graveyard).filter(y=>!KN(y,p));w.length&&(YN(w),d.push(w[0]))}d.length&&s.change(k=>{k.setSelection(d,{backward:t})})}_undo(e,t){const o=this.editor.model,s=o.document;this._createdBatches.add(t);const l=e.operations.slice().filter(d=>d.isDocumentOperation);l.reverse();for(const d of l){const g=d.baseVersion+1,p=Array.from(s.history.getOperations(g)),k=XI([d.getReversed()],p,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let w of k){const y=w.affectedSelectable;y&&!o.canEditAt(y)&&(w=new Zt(w.baseVersion)),t.addOperation(w),o.applyOperation(w),s.history.setOperationAsUndone(d,w)}}}}function YN(a){a.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<a.length;e++){const t=a[e-1].getJoined(a[e],!0);t&&(e--,a.splice(e,2,t))}}function KN(a,e){return e.some(t=>t!==a&&t.containsRange(a,!0))}class ZN extends QA{execute(e=null){const t=e?this._stack.findIndex(l=>l.batch==e):this._stack.length-1,o=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(o.batch,s);const l=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,l)}),this.fire("revert",o.batch,s),this.refresh()}}class QN extends QA{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const o=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(o);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}class JN extends de{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new ZN(e),this._redoCommand=new QN(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,o)=>{const s=o[0];if(!s.isDocumentOperation)return;const l=s.batch,d=this._redoCommand.createdBatches.has(l),g=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(d?this._undoCommand.addBatch(l):g||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,o,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const JA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',XA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class XN extends de{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,o=e.t,s=t.uiLanguageDirection=="ltr"?JA:XA,l=t.uiLanguageDirection=="ltr"?XA:JA;this._addButton("undo",o("Undo"),"CTRL+Z",s),this._addButton("redo",o("Redo"),"CTRL+Y",l)}_addButton(e,t,o,s){const l=this.editor;l.ui.componentFactory.add(e,d=>{const g=l.commands.get(e),p=new nt(d);return p.set({label:t,icon:s,keystroke:o,tooltip:!0}),p.bind("isEnabled").to(g,"isEnabled"),this.listenTo(p,"execute",()=>{l.execute(e),l.editing.view.focus()}),p})}}class zm extends de{static get requires(){return[JN,XN]}static get pluginName(){return"Undo"}}class eO extends pt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=pn(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&eC(t,e.schema)}execute(e={}){const t=this.editor.model,o=t.document,s=e.selection||o.selection;t.canEditAt(s)&&t.change(l=>{const d=s.getSelectedBlocks();for(const g of d)!g.is("element","paragraph")&&eC(g,t.schema)&&l.rename(g,"paragraph")})}}function eC(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class tO extends pt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,o=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(l=>{if(s=this._findPositionToInsertParagraph(s,l),!s)return;const d=l.createElement("paragraph");o&&t.schema.setAllowedAttributes(d,o,l),t.insertContent(d,s),l.setSelection(d,"in")})}_findPositionToInsertParagraph(e,t){const o=this.editor.model;if(o.schema.checkChild(e,"paragraph"))return e;const s=o.schema.findAllowedParent(e,"paragraph");if(!s)return null;const l=e.parent,d=o.schema.checkChild(l,"$text");return l.isEmpty||d&&e.isAtEnd?o.createPositionAfter(l):!l.isEmpty&&d&&e.isAtStart?o.createPositionBefore(l):t.split(e,s).position}}class rd extends de{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new eO(e)),e.commands.add("insertParagraph",new tO(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(o,{writer:s})=>rd.paragraphLikeElements.has(o.name)?o.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}rd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class nO extends pt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>tC(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,o=t.document,s=e.value;t.change(l=>{const d=Array.from(o.selection.getSelectedBlocks()).filter(g=>tC(g,s,t.schema));for(const g of d)g.is("element",s)||l.rename(g,s)})}}function tC(a,e,t){return t.checkChild(a.parent,e)&&!t.isObject(a)}const nC="paragraph";class iO extends de{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[rd]}init(){const e=this.editor,t=e.config.get("heading.options"),o=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),o.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new nO(e,o))}afterInit(){const e=this.editor,t=e.commands.get("enter"),o=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,l)=>{const d=e.model.document.selection.getFirstPosition().parent;o.some(g=>d.is("element",g.model))&&!d.is("element",nC)&&d.childCount===0&&l.writer.rename(d,nC)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:R.low+1})}}var iC=r(4249),oO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(iC.Z,oO),iC.Z.locals;class rO extends de{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,o=function(d){const g=d.t,p={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return d.config.get("heading.options").map(k=>{const w=p[k.title];return w&&w!=k.title&&(k.title=w),k})}(e),s=t("Choose heading"),l=t("Heading");e.ui.componentFactory.add("heading",d=>{const g={},p=new Fi,k=e.commands.get("heading"),w=e.commands.get("paragraph"),y=[k];for(const D of o){const N={type:"button",model:new Wy({label:D.title,class:D.class,role:"menuitemradio",withText:!0})};D.model==="paragraph"?(N.model.bind("isOn").to(w,"value"),N.model.set("commandName","paragraph"),y.push(w)):(N.model.bind("isOn").to(k,"value",P=>P===D.model),N.model.set({commandName:"heading",commandValue:D.model})),p.add(N),g[D.model]=D.title}const C=$r(d);return by(C,p,{ariaLabel:l,role:"menu"}),C.buttonView.set({ariaLabel:l,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:l}),C.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),C.bind("isEnabled").toMany(y,"isEnabled",(...D)=>D.some(N=>N)),C.buttonView.bind("label").to(k,"value",w,"value",(D,N)=>{const P=D||N&&"paragraph";return typeof P=="boolean"?s:g[P]?g[P]:s}),this.listenTo(C,"execute",D=>{const{commandName:N,commandValue:P}=D.source;e.execute(N,P?{value:P}:void 0),e.editing.view.focus()}),C})}}class sO extends pt{refresh(){const e=this.editor.model,t=e.schema,o=e.document.selection;this.isEnabled=function(s,l,d){const g=function(p,k){const w=Om(p,k),y=w.start.parent;return y.isEmpty&&!y.is("element","$root")?y.parent:y}(s,d);return l.checkChild(g,"horizontalLine")}(o,t,e)}execute(){const e=this.editor.model;e.change(t=>{const o=t.createElement("horizontalLine");e.insertObject(o,null,null,{setSelection:"after"})})}}var oC=r(9893),aO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(oC.Z,aO),oC.Z.locals;class cO extends de{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,o=e.t,s=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(l,{writer:d})=>d.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(l,{writer:d})=>{const g=o("Horizontal line"),p=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",p),d.setCustomProperty("hr",!0,p),function(k,w,y){return w.setCustomProperty("horizontalLine",!0,k),Nm(k,w,{label:y})}(p,d,g)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new sO(e))}}class lO extends de{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",o=>{const s=e.commands.get("horizontalLine"),l=new nt(o);return l.set({label:t("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),l})}}function rC(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function sC(a,e){const t=a.plugins.get("ImageUtils"),o=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return l=>t.isInlineImageView(l)?o&&(l.getStyle("display")=="block"||l.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(l):null;function s(l){const d={name:!0};return l.hasAttribute("src")&&(d.attributes=["src"]),d}}function jm(a,e){const t=pn(e.getSelectedBlocks());return!t||a.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Hh(a){return a&&a.endsWith("px")?parseInt(a):null}function $h(a){const e=Hh(a.getStyle("width")),t=Hh(a.getStyle("height"));return!(!e||!t)}const dO=/^(image|image-inline)$/;class li extends de{constructor(){super(...arguments),this._domEmitter=new(dt())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,o=null,s={}){const l=this.editor,d=l.model,g=d.document.selection;o=aC(l,t||g,o),e={...Object.fromEntries(g.getAttributes()),...e};for(const p in e)d.schema.checkAttribute(o,p)||delete e[p];return d.change(p=>{const{setImageSizes:k=!0}=s,w=p.createElement(o,e);return d.insertObject(w,t,null,{setSelection:"on",findOptimalPosition:t||o=="imageInline"?void 0:"auto"}),w.parent?(k&&this.setImageNaturalSizeAttributes(w),w):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(o=>{const s=new Ae.window.Image;this._domEmitter.listenTo(s,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(o.batch,l=>{l.setAttribute("width",s.naturalWidth,e),l.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:dO})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,o){if(aC(t,o,null)=="imageBlock"){const l=function(d,g){const p=Om(d,g),k=p.start.parent;return k.isEmpty&&!k.is("element","$root")?k.parent:k}(o,t.model);if(t.model.schema.checkChild(l,"imageBlock"))return!0}else if(t.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,t,o){return t.setCustomProperty("image",!0,e),Nm(e,t,{label:()=>{const s=this.findViewImgElement(e).getAttribute("alt");return s?`${s} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&bn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:o}of t.createRangeIn(e))if(this.isInlineImageView(o))return o}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function aC(a,e,t){const o=a.model.schema,s=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?jm(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const uO=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class hO extends pt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,o=t.plugins.get("ImageUtils"),s=t.model,l=o.getClosestSelectedImageElement(s.document.selection);s.change(d=>{d.setAttribute("alt",e.newValue,l)})}}class fO extends de{static get requires(){return[li]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new hO(this.editor))}}var cC=r(5269),gO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(cC.Z,gO),cC.Z.locals;var lC=r(6603),pO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(lC.Z,pO),lC.Z.locals;class mO extends Pe{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new ri,this.keystrokes=new co,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new dr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Ah({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,o,s){const l=new nt(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}_createLabeledInputView(){const e=this.locale.t,t=new Jl(this.locale,Xl);return t.label=e("Text alternative"),t}}function dC(a){const e=a.editing.view,t=En.defaultPositions,o=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class kO extends de{static get requires(){return[Mh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const s=e.commands.get("imageTextAlternative"),l=new nt(o);return l.set({label:t("Change image text alternative"),icon:Ve.lowVision,tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),l.bind("isOn").to(s,"value",d=>!!d),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const e=this.editor,t=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(cm(mO))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,l)=>{this._hideForm(!0),l()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(s){const l=s.plugins.get("ContextualBalloon");if(s.plugins.get("ImageUtils").getClosestSelectedImageWidget(s.editing.view.document.selection)){const d=dC(s);l.updatePosition(d)}}(e):this._hideForm(!0)}),am({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:dC(e)}),o.fieldView.value=o.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class uC extends de{static get requires(){return[fO,kO]}static get pluginName(){return"ImageTextAlternative"}}function hC(a,e){const t=(o,s,l)=>{if(!l.consumable.consume(s.item,o.name))return;const d=l.writer,g=l.mapper.toViewElement(s.item),p=a.findViewImgElement(g);s.attributeNewValue===null?(d.removeAttribute("srcset",p),d.removeAttribute("sizes",p)):s.attributeNewValue&&(d.setAttribute("srcset",s.attributeNewValue,p),d.setAttribute("sizes","100vw",p))};return o=>{o.on(`attribute:srcset:${e}`,t)}}function Wh(a,e,t){const o=(s,l,d)=>{if(!d.consumable.consume(l.item,s.name))return;const g=d.writer,p=d.mapper.toViewElement(l.item),k=a.findViewImgElement(p);g.setAttribute(l.attributeKey,l.attributeNewValue||"",k)};return s=>{s.on(`attribute:${t}:${e}`,o)}}class fC extends Oo{observe(e){this.listenTo(e,"load",(t,o)=>{const s=o.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(o)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class bO extends pt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&U("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&U("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=gn(e.source),o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(o.getAttributes());t.forEach((d,g)=>{const p=o.getSelectedElement();if(typeof d=="string"&&(d={src:d}),g&&p&&s.isImage(p)){const k=this.editor.model.createPositionAfter(p);s.insertImage({...d,...l},k)}else s.insertImage({...d,...l})})}}class wO extends pt{refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(o=>{o.setAttribute("src",e.source,t),o.removeAttribute("srcset",t),o.removeAttribute("sizes",t)})}}class gC extends de{static get requires(){return[li]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(fC),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const o=new bO(e),s=new wO(e);e.commands.add("insertImage",o),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",o)}}class pC extends de{static get requires(){return[li]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,o=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";function l(d,g,p,k){d.on(`attribute:${g}:${e}`,(w,y,C)=>{if(!C.consumable.consume(y.item,w.name))return;const D=C.writer,N=C.mapper.toViewElement(y.item),P=o.findViewImgElement(N);if(y.attributeNewValue!==null?D.setAttribute(p,y.attributeNewValue,P):D.removeAttribute(p,P),y.item.hasAttribute("sources"))return;const z=y.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!z&&!k)return;const W=y.item.getAttribute("width"),Q=y.item.getAttribute("height"),ce=P.getStyle("aspect-ratio");W&&Q&&!ce&&D.setStyle("aspect-ratio",`${W}/${Q}`,P)})}t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:d=>$h(d)?Hh(d.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:d=>$h(d)?Hh(d.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(d=>{l(d,"width","width",!0),l(d,"height","height",!0)}),t.conversion.for("dataDowncast").add(d=>{l(d,"width","width",!1),l(d,"height","height",!1)})}}class mC extends pt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,o=this.editor.model,s=t.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(o.document.selection),d=Object.fromEntries(l.getAttributes());return d.src||d.uploadId?o.change(g=>{const{setImageSizes:p=!0}=e,k=Array.from(o.markers).filter(C=>C.getRange().containsItem(l)),w=s.insertImage(d,o.createSelection(l,"on"),this._modelElementName,{setImageSizes:p});if(!w)return null;const y=g.createRangeOn(w);for(const C of k){const D=C.getRange(),N=D.root.rootName!="$graveyard"?D.getJoined(y,!0):y;g.updateMarker(C,{range:N})}return{oldElement:l,newElement:w}}):null}}class kC extends de{static get requires(){return[gC,pC,li,Ro]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new mC(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,s=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:d})=>rC(d)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:d})=>s.toImageWidget(rC(d),d,t("image widget"))}),o.for("downcast").add(Wh(s,"imageBlock","src")).add(Wh(s,"imageBlock","alt")).add(hC(s,"imageBlock")),o.for("upcast").elementToElement({view:sC(e,"imageBlock"),model:(l,{writer:d})=>d.createElement("imageBlock",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)}).add(function(l){const d=(g,p,k)=>{if(!k.consumable.test(p.viewItem,{name:!0,classes:"image"}))return;const w=l.findViewImgElement(p.viewItem);if(!w||!k.consumable.test(w,{name:!0}))return;k.consumable.consume(p.viewItem,{name:!0,classes:"image"});const y=pn(k.convertItem(w,p.modelCursor).modelRange.getItems());y?(k.convertChildren(p.viewItem,y),k.updateConversionResult(y,p)):k.consumable.revert(p.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",d)}}(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(d,g)=>{const p=Array.from(g.content.getChildren());let k;if(!p.every(s.isInlineImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const w=t.createSelection(k);if(jm(t.schema,w)==="imageBlock"){const y=new qs(o.document),C=p.map(D=>y.createElement("figure",{class:"image"},D));g.content=y.createDocumentFragment(C)}}),this.listenTo(l,"contentInsertion",(d,g)=>{g.method==="paste"&&t.change(p=>{const k=p.createRangeIn(g.content);for(const w of k.getItems())w.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(w)})})}}var bC=r(2430),vO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(bC.Z,vO),bC.Z.locals;class _O extends de{static get requires(){return[kC,od,uC]}static get pluginName(){return"ImageBlock"}}class yO extends de{static get requires(){return[gC,pC,li,Ro]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((o,s)=>{if(o.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new mC(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,s=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(l,{writer:d})=>d.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(l,{writer:d})=>s.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(d),d,t("image widget"))}),o.for("downcast").add(Wh(s,"imageInline","src")).add(Wh(s,"imageInline","alt")).add(hC(s,"imageInline")),o.for("upcast").elementToElement({view:sC(e,"imageInline"),model:(l,{writer:d})=>d.createElement("imageInline",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(d,g)=>{const p=Array.from(g.content.getChildren());let k;if(!p.every(s.isBlockImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const w=t.createSelection(k);if(jm(t.schema,w)==="imageInline"){const y=new qs(o.document),C=p.map(D=>D.childCount===1?(Array.from(D.getAttributes()).forEach(N=>y.setAttribute(...N,s.findViewImgElement(D))),D.getChild(0)):D);g.content=y.createDocumentFragment(C)}}),this.listenTo(l,"contentInsertion",(d,g)=>{g.method==="paste"&&t.change(p=>{const k=p.createRangeIn(g.content);for(const w of k.getItems())w.is("element","imageInline")&&s.setImageNaturalSizeAttributes(w)})})}}class AO extends de{static get requires(){return[yO,od,uC]}static get pluginName(){return"ImageInline"}}class wC extends de{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[li]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&t.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class CO extends pt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),o=e.plugins.get("ImageUtils");if(!e.plugins.has(kC))return this.isEnabled=!1,void(this.value=!1);const s=e.model.document.selection,l=s.getSelectedElement();if(!l){const d=t.getCaptionFromModelSelection(s);return this.isEnabled=!!d,void(this.value=!!d)}this.isEnabled=o.isImage(l),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(l):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,t)})}_showImageCaption(e,t){const o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),l=this.editor.plugins.get("ImageUtils");let d=o.getSelectedElement();const g=s._getSavedCaption(d);l.isInlineImage(d)&&(this.editor.execute("imageTypeBlock"),d=o.getSelectedElement());const p=g||e.createElement("caption");e.append(p,d),t&&e.setSelection(p,"in")}_hideImageCaption(e){const t=this.editor,o=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),l=t.plugins.get("ImageCaptionUtils");let d,g=o.getSelectedElement();g?d=l.getCaptionFromImageModelElement(g):(d=l.getCaptionFromModelSelection(o),g=d.parent),s._saveCaption(g,d),e.setSelection(g,"on"),e.remove(d)}}class xO extends de{static get requires(){return[li,wC]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new CO(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),l=e.t;e.conversion.for("upcast").elementToElement({view:d=>s.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:g})=>o.isBlockImage(d.parent)?g.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:g})=>{if(!o.isBlockImage(d.parent))return null;const p=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,p),p.placeholder=l("Enter image caption"),Kw({view:t,element:p,keepOnFocus:!0});const k=d.parent.getAttribute("alt");return function(w,y,C={}){return y.addClass(["ck-editor__editable","ck-editor__nested-editable"],w),y.setAttribute("role","textbox",w),C.label&&y.setAttribute("aria-label",C.label,w),y.setAttribute("contenteditable",w.isReadOnly?"false":"true",w),w.on("change:isReadOnly",(D,N,P)=>{y.setAttribute("contenteditable",P?"false":"true",w)}),w.on("change:isFocused",(D,N,P)=>{P?y.addClass("ck-editor__nested-editable_focused",w):y.removeClass("ck-editor__nested-editable_focused",w)}),MA(w,y),w}(p,g,{label:k?l("Caption for image: %0",[k]):l("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),l=e.commands.get("imageTypeBlock"),d=g=>{if(!g.return)return;const{oldElement:p,newElement:k}=g.return;if(!p)return;if(t.isBlockImage(p)){const y=o.getCaptionFromImageModelElement(p);if(y)return void this._saveCaption(k,y)}const w=this._getSavedCaption(p);w&&this._saveCaption(k,w)};s&&this.listenTo(s,"execute",d,{priority:"low"}),l&&this.listenTo(l,"execute",d,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?at.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,o=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const l=t.document.differ.getChanges();for(const d of l){if(d.attributeKey!=="alt")continue;const g=d.range.start.nodeAfter;if(o.isBlockImage(g)){const p=s.getCaptionFromImageModelElement(g);if(!p)return;e.editing.reconvertItem(p)}}})}}class EO extends de{static get requires(){return[wC]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",l=>{const d=e.commands.get("toggleImageCaption"),g=new nt(l);return g.set({icon:Ve.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(d,"value","isEnabled"),g.bind("label").to(d,"value",p=>s(p?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const p=o.getCaptionFromModelSelection(e.model.document.selection);if(p){const k=e.editing.mapper.toViewElement(p);t.scrollToTheSelection(),t.change(w=>{w.addClass("image__caption_highlighted",k)})}e.editing.view.focus()}),g})}}var vC=r(2423),SO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(vC.Z,SO),vC.Z.locals;class DO extends Me(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((o,s)=>{t.onload=()=>{const l=t.result;this._data=l,o(l)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ys extends de{constructor(){super(...arguments),this.loaders=new Fi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[B_]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return U("filerepository-no-upload-adapter"),null;const t=new _C(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(o=>{this._loadersMap.set(o,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let o=0;for(const s of this.loaders)o+=s.uploaded;this.uploaded=o}),t.on("change:uploadTotal",()=>{let o=0;for(const s of this.loaders)s.uploadTotal&&(o+=s.uploadTotal);this.uploadTotal=o}),t}destroyLoader(e){const t=e instanceof _C?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((o,s)=>{o===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(B_);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,o=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class _C extends Me(){constructor(e,t){super(),this.id=B(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new DO,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,s)=>s?o/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new E("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new E("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((o,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(l=>{t.isFulfilled=!0,o(l)}).catch(l=>{t.isFulfilled=!0,s(l)})}),t}}class TO extends Pe{constructor(e){super(e),this.buttonView=new nt(e),this._fileInputView=new IO(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class IO extends Pe{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class MO{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const o=this.reader=new window.FileReader;o.addEventListener("load",()=>{e({default:o.result})}),o.addEventListener("error",s=>{t(s)}),o.addEventListener("abort",()=>{t()}),this.loader.file.then(s=>{o.readAsDataURL(s)})})}abort(){this.reader.abort()}}function yC(a){const e=a.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function NO(a){return new Promise((e,t)=>{const o=a.getAttribute("src");fetch(o).then(s=>s.blob()).then(s=>{const l=AC(s,o),d=l.replace("image/",""),g=new File([s],`image.${d}`,{type:l});e(g)}).catch(s=>s&&s.name==="TypeError"?function(l){return function(d){return new Promise((g,p)=>{const k=Ae.document.createElement("img");k.addEventListener("load",()=>{const w=Ae.document.createElement("canvas");w.width=k.width,w.height=k.height,w.getContext("2d").drawImage(k,0,0),w.toBlob(y=>y?g(y):p())}),k.addEventListener("error",()=>p()),k.src=d})}(l).then(d=>{const g=AC(d,l),p=g.replace("image/","");return new File([d],`image.${p}`,{type:g})})}(o).then(e).catch(t):t(s))})}function AC(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class OO extends de{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,o=s=>{const l=new TO(s),d=e.commands.get("uploadImage"),g=e.config.get("image.upload.types"),p=yC(g);return l.set({acceptedType:g.map(k=>`image/${k}`).join(","),allowMultipleFiles:!0}),l.buttonView.set({label:t("Insert image"),icon:Ve.image,tooltip:!0}),l.buttonView.bind("isEnabled").to(d),l.on("done",(k,w)=>{const y=Array.from(w).filter(C=>p.test(C.type));y.length&&(e.execute("uploadImage",{file:y}),e.editing.view.focus())}),l};e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o)}}var CC=r(2926),BO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(CC.Z,BO),CC.Z.locals;var xC=r(1547),PO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(xC.Z,PO),xC.Z.locals;var EC=r(6618),LO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(EC.Z,LO),EC.Z.locals;class zO extends de{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,o,s)=>{const l=this.editor,d=o.item,g=d.getAttribute("uploadId");if(!s.consumable.consume(o.item,t.name))return;const p=l.plugins.get("ImageUtils"),k=l.plugins.get(Ys),w=g?o.attributeNewValue:null,y=this.placeholder,C=l.editing.mapper.toViewElement(d),D=s.writer;if(w=="reading")return SC(C,D),void DC(p,y,C,D);if(w=="uploading"){const N=k.loaders.get(g);return SC(C,D),void(N?(TC(C,D),function(P,z,W,Q){const ce=function(xe){const He=xe.createUIElement("div",{class:"ck-progress-bar"});return xe.setCustomProperty("progressBar",!0,He),He}(z);z.insert(z.createPositionAt(P,"end"),ce),W.on("change:uploadedPercent",(xe,He,di)=>{Q.change(Vo=>{Vo.setStyle("width",di+"%",ce)})})}(C,D,N,l.editing.view),function(P,z,W,Q){if(Q.data){const ce=P.findViewImgElement(z);W.setAttribute("src",Q.data,ce)}}(p,C,D,N)):DC(p,y,C,D))}w=="complete"&&k.loaders.get(g)&&function(N,P,z){const W=P.createUIElement("div",{class:"ck-image-upload-complete-icon"});P.insert(P.createPositionAt(N,"end"),W),setTimeout(()=>{z.change(Q=>Q.remove(Q.createRangeOn(W)))},3e3)}(C,D,l.editing.view),function(N,P){MC(N,P,"progressBar")}(C,D),TC(C,D),function(N,P){P.removeClass("ck-appear",N)}(C,D)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function SC(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function DC(a,e,t,o){t.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",t);const s=a.findViewImgElement(t);s.getAttribute("src")!==e&&o.setAttribute("src",e,s),IC(t,"placeholder")||o.insert(o.createPositionAfter(s),function(l){const d=l.createUIElement("div",{class:"ck-upload-placeholder-loader"});return l.setCustomProperty("placeholder",!0,d),d}(o))}function TC(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),MC(a,e,"placeholder")}function IC(a,e){for(const t of a.getChildren())if(t.getCustomProperty(e))return t}function MC(a,e,t){const o=IC(a,t);o&&e.remove(e.createRangeOn(o))}class jO extends pt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(o)}execute(e){const t=gn(e.file),o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(o.getAttributes());t.forEach((d,g)=>{const p=o.getSelectedElement();if(g&&p&&s.isImage(p)){const k=this.editor.model.createPositionAfter(p);this._uploadImage(d,l,k)}else this._uploadImage(d,l)})}_uploadImage(e,t,o){const s=this.editor,l=s.plugins.get(Ys).createLoader(e),d=s.plugins.get("ImageUtils");l&&d.insertImage({...t,uploadId:l.id},o)}}class RO extends de{static get requires(){return[Ys,$y,Ro,li]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,o=e.conversion,s=e.plugins.get(Ys),l=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),g=yC(e.config.get("image.upload.types")),p=new jO(e);e.commands.add("uploadImage",p),e.commands.add("imageUpload",p),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,w)=>{if(y=w.dataTransfer,Array.from(y.types).includes("text/html")&&y.getData("text/html")!=="")return;var y;const C=Array.from(w.dataTransfer.files).filter(D=>!!D&&g.test(D.type));C.length&&(k.stop(),e.model.change(D=>{w.targetRanges&&D.setSelection(w.targetRanges.map(N=>e.editing.mapper.toModelRange(N))),e.execute("uploadImage",{file:C})}))}),this.listenTo(d,"inputTransformation",(k,w)=>{const y=Array.from(e.editing.view.createRangeIn(w.content)).map(D=>D.item).filter(D=>function(N,P){return!(!N.isInlineImageView(P)||!P.getAttribute("src")||!P.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!P.getAttribute("src").match(/^blob:/g))}(l,D)&&!D.getAttribute("uploadProcessed")).map(D=>({promise:NO(D),imageElement:D}));if(!y.length)return;const C=new qs(e.editing.view.document);for(const D of y){C.setAttribute("uploadProcessed",!0,D.imageElement);const N=s.createLoader(D.promise);N&&(C.setAttribute("src","",D.imageElement),C.setAttribute("uploadId",N.id,D.imageElement))}}),e.editing.view.document.on("dragover",(k,w)=>{w.preventDefault()}),t.on("change",()=>{const k=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const y of k)if(y.type=="insert"&&y.name!="$text"){const C=y.position.nodeAfter,D=y.position.root.rootName=="$graveyard";for(const N of FO(e,C)){const P=N.getAttribute("uploadId");if(!P)continue;const z=s.loaders.get(P);z&&(D?w.has(P)||z.abort():(w.add(P),this._uploadImageElements.set(P,N),z.status=="idle"&&this._readAndUpload(z)))}}}),this.on("uploadComplete",(k,{imageElement:w,data:y})=>{const C=y.urls?y.urls:y;this.editor.model.change(D=>{D.setAttribute("src",C.default,w),this._parseAndSetSrcsetAttributeOnImage(C,w,D),l.setImageNaturalSizeAttributes(w)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,o=t.model,s=t.locale.t,l=t.plugins.get(Ys),d=t.plugins.get($y),g=t.plugins.get("ImageUtils"),p=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},w=>{w.setAttribute("uploadStatus","reading",p.get(e.id))}),e.read().then(()=>{const w=e.upload(),y=p.get(e.id);if(f.isSafari){const C=t.editing.mapper.toViewElement(y),D=g.findViewImgElement(C);t.editing.view.once("render",()=>{if(!D.parent)return;const N=t.editing.view.domConverter.mapViewToDom(D.parent);if(!N)return;const P=N.style.display;N.style.display="none",N._ckHack=N.offsetHeight,N.style.display=P})}return o.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","uploading",y)}),w}).then(w=>{o.enqueueChange({isUndoable:!1},y=>{const C=p.get(e.id);y.setAttribute("uploadStatus","complete",C),this.fire("uploadComplete",{data:w,imageElement:C})}),k()}).catch(w=>{if(e.status!=="error"&&e.status!=="aborted")throw w;e.status=="error"&&w&&d.showWarning(w,{title:s("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},y=>{y.remove(p.get(e.id))}),k()});function k(){o.enqueueChange({isUndoable:!1},w=>{const y=p.get(e.id);w.removeAttribute("uploadId",y),w.removeAttribute("uploadStatus",y),p.delete(e.id)}),l.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,o){let s=0;const l=Object.keys(e).filter(d=>{const g=parseInt(d,10);if(!isNaN(g))return s=Math.max(s,g),!0}).map(d=>`${e[d]} ${d}w`).join(", ");if(l!=""){const d={srcset:l};t.hasAttribute("width")||t.hasAttribute("height")||(d.width=s),o.setAttributes(d,t)}}}function FO(a,e){const t=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(o=>t.isImage(o.item)).map(o=>o.item)}class NC extends de{static get pluginName(){return"ImageUpload"}static get requires(){return[RO,OO,zO]}}var OC=r(8340),VO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(OC.Z,VO),OC.Z.locals;class UO extends Pe{constructor(e,t={}){super(e);const o=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",o.to("class")],role:o.to("_role"),"aria-labelledby":o.to("_ariaLabelledBy")},children:this.children})}}var BC=r(8879),HO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(BC.Z,HO),BC.Z.locals;class $O extends Pe{constructor(e,t={}){super(e);const{insertButtonView:o,cancelButtonView:s}=this._createActionButtons(e);this.insertButtonView=o,this.cancelButtonView=s,this.set("imageURLInputValue",""),this.focusTracker=new ri,this.keystrokes=new co,this._focusables=new Lo,this._focusCycler=new dr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new Fi);for(const[l,d]of Object.entries(t))l==="insertImageViaUrl"&&(d.fieldView.bind("value").to(this,"imageURLInputValue",g=>g||""),d.fieldView.on("input",()=>{this.imageURLInputValue=d.fieldView.element.value.trim()})),d.name=l,this._integrations.add(d);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new UO(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),Ah({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(e){return this._integrations.find(t=>t.name===e)}_createActionButtons(e){const t=e.t,o=new nt(e),s=new nt(e);return o.set({label:t("Insert"),icon:Ve.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),s.set({label:t("Cancel"),icon:Ve.cancel,class:"ck-button-cancel",withText:!0}),o.bind("isEnabled").to(this,"imageURLInputValue",l=>!!l),o.delegate("execute").to(this,"submit"),s.delegate("execute").to(this,"cancel"),{insertButtonView:o,cancelButtonView:s}}focus(){this._focusCycler.focusFirst()}}function WO(a){const e=a.t,t=new Jl(a,Xl);return t.set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t}class PC extends de{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=o=>this._createDropdownView(o);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,o=e.t,s=t.commands.get("uploadImage"),l=t.commands.get("insertImage");this.dropdownView=$r(e,s?gm:void 0);const d=this.dropdownView.buttonView,g=this.dropdownView.panelView;if(d.set({label:o("Insert image"),icon:Ve.image,tooltip:!0}),g.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),s){const p=this.dropdownView.buttonView;p.actionView=t.ui.componentFactory.create("uploadImage"),p.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(s||l)}_setUpDropdown(e){const t=this.editor,o=t.t,s=this.dropdownView,l=s.panelView,d=this.editor.plugins.get("ImageUtils"),g=t.commands.get("replaceImageSource");let p;function k(){t.editing.view.focus(),s.isOpen=!1}return s.bind("isEnabled").to(e),s.once("change:isOpen",()=>{p=new $O(t.locale,function(w){const y=w.config.get("image.insert.integrations"),C=w.plugins.get("ImageInsertUI"),D={insertImageViaUrl:WO(w.locale)};if(!y)return D;if(y.find(N=>N==="openCKFinder")&&w.ui.componentFactory.has("ckfinder")){const N=w.ui.componentFactory.create("ckfinder");N.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),N.delegate("execute").to(C,"cancel"),D.openCKFinder=N}return y.reduce((N,P)=>(D[P]?N[P]=D[P]:w.ui.componentFactory.has(P)&&(N[P]=w.ui.componentFactory.create(P)),N),{})}(t)),p.delegate("submit","cancel").to(s),l.children.add(p)}),s.on("change:isOpen",()=>{const w=t.model.document.selection.getSelectedElement(),y=p.insertButtonView,C=p.getIntegration("insertImageViaUrl");s.isOpen&&(d.isImage(w)?(p.imageURLInputValue=g.value,y.label=o("Update"),C.label=o("Update image URL")):(p.imageURLInputValue="",y.label=o("Insert"),C.label=o("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",()=>{k(),function(){const w=t.model.document.selection.getSelectedElement();d.isImage(w)?t.execute("replaceImageSource",{source:p.imageURLInputValue}):t.execute("insertImage",{source:p.imageURLInputValue})}()}),s.on("cancel",()=>{k()}),s}}class qO extends de{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[PC]}}class GO extends pt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("resizedWidth")?this.value={width:t.getAttribute("resizedWidth"),height:null}:this.value=null}execute(e){const t=this.editor,o=t.model,s=t.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(o.document.selection);this.value={width:e.width,height:null},l&&o.change(d=>{d.setAttribute("resizedWidth",e.width,l),d.removeAttribute("resizedHeight",l),s.setImageNaturalSizeAttributes(l)})}}class LC extends de{static get requires(){return[li]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new GO(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,o=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${e}`,(l,d,g)=>{if(!g.consumable.consume(d.item,l.name))return;const p=g.writer,k=g.mapper.toViewElement(d.item);d.attributeNewValue!==null?(p.setStyle("width",d.attributeNewValue,k),p.addClass("image_resized",k)):(p.removeStyle("width",k),p.removeClass("image_resized",k))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),t.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${e}`,(l,d,g)=>{if(!g.consumable.consume(d.item,l.name))return;const p=g.writer,k=g.mapper.toViewElement(d.item),w=e==="imageInline"?o.findViewImgElement(k):k;d.attributeNewValue!==null?p.setStyle("height",d.attributeNewValue,w):p.removeStyle("height",w)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>$h(s)?null:s.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>$h(s)?null:s.getStyle("height")}})}}const Rm={small:Ve.objectSizeSmall,medium:Ve.objectSizeMedium,large:Ve.objectSizeLarge,original:Ve.objectSizeFull};class YO extends de{static get requires(){return[LC]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),o=e.commands.get("resizeImage");this.bind("isEnabled").to(o);for(const s of t)this._registerImageResizeButton(s);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:o,value:s,icon:l}=e,d=s?s+this._resizeUnit:null;t.ui.componentFactory.add(o,g=>{const p=new nt(g),k=t.commands.get("resizeImage"),w=this._getOptionLabelValue(e,!0);if(!Rm[l])throw new E("imageresizebuttons-missing-icon",t,e);return p.set({label:w,icon:Rm[l],tooltip:w,isToggleable:!0}),p.bind("isEnabled").to(this),p.bind("isOn").to(k,"value",zC(d)),this.listenTo(p,"execute",()=>{t.execute("resizeImage",{width:d})}),p})}_registerImageResizeDropdown(e){const t=this.editor,o=t.t,s=e.find(d=>!d.value),l=d=>{const g=t.commands.get("resizeImage"),p=$r(d,sy),k=p.buttonView,w=o("Resize image");return k.set({tooltip:w,commandValue:s.value,icon:Rm.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:w,ariaLabelledBy:void 0}),k.bind("label").to(g,"value",y=>y&&y.width?y.width:this._getOptionLabelValue(s)),p.bind("isEnabled").to(this),by(p,()=>this._getResizeDropdownListItemDefinitions(e,g),{ariaLabel:o("Image resize list"),role:"menu"}),this.listenTo(p,"execute",y=>{t.execute(y.source.commandName,{width:y.source.commandValue}),t.editing.view.focus()}),p};t.ui.componentFactory.add("resizeImage",l),t.ui.componentFactory.add("imageResize",l)}_getOptionLabelValue(e,t=!1){const o=this.editor.t;return e.label?e.label:t?e.value?o("Resize image to %0",e.value+this._resizeUnit):o("Resize image to the original size"):e.value?e.value+this._resizeUnit:o("Original")}_getResizeDropdownListItemDefinitions(e,t){const o=new Fi;return e.map(s=>{const l=s.value?s.value+this._resizeUnit:null,d={type:"button",model:new Wy({commandName:"resizeImage",commandValue:l,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};d.model.bind("isOn").to(t,"value",zC(l)),o.add(d)}),o}}function zC(a){return e=>a===null&&e===a||e!==null&&e.width===a}const Fm="image_resized";class KO extends de{static get requires(){return[Bm,li]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageUtils");t.addObserver(fC),this.listenTo(t.document,"imageLoaded",(s,l)=>{if(!l.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const d=e.editing.view.domConverter,g=d.domToView(l.target),p=o.getImageWidgetFromImageView(g);let k=this.editor.plugins.get(Bm).getResizerByViewElement(p);if(k)return void k.redraw();const w=e.editing.mapper,y=w.toModelElement(p);k=e.plugins.get(Bm).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:y,viewElement:p,editor:e,getHandleHost:C=>C.querySelector("img"),getResizeHost:()=>d.mapViewToDom(w.toViewElement(y.parent)),isCentered(){const C=y.getAttribute("imageStyle");return!C||C=="block"||C=="alignCenter"},onCommit(C){t.change(D=>{D.removeClass(Fm,p)}),e.execute("resizeImage",{width:C})}}),k.on("updateSize",()=>{p.hasClass(Fm)||t.change(D=>{D.addClass(Fm,p)});const C=y.name==="imageInline"?g:p;C.getStyle("height")&&t.change(D=>{D.removeStyle("height",C)})}),k.bind("isEnabled").to(this)})}}var jC=r(2400),ZO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(jC.Z,ZO),jC.Z.locals;class QO extends pt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(o=>{if(o.isDefault)for(const s of o.modelElements)this._defaultStyles[s]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,o=t.model,s=t.plugins.get("ImageUtils");o.change(l=>{const d=e.value,{setImageSizes:g=!0}=e;let p=s.getClosestSelectedImageElement(o.document.selection);d&&this.shouldConvertImageType(d,p)&&(this.editor.execute(s.isBlockImage(p)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),p=s.getClosestSelectedImageElement(o.document.selection)),!d||this._styles.get(d).isDefault?l.removeAttribute("imageStyle",p):l.setAttribute("imageStyle",d,p),g&&s.setImageNaturalSizeAttributes(p)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:JO,objectInline:RC,objectLeft:FC,objectRight:Vm,objectCenter:Um,objectBlockLeft:VC,objectBlockRight:UC}=Ve,qh={get inline(){return{name:"inline",title:"In line",icon:RC,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:FC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:VC,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Um,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Vm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:UC,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Um,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Vm,modelElements:["imageBlock"],className:"image-style-side"}}},HC={full:JO,left:VC,right:UC,center:Um,inlineLeft:FC,inlineRight:Vm,inline:RC},$C=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function WC(a){U("image-style-configuration-definition-invalid",a)}const Hm={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?qh[t]?{...qh[t]}:{name:t}:function(o,s){const l={...s};for(const d in o)Object.prototype.hasOwnProperty.call(s,d)||(l[d]=o[d]);return l}(qh[t.name],t),typeof t.icon=="string"&&(t.icon=HC[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:o,isInlinePluginLoaded:s}){const{modelElements:l,name:d}=t;if(!(l&&l.length&&d))return WC({style:t}),!1;{const g=[o?"imageBlock":null,s?"imageInline":null];if(!l.some(p=>g.includes(p)))return U("image-style-missing-dependency",{style:t,missingPlugins:l.map(p=>p==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...$C]:[]},warnInvalidStyle:WC,DEFAULT_OPTIONS:qh,DEFAULT_ICONS:HC,DEFAULT_DROPDOWN_DEFINITIONS:$C};function qC(a,e){for(const t of e)if(t.name===a)return t}class GC extends de{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[li]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Hm,o=this.editor,s=o.plugins.has("ImageBlockEditing"),l=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",t(s,l)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:l}),this._setupConversion(s,l),this._setupPostFixer(),o.commands.add("imageStyle",new QO(o,this.normalizedStyles))}_setupConversion(e,t){const o=this.editor,s=o.model.schema,l=(d=this.normalizedStyles,(p,k,w)=>{if(!w.consumable.consume(k.item,p.name))return;const y=qC(k.attributeNewValue,d),C=qC(k.attributeOldValue,d),D=w.mapper.toViewElement(k.item),N=w.writer;C&&N.removeClass(C.className,D),y&&N.addClass(y.className,D)});var d;const g=function(p){const k={imageInline:p.filter(w=>!w.isDefault&&w.modelElements.includes("imageInline")),imageBlock:p.filter(w=>!w.isDefault&&w.modelElements.includes("imageBlock"))};return(w,y,C)=>{if(!y.modelRange)return;const D=y.viewItem,N=pn(y.modelRange.getItems());if(N&&C.schema.checkAttribute(N,"imageStyle"))for(const P of k[N.name])C.consumable.consume(D,{classes:P.className})&&C.writer.setAttribute("imageStyle",P.name,N)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",l),o.data.downcastDispatcher.on("attribute:imageStyle",l),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,o=e.plugins.get(li),s=new Map(this.normalizedStyles.map(l=>[l.name,l]));t.registerPostFixer(l=>{let d=!1;for(const g of t.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let p=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(p&&p.is("element","paragraph")&&p.childCount>0&&(p=p.getChild(0)),!o.isImage(p))continue;const k=p.getAttribute("imageStyle");if(!k)continue;const w=s.get(k);w&&w.modelElements.includes(p.name)||(l.removeAttribute("imageStyle",p),d=!0)}return d})}}var YC=r(3534),XO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(YC.Z,XO),YC.Z.locals;class eB extends de{static get requires(){return[GC]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],o=KC(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const l of o)this._createButton(l);const s=KC([...t.filter(me),...Hm.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const l of s)this._createDropdown(l,o)}_createDropdown(e,t){const o=this.editor.ui.componentFactory;o.add(e.name,s=>{let l;const{defaultItem:d,items:g,title:p}=e,k=g.filter(D=>t.find(({name:N})=>ZC(N)===D)).map(D=>{const N=o.create(D);return D===d&&(l=N),N});g.length!==k.length&&Hm.warnInvalidStyle({dropdown:e});const w=$r(s,gm),y=w.buttonView,C=y.arrowView;return Sh(w,k,{enableActiveItemFocusOnDropdownOpen:!0}),y.set({label:QC(p,l.label),class:null,tooltip:!0}),C.unbind("label"),C.set({label:p}),y.bind("icon").toMany(k,"isOn",(...D)=>{const N=D.findIndex(zs);return N<0?l.icon:k[N].icon}),y.bind("label").toMany(k,"isOn",(...D)=>{const N=D.findIndex(zs);return QC(p,N<0?l.label:k[N].label)}),y.bind("isOn").toMany(k,"isOn",(...D)=>D.some(zs)),y.bind("class").toMany(k,"isOn",(...D)=>D.some(zs)?"ck-splitbutton_flatten":void 0),y.on("execute",()=>{k.some(({isOn:D})=>D)?w.isOpen=!w.isOpen:l.fire("execute")}),w.bind("isEnabled").toMany(k,"isEnabled",(...D)=>D.some(zs)),this.listenTo(w,"execute",()=>{this.editor.editing.view.focus()}),w})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(ZC(t),o=>{const s=this.editor.commands.get("imageStyle"),l=new nt(o);return l.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(s,"isEnabled"),l.bind("isOn").to(s,"value",d=>d===t),l.on("execute",this._executeCommand.bind(this,t)),l})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function KC(a,e){for(const t of a)e[t.title]&&(t.title=e[t.title]);return a}function ZC(a){return`imageStyle:${a}`}function QC(a,e){return(a?a+": ":"")+e}class tB extends de{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Hw(e)),e.commands.add("outdent",new Hw(e))}}const JC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',XC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class nB extends de{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,o=e.t,s=t.uiLanguageDirection=="ltr"?JC:XC,l=t.uiLanguageDirection=="ltr"?XC:JC;this._defineButton("indent",o("Increase indent"),s),this._defineButton("outdent",o("Decrease indent"),l)}_defineButton(e,t,o){const s=this.editor;s.ui.componentFactory.add(e,l=>{const d=s.commands.get(e),g=new nt(l);return g.set({label:t,icon:o,tooltip:!0}),g.bind("isEnabled").to(d,"isEnabled"),this.listenTo(g,"execute",()=>{s.execute(e),s.editing.view.focus()}),g})}}class iB{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,o,s)=>{if(!s.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!s.schema.isInline(o.item))return;const l=s.writer,d=l.document.selection;for(const g of this._definitions){const p=l.createAttributeElement("a",g.attributes,{priority:5});g.classes&&l.addClass(g.classes,p);for(const k in g.styles)l.setStyle(k,g.styles[k],p);l.setCustomProperty("link",!0,p),g.callback(o.attributeNewValue)?o.item.is("selection")?l.wrap(d.getFirstRange(),p):l.wrap(s.mapper.toViewRange(o.range),p):l.unwrap(s.mapper.toViewRange(o.range),p)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,o,{writer:s,mapper:l})=>{const d=l.toViewElement(o.item),g=Array.from(d.getChildren()).find(p=>p.is("element","a"));for(const p of this._definitions){const k=Mo(p.attributes);if(p.callback(o.attributeNewValue)){for(const[w,y]of k)w==="class"?s.addClass(y,g):s.setAttribute(w,y,g);p.classes&&s.addClass(p.classes,g);for(const w in p.styles)s.setStyle(w,p.styles[w],g)}else{for(const[w,y]of k)w==="class"?s.removeClass(y,g):s.removeAttribute(w,g);p.classes&&s.removeClass(p.classes,g);for(const w in p.styles)s.removeStyle(w,g)}}})}}}const oB=function(a,e,t){var o=a.length;return t=t===void 0?o:t,!e&&t>=o?a:nv(a,e,t)};var rB=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const e1=function(a){return rB.test(a)},sB=function(a){return a.split("")};var t1="\\ud800-\\udfff",aB="["+t1+"]",$m="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wm="\\ud83c[\\udffb-\\udfff]",n1="[^"+t1+"]",i1="(?:\\ud83c[\\udde6-\\uddff]){2}",o1="[\\ud800-\\udbff][\\udc00-\\udfff]",r1="(?:"+$m+"|"+Wm+")?",s1="[\\ufe0e\\ufe0f]?",cB=s1+r1+("(?:\\u200d(?:"+[n1,i1,o1].join("|")+")"+s1+r1+")*"),lB="(?:"+[n1+$m+"?",$m,i1,o1,aB].join("|")+")",dB=RegExp(Wm+"(?="+Wm+")|"+lB+cB,"g");const uB=function(a){return a.match(dB)||[]},hB=function(a){return e1(a)?uB(a):sB(a)},fB=function(a){return function(e){e=Ip(e);var t=e1(e)?hB(e):void 0,o=t?t[0]:e.charAt(0),s=t?oB(t,1).join(""):e.slice(1);return o[a]()+s}}("toUpperCase"),gB=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pB=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,mB=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,kB=/^((\w+:(\/{2,})?)|(\W))/i,Gh="Ctrl+K";function a1(a,{writer:e}){const t=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,t),t}function c1(a){const e=String(a);return function(t){return!!t.replace(gB,"").match(pB)}(e)?e:"#"}function qm(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function Gm(a,e){const t=(o=a,mB.test(o)?"mailto:":e);var o;const s=!!t&&!l1(a);return a&&s?t+a:a}function l1(a){return kB.test(a)}function d1(a){window.open(a,"_blank","noopener")}class bB extends pt{constructor(){super(...arguments),this.manualDecorators=new Fi,this.automaticDecorators=new iB}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement()||pn(t.getSelectedBlocks());qm(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const o=this.editor.model,s=o.document.selection,l=[],d=[];for(const g in t)t[g]?l.push(g):d.push(g);o.change(g=>{if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const k=u1(s);let w=ec(p,"linkHref",s.getAttribute("linkHref"),o);s.getAttribute("linkHref")===k&&(w=this._updateLinkContent(o,g,w,e)),g.setAttribute("linkHref",e,w),l.forEach(y=>{g.setAttribute(y,!0,w)}),d.forEach(y=>{g.removeAttribute(y,w)}),g.setSelection(g.createPositionAfter(w.end.nodeBefore))}else if(e!==""){const k=Mo(s.getAttributes());k.set("linkHref",e),l.forEach(y=>{k.set(y,!0)});const{end:w}=o.insertContent(g.createText(e,k),p);g.setSelection(w)}["linkHref",...l,...d].forEach(k=>{g.removeSelectionAttribute(k)})}else{const p=o.schema.getValidRanges(s.getRanges(),"linkHref"),k=[];for(const y of s.getSelectedBlocks())o.schema.checkAttribute(y,"linkHref")&&k.push(g.createRangeOn(y));const w=k.slice();for(const y of p)this._isRangeToUpdate(y,k)&&w.push(y);for(const y of w){let C=y;if(w.length===1){const D=u1(s);s.getAttribute("linkHref")===D&&(C=this._updateLinkContent(o,g,y,e),g.setSelection(g.createSelection(C)))}g.setAttribute("linkHref",e,C),l.forEach(D=>{g.setAttribute(D,!0,C)}),d.forEach(D=>{g.removeAttribute(D,C)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,o=t.document.selection,s=o.getSelectedElement();return qm(s,t.schema)?s.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,t){for(const o of t)if(o.containsRange(e))return!1;return!0}_updateLinkContent(e,t,o,s){const l=t.createText(s,{linkHref:s});return e.insertContent(l,o)}}function u1(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class wB extends pt{refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement();qm(o,e.schema)?this.isEnabled=e.schema.checkAttribute(o,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,o=t.document.selection,s=e.commands.get("link");t.change(l=>{const d=o.isCollapsed?[ec(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),t)]:t.schema.getValidRanges(o.getRanges(),"linkHref");for(const g of d)if(l.removeAttribute("linkHref",g),s)for(const p of s.manualDecorators)l.removeAttribute(p.id,g)})}}class vB extends Me(){constructor({id:e,label:t,attributes:o,classes:s,styles:l,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=t,this.attributes=o,this.classes=s,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var h1=r(3925),_B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(h1.Z,_B),h1.Z.locals;const f1="automatic",yB=/^(https?:)?\/\//;class Ym extends de{static get pluginName(){return"LinkEditing"}static get requires(){return[gA,aA,Ro]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:a1}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,s)=>a1(c1(o),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new bB(e)),e.commands.add("unlink",new wB(e));const t=function(o,s){const l={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return s.forEach(d=>("label"in d&&l[d.label]&&(d.label=l[d.label]),d)),s}(e.t,function(o){const s=[];if(o)for(const[l,d]of Object.entries(o)){const g=Object.assign({},d,{id:`link${fB(l)}`});s.push(g)}return s}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(o=>o.mode===f1)),this._enableManualDecorators(t.filter(o=>o.mode==="manual")),e.plugins.get(gA).registerAttribute("linkHref"),function(o,s,l,d){const g=o.editing.view,p=new Set;g.document.registerPostFixer(k=>{const w=o.model.document.selection;let y=!1;if(w.hasAttribute(s)){const C=ec(w.getFirstPosition(),s,w.getAttribute(s),o.model),D=o.editing.mapper.toViewRange(C);for(const N of D.getItems())N.is("element",l)&&!N.hasClass(d)&&(k.addClass(d,N),p.add(N),y=!0)}return y}),o.conversion.for("editingDowncast").add(k=>{function w(){g.change(y=>{for(const C of p.values())y.removeClass(d,C),p.delete(C)})}k.on("insert",w,{priority:"highest"}),k.on("remove",w,{priority:"highest"}),k.on("attribute",w,{priority:"highest"}),k.on("selection",w,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,o=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:f1,callback:s=>!!s&&yB.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&t.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,o=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const l=new vB(s);o.add(l),t.conversion.for("downcast").attributeToElement({model:l.id,view:(d,{writer:g,schema:p},{item:k})=>{if((k.is("selection")||p.isInline(k))&&d){const w=g.createAttributeElement("a",l.attributes,{priority:5});l.classes&&g.addClass(l.classes,w);for(const y in l.styles)g.setStyle(y,l.styles[y],w);return g.setCustomProperty("link",!0,w),w}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...l._createPattern()},model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(o,s)=>{if(!(f.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let l=s.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const d=l.getAttribute("href");d&&(o.stop(),s.preventDefault(),d1(d))},{context:"$capture"}),this.listenTo(t,"keydown",(o,s)=>{const l=e.commands.get("link").value;l&&s.keyCode===qe.enter&&s.altKey&&(o.stop(),d1(l))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=t.anchor.nodeBefore,s=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||e.change(l=>{Km(l,Zm(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(_h);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!o)return;o=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const l=s.getFirstPosition(),d=ec(l,"linkHref",s.getAttribute("linkHref"),t);(l.isTouching(d.start)||l.isTouching(d.end))&&t.change(g=>{Km(g,Zm(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let o=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const l=e.model.document.selection;l.isCollapsed||(s?s=!1:g1(e)&&function(d){const g=d.document.selection,p=g.getFirstPosition(),k=g.getLastPosition(),w=p.nodeAfter;if(!w||!w.is("$text")||!w.hasAttribute("linkHref"))return!1;const y=k.textNode||k.nodeBefore;return w===y?!0:ec(p,"linkHref",w.getAttribute("linkHref"),d).containsRange(d.createRange(p,k),!0)}(e.model)&&(o=l.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(l,[d])=>{s=!1,g1(e)&&o&&(e.model.change(g=>{for(const[p,k]of o)g.setAttribute(p,k,d)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,o=t.document.selection,s=e.editing.view;let l=!1,d=!1;this.listenTo(s.document,"delete",(g,p)=>{d=p.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{l=!1;const g=o.getFirstPosition(),p=o.getAttribute("linkHref");if(!p)return;const k=ec(g,"linkHref",p,t);l=k.containsPosition(g)||k.end.isEqual(g)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d&&(d=!1,l||e.model.enqueueChange(g=>{Km(g,Zm(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,o=this.editor.config.get("link.defaultProtocol");o&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,l)=>{t.change(d=>{const g=d.createRangeIn(l.content);for(const p of g.getItems())if(p.hasAttribute("linkHref")){const k=Gm(p.getAttribute("linkHref"),o);d.setAttribute("linkHref",k,p)}})})}}function Km(a,e){a.removeSelectionAttribute("linkHref");for(const t of e)a.removeSelectionAttribute(t)}function g1(a){return a.model.change(e=>e.batch).isTyping}function Zm(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var p1=r(4874),AB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(p1.Z,AB),p1.Z.locals;class CB extends Pe{constructor(e,t){super(e),this.focusTracker=new ri,this.keystrokes=new co,this._focusables=new Lo;const o=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new dr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Ah({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Jl(this.locale,Xl);return t.label=e("Link URL"),t}_createButton(e,t,o,s){const l=new nt(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const o of e.manualDecorators){const s=new um(this.locale);s.set({name:o.id,label:o.label,withText:!0}),s.bind("isOn").toMany([o,e],"value",(l,d)=>d===void 0&&l===void 0?!!o.defaultValue:!!l),s.on("execute",()=>{o.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const o=new Pe;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(o)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var m1=r(7536),xB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(m1.Z,xB),m1.Z.locals;class EB extends Pe{constructor(e){super(e),this.focusTracker=new ri,this.keystrokes=new co,this._focusables=new Lo;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Ve.pencil,"edit"),this.set("href",void 0),this._focusCycler=new dr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,o){const s=new nt(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,o),s}_createPreviewButton(){const e=new nt(this.locale),t=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&c1(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||o("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const k1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Fo="link-ui";class b1 extends de{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Mh]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(_M),this._balloon=e.plugins.get(Mh),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Fo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Fo,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new EB(e.locale),o=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(o,"value"),t.editButtonView.bind("isEnabled").to(o),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(l,d)=>{this._hideUI(),d()}),t.keystrokes.set(Gh,(l,d)=>{this._addFormView(),d()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),s=new(cm(CB))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:l}=s.urlInputView.fieldView.element,d=Gm(l,o);e.execute("link",d,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(l,d)=>{this._closeFormView(),d()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),o=e.t;e.ui.componentFactory.add("link",s=>{const l=new nt(s);return l.isEnabled=!0,l.label=o("Link"),l.icon=k1,l.keystroke=Gh,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(t,"isEnabled"),l.bind("isOn").to(t,"value",d=>!!d),this.listenTo(l,"execute",()=>this._showUI(!0)),l})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Gh,(o,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),am({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let o=this._getSelectedLinkElement(),s=d();const l=()=>{const g=this._getSelectedLinkElement(),p=d();o&&!g||!o&&p!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=g,s=p};function d(){return t.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(e.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,o=e.document;let s;if(t.markers.has(Fo)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(Fo)),d=e.createRange(e.createPositionBefore(l[0]),e.createPositionAfter(l[l.length-1]));s=e.domConverter.viewRangeToDom(d)}else s=()=>{const l=this._getSelectedLinkElement();return l?e.domConverter.mapViewToDom(l):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,o=t.getSelectedElement();if(t.isCollapsed||o&&bn(o))return Qm(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),l=Qm(s.start),d=Qm(s.end);return l&&l==d&&e.createRangeIn(l).getTrimmed().isEqual(s)?l:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const o=e.document.selection.getFirstRange();if(e.markers.has(Fo))t.updateMarker(Fo,{range:o});else if(o.start.isAtEnd){const s=o.start.getLastMatchingPosition(({item:l})=>!e.schema.isContent(l),{boundaries:o});t.addMarker(Fo,{usingOperation:!1,affectsData:!1,range:t.createRange(s,o.end)})}else t.addMarker(Fo,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Fo)&&e.change(t=>{t.removeMarker(Fo)})}}function Qm(a){return a.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const SB=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class w1 extends de{static get requires(){return[jo]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new fA(e.model,o=>{if(!function(l){return l.length>4&&l[l.length-1]===" "&&l[l.length-2]!==" "}(o))return;const s=v1(o.substr(0,o.length-1));return s?{url:s}:void 0});t.on("matched:data",(o,s)=>{const{batch:l,range:d,url:g}=s;if(!l.isTyping)return;const p=d.end.getShiftedBy(-1),k=p.getShiftedBy(-g.length),w=e.model.createRange(k,p);this._applyAutoLink(g,w)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const l=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const s=t.document.selection.getFirstPosition(),l=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:o,range:s}=hA(e,t),l=v1(o);if(l){const d=t.createRange(s.end.getShiftedBy(-l.length),s.end);this._applyAutoLink(l,d)}}_applyAutoLink(e,t){const o=this.editor.model,s=Gm(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(l,d){return d.schema.checkAttributeInSelection(d.createSelection(l),"linkHref")}(t,o)&&l1(s)&&!function(l){const d=l.start.nodeAfter;return!!d&&d.hasAttribute("linkHref")}(t)&&this._persistAutoLink(s,t)}_persistAutoLink(e,t){const o=this.editor.model,s=this.editor.plugins.get("Delete");o.enqueueChange(l=>{l.setAttribute("linkHref",e,t),o.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function v1(a){const e=SB.exec(a);return e?e[2]:null}class DB extends de{static get requires(){return["ImageEditing","ImageUtils",Ym]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(o){const s=o.plugins.has("ImageInlineEditing"),l=o.plugins.get("ImageUtils");return d=>{d.on("element:a",(g,p,k)=>{const w=p.viewItem,y=l.findViewImgElement(w);if(!y)return;const C=y.findAncestor(z=>l.isBlockImageView(z));if(s&&!C)return;const D={attributes:["href"]};if(!k.consumable.consume(w,D))return;const N=w.getAttribute("href");if(!N)return;let P=p.modelCursor.parent;if(!P.is("element","imageBlock")){const z=k.convertItem(y,p.modelCursor);p.modelRange=z.modelRange,p.modelCursor=z.modelCursor,P=p.modelCursor.nodeBefore}P&&P.is("element","imageBlock")&&k.writer.setAttribute("linkHref",N,P)},{priority:"high"})}}(e)),e.conversion.for("downcast").add(function(o){const s=o.plugins.get("ImageUtils");return l=>{l.on("attribute:linkHref:imageBlock",(d,g,p)=>{if(!p.consumable.consume(g.item,d.name))return;const k=p.mapper.toViewElement(g.item),w=p.writer,y=Array.from(k.getChildren()).find(N=>N.is("element","a")),C=s.findViewImgElement(k),D=C.parent.is("element","picture")?C.parent:C;if(y)g.attributeNewValue?w.setAttribute("href",g.attributeNewValue,y):(w.move(w.createRangeOn(D),w.createPositionAt(k,0)),w.remove(y));else{const N=w.createContainerElement("a",{href:g.attributeNewValue});w.insert(w.createPositionAt(k,0),N),w.move(w.createRangeOn(D),w.createPositionAt(N,0))}},{priority:"high"})}}(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const o of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:o.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:o.id}),e.conversion.for("downcast").add(TB(o)),e.conversion.for("upcast").add(IB(e,o))}}function TB(a){return e=>{e.on(`attribute:${a.id}:imageBlock`,(t,o,s)=>{const l=s.mapper.toViewElement(o.item),d=Array.from(l.getChildren()).find(g=>g.is("element","a"));if(d){for(const[g,p]of Mo(a.attributes))s.writer.setAttribute(g,p,d);a.classes&&s.writer.addClass(a.classes,d);for(const g in a.styles)s.writer.setStyle(g,a.styles[g],d)}})}}function IB(a,e){const t=a.plugins.has("ImageInlineEditing"),o=a.plugins.get("ImageUtils");return s=>{s.on("element:a",(l,d,g)=>{const p=d.viewItem,k=o.findViewImgElement(p);if(!k)return;const w=k.findAncestor(D=>o.isBlockImageView(D));if(t&&!w)return;const y=new Vi(e._createPattern()).match(p);if(!y||!g.consumable.consume(p,y.match))return;const C=d.modelCursor.nodeBefore||d.modelCursor.parent;g.writer.setAttribute(e.id,!0,C)},{priority:"high"})}}class MB extends de{static get requires(){return[Ym,b1,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(o,s)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(s.preventDefault(),o.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",o=>{const s=new nt(o),l=e.plugins.get("LinkUI"),d=e.commands.get("link");return s.set({isEnabled:!0,label:t("Link image"),icon:k1,keystroke:Gh,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(d,"isEnabled"),s.bind("isOn").to(d,"value",g=>!!g),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?l._addActionsView():l._showUI(!0)}),s})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}var _1=r(4330),NB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(_1.Z,NB),_1.Z.locals;var y1=r(3190),OB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(y1.Z,OB),y1.Z.locals;var A1=r(4784),BB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(A1.Z,BB),A1.Z.locals;function PB(a,e){const t=e.mapper,o=e.writer,s=a.getAttribute("listType")=="numbered"?"ol":"ul",l=function(g){const p=g.createContainerElement("li");return p.getFillerOffset=jB,p}(o),d=o.createContainerElement(s,null);return o.insert(o.createPositionAt(d,0),l),t.bindElements(a,l),l}function C1(a,e,t,o){const s=e.parent,l=t.mapper,d=t.writer;let g=l.toViewPosition(o.createPositionBefore(a));const p=E1(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),k=a.previousSibling;if(p&&p.getAttribute("listIndent")==a.getAttribute("listIndent")){const w=l.toViewElement(p);g=d.breakContainer(d.createPositionAfter(w))}else if(k&&k.name=="listItem"){g=l.toViewPosition(o.createPositionAt(k,"end"));const w=l.findMappedViewAncestor(g),y=function(C){for(const D of C.getChildren())if(D.name=="ul"||D.name=="ol")return D;return null}(w);g=y?d.createPositionBefore(y):d.createPositionAt(w,"end")}else g=l.toViewPosition(o.createPositionBefore(a));if(g=x1(g),d.insert(g,s),k&&k.name=="listItem"){const w=l.toViewElement(k),y=d.createRange(d.createPositionAt(w,0),g).getWalker({ignoreElementEnd:!0});for(const C of y)if(C.item.is("element","li")){const D=d.breakContainer(d.createPositionBefore(C.item)),N=C.item.parent,P=d.createPositionAt(e,"end");Hi(d,P.nodeBefore,P.nodeAfter),d.move(d.createRangeOn(N),P),y._position=D}}else{const w=s.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){let y=null;for(const C of w.getChildren()){const D=l.toModelElement(C);if(!(D&&D.getAttribute("listIndent")>a.getAttribute("listIndent")))break;y=C}y&&(d.breakContainer(d.createPositionAfter(y)),d.move(d.createRangeOn(y.parent),d.createPositionAt(e,"end")))}}Hi(d,s,s.nextSibling),Hi(d,s.previousSibling,s)}function Hi(a,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function x1(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function E1(a,e){const t=!!e.sameIndent,o=!!e.smallerIndent,s=e.listIndent;let l=a;for(;l&&l.name=="listItem";){const d=l.getAttribute("listIndent");if(t&&s==d||o&&s>d)return l;l=e.direction==="forward"?l.nextSibling:l.previousSibling}return null}function S1(a,e,t,o){a.ui.componentFactory.add(e,s=>{const l=a.commands.get(e),d=new nt(s);return d.set({label:t,icon:o,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),d.on("execute",()=>{a.execute(e),a.editing.view.focus()}),d})}function Jm(a,e){const t=[],o=a.parent,s={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},l=o.getAttribute("listIndent"),d=[...new Bo(s)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of d){if(!g.is("element","listItem")||g.getAttribute("listIndent")<l)break;if(!(g.getAttribute("listIndent")>l)){if(g.getAttribute("listType")!==o.getAttribute("listType")||g.getAttribute("listStyle")!==o.getAttribute("listStyle")||g.getAttribute("listReversed")!==o.getAttribute("listReversed")||g.getAttribute("listStart")!==o.getAttribute("listStart"))break;e==="backward"?t.unshift(g):t.push(g)}}return t}const LB=["disc","circle","square"],zB=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function jB(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:av.call(this)}class RB extends de{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;S1(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),S1(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const FB=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:t}of FB);var D1=r(5782),VB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(D1.Z,VB),D1.Z.locals;var T1=r(9938),UB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(T1.Z,UB),T1.Z.locals;var I1=r(2591),HB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(I1.Z,HB),I1.Z.locals;class M1 extends pt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let o=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const l=o[o.length-1];let d=l.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>l.getAttribute("listIndent");)o.push(d),d=d.nextSibling;this._indentBy<0&&(o=o.reverse());for(const g of o){const p=g.getAttribute("listIndent")+this._indentBy;p<0?s.rename(g,"paragraph"):s.setAttribute("listIndent",p,g)}this.fire("_executeCleanup",o)})}_checkEnabled(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),o=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==o;s=s.previousSibling}return!1}return!0}}class N1 extends pt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,o=t.document,s=Array.from(o.selection.getSelectedBlocks()).filter(d=>B1(d,t.schema)),l=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(l){let g=s[s.length-1].nextSibling,p=Number.POSITIVE_INFINITY,k=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const w=g.getAttribute("listIndent");w<p&&(p=w);const y=w-p;k.push({element:g,listIndent:y}),g=g.nextSibling}k=k.reverse();for(const w of k)d.setAttribute("listIndent",w.listIndent,w.element)}if(!l){let g=Number.POSITIVE_INFINITY;for(const p of s)p.is("element","listItem")&&p.getAttribute("listIndent")<g&&(g=p.getAttribute("listIndent"));g=g===0?1:g,O1(s,!0,g),O1(s,!1,g)}for(const g of s.reverse())l&&g.name=="listItem"?d.rename(g,"paragraph"):l||g.name=="listItem"?l||g.name!="listItem"||g.getAttribute("listType")==this.type||d.setAttribute("listType",this.type,g):(d.setAttributes({listType:this.type,listIndent:0},g),d.rename(g,"listItem"));this.fire("_executeCleanup",s)})}_getValue(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=pn(e.getSelectedBlocks());return!!o&&B1(o,t)}}function O1(a,e,t){const o=e?a[0]:a[a.length-1];if(o.is("element","listItem")){let s=o[e?"previousSibling":"nextSibling"],l=o.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)l>s.getAttribute("listIndent")&&(l=s.getAttribute("listIndent")),s.getAttribute("listIndent")==l&&a[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function B1(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class $B extends de{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return LB.includes(t)?"bulleted":zB.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let o=[...t.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const l=t.change(d=>d.createPositionAt(s,0));return[...Jm(l,"backward"),...Jm(l,"forward")]}).flat();return o=[...new Set(o)],o}(e)}getSiblingNodes(e,t){return Jm(e,t)}}function P1(a){return(e,t,o)=>{const s=o.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const l=t.item;C1(l,PB(l,o),o,a)}}const WB=(a,e,t)=>{if(!t.consumable.test(e.item,a.name))return;const o=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(o)),s.breakContainer(s.createPositionAfter(o));const l=o.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(d,l)},qB=(a,e,t)=>{t.consumable.consume(e.item,a.name);const o=t.mapper.toViewElement(e.item).parent,s=t.writer;Hi(s,o,o.nextSibling),Hi(s,o.previousSibling,o)},L1=(a,e,t)=>{if(t.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let o=t.mapper.toViewPosition(e.range.start);const s=t.writer,l=[];for(;(o.parent.name=="ul"||o.parent.name=="ol")&&(o=s.breakContainer(o),o.parent.name=="li");){const d=o,g=s.createPositionAt(o.parent,"end");if(!d.isEqual(g)){const p=s.remove(s.createRange(d,g));l.push(p)}o=s.createPositionAfter(o.parent)}if(l.length>0){for(let d=0;d<l.length;d++){const g=o.nodeBefore;if(o=s.insert(o,l[d]).end,d>0){const p=Hi(s,g,g.nextSibling);p&&p.parent==g&&o.offset--}}Hi(s,o.nodeBefore,o.nodeAfter)}}},GB=(a,e,t)=>{const o=t.mapper.toViewPosition(e.position),s=o.nodeBefore,l=o.nodeAfter;Hi(t.writer,s,l)},YB=(a,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const o=t.writer,s=o.createElement("listItem"),l=function(p){let k=0,w=p.parent;for(;w;){if(w.is("element","li"))k++;else{const y=w.previousSibling;y&&y.is("element","li")&&k++}w=w.parent}return k}(e.viewItem);o.setAttribute("listIndent",l,s);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(o.setAttribute("listType",d,s),!t.safeInsert(s,e.modelCursor))return;const g=function(p,k,w){const{writer:y,schema:C}=w;let D=y.createPositionAfter(p);for(const N of k)if(N.name=="ul"||N.name=="ol")D=w.convertItem(N,D).modelCursor;else{const P=w.convertItem(N,y.createPositionAt(p,"end")),z=P.modelRange.start.nodeAfter;z&&z.is("element")&&!C.checkChild(p,z.name)&&(p=P.modelCursor.parent.is("element","listItem")?P.modelCursor.parent:QB(P.modelCursor),D=y.createPositionAfter(p))}return D}(s,e.viewItem.getChildren(),t);e.modelRange=o.createRange(e.modelCursor,g),t.updateConversionResult(s,e)}},z1=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const o=Array.from(e.viewItem.getChildren());for(const s of o)!(s.is("element","li")||oc(s))&&s._remove()}},KB=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const o=[...e.viewItem.getChildren()];let s=!1;for(const l of o)s&&!oc(l)&&l._remove(),oc(l)&&(s=!0)}};function j1(a){return(e,t)=>{if(t.isPhantom)return;const o=t.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){const s=t.mapper.toViewElement(o),l=s.getAncestors().find(oc),d=a.createPositionAt(s,0).getWalker();for(const g of d){if(g.type=="elementStart"&&g.item.is("element","li")){t.viewPosition=g.previousPosition;break}if(g.type=="elementEnd"&&g.item==l){t.viewPosition=g.nextPosition;break}}}}}const ZB=function(a,[e,t]){const o=this;let s,l=e.is("documentFragment")?e.getChild(0):e;if(s=t?o.createSelection(t):o.document.selection,l&&l.is("element","listItem")){const d=s.getFirstPosition();let g=null;if(d.parent.is("element","listItem")?g=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(g=d.nodeBefore),g){const p=g.getAttribute("listIndent");if(p>0)for(;l&&l.is("element","listItem");)l._setAttribute("listIndent",l.getAttribute("listIndent")+p),l=l.nextSibling}}};function QB(a){const e=new Bo({startPosition:a});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function R1(a,e,t,o,s,l){const d=E1(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),g=s.mapper,p=s.writer,k=d?d.getAttribute("listIndent"):null;let w;if(d)if(k==a){const y=g.toViewElement(d).parent;w=p.createPositionAfter(y)}else{const y=l.createPositionAt(d,"end");w=g.toViewPosition(y)}else w=t;w=x1(w);for(const y of[...o.getChildren()])oc(y)&&(w=p.move(p.createRangeOn(y),w).end,Hi(p,y,y.nextSibling),Hi(p,y.previousSibling,y))}function oc(a){return a.is("element","ol")||a.is("element","ul")}class JB extends de{static get pluginName(){return"ListEditing"}static get requires(){return[jh,jo,$B]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,o=e.editing;var s;e.model.document.registerPostFixer(d=>function(g,p){const k=g.document.differ.getChanges(),w=new Map;let y=!1;for(const P of k)if(P.type=="insert"&&P.name=="listItem")C(P.position);else if(P.type=="insert"&&P.name!="listItem"){if(P.name!="$text"){const z=P.position.nodeAfter;z.hasAttribute("listIndent")&&(p.removeAttribute("listIndent",z),y=!0),z.hasAttribute("listType")&&(p.removeAttribute("listType",z),y=!0),z.hasAttribute("listStyle")&&(p.removeAttribute("listStyle",z),y=!0),z.hasAttribute("listReversed")&&(p.removeAttribute("listReversed",z),y=!0),z.hasAttribute("listStart")&&(p.removeAttribute("listStart",z),y=!0);for(const W of Array.from(g.createRangeIn(z)).filter(Q=>Q.item.is("element","listItem")))C(W.previousPosition)}C(P.position.getShiftedBy(P.length))}else P.type=="remove"&&P.name=="listItem"?C(P.position):(P.type=="attribute"&&P.attributeKey=="listIndent"||P.type=="attribute"&&P.attributeKey=="listType")&&C(P.range.start);for(const P of w.values())D(P),N(P);return y;function C(P){const z=P.nodeBefore;if(z&&z.is("element","listItem")){let W=z;if(w.has(W))return;for(let Q=W.previousSibling;Q&&Q.is("element","listItem");Q=W.previousSibling)if(W=Q,w.has(W))return;w.set(z,W)}else{const W=P.nodeAfter;W&&W.is("element","listItem")&&w.set(W,W)}}function D(P){let z=0,W=null;for(;P&&P.is("element","listItem");){const Q=P.getAttribute("listIndent");if(Q>z){let ce;W===null?(W=Q-z,ce=z):(W>Q&&(W=Q),ce=Q-W),p.setAttribute("listIndent",ce,P),y=!0}else W=null,z=P.getAttribute("listIndent")+1;P=P.nextSibling}}function N(P){let z=[],W=null;for(;P&&P.is("element","listItem");){const Q=P.getAttribute("listIndent");if(W&&W.getAttribute("listIndent")>Q&&(z=z.slice(0,Q+1)),Q!=0)if(z[Q]){const ce=z[Q];P.getAttribute("listType")!=ce&&(p.setAttribute("listType",ce,P),y=!0)}else z[Q]=P.getAttribute("listType");W=P,P=P.nextSibling}}}(e.model,d)),o.mapper.registerViewToModelLength("li",Xm),t.mapper.registerViewToModelLength("li",Xm),o.mapper.on("modelToViewPosition",j1(o.view)),o.mapper.on("viewToModelPosition",(s=e.model,(d,g)=>{const p=g.viewPosition,k=p.parent,w=g.mapper;if(k.name=="ul"||k.name=="ol"){if(p.isAtEnd){const y=w.toModelElement(p.nodeBefore),C=w.getModelLength(p.nodeBefore);g.modelPosition=s.createPositionBefore(y).getShiftedBy(C)}else{const y=w.toModelElement(p.nodeAfter);g.modelPosition=s.createPositionBefore(y)}d.stop()}else if(k.name=="li"&&p.nodeBefore&&(p.nodeBefore.name=="ul"||p.nodeBefore.name=="ol")){const y=w.toModelElement(k);let C=1,D=p.nodeBefore;for(;D&&oc(D);)C+=w.getModelLength(D),D=D.previousSibling;g.modelPosition=s.createPositionBefore(y).getShiftedBy(C),d.stop()}})),t.mapper.on("modelToViewPosition",j1(o.view)),e.conversion.for("editingDowncast").add(d=>{d.on("insert",L1,{priority:"high"}),d.on("insert:listItem",P1(e.model)),d.on("attribute:listType:listItem",WB,{priority:"high"}),d.on("attribute:listType:listItem",qB,{priority:"low"}),d.on("attribute:listIndent:listItem",function(g){return(p,k,w)=>{if(!w.consumable.consume(k.item,"attribute:listIndent"))return;const y=w.mapper.toViewElement(k.item),C=w.writer;C.breakContainer(C.createPositionBefore(y)),C.breakContainer(C.createPositionAfter(y));const D=y.parent,N=D.previousSibling,P=C.createRangeOn(D);C.remove(P),N&&N.nextSibling&&Hi(C,N,N.nextSibling),R1(k.attributeOldValue+1,k.range.start,P.start,y,w,g),C1(k.item,y,w,g);for(const z of k.item.getChildren())w.consumable.consume(z,"insert")}}(e.model)),d.on("remove:listItem",function(g){return(p,k,w)=>{const y=w.mapper.toViewPosition(k.position).getLastMatchingPosition(W=>!W.item.is("element","li")).nodeAfter,C=w.writer;C.breakContainer(C.createPositionBefore(y)),C.breakContainer(C.createPositionAfter(y));const D=y.parent,N=D.previousSibling,P=C.createRangeOn(D),z=C.remove(P);N&&N.nextSibling&&Hi(C,N,N.nextSibling),R1(w.mapper.toModelElement(y).getAttribute("listIndent")+1,k.position,P.start,y,w,g);for(const W of C.createRangeIn(z).getItems())w.mapper.unbindViewElement(W);p.stop()}}(e.model)),d.on("remove",GB,{priority:"low"})}),e.conversion.for("dataDowncast").add(d=>{d.on("insert",L1,{priority:"high"}),d.on("insert:listItem",P1(e.model))}),e.conversion.for("upcast").add(d=>{d.on("element:ul",z1,{priority:"high"}),d.on("element:ol",z1,{priority:"high"}),d.on("element:li",KB,{priority:"high"}),d.on("element:li",YB)}),e.model.on("insertContent",ZB,{priority:"high"}),e.commands.add("numberedList",new N1(e,"numbered")),e.commands.add("bulletedList",new N1(e,"bulleted")),e.commands.add("indentList",new M1(e,"forward")),e.commands.add("outdentList",new M1(e,"backward"));const l=o.view.document;this.listenTo(l,"enter",(d,g)=>{const p=this.editor.model.document,k=p.selection.getLastPosition().parent;p.selection.isCollapsed&&k.name=="listItem"&&k.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),d.stop())},{context:"li"}),this.listenTo(l,"delete",(d,g)=>{if(g.direction!=="backward")return;const p=this.editor.model.document.selection;if(!p.isCollapsed)return;const k=p.getFirstPosition();if(!k.isAtStart)return;const w=k.parent;w.name==="listItem"&&(w.previousSibling&&w.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),g.preventDefault(),d.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(d,g)=>{const p=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(p).isEnabled&&(e.execute(p),g.stopPropagation(),g.preventDefault(),d.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),o=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),o&&o.registerChildCommand(e.get("outdentList"))}}function Xm(a){let e=1;for(const t of a.getChildren())if(t.name=="ul"||t.name=="ol")for(const o of t.getChildren())e+=Xm(o);return e}Ol("Ctrl+Enter");var F1=r(9292),XB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(F1.Z,XB),F1.Z.locals,Ol("Ctrl+Enter");function V1(a,e){const t=(o,s,l)=>{if(!l.consumable.consume(s.item,o.name))return;const d=s.attributeNewValue,g=l.writer,p=l.mapper.toViewElement(s.item),k=[...p.getChildren()].find(y=>y.getCustomProperty("media-content"));g.remove(k);const w=a.getMediaViewElement(g,d,e);g.insert(g.createPositionAt(p,0),w)};return o=>{o.on("attribute:url:media",t)}}function U1(a,e,t,o){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,t,o),a.createSlot()])}function H1(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function $1(a,e,t,o){a.change(s=>{const l=s.createElement("media",{url:e});a.insertObject(l,t,null,{setSelection:"on",findOptimalPosition:o?"auto":void 0})})}class eP extends pt{refresh(){const e=this.editor.model,t=e.document.selection,o=H1(t);this.value=o?o.getAttribute("url"):void 0,this.isEnabled=function(s){const l=s.getSelectedElement();return!!l&&l.name==="media"}(t)||function(s,l){let g=Om(s,l).start.parent;return g.isEmpty&&!l.schema.isLimit(g)&&(g=g.parent),l.schema.checkChild(g,"media")}(t,e)}execute(e){const t=this.editor.model,o=t.document.selection,s=H1(o);s?t.change(l=>{l.setAttribute("url",e,s)}):$1(t,e,o,!0)}}class tP{constructor(e,t){const o=t.providers,s=t.extraProviders||[],l=new Set(t.removeProviders),d=o.concat(s).filter(g=>{const p=g.name;return p?!l.has(p):(U("media-embed-no-provider-name",{provider:g}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,o){return this._getMedia(t).getViewElement(e,o)}_getMedia(e){if(!e)return new W1(this.locale);e=e.trim();for(const t of this.providerDefinitions){const o=t.html,s=gn(t.url);for(const l of s){const d=this._getUrlMatches(e,l);if(d)return new W1(this.locale,e,d,o)}}return null}_getUrlMatches(e,t){let o=e.match(t);if(o)return o;let s=e.replace(/^https?:\/\//,"");return o=s.match(t),o||(s=s.replace(/^www\./,""),o=s.match(t),o||null)}}class W1{constructor(e,t,o,s){this.url=this._getValidUrl(t),this._locale=e,this._match=o,this._previewRenderer=s}getViewElement(e,t){const o={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),t.renderForEditingView&&(o.class="ck-media__wrapper");const l=this._getPreviewHtml(t);s=e.createRawElement("div",o,(d,g)=>{g.setContentOf(d,l)})}else this.url&&(o.url=this.url),s=e.createEmptyElement(t.elementName,o);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new lr,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new zo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var q1=r(1922),nP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(q1.Z,nP),q1.Z.locals;class Yh extends de{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const o=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new tP(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,o=e.t,s=e.conversion,l=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),g=this.registry;e.commands.add("mediaEmbed",new eP(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(p,{writer:k})=>{const w=p.getAttribute("url");return U1(k,g,w,{elementName:d,renderMediaPreview:!!w&&l})}}),s.for("dataDowncast").add(V1(g,{elementName:d,renderMediaPreview:l})),s.for("editingDowncast").elementToStructure({model:"media",view:(p,{writer:k})=>{const w=p.getAttribute("url");return function(y,C,D){return C.setCustomProperty("media",!0,y),Nm(y,C,{label:D})}(U1(k,g,w,{elementName:d,renderForEditingView:!0}),k,o("media widget"))}}),s.for("editingDowncast").add(V1(g,{elementName:d,renderForEditingView:!0})),s.for("upcast").elementToElement({view:p=>["oembed",d].includes(p.name)&&p.getAttribute("url")?{name:!0}:null,model:(p,{writer:k})=>{const w=p.getAttribute("url");return g.hasMedia(w)?k.createElement("media",{url:w}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(p,{writer:k})=>{const w=p.getAttribute("data-oembed-url");return g.hasMedia(w)?k.createElement("media",{url:w}):null}}).add(p=>{p.on("element:figure",(k,w,y)=>{if(!y.consumable.consume(w.viewItem,{name:!0,classes:"media"}))return;const{modelRange:C,modelCursor:D}=y.convertChildren(w.viewItem,w.modelCursor);w.modelRange=C,w.modelCursor=D,pn(C.getItems())||y.consumable.revert(w.viewItem,{name:!0,classes:"media"})})})}}const iP=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class oP extends de{static get requires(){return[Lm,jo,zm]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",()=>{const s=t.selection.getFirstRange(),l=Qt.fromPosition(s.start);l.stickiness="toPrevious";const d=Qt.fromPosition(s.end);d.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(l,d),l.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const o=this.editor,s=o.plugins.get(Yh).registry,l=new si(e,t),d=l.getWalker({ignoreElementEnd:!0});let g="";for(const p of d)p.item.is("$textProxy")&&(g+=p.item.data);if(g=g.trim(),!g.match(iP)||!s.hasMedia(g))return void l.detach();o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Qt.fromPosition(e),this._timeoutId=Ae.window.setTimeout(()=>{o.model.change(p=>{this._timeoutId=null,p.remove(l),l.detach();let k=null;this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert),$1(o.model,g,k,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get(jo).requestUndoOnBackspace()},100)):l.detach()}}var G1=r(7138),rP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(G1.Z,rP),G1.Z.locals;class sP extends Pe{constructor(e,t){super(t);const o=t.t;this.focusTracker=new ri,this.keystrokes=new co,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(o("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new dr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Ah({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Jl(this.locale,Xl),o=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{t.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),t}_createButton(e,t,o,s){const l=new nt(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}}class aP extends de{static get requires(){return[Yh]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",o=>{const s=$r(o);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const o=this.editor,s=o.t,l=e.buttonView,d=o.plugins.get(Yh).registry;e.once("change:isOpen",()=>{const g=new(cm(sP))(function(p,k){return[w=>{if(!w.url.length)return p("The URL must not be empty.")},w=>{if(!k.hasMedia(w.url))return p("This media URL is not supported.")}]}(o.t,d),o.locale);e.panelView.children.add(g),l.on("open",()=>{g.disableCssTransitions(),g.url=t.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{g.isValid()&&(o.execute("mediaEmbed",g.url),o.editing.view.focus())}),e.on("change:isOpen",()=>g.resetFormStatus()),e.on("cancel",()=>{o.editing.view.focus()}),g.delegate("submit","cancel").to(e),g.urlInputView.fieldView.bind("value").to(t,"value"),g.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),l.set({label:s("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var Y1=r(8705),cP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Y1.Z,cP),Y1.Z.locals;function lP(a,e){if(!a.childCount)return;const t=new qs(a.document),o=function(d,g){const p=g.createRangeIn(d),k=new Vi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),w=[];for(const y of p)if(y.type==="elementStart"&&k.match(y.item)){const C=uP(y.item);w.push({element:y.item,id:C.id,order:C.order,indent:C.indent})}return w}(a,t);if(!o.length)return;let s=null,l=1;o.forEach((d,g)=>{const p=function(N,P){if(!N)return!0;if(N.id!==P.id)return P.indent-N.indent!=1;const z=P.element.previousSibling;if(!z)return!0;return W=z,!(W.is("element","ol")||W.is("element","ul"));var W}(o[g-1],d),k=p?null:o[g-1],w=(C=d,(y=k)?C.indent-y.indent:C.indent-1);var y,C;if(p&&(s=null,l=1),!s||w!==0){const N=function(P,z){const W=new RegExp(`@list l${P.id}:level${P.indent}\\s*({[^}]*)`,"gi"),Q=/mso-level-number-format:([^;]{0,100});/gi,ce=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,xe=W.exec(z);let He="decimal",di="ol",Vo=null;if(xe&&xe[1]){const Yn=Q.exec(xe[1]);if(Yn&&Yn[1]&&(He=Yn[1].trim(),di=He!=="bullet"&&He!=="image"?"ol":"ul"),He==="bullet"){const Yr=function(CP){const nx=function(ix){if(ix.getChild(0).is("$text"))return null;for(const ox of ix.getChildren()){if(!ox.is("element","span"))continue;const Kh=ox.getChild(0);if(Kh)return Kh.is("$text")?Kh:Kh.getChild(0)}return null}(CP);if(!nx)return null;const tk=nx._data;return tk==="o"?"circle":tk==="·"?"disc":tk==="§"?"square":null}(P.element);Yr&&(He=Yr)}else{const Yr=ce.exec(xe[1]);Yr&&Yr[1]&&(Vo=parseInt(Yr[1]))}}return{type:di,startIndex:Vo,style:dP(He)}}(d,e);if(s){if(d.indent>l){const P=s.getChild(s.childCount-1),z=P.getChild(P.childCount-1);s=K1(N,z,t),l+=1}else if(d.indent<l){const P=l-d.indent;s=function(z,W){const Q=z.getAncestors({parentFirst:!0});let ce=null,xe=0;for(const He of Q)if((He.is("element","ul")||He.is("element","ol"))&&xe++,xe===W){ce=He;break}return ce}(s,P),l=d.indent}}else s=K1(N,d.element,t);d.indent<=l&&(s.is("element",N.type)||(s=t.rename(N.type,s)))}const D=function(N,P){return function(z,W){const Q=new Vi({name:"span",styles:{"mso-list":"Ignore"}}),ce=W.createRangeIn(z);for(const xe of ce)xe.type==="elementStart"&&Q.match(xe.item)&&W.remove(xe.item)}(N,P),P.removeStyle("text-indent",N),P.rename("li",N)}(d.element,t);t.appendChild(D,s)})}function dP(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function K1(a,e,t){const o=e.parent,s=t.createElement(a.type),l=o.getChildIndex(e)+1;return t.insertChild(l,s,o),a.style&&t.setStyle("list-style-type",a.style,s),a.startIndex&&a.startIndex>1&&t.setAttribute("start",a.startIndex,s),s}function uP(a){const e={},t=a.getStyle("mso-list");if(t){const o=t.match(/(^|\s{1,100})l(\d+)/i),s=t.match(/\s{0,100}lfo(\d+)/i),l=t.match(/\s{0,100}level(\d+)/i);o&&s&&l&&(e.id=o[2],e.order=s[1],e.indent=parseInt(l[1]))}return e}function hP(a,e){if(!a.childCount)return;const t=new qs(a.document),o=function(l,d){const g=d.createRangeIn(l),p=new Vi({name:/v:(.+)/}),k=[];for(const w of g){if(w.type!="elementStart")continue;const y=w.item,C=y.previousSibling,D=C&&C.is("element")?C.name:null;p.match(y)&&y.getAttribute("o:gfxdata")&&D!=="v:shapetype"&&k.push(w.item.getAttribute("id"))}return k}(a,t);(function(l,d,g){const p=g.createRangeIn(d),k=new Vi({name:"img"}),w=[];for(const y of p)if(y.item.is("element")&&k.match(y.item)){const C=y.item,D=C.getAttribute("v:shapes")?C.getAttribute("v:shapes").split(" "):[];D.length&&D.every(N=>l.indexOf(N)>-1)?w.push(C):C.getAttribute("src")||w.push(C)}for(const y of w)g.remove(y)})(o,a,t),function(l,d,g){const p=g.createRangeIn(d),k=[];for(const C of p)if(C.type=="elementStart"&&C.item.is("element","v:shape")){const D=C.item.getAttribute("id");if(l.includes(D))continue;w(C.item.parent.getChildren(),D)||k.push(C.item)}for(const C of k){const D={src:y(C)};C.hasAttribute("alt")&&(D.alt=C.getAttribute("alt"));const N=g.createElement("img",D);g.insertChild(C.index+1,N,C.parent)}function w(C,D){for(const N of C)if(N.is("element")&&(N.name=="img"&&N.getAttribute("v:shapes")==D||w(N.getChildren(),D)))return!0;return!1}function y(C){for(const D of C.getChildren())if(D.is("element")&&D.getAttribute("src"))return D.getAttribute("src")}}(o,a,t),function(l,d){const g=d.createRangeIn(l),p=new Vi({name:/v:(.+)/}),k=[];for(const w of g)w.type=="elementStart"&&p.match(w.item)&&k.push(w.item);for(const w of k)d.remove(w)}(a,t);const s=function(l,d){const g=d.createRangeIn(l),p=new Vi({name:"img"}),k=[];for(const w of g)w.item.is("element")&&p.match(w.item)&&w.item.getAttribute("src").startsWith("file://")&&k.push(w.item);return k}(a,t);s.length&&function(l,d,g){if(l.length===d.length)for(let p=0;p<l.length;p++){const k=`data:${d[p].type};base64,${fP(d[p].hex)}`;g.setAttribute("src",k,l[p])}}(s,function(l){if(!l)return[];const d=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+d.source+"))([\\da-fA-F\\s]+)\\}","g"),p=l.match(g),k=[];if(p)for(const w of p){let y=!1;w.includes("\\pngblip")?y="image/png":w.includes("\\jpegblip")&&(y="image/jpeg"),y&&k.push({hex:w.replace(d,"").replace(/[^\da-fA-F]/g,""),type:y})}return k}(e),t)}function fP(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const gP=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,pP=/xmlns:o="urn:schemas-microsoft-com/i;class mP{constructor(e){this.document=e}isActive(e){return gP.test(e)||pP.test(e)}execute(e){const{body:t,stylesString:o}=e._parsedData;lP(t,o),hP(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function Z1(a,e,t,{blockElements:o,inlineObjectElements:s}){let l=t.createPositionAt(a,e=="forward"?"after":"before");return l=l.getLastMatchingPosition(({item:d})=>d.is("element")&&!o.includes(d.name)&&!s.includes(d.name),{direction:e}),e=="forward"?l.nodeAfter:l.nodeBefore}function Q1(a,e){return!!a&&a.is("element")&&e.includes(a.name)}const kP=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class bP{constructor(e){this.document=e}isActive(e){return kP.test(e)}execute(e){const t=new qs(this.document),{body:o}=e._parsedData;(function(s,l){for(const d of s.getChildren())if(d.is("element","b")&&d.getStyle("font-weight")==="normal"){const g=s.getChildIndex(d);l.remove(d),l.insertChild(g,d.getChildren(),s)}})(o,t),function(s,l){for(const d of l.createRangeIn(s)){const g=d.item;if(g.is("element","li")){const p=g.getChild(0);p&&p.is("element","p")&&l.unwrapElement(p)}}}(o,t),function(s,l){const d=new dh(l.document.stylesProcessor),g=new fh(d,{renderingMode:"data"}),p=g.blockElements,k=g.inlineObjectElements,w=[];for(const y of l.createRangeIn(s)){const C=y.item;if(C.is("element","br")){const D=Z1(C,"forward",l,{blockElements:p,inlineObjectElements:k}),N=Z1(C,"backward",l,{blockElements:p,inlineObjectElements:k}),P=Q1(D,p);(Q1(N,p)||P)&&w.push(C)}}for(const y of w)y.hasClass("Apple-interchange-newline")?l.remove(y):l.replace(y,l.createElement("p"))}(o,t),e.content=o}}const wP=/<google-sheets-html-origin/i;class vP{constructor(e){this.document=e}isActive(e){return wP.test(e)}execute(e){const t=new qs(this.document),{body:o}=e._parsedData;(function(s,l){for(const d of s.getChildren())if(d.is("element","google-sheets-html-origin")){const g=s.getChildIndex(d);l.remove(d),l.insertChild(g,d.getChildren(),s)}})(o,t),function(s,l){for(const d of s.getChildren())d.is("element","table")&&d.hasAttribute("xmlns")&&l.removeAttribute("xmlns",d)}(o,t),function(s,l){for(const d of s.getChildren())d.is("element","table")&&d.getStyle("width")==="0px"&&l.removeStyle("width",d)}(o,t),function(s,l){for(const d of Array.from(s.getChildren()))d.is("element","style")&&l.remove(d)}(o,t),e.content=o}}function J1(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function _P(a,e){const t=new DOMParser,o=function(p){return J1(J1(p)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(p){const k="</body>",w="</html>",y=p.indexOf(k);if(y<0)return p;const C=p.indexOf(w,y+k.length);return p.substring(0,y+k.length)+(C>=0?p.substring(C):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),s=t.parseFromString(o,"text/html");(function(p){p.querySelectorAll("span[style*=spacerun]").forEach(k=>{const w=k,y=w.innerText.length||0;w.innerText=Array(y+1).join("  ").substr(0,y)})})(s);const l=s.body.innerHTML,d=function(p,k){const w=new dh(k),y=new fh(w,{renderingMode:"data"}),C=p.createDocumentFragment(),D=p.body.childNodes;for(;D.length>0;)C.appendChild(D[0]);return y.domToView(C,{skipComments:!0})}(s,e),g=function(p){const k=[],w=[],y=Array.from(p.getElementsByTagName("style"));for(const C of y)C.sheet&&C.sheet.cssRules&&C.sheet.cssRules.length&&(k.push(C.sheet),w.push(C.innerHTML));return{styles:k,stylesString:w.join(" ")}}(s);return{body:d,bodyString:l,styles:g.styles,stylesString:g.stylesString}}const X1="fullscreen.closeOnEscape",ex="fullscreen.closeOnClick";var tx=r(5948),yP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(tx.Z,yP),tx.Z.locals;class ek extends Nh{}ek.builtinPlugins=[class extends de{static get requires(){return[Q3,J3]}static get pluginName(){return"Alignment"}},class extends de{static get requires(){return[Lm,li,zm,jo]}static get pluginName(){return"AutoImage"}constructor(a){super(a),this._timeoutId=null,this._positionToInsert=null}init(){const a=this.editor,e=a.model.document,t=a.plugins.get("ClipboardPipeline");this.listenTo(t,"inputTransformation",()=>{const o=e.selection.getFirstRange(),s=Qt.fromPosition(o.start);s.stickiness="toPrevious";const l=Qt.fromPosition(o.end);l.stickiness="toNext",e.once("change:data",()=>{this._embedImageBetweenPositions(s,l),s.detach(),l.detach()},{priority:"high"})}),a.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(a,e){const t=this.editor,o=new si(a,e),s=o.getWalker({ignoreElementEnd:!0}),l=Object.fromEntries(t.model.document.selection.getAttributes()),d=this.editor.plugins.get("ImageUtils");let g="";for(const p of s)p.item.is("$textProxy")&&(g+=p.item.data);g=g.trim(),g.match(uO)?(this._positionToInsert=Qt.fromPosition(a),this._timeoutId=setTimeout(()=>{if(!t.commands.get("insertImage").isEnabled)return void o.detach();t.model.change(p=>{let k;this._timeoutId=null,p.remove(o),o.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert.toPosition()),d.insertImage({...l,src:g},k),this._positionToInsert.detach(),this._positionToInsert=null}),t.plugins.get("Delete").requestUndoOnBackspace()},100)):o.detach()}},w1,class extends de{static get requires(){return[jo]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&qr(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&qr(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&qr(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&qr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=zh(this.editor,"bold");tc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),tc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=zh(this.editor,"italic");tc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),tc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=zh(this.editor,"code");tc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=zh(this.editor,"strikethrough");tc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],o=new RegExp(`^(#{${t}})\\s$`);qr(this.editor,this,o,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&qr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&qr(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&qr(this.editor,this,/^---$/,"horizontalLine")}},class extends de{static get requires(){return[Ys]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(Ys).createUploadAdapter=a=>new MO(a)}},class extends de{static get requires(){return[kN,wN]}static get pluginName(){return"BlockQuote"}},class extends de{static get requires(){return[aN,cN]}static get pluginName(){return"Bold"}},class extends de{static get requires(){return[Lm,jh,GN,pN,nN,zm]}static get pluginName(){return"Essentials"}},class extends de{static get requires(){return[iO,rO]}static get pluginName(){return"Heading"}},class extends de{static get requires(){return[cO,lO,od]}static get pluginName(){return"HorizontalLine"}},class extends de{static get requires(){return[_O,AO]}static get pluginName(){return"Image"}},class extends de{static get requires(){return[xO,EO]}static get pluginName(){return"ImageCaption"}},class extends de{static get pluginName(){return"ImageInsert"}static get requires(){return[NC,qO,PC]}},class extends de{static get requires(){return[LC,KO,YO]}static get pluginName(){return"ImageResize"}},class extends de{static get requires(){return[GC,eB]}static get pluginName(){return"ImageStyle"}},class extends de{static get requires(){return[jA,li]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,t=a.plugins.get(jA),o=a.plugins.get("ImageUtils");var s;t.register("image",{ariaLabel:e("Image toolbar"),items:(s=a.config.get("image.toolbar")||[],s.map(l=>me(l)?l.name:l)),getRelatedElement:l=>o.getClosestSelectedImageWidget(l)})}},NC,class extends de{static get pluginName(){return"Indent"}static get requires(){return[tB,nB]}},class extends de{static get requires(){return[dN,uN]}static get pluginName(){return"Italic"}},class extends de{static get requires(){return[Ym,b1,w1]}static get pluginName(){return"Link"}},class extends de{static get requires(){return[DB,MB]}static get pluginName(){return"LinkImage"}},class extends de{static get requires(){return[JB,RB]}static get pluginName(){return"List"}},class extends de{static get requires(){return[Yh,aP,oP,od]}static get pluginName(){return"MediaEmbed"}},rd,class extends de{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ro]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),t=a.editing.view.document,o=[];o.push(new mP(t)),o.push(new bP(t)),o.push(new vP(t)),e.on("inputTransformation",(s,l)=>{if(l._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=l.dataTransfer.getData("text/html"),g=o.find(p=>p.isActive(d));g&&(l._parsedData||(l._parsedData=_P(d,t.stylesProcessor)),g.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends de{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:iN}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,t=a.plugins.get("Delete"),o=function(l){const d=l.extra||[],g=l.remove||[],p=k=>!g.includes(k);return function(k){const w=new Set;for(const y of k)if(typeof y=="string"&&mA[y])for(const C of mA[y])w.add(C);else w.add(y);return Array.from(w)}(l.include.concat(d).filter(p)).filter(p).map(k=>typeof k=="string"&&pA[k]?pA[k]:k).filter(k=>typeof k=="object").map(k=>({from:oN(k.from),to:rN(k.to)}))}(a.config.get("typing.transformations")),s=new fA(a.model,l=>{for(const d of o)if(d.from.test(l))return{normalizedTransformation:d}});s.on("matched:data",(l,d)=>{if(!d.batch.isTyping)return;const{from:g,to:p}=d.normalizedTransformation,k=g.exec(d.text),w=p(k.slice(1)),y=d.range;let C=k.index;e.enqueueChange(D=>{for(let N=1;N<k.length;N++){const P=k[N],z=w[N-1];if(z==null){C+=P.length;continue}const W=y.start.getShiftedBy(C),Q=e.createRange(W,W.getShiftedBy(P.length)),ce=sN(W);e.insertContent(D.createText(z,ce),Q),C+=z.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}},class extends de{static get pluginName(){return"FullScreen"}constructor(a){super(a),this.set("isFullScreen",!1),this.styles={}}init(){const a=this.editor,e=a.t;a.editing.view.document.getRoot(),a.config.define(X1,!0),a.config.define(ex,!0),a.ui.componentFactory.add("fullscreen",()=>{a.ui.view.element;const t=new nt;return t.set({label:e("Full screen"),icon:`<!-- https://github.com/astrit/css.gg/blob/master/icons/svg/maximize-alt.svg -->
<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 3H9V5H6.46173L11.3047 9.84298L9.8905 11.2572L5 6.3667V9H3V3Z" fill="black"/>
<path d="M3 21H9V19H6.3764L11.3046 14.0718L9.89038 12.6576L5 17.548V15H3V21Z" fill="black"/>
<path d="M15 21H21V15H19V17.5244L14.1332 12.6576L12.719 14.0718L17.6472 19H15V21Z" fill="black"/>
<path d="M21 3H15V5H17.5619L12.7189 9.84301L14.1331 11.2572L19 6.39032V9H21V3Z" fill="black"/>
</svg>
`,tooltip:!0}),t.bind("isOn").to(this,"isFullScreen"),a.config.get(X1),a.config.get(ex),t.on("execute",()=>{(o=>{const s=o.ui.view.editable.element;s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()})(this.editor)}),t})}_restoreStyle(a,e,t,o){t!==void 0?a.setStyle(e,t,o):a.removeStyle(e,o)}_restoreStyles(a,e){this._restoreStyle(a,"height",this.styles.height,e),this._restoreStyle(a,"overflow-y",this.styles["overflow-y"],e)}}],ek.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","alignment","|","imageInsert","blockQuote","mediaEmbed","undo","redo","fullscreen"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}};const AP=ek})(),c=c.default})());const T8=(zt.exports==null?{}:zt.exports).default||zt.exports;(zt.exports==null?{}:zt.exports).InlineEditor;function dT({handleChange:i,post:n}){const r=c=>{console.log("hello")};return F.jsxs("form",{children:[F.jsxs("div",{className:"input",children:[F.jsx("label",{htmlFor:"title"}),F.jsx("input",{placeholder:"Title",onChange:i,value:n.title,type:"text",id:"title",name:"title"})]}),F.jsxs("div",{className:"input",children:[F.jsxs("div",{className:"input",children:[F.jsx("label",{htmlFor:"img"}),F.jsx("input",{placeholder:"Cover image url (optional)",onChange:i,value:n.img,type:"text",id:"img_url",name:"img"})]}),F.jsx("div",{className:"ckeditor-container",children:F.jsx(D8.CKEditor,{config:{mediaEmbed:{previewsInData:!0},placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0},fullscreen:{closeOnEscape:!0,closeOnClick:!1}},editor:T8,data:n.content?n.content:"",onReady:c=>{console.log("Editor is ready to use!",c),c.editing.view.document.on("click",(u,h)=>{r()})},onChange:(c,u)=>{u.getData(),i(u)}})})]}),F.jsxs("div",{className:"radio-container",children:[F.jsx("input",{onChange:i,type:"radio",id:"general",name:"category",value:"general"}),F.jsx("label",{className:"radio",htmlFor:"general",children:"General (default)"}),F.jsx("br",{}),F.jsx("input",{onChange:i,type:"radio",id:"review",name:"category",value:"review"}),F.jsx("label",{className:"radio",onChange:i,htmlFor:"review",children:"Review"}),F.jsx("br",{}),F.jsx("input",{onChange:i,type:"radio",id:"recommend",name:"category",value:"recommend"}),F.jsx("label",{className:"radio",htmlFor:"recommend",children:"Recommend"}),F.jsx("br",{})]})]})}function I8({supabase:i,session:n}){const[r,c]=Y.useState({title:"",content:"",img:""}),u=Mr(),{state:h}=Zc(),f=n?n.user:{user_metadata:""},m=f.user_metadata.name,b=f.id;Y.useEffect(()=>{h&&c({title:`${h.title} ~ ${h.author}`,content:h.description,img:h.cover_key?h.cover_url:""})},[]);const v=A=>{let x,S;A.target?(x=A.target.name,S=A.target.value):(x="content",S=A.getData()),c(T=>({...T,[x]:S}))},_=async()=>{await i.from("posts").insert({title:r.title,content:r.content,img:r.img,category:r.category,username:m,user_id:b}),Vn.success("Post inserted into database!"),u("/Book-Chronicles")};return F.jsx(F.Fragment,{children:F.jsxs("div",{className:"create-container",children:[F.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",F.jsx("span",{className:"pastel-orange",children:"Post"})]}),F.jsx(dT,{handleChange:v,post:r}),F.jsx("button",{className:"btn red-button darkAccent create-button",onClick:_,post:r,children:"Create Post"}),F.jsx(Si,{to:"/Book-Chronicles/getBookInfo",children:F.jsx("button",{className:"btn create-button orange-button",children:"Get Book Info"})})]})})}const uT=(i,n)=>{(i.keyCode||i.which)===13&&n()};function M8({title:i,author:n,cover_url:r,cover_key:c,description:u}){const h=Mr(),f=()=>{h("/Book-Chronicles/create",{state:{title:i,author:n,cover_url:r,description:u,cover_key:c}})};return F.jsxs("div",{onClick:f,className:"book",children:[F.jsxs("div",{children:[F.jsx("h4",{className:"pastel-black",children:i}),F.jsxs("h5",{children:["By: ",n]}),F.jsx("p",{children:u})]}),F.jsx("img",{src:c?r:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}function N8(){const[i,n]=Y.useState(""),[r,c]=Y.useState([]),u=v=>{n(v.target.value)},h=async v=>{const A=await(await fetch(`https://openlibrary.org${v.key}.json`)).json();let x;A.description&&(x=A.description,typeof x!="string"&&(x=A.description.value));const S=await fetch(`https://covers.openlibrary.org/b/olid/${v.cover_edition_key}-M.jpg`),T={key:A.key,title:A.title,author:v.author_name?v.author_name[0]:"",cover_url:S.url,description:x,cover_key:v.cover_edition_key};c(B=>[...B,T])},f=async()=>{const _=await(await fetch(`https://openlibrary.org/search.json?q=${i}`)).json();c([]),n("");let A=0;for(const x of _.docs){if(A<15)await h(x);else break;A++}},m=()=>r.map((_,A)=>F.jsx(M8,{title:_.title,author:_.author,cover_url:_.cover_url,cover_key:_.cover_key,description:_.description},A)),b=()=>{const v=f();Qn.promise(v,{loading:"loading",success:"got all data",error:"error when fetching"})};return F.jsxs("article",{children:[F.jsx("h1",{className:"book-info-title pastel-black",children:F.jsxs("b",{children:["Grab a ",F.jsx("span",{className:"pastel-orange",children:"Book"})]})}),F.jsxs("div",{className:"search-bar",children:[F.jsx("label",{htmlFor:"title"}),F.jsx("input",{value:i,placeholder:"Search for a book...",className:"book-input",onKeyUp:v=>{uT(v,b)},onChange:u,type:"text",name:"title"}),F.jsx("button",{className:"btn orange-button",onClick:b,children:"Search"})]}),F.jsx("div",{className:"books-container",children:m()}),F.jsx("div",{className:"push"})]})}const O8="/Book-Chronicles/assets/cross-ab383046.png";function B8(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var P8={exports:{}};const L8={},z8=Object.freeze(Object.defineProperty({__proto__:null,default:L8},Symbol.toStringTag,{value:"Module"})),j8=EP(z8);(function(i){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(n,r){typeof B8=="function"&&i&&i.exports?i.exports=r():(n.dcodeIO=n.dcodeIO||{}).bcrypt=r()})(oa,function(){var n={},r=null;function c(K){if(i&&i.exports)try{return j8.randomBytes(K)}catch{}try{var Z;return(self.crypto||self.msCrypto).getRandomValues(Z=new Uint32Array(K)),Array.prototype.slice.call(Z)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(K)}var u=!1;try{c(1),u=!0}catch{}r=null,n.setRandomFallback=function(K){r=K},n.genSaltSync=function(K,Z){if(K=K||B,typeof K!="number")throw Error("Illegal arguments: "+typeof K+", "+typeof Z);K<4?K=4:K>31&&(K=31);var $=[];return $.push("$2a$"),K<10&&$.push("0"),$.push(K.toString()),$.push("$"),$.push(A(c(T),T)),$.join("")},n.genSalt=function(K,Z,$){if(typeof Z=="function"&&($=Z,Z=void 0),typeof K=="function"&&($=K,K=void 0),typeof K>"u")K=B;else if(typeof K!="number")throw Error("illegal arguments: "+typeof K);function V(H){f(function(){try{H(null,n.genSaltSync(K))}catch(X){H(X)}})}if($){if(typeof $!="function")throw Error("Illegal callback: "+typeof $);V($)}else return new Promise(function(H,X){V(function(re,ie){if(re){X(re);return}H(ie)})})},n.hashSync=function(K,Z){if(typeof Z>"u"&&(Z=B),typeof Z=="number"&&(Z=n.genSaltSync(Z)),typeof K!="string"||typeof Z!="string")throw Error("Illegal arguments: "+typeof K+", "+typeof Z);return pe(K,Z)},n.hash=function(K,Z,$,V){function H(X){typeof K=="string"&&typeof Z=="number"?n.genSalt(Z,function(re,ie){pe(K,ie,X,V)}):typeof K=="string"&&typeof Z=="string"?pe(K,Z,X,V):f(X.bind(this,Error("Illegal arguments: "+typeof K+", "+typeof Z)))}if($){if(typeof $!="function")throw Error("Illegal callback: "+typeof $);H($)}else return new Promise(function(X,re){H(function(ie,ne){if(ie){re(ie);return}X(ne)})})};function h(K,Z){for(var $=0,V=0,H=0,X=K.length;H<X;++H)K.charCodeAt(H)===Z.charCodeAt(H)?++$:++V;return $<0?!1:V===0}n.compareSync=function(K,Z){if(typeof K!="string"||typeof Z!="string")throw Error("Illegal arguments: "+typeof K+", "+typeof Z);return Z.length!==60?!1:h(n.hashSync(K,Z.substr(0,Z.length-31)),Z)},n.compare=function(K,Z,$,V){function H(X){if(typeof K!="string"||typeof Z!="string"){f(X.bind(this,Error("Illegal arguments: "+typeof K+", "+typeof Z)));return}if(Z.length!==60){f(X.bind(this,null,!1));return}n.hash(K,Z.substr(0,29),function(re,ie){re?X(re):X(null,h(ie,Z))},V)}if($){if(typeof $!="function")throw Error("Illegal callback: "+typeof $);H($)}else return new Promise(function(X,re){H(function(ie,ne){if(ie){re(ie);return}X(ne)})})},n.getRounds=function(K){if(typeof K!="string")throw Error("Illegal arguments: "+typeof K);return parseInt(K.split("$")[2],10)},n.getSalt=function(K){if(typeof K!="string")throw Error("Illegal arguments: "+typeof K);if(K.length!==60)throw Error("Illegal hash length: "+K.length+" != 60");return K.substring(0,29)};var f=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function m(K){var Z=[],$=0;return S.encodeUTF16toUTF8(function(){return $>=K.length?null:K.charCodeAt($++)},function(V){Z.push(V)}),Z}var b="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),v=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],_=String.fromCharCode;function A(K,Z){var $=0,V=[],H,X;if(Z<=0||Z>K.length)throw Error("Illegal len: "+Z);for(;$<Z;){if(H=K[$++]&255,V.push(b[H>>2&63]),H=(H&3)<<4,$>=Z){V.push(b[H&63]);break}if(X=K[$++]&255,H|=X>>4&15,V.push(b[H&63]),H=(X&15)<<2,$>=Z){V.push(b[H&63]);break}X=K[$++]&255,H|=X>>6&3,V.push(b[H&63]),V.push(b[X&63])}return V.join("")}function x(K,Z){var $=0,V=K.length,H=0,X=[],re,ie,ne,ge,me,Ee;if(Z<=0)throw Error("Illegal len: "+Z);for(;$<V-1&&H<Z&&(Ee=K.charCodeAt($++),re=Ee<v.length?v[Ee]:-1,Ee=K.charCodeAt($++),ie=Ee<v.length?v[Ee]:-1,!(re==-1||ie==-1||(me=re<<2>>>0,me|=(ie&48)>>4,X.push(_(me)),++H>=Z||$>=V)||(Ee=K.charCodeAt($++),ne=Ee<v.length?v[Ee]:-1,ne==-1)||(me=(ie&15)<<4>>>0,me|=(ne&60)>>2,X.push(_(me)),++H>=Z||$>=V)));)Ee=K.charCodeAt($++),ge=Ee<v.length?v[Ee]:-1,me=(ne&3)<<6>>>0,me|=ge,X.push(_(me)),++H;var lt=[];for($=0;$<H;$++)lt.push(X[$].charCodeAt(0));return lt}var S=function(){var K={};return K.MAX_CODEPOINT=1114111,K.encodeUTF8=function(Z,$){var V=null;for(typeof Z=="number"&&(V=Z,Z=function(){return null});V!==null||(V=Z())!==null;)V<128?$(V&127):V<2048?($(V>>6&31|192),$(V&63|128)):V<65536?($(V>>12&15|224),$(V>>6&63|128),$(V&63|128)):($(V>>18&7|240),$(V>>12&63|128),$(V>>6&63|128),$(V&63|128)),V=null},K.decodeUTF8=function(Z,$){for(var V,H,X,re,ie=function(ne){ne=ne.slice(0,ne.indexOf(null));var ge=Error(ne.toString());throw ge.name="TruncatedError",ge.bytes=ne,ge};(V=Z())!==null;)if(!(V&128))$(V);else if((V&224)===192)(H=Z())===null&&ie([V,H]),$((V&31)<<6|H&63);else if((V&240)===224)((H=Z())===null||(X=Z())===null)&&ie([V,H,X]),$((V&15)<<12|(H&63)<<6|X&63);else if((V&248)===240)((H=Z())===null||(X=Z())===null||(re=Z())===null)&&ie([V,H,X,re]),$((V&7)<<18|(H&63)<<12|(X&63)<<6|re&63);else throw RangeError("Illegal starting byte: "+V)},K.UTF16toUTF8=function(Z,$){for(var V,H=null;(V=H!==null?H:Z())!==null;){if(V>=55296&&V<=57343&&(H=Z())!==null&&H>=56320&&H<=57343){$((V-55296)*1024+H-56320+65536),H=null;continue}$(V)}H!==null&&$(H)},K.UTF8toUTF16=function(Z,$){var V=null;for(typeof Z=="number"&&(V=Z,Z=function(){return null});V!==null||(V=Z())!==null;)V<=65535?$(V):(V-=65536,$((V>>10)+55296),$(V%1024+56320)),V=null},K.encodeUTF16toUTF8=function(Z,$){K.UTF16toUTF8(Z,function(V){K.encodeUTF8(V,$)})},K.decodeUTF8toUTF16=function(Z,$){K.decodeUTF8(Z,function(V){K.UTF8toUTF16(V,$)})},K.calculateCodePoint=function(Z){return Z<128?1:Z<2048?2:Z<65536?3:4},K.calculateUTF8=function(Z){for(var $,V=0;($=Z())!==null;)V+=K.calculateCodePoint($);return V},K.calculateUTF16asUTF8=function(Z){var $=0,V=0;return K.UTF16toUTF8(Z,function(H){++$,V+=K.calculateCodePoint(H)}),[$,V]},K}();Date.now=Date.now||function(){return+new Date};var T=16,B=10,R=16,O=100,L=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],E=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],U=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function G(K,Z,$,V){var H,X=K[Z],re=K[Z+1];return X^=$[0],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[1],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[2],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[3],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[4],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[5],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[6],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[7],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[8],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[9],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[10],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[11],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[12],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[13],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[14],H=V[X>>>24],H+=V[256|X>>16&255],H^=V[512|X>>8&255],H+=V[768|X&255],re^=H^$[15],H=V[re>>>24],H+=V[256|re>>16&255],H^=V[512|re>>8&255],H+=V[768|re&255],X^=H^$[16],K[Z]=re^$[R+1],K[Z+1]=X,K}function te(K,Z){for(var $=0,V=0;$<4;++$)V=V<<8|K[Z]&255,Z=(Z+1)%K.length;return{key:V,offp:Z}}function J(K,Z,$){for(var V=0,H=[0,0],X=Z.length,re=$.length,ie,ne=0;ne<X;ne++)ie=te(K,V),V=ie.offp,Z[ne]=Z[ne]^ie.key;for(ne=0;ne<X;ne+=2)H=G(H,0,Z,$),Z[ne]=H[0],Z[ne+1]=H[1];for(ne=0;ne<re;ne+=2)H=G(H,0,Z,$),$[ne]=H[0],$[ne+1]=H[1]}function oe(K,Z,$,V){for(var H=0,X=[0,0],re=$.length,ie=V.length,ne,ge=0;ge<re;ge++)ne=te(Z,H),H=ne.offp,$[ge]=$[ge]^ne.key;for(H=0,ge=0;ge<re;ge+=2)ne=te(K,H),H=ne.offp,X[0]^=ne.key,ne=te(K,H),H=ne.offp,X[1]^=ne.key,X=G(X,0,$,V),$[ge]=X[0],$[ge+1]=X[1];for(ge=0;ge<ie;ge+=2)ne=te(K,H),H=ne.offp,X[0]^=ne.key,ne=te(K,H),H=ne.offp,X[1]^=ne.key,X=G(X,0,$,V),V[ge]=X[0],V[ge+1]=X[1]}function le(K,Z,$,V,H){var X=U.slice(),re=X.length,ie;if($<4||$>31)if(ie=Error("Illegal number of rounds (4-31): "+$),V){f(V.bind(this,ie));return}else throw ie;if(Z.length!==T)if(ie=Error("Illegal salt length: "+Z.length+" != "+T),V){f(V.bind(this,ie));return}else throw ie;$=1<<$>>>0;var ne,ge,me=0,Ee;Int32Array?(ne=new Int32Array(L),ge=new Int32Array(E)):(ne=L.slice(),ge=E.slice()),oe(Z,K,ne,ge);function lt(){if(H&&H(me/$),me<$)for(var mt=Date.now();me<$&&(me=me+1,J(K,ne,ge),J(Z,ne,ge),!(Date.now()-mt>O)););else{for(me=0;me<64;me++)for(Ee=0;Ee<re>>1;Ee++)G(X,Ee<<1,ne,ge);var Ie=[];for(me=0;me<re;me++)Ie.push((X[me]>>24&255)>>>0),Ie.push((X[me]>>16&255)>>>0),Ie.push((X[me]>>8&255)>>>0),Ie.push((X[me]&255)>>>0);if(V){V(null,Ie);return}else return Ie}V&&f(lt)}if(typeof V<"u")lt();else for(var Ct;;)if(typeof(Ct=lt())<"u")return Ct||[]}function pe(K,Z,$,V){var H;if(typeof K!="string"||typeof Z!="string")if(H=Error("Invalid string / salt: Not a string"),$){f($.bind(this,H));return}else throw H;var X,re;if(Z.charAt(0)!=="$"||Z.charAt(1)!=="2")if(H=Error("Invalid salt version: "+Z.substring(0,2)),$){f($.bind(this,H));return}else throw H;if(Z.charAt(2)==="$")X=String.fromCharCode(0),re=3;else{if(X=Z.charAt(2),X!=="a"&&X!=="b"&&X!=="y"||Z.charAt(3)!=="$")if(H=Error("Invalid salt revision: "+Z.substring(2,4)),$){f($.bind(this,H));return}else throw H;re=4}if(Z.charAt(re+2)>"$")if(H=Error("Missing salt rounds"),$){f($.bind(this,H));return}else throw H;var ie=parseInt(Z.substring(re,re+1),10)*10,ne=parseInt(Z.substring(re+1,re+2),10),ge=ie+ne,me=Z.substring(re+3,re+25);K+=X>="a"?"\0":"";var Ee=m(K),lt=x(me,T);function Ct(mt){var Ie=[];return Ie.push("$2"),X>="a"&&Ie.push(X),Ie.push("$"),ge<10&&Ie.push("0"),Ie.push(ge.toString()),Ie.push("$"),Ie.push(A(lt,lt.length)),Ie.push(A(mt,U.length*4-1)),Ie.join("")}if(typeof $>"u")return Ct(le(Ee,lt,ge));le(Ee,lt,ge,function(mt,Ie){mt?$(mt,null):$(null,Ct(Ie))},V)}return n.encodeBase64=A,n.decodeBase64=x,n})})(P8);function R8({date:i,comment:n,id:r,supabase:c,reloadComments:u,username:h,user_id:f,session_user_id:m}){const b=f===m,v=async()=>{b?confirm("Are you sure you want to delete this comment?")?(await c.from("comments").delete().eq("id",r),u()):console.log("delete is cancelled"):alert("You can't delete this comment! It's not yours!")};return F.jsxs("div",{className:"comment",children:[F.jsxs("div",{className:"comment-header",children:[F.jsxs("small",{children:[h," ",F.jsxs("span",{className:"time-ago",children:["• ",yg(i)?yg(i):""]})]}),b?F.jsx("img",{onClick:v,src:O8}):""]}),F.jsx("p",{children:n})]})}const F8="/Book-Chronicles/assets/trash-2415bf1a.png",V8="/Book-Chronicles/assets/edit-727f5020.png";function U8({supabase:i,session:n}){const[r,c]=Y.useState({user_likes:""}),[u,h]=Y.useState(!1),[f,m]=Y.useState([]),[b,v]=Y.useState(""),{id:_}=dw(),A=Mr(),x=n?n.user:{user_metadata:{}},S=x.user_metadata.name,T=x.id,B=T===r.user_id,R=async()=>{const{data:le,error:pe}=await i.from("posts").select().eq("id",_);c(le[0])},O=async()=>{const{data:le,error:pe}=await i.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",_);m(le)};Y.useEffect(()=>{const le=R();Qn.promise(le,{loading:"Loading your post...",success:"Post loaded!",error:"Couldn't get your post!"}),O(),window.scroll(0,0)},[]);const L=async()=>{if(n)if(!r.user_likes[T]&&!u){const le={...r.user_likes,[T]:!0};await i.from("posts").update({vote:r.vote+1,user_likes:le}).eq("id",_),console.log("vote has been updated..."),h(!0),c({...r,vote:r.vote+1})}else console.log("Can't like a post more than once...");else Qn.error("You must be logged in to like a post!")},E=le=>{v(le.target.value)},U=async()=>{B?confirm("Are you sure you want to delete this post?")?(await i.from("posts").delete().eq("id",_),A("/Book-Chronicles")):console.log("delete is cancelled"):Qn.error("You can't delete this post!'")},G=async()=>{B?A(`/Book-Chronicles/post/${_}/edit`):Qn.error("You can't access this!")},te=async()=>{await i.from("comments").insert({post_id:_,comment:b,username:S,user_id:T}),console.log("Comment is inserted into database..."),O(),v("")},J=f.map(le=>F.jsx(R8,{date:le.created_at,comment:le.comment,id:le.id,supabase:i,reloadComments:O,username:le.username,user_id:le.user_id,session_user_id:T},le.id));let oe="back-pastel-green pastel-green";return r.category=="review"?oe="back-pastel-purple pastel-purple":r.category=="recommend"&&(oe="back-pastel-red pastel-red"),F.jsx("div",{className:"post-container",children:F.jsxs("div",{className:"post",children:[F.jsxs("div",{className:"post-tags",children:[F.jsxs("p",{children:["Posted ",r.created_at?yg(r.created_at):" "]}),F.jsxs("p",{className:`post-category ${oe}`,children:["#",r.category]})]}),F.jsx("h2",{className:"pastel-black",children:r.title}),F.jsx("img",{className:"post-image",src:r.img}),F.jsx("div",{children:rT(r.content)}),F.jsx("p",{children:F.jsx("b",{children:r.username?"~ "+r.username:""})}),F.jsxs("div",{className:"action-images",children:[F.jsxs("div",{onClick:L,className:`${r.user_likes[T]||u?"pastel-red":""} like-image`,children:[F.jsx("img",{src:oT})," ",F.jsxs("b",{children:[r.vote," ",r.vote!==1?"likes":"like"]})]}),n&&B?F.jsxs("div",{children:[F.jsx("img",{onClick:G,className:"edit-image",src:V8}),F.jsx("img",{onClick:U,className:"delete-image",src:F8})]}):""]}),F.jsxs("div",{className:"comments-section",children:[F.jsx("div",{className:"insert-comment-container",children:n?F.jsx("input",{onKeyUp:le=>{uT(le,te)},value:b,onChange:E,placeholder:"Leave a comment...",type:"text"}):F.jsx("input",{disabled:!0,placeholder:"Sign in to leave a comment...",type:"text"})}),F.jsx("div",{className:"comments-container",children:J})]})]})})}function H8({supabase:i}){const[n,r]=Y.useState({title:"",content:"",img:""}),c=Mr(),{id:u}=dw(),h=async()=>{const{data:b,error:v}=await i.from("posts").select().eq("id",u);r(b[0])};Y.useEffect(()=>{h()},[]);const f=b=>{let v,_;b.target?(v=b.target.name,_=b.target.value):(v="content",_=b.getData()),r(A=>({...A,[v]:_}))},m=async()=>{await i.from("posts").update({title:n.title,content:n.content,img:n.img,category:n.category}).eq("id",u),Vn.success("successfully updated!"),c(`/Book-Chronicles/post/${u}`)};return F.jsx("div",{children:F.jsxs("div",{className:"create-container",children:[F.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",F.jsx("span",{className:"pastel-orange",children:"Post"})]}),F.jsx(dT,{handleChange:f,post:n}),F.jsx("button",{className:"btn orange-button create-button",onClick:m,children:"Update Post"})]})})}const bw=i=>({async signupUser(n,r,c){const{data:u,error:h}=await i.auth.signUp({email:n,password:r,options:{data:{name:c}}});return[u,h]},async signIn(n,r){const{data:c,error:u}=await i.auth.signInWithPassword({email:n,password:r});return[c,u]},async getSession(){const{data:n,error:r}=await i.auth.getSession();return n},async logout(){await i.auth.signOut()},eventListener(){i.auth.onAuthStateChange((n,r)=>{console.log(n,r)})}}),Ld=(i,n)=>{const{name:r,value:c}=i.target;n(u=>({...u,[r]:c}))};function $8({supabase:i}){const n=bw(i),[r,c]=Y.useState({}),u=Mr(),h=async m=>{const{data:b,error:v}=await i.from("users").select().eq("name",m);return b.length!==0},f=async()=>{if(r.name&&r.password&&r.email)if(await h(r.name))Qn.error("Display name taken.");else{const[b,v]=await n.signupUser(r.email,r.password,r.name),{user:_,session:A}=b;_?(await i.from("users").insert({user_id:_.id,name:_.user_metadata.name}),Qn.success("Signed up successfully!"),u("/Book-Chronicles")):Qn.error(v.message)}else Qn.error("You need to fill in all the fields!")};return F.jsx("div",{className:"outer-sign-container",children:F.jsxs("div",{className:"sign-container",children:[F.jsx("h1",{className:"sign-title",children:"Sign Up"}),F.jsxs("form",{onSubmit:m=>m.preventDefault(),children:[F.jsx("label",{htmlFor:"email"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>Ld(m,c),placeholder:"Email",id:"email",name:"email",type:"email"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"password"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>Ld(m,c),placeholder:"Password",id:"password",name:"password",type:"password"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"name"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>Ld(m,c),placeholder:"Display Name",id:"name",name:"name",type:"text"}),F.jsx("div",{}),F.jsx("button",{onClick:f,type:"submit",className:"red-button sign-button",children:"Signup"}),F.jsx("div",{className:"sign-link",children:F.jsx(Si,{to:"/Book-Chronicles/signin",children:"Have an account? Sign in!"})})]})]})})}function W8({supabase:i}){const n=bw(i),[r,c]=Y.useState({}),u=Mr(),h=async()=>{if(!r.email||!r.password)Qn.error("You need to fill in all the fields!");else{const[f,m]=await n.signIn(r.email,r.password),{user:b,session:v}=f;b||v?(Qn.success("Logged in."),setTimeout(()=>{u("/Book-Chronicles")},1e3)):Qn.error(m.message)}};return F.jsx("article",{className:"outer-sign-container",children:F.jsxs("div",{className:"sign-container",children:[F.jsx("h1",{className:"sign-title",children:"Sign In"}),F.jsxs("form",{onSubmit:f=>f.preventDefault(),children:[F.jsx("label",{htmlFor:"email"}),F.jsx("input",{className:"search-input sign-input",onChange:f=>Ld(f,c),placeholder:"Email",id:"email",name:"email",type:"email"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"password"}),F.jsx("input",{className:"search-input sign-input",onChange:f=>Ld(f,c),placeholder:"Password",id:"password",name:"password",type:"password"}),F.jsx("div",{}),F.jsx("button",{onClick:h,type:"submit",className:"sign-button red-button",children:"Signin"}),F.jsx("div",{className:"sign-link",children:F.jsx(Si,{to:"/Book-Chronicles/signup",children:"Not a member? Signup!"})})]})]})})}function q8({supabase:i}){const[n,r]=Y.useState([]),c=async()=>{const{data:f,error:m}=await i.from("users").select().order("name");for(let b=0;b<f.length;b++){const v=f[b],_=await u(v);f[b].posts=_}f.sort((b,v)=>b.posts.length<v.posts.length?1:b.posts.length>v.posts.length?-1:0),r(f)},u=async f=>{const{data:m,error:b}=await i.from("posts").select().eq("user_id",f.user_id);return m};Y.useEffect(()=>{const f=c();Qn.promise(f,{loading:"Grabbing all users...",success:"Click on a user to see their posts!",error:"Error while getting users..."})},[]);const h=()=>n.map(f=>F.jsx("li",{children:F.jsxs(Si,{to:`/Book-Chronicles/users/${f.name}`,children:[f.name," ~ ",f.posts.length]})},f.id));return F.jsx("div",{children:h()})}function G8({supabase:i,session:n}){const[r,c]=Y.useState([]),h=(n?n.user:{user_metadata:{}}).id,{username:f}=dw(),m=async()=>{const{data:v,error:_}=await i.from("posts").select().order("created_at",{ascending:!1}).eq("username",f);c(v)};Y.useEffect(()=>{m()},[f]);const b=()=>r.length===0?F.jsx("h2",{children:"This user has not posted anything yet!"}):r.map(v=>{const _=v.user_likes[h];return F.jsx(sT,{id:v.id,title:v.title,created_at:v.created_at,vote:v.vote,category:v.category,username:v.username,img_url:v.img,content:v.content,currentUserLiked:_},v.id)});return F.jsx("div",{className:"post-preview-container",children:b()})}function Y8(){return F.jsxs(F.Fragment,{children:[F.jsx("h2",{children:"User profile coming soon..."}),F.jsx("p",{children:"Edit display name..."}),F.jsx("p",{children:"Change profile pic (we prob need a cropping service)..."}),F.jsx("p",{children:"Delete account..."})]})}const K8="/Book-Chronicles/assets/arrow-up-0fb140ce.png",Z8=()=>{const[i,n]=Y.useState(!1);Y.useEffect(()=>{const c=()=>{window.scrollY>200?n(!0):n(!1)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return F.jsx("div",{children:F.jsx("img",{className:`back-to-top-button ${i?"show-back-to-top":""}`,onClick:r,src:K8})})},Q8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABOvAAATrwFj5o7DAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABNRJREFUWIXtl2tMk1cYx3/nLfcKLaUysTqYzDFUQAfelpEoBqdsMJSBuhizi7hlWRazaUwWnU73YXjPbpqpu2Rmy8QL6i5Osi8umnlLFOPExU1uBVKgBWZrL7RnH/qyoS0FHIlf/Cdvcvo8/z7P7z3n7XlP4YHus8RQzMbM0jSvFMUCmS/BBIxVU40SmgSyWqNoqtovf/fHsALoJpXkaIRSISFvMH7DqOSW8VNm75iRW/DJhkLhuHeA7BXh8W7rDhCvq16rVm88kzNnUWqiaXy6Ni4BAHt3B7Y2M43XL1B37Ryu23YQgvScfOeMZ5Zt9ERHbP+oQLiGBKDLeCFeEZ5DSGYDtxWh2blk1W5jdKyuPBSz2+Wg5tejXDnzA94eN6ZxGeSVrayJjostrCgUDYMDyF4RbnDbTqhT3hyrTShbtGbXeiA/VPO+6mipo/rbzdzqbGdUSjrzl62zhGvC5lYsFJf7+pRgX453W3eozc1CeKcvXrPrpaE0B0hISqFw+SZi4gy01l3j3MmvE32Co6sOy8SQALpJJTnqmt/2wXMvbzg0X8IrwZp0WprobDP3C6GNS2DuktVowsL5/ewJ2ltuJguFr0ICaIRSAQgk28u3HqhVBO/11+DYnrUc27O2XwAAoymVSTMLkFJy7uR+kMxbfUTODQpgzCxNU6feSiRbhIPlEpL6K+52OXA77SEBALJyi4mM1tL85xW6rC1IWBcUwCtZACAFR2wXK7skPD9g9UEoIkpL8uNTAai/dh4BT648JJMCACTM8Q/k8ZVHpF7AzOEAAHg4LQcA840aACVCw7wAAEWSDODziavhkAJohgsgPnEMALe62gGQknEAYX1NUvjXOxJafZDbS9dpaeLYnrW4XcF31b3vlt3xOSJKS1H5++hHmv6NxcQZAHB0W3tDoyHwVyB7B4r8b4wQ/muQCmr1qeUUf1Kove6cAWgRECvDlNEKtPjUuH6kiWXvfBFQs/fOl288MCCU45b/zmNGGHpDzRA4Aw0APT45wSWoB7wDVh6krJYmAEbojQBI+CsAQCCr1WDRzgWiU0hODxdAQ+0FAMakZgL48HAiAEAjxFE/nSyOzy7VScHh4WjudtqpVwEeTs8BOL2lTLQGALTXVF4X8AsQj0es6fHwGdDUX+GIKC2R0doBAS6dqsLttGN6NAudIQkh2dSbC3hedRml2QqcB1w+6cst33QwS8DeYIU728wIATqjKVgagDbzDb7ftx6ft4fi1yowJqX8tHmBKOjNB7yMuq5UXgTxMRClCKXq8/UlPwvYF6y4fqQpZHN7VwfV32zB2+Nh4owCEpJS6n2SF/t6gp4HbAmWt9SlMEmpObt/26tfAif77RREHS03Ob5vHY6/bYxOzWDavKWtUqFo60Jh6evrd3fRTy7WK97wg+r7wakoyoeL3/5UHxNrWBGqsdtp59KpKq7+9iPeHg+m1EzySt+8FKaNK9peLBrv9ofe3mbNCjNYjdukFG/gny1brM54Zkpe6SMPjX1sQox6KHV0d2CzmGmoPU9d7QXcTjtCCNKnPu2cXrD03g6lfWXIKpkopfIBkmcH5R+V3Jz2xOxt054q2P3/juV3KW5yyXiNTymWknzh/1MyRk01Ao1CiuoeKau6r1beGErdB7qv+gcvVqv0EV04ogAAAABJRU5ErkJggg==",Uc=Math.min,ha=Math.max,xg=Math.round,Af=Math.floor,ys=i=>({x:i,y:i}),J8={left:"right",right:"left",bottom:"top",top:"bottom"},X8={start:"end",end:"start"};function nb(i,n,r){return ha(i,Uc(n,r))}function ku(i,n){return typeof i=="function"?i(n):i}function ba(i){return i.split("-")[0]}function bu(i){return i.split("-")[1]}function hT(i){return i==="x"?"y":"x"}function ww(i){return i==="y"?"height":"width"}function Qg(i){return["top","bottom"].includes(ba(i))?"y":"x"}function vw(i){return hT(Qg(i))}function e9(i,n,r){r===void 0&&(r=!1);const c=bu(i),u=vw(i),h=ww(u);let f=u==="x"?c===(r?"end":"start")?"right":"left":c==="start"?"bottom":"top";return n.reference[h]>n.floating[h]&&(f=Eg(f)),[f,Eg(f)]}function t9(i){const n=Eg(i);return[ib(i),n,ib(n)]}function ib(i){return i.replace(/start|end/g,n=>X8[n])}function n9(i,n,r){const c=["left","right"],u=["right","left"],h=["top","bottom"],f=["bottom","top"];switch(i){case"top":case"bottom":return r?n?u:c:n?c:u;case"left":case"right":return n?h:f;default:return[]}}function i9(i,n,r,c){const u=bu(i);let h=n9(ba(i),r==="start",c);return u&&(h=h.map(f=>f+"-"+u),n&&(h=h.concat(h.map(ib)))),h}function Eg(i){return i.replace(/left|right|bottom|top/g,n=>J8[n])}function o9(i){return{top:0,right:0,bottom:0,left:0,...i}}function fT(i){return typeof i!="number"?o9(i):{top:i,right:i,bottom:i,left:i}}function Sg(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function tE(i,n,r){let{reference:c,floating:u}=i;const h=Qg(n),f=vw(n),m=ww(f),b=ba(n),v=h==="y",_=c.x+c.width/2-u.width/2,A=c.y+c.height/2-u.height/2,x=c[m]/2-u[m]/2;let S;switch(b){case"top":S={x:_,y:c.y-u.height};break;case"bottom":S={x:_,y:c.y+c.height};break;case"right":S={x:c.x+c.width,y:A};break;case"left":S={x:c.x-u.width,y:A};break;default:S={x:c.x,y:c.y}}switch(bu(n)){case"start":S[f]-=x*(r&&v?-1:1);break;case"end":S[f]+=x*(r&&v?-1:1);break}return S}const r9=async(i,n,r)=>{const{placement:c="bottom",strategy:u="absolute",middleware:h=[],platform:f}=r,m=h.filter(Boolean),b=await(f.isRTL==null?void 0:f.isRTL(n));let v=await f.getElementRects({reference:i,floating:n,strategy:u}),{x:_,y:A}=tE(v,c,b),x=c,S={},T=0;for(let B=0;B<m.length;B++){const{name:R,fn:O}=m[B],{x:L,y:E,data:U,reset:G}=await O({x:_,y:A,initialPlacement:c,placement:x,strategy:u,middlewareData:S,rects:v,platform:f,elements:{reference:i,floating:n}});if(_=L??_,A=E??A,S={...S,[R]:{...S[R],...U}},G&&T<=50){T++,typeof G=="object"&&(G.placement&&(x=G.placement),G.rects&&(v=G.rects===!0?await f.getElementRects({reference:i,floating:n,strategy:u}):G.rects),{x:_,y:A}=tE(v,x,b)),B=-1;continue}}return{x:_,y:A,placement:x,strategy:u,middlewareData:S}};async function gT(i,n){var r;n===void 0&&(n={});const{x:c,y:u,platform:h,rects:f,elements:m,strategy:b}=i,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:A="floating",altBoundary:x=!1,padding:S=0}=ku(n,i),T=fT(S),R=m[x?A==="floating"?"reference":"floating":A],O=Sg(await h.getClippingRect({element:(r=await(h.isElement==null?void 0:h.isElement(R)))==null||r?R:R.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(m.floating)),boundary:v,rootBoundary:_,strategy:b})),L=A==="floating"?{...f.floating,x:c,y:u}:f.reference,E=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m.floating)),U=await(h.isElement==null?void 0:h.isElement(E))?await(h.getScale==null?void 0:h.getScale(E))||{x:1,y:1}:{x:1,y:1},G=Sg(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({rect:L,offsetParent:E,strategy:b}):L);return{top:(O.top-G.top+T.top)/U.y,bottom:(G.bottom-O.bottom+T.bottom)/U.y,left:(O.left-G.left+T.left)/U.x,right:(G.right-O.right+T.right)/U.x}}const s9=i=>({name:"arrow",options:i,async fn(n){const{x:r,y:c,placement:u,rects:h,platform:f,elements:m,middlewareData:b}=n,{element:v,padding:_=0}=ku(i,n)||{};if(v==null)return{};const A=fT(_),x={x:r,y:c},S=vw(u),T=ww(S),B=await f.getDimensions(v),R=S==="y",O=R?"top":"left",L=R?"bottom":"right",E=R?"clientHeight":"clientWidth",U=h.reference[T]+h.reference[S]-x[S]-h.floating[T],G=x[S]-h.reference[S],te=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v));let J=te?te[E]:0;(!J||!await(f.isElement==null?void 0:f.isElement(te)))&&(J=m.floating[E]||h.floating[T]);const oe=U/2-G/2,le=J/2-B[T]/2-1,pe=Uc(A[O],le),K=Uc(A[L],le),Z=pe,$=J-B[T]-K,V=J/2-B[T]/2+oe,H=nb(Z,V,$),X=!b.arrow&&bu(u)!=null&&V!=H&&h.reference[T]/2-(V<Z?pe:K)-B[T]/2<0,re=X?V<Z?V-Z:V-$:0;return{[S]:x[S]+re,data:{[S]:H,centerOffset:V-H-re,...X&&{alignmentOffset:re}},reset:X}}}),a9=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(n){var r,c;const{placement:u,middlewareData:h,rects:f,initialPlacement:m,platform:b,elements:v}=n,{mainAxis:_=!0,crossAxis:A=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:B=!0,...R}=ku(i,n);if((r=h.arrow)!=null&&r.alignmentOffset)return{};const O=ba(u),L=ba(m)===m,E=await(b.isRTL==null?void 0:b.isRTL(v.floating)),U=x||(L||!B?[Eg(m)]:t9(m));!x&&T!=="none"&&U.push(...i9(m,B,T,E));const G=[m,...U],te=await gT(n,R),J=[];let oe=((c=h.flip)==null?void 0:c.overflows)||[];if(_&&J.push(te[O]),A){const Z=e9(u,f,E);J.push(te[Z[0]],te[Z[1]])}if(oe=[...oe,{placement:u,overflows:J}],!J.every(Z=>Z<=0)){var le,pe;const Z=(((le=h.flip)==null?void 0:le.index)||0)+1,$=G[Z];if($)return{data:{index:Z,overflows:oe},reset:{placement:$}};let V=(pe=oe.filter(H=>H.overflows[0]<=0).sort((H,X)=>H.overflows[1]-X.overflows[1])[0])==null?void 0:pe.placement;if(!V)switch(S){case"bestFit":{var K;const H=(K=oe.map(X=>[X.placement,X.overflows.filter(re=>re>0).reduce((re,ie)=>re+ie,0)]).sort((X,re)=>X[1]-re[1])[0])==null?void 0:K[0];H&&(V=H);break}case"initialPlacement":V=m;break}if(u!==V)return{reset:{placement:V}}}return{}}}};async function c9(i,n){const{placement:r,platform:c,elements:u}=i,h=await(c.isRTL==null?void 0:c.isRTL(u.floating)),f=ba(r),m=bu(r),b=Qg(r)==="y",v=["left","top"].includes(f)?-1:1,_=h&&b?-1:1,A=ku(n,i);let{mainAxis:x,crossAxis:S,alignmentAxis:T}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...A};return m&&typeof T=="number"&&(S=m==="end"?T*-1:T),b?{x:S*_,y:x*v}:{x:x*v,y:S*_}}const l9=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(n){var r,c;const{x:u,y:h,placement:f,middlewareData:m}=n,b=await c9(n,i);return f===((r=m.offset)==null?void 0:r.placement)&&(c=m.arrow)!=null&&c.alignmentOffset?{}:{x:u+b.x,y:h+b.y,data:{...b,placement:f}}}}},d9=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(n){const{x:r,y:c,placement:u}=n,{mainAxis:h=!0,crossAxis:f=!1,limiter:m={fn:R=>{let{x:O,y:L}=R;return{x:O,y:L}}},...b}=ku(i,n),v={x:r,y:c},_=await gT(n,b),A=Qg(ba(u)),x=hT(A);let S=v[x],T=v[A];if(h){const R=x==="y"?"top":"left",O=x==="y"?"bottom":"right",L=S+_[R],E=S-_[O];S=nb(L,S,E)}if(f){const R=A==="y"?"top":"left",O=A==="y"?"bottom":"right",L=T+_[R],E=T-_[O];T=nb(L,T,E)}const B=m.fn({...n,[x]:S,[A]:T});return{...B,data:{x:B.x-r,y:B.y-c}}}}};function As(i){return pT(i)?(i.nodeName||"").toLowerCase():"#document"}function Ni(i){var n;return(i==null||(n=i.ownerDocument)==null?void 0:n.defaultView)||window}function Nr(i){var n;return(n=(pT(i)?i.ownerDocument:i.document)||window.document)==null?void 0:n.documentElement}function pT(i){return i instanceof Node||i instanceof Ni(i).Node}function Dr(i){return i instanceof Element||i instanceof Ni(i).Element}function Yo(i){return i instanceof HTMLElement||i instanceof Ni(i).HTMLElement}function nE(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Ni(i).ShadowRoot}function wu(i){const{overflow:n,overflowX:r,overflowY:c,display:u}=no(i);return/auto|scroll|overlay|hidden|clip/.test(n+c+r)&&!["inline","contents"].includes(u)}function u9(i){return["table","td","th"].includes(As(i))}function _w(i){const n=yw(),r=no(i);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(c=>(r.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(r.contain||"").includes(c))}function h9(i){let n=Hc(i);for(;Yo(n)&&!Jg(n);){if(_w(n))return n;n=Hc(n)}return null}function yw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jg(i){return["html","body","#document"].includes(As(i))}function no(i){return Ni(i).getComputedStyle(i)}function Xg(i){return Dr(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Hc(i){if(As(i)==="html")return i;const n=i.assignedSlot||i.parentNode||nE(i)&&i.host||Nr(i);return nE(n)?n.host:n}function mT(i){const n=Hc(i);return Jg(n)?i.ownerDocument?i.ownerDocument.body:i.body:Yo(n)&&wu(n)?n:mT(n)}function ou(i,n,r){var c;n===void 0&&(n=[]),r===void 0&&(r=!0);const u=mT(i),h=u===((c=i.ownerDocument)==null?void 0:c.body),f=Ni(u);return h?n.concat(f,f.visualViewport||[],wu(u)?u:[],f.frameElement&&r?ou(f.frameElement):[]):n.concat(u,ou(u,[],r))}function kT(i){const n=no(i);let r=parseFloat(n.width)||0,c=parseFloat(n.height)||0;const u=Yo(i),h=u?i.offsetWidth:r,f=u?i.offsetHeight:c,m=xg(r)!==h||xg(c)!==f;return m&&(r=h,c=f),{width:r,height:c,$:m}}function Aw(i){return Dr(i)?i:i.contextElement}function Oc(i){const n=Aw(i);if(!Yo(n))return ys(1);const r=n.getBoundingClientRect(),{width:c,height:u,$:h}=kT(n);let f=(h?xg(r.width):r.width)/c,m=(h?xg(r.height):r.height)/u;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const f9=ys(0);function bT(i){const n=Ni(i);return!yw()||!n.visualViewport?f9:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function g9(i,n,r){return n===void 0&&(n=!1),!r||n&&r!==Ni(i)?!1:n}function wa(i,n,r,c){n===void 0&&(n=!1),r===void 0&&(r=!1);const u=i.getBoundingClientRect(),h=Aw(i);let f=ys(1);n&&(c?Dr(c)&&(f=Oc(c)):f=Oc(i));const m=g9(h,r,c)?bT(h):ys(0);let b=(u.left+m.x)/f.x,v=(u.top+m.y)/f.y,_=u.width/f.x,A=u.height/f.y;if(h){const x=Ni(h),S=c&&Dr(c)?Ni(c):c;let T=x.frameElement;for(;T&&c&&S!==x;){const B=Oc(T),R=T.getBoundingClientRect(),O=no(T),L=R.left+(T.clientLeft+parseFloat(O.paddingLeft))*B.x,E=R.top+(T.clientTop+parseFloat(O.paddingTop))*B.y;b*=B.x,v*=B.y,_*=B.x,A*=B.y,b+=L,v+=E,T=Ni(T).frameElement}}return Sg({width:_,height:A,x:b,y:v})}function p9(i){let{rect:n,offsetParent:r,strategy:c}=i;const u=Yo(r),h=Nr(r);if(r===h)return n;let f={scrollLeft:0,scrollTop:0},m=ys(1);const b=ys(0);if((u||!u&&c!=="fixed")&&((As(r)!=="body"||wu(h))&&(f=Xg(r)),Yo(r))){const v=wa(r);m=Oc(r),b.x=v.x+r.clientLeft,b.y=v.y+r.clientTop}return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+b.x,y:n.y*m.y-f.scrollTop*m.y+b.y}}function m9(i){return Array.from(i.getClientRects())}function wT(i){return wa(Nr(i)).left+Xg(i).scrollLeft}function k9(i){const n=Nr(i),r=Xg(i),c=i.ownerDocument.body,u=ha(n.scrollWidth,n.clientWidth,c.scrollWidth,c.clientWidth),h=ha(n.scrollHeight,n.clientHeight,c.scrollHeight,c.clientHeight);let f=-r.scrollLeft+wT(i);const m=-r.scrollTop;return no(c).direction==="rtl"&&(f+=ha(n.clientWidth,c.clientWidth)-u),{width:u,height:h,x:f,y:m}}function b9(i,n){const r=Ni(i),c=Nr(i),u=r.visualViewport;let h=c.clientWidth,f=c.clientHeight,m=0,b=0;if(u){h=u.width,f=u.height;const v=yw();(!v||v&&n==="fixed")&&(m=u.offsetLeft,b=u.offsetTop)}return{width:h,height:f,x:m,y:b}}function w9(i,n){const r=wa(i,!0,n==="fixed"),c=r.top+i.clientTop,u=r.left+i.clientLeft,h=Yo(i)?Oc(i):ys(1),f=i.clientWidth*h.x,m=i.clientHeight*h.y,b=u*h.x,v=c*h.y;return{width:f,height:m,x:b,y:v}}function iE(i,n,r){let c;if(n==="viewport")c=b9(i,r);else if(n==="document")c=k9(Nr(i));else if(Dr(n))c=w9(n,r);else{const u=bT(i);c={...n,x:n.x-u.x,y:n.y-u.y}}return Sg(c)}function vT(i,n){const r=Hc(i);return r===n||!Dr(r)||Jg(r)?!1:no(r).position==="fixed"||vT(r,n)}function v9(i,n){const r=n.get(i);if(r)return r;let c=ou(i,[],!1).filter(m=>Dr(m)&&As(m)!=="body"),u=null;const h=no(i).position==="fixed";let f=h?Hc(i):i;for(;Dr(f)&&!Jg(f);){const m=no(f),b=_w(f);!b&&m.position==="fixed"&&(u=null),(h?!b&&!u:!b&&m.position==="static"&&!!u&&["absolute","fixed"].includes(u.position)||wu(f)&&!b&&vT(i,f))?c=c.filter(_=>_!==f):u=m,f=Hc(f)}return n.set(i,c),c}function _9(i){let{element:n,boundary:r,rootBoundary:c,strategy:u}=i;const f=[...r==="clippingAncestors"?v9(n,this._c):[].concat(r),c],m=f[0],b=f.reduce((v,_)=>{const A=iE(n,_,u);return v.top=ha(A.top,v.top),v.right=Uc(A.right,v.right),v.bottom=Uc(A.bottom,v.bottom),v.left=ha(A.left,v.left),v},iE(n,m,u));return{width:b.right-b.left,height:b.bottom-b.top,x:b.left,y:b.top}}function y9(i){return kT(i)}function A9(i,n,r){const c=Yo(n),u=Nr(n),h=r==="fixed",f=wa(i,!0,h,n);let m={scrollLeft:0,scrollTop:0};const b=ys(0);if(c||!c&&!h)if((As(n)!=="body"||wu(u))&&(m=Xg(n)),c){const v=wa(n,!0,h,n);b.x=v.x+n.clientLeft,b.y=v.y+n.clientTop}else u&&(b.x=wT(u));return{x:f.left+m.scrollLeft-b.x,y:f.top+m.scrollTop-b.y,width:f.width,height:f.height}}function oE(i,n){return!Yo(i)||no(i).position==="fixed"?null:n?n(i):i.offsetParent}function _T(i,n){const r=Ni(i);if(!Yo(i))return r;let c=oE(i,n);for(;c&&u9(c)&&no(c).position==="static";)c=oE(c,n);return c&&(As(c)==="html"||As(c)==="body"&&no(c).position==="static"&&!_w(c))?r:c||h9(i)||r}const C9=async function(i){let{reference:n,floating:r,strategy:c}=i;const u=this.getOffsetParent||_T,h=this.getDimensions;return{reference:A9(n,await u(r),c),floating:{x:0,y:0,...await h(r)}}};function x9(i){return no(i).direction==="rtl"}const E9={convertOffsetParentRelativeRectToViewportRelativeRect:p9,getDocumentElement:Nr,getClippingRect:_9,getOffsetParent:_T,getElementRects:C9,getClientRects:m9,getDimensions:y9,getScale:Oc,isElement:Dr,isRTL:x9};function S9(i,n){let r=null,c;const u=Nr(i);function h(){clearTimeout(c),r&&r.disconnect(),r=null}function f(m,b){m===void 0&&(m=!1),b===void 0&&(b=1),h();const{left:v,top:_,width:A,height:x}=i.getBoundingClientRect();if(m||n(),!A||!x)return;const S=Af(_),T=Af(u.clientWidth-(v+A)),B=Af(u.clientHeight-(_+x)),R=Af(v),L={rootMargin:-S+"px "+-T+"px "+-B+"px "+-R+"px",threshold:ha(0,Uc(1,b))||1};let E=!0;function U(G){const te=G[0].intersectionRatio;if(te!==b){if(!E)return f();te?f(!1,te):c=setTimeout(()=>{f(!1,1e-7)},100)}E=!1}try{r=new IntersectionObserver(U,{...L,root:u.ownerDocument})}catch{r=new IntersectionObserver(U,L)}r.observe(i)}return f(!0),h}function D9(i,n,r,c){c===void 0&&(c={});const{ancestorScroll:u=!0,ancestorResize:h=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:b=!1}=c,v=Aw(i),_=u||h?[...v?ou(v):[],...ou(n)]:[];_.forEach(O=>{u&&O.addEventListener("scroll",r,{passive:!0}),h&&O.addEventListener("resize",r)});const A=v&&m?S9(v,r):null;let x=-1,S=null;f&&(S=new ResizeObserver(O=>{let[L]=O;L&&L.target===v&&S&&(S.unobserve(n),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{S&&S.observe(n)})),r()}),v&&!b&&S.observe(v),S.observe(n));let T,B=b?wa(i):null;b&&R();function R(){const O=wa(i);B&&(O.x!==B.x||O.y!==B.y||O.width!==B.width||O.height!==B.height)&&r(),B=O,T=requestAnimationFrame(R)}return r(),()=>{_.forEach(O=>{u&&O.removeEventListener("scroll",r),h&&O.removeEventListener("resize",r)}),A&&A(),S&&S.disconnect(),S=null,b&&cancelAnimationFrame(T)}}const rE=(i,n,r)=>{const c=new Map,u={platform:E9,...r},h={...u.platform,_c:c};return r9(i,n,{...u,platform:h})};var yT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var n={}.hasOwnProperty;function r(){for(var h="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(h=u(h,c(m)))}return h}function c(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return r.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var f="";for(var m in h)n.call(h,m)&&h[m]&&(f=u(f,m));return f}function u(h,f){return f?h?h+" "+f:h+f:h}i.exports?(r.default=r,i.exports=r):window.classNames=r})()})(yT);var T9=yT.exports;const ob=db(T9);/*
* React Tooltip
* {@link https://github.com/ReactTooltip/react-tooltip}
* @copyright ReactTooltip Team
* @license MIT
*/const I9="react-tooltip-core-styles",M9="react-tooltip-base-styles",sE={core:!1,base:!1};function aE({css:i,id:n=M9,type:r="base",ref:c}){var u,h;if(!i||typeof document>"u"||sE[r]||r==="core"&&typeof process<"u"&&(!((u=process==null?void 0:process.env)===null||u===void 0)&&u.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((h=process==null?void 0:process.env)===null||h===void 0)&&h.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(n=I9),c||(c={});const{insertAt:f}=c;if(document.getElementById(n))return void console.warn(`[react-tooltip] Element with id '${n}' already exists. Call \`removeStyle()\` first`);const m=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.id=n,b.type="text/css",f==="top"&&m.firstChild?m.insertBefore(b,m.firstChild):m.appendChild(b),b.styleSheet?b.styleSheet.cssText=i:b.appendChild(document.createTextNode(i)),sE[r]=!0}const cE=(i,n,r)=>{let c=null;return function(...u){const h=()=>{c=null,r||i.apply(this,u)};r&&!c&&(i.apply(this,u),c=setTimeout(h,n)),r||(c&&clearTimeout(c),c=setTimeout(h,n))}},N9="DEFAULT_TOOLTIP_ID",O9={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},B9=Y.createContext({getTooltipData:()=>O9});function AT(i=N9){return Y.useContext(B9).getTooltipData(i)}const P9=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,L9=i=>{if(!(i instanceof HTMLElement||i instanceof SVGElement))return!1;const n=getComputedStyle(i);return["overflow","overflow-x","overflow-y"].some(r=>{const c=n.getPropertyValue(r);return c==="auto"||c==="scroll"})},lE=i=>{if(!i)return null;let n=i.parentElement;for(;n;){if(L9(n))return n;n=n.parentElement}return document.scrollingElement||document.documentElement},dE=async({elementReference:i=null,tooltipReference:n=null,tooltipArrowReference:r=null,place:c="top",offset:u=10,strategy:h="absolute",middlewares:f=[l9(Number(u)),a9({fallbackAxisSideDirection:"start"}),d9({padding:5})],border:m})=>{if(!i)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};if(n===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};const b=f;return r?(b.push(s9({element:r,padding:5})),rE(i,n,{placement:c,strategy:h,middleware:b}).then(({x:v,y:_,placement:A,middlewareData:x})=>{var S,T;const B={left:`${v}px`,top:`${_}px`,border:m},{x:R,y:O}=(S=x.arrow)!==null&&S!==void 0?S:{x:0,y:0},L=(T={top:"bottom",right:"left",bottom:"top",left:"right"}[A.split("-")[0]])!==null&&T!==void 0?T:"bottom",E=m&&{borderBottom:m,borderRight:m};let U=0;if(m){const G=`${m}`.match(/(\d+)px/);U=G!=null&&G[1]?Number(G[1]):1}return{tooltipStyles:B,tooltipArrowStyles:{left:R!=null?`${R}px`:"",top:O!=null?`${O}px`:"",right:"",bottom:"",...E,[L]:`-${4+U}px`},place:A}})):rE(i,n,{placement:"bottom",strategy:h,middleware:b}).then(({x:v,y:_,placement:A})=>({tooltipStyles:{left:`${v}px`,top:`${_}px`},tooltipArrowStyles:{},place:A}))};var cc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},zk={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const z9=({forwardRef:i,id:n,className:r,classNameArrow:c,variant:u="dark",anchorId:h,anchorSelect:f,place:m="top",offset:b=10,events:v=["hover"],openOnClick:_=!1,positionStrategy:A="absolute",middlewares:x,wrapper:S,delayShow:T=0,delayHide:B=0,float:R=!1,hidden:O=!1,noArrow:L=!1,clickable:E=!1,closeOnEsc:U=!1,closeOnScroll:G=!1,closeOnResize:te=!1,openEvents:J,closeEvents:oe,globalCloseEvents:le,imperativeModeOnly:pe,style:K,position:Z,afterShow:$,afterHide:V,content:H,contentWrapperRef:X,isOpen:re,setIsOpen:ie,activeAnchor:ne,setActiveAnchor:ge,border:me,opacity:Ee,arrowColor:lt,role:Ct="tooltip"})=>{var mt;const Ie=Y.useRef(null),Mn=Y.useRef(null),Me=Y.useRef(null),cn=Y.useRef(null),Li=Y.useRef(null),[io,Ko]=Y.useState(m),[Eo,oo]=Y.useState({}),[Dt,Yt]=Y.useState({}),[ln,Zo]=Y.useState(!1),[Kt,Rt]=Y.useState(!1),[et,Qo]=Y.useState(null),Jo=Y.useRef(!1),mi=Y.useRef(null),{anchorRefs:Or,setActiveAnchor:Br}=AT(n),ti=Y.useRef(!1),[Nn,_n]=Y.useState([]),wt=Y.useRef(!1),Ft=_||v.includes("click"),ni=Ft||(J==null?void 0:J.click)||(J==null?void 0:J.dblclick)||(J==null?void 0:J.mousedown),zi=J?{...J}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!J&&Ft&&Object.assign(zi,{mouseenter:!1,focus:!1,click:!0});const ji=oe?{...oe}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!oe&&Ft&&Object.assign(ji,{mouseleave:!1,blur:!1});const tn=le?{...le}:{escape:U||!1,scroll:G||!1,resize:te||!1,clickOutsideAnchor:ni||!1};pe&&(Object.assign(zi,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ji,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(tn,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),P9(()=>(wt.current=!0,()=>{wt.current=!1}),[]);const yn=ke=>{wt.current&&(ke&&Rt(!0),setTimeout(()=>{wt.current&&(ie==null||ie(ke),re===void 0&&Zo(ke))},10))};Y.useEffect(()=>{if(re===void 0)return()=>null;re&&Rt(!0);const ke=setTimeout(()=>{Zo(re)},10);return()=>{clearTimeout(ke)}},[re]),Y.useEffect(()=>{if(ln!==Jo.current)if(Li.current&&clearTimeout(Li.current),Jo.current=ln,ln)$==null||$();else{const ke=(De=>{const Se=De.match(/^([\d.]+)(m?s?)$/);if(!Se)return 0;const[,xt,Et]=Se;return Et!=="s"&&Et!=="ms"?0:Number(xt)*(Et==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Li.current=setTimeout(()=>{Rt(!1),Qo(null),V==null||V()},ke+25)}},[ln]);const Xo=(ke=T)=>{Me.current&&clearTimeout(Me.current),Me.current=setTimeout(()=>{yn(!0)},ke)},An=(ke=B)=>{cn.current&&clearTimeout(cn.current),cn.current=setTimeout(()=>{ti.current||yn(!1)},ke)},ro=ke=>{var De;if(!ke)return;const Se=(De=ke.currentTarget)!==null&&De!==void 0?De:ke.target;if(!(Se!=null&&Se.isConnected))return ge(null),void Br({current:null});T?Xo():yn(!0),ge(Se),Br({current:Se}),cn.current&&clearTimeout(cn.current)},So=()=>{E?An(B||100):B?An():yn(!1),Me.current&&clearTimeout(Me.current)},Vt=({x:ke,y:De})=>{var Se;const xt={getBoundingClientRect:()=>({x:ke,y:De,width:0,height:0,top:De,left:ke,right:ke,bottom:De})};dE({place:(Se=et==null?void 0:et.place)!==null&&Se!==void 0?Se:m,offset:b,elementReference:xt,tooltipReference:Ie.current,tooltipArrowReference:Mn.current,strategy:A,middlewares:x,border:me}).then(Et=>{Object.keys(Et.tooltipStyles).length&&oo(Et.tooltipStyles),Object.keys(Et.tooltipArrowStyles).length&&Yt(Et.tooltipArrowStyles),Ko(Et.place)})},Ut=ke=>{if(!ke)return;const De=ke,Se={x:De.clientX,y:De.clientY};Vt(Se),mi.current=Se},Ht=ke=>{var De;if(!ln)return;const Se=ke.target;!((De=Ie.current)===null||De===void 0)&&De.contains(Se)||[document.querySelector(`[id='${h}']`),...Nn].some(xt=>xt==null?void 0:xt.contains(Se))||(yn(!1),Me.current&&clearTimeout(Me.current))},Ce=cE(ro,50,!0),We=cE(So,50,!0),nn=Y.useCallback(()=>{var ke,De;const Se=(ke=et==null?void 0:et.position)!==null&&ke!==void 0?ke:Z;Se?Vt(Se):R?mi.current&&Vt(mi.current):ne!=null&&ne.isConnected&&dE({place:(De=et==null?void 0:et.place)!==null&&De!==void 0?De:m,offset:b,elementReference:ne,tooltipReference:Ie.current,tooltipArrowReference:Mn.current,strategy:A,middlewares:x,border:me}).then(xt=>{wt.current&&(Object.keys(xt.tooltipStyles).length&&oo(xt.tooltipStyles),Object.keys(xt.tooltipArrowStyles).length&&Yt(xt.tooltipArrowStyles),Ko(xt.place))})},[ln,ne,H,K,m,et==null?void 0:et.place,b,A,Z,et==null?void 0:et.position,R]);Y.useEffect(()=>{var ke,De;const Se=new Set(Or);Nn.forEach(rt=>{Se.add({current:rt})});const xt=document.querySelector(`[id='${h}']`);xt&&Se.add({current:xt});const Et=()=>{yn(!1)},oi=lE(ne),ki=lE(Ie.current);tn.scroll&&(window.addEventListener("scroll",Et),oi==null||oi.addEventListener("scroll",Et),ki==null||ki.addEventListener("scroll",Et));let Tt=null;tn.resize?window.addEventListener("resize",Et):ne&&Ie.current&&(Tt=D9(ne,Ie.current,nn,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const It=rt=>{rt.key==="Escape"&&yn(!1)};tn.escape&&window.addEventListener("keydown",It),tn.clickOutsideAnchor&&window.addEventListener("click",Ht);const ot=[],er=rt=>{ln&&(rt==null?void 0:rt.target)===ne||ro(rt)},ol=rt=>{ln&&(rt==null?void 0:rt.target)===ne&&So()},Hn=["mouseenter","mouseleave","focus","blur"],Ca=["click","dblclick","mousedown","mouseup"];Object.entries(zi).forEach(([rt,dn])=>{dn&&(Hn.includes(rt)?ot.push({event:rt,listener:Ce}):Ca.includes(rt)&&ot.push({event:rt,listener:er}))}),Object.entries(ji).forEach(([rt,dn])=>{dn&&(Hn.includes(rt)?ot.push({event:rt,listener:We}):Ca.includes(rt)&&ot.push({event:rt,listener:ol}))}),R&&ot.push({event:"mousemove",listener:Ut});const xa=()=>{ti.current=!0},Ea=()=>{ti.current=!1,So()};return E&&!ni&&((ke=Ie.current)===null||ke===void 0||ke.addEventListener("mouseenter",xa),(De=Ie.current)===null||De===void 0||De.addEventListener("mouseleave",Ea)),ot.forEach(({event:rt,listener:dn})=>{Se.forEach(Ts=>{var tr;(tr=Ts.current)===null||tr===void 0||tr.addEventListener(rt,dn)})}),()=>{var rt,dn;tn.scroll&&(window.removeEventListener("scroll",Et),oi==null||oi.removeEventListener("scroll",Et),ki==null||ki.removeEventListener("scroll",Et)),tn.resize?window.removeEventListener("resize",Et):Tt==null||Tt(),tn.clickOutsideAnchor&&window.removeEventListener("click",Ht),tn.escape&&window.removeEventListener("keydown",It),E&&!ni&&((rt=Ie.current)===null||rt===void 0||rt.removeEventListener("mouseenter",xa),(dn=Ie.current)===null||dn===void 0||dn.removeEventListener("mouseleave",Ea)),ot.forEach(({event:Ts,listener:tr})=>{Se.forEach(Do=>{var bi;(bi=Do.current)===null||bi===void 0||bi.removeEventListener(Ts,tr)})})}},[ne,nn,Kt,Or,Nn,J,oe,le,Ft]),Y.useEffect(()=>{var ke,De;let Se=(De=(ke=et==null?void 0:et.anchorSelect)!==null&&ke!==void 0?ke:f)!==null&&De!==void 0?De:"";!Se&&n&&(Se=`[data-tooltip-id='${n}']`);const xt=new MutationObserver(Et=>{const oi=[],ki=[];Et.forEach(Tt=>{if(Tt.type==="attributes"&&Tt.attributeName==="data-tooltip-id"&&Tt.target.getAttribute("data-tooltip-id")===n&&oi.push(Tt.target),Tt.type==="childList"){if(ne){const It=[...Tt.removedNodes].filter(ot=>ot.nodeType===1);if(Se)try{ki.push(...It.filter(ot=>ot.matches(Se))),ki.push(...It.flatMap(ot=>[...ot.querySelectorAll(Se)]))}catch{}It.some(ot=>{var er;return!!(!((er=ot==null?void 0:ot.contains)===null||er===void 0)&&er.call(ot,ne))&&(Rt(!1),yn(!1),ge(null),Me.current&&clearTimeout(Me.current),cn.current&&clearTimeout(cn.current),!0)})}if(Se)try{const It=[...Tt.addedNodes].filter(ot=>ot.nodeType===1);oi.push(...It.filter(ot=>ot.matches(Se))),oi.push(...It.flatMap(ot=>[...ot.querySelectorAll(Se)]))}catch{}}}),(oi.length||ki.length)&&_n(Tt=>[...Tt.filter(It=>!ki.includes(It)),...oi])});return xt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{xt.disconnect()}},[n,f,et==null?void 0:et.anchorSelect,ne]),Y.useEffect(()=>{nn()},[nn]),Y.useEffect(()=>{if(!(X!=null&&X.current))return()=>null;const ke=new ResizeObserver(()=>{setTimeout(()=>nn())});return ke.observe(X.current),()=>{ke.disconnect()}},[H,X==null?void 0:X.current]),Y.useEffect(()=>{var ke;const De=document.querySelector(`[id='${h}']`),Se=[...Nn,De];ne&&Se.includes(ne)||ge((ke=Nn[0])!==null&&ke!==void 0?ke:De)},[h,Nn,ne]),Y.useEffect(()=>()=>{Me.current&&clearTimeout(Me.current),cn.current&&clearTimeout(cn.current)},[]),Y.useEffect(()=>{var ke;let De=(ke=et==null?void 0:et.anchorSelect)!==null&&ke!==void 0?ke:f;if(!De&&n&&(De=`[data-tooltip-id='${n}']`),De)try{const Se=Array.from(document.querySelectorAll(De));_n(Se)}catch{_n([])}},[n,f,et==null?void 0:et.anchorSelect]);const On=(mt=et==null?void 0:et.content)!==null&&mt!==void 0?mt:H,ii=ln&&Object.keys(Eo).length>0;return Y.useImperativeHandle(i,()=>({open:ke=>{if(ke!=null&&ke.anchorSelect)try{document.querySelector(ke.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ke.anchorSelect}" is not a valid CSS selector`)}Qo(ke??null),ke!=null&&ke.delay?Xo(ke.delay):yn(!0)},close:ke=>{ke!=null&&ke.delay?An(ke.delay):yn(!1)},activeAnchor:ne,place:io,isOpen:!!(Kt&&!O&&On&&ii)})),Kt&&!O&&On?mr.createElement(S,{id:n,role:Ct,className:ob("react-tooltip",cc.tooltip,zk.tooltip,zk[u],r,`react-tooltip__place-${io}`,cc[ii?"show":"closing"],ii?"react-tooltip__show":"react-tooltip__closing",A==="fixed"&&cc.fixed,E&&cc.clickable),onTransitionEnd:ke=>{Li.current&&clearTimeout(Li.current),ln||ke.propertyName!=="opacity"||(Rt(!1),Qo(null),V==null||V())},style:{...K,...Eo,opacity:Ee!==void 0&&ii?Ee:void 0},ref:Ie},On,mr.createElement(S,{className:ob("react-tooltip-arrow",cc.arrow,zk.arrow,c,L&&cc.noArrow),style:{...Dt,background:lt?`linear-gradient(to right bottom, transparent 50%, ${lt} 50%)`:void 0},ref:Mn})):null},j9=({content:i})=>mr.createElement("span",{dangerouslySetInnerHTML:{__html:i}}),uE=(i,n)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(i,n);mr.forwardRef(({id:i,anchorId:n,anchorSelect:r,content:c,html:u,render:h,className:f,classNameArrow:m,variant:b="dark",place:v="top",offset:_=10,wrapper:A="div",children:x=null,events:S=["hover"],openOnClick:T=!1,positionStrategy:B="absolute",middlewares:R,delayShow:O=0,delayHide:L=0,float:E=!1,hidden:U=!1,noArrow:G=!1,clickable:te=!1,closeOnEsc:J=!1,closeOnScroll:oe=!1,closeOnResize:le=!1,openEvents:pe,closeEvents:K,globalCloseEvents:Z,imperativeModeOnly:$=!1,style:V,position:H,isOpen:X,disableStyleInjection:re=!1,border:ie,opacity:ne,arrowColor:ge,setIsOpen:me,afterShow:Ee,afterHide:lt,role:Ct="tooltip"},mt)=>{const[Ie,Mn]=Y.useState(c),[Me,cn]=Y.useState(u),[Li,io]=Y.useState(v),[Ko,Eo]=Y.useState(b),[oo,Dt]=Y.useState(_),[Yt,ln]=Y.useState(O),[Zo,Kt]=Y.useState(L),[Rt,et]=Y.useState(E),[Qo,Jo]=Y.useState(U),[mi,Or]=Y.useState(A),[Br,ti]=Y.useState(S),[Nn,_n]=Y.useState(B),[wt,Ft]=Y.useState(null),[ni,zi]=Y.useState(null),ji=Y.useRef(re),{anchorRefs:tn,activeAnchor:yn}=AT(i),Xo=Ut=>Ut==null?void 0:Ut.getAttributeNames().reduce((Ht,Ce)=>{var We;return Ce.startsWith("data-tooltip-")&&(Ht[Ce.replace(/^data-tooltip-/,"")]=(We=Ut==null?void 0:Ut.getAttribute(Ce))!==null&&We!==void 0?We:null),Ht},{}),An=Ut=>{const Ht={place:Ce=>{var We;io((We=Ce)!==null&&We!==void 0?We:v)},content:Ce=>{Mn(Ce??c)},html:Ce=>{cn(Ce??u)},variant:Ce=>{var We;Eo((We=Ce)!==null&&We!==void 0?We:b)},offset:Ce=>{Dt(Ce===null?_:Number(Ce))},wrapper:Ce=>{var We;Or((We=Ce)!==null&&We!==void 0?We:A)},events:Ce=>{const We=Ce==null?void 0:Ce.split(" ");ti(We??S)},"position-strategy":Ce=>{var We;_n((We=Ce)!==null&&We!==void 0?We:B)},"delay-show":Ce=>{ln(Ce===null?O:Number(Ce))},"delay-hide":Ce=>{Kt(Ce===null?L:Number(Ce))},float:Ce=>{et(Ce===null?E:Ce==="true")},hidden:Ce=>{Jo(Ce===null?U:Ce==="true")},"class-name":Ce=>{Ft(Ce)}};Object.values(Ht).forEach(Ce=>Ce(null)),Object.entries(Ut).forEach(([Ce,We])=>{var nn;(nn=Ht[Ce])===null||nn===void 0||nn.call(Ht,We)})};Y.useEffect(()=>{Mn(c)},[c]),Y.useEffect(()=>{cn(u)},[u]),Y.useEffect(()=>{io(v)},[v]),Y.useEffect(()=>{Eo(b)},[b]),Y.useEffect(()=>{Dt(_)},[_]),Y.useEffect(()=>{ln(O)},[O]),Y.useEffect(()=>{Kt(L)},[L]),Y.useEffect(()=>{et(E)},[E]),Y.useEffect(()=>{Jo(U)},[U]),Y.useEffect(()=>{_n(B)},[B]),Y.useEffect(()=>{ji.current!==re&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[re]),Y.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:re==="core",disableBase:re}}))},[]),Y.useEffect(()=>{var Ut;const Ht=new Set(tn);let Ce=r;if(!Ce&&i&&(Ce=`[data-tooltip-id='${i}']`),Ce)try{document.querySelectorAll(Ce).forEach(ke=>{Ht.add({current:ke})})}catch{console.warn(`[react-tooltip] "${Ce}" is not a valid CSS selector`)}const We=document.querySelector(`[id='${n}']`);if(We&&Ht.add({current:We}),!Ht.size)return()=>null;const nn=(Ut=ni??We)!==null&&Ut!==void 0?Ut:yn.current,On=new MutationObserver(ke=>{ke.forEach(De=>{var Se;if(!nn||De.type!=="attributes"||!(!((Se=De.attributeName)===null||Se===void 0)&&Se.startsWith("data-tooltip-")))return;const xt=Xo(nn);An(xt)})}),ii={attributes:!0,childList:!1,subtree:!1};if(nn){const ke=Xo(nn);An(ke),On.observe(nn,ii)}return()=>{On.disconnect()}},[tn,yn,ni,n,r]),Y.useEffect(()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ie&&!uE("border",`${ie}`)&&console.warn(`[react-tooltip] "${ie}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ne&&!uE("opacity",`${ne}`)&&console.warn(`[react-tooltip] "${ne}" is not a valid \`opacity\`.`)},[]);let ro=x;const So=Y.useRef(null);if(h){const Ut=h({content:Ie??null,activeAnchor:ni});ro=Ut?mr.createElement("div",{ref:So,className:"react-tooltip-content-wrapper"},Ut):null}else Ie&&(ro=Ie);Me&&(ro=mr.createElement(j9,{content:Me}));const Vt={forwardRef:mt,id:i,anchorId:n,anchorSelect:r,className:ob(f,wt),classNameArrow:m,content:ro,contentWrapperRef:So,place:Li,variant:Ko,offset:oo,wrapper:mi,events:Br,openOnClick:T,positionStrategy:Nn,middlewares:R,delayShow:Yt,delayHide:Zo,float:Rt,hidden:Qo,noArrow:G,clickable:te,closeOnEsc:J,closeOnScroll:oe,closeOnResize:le,openEvents:pe,closeEvents:K,globalCloseEvents:Z,imperativeModeOnly:$,style:V,position:H,isOpen:X,border:ie,opacity:ne,arrowColor:ge,setIsOpen:me,afterShow:Ee,afterHide:lt,activeAnchor:ni,setActiveAnchor:Ut=>zi(Ut),role:Ct};return mr.createElement(z9,{...Vt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",i=>{i.detail.disableCore||aE({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),i.detail.disableBase||aE({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function R9({supabase:i,session:n}){const r=bw(i),c=()=>{r.logout(),Qn("Goodbye!",{icon:"👋"})};return F.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-md navbar-light",children:[F.jsx(Si,{to:"/Book-Chronicles",children:F.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),n?F.jsx("h3",{children:n.user.user_metadata.name+"'s Bookshelf"}):F.jsx("h3",{children:"Bookshelf Chronicles"}),F.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto"}),F.jsx("div",{className:"justify-content-end",id:"navbarNavAltMarkup",children:F.jsx("div",{className:"navbar-nav",children:F.jsxs("div",{className:"nav-link-container",children:[F.jsx(Si,{to:"/Book-Chronicles/create",className:"plus-link dropdown-item",children:F.jsx("img",{src:Q8})}),n?"":F.jsx(Si,{to:"/Book-Chronicles/signin",className:"nav-item nav-link",href:"#",children:"Signin"}),n?F.jsxs("div",{className:"nav-item nav-link dropdown",children:[F.jsx("a",{className:"",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:F.jsx("img",{src:"https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg",width:"40",height:"40",className:"rounded-circle"})}),F.jsxs("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[F.jsx(Si,{to:"/Book-Chronicles/create",className:"create-link dropdown-item",children:"Create"}),F.jsx(Si,{to:`/Book-Chronicles/users/${n.user.user_metadata.name}`,className:"dropdown-item",children:"Dashboard"}),F.jsx(Si,{to:"/Book-Chronicles/userposts",className:"dropdown-item",href:"#",children:"Other Users"}),F.jsx(Si,{to:"/Book-Chronicles/profile",className:"dropdown-item",children:"Edit Profile"}),F.jsx(Si,{onClick:c,to:"/Book-Chronicles",className:"dropdown-item",children:"Log Out"})]})]}):""]})})}),F.jsx(Z8,{})]})}const jk=({session:i,children:n})=>i?n:(Vn.error("You need to sign-in to get access to this!"),F.jsx(Rz,{to:"/Book-Chronicles/signin",replace:!0})),F9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZtQTFRFAAAAPK/lBAsNBREWETBABxMYAgYIAggKAgkMF0NYAAAABAYHBQYHBQcJBQgJBggJBwkJBxAUCAsMCQoLCgsMCw0OCxASCz1VDBIVDxMVEBQWEhMUEhcZExQVExYXEx0iFBcZFiUtGB4hGC03Go7FGyoxHCAiHCIlHDI8HJrWHR8fHjpHHjxKHyAhHyUoH05lIFRsISwxIVdwIkpdIlFnIzQ8I0NSI2B+JCouJDhBJDxIJEBNJSYnJZXLJaDaJiotJjxHKCkpKCorKKLcK0VRK36lLYOsL4awMIu3MIy4MY67MY+9Mzo+M5TCM5TDM5bFNJbGNJfGNJjINJnJNTo8Np/QNzk6N6DSN6HTN6HUOKLVOKPXOKXYOafbOafcOqjdOqrgO6vhO6zhPK7lPK/mP1BXSE1PSV1mU1dZVFRUenp6jIyMj4+PkJCQlZeXnJycn5+fpKSkra2tsLCwsN/1tbW1tra2z8/P2NjY2tra3Nzc39/f4ODg5eXl5+fn6Ojo6enp7Ozs8PDw8vLy9PT09vb2+fn5/v7+////5ti/UAAAAAp0Uk5TEYCNlcjn8/b4+muPeusAAAFKSURBVDjLY2BgZufCCdiYGBiYxW1TcIJITiYGDhXnFDwq2Bi4NPEpSOGCKYjAr8BdVVLDG6sCFogCw+KOfG2sChjBCiKkGzpahZKwKWCFmGCaXZNlhs8N3g4iLoH4fZGE3xcebm5uQF+EAym32JSURO9gVAW+wmE+PrxRKVaOIT5qBq6K3HpKEuaJSAq8nOo6OqRCUywLWzpyBOVKmzo6qtOUk9AUpMaBFeSKlneAQHuGCZqCkhSwgvqKDghoFEtGVZAeD1bQ0dFWVNYGUqHuh9UNHXkyOvI2Ve0dHRZeWBVU8gSkJBtnNuNUUKADFPbUrcOpIEcfKBwqW9s+5BT4CzhZWPBFp1hr2VsoGAGFo0EC/P6I9ODv5eUVlJISA6S8EkBxFARk+MMiyw5/xuFQ0bRzxgls2YGZV0UTJ1ARZwZmbw7c2Z+DmQEAE6ZAafVav5EAAAAASUVORK5CYII=",V9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAL5SURBVFiF7dZPaBxlGMfxz8zs7iTZNLRNq8VAaTAXodQ/EYlV9KDUmGAJ9hIRxIsgIubs0VOPPQo5KHgqsahIlSIoRcSEKmJLIJAIESsxNm1akmyS7e7MeNiNhCJ2d6O9tD94YYb3/b3P93mGed+He7rbFTSwZjfWkeIFdGyba0eCm/X3VVTrzytYwp91/20BuvBKzPGAx2PKNzg5wJuDXBni+jFeqhIGBG2khRqUNXIpMrIShVuD5NgscDXhYpnPcboO+DfA4Zhvuuh6mcIAwaN4uJ5e1ECZbtVGPf2FbWX4gewTKqvcKPMcpiEf8+sw1RWy7H8eK2RDVGPmkYeRNiqLdyD41viDLKaC4yGOPkNyfwtlblUH8HTt6z4VtjPQT9yo+Tdc+A8gniBu58kwZN++JozvYwCvk1zdAUA3QrrDjGJnE8YUfb29yVRvb9oXBNUPkLUA0FnzFcOUjmKT5t6DB5Pp2dn8e6dO5d7O55OjVKab3KNYA+gIE9qbBYBcLmdsbMzc/Hx0YHjYI0GQvUO21gRAlfYwoa0VgC319PT49OzZ/MSZM8HHe/cmDwVB5VKDAAltIY1dCLfdsFgUFwpZmaDSwPqtmGFEudGy/ZMWFxe9OjpaHRocdGxxMfoly3L9DfjWELEZRqyXWgicpqnx8XF9hw4llyYmsu8xTtjVoL9UA9jIBS0AXF5YiPqPHKnMzcyEJ9M0eouo2QurhJCNXEipGYAAM3Nz0QmyL4geaDLwdoCAtVzK8rUmjG/gRTxLrsXYYBkpy+EGUz9SbtT4YC34jnWBmxtMhpj8lnAn53qzWsJ3hJiEOOb3EyTrd6AXKJGN1BqSyyhsnQeP5fl6P+2jxP1qd/Z92F8f4Q4ynsVFTOE05SXWKzyPn7Yfgt14rY0RHC6zO9sWNybJkQQEnSQhWVSfT+rNKVTIvuL8OXadY895Puzi3U0KET9v8hk+wjX+/RQO6slvFSLCnvpcpNZF36pVtRb8S7W/ZBeuNFane7pb9ReW2Hiatm4A7gAAAABJRU5ErkJggg==",U9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAdVSURBVFiFzZd7UFT3Fcc/e/fNsrDAwvLWqMECVqIgJviYKiUYdbQ11qCxVsTGjDU6jm3NWNLEmlA1YzKJr2SsM1aMsfjOGHHU6CgaRSqGJhEbH0VBkJfAvvfu4/YPYQssaMhMpz0zd+7M+Z7vPd/f73d+v3t+8D822Q/gxAHpQJJCpTECXo/obATqgDKg+b8hIESjD10mCEKBXBAiB41IlxyWjqDW+nsKgMi4wR59RKTt9rXLiKLroUd0fuh2uXYCloGI6dM2XJD0YbGDO0b/fKF37dErUvEdn7T2SLkUEZMgFZVWSUWlVVJ4dLz0p06sqLRKmjxviUOt05uVau0KQHjc9x83A9GDnnm2OP+vZRNFr6SK0gpEqAUePqhj3ZyJLNu8j6FpmQDc/qqcLcvn8seSMsKi4wBob2pgx+oC661rl27azR3TgIa+ksj7ST5cF2b8R3resuSolAw5QHSQgFwmY+vyeWTNmEvmCy/6g8Oj40GSOLlrM1kz5wGg0ekZ97OXVZqgYON3FRfyPW7xM6C1d6K+pidSbzRdnrTizyGj57z6SKUMlIKMsgO78LhFcvNXBJBy81cgST4uHNrdw5+zYJlyYdHHRm2w/iwQ3ZvXewmEkKjYamtrU5JKp+8RJMjAabOiUKlQKFV9TpvHLeIRRTS64ADMYbWg0QV/ZTe3pwO+Lr+ie5DWEP5abOqYYbM27e9B1isFKna+jd3czsuF7/WZvMv2rFuJPiyCmcsKA7CNC6cMu3Hp3BK327W9++D8eYLCjE2L9l7RhJjiexCDJBfvT0/hrcOXMUTFPFZAW2M9a2c9x8YvbqDSaHtgrfX3WJ07ot1lsybSuUX9NaANMRSk5Lyo7p0c4NvTR0jKGP/E5ABhplieTs+i8tTRACwiNpGxU2erlWrtr7p8XUswTKHWrAkKN8mqTx0MIFbu207yqEyuHN8fgPVlhqgYTu3eiiAP3GTGuMFahUq5yu1ynABuyaKj9L9TKYV3JmQOVioUjz0zAk2tRZIPkAOITlE8e7baabOLf5CFhWocFZ/9WhNh6LledQ1m4mNCsNhERLeXCIPW7+t6O3QqZHIBg0FLbV07CfEG/7u11YZSpSBEr/b7ultLi43kZzZ2CG6PT9E7OcCUhZ/Q0mZnw/aLvL7hC5wuD9nzi3E43WTPL8ZqE3lj3UkK157AYnUxIXsbdoebCdnbcDo9rHr9GO9sOE1Li43JUz4K+L7RqMPj9akVAUinTZv0NPs/v87hkzdwu70cLK0ma3Q8Wo2SnHFD2H/8OsdKqwFIGxlLbk4SQVol47IGU3KwijPnbqFSykmIMzBjWmq/y9GvgDnTU5m1pIQxabGYjDrWvHuGj4umdWIp/HLlEbJ/MgzkMt546wT7iucDMO+lURQsKWHG9FQaGy28vf40xw4tGriA9BExmCKDyZueSpRRx8nzd8geNwSA8RmJ6INV5M38MYJORcXfa5k4/hH2fHYSSpWceS+NorHJwt17bWSkJ/QrQBYeqnWUHy3QGMOCAsC6BjMxJj1yQca9+g4SY0P9WG2DmbiYEDSxodQ1mElM+E+R3b3XxqDEMLxeH/UN5oACBGhutpIy6t0OWXSU/rdKhaxo4tinBr4NAeRyJJVmQL2V6BTFM2euO+0O95ou2tBgo+ni6NlLTBFPJQcQKj7dTGxKBnFpzyEDIjQCmv5+5MDNykvcqaogN395AHb/VjXHd2yqcdos2cCdrhq47RVd620tDe+Nf6UwYCw+r4db54+RnPOoB5DLYJBejlroe9gVJw6Rs+A3ZE79RQC24/cFdq9H/AC4A93+BQ5z+87q04ec5sa6ANLwSTOovXYRa/OjpsYrQY3Fi90jBcS2PbjPzatfMjpnZgDW2lBLRekBl9vl2tXl6z6RoqBQmh/W3MhNyZ3TY2iCQonbaaOm/AxDsp4HQALMooQEBClk/hI4+P6bDM+cQGrW5AABW5fnWZtqbr/p83nPdfkCG5LImG+tD5t/1L0h8Su0W5ErVch7NSSyzsfreWJDUmk3t48FPP0JAIgODo+s/umqTYaUF/J6AF8f28M3n3/C3G3HQdaLKknsWzqVzJnzmTR7AVq5zB9SfvyA9JfVi5qcNmsa0Nid1lctW0WH/XDttbIFSm2QJjZ1jB8wJY3k+sn92NuaiBv5bA/Slb0f0vGglvGvFdEhSjwUfVjdElXnT/h2r17Y4rBasnh0eelh/W3872xtLcmXdq7/58FVs31dxQcwtXA7FXs3U//NFb/v/tflVHy6hamF/k4LS8sDWu/XuBUazVK7pSONzqofqAlqXchKjd5gz5jzqm/x365KaypFKb/4S0lvipMWl1RKi0sqJb0pTsrfc0laUylKi0sqpTF5S3268EhHmClh7pMSfN/zS6/VG15RaDSrBIUqImHkWHlH4315W92/AAhLGIohOt57t7LMKyBrdtktWxyWjq18j6vZD7mcGoFxQKJaFxoPPpnLZmkAbgJX6ecG9H9r/waQp9P2A7RDvgAAAABJRU5ErkJggg==",H9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAByhJREFUWIXNl3tQVOcVwH/fvbt3F3blsW4iDxcURLShpaJpzVgTR6FYo3HywEdGTUYzkHFsO81MjNM2jdPOmEw6kzZ1prE4UYqPqqiNpj6i0GAwVgMaKwKGyJsg7+e+YO/e2z8MqwvYKulMe/663/nO/c7vO993zzkX/sci7tcwM2uDzW8QyxWjMd1oNHzf51OjfKrPAiCE0IQQXkmISp+q5asm387ivDzvfwUg4/mcJFniV5Iknk1JTupf8NijE5Omxhsm2SdiUox0dPfS0t5ObUMz50uv6LUNjbrfr6ELTvulwXVF+fld4wbQdV1kv/ZG0dy01NQVyxbbJFMo1U740gU9PhhQwe0HswShMkSbwREC7dcukrfvoH/A5RK6xLYze3a+/sAAK1/+2arli9M3r16+ZFbXEPy9E6oGQP9PIQMkAclW8JSdZf+hAl0W8iVPc9T84uKt6n0B6LoeB5xQNT2lsFNQ2gva/XgeAyTe1cjh7W9rqupvsnq7EgsKCvxBNiOBfrQ250TZtesfu/yk7GkWFNe0M+h2PrBzn8eJq6udutA4Ml99S5INksNptn060k6+e5C5JnuTIyZq3eoVWTG7mwS1TV9R8f42Wi8V4a6rxBBhxxwxEQDV68Hn7Mfv9QACyWAEoK+hmsYPd9FQeJT2K+eITE7FZ7UT/0iqqLtUHJv4nTnmmvLLRYEdDz9krFofo5hNN957c+uEwqGHafRAy8WzzNQ62LRuJZ+Wfs6fDvwVTQnB29+D3+cj1BIKOrjdbmSjEXO4DXnITc6qp5k3J4138/ZTrUQT/b1FADivFFF+4qDmVtSokt27OwAMwwAGo/JK5uPztArptnMA1e0kerINgyzzxNw5PDY7letf3CQuNhp7ZERQKDu7e2hsaSUleRqK8XY0Yh6yUXlrIGBjTVuE+dxJoTude4FM+PoOLMjaaJUlkZOxeHF4ae+dRY1hkTS3dQbGitFIWsrMUc4B7LZI0lJmBpwDNLd3Y7AG28YvWSd0XctYtiw7NACgKL4FUxyxg+X6xKDbPnirDqPRwHhFMcoMttYH6WzJqcgGAx6L9moAwGwyPvno7LSIqjvRwtXaiLOuipzVz4wbIHvVMzhrK3C1NgXprbEJwmCUswIAsmx4IiwuSb77U++q+IylC+djUpRxA5hNJpYunE935WdB+sjkVBAkBgBUv/pQjxIZZKR23WJGQvy4nQ/L9Knx+LpuBelC7TFofs0UAPB6h+xugyX4TV1DlmW+qRhkGfxByQ9r1GR0dBEAAOjzBldPyWyh3/ngGXCk9A0MIIVag5XiTgWQbo+F1tMdXDWN9hhu1DZ8Y4AbtQ0Y7bFBOndHKwKhBwAkSXi8LXVBRhGJ36ak9CrqiPA9iKiqSknZVSISU4L0ztYGJFkaDADoOjW9tZVB9c4S5UC2TeLghx+NG2DfsVMo9lgskyYH6XurryHgRgDAr+kFXXXVoxaIX/oiR4o+4c+Hj6Oqo0r5PcXnU3n/0AccK75A3JPrRs0PNNfqquorgK+r4bTohZd1k/vn4VNnCFkxU77jDbqvliCFWIhLX8E/L11g/4FDNLe209/fT2iImQnW4K+m+VYr50uv8MHZc/xu917adDOJz21EsYYF2XVWltFZUUqEr39JZWWlXwaoqbngS0ydvXig6ebk6LkZOOur0Pq7GGqtQzOacKRnETFjNi3OQT4pPMPNmlrSfzA3aOHfbM+l8HIFvsQ5OBY9i/2785EV06jdV+19B/zq6WN/yc8PHAGAJomVns42vbv6GtNWbMIUO42ZCfG0nv8bnddLUcJtPJw6D6H5yR4jPW9cuxJJ8xGVNh9TmG3Mo2m5eIZB14DmM2urh3UBgML83EZgz5dHc3XV7cTxw5WUlVexOfsFei8cp/Ttn1D625/yrYR4EuIcoxaf6ohF9XhQvZ4xnbvamqgvPIKmab8uzM3tG9aP7AlF5trsGsUSNmXWpm2i9R8fITeU8/qPX2KCxUKI2Ywsj+zi7kjWpteY/sIWlLDgtD7kcvL59i3oaCWn8957/O65kbVWH5SH0nD211/5w5aw1JytolM28PIvt2FSFDRNIzIijJ3b7tFl66M7V1dbM+W730RA/dwpkxacHjE/qtgX5+X1PrV+vWPQ47pW9vvN8UlPbxCzXnmHof4ehgb6aDjyx3tGAEC/K802nT9J08fHMBilkpN5O544NUZXP2a3cXzXrgEgIXPNS3lfHM5da7VHialL1qCERyKkex+BEALdr9J29QKNRYdRPS5NkvnFybwdb93znX+7HSDj+ReTJEnZp+naHEnI4pEZ01mf9RR2WyS28HDcXi89fX20dXSxq+AY9Y3NgK7LknzUGqJtKLjrwo0LYFjSs7PDJaf2XKjFkqmYzAs9Hne41+s1KEajZjKFqBPCJnR4vd4Dfd0dp7xfOc6N9Rf0fyn/AvfY4NZv5wiYAAAAAElFTkSuQmCC";function $9(){const i=new Date().getFullYear();return F.jsx("div",{className:"footer-container",children:F.jsx("div",{className:"container",children:F.jsxs("footer",{className:"text-center text-lg-start",children:[F.jsxs("div",{className:"container d-flex justify-content-center py-4",children:[F.jsx("a",{href:"https://davidcao.xyz",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:U9})})}),F.jsx("a",{href:"https://github.com/dave-cao/Book-Chronicles",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:H9})})}),F.jsx("a",{href:"https://www.linkedin.com/in/david-cao99/",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:F9})})}),F.jsx("a",{href:"https://www.youtube.com/@sirdavidcao",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:V9})})})]}),F.jsxs("div",{className:"footer-name",children:["Made by David Cao © ",i]})]})})})}const W9="modulepreload",q9=function(i){return"/Book-Chronicles/"+i},hE={},vu=function(n,r,c){if(!r||r.length===0)return n();const u=document.getElementsByTagName("link");return Promise.all(r.map(h=>{if(h=q9(h),h in hE)return;hE[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!c)for(let _=u.length-1;_>=0;_--){const A=u[_];if(A.href===h&&(!f||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":W9,f||(v.as="script",v.crossOrigin=""),v.href=h,document.head.appendChild(v),f)return new Promise((_,A)=>{v.addEventListener("load",_),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})})).then(()=>n()).catch(h=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h})},G9=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>vu(()=>Promise.resolve().then(()=>_u),void 0).then(({default:c})=>c(...r)):n=fetch,(...r)=>n(...r)};class Cw extends Error{constructor(n,r="FunctionsError",c){super(n),this.name=r,this.context=c}}class Y9 extends Cw{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class K9 extends Cw{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Z9 extends Cw{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Q9=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};class J9{constructor(n,{headers:r={},customFetch:c}={}){this.url=n,this.headers=r,this.fetch=G9(c)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var c;return Q9(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f}=r;let m={},b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(m["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(m["Content-Type"]="application/json",b=JSON.stringify(f)));const v=yield this.fetch(`${this.url}/${n}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:b}).catch(S=>{throw new Y9(S)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new K9(v);if(!v.ok)throw new Z9(v);let A=((c=v.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),x;return A==="application/json"?x=yield v.json():A==="application/octet-stream"?x=yield v.blob():A==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null}}catch(u){return{data:null,error:u}}})}}var rb={exports:{}};(function(i,n){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof oa<"u")return oa;throw new Error("unable to locate global object")},c=r();i.exports=n=c.fetch,c.fetch&&(n.default=c.fetch.bind(c)),n.Headers=c.Headers,n.Request=c.Request,n.Response=c.Response})(rb,rb.exports);var xw=rb.exports;const Ew=db(xw),_u=DE({__proto__:null,default:Ew},[xw]);class X9{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Ew:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,b;let v=null,_=null,A=null,x=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const O=await h.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=O:_=JSON.parse(O))}const B=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");B&&R&&R.length>1&&(A=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,A=null,x=406,S="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const B=await h.text();try{v=JSON.parse(B),Array.isArray(v)&&h.status===404&&(_=[],v=null,x=200,S="OK")}catch{h.status===404&&B===""?(x=204,S="No Content"):v={message:B}}if(v&&this.isMaybeSingle&&(!((b=v==null?void 0:v.details)===null||b===void 0)&&b.includes("0 rows"))&&(v=null,x=200,S="OK"),v&&this.shouldThrowOnError)throw v}return{error:v,data:_,count:A,status:x,statusText:S}});return this.shouldThrowOnError||(u=u.catch(h=>{var f,m,b;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(m=h==null?void 0:h.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(b=h==null?void 0:h.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),u.then(n,r)}}class eF extends X9{select(n){let r=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!r?"":(u==='"'&&(r=!r),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:r=!0,nullsFirst:c,foreignTable:u}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${r?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r}={}){const c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${n}`),this}range(n,r,{foreignTable:c}={}){const u=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(h,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:r=!1,settings:c=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){const m=[n?"analyze":null,r?"verbose":null,c?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${b}"; options=${m};`,f==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class fc extends eF{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}in(n,r){const c=r.map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(n,`in.(${c})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(n,`${h}fts${f}.${r}`),this}match(n){return Object.entries(n).forEach(([r,c])=>{this.url.searchParams.append(r,`eq.${c}`)}),this}not(n,r,c){return this.url.searchParams.append(n,`not.${r}.${c}`),this}or(n,{foreignTable:r}={}){const c=r?`${r}.or`:"or";return this.url.searchParams.append(c,`(${n})`),this}filter(n,r,c){return this.url.searchParams.append(n,`${r}.${c}`),this}}class tF{constructor(n,{headers:r={},schema:c,fetch:u}){this.url=n,this.headers=r,this.schema=c,this.fetch=u}select(n,{head:r=!1,count:c}={}){const u=r?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),c&&(this.headers.Prefer=`count=${c}`),new fc({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:r,defaultToNull:c=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),r&&h.push(`count=${r}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(f.length>0){const m=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new fc({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:r,ignoreDuplicates:c=!1,count:u,defaultToNull:h=!0}={}){const f="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(n)){const b=n.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(b.length>0){const v=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new fc({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:r}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),r&&u.push(`count=${r}`),this.headers.Prefer=u.join(","),new fc({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const r="DELETE",c=[];return n&&c.push(`count=${n}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new fc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const nF="1.8.5",iF={"X-Client-Info":`postgrest-js/${nF}`};class Sw{constructor(n,{headers:r={},schema:c,fetch:u}={}){this.url=n,this.headers=Object.assign(Object.assign({},iF),r),this.schemaName=c,this.fetch=u}from(n){const r=new URL(`${this.url}/${n}`);return new tF(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Sw(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:c=!1,count:u}={}){let h;const f=new URL(`${this.url}/rpc/${n}`);let m;c?(h="HEAD",Object.entries(r).forEach(([v,_])=>{f.searchParams.append(v,`${_}`)})):(h="POST",m=r);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new fc({method:h,url:f,headers:b,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var Rk,fE;function oF(){if(fE)return Rk;fE=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Rk=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Rk}const rF="websocket",sF="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",aF=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],cF="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",lF=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],dF="1.0.34",uF={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},hF="https://github.com/theturtle32/WebSocket-Node",fF={node:">=4.0.0"},gF={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},pF={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},mF={verbose:!1},kF={test:"tape test/unit/*.js",gulp:"gulp"},bF="index",wF={lib:"./lib"},vF="lib/browser.js",_F="Apache-2.0",yF={name:rF,description:sF,keywords:aF,author:cF,contributors:lF,version:dF,repository:uF,homepage:hF,engines:fF,dependencies:gF,devDependencies:pF,config:mF,scripts:kF,main:bF,directories:wF,browser:vF,license:_F};var AF=yF.version,na;if(typeof globalThis=="object")na=globalThis;else try{na=oF()}catch{}finally{if(!na&&typeof window<"u"&&(na=window),!na)throw new Error("Could not determine global this")}var ru=na.WebSocket||na.MozWebSocket,CF=AF;function CT(i,n){var r;return n?r=new ru(i,n):r=new ru(i),r}ru&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(CT,i,{get:function(){return ru[i]}})});var xF={w3cwebsocket:ru?CT:null,version:CF};const EF="2.8.4",SF={"X-Client-Info":`realtime-js/${EF}`},DF="1.0.0",xT=1e4,TF=1e3;var zd;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(zd||(zd={}));var xi;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(xi||(xi={}));var wo;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(wo||(wo={}));var sb;(function(i){i.websocket="websocket"})(sb||(sb={}));var ia;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ia||(ia={}));class ET{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class IF{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),c=new TextDecoder;return this._decodeBroadcast(n,r,c)}_decodeBroadcast(n,r,c){const u=r.getUint8(1),h=r.getUint8(2);let f=this.HEADER_LENGTH+2;const m=c.decode(n.slice(f,f+u));f=f+u;const b=c.decode(n.slice(f,f+h));f=f+h;const v=JSON.parse(c.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:b,payload:v}}}class Fk{constructor(n,r,c={},u=xT){this.channel=n,this.event=r,this.payload=c,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var c;return this._hasReceived(n)&&r((c=this.receivedResp)===null||c===void 0?void 0:c.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(c=>c.status===n).forEach(c=>c.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var gE;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(gE||(gE={}));class jd{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jd.syncState(this.state,u,h,f),this.pendingDiffs.forEach(b=>{this.state=jd.syncDiff(this.state,b,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(c.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=jd.syncDiff(this.state,u,h,f),m())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,c,u){const h=this.cloneDeep(n),f=this.transformState(r),m={},b={};return this.map(h,(v,_)=>{f[v]||(b[v]=_)}),this.map(f,(v,_)=>{const A=h[v];if(A){const x=_.map(R=>R.presence_ref),S=A.map(R=>R.presence_ref),T=_.filter(R=>S.indexOf(R.presence_ref)<0),B=A.filter(R=>x.indexOf(R.presence_ref)<0);T.length>0&&(m[v]=T),B.length>0&&(b[v]=B)}else m[v]=_}),this.syncDiff(h,{joins:m,leaves:b},c,u)}static syncDiff(n,r,c,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return c||(c=()=>{}),u||(u=()=>{}),this.map(h,(m,b)=>{var v;const _=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(b),_.length>0){const A=n[m].map(S=>S.presence_ref),x=_.filter(S=>A.indexOf(S.presence_ref)<0);n[m].unshift(...x)}c(m,_,b)}),this.map(f,(m,b)=>{let v=n[m];if(!v)return;const _=b.map(A=>A.presence_ref);v=v.filter(A=>_.indexOf(A.presence_ref)<0),n[m]=v,u(m,v,b),v.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(c=>r(c,n[c]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,c)=>{const u=n[c];return"metas"in u?r[c]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[c]=u,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(kt||(kt={}));const pE=(i,n,r={})=>{var c;const u=(c=r.skipTypes)!==null&&c!==void 0?c:[];return Object.keys(n).reduce((h,f)=>(h[f]=MF(f,i,n,u),h),{})},MF=(i,n,r,c)=>{const u=n.find(m=>m.name===i),h=u==null?void 0:u.type,f=r[i];return h&&!c.includes(h)?ST(h,f):ab(f)},ST=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return PF(n,r)}switch(i){case kt.bool:return NF(n);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return OF(n);case kt.json:case kt.jsonb:return BF(n);case kt.timestamp:return LF(n);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return ab(n);default:return ab(n)}},ab=i=>i,NF=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},OF=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},BF=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},PF=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,c=i[r];if(i[0]==="{"&&c==="}"){let h;const f=i.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>ST(n,m))}return i},LF=i=>typeof i=="string"?i.replace(" ","T"):i;var mE;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(mE||(mE={}));var kE;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(kE||(kE={}));var bE;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(bE||(bE={}));class Dw{constructor(n,r={config:{}},c){this.topic=n,this.params=r,this.socket=c,this.bindings={},this.state=xi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fk(this,wo.join,this.params,this.timeout),this.rejoinTimer=new ET(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xi.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wo.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new jd(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(n,r=this.timeout){var c,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:h,presence:f}}=this.params;this._onError(v=>n&&n("CHANNEL_ERROR",v)),this._onClose(()=>n&&n("CLOSED"));const m={},b={broadcast:h,presence:f,postgres_changes:(u=(c=this.bindings.postgres_changes)===null||c===void 0?void 0:c.map(v=>v.filter))!==null&&u!==void 0?u:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:b},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:v})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),v===void 0){n&&n("SUBSCRIBED");return}else{const A=this.bindings.postgres_changes,x=(_=A==null?void 0:A.length)!==null&&_!==void 0?_:0,S=[];for(let T=0;T<x;T++){const B=A[T],{filter:{event:R,schema:O,table:L,filter:E}}=B,U=v&&v[T];if(U&&U.event===R&&U.schema===O&&U.table===L&&U.filter===E)S.push(Object.assign(Object.assign({},B),{id:U.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,n&&n("SUBSCRIBED");return}}).receive("error",v=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,c){return this._on(n,r,c)}async send(n,r={}){var c,u;if(!this._canPush()&&n.type==="broadcast"){const{event:h,payload:f}=n,m={method:"POST",headers:{apikey:(c=this.socket.accessToken)!==null&&c!==void 0?c:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=r.timeout)!==null&&u!==void 0?u:this.timeout)).ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,b;const v=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((b=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||b===void 0)&&b.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=xi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(c=>{const u=new Fk(this,wo.leave,{},n);u.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let n=this.socket.endPoint;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(n,r,c){const u=new AbortController,h=setTimeout(()=>u.abort(),c),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(n,r,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Fk(this,n,r,c);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(n,r,c){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,c){var u,h;const f=n.toLocaleLowerCase(),{close:m,error:b,leave:v,join:_}=wo;if(c&&[m,b,v,_].indexOf(f)>=0&&c!==this._joinRef())return;let x=this._onMessage(f,r,c);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var T,B,R;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((R=(B=S.filter)===null||B===void 0?void 0:B.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(S=>S.callback(x,c)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var T,B,R,O,L,E;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const U=S.id,G=(T=S.filter)===null||T===void 0?void 0:T.event;return U&&((B=r.ids)===null||B===void 0?void 0:B.includes(U))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const U=(L=(O=S==null?void 0:S.filter)===null||O===void 0?void 0:O.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return U==="*"||U===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const T=x.data,{schema:B,table:R,commit_timestamp:O,type:L,errors:E}=T;x=Object.assign(Object.assign({},{schema:B,table:R,commit_timestamp:O,eventType:L,new:{},old:{},errors:E}),this._getPayloadRecords(T))}S.callback(x,c)})}_isClosed(){return this.state===xi.closed}_isJoined(){return this.state===xi.joined}_isJoining(){return this.state===xi.joining}_isLeaving(){return this.state===xi.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,c){const u=n.toLocaleLowerCase(),h={type:u,filter:r,callback:c};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,r){const c=n.toLocaleLowerCase();return this.bindings[c]=this.bindings[c].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===c&&Dw.isEqual(u.filter,r))}),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const c in n)if(n[c]!==r[c])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(wo.close,{},n)}_onError(n){this._on(wo.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xi.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=pE(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=pE(n.columns,n.old_record)),r}}const zF=()=>{};class jF{constructor(n,r){var c;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=SF,this.params={},this.timeout=xT,this.transport=xF.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zF,this.conn=null,this.sendBuffer=[],this.serializer=new IF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=h=>{let f;return h?f=h:typeof fetch>"u"?f=(...m)=>vu(()=>Promise.resolve().then(()=>_u),void 0).then(({default:b})=>b(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${n}/${sb.websocket}`,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.transport&&(this.transport=r.transport),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const u=(c=r==null?void 0:r.params)===null||c===void 0?void 0:c.apikey;u&&(this.accessToken=u),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(h,f)=>f(JSON.stringify(h)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ET(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,r){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),n}log(n,r,c){this.logger(n,r,c)}connectionState(){switch(this.conn&&this.conn.readyState){case zd.connecting:return ia.Connecting;case zd.open:return ia.Open;case zd.closing:return ia.Closing;default:return ia.Closed}}isConnected(){return this.connectionState()===ia.Open}channel(n,r={config:{}}){const c=new Dw(`realtime:${n}`,r,this);return this.channels.push(c),c}push(n){const{topic:r,event:c,payload:u,ref:h}=n,f=()=>{this.encode(n,m=>{var b;(b=this.conn)===null||b===void 0||b.send(m)})};this.log("push",`${r} ${c} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(n){this.accessToken=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(wo.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(c=>c.topic===n&&(c._isJoined()||c._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DF}))}_onConnMessage(n){this.decode(n.data,r=>{let{topic:c,event:u,payload:h,ref:f}=r;(f&&f===this.pendingHeartbeatRef||u===(h==null?void 0:h.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${c} ${u} ${f&&"("+f+")"||""}`,h),this.channels.filter(m=>m._isMember(c)).forEach(m=>m._trigger(u,h,f)),this.stateChangeCallbacks.message.forEach(m=>m(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(wo.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const c=n.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${n}${c}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(TF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Tw extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function jn(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class RF extends Tw{constructor(n,r){super(n),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wE extends Tw{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var FF=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};const DT=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>vu(()=>Promise.resolve().then(()=>_u),void 0).then(({default:c})=>c(...r)):n=fetch,(...r)=>n(...r)},VF=()=>FF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vu(()=>Promise.resolve().then(()=>_u),void 0)).Response:Response});var nl=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};const Vk=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),UF=(i,n)=>nl(void 0,void 0,void 0,function*(){const r=yield VF();i instanceof r?i.json().then(c=>{n(new RF(Vk(c),i.status||500))}).catch(c=>{n(new wE(Vk(c),c))}):n(new wE(Vk(i),i))}),HF=(i,n,r,c)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(c),Object.assign(Object.assign({},u),r))};function ep(i,n,r,c,u,h){return nl(this,void 0,void 0,function*(){return new Promise((f,m)=>{i(r,HF(n,c,u,h)).then(b=>{if(!b.ok)throw b;return c!=null&&c.noResolveJson?b:b.json()}).then(b=>f(b)).catch(b=>UF(b,m))})})}function cb(i,n,r,c){return nl(this,void 0,void 0,function*(){return ep(i,"GET",n,r,c)})}function ns(i,n,r,c,u){return nl(this,void 0,void 0,function*(){return ep(i,"POST",n,c,u,r)})}function $F(i,n,r,c,u){return nl(this,void 0,void 0,function*(){return ep(i,"PUT",n,c,u,r)})}function TT(i,n,r,c,u){return nl(this,void 0,void 0,function*(){return ep(i,"DELETE",n,c,u,r)})}var Wi=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};const WF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qF{constructor(n,r={},c,u){this.url=n,this.headers=r,this.bucketId=c,this.fetch=DT(u)}uploadOrUpdate(n,r,c,u){return Wi(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},vE),u),m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&c instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",c)):typeof FormData<"u"&&c instanceof FormData?(h=c,h.append("cacheControl",f.cacheControl)):(h=c,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const b=this._removeEmptyFolders(r),v=this._getFinalPath(b),_=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:n,body:h,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return _.ok?{data:{path:b},error:null}:{data:null,error:yield _.json()}}catch(h){if(jn(h))return{data:null,error:h};throw h}})}upload(n,r,c){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,c)})}uploadToSignedUrl(n,r,c,u){return Wi(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",r);try{let b;const v=Object.assign({upsert:vE.upsert},u),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&c instanceof Blob?(b=new FormData,b.append("cacheControl",v.cacheControl),b.append("",c)):typeof FormData<"u"&&c instanceof FormData?(b=c,b.append("cacheControl",v.cacheControl)):(b=c,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType);const A=yield this.fetch(m.toString(),{method:"PUT",body:b,headers:_});return A.ok?{data:{path:h},error:null}:{data:null,error:yield A.json()}}catch(b){if(jn(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(n){return Wi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const c=yield ns(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:this.headers}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new Tw("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:h},error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}update(n,r,c){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,c)})}move(n,r){return Wi(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r},{headers:this.headers}),error:null}}catch(c){if(jn(c))return{data:null,error:c};throw c}})}copy(n,r){return Wi(this,void 0,void 0,function*(){try{return{data:{path:(yield ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(c){if(jn(c))return{data:null,error:c};throw c}})}createSignedUrl(n,r,c){return Wi(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),h=yield ns(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},c!=null&&c.transform?{transform:c.transform}:{}),{headers:this.headers});const f=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(jn(u))return{data:null,error:u};throw u}})}createSignedUrls(n,r,c){return Wi(this,void 0,void 0,function*(){try{const u=yield ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),h=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(jn(u))return{data:null,error:u};throw u}})}download(n,r){return Wi(this,void 0,void 0,function*(){const u=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),f=h?`?${h}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield cb(this.fetch,`${this.url}/${u}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}getPublicUrl(n,r){const c=this._getFinalPath(n),u=[],h=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&u.push(h);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",b=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});b!==""&&u.push(b);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${c}${v}`)}}}remove(n){return Wi(this,void 0,void 0,function*(){try{return{data:yield TT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}list(n,r,c){return Wi(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},WF),r),{prefix:n||""});return{data:yield ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},c),error:null}}catch(u){if(jn(u))return{data:null,error:u};throw u}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const GF="2.5.4",YF={"X-Client-Info":`storage-js/${GF}`};var lc=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};class KF{constructor(n,r={},c){this.url=n,this.headers=Object.assign(Object.assign({},YF),r),this.fetch=DT(c)}listBuckets(){return lc(this,void 0,void 0,function*(){try{return{data:yield cb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}})}getBucket(n){return lc(this,void 0,void 0,function*(){try{return{data:yield cb(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return lc(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(jn(c))return{data:null,error:c};throw c}})}updateBucket(n,r){return lc(this,void 0,void 0,function*(){try{return{data:yield $F(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(jn(c))return{data:null,error:c};throw c}})}emptyBucket(n){return lc(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}deleteBucket(n){return lc(this,void 0,void 0,function*(){try{return{data:yield TT(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}}class ZF extends KF{constructor(n,r={},c){super(n,r,c)}from(n){return new qF(this.url,this.headers,n,this.fetch)}}const QF="2.38.4";let Ad="";typeof Deno<"u"?Ad="deno":typeof document<"u"?Ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ad="react-native":Ad="node";const JF={"X-Client-Info":`supabase-js-${Ad}/${QF}`};var XF=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};const eV=i=>{let n;return i?n=i:typeof fetch>"u"?n=Ew:n=fetch,(...r)=>n(...r)},tV=()=>typeof Headers>"u"?xw.Headers:Headers,nV=(i,n,r)=>{const c=eV(r),u=tV();return(h,f)=>XF(void 0,void 0,void 0,function*(){var m;const b=(m=yield n())!==null&&m!==void 0?m:i;let v=new u(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${b}`),c(h,Object.assign(Object.assign({},f),{headers:v}))})};function iV(i){return i.replace(/\/$/,"")}function oV(i,n){const{db:r,auth:c,realtime:u,global:h}=i,{db:f,auth:m,realtime:b,global:v}=n;return{db:Object.assign(Object.assign({},f),r),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},b),u),global:Object.assign(Object.assign({},v),h)}}function rV(i){return Math.round(Date.now()/1e3)+i}function sV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const fr=()=>typeof document<"u",Qs={tested:!1,writable:!1},Rd=()=>{if(!fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function Uk(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return r.searchParams.forEach((c,u)=>{n[u]=c}),n}const IT=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>vu(()=>Promise.resolve().then(()=>_u),void 0).then(({default:c})=>c(...r)):n=fetch,(...r)=>n(...r)},aV=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Js=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},Cf=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hk=async(i,n)=>{await i.removeItem(n)};function cV(i){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",c,u,h,f,m,b,v,_=0;for(i=i.replace("-","+").replace("_","/");_<i.length;)f=n.indexOf(i.charAt(_++)),m=n.indexOf(i.charAt(_++)),b=n.indexOf(i.charAt(_++)),v=n.indexOf(i.charAt(_++)),c=f<<2|m>>4,u=(m&15)<<4|b>>2,h=(b&3)<<6|v,r=r+String.fromCharCode(c),b!=64&&u!=0&&(r=r+String.fromCharCode(u)),v!=64&&h!=0&&(r=r+String.fromCharCode(h));return r}class tp{constructor(){this.promise=new tp.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}tp.promiseConstructor=Promise;function _E(i){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=i.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const c=r[1];return JSON.parse(cV(c))}async function lV(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function dV(i,n){return new Promise((c,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){c(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function uV(i){return("0"+i.toString(16)).substr(-2)}function dc(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*c));return u}return crypto.getRandomValues(n),Array.from(n,uV).join("")}async function hV(i){const r=new TextEncoder().encode(i),c=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(c);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}function fV(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uc(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await hV(i);return fV(r)}class Iw extends Error{constructor(n,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Ye(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class gV extends Iw{constructor(n,r){super(n,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function pV(i){return Ye(i)&&i.name==="AuthApiError"}class MT extends Iw{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class il extends Iw{constructor(n,r,c){super(n),this.name=r,this.status=c}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hc extends il{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class $k extends il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class xf extends il{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class Ef extends il{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yE extends il{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lb extends il{constructor(n,r){super(n,"AuthRetryableFetchError",r)}}function AE(i){return Ye(i)&&i.name==="AuthRetryableFetchError"}var mV=globalThis&&globalThis.__rest||function(i,n){var r={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&n.indexOf(c)<0&&(r[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(i);u<c.length;u++)n.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(i,c[u])&&(r[c[u]]=i[c[u]]);return r};const Cd=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),kV=[502,503,504];async function CE(i){if(!aV(i))throw new lb(Cd(i),0);if(kV.includes(i.status))throw new lb(Cd(i),i.status);let n;try{n=await i.json()}catch(r){throw new MT(Cd(r),r)}throw new gV(Cd(n),i.status||500)}const bV=(i,n,r,c)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(c),Object.assign(Object.assign({},u),r))};async function Xe(i,n,r,c){var u;const h=Object.assign({},c==null?void 0:c.headers);c!=null&&c.jwt&&(h.Authorization=`Bearer ${c.jwt}`);const f=(u=c==null?void 0:c.query)!==null&&u!==void 0?u:{};c!=null&&c.redirectTo&&(f.redirect_to=c.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",b=await wV(i,n,r+m,{headers:h,noResolveJson:c==null?void 0:c.noResolveJson},{},c==null?void 0:c.body);return c!=null&&c.xform?c==null?void 0:c.xform(b):{data:Object.assign({},b),error:null}}async function wV(i,n,r,c,u,h){const f=bV(n,c,u,h);let m;try{m=await i(r,f)}catch(b){throw console.error(b),new lb(Cd(b),0)}if(m.ok||await CE(m),c!=null&&c.noResolveJson)return m;try{return await m.json()}catch(b){await CE(b)}}function Jr(i){var n;let r=null;AV(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=rV(i.expires_in)));const c=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:c},error:null}}function as(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function vV(i){return{data:i,error:null}}function _V(i){const{action_link:n,email_otp:r,hashed_token:c,redirect_to:u,verification_type:h}=i,f=mV(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:c,redirect_to:u,verification_type:h},b=Object.assign({},f);return{data:{properties:m,user:b},error:null}}function yV(i){return i}function AV(i){return i.access_token&&i.refresh_token&&i.expires_in}var CV=globalThis&&globalThis.__rest||function(i,n){var r={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&n.indexOf(c)<0&&(r[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(i);u<c.length;u++)n.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(i,c[u])&&(r[c[u]]=i[c[u]]);return r};class xV{constructor({url:n="",headers:r={},fetch:c}){this.url=n,this.headers=r,this.fetch=IT(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r="global"){try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(c){if(Ye(c))return{data:null,error:c};throw c}}async inviteUserByEmail(n,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:as})}catch(c){if(Ye(c))return{data:{user:null},error:c};throw c}}async generateLink(n){try{const{options:r}=n,c=CV(n,["options"]),u=Object.assign(Object.assign({},c),r);return"newEmail"in c&&(u.new_email=c==null?void 0:c.newEmail,delete u.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:_V,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:as})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,c,u,h,f,m,b;try{const v={nextPage:null,lastPage:0,total:0},_=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&c!==void 0?c:"",per_page:(h=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:yV});if(_.error)throw _.error;const A=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(b=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&b!==void 0?b:[];return S.length>0&&(S.forEach(T=>{const B=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(T.split(";")[1].split("=")[1]);v[`${R}Page`]=B}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},A),v),error:null}}catch(v){if(Ye(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:as})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:as})}catch(c){if(Ye(c))return{data:{user:null},error:c};throw c}}async deleteUser(n,r=!1){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:as})}catch(c){if(Ye(c))return{data:{user:null},error:c};throw c}}async _listFactors(n){try{const{data:r,error:c}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:c}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(n){try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}const NT="2.57.0",EV="http://localhost:9999",SV="supabase.auth.token",DV={"X-Client-Info":`gotrue-js/${NT}`},xE=10,TV={getItem:i=>Rd()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{Rd()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{Rd()&&globalThis.localStorage.removeItem(i)}};function EE(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}function IV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&Rd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class MV extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}IV();const NV={url:EV,storageKey:SV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DV,flowType:"implicit",debug:!1},md=30*1e3,SE=3;async function OV(i,n,r){return await r()}class su{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=su.nextInstanceID,su.nextInstanceID+=1,this.instanceID>0&&fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},NV),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new xV({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=IT(c.fetch),this.lock=c.lock||OV,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:Rd()?this.storage=TV:(this.memoryStorage={},this.storage=EE(this.memoryStorage)):(this.memoryStorage={},this.storage=EE(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${NT}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const n=fr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:c}=await this._getSessionFromURL(n);if(c)return this._debug("#_initialize()","error detecting session from URL",c),await this._removeSession(),{error:c};const{session:u,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ye(n)?{error:n}:{error:new MT("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(n){var r,c,u;try{await this._removeSession();let h;if("email"in n){const{email:_,password:A,options:x}=n;let S=null,T=null;if(this.flowType==="pkce"){const B=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,B),S=await uc(B),T=B===S?"plain":"s256"}h=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:_,password:A,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:T},xform:Jr})}else if("phone"in n){const{phone:_,password:A,options:x}=n;h=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:A,data:(c=x==null?void 0:x.data)!==null&&c!==void 0?c:{},channel:(u=x==null?void 0:x.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Jr})}else throw new xf("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return{data:{user:null,session:null},error:m};const b=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:v,session:b},error:null}}catch(h){if(Ye(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(n){try{await this._removeSession();let r;if("email"in n){const{email:h,password:f,options:m}=n;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jr})}else if("phone"in n){const{phone:h,password:f,options:m}=n;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jr})}else throw new xf("You must provide either an email or phone number and a password");const{data:c,error:u}=r;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $k}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:{user:c.user,session:c.session},error:u})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,c,u,h;return await this._removeSession(),await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const r=await Cf(this.storage,`${this.storageKey}-code-verifier`),{data:c,error:u}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Jr});return await Hk(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $k}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}async signInWithIdToken(n){await this._removeSession();try{const{options:r,provider:c,token:u,access_token:h,nonce:f}=n,m=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jr}),{data:b,error:v}=m;return v?{data:{user:null,session:null},error:v}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new $k}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:b,error:v})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,c,u,h,f;try{if(await this._removeSession(),"email"in n){const{email:m,options:b}=n;let v=null,_=null;if(this.flowType==="pkce"){const x=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,x),v=await uc(x),_=x===v?"plain":"s256"}const{error:A}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},create_user:(c=b==null?void 0:b.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:b==null?void 0:b.emailRedirectTo});return{data:{user:null,session:null},error:A}}if("phone"in n){const{phone:m,options:b}=n,{data:v,error:_}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=b==null?void 0:b.data)!==null&&u!==void 0?u:{},create_user:(h=b==null?void 0:b.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},channel:(f=b==null?void 0:b.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:_}}throw new xf("You must provide either an email or phone number.")}catch(m){if(Ye(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var r,c;try{n.type!=="email_change"&&n.type!=="phone_change"&&await this._removeSession();let u,h;"options"in n&&(u=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(c=n.options)===null||c===void 0?void 0:c.captchaToken);const{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Jr});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const b=f.session,v=f.user;return b!=null&&b.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:v,session:b},error:null}}catch(u){if(Ye(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var r,c,u;try{await this._removeSession();let h=null,f=null;if(this.flowType==="pkce"){const m=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,m),h=await uc(m),f=m===h?"plain":"s256"}return await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&c!==void 0?c:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:vV})}catch(h){if(Ye(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:c}=n;if(c)throw c;if(!r)throw new hc;const{error:u}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(Ye(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{n.type!="email_change"&&n.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in n){const{email:c,type:u,options:h}=n,{error:f}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:c,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:c,type:u,options:h}=n,{data:f,error:m}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:c,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new xf("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const c=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await c,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const c=r();for(this.pendingInLock.push((async()=>{try{await c}catch{}})()),await c;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await c}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Cf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const c=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",n.expires_at),!c)return{data:{session:n},error:null};const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:as}):await this._useSession(async r=>{var c,u;const{data:h,error:f}=r;if(f)throw f;return await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:as})})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async c=>{const{data:u,error:h}=c;if(h)throw h;if(!u.session)throw new hc;const f=u.session;let m=null,b=null;if(this.flowType==="pkce"&&n.email!=null){const A=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,A),m=await uc(A),b=A===m?"plain":"s256"}const{data:v,error:_}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:b}),jwt:f.access_token,xform:as});if(_)throw _;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(c){if(Ye(c))return{data:{user:null},error:c};throw c}}_decodeJWT(n){return _E(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new hc;const r=Date.now()/1e3;let c=r,u=!0,h=null;const f=_E(n.access_token);if(f.exp&&(c=f.exp,u=c<=r),u){const{session:m,error:b}=await this._callRefreshToken(n.refresh_token);if(b)return{data:{user:null,session:null},error:b};if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:b}=await this._getUser(n.access_token);if(b)throw b;h={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:c-r,expires_at:c},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(r){if(Ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var c;if(!n){const{data:f,error:m}=r;if(m)throw m;n=(c=f.session)!==null&&c!==void 0?c:void 0}if(!(n!=null&&n.refresh_token))throw new hc;const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n){try{if(!fr())throw new Ef("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ef("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new yE("Not a valid PKCE flow url.");const r=Uk(window.location.href);if(n){if(!r.code)throw new yE("No code detected.");const{data:L,error:E}=await this._exchangeCodeForSession(r.code);if(E)throw E;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:L.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Ef(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:c,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:m,expires_at:b,token_type:v}=r;if(!h||!m||!f||!v)throw new Ef("No session defined in URL");const _=Math.round(Date.now()/1e3),A=parseInt(m);let x=_+A;b&&(x=parseInt(b));const S=x-_;S*1e3<=md&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${A}s`);const T=x-A;_-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,x,_):_-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",T,x,_);const{data:B,error:R}=await this._getUser(h);if(R)throw R;const O={provider_token:c,provider_refresh_token:u,access_token:h,expires_in:A,expires_at:x,refresh_token:f,token_type:v,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:r.type},error:null}}catch(r){if(Ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const n=Uk(window.location.href);return!!(fr()&&(n.access_token||n.error_description))}async _isPKCEFlow(){const n=Uk(window.location.href),r=await Cf(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var c;const{data:u,error:h}=r;if(h)return{error:h};const f=(c=u.session)===null||c===void 0?void 0:c.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(pV(m)&&(m.status===404||m.status===401)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Hk(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){const r=sV(),c={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,c),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:c}}}async _emitInitialSession(n){return await this._useSession(async r=>{var c,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let c=null,u=null;if(this.flowType==="pkce"){const h=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,h),c=await uc(h),u=h===c?"plain":"s256"}try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:c,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(Ye(h))return{data:null,error:h};throw h}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const c=Date.now();return await dV(async u=>(await lV(u*200),this._debug(r,"refreshing attempt",u),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Jr})),(u,h,f)=>f&&f.error&&AE(f.error)&&Date.now()+(u+1)*200-c<md)}catch(c){if(this._debug(r,"error",c),Ye(c))return{data:{session:null,user:null},error:c};throw c}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const c=await this._getUrlForProvider(n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",c),fr()&&!r.skipBrowserRedirect&&window.location.assign(c),{data:{provider:n,url:c},error:null}}async _recoverAndRefresh(){var n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Cf(this.storage,this.storageKey);if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),h=((n=c.expires_at)!==null&&n!==void 0?n:1/0)<u+xE;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${xE}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),AE(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,c;if(!n)throw new hc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new tp;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new hc;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={session:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(u,"error",h),Ye(h)){const f={session:null,error:h};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(c=this.refreshingDeferred)===null||c===void 0||c.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,r,c=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",r,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(b){h.push(b)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),await this._persistSession(n)}_persistSession(n){return this._debug("#_persistSession()",n),Js(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Hk(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&fr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),md);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:c}}=r;if(!c||!c.refresh_token||!c.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((c.expires_at*1e3-n)/md);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${md}ms, refresh threshold is ${SE} ticks`),u<=SE&&await this._callRefreshToken(c.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof MV)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r){const c=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const u=dc();await Js(this.storage,`${this.storageKey}-code-verifier`,u);const h=await uc(u),f=u===h?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",h,"method",f);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);c.push(u.toString())}return`${this.url}/authorize?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var c;const{data:u,error:h}=r;return h?{data:null,error:h}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(c=u==null?void 0:u.session)===null||c===void 0?void 0:c.access_token})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var c,u;const{data:h,error:f}=r;if(f)return{data:null,error:f};const{data:m,error:b}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(c=h==null?void 0:h.session)===null||c===void 0?void 0:c.access_token});return b?{data:null,error:b}:(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var c;const{data:u,error:h}=r;if(h)return{data:null,error:h};const{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(c=u==null?void 0:u.session)===null||c===void 0?void 0:c.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var c;const{data:u,error:h}=r;return h?{data:null,error:h}:await Xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(c=u==null?void 0:u.session)===null||c===void 0?void 0:c.access_token})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:c}=await this._challenge({factorId:n.factorId});return c?{data:null,error:c}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const c=(n==null?void 0:n.factors)||[],u=c.filter(h=>h.factor_type==="totp"&&h.status==="verified");return{data:{all:c,totp:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,c;const{data:{session:u},error:h}=n;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(u.access_token);let m=null;f.aal&&(m=f.aal);let b=m;((c=(r=u.user.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(b="aal2");const _=f.amr||[];return{data:{currentLevel:m,nextLevel:b,currentAuthenticationMethods:_},error:null}}))}}su.nextInstanceID=0;class BV extends su{constructor(n){super(n)}}var PV=globalThis&&globalThis.__awaiter||function(i,n,r,c){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(_){try{v(c.next(_))}catch(A){f(A)}}function b(_){try{v(c.throw(_))}catch(A){f(A)}}function v(_){_.done?h(_.value):u(_.value).then(m,b)}v((c=c.apply(i,n||[])).next())})};const LV={headers:JF},zV={schema:"public"},jV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RV={};class FV{constructor(n,r,c){var u,h,f,m,b,v,_,A;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const x=iV(n);this.realtimeUrl=`${x}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${x}/auth/v1`,this.storageUrl=`${x}/storage/v1`,this.functionsUrl=`${x}/functions/v1`;const S=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,T={db:zV,realtime:RV,auth:Object.assign(Object.assign({},jV),{storageKey:S}),global:LV},B=oV(c??{},T);this.storageKey=(h=(u=B.auth)===null||u===void 0?void 0:u.storageKey)!==null&&h!==void 0?h:"",this.headers=(m=(f=B.global)===null||f===void 0?void 0:f.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((b=B.auth)!==null&&b!==void 0?b:{},this.headers,(v=B.global)===null||v===void 0?void 0:v.fetch),this.fetch=nV(r,this._getAccessToken.bind(this),(_=B.global)===null||_===void 0?void 0:_.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},B.realtime)),this.rest=new Sw(`${x}/rest/v1`,{headers:this.headers,schema:(A=B.db)===null||A===void 0?void 0:A.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new J9(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ZF(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},c){return this.rest.rpc(n,r,c)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return PV(this,void 0,void 0,function*(){const{data:c}=yield this.auth.getSession();return(r=(n=c.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:c,storage:u,storageKey:h,flowType:f,debug:m},b,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BV({url:this.authUrl,headers:Object.assign(Object.assign({},_),b),storageKey:h,autoRefreshToken:n,persistSession:r,detectSessionInUrl:c,storage:u,flowType:f,debug:m,fetch:v})}_initRealtimeClient(n){return new jF(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,c)=>{this._handleTokenChanged(r,"CLIENT",c==null?void 0:c.access_token)})}_handleTokenChanged(n,r,c){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==c?(this.realtime.setAuth(c??null),this.changedAccessToken=c):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VV=(i,n,r)=>new FV(i,n,r),UV="https://wfmzmjdkdoryaeunljkv.supabase.co",HV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",qi=VV(UV,HV);function $V(){const[i,n]=Y.useState(null);return Y.useEffect(()=>{qi.auth.getSession().then(({data:{session:c}})=>{n(c)});const{data:{subscription:r}}=qi.auth.onAuthStateChange((c,u)=>{n(u)});return()=>r.unsubscribe()},[]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"main-content",children:[F.jsx(R9,{supabase:qi,session:i}),F.jsxs(Vz,{children:[F.jsx(Gi,{path:"/Book-Chronicles/",element:F.jsx(E8,{supabase:qi,session:i})}),F.jsx(Gi,{path:"/Book-Chronicles/create",element:F.jsx(jk,{session:i,children:F.jsx(I8,{supabase:qi,session:i})})}),F.jsx(Gi,{path:"/Book-Chronicles/post/:id",element:F.jsx(U8,{supabase:qi,session:i})}),F.jsx(Gi,{path:"/Book-Chronicles/post/:id/edit",element:F.jsx(jk,{session:i,children:F.jsx(H8,{supabase:qi,session:i})})}),F.jsx(Gi,{path:"/Book-Chronicles/profile",element:F.jsx(jk,{session:i,children:F.jsx(Y8,{supabase:qi,session:i})})}),F.jsx(Gi,{path:"/Book-Chronicles/users/:username",element:F.jsx(G8,{supabase:qi,session:i})}),F.jsx(Gi,{path:"/Book-Chronicles/getBookInfo",element:F.jsx(N8,{})}),F.jsx(Gi,{path:"Book-Chronicles/userposts",element:F.jsx(q8,{supabase:qi})}),F.jsx(Gi,{path:"Book-Chronicles/signup",element:F.jsx($8,{supabase:qi})}),F.jsx(Gi,{path:"Book-Chronicles/signin",element:F.jsx(W8,{supabase:qi})}),F.jsx(Gi,{path:"*",element:F.jsx(S8,{})})]}),F.jsx(x8,{})]}),F.jsx($9,{})]})}Wk.createRoot(document.getElementById("root")).render(F.jsx(mr.StrictMode,{children:F.jsx(Gz,{children:F.jsx($V,{})})}))});export default WV();
