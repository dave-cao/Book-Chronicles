var IU=(o,i)=>()=>(i||o((i={exports:{}}).exports,i),i.exports);var XK=IU(($t,bt)=>{function NS(o,i){for(var a=0;a<i.length;a++){const l=i[a];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in o)){const f=Object.getOwnPropertyDescriptor(l,u);f&&Object.defineProperty(o,u,f.get?f:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PS(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var OS={exports:{}},tf={},BS={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),MU=Symbol.for("react.portal"),NU=Symbol.for("react.fragment"),PU=Symbol.for("react.strict_mode"),OU=Symbol.for("react.profiler"),BU=Symbol.for("react.provider"),zU=Symbol.for("react.context"),LU=Symbol.for("react.forward_ref"),jU=Symbol.for("react.suspense"),RU=Symbol.for("react.memo"),FU=Symbol.for("react.lazy"),yE=Symbol.iterator;function VU(o){return o===null||typeof o!="object"?null:(o=yE&&o[yE]||o["@@iterator"],typeof o=="function"?o:null)}var zS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LS=Object.assign,jS={};function Aa(o,i,a){this.props=o,this.context=i,this.refs=jS,this.updater=a||zS}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};Aa.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function RS(){}RS.prototype=Aa.prototype;function Hb(o,i,a){this.props=o,this.context=i,this.refs=jS,this.updater=a||zS}var $b=Hb.prototype=new RS;$b.constructor=Hb;LS($b,Aa.prototype);$b.isPureReactComponent=!0;var AE=Array.isArray,FS=Object.prototype.hasOwnProperty,Wb={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function US(o,i,a){var l,u={},f=null,g=null;if(i!=null)for(l in i.ref!==void 0&&(g=i.ref),i.key!==void 0&&(f=""+i.key),i)FS.call(i,l)&&!VS.hasOwnProperty(l)&&(u[l]=i[l]);var m=arguments.length-2;if(m===1)u.children=a;else if(1<m){for(var k=Array(m),w=0;w<m;w++)k[w]=arguments[w+2];u.children=k}if(o&&o.defaultProps)for(l in m=o.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:zl,type:o,key:f,ref:g,props:u,_owner:Wb.current}}function UU(o,i){return{$$typeof:zl,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function qb(o){return typeof o=="object"&&o!==null&&o.$$typeof===zl}function HU(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return i[a]})}var CE=/\/+/g;function Hk(o,i){return typeof o=="object"&&o!==null&&o.key!=null?HU(""+o.key):i.toString(36)}function ah(o,i,a,l,u){var f=typeof o;(f==="undefined"||f==="boolean")&&(o=null);var g=!1;if(o===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(o.$$typeof){case zl:case MU:g=!0}}if(g)return g=o,u=u(g),o=l===""?"."+Hk(g,0):l,AE(u)?(a="",o!=null&&(a=o.replace(CE,"$&/")+"/"),ah(u,i,a,"",function(w){return w})):u!=null&&(qb(u)&&(u=UU(u,a+(!u.key||g&&g.key===u.key?"":(""+u.key).replace(CE,"$&/")+"/")+o)),i.push(u)),1;if(g=0,l=l===""?".":l+":",AE(o))for(var m=0;m<o.length;m++){f=o[m];var k=l+Hk(f,m);g+=ah(f,i,a,k,u)}else if(k=VU(o),typeof k=="function")for(o=k.call(o),m=0;!(f=o.next()).done;)f=f.value,k=l+Hk(f,m++),g+=ah(f,i,a,k,u);else if(f==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return g}function Nu(o,i,a){if(o==null)return o;var l=[],u=0;return ah(o,l,"","",function(f){return i.call(a,f,u++)}),l}function $U(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var cn={current:null},ch={transition:null},WU={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:ch,ReactCurrentOwner:Wb};Ae.Children={map:Nu,forEach:function(o,i,a){Nu(o,function(){i.apply(this,arguments)},a)},count:function(o){var i=0;return Nu(o,function(){i++}),i},toArray:function(o){return Nu(o,function(i){return i})||[]},only:function(o){if(!qb(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};Ae.Component=Aa;Ae.Fragment=NU;Ae.Profiler=OU;Ae.PureComponent=Hb;Ae.StrictMode=PU;Ae.Suspense=jU;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WU;Ae.cloneElement=function(o,i,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var l=LS({},o.props),u=o.key,f=o.ref,g=o._owner;if(i!=null){if(i.ref!==void 0&&(f=i.ref,g=Wb.current),i.key!==void 0&&(u=""+i.key),o.type&&o.type.defaultProps)var m=o.type.defaultProps;for(k in i)FS.call(i,k)&&!VS.hasOwnProperty(k)&&(l[k]=i[k]===void 0&&m!==void 0?m[k]:i[k])}var k=arguments.length-2;if(k===1)l.children=a;else if(1<k){m=Array(k);for(var w=0;w<k;w++)m[w]=arguments[w+2];l.children=m}return{$$typeof:zl,type:o.type,key:u,ref:f,props:l,_owner:g}};Ae.createContext=function(o){return o={$$typeof:zU,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:BU,_context:o},o.Consumer=o};Ae.createElement=US;Ae.createFactory=function(o){var i=US.bind(null,o);return i.type=o,i};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(o){return{$$typeof:LU,render:o}};Ae.isValidElement=qb;Ae.lazy=function(o){return{$$typeof:FU,_payload:{_status:-1,_result:o},_init:$U}};Ae.memo=function(o,i){return{$$typeof:RU,type:o,compare:i===void 0?null:i}};Ae.startTransition=function(o){var i=ch.transition;ch.transition={};try{o()}finally{ch.transition=i}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(o,i){return cn.current.useCallback(o,i)};Ae.useContext=function(o){return cn.current.useContext(o)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(o){return cn.current.useDeferredValue(o)};Ae.useEffect=function(o,i){return cn.current.useEffect(o,i)};Ae.useId=function(){return cn.current.useId()};Ae.useImperativeHandle=function(o,i,a){return cn.current.useImperativeHandle(o,i,a)};Ae.useInsertionEffect=function(o,i){return cn.current.useInsertionEffect(o,i)};Ae.useLayoutEffect=function(o,i){return cn.current.useLayoutEffect(o,i)};Ae.useMemo=function(o,i){return cn.current.useMemo(o,i)};Ae.useReducer=function(o,i,a){return cn.current.useReducer(o,i,a)};Ae.useRef=function(o){return cn.current.useRef(o)};Ae.useState=function(o){return cn.current.useState(o)};Ae.useSyncExternalStore=function(o,i,a){return cn.current.useSyncExternalStore(o,i,a)};Ae.useTransition=function(){return cn.current.useTransition()};Ae.version="18.2.0";BS.exports=Ae;var J=BS.exports;const HS=PS(J),qU=NS({__proto__:null,default:HS},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU=J,YU=Symbol.for("react.element"),ZU=Symbol.for("react.fragment"),KU=Object.prototype.hasOwnProperty,QU=GU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JU={key:!0,ref:!0,__self:!0,__source:!0};function $S(o,i,a){var l,u={},f=null,g=null;a!==void 0&&(f=""+a),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(g=i.ref);for(l in i)KU.call(i,l)&&!JU.hasOwnProperty(l)&&(u[l]=i[l]);if(o&&o.defaultProps)for(l in i=o.defaultProps,i)u[l]===void 0&&(u[l]=i[l]);return{$$typeof:YU,type:o,key:f,ref:g,props:u,_owner:QU.current}}tf.Fragment=ZU;tf.jsx=$S;tf.jsxs=$S;OS.exports=tf;var H=OS.exports,Iw={},WS={exports:{}},jn={},qS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(X,de){var me=X.length;X.push(de);e:for(;0<me;){var tt=me-1>>>1,gt=X[tt];if(0<u(gt,de))X[tt]=de,X[me]=gt,me=tt;else break e}}function a(X){return X.length===0?null:X[0]}function l(X){if(X.length===0)return null;var de=X[0],me=X.pop();if(me!==de){X[0]=me;e:for(var tt=0,gt=X.length,vn=gt>>>1;tt<vn;){var yn=2*(tt+1)-1,Yt=X[yn],Fn=yn+1,Ce=X[Fn];if(0>u(Yt,me))Fn<gt&&0>u(Ce,Yt)?(X[tt]=Ce,X[Fn]=me,tt=Fn):(X[tt]=Yt,X[yn]=me,tt=yn);else if(Fn<gt&&0>u(Ce,me))X[tt]=Ce,X[Fn]=me,tt=Fn;else break e}}return de}function u(X,de){var me=X.sortIndex-de.sortIndex;return me!==0?me:X.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();o.unstable_now=function(){return g.now()-m}}var k=[],w=[],A=1,_=null,y=3,x=!1,S=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(X){for(var de=a(w);de!==null;){if(de.callback===null)l(w);else if(de.startTime<=X)l(w),de.sortIndex=de.expirationTime,i(k,de);else break;de=a(w)}}function j(X){if(T=!1,P(X),!S)if(a(k)!==null)S=!0,L(F);else{var de=a(w);de!==null&&Te(j,de.startTime-X)}}function F(X,de){S=!1,T&&(T=!1,I(Y),Y=-1),x=!0;var me=y;try{for(P(de),_=a(k);_!==null&&(!(_.expirationTime>de)||X&&!ve());){var tt=_.callback;if(typeof tt=="function"){_.callback=null,y=_.priorityLevel;var gt=tt(_.expirationTime<=de);de=o.unstable_now(),typeof gt=="function"?_.callback=gt:_===a(k)&&l(k),P(de)}else l(k);_=a(k)}if(_!==null)var vn=!0;else{var yn=a(w);yn!==null&&Te(j,yn.startTime-de),vn=!1}return vn}finally{_=null,y=me,x=!1}}var $=!1,W=null,Y=-1,te=5,ne=-1;function ve(){return!(o.unstable_now()-ne<te)}function vt(){if(W!==null){var X=o.unstable_now();ne=X;var de=!0;try{de=W(!0,X)}finally{de?Re():($=!1,W=null)}}else $=!1}var Re;if(typeof M=="function")Re=function(){M(vt)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,dn=at.port2;at.port1.onmessage=vt,Re=function(){dn.postMessage(null)}}else Re=function(){O(vt,0)};function L(X){W=X,$||($=!0,Re())}function Te(X,de){Y=O(function(){X(o.unstable_now())},de)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(X){X.callback=null},o.unstable_continueExecution=function(){S||x||(S=!0,L(F))},o.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<X?Math.floor(1e3/X):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_getFirstCallbackNode=function(){return a(k)},o.unstable_next=function(X){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var me=y;y=de;try{return X()}finally{y=me}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=y;y=X;try{return de()}finally{y=me}},o.unstable_scheduleCallback=function(X,de,me){var tt=o.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?tt+me:tt):me=tt,X){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=me+gt,X={id:A++,callback:de,priorityLevel:X,startTime:me,expirationTime:gt,sortIndex:-1},me>tt?(X.sortIndex=me,i(w,X),a(k)===null&&X===a(w)&&(T?(I(Y),Y=-1):T=!0,Te(j,me-tt))):(X.sortIndex=gt,i(k,X),S||x||(S=!0,L(F))),X},o.unstable_shouldYield=ve,o.unstable_wrapCallback=function(X){var de=y;return function(){var me=y;y=de;try{return X.apply(this,arguments)}finally{y=me}}}})(GS);qS.exports=GS;var XU=qS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=J,Ln=XU;function K(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,ml={};function ls(o,i){pa(o,i),pa(o+"Capture",i)}function pa(o,i){for(ml[o]=i,o=0;o<i.length;o++)ZS.add(i[o])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,eH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xE={},EE={};function tH(o){return Mw.call(EE,o)?!0:Mw.call(xE,o)?!1:eH.test(o)?EE[o]=!0:(xE[o]=!0,!1)}function nH(o,i,a,l){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function iH(o,i,a,l){if(i===null||typeof i>"u"||nH(o,i,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function ln(o,i,a,l,u,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=o,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){Gt[o]=new ln(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];Gt[i]=new ln(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){Gt[o]=new ln(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){Gt[o]=new ln(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){Gt[o]=new ln(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){Gt[o]=new ln(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){Gt[o]=new ln(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){Gt[o]=new ln(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){Gt[o]=new ln(o,5,!1,o.toLowerCase(),null,!1,!1)});var Gb=/[\-:]([a-z])/g;function Yb(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(Gb,Yb);Gt[i]=new ln(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(Gb,Yb);Gt[i]=new ln(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(Gb,Yb);Gt[i]=new ln(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){Gt[o]=new ln(o,1,!1,o.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){Gt[o]=new ln(o,1,!1,o.toLowerCase(),null,!0,!0)});function Zb(o,i,a,l){var u=Gt.hasOwnProperty(i)?Gt[i]:null;(u!==null?u.type!==0:l||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(iH(i,a,u,l)&&(a=null),l||u===null?tH(i)&&(a===null?o.removeAttribute(i):o.setAttribute(i,""+a)):u.mustUseProperty?o[u.propertyName]=a===null?u.type===3?!1:"":a:(i=u.attributeName,l=u.attributeNamespace,a===null?o.removeAttribute(i):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,l?o.setAttributeNS(l,i,a):o.setAttribute(i,a))))}var wr=YS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),Nw=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),Qb=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),Ow=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),SE=Symbol.iterator;function Lc(o){return o===null||typeof o!="object"?null:(o=SE&&o[SE]||o["@@iterator"],typeof o=="function"?o:null)}var ft=Object.assign,$k;function Yc(o){if($k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$k=i&&i[1]||""}return`
`+$k+o}var Wk=!1;function qk(o,i){if(!o||Wk)return"";Wk=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(w){var l=w}Reflect.construct(o,[],i)}else{try{i.call()}catch(w){l=w}o.call(i.prototype)}else{try{throw Error()}catch(w){l=w}o()}}catch(w){if(w&&l&&typeof w.stack=="string"){for(var u=w.stack.split(`
`),f=l.stack.split(`
`),g=u.length-1,m=f.length-1;1<=g&&0<=m&&u[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(u[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||u[g]!==f[m]){var k=`
`+u[g].replace(" at new "," at ");return o.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",o.displayName)),k}while(1<=g&&0<=m);break}}}finally{Wk=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Yc(o):""}function rH(o){switch(o.tag){case 5:return Yc(o.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return o=qk(o.type,!1),o;case 11:return o=qk(o.type.render,!1),o;case 1:return o=qk(o.type,!0),o;default:return""}}function Bw(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Qs:return"Fragment";case Ks:return"Portal";case Nw:return"Profiler";case Kb:return"StrictMode";case Pw:return"Suspense";case Ow:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case QS:return(o.displayName||"Context")+".Consumer";case KS:return(o._context.displayName||"Context")+".Provider";case Qb:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Jb:return i=o.displayName||null,i!==null?i:Bw(o.type)||"Memo";case Fr:i=o._payload,o=o._init;try{return Bw(o(i))}catch{}}return null}function oH(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bw(i);case 8:return i===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function so(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function XS(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sH(o){var i=XS(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),l=""+o[i];if(!o.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(o,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Ou(o){o._valueTracker||(o._valueTracker=sH(o))}function eD(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return o&&(l=XS(o)?o.checked?"true":"false":o.value),o=l,o!==a?(i.setValue(o),!0):!1}function vh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function zw(o,i){var a=i.checked;return ft({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function DE(o,i){var a=i.defaultValue==null?"":i.defaultValue,l=i.checked!=null?i.checked:i.defaultChecked;a=so(i.value!=null?i.value:a),o._wrapperState={initialChecked:l,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function tD(o,i){i=i.checked,i!=null&&Zb(o,"checked",i,!1)}function Lw(o,i){tD(o,i);var a=so(i.value),l=i.type;if(a!=null)l==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(l==="submit"||l==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?jw(o,i.type,a):i.hasOwnProperty("defaultValue")&&jw(o,i.type,so(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function TE(o,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var l=i.type;if(!(l!=="submit"&&l!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,a||i===o.value||(o.value=i),o.defaultValue=i}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function jw(o,i,a){(i!=="number"||vh(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var Zc=Array.isArray;function ca(o,i,a,l){if(o=o.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<o.length;a++)u=i.hasOwnProperty("$"+o[a].value),o[a].selected!==u&&(o[a].selected=u),u&&l&&(o[a].defaultSelected=!0)}else{for(a=""+so(a),i=null,u=0;u<o.length;u++){if(o[u].value===a){o[u].selected=!0,l&&(o[u].defaultSelected=!0);return}i!==null||o[u].disabled||(i=o[u])}i!==null&&(i.selected=!0)}}function Rw(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(K(91));return ft({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function IE(o,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(K(92));if(Zc(a)){if(1<a.length)throw Error(K(93));a=a[0]}i=a}i==null&&(i=""),a=i}o._wrapperState={initialValue:so(a)}}function nD(o,i){var a=so(i.value),l=so(i.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),i.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),l!=null&&(o.defaultValue=""+l)}function ME(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function iD(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fw(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?iD(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Bu,rD=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,l,u){MSApp.execUnsafeLocalFunction(function(){return o(i,a,l,u)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Bu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function kl(o,i){if(i){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=i;return}}o.textContent=i}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aH=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(o){aH.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),nl[i]=nl[o]})});function oD(o,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||nl.hasOwnProperty(o)&&nl[o]?(""+i).trim():i+"px"}function sD(o,i){o=o.style;for(var a in i)if(i.hasOwnProperty(a)){var l=a.indexOf("--")===0,u=oD(a,i[a],l);a==="float"&&(a="cssFloat"),l?o.setProperty(a,u):o[a]=u}}var cH=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vw(o,i){if(i){if(cH[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(K(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(K(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(K(61))}if(i.style!=null&&typeof i.style!="object")throw Error(K(62))}}function Uw(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hw=null;function Xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $w=null,la=null,da=null;function NE(o){if(o=Rl(o)){if(typeof $w!="function")throw Error(K(280));var i=o.stateNode;i&&(i=af(i),$w(o.stateNode,o.type,i))}}function aD(o){la?da?da.push(o):da=[o]:la=o}function cD(){if(la){var o=la,i=da;if(da=la=null,NE(o),i)for(o=0;o<i.length;o++)NE(i[o])}}function lD(o,i){return o(i)}function dD(){}var Gk=!1;function uD(o,i,a){if(Gk)return o(i,a);Gk=!0;try{return lD(o,i,a)}finally{Gk=!1,(la!==null||da!==null)&&(dD(),cD())}}function wl(o,i){var a=o.stateNode;if(a===null)return null;var l=af(a);if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(o=o.type,l=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!l;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(K(231,i,typeof a));return a}var Ww=!1;if(hr)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){Ww=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Ww=!1}function lH(o,i,a,l,u,f,g,m,k){var w=Array.prototype.slice.call(arguments,3);try{i.apply(a,w)}catch(A){this.onError(A)}}var il=!1,yh=null,Ah=!1,qw=null,dH={onError:function(o){il=!0,yh=o}};function uH(o,i,a,l,u,f,g,m,k){il=!1,yh=null,lH.apply(dH,arguments)}function hH(o,i,a,l,u,f,g,m,k){if(uH.apply(this,arguments),il){if(il){var w=yh;il=!1,yh=null}else throw Error(K(198));Ah||(Ah=!0,qw=w)}}function ds(o){var i=o,a=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(a=i.return),o=i.return;while(o)}return i.tag===3?a:null}function hD(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function PE(o){if(ds(o)!==o)throw Error(K(188))}function fH(o){var i=o.alternate;if(!i){if(i=ds(o),i===null)throw Error(K(188));return i!==o?null:o}for(var a=o,l=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return PE(u),o;if(f===l)return PE(u),i;f=f.sibling}throw Error(K(188))}if(a.return!==l.return)a=u,l=f;else{for(var g=!1,m=u.child;m;){if(m===a){g=!0,a=u,l=f;break}if(m===l){g=!0,l=u,a=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===a){g=!0,a=f,l=u;break}if(m===l){g=!0,l=f,a=u;break}m=m.sibling}if(!g)throw Error(K(189))}}if(a.alternate!==l)throw Error(K(190))}if(a.tag!==3)throw Error(K(188));return a.stateNode.current===a?o:i}function fD(o){return o=fH(o),o!==null?gD(o):null}function gD(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=gD(o);if(i!==null)return i;o=o.sibling}return null}var pD=Ln.unstable_scheduleCallback,OE=Ln.unstable_cancelCallback,gH=Ln.unstable_shouldYield,pH=Ln.unstable_requestPaint,At=Ln.unstable_now,mH=Ln.unstable_getCurrentPriorityLevel,e_=Ln.unstable_ImmediatePriority,mD=Ln.unstable_UserBlockingPriority,Ch=Ln.unstable_NormalPriority,kH=Ln.unstable_LowPriority,kD=Ln.unstable_IdlePriority,nf=null,Vi=null;function wH(o){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(nf,o,void 0,(o.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:vH,bH=Math.log,_H=Math.LN2;function vH(o){return o>>>=0,o===0?32:31-(bH(o)/_H|0)|0}var zu=64,Lu=4194304;function Kc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function xh(o,i){var a=o.pendingLanes;if(a===0)return 0;var l=0,u=o.suspendedLanes,f=o.pingedLanes,g=a&268435455;if(g!==0){var m=g&~u;m!==0?l=Kc(m):(f&=g,f!==0&&(l=Kc(f)))}else g=a&~u,g!==0?l=Kc(g):f!==0&&(l=Kc(f));if(l===0)return 0;if(i!==0&&i!==l&&!(i&u)&&(u=l&-l,f=i&-i,u>=f||u===16&&(f&4194240)!==0))return i;if(l&4&&(l|=a&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=l;0<i;)a=31-bi(i),u=1<<a,l|=o[a],i&=~u;return l}function yH(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AH(o,i){for(var a=o.suspendedLanes,l=o.pingedLanes,u=o.expirationTimes,f=o.pendingLanes;0<f;){var g=31-bi(f),m=1<<g,k=u[g];k===-1?(!(m&a)||m&l)&&(u[g]=yH(m,i)):k<=i&&(o.expiredLanes|=m),f&=~m}}function Gw(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function wD(){var o=zu;return zu<<=1,!(zu&4194240)&&(zu=64),o}function Yk(o){for(var i=[],a=0;31>a;a++)i.push(o);return i}function Ll(o,i,a){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-bi(i),o[i]=a}function CH(o,i){var a=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var l=o.eventTimes;for(o=o.expirationTimes;0<a;){var u=31-bi(a),f=1<<u;i[u]=0,l[u]=-1,o[u]=-1,a&=~f}}function t_(o,i){var a=o.entangledLanes|=i;for(o=o.entanglements;a;){var l=31-bi(a),u=1<<l;u&i|o[l]&i&&(o[l]|=i),a&=~u}}var Ve=0;function bD(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var _D,n_,vD,yD,AD,Yw=!1,ju=[],Qr=null,Jr=null,Xr=null,bl=new Map,_l=new Map,$r=[],xH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BE(o,i){switch(o){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function Rc(o,i,a,l,u,f){return o===null||o.nativeEvent!==f?(o={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Rl(i),i!==null&&n_(i)),o):(o.eventSystemFlags|=l,i=o.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),o)}function EH(o,i,a,l,u){switch(i){case"focusin":return Qr=Rc(Qr,o,i,a,l,u),!0;case"dragenter":return Jr=Rc(Jr,o,i,a,l,u),!0;case"mouseover":return Xr=Rc(Xr,o,i,a,l,u),!0;case"pointerover":var f=u.pointerId;return bl.set(f,Rc(bl.get(f)||null,o,i,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,_l.set(f,Rc(_l.get(f)||null,o,i,a,l,u)),!0}return!1}function CD(o){var i=Ko(o.target);if(i!==null){var a=ds(i);if(a!==null){if(i=a.tag,i===13){if(i=hD(a),i!==null){o.blockedOn=i,AD(o.priority,function(){vD(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function lh(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var a=Zw(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var l=new a.constructor(a.type,a);Hw=l,a.target.dispatchEvent(l),Hw=null}else return i=Rl(a),i!==null&&n_(i),o.blockedOn=a,!1;i.shift()}return!0}function zE(o,i,a){lh(o)&&a.delete(i)}function SH(){Yw=!1,Qr!==null&&lh(Qr)&&(Qr=null),Jr!==null&&lh(Jr)&&(Jr=null),Xr!==null&&lh(Xr)&&(Xr=null),bl.forEach(zE),_l.forEach(zE)}function Fc(o,i){o.blockedOn===i&&(o.blockedOn=null,Yw||(Yw=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,SH)))}function vl(o){function i(u){return Fc(u,o)}if(0<ju.length){Fc(ju[0],o);for(var a=1;a<ju.length;a++){var l=ju[a];l.blockedOn===o&&(l.blockedOn=null)}}for(Qr!==null&&Fc(Qr,o),Jr!==null&&Fc(Jr,o),Xr!==null&&Fc(Xr,o),bl.forEach(i),_l.forEach(i),a=0;a<$r.length;a++)l=$r[a],l.blockedOn===o&&(l.blockedOn=null);for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)CD(a),a.blockedOn===null&&$r.shift()}var ua=wr.ReactCurrentBatchConfig,Eh=!0;function DH(o,i,a,l){var u=Ve,f=ua.transition;ua.transition=null;try{Ve=1,i_(o,i,a,l)}finally{Ve=u,ua.transition=f}}function TH(o,i,a,l){var u=Ve,f=ua.transition;ua.transition=null;try{Ve=4,i_(o,i,a,l)}finally{Ve=u,ua.transition=f}}function i_(o,i,a,l){if(Eh){var u=Zw(o,i,a,l);if(u===null)rw(o,i,l,Sh,a),BE(o,l);else if(EH(u,o,i,a,l))l.stopPropagation();else if(BE(o,l),i&4&&-1<xH.indexOf(o)){for(;u!==null;){var f=Rl(u);if(f!==null&&_D(f),f=Zw(o,i,a,l),f===null&&rw(o,i,l,Sh,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else rw(o,i,l,null,a)}}var Sh=null;function Zw(o,i,a,l){if(Sh=null,o=Xb(l),o=Ko(o),o!==null)if(i=ds(o),i===null)o=null;else if(a=i.tag,a===13){if(o=hD(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return Sh=o,null}function xD(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mH()){case e_:return 1;case mD:return 4;case Ch:case kH:return 16;case kD:return 536870912;default:return 16}default:return 16}}var Yr=null,r_=null,dh=null;function ED(){if(dh)return dh;var o,i=r_,a=i.length,l,u="value"in Yr?Yr.value:Yr.textContent,f=u.length;for(o=0;o<a&&i[o]===u[o];o++);var g=a-o;for(l=1;l<=g&&i[a-l]===u[f-l];l++);return dh=u.slice(o,1<l?1-l:void 0)}function uh(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function Ru(){return!0}function LE(){return!1}function Rn(o){function i(a,l,u,f,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in o)o.hasOwnProperty(m)&&(a=o[m],this[m]=a?a(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ru:LE,this.isPropagationStopped=LE,this}return ft(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),i}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o_=Rn(Ca),jl=ft({},Ca,{view:0,detail:0}),IH=Rn(jl),Zk,Kk,Vc,rf=ft({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s_,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Vc&&(Vc&&o.type==="mousemove"?(Zk=o.screenX-Vc.screenX,Kk=o.screenY-Vc.screenY):Kk=Zk=0,Vc=o),Zk)},movementY:function(o){return"movementY"in o?o.movementY:Kk}}),jE=Rn(rf),MH=ft({},rf,{dataTransfer:0}),NH=Rn(MH),PH=ft({},jl,{relatedTarget:0}),Qk=Rn(PH),OH=ft({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),BH=Rn(OH),zH=ft({},Ca,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),LH=Rn(zH),jH=ft({},Ca,{data:0}),RE=Rn(jH),RH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UH(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=VH[o])?!!i[o]:!1}function s_(){return UH}var HH=ft({},jl,{key:function(o){if(o.key){var i=RH[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=uh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?FH[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s_,charCode:function(o){return o.type==="keypress"?uh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),$H=Rn(HH),WH=ft({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FE=Rn(WH),qH=ft({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s_}),GH=Rn(qH),YH=ft({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZH=Rn(YH),KH=ft({},rf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),QH=Rn(KH),JH=[9,13,27,32],a_=hr&&"CompositionEvent"in window,rl=null;hr&&"documentMode"in document&&(rl=document.documentMode);var XH=hr&&"TextEvent"in window&&!rl,SD=hr&&(!a_||rl&&8<rl&&11>=rl),VE=String.fromCharCode(32),UE=!1;function DD(o,i){switch(o){case"keyup":return JH.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TD(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Js=!1;function e$(o,i){switch(o){case"compositionend":return TD(i);case"keypress":return i.which!==32?null:(UE=!0,VE);case"textInput":return o=i.data,o===VE&&UE?null:o;default:return null}}function t$(o,i){if(Js)return o==="compositionend"||!a_&&DD(o,i)?(o=ED(),dh=r_=Yr=null,Js=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return SD&&i.locale!=="ko"?null:i.data;default:return null}}var n$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!n$[o.type]:i==="textarea"}function ID(o,i,a,l){aD(l),i=Dh(i,"onChange"),0<i.length&&(a=new o_("onChange","change",null,a,l),o.push({event:a,listeners:i}))}var ol=null,yl=null;function i$(o){VD(o,0)}function of(o){var i=ta(o);if(eD(i))return o}function r$(o,i){if(o==="change")return i}var MD=!1;if(hr){var Jk;if(hr){var Xk="oninput"in document;if(!Xk){var $E=document.createElement("div");$E.setAttribute("oninput","return;"),Xk=typeof $E.oninput=="function"}Jk=Xk}else Jk=!1;MD=Jk&&(!document.documentMode||9<document.documentMode)}function WE(){ol&&(ol.detachEvent("onpropertychange",ND),yl=ol=null)}function ND(o){if(o.propertyName==="value"&&of(yl)){var i=[];ID(i,yl,o,Xb(o)),uD(i$,i)}}function o$(o,i,a){o==="focusin"?(WE(),ol=i,yl=a,ol.attachEvent("onpropertychange",ND)):o==="focusout"&&WE()}function s$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return of(yl)}function a$(o,i){if(o==="click")return of(i)}function c$(o,i){if(o==="input"||o==="change")return of(i)}function l$(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var vi=typeof Object.is=="function"?Object.is:l$;function Al(o,i){if(vi(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var a=Object.keys(o),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Mw.call(i,u)||!vi(o[u],i[u]))return!1}return!0}function qE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function GE(o,i){var a=qE(o);o=0;for(var l;a;){if(a.nodeType===3){if(l=o+a.textContent.length,o<=i&&l>=i)return{node:a,offset:i-o};o=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qE(a)}}function PD(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?PD(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function OD(){for(var o=window,i=vh();i instanceof o.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)o=i.contentWindow;else break;i=vh(o.document)}return i}function c_(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function d$(o){var i=OD(),a=o.focusedElem,l=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&PD(a.ownerDocument.documentElement,a)){if(l!==null&&c_(a)){if(i=l.start,o=l.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var u=a.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!o.extend&&f>l&&(u=l,l=f,f=u),u=GE(a,f);var g=GE(a,l);u&&g&&(o.rangeCount!==1||o.anchorNode!==u.node||o.anchorOffset!==u.offset||o.focusNode!==g.node||o.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(u.node,u.offset),o.removeAllRanges(),f>l?(o.addRange(i),o.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var u$=hr&&"documentMode"in document&&11>=document.documentMode,Xs=null,Kw=null,sl=null,Qw=!1;function YE(o,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qw||Xs==null||Xs!==vh(l)||(l=Xs,"selectionStart"in l&&c_(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&Al(sl,l)||(sl=l,l=Dh(Kw,"onSelect"),0<l.length&&(i=new o_("onSelect","select",null,i,a),o.push({event:i,listeners:l}),i.target=Xs)))}function Fu(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit"+o]="webkit"+i,a["Moz"+o]="moz"+i,a}var ea={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},ew={},BD={};hr&&(BD=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function sf(o){if(ew[o])return ew[o];if(!ea[o])return o;var i=ea[o],a;for(a in i)if(i.hasOwnProperty(a)&&a in BD)return ew[o]=i[a];return o}var zD=sf("animationend"),LD=sf("animationiteration"),jD=sf("animationstart"),RD=sf("transitionend"),FD=new Map,ZE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(o,i){FD.set(o,i),ls(i,[o])}for(var tw=0;tw<ZE.length;tw++){var nw=ZE[tw],h$=nw.toLowerCase(),f$=nw[0].toUpperCase()+nw.slice(1);co(h$,"on"+f$)}co(zD,"onAnimationEnd");co(LD,"onAnimationIteration");co(jD,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(RD,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function KE(o,i,a){var l=o.type||"unknown-event";o.currentTarget=a,hH(l,i,void 0,o),o.currentTarget=null}function VD(o,i){i=(i&4)!==0;for(var a=0;a<o.length;a++){var l=o[a],u=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var g=l.length-1;0<=g;g--){var m=l[g],k=m.instance,w=m.currentTarget;if(m=m.listener,k!==f&&u.isPropagationStopped())break e;KE(u,m,w),f=k}else for(g=0;g<l.length;g++){if(m=l[g],k=m.instance,w=m.currentTarget,m=m.listener,k!==f&&u.isPropagationStopped())break e;KE(u,m,w),f=k}}}if(Ah)throw o=qw,Ah=!1,qw=null,o}function rt(o,i){var a=i[nb];a===void 0&&(a=i[nb]=new Set);var l=o+"__bubble";a.has(l)||(UD(i,o,2,!1),a.add(l))}function iw(o,i,a){var l=0;i&&(l|=4),UD(a,o,l,i)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Cl(o){if(!o[Vu]){o[Vu]=!0,ZS.forEach(function(a){a!=="selectionchange"&&(g$.has(a)||iw(a,!1,o),iw(a,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[Vu]||(i[Vu]=!0,iw("selectionchange",!1,i))}}function UD(o,i,a,l){switch(xD(i)){case 1:var u=DH;break;case 4:u=TH;break;default:u=i_}a=u.bind(null,i,a,o),u=void 0,!Ww||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),l?u!==void 0?o.addEventListener(i,a,{capture:!0,passive:u}):o.addEventListener(i,a,!0):u!==void 0?o.addEventListener(i,a,{passive:u}):o.addEventListener(i,a,!1)}function rw(o,i,a,l,u){var f=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var m=l.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===u||k.nodeType===8&&k.parentNode===u))return;g=g.return}for(;m!==null;){if(g=Ko(m),g===null)return;if(k=g.tag,k===5||k===6){l=f=g;continue e}m=m.parentNode}}l=l.return}uD(function(){var w=f,A=Xb(a),_=[];e:{var y=FD.get(o);if(y!==void 0){var x=o_,S=o;switch(o){case"keypress":if(uh(a)===0)break e;case"keydown":case"keyup":x=$H;break;case"focusin":S="focus",x=Qk;break;case"focusout":S="blur",x=Qk;break;case"beforeblur":case"afterblur":x=Qk;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=NH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=GH;break;case zD:case LD:case jD:x=BH;break;case RD:x=ZH;break;case"scroll":x=IH;break;case"wheel":x=QH;break;case"copy":case"cut":case"paste":x=LH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=FE}var T=(i&4)!==0,O=!T&&o==="scroll",I=T?y!==null?y+"Capture":null:y;T=[];for(var M=w,P;M!==null;){P=M;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,I!==null&&(j=wl(M,I),j!=null&&T.push(xl(M,j,P)))),O)break;M=M.return}0<T.length&&(y=new x(y,S,null,a,A),_.push({event:y,listeners:T}))}}if(!(i&7)){e:{if(y=o==="mouseover"||o==="pointerover",x=o==="mouseout"||o==="pointerout",y&&a!==Hw&&(S=a.relatedTarget||a.fromElement)&&(Ko(S)||S[fr]))break e;if((x||y)&&(y=A.window===A?A:(y=A.ownerDocument)?y.defaultView||y.parentWindow:window,x?(S=a.relatedTarget||a.toElement,x=w,S=S?Ko(S):null,S!==null&&(O=ds(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=w),x!==S)){if(T=jE,j="onMouseLeave",I="onMouseEnter",M="mouse",(o==="pointerout"||o==="pointerover")&&(T=FE,j="onPointerLeave",I="onPointerEnter",M="pointer"),O=x==null?y:ta(x),P=S==null?y:ta(S),y=new T(j,M+"leave",x,a,A),y.target=O,y.relatedTarget=P,j=null,Ko(A)===w&&(T=new T(I,M+"enter",S,a,A),T.target=P,T.relatedTarget=O,j=T),O=j,x&&S)t:{for(T=x,I=S,M=0,P=T;P;P=Vs(P))M++;for(P=0,j=I;j;j=Vs(j))P++;for(;0<M-P;)T=Vs(T),M--;for(;0<P-M;)I=Vs(I),P--;for(;M--;){if(T===I||I!==null&&T===I.alternate)break t;T=Vs(T),I=Vs(I)}T=null}else T=null;x!==null&&QE(_,y,x,T,!1),S!==null&&O!==null&&QE(_,O,S,T,!0)}}e:{if(y=w?ta(w):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var F=r$;else if(HE(y))if(MD)F=c$;else{F=s$;var $=o$}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=a$);if(F&&(F=F(o,w))){ID(_,F,a,A);break e}$&&$(o,y,w),o==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&jw(y,"number",y.value)}switch($=w?ta(w):window,o){case"focusin":(HE($)||$.contentEditable==="true")&&(Xs=$,Kw=w,sl=null);break;case"focusout":sl=Kw=Xs=null;break;case"mousedown":Qw=!0;break;case"contextmenu":case"mouseup":case"dragend":Qw=!1,YE(_,a,A);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":YE(_,a,A)}var W;if(a_)e:{switch(o){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else Js?DD(o,a)&&(Y="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Y="onCompositionStart");Y&&(SD&&a.locale!=="ko"&&(Js||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&Js&&(W=ED()):(Yr=A,r_="value"in Yr?Yr.value:Yr.textContent,Js=!0)),$=Dh(w,Y),0<$.length&&(Y=new RE(Y,o,null,a,A),_.push({event:Y,listeners:$}),W?Y.data=W:(W=TD(a),W!==null&&(Y.data=W)))),(W=XH?e$(o,a):t$(o,a))&&(w=Dh(w,"onBeforeInput"),0<w.length&&(A=new RE("onBeforeInput","beforeinput",null,a,A),_.push({event:A,listeners:w}),A.data=W))}VD(_,i)})}function xl(o,i,a){return{instance:o,listener:i,currentTarget:a}}function Dh(o,i){for(var a=i+"Capture",l=[];o!==null;){var u=o,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=wl(o,a),f!=null&&l.unshift(xl(o,f,u)),f=wl(o,i),f!=null&&l.push(xl(o,f,u))),o=o.return}return l}function Vs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function QE(o,i,a,l,u){for(var f=i._reactName,g=[];a!==null&&a!==l;){var m=a,k=m.alternate,w=m.stateNode;if(k!==null&&k===l)break;m.tag===5&&w!==null&&(m=w,u?(k=wl(a,f),k!=null&&g.unshift(xl(a,k,m))):u||(k=wl(a,f),k!=null&&g.push(xl(a,k,m)))),a=a.return}g.length!==0&&o.push({event:i,listeners:g})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function JE(o){return(typeof o=="string"?o:""+o).replace(p$,`
`).replace(m$,"")}function Uu(o,i,a){if(i=JE(i),JE(o)!==i&&a)throw Error(K(425))}function Th(){}var Jw=null,Xw=null;function eb(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tb=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,w$=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(o){return XE.resolve(null).then(o).catch(b$)}:tb;function b$(o){setTimeout(function(){throw o})}function ow(o,i){var a=i,l=0;do{var u=a.nextSibling;if(o.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){o.removeChild(u),vl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);vl(i)}function eo(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function e2(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return o;i--}else a==="/$"&&i++}o=o.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Ri="__reactFiber$"+xa,El="__reactProps$"+xa,fr="__reactContainer$"+xa,nb="__reactEvents$"+xa,_$="__reactListeners$"+xa,v$="__reactHandles$"+xa;function Ko(o){var i=o[Ri];if(i)return i;for(var a=o.parentNode;a;){if(i=a[fr]||a[Ri]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(o=e2(o);o!==null;){if(a=o[Ri])return a;o=e2(o)}return i}o=a,a=o.parentNode}return null}function Rl(o){return o=o[Ri]||o[fr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ta(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(K(33))}function af(o){return o[El]||null}var ib=[],na=-1;function lo(o){return{current:o}}function st(o){0>na||(o.current=ib[na],ib[na]=null,na--)}function et(o,i){na++,ib[na]=o.current,o.current=i}var ao={},nn=lo(ao),wn=lo(!1),rs=ao;function ma(o,i){var a=o.type.contextTypes;if(!a)return ao;var l=o.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===i)return l.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in a)u[f]=i[f];return l&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=u),u}function bn(o){return o=o.childContextTypes,o!=null}function Ih(){st(wn),st(nn)}function t2(o,i,a){if(nn.current!==ao)throw Error(K(168));et(nn,i),et(wn,a)}function HD(o,i,a){var l=o.stateNode;if(i=i.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var u in l)if(!(u in i))throw Error(K(108,oH(o)||"Unknown",u));return ft({},a,l)}function Mh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ao,rs=nn.current,et(nn,o),et(wn,wn.current),!0}function n2(o,i,a){var l=o.stateNode;if(!l)throw Error(K(169));a?(o=HD(o,i,rs),l.__reactInternalMemoizedMergedChildContext=o,st(wn),st(nn),et(nn,o)):st(wn),et(wn,a)}var ar=null,cf=!1,sw=!1;function $D(o){ar===null?ar=[o]:ar.push(o)}function y$(o){cf=!0,$D(o)}function uo(){if(!sw&&ar!==null){sw=!0;var o=0,i=Ve;try{var a=ar;for(Ve=1;o<a.length;o++){var l=a[o];do l=l(!0);while(l!==null)}ar=null,cf=!1}catch(u){throw ar!==null&&(ar=ar.slice(o+1)),pD(e_,uo),u}finally{Ve=i,sw=!1}}return null}var ia=[],ra=0,Nh=null,Ph=0,Kn=[],Qn=0,os=null,cr=1,lr="";function $o(o,i){ia[ra++]=Ph,ia[ra++]=Nh,Nh=o,Ph=i}function WD(o,i,a){Kn[Qn++]=cr,Kn[Qn++]=lr,Kn[Qn++]=os,os=o;var l=cr;o=lr;var u=32-bi(l)-1;l&=~(1<<u),a+=1;var f=32-bi(i)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,cr=1<<32-bi(i)+u|a<<u|l,lr=f+o}else cr=1<<f|a<<u|l,lr=o}function l_(o){o.return!==null&&($o(o,1),WD(o,1,0))}function d_(o){for(;o===Nh;)Nh=ia[--ra],ia[ra]=null,Ph=ia[--ra],ia[ra]=null;for(;o===os;)os=Kn[--Qn],Kn[Qn]=null,lr=Kn[--Qn],Kn[Qn]=null,cr=Kn[--Qn],Kn[Qn]=null}var Bn=null,On=null,ct=!1,ki=null;function qD(o,i){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=o,i=o.deletions,i===null?(o.deletions=[a],o.flags|=16):i.push(a)}function i2(o,i){switch(o.tag){case 5:var a=o.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,Bn=o,On=eo(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,Bn=o,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=os!==null?{id:cr,overflow:lr}:null,o.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=i,a.return=o,o.child=a,Bn=o,On=null,!0):!1;default:return!1}}function rb(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ob(o){if(ct){var i=On;if(i){var a=i;if(!i2(o,i)){if(rb(o))throw Error(K(418));i=eo(a.nextSibling);var l=Bn;i&&i2(o,i)?qD(l,a):(o.flags=o.flags&-4097|2,ct=!1,Bn=o)}}else{if(rb(o))throw Error(K(418));o.flags=o.flags&-4097|2,ct=!1,Bn=o}}}function r2(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Bn=o}function Hu(o){if(o!==Bn)return!1;if(!ct)return r2(o),ct=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!eb(o.type,o.memoizedProps)),i&&(i=On)){if(rb(o))throw GD(),Error(K(418));for(;i;)qD(o,i),i=eo(i.nextSibling)}if(r2(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(i===0){On=eo(o.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}o=o.nextSibling}On=null}}else On=Bn?eo(o.stateNode.nextSibling):null;return!0}function GD(){for(var o=On;o;)o=eo(o.nextSibling)}function ka(){On=Bn=null,ct=!1}function u_(o){ki===null?ki=[o]:ki.push(o)}var A$=wr.ReactCurrentBatchConfig;function gi(o,i){if(o&&o.defaultProps){i=ft({},i),o=o.defaultProps;for(var a in o)i[a]===void 0&&(i[a]=o[a]);return i}return i}var Oh=lo(null),Bh=null,oa=null,h_=null;function f_(){h_=oa=Bh=null}function g_(o){var i=Oh.current;st(Oh),o._currentValue=i}function sb(o,i,a){for(;o!==null;){var l=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),o===a)break;o=o.return}}function ha(o,i){Bh=o,h_=oa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(kn=!0),o.firstContext=null)}function ni(o){var i=o._currentValue;if(h_!==o)if(o={context:o,memoizedValue:i,next:null},oa===null){if(Bh===null)throw Error(K(308));oa=o,Bh.dependencies={lanes:0,firstContext:o}}else oa=oa.next=o;return i}var Qo=null;function p_(o){Qo===null?Qo=[o]:Qo.push(o)}function YD(o,i,a,l){var u=i.interleaved;return u===null?(a.next=a,p_(i)):(a.next=u.next,u.next=a),i.interleaved=a,gr(o,l)}function gr(o,i){o.lanes|=i;var a=o.alternate;for(a!==null&&(a.lanes|=i),a=o,o=o.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),a=o,o=o.return;return a.tag===3?a.stateNode:null}var Vr=!1;function m_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZD(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ur(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function to(o,i,a){var l=o.updateQueue;if(l===null)return null;if(l=l.shared,Ne&2){var u=l.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i,gr(o,a)}return u=l.interleaved,u===null?(i.next=i,p_(l)):(i.next=u.next,u.next=i),l.interleaved=i,gr(o,a)}function hh(o,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var l=i.lanes;l&=o.pendingLanes,a|=l,i.lanes=a,t_(o,a)}}function o2(o,i){var a=o.updateQueue,l=o.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,effects:l.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=i:o.next=i,a.lastBaseUpdate=i}function zh(o,i,a,l){var u=o.updateQueue;Vr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var k=m,w=k.next;k.next=null,g===null?f=w:g.next=w,g=k;var A=o.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==g&&(m===null?A.firstBaseUpdate=w:m.next=w,A.lastBaseUpdate=k))}if(f!==null){var _=u.baseState;g=0,A=w=k=null,m=f;do{var y=m.lane,x=m.eventTime;if((l&y)===y){A!==null&&(A=A.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=o,T=m;switch(y=i,x=a,T.tag){case 1:if(S=T.payload,typeof S=="function"){_=S.call(x,_,y);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,y=typeof S=="function"?S.call(x,_,y):S,y==null)break e;_=ft({},_,y);break e;case 2:Vr=!0}}m.callback!==null&&m.lane!==0&&(o.flags|=64,y=u.effects,y===null?u.effects=[m]:y.push(m))}else x={eventTime:x,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(w=A=x,k=_):A=A.next=x,g|=y;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;y=m,m=y.next,y.next=null,u.lastBaseUpdate=y,u.shared.pending=null}}while(1);if(A===null&&(k=_),u.baseState=k,u.firstBaseUpdate=w,u.lastBaseUpdate=A,i=u.shared.interleaved,i!==null){u=i;do g|=u.lane,u=u.next;while(u!==i)}else f===null&&(u.shared.lanes=0);as|=g,o.lanes=g,o.memoizedState=_}}function s2(o,i,a){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var l=o[i],u=l.callback;if(u!==null){if(l.callback=null,l=a,typeof u!="function")throw Error(K(191,u));u.call(l)}}}var KD=new YS.Component().refs;function ab(o,i,a,l){i=o.memoizedState,a=a(l,i),a=a==null?i:ft({},i,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var lf={isMounted:function(o){return(o=o._reactInternals)?ds(o)===o:!1},enqueueSetState:function(o,i,a){o=o._reactInternals;var l=an(),u=io(o),f=ur(l,u);f.payload=i,a!=null&&(f.callback=a),i=to(o,f,u),i!==null&&(_i(i,o,u,l),hh(i,o,u))},enqueueReplaceState:function(o,i,a){o=o._reactInternals;var l=an(),u=io(o),f=ur(l,u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=to(o,f,u),i!==null&&(_i(i,o,u,l),hh(i,o,u))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var a=an(),l=io(o),u=ur(a,l);u.tag=2,i!=null&&(u.callback=i),i=to(o,u,l),i!==null&&(_i(i,o,l,a),hh(i,o,l))}};function a2(o,i,a,l,u,f,g){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(l,f,g):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(u,f):!0}function QD(o,i,a){var l=!1,u=ao,f=i.contextType;return typeof f=="object"&&f!==null?f=ni(f):(u=bn(i)?rs:nn.current,l=i.contextTypes,f=(l=l!=null)?ma(o,u):ao),i=new i(a,f),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lf,o.stateNode=i,i._reactInternals=o,l&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=f),i}function c2(o,i,a,l){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==o&&lf.enqueueReplaceState(i,i.state,null)}function cb(o,i,a,l){var u=o.stateNode;u.props=a,u.state=o.memoizedState,u.refs=KD,m_(o);var f=i.contextType;typeof f=="object"&&f!==null?u.context=ni(f):(f=bn(i)?rs:nn.current,u.context=ma(o,f)),u.state=o.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(ab(o,i,f,a),u.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(i=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),i!==u.state&&lf.enqueueReplaceState(u,u.state,null),zh(o,a,u,l),u.state=o.memoizedState),typeof u.componentDidMount=="function"&&(o.flags|=4194308)}function Uc(o,i,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(K(309));var l=a.stateNode}if(!l)throw Error(K(147,o));var u=l,f=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var m=u.refs;m===KD&&(m=u.refs={}),g===null?delete m[f]:m[f]=g},i._stringRef=f,i)}if(typeof o!="string")throw Error(K(284));if(!a._owner)throw Error(K(290,o))}return o}function $u(o,i){throw o=Object.prototype.toString.call(i),Error(K(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function l2(o){var i=o._init;return i(o._payload)}function JD(o){function i(I,M){if(o){var P=I.deletions;P===null?(I.deletions=[M],I.flags|=16):P.push(M)}}function a(I,M){if(!o)return null;for(;M!==null;)i(I,M),M=M.sibling;return null}function l(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function u(I,M){return I=ro(I,M),I.index=0,I.sibling=null,I}function f(I,M,P){return I.index=P,o?(P=I.alternate,P!==null?(P=P.index,P<M?(I.flags|=2,M):P):(I.flags|=2,M)):(I.flags|=1048576,M)}function g(I){return o&&I.alternate===null&&(I.flags|=2),I}function m(I,M,P,j){return M===null||M.tag!==6?(M=fw(P,I.mode,j),M.return=I,M):(M=u(M,P),M.return=I,M)}function k(I,M,P,j){var F=P.type;return F===Qs?A(I,M,P.props.children,j,P.key):M!==null&&(M.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Fr&&l2(F)===M.type)?(j=u(M,P.props),j.ref=Uc(I,M,P),j.return=I,j):(j=wh(P.type,P.key,P.props,null,I.mode,j),j.ref=Uc(I,M,P),j.return=I,j)}function w(I,M,P,j){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=gw(P,I.mode,j),M.return=I,M):(M=u(M,P.children||[]),M.return=I,M)}function A(I,M,P,j,F){return M===null||M.tag!==7?(M=ns(P,I.mode,j,F),M.return=I,M):(M=u(M,P),M.return=I,M)}function _(I,M,P){if(typeof M=="string"&&M!==""||typeof M=="number")return M=fw(""+M,I.mode,P),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Pu:return P=wh(M.type,M.key,M.props,null,I.mode,P),P.ref=Uc(I,null,M),P.return=I,P;case Ks:return M=gw(M,I.mode,P),M.return=I,M;case Fr:var j=M._init;return _(I,j(M._payload),P)}if(Zc(M)||Lc(M))return M=ns(M,I.mode,P,null),M.return=I,M;$u(I,M)}return null}function y(I,M,P,j){var F=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return F!==null?null:m(I,M,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Pu:return P.key===F?k(I,M,P,j):null;case Ks:return P.key===F?w(I,M,P,j):null;case Fr:return F=P._init,y(I,M,F(P._payload),j)}if(Zc(P)||Lc(P))return F!==null?null:A(I,M,P,j,null);$u(I,P)}return null}function x(I,M,P,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return I=I.get(P)||null,m(M,I,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pu:return I=I.get(j.key===null?P:j.key)||null,k(M,I,j,F);case Ks:return I=I.get(j.key===null?P:j.key)||null,w(M,I,j,F);case Fr:var $=j._init;return x(I,M,P,$(j._payload),F)}if(Zc(j)||Lc(j))return I=I.get(P)||null,A(M,I,j,F,null);$u(M,j)}return null}function S(I,M,P,j){for(var F=null,$=null,W=M,Y=M=0,te=null;W!==null&&Y<P.length;Y++){W.index>Y?(te=W,W=null):te=W.sibling;var ne=y(I,W,P[Y],j);if(ne===null){W===null&&(W=te);break}o&&W&&ne.alternate===null&&i(I,W),M=f(ne,M,Y),$===null?F=ne:$.sibling=ne,$=ne,W=te}if(Y===P.length)return a(I,W),ct&&$o(I,Y),F;if(W===null){for(;Y<P.length;Y++)W=_(I,P[Y],j),W!==null&&(M=f(W,M,Y),$===null?F=W:$.sibling=W,$=W);return ct&&$o(I,Y),F}for(W=l(I,W);Y<P.length;Y++)te=x(W,I,Y,P[Y],j),te!==null&&(o&&te.alternate!==null&&W.delete(te.key===null?Y:te.key),M=f(te,M,Y),$===null?F=te:$.sibling=te,$=te);return o&&W.forEach(function(ve){return i(I,ve)}),ct&&$o(I,Y),F}function T(I,M,P,j){var F=Lc(P);if(typeof F!="function")throw Error(K(150));if(P=F.call(P),P==null)throw Error(K(151));for(var $=F=null,W=M,Y=M=0,te=null,ne=P.next();W!==null&&!ne.done;Y++,ne=P.next()){W.index>Y?(te=W,W=null):te=W.sibling;var ve=y(I,W,ne.value,j);if(ve===null){W===null&&(W=te);break}o&&W&&ve.alternate===null&&i(I,W),M=f(ve,M,Y),$===null?F=ve:$.sibling=ve,$=ve,W=te}if(ne.done)return a(I,W),ct&&$o(I,Y),F;if(W===null){for(;!ne.done;Y++,ne=P.next())ne=_(I,ne.value,j),ne!==null&&(M=f(ne,M,Y),$===null?F=ne:$.sibling=ne,$=ne);return ct&&$o(I,Y),F}for(W=l(I,W);!ne.done;Y++,ne=P.next())ne=x(W,I,Y,ne.value,j),ne!==null&&(o&&ne.alternate!==null&&W.delete(ne.key===null?Y:ne.key),M=f(ne,M,Y),$===null?F=ne:$.sibling=ne,$=ne);return o&&W.forEach(function(vt){return i(I,vt)}),ct&&$o(I,Y),F}function O(I,M,P,j){if(typeof P=="object"&&P!==null&&P.type===Qs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Pu:e:{for(var F=P.key,$=M;$!==null;){if($.key===F){if(F=P.type,F===Qs){if($.tag===7){a(I,$.sibling),M=u($,P.props.children),M.return=I,I=M;break e}}else if($.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Fr&&l2(F)===$.type){a(I,$.sibling),M=u($,P.props),M.ref=Uc(I,$,P),M.return=I,I=M;break e}a(I,$);break}else i(I,$);$=$.sibling}P.type===Qs?(M=ns(P.props.children,I.mode,j,P.key),M.return=I,I=M):(j=wh(P.type,P.key,P.props,null,I.mode,j),j.ref=Uc(I,M,P),j.return=I,I=j)}return g(I);case Ks:e:{for($=P.key;M!==null;){if(M.key===$)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(I,M.sibling),M=u(M,P.children||[]),M.return=I,I=M;break e}else{a(I,M);break}else i(I,M);M=M.sibling}M=gw(P,I.mode,j),M.return=I,I=M}return g(I);case Fr:return $=P._init,O(I,M,$(P._payload),j)}if(Zc(P))return S(I,M,P,j);if(Lc(P))return T(I,M,P,j);$u(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,M!==null&&M.tag===6?(a(I,M.sibling),M=u(M,P),M.return=I,I=M):(a(I,M),M=fw(P,I.mode,j),M.return=I,I=M),g(I)):a(I,M)}return O}var wa=JD(!0),XD=JD(!1),Fl={},Ui=lo(Fl),Sl=lo(Fl),Dl=lo(Fl);function Jo(o){if(o===Fl)throw Error(K(174));return o}function k_(o,i){switch(et(Dl,i),et(Sl,o),et(Ui,Fl),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Fw(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=Fw(i,o)}st(Ui),et(Ui,i)}function ba(){st(Ui),st(Sl),st(Dl)}function eT(o){Jo(Dl.current);var i=Jo(Ui.current),a=Fw(i,o.type);i!==a&&(et(Sl,o),et(Ui,a))}function w_(o){Sl.current===o&&(st(Ui),st(Sl))}var ut=lo(0);function Lh(o){for(var i=o;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var aw=[];function b_(){for(var o=0;o<aw.length;o++)aw[o]._workInProgressVersionPrimary=null;aw.length=0}var fh=wr.ReactCurrentDispatcher,cw=wr.ReactCurrentBatchConfig,ss=0,ht=null,Nt=null,Ft=null,jh=!1,al=!1,Tl=0,C$=0;function Qt(){throw Error(K(321))}function __(o,i){if(i===null)return!1;for(var a=0;a<i.length&&a<o.length;a++)if(!vi(o[a],i[a]))return!1;return!0}function v_(o,i,a,l,u,f){if(ss=f,ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fh.current=o===null||o.memoizedState===null?D$:T$,o=a(l,u),al){f=0;do{if(al=!1,Tl=0,25<=f)throw Error(K(301));f+=1,Ft=Nt=null,i.updateQueue=null,fh.current=I$,o=a(l,u)}while(al)}if(fh.current=Rh,i=Nt!==null&&Nt.next!==null,ss=0,Ft=Nt=ht=null,jh=!1,i)throw Error(K(300));return o}function y_(){var o=Tl!==0;return Tl=0,o}function ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=o:Ft=Ft.next=o,Ft}function ii(){if(Nt===null){var o=ht.alternate;o=o!==null?o.memoizedState:null}else o=Nt.next;var i=Ft===null?ht.memoizedState:Ft.next;if(i!==null)Ft=i,Nt=o;else{if(o===null)throw Error(K(310));Nt=o,o={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?ht.memoizedState=Ft=o:Ft=Ft.next=o}return Ft}function Il(o,i){return typeof i=="function"?i(o):i}function lw(o){var i=ii(),a=i.queue;if(a===null)throw Error(K(311));a.lastRenderedReducer=o;var l=Nt,u=l.baseQueue,f=a.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}l.baseQueue=u=f,a.pending=null}if(u!==null){f=u.next,l=l.baseState;var m=g=null,k=null,w=f;do{var A=w.lane;if((ss&A)===A)k!==null&&(k=k.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),l=w.hasEagerState?w.eagerState:o(l,w.action);else{var _={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};k===null?(m=k=_,g=l):k=k.next=_,ht.lanes|=A,as|=A}w=w.next}while(w!==null&&w!==f);k===null?g=l:k.next=m,vi(l,i.memoizedState)||(kn=!0),i.memoizedState=l,i.baseState=g,i.baseQueue=k,a.lastRenderedState=l}if(o=a.interleaved,o!==null){u=o;do f=u.lane,ht.lanes|=f,as|=f,u=u.next;while(u!==o)}else u===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function dw(o){var i=ii(),a=i.queue;if(a===null)throw Error(K(311));a.lastRenderedReducer=o;var l=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=o(f,g.action),g=g.next;while(g!==u);vi(f,i.memoizedState)||(kn=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function tT(){}function nT(o,i){var a=ht,l=ii(),u=i(),f=!vi(l.memoizedState,u);if(f&&(l.memoizedState=u,kn=!0),l=l.queue,A_(oT.bind(null,a,l,o),[o]),l.getSnapshot!==i||f||Ft!==null&&Ft.memoizedState.tag&1){if(a.flags|=2048,Ml(9,rT.bind(null,a,l,u,i),void 0,null),Vt===null)throw Error(K(349));ss&30||iT(a,i,u)}return u}function iT(o,i,a){o.flags|=16384,o={getSnapshot:i,value:a},i=ht.updateQueue,i===null?(i={lastEffect:null,stores:null},ht.updateQueue=i,i.stores=[o]):(a=i.stores,a===null?i.stores=[o]:a.push(o))}function rT(o,i,a,l){i.value=a,i.getSnapshot=l,sT(i)&&aT(o)}function oT(o,i,a){return a(function(){sT(i)&&aT(o)})}function sT(o){var i=o.getSnapshot;o=o.value;try{var a=i();return!vi(o,a)}catch{return!0}}function aT(o){var i=gr(o,1);i!==null&&_i(i,o,1,-1)}function d2(o){var i=ji();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:o},i.queue=o,o=o.dispatch=S$.bind(null,ht,o),[i.memoizedState,o]}function Ml(o,i,a,l){return o={tag:o,create:i,destroy:a,deps:l,next:null},i=ht.updateQueue,i===null?(i={lastEffect:null,stores:null},ht.updateQueue=i,i.lastEffect=o.next=o):(a=i.lastEffect,a===null?i.lastEffect=o.next=o:(l=a.next,a.next=o,o.next=l,i.lastEffect=o)),o}function cT(){return ii().memoizedState}function gh(o,i,a,l){var u=ji();ht.flags|=o,u.memoizedState=Ml(1|i,a,void 0,l===void 0?null:l)}function df(o,i,a,l){var u=ii();l=l===void 0?null:l;var f=void 0;if(Nt!==null){var g=Nt.memoizedState;if(f=g.destroy,l!==null&&__(l,g.deps)){u.memoizedState=Ml(i,a,f,l);return}}ht.flags|=o,u.memoizedState=Ml(1|i,a,f,l)}function u2(o,i){return gh(8390656,8,o,i)}function A_(o,i){return df(2048,8,o,i)}function lT(o,i){return df(4,2,o,i)}function dT(o,i){return df(4,4,o,i)}function uT(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function hT(o,i,a){return a=a!=null?a.concat([o]):null,df(4,4,uT.bind(null,i,o),a)}function C_(){}function fT(o,i){var a=ii();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&__(i,l[1])?l[0]:(a.memoizedState=[o,i],o)}function gT(o,i){var a=ii();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&__(i,l[1])?l[0]:(o=o(),a.memoizedState=[o,i],o)}function pT(o,i,a){return ss&21?(vi(a,i)||(a=wD(),ht.lanes|=a,as|=a,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,kn=!0),o.memoizedState=a)}function x$(o,i){var a=Ve;Ve=a!==0&&4>a?a:4,o(!0);var l=cw.transition;cw.transition={};try{o(!1),i()}finally{Ve=a,cw.transition=l}}function mT(){return ii().memoizedState}function E$(o,i,a){var l=io(o);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},kT(o))wT(i,a);else if(a=YD(o,i,a,l),a!==null){var u=an();_i(a,o,l,u),bT(a,i,l)}}function S$(o,i,a){var l=io(o),u={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(kT(o))wT(i,u);else{var f=o.alternate;if(o.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,m=f(g,a);if(u.hasEagerState=!0,u.eagerState=m,vi(m,g)){var k=i.interleaved;k===null?(u.next=u,p_(i)):(u.next=k.next,k.next=u),i.interleaved=u;return}}catch{}finally{}a=YD(o,i,u,l),a!==null&&(u=an(),_i(a,o,l,u),bT(a,i,l))}}function kT(o){var i=o.alternate;return o===ht||i!==null&&i===ht}function wT(o,i){al=jh=!0;var a=o.pending;a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i}function bT(o,i,a){if(a&4194240){var l=i.lanes;l&=o.pendingLanes,a|=l,i.lanes=a,t_(o,a)}}var Rh={readContext:ni,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},D$={readContext:ni,useCallback:function(o,i){return ji().memoizedState=[o,i===void 0?null:i],o},useContext:ni,useEffect:u2,useImperativeHandle:function(o,i,a){return a=a!=null?a.concat([o]):null,gh(4194308,4,uT.bind(null,i,o),a)},useLayoutEffect:function(o,i){return gh(4194308,4,o,i)},useInsertionEffect:function(o,i){return gh(4,2,o,i)},useMemo:function(o,i){var a=ji();return i=i===void 0?null:i,o=o(),a.memoizedState=[o,i],o},useReducer:function(o,i,a){var l=ji();return i=a!==void 0?a(i):i,l.memoizedState=l.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},l.queue=o,o=o.dispatch=E$.bind(null,ht,o),[l.memoizedState,o]},useRef:function(o){var i=ji();return o={current:o},i.memoizedState=o},useState:d2,useDebugValue:C_,useDeferredValue:function(o){return ji().memoizedState=o},useTransition:function(){var o=d2(!1),i=o[0];return o=x$.bind(null,o[1]),ji().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,a){var l=ht,u=ji();if(ct){if(a===void 0)throw Error(K(407));a=a()}else{if(a=i(),Vt===null)throw Error(K(349));ss&30||iT(l,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,u2(oT.bind(null,l,f,o),[o]),l.flags|=2048,Ml(9,rT.bind(null,l,f,a,i),void 0,null),a},useId:function(){var o=ji(),i=Vt.identifierPrefix;if(ct){var a=lr,l=cr;a=(l&~(1<<32-bi(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Tl++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=C$++,i=":"+i+"r"+a.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},T$={readContext:ni,useCallback:fT,useContext:ni,useEffect:A_,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:dT,useMemo:gT,useReducer:lw,useRef:cT,useState:function(){return lw(Il)},useDebugValue:C_,useDeferredValue:function(o){var i=ii();return pT(i,Nt.memoizedState,o)},useTransition:function(){var o=lw(Il)[0],i=ii().memoizedState;return[o,i]},useMutableSource:tT,useSyncExternalStore:nT,useId:mT,unstable_isNewReconciler:!1},I$={readContext:ni,useCallback:fT,useContext:ni,useEffect:A_,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:dT,useMemo:gT,useReducer:dw,useRef:cT,useState:function(){return dw(Il)},useDebugValue:C_,useDeferredValue:function(o){var i=ii();return Nt===null?i.memoizedState=o:pT(i,Nt.memoizedState,o)},useTransition:function(){var o=dw(Il)[0],i=ii().memoizedState;return[o,i]},useMutableSource:tT,useSyncExternalStore:nT,useId:mT,unstable_isNewReconciler:!1};function _a(o,i){try{var a="",l=i;do a+=rH(l),l=l.return;while(l);var u=a}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:o,source:i,stack:u,digest:null}}function uw(o,i,a){return{value:o,source:null,stack:a??null,digest:i??null}}function lb(o,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var M$=typeof WeakMap=="function"?WeakMap:Map;function _T(o,i,a){a=ur(-1,a),a.tag=3,a.payload={element:null};var l=i.value;return a.callback=function(){Vh||(Vh=!0,bb=l),lb(o,i)},a}function vT(o,i,a){a=ur(-1,a),a.tag=3;var l=o.type.getDerivedStateFromError;if(typeof l=="function"){var u=i.value;a.payload=function(){return l(u)},a.callback=function(){lb(o,i)}}var f=o.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){lb(o,i),typeof l!="function"&&(no===null?no=new Set([this]):no.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),a}function h2(o,i,a){var l=o.pingCache;if(l===null){l=o.pingCache=new M$;var u=new Set;l.set(i,u)}else u=l.get(i),u===void 0&&(u=new Set,l.set(i,u));u.has(a)||(u.add(a),o=W$.bind(null,o,i,a),i.then(o,o))}function f2(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function g2(o,i,a,l,u){return o.mode&1?(o.flags|=65536,o.lanes=u,o):(o===i?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ur(-1,1),i.tag=2,to(a,i,1))),a.lanes|=1),o)}var N$=wr.ReactCurrentOwner,kn=!1;function on(o,i,a,l){i.child=o===null?XD(i,null,a,l):wa(i,o.child,a,l)}function p2(o,i,a,l,u){a=a.render;var f=i.ref;return ha(i,u),l=v_(o,i,a,l,f,u),a=y_(),o!==null&&!kn?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~u,pr(o,i,u)):(ct&&a&&l_(i),i.flags|=1,on(o,i,l,u),i.child)}function m2(o,i,a,l,u){if(o===null){var f=a.type;return typeof f=="function"&&!N_(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,yT(o,i,f,l,u)):(o=wh(a.type,null,l,i,i.mode,u),o.ref=i.ref,o.return=i,i.child=o)}if(f=o.child,!(o.lanes&u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(g,l)&&o.ref===i.ref)return pr(o,i,u)}return i.flags|=1,o=ro(f,l),o.ref=i.ref,o.return=i,i.child=o}function yT(o,i,a,l,u){if(o!==null){var f=o.memoizedProps;if(Al(f,l)&&o.ref===i.ref)if(kn=!1,i.pendingProps=l=f,(o.lanes&u)!==0)o.flags&131072&&(kn=!0);else return i.lanes=o.lanes,pr(o,i,u)}return db(o,i,a,l,u)}function AT(o,i,a){var l=i.pendingProps,u=l.children,f=o!==null?o.memoizedState:null;if(l.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(aa,Nn),Nn|=a;else{if(!(a&1073741824))return o=f!==null?f.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,et(aa,Nn),Nn|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:a,et(aa,Nn),Nn|=l}else f!==null?(l=f.baseLanes|a,i.memoizedState=null):l=a,et(aa,Nn),Nn|=l;return on(o,i,u,a),i.child}function CT(o,i){var a=i.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function db(o,i,a,l,u){var f=bn(a)?rs:nn.current;return f=ma(i,f),ha(i,u),a=v_(o,i,a,l,f,u),l=y_(),o!==null&&!kn?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~u,pr(o,i,u)):(ct&&l&&l_(i),i.flags|=1,on(o,i,a,u),i.child)}function k2(o,i,a,l,u){if(bn(a)){var f=!0;Mh(i)}else f=!1;if(ha(i,u),i.stateNode===null)ph(o,i),QD(i,a,l),cb(i,a,l,u),l=!0;else if(o===null){var g=i.stateNode,m=i.memoizedProps;g.props=m;var k=g.context,w=a.contextType;typeof w=="object"&&w!==null?w=ni(w):(w=bn(a)?rs:nn.current,w=ma(i,w));var A=a.getDerivedStateFromProps,_=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function";_||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==l||k!==w)&&c2(i,g,l,w),Vr=!1;var y=i.memoizedState;g.state=y,zh(i,l,g,u),k=i.memoizedState,m!==l||y!==k||wn.current||Vr?(typeof A=="function"&&(ab(i,a,A,l),k=i.memoizedState),(m=Vr||a2(i,a,m,l,y,k,w))?(_||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),g.props=l,g.state=k,g.context=w,l=m):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{g=i.stateNode,ZD(o,i),m=i.memoizedProps,w=i.type===i.elementType?m:gi(i.type,m),g.props=w,_=i.pendingProps,y=g.context,k=a.contextType,typeof k=="object"&&k!==null?k=ni(k):(k=bn(a)?rs:nn.current,k=ma(i,k));var x=a.getDerivedStateFromProps;(A=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==_||y!==k)&&c2(i,g,l,k),Vr=!1,y=i.memoizedState,g.state=y,zh(i,l,g,u);var S=i.memoizedState;m!==_||y!==S||wn.current||Vr?(typeof x=="function"&&(ab(i,a,x,l),S=i.memoizedState),(w=Vr||a2(i,a,w,l,y,S,k)||!1)?(A||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,S,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,S,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=S),g.props=l,g.state=S,g.context=k,l=w):(typeof g.componentDidUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=1024),l=!1)}return ub(o,i,a,l,f,u)}function ub(o,i,a,l,u,f){CT(o,i);var g=(i.flags&128)!==0;if(!l&&!g)return u&&n2(i,a,!1),pr(o,i,f);l=i.stateNode,N$.current=i;var m=g&&typeof a.getDerivedStateFromError!="function"?null:l.render();return i.flags|=1,o!==null&&g?(i.child=wa(i,o.child,null,f),i.child=wa(i,null,m,f)):on(o,i,m,f),i.memoizedState=l.state,u&&n2(i,a,!0),i.child}function xT(o){var i=o.stateNode;i.pendingContext?t2(o,i.pendingContext,i.pendingContext!==i.context):i.context&&t2(o,i.context,!1),k_(o,i.containerInfo)}function w2(o,i,a,l,u){return ka(),u_(u),i.flags|=256,on(o,i,a,l),i.child}var hb={dehydrated:null,treeContext:null,retryLane:0};function fb(o){return{baseLanes:o,cachePool:null,transitions:null}}function ET(o,i,a){var l=i.pendingProps,u=ut.current,f=!1,g=(i.flags&128)!==0,m;if((m=g)||(m=o!==null&&o.memoizedState===null?!1:(u&2)!==0),m?(f=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(u|=1),et(ut,u&1),o===null)return ob(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=l.children,o=l.fallback,f?(l=i.mode,f=i.child,g={mode:"hidden",children:g},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ff(g,l,0,null),o=ns(o,l,a,null),f.return=i,o.return=i,f.sibling=o,i.child=f,i.child.memoizedState=fb(a),i.memoizedState=hb,o):x_(i,g));if(u=o.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return P$(o,i,g,l,m,u,a);if(f){f=l.fallback,g=i.mode,u=o.child,m=u.sibling;var k={mode:"hidden",children:l.children};return!(g&1)&&i.child!==u?(l=i.child,l.childLanes=0,l.pendingProps=k,i.deletions=null):(l=ro(u,k),l.subtreeFlags=u.subtreeFlags&14680064),m!==null?f=ro(m,f):(f=ns(f,g,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,g=o.child.memoizedState,g=g===null?fb(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=o.childLanes&~a,i.memoizedState=hb,l}return f=o.child,o=f.sibling,l=ro(f,{mode:"visible",children:l.children}),!(i.mode&1)&&(l.lanes=a),l.return=i,l.sibling=null,o!==null&&(a=i.deletions,a===null?(i.deletions=[o],i.flags|=16):a.push(o)),i.child=l,i.memoizedState=null,l}function x_(o,i){return i=ff({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function Wu(o,i,a,l){return l!==null&&u_(l),wa(i,o.child,null,a),o=x_(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function P$(o,i,a,l,u,f,g){if(a)return i.flags&256?(i.flags&=-257,l=uw(Error(K(422))),Wu(o,i,g,l)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(f=l.fallback,u=i.mode,l=ff({mode:"visible",children:l.children},u,0,null),f=ns(f,u,g,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,i.mode&1&&wa(i,o.child,null,g),i.child.memoizedState=fb(g),i.memoizedState=hb,f);if(!(i.mode&1))return Wu(o,i,g,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var m=l.dgst;return l=m,f=Error(K(419)),l=uw(f,l,void 0),Wu(o,i,g,l)}if(m=(g&o.childLanes)!==0,kn||m){if(l=Vt,l!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,gr(o,u),_i(l,o,u,-1))}return M_(),l=uw(Error(K(421))),Wu(o,i,g,l)}return u.data==="$?"?(i.flags|=128,i.child=o.child,i=q$.bind(null,o),u._reactRetry=i,null):(o=f.treeContext,On=eo(u.nextSibling),Bn=i,ct=!0,ki=null,o!==null&&(Kn[Qn++]=cr,Kn[Qn++]=lr,Kn[Qn++]=os,cr=o.id,lr=o.overflow,os=i),i=x_(i,l.children),i.flags|=4096,i)}function b2(o,i,a){o.lanes|=i;var l=o.alternate;l!==null&&(l.lanes|=i),sb(o.return,i,a)}function hw(o,i,a,l,u){var f=o.memoizedState;f===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function ST(o,i,a){var l=i.pendingProps,u=l.revealOrder,f=l.tail;if(on(o,i,l.children,a),l=ut.current,l&2)l=l&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&b2(o,a,i);else if(o.tag===19)b2(o,a,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}l&=1}if(et(ut,l),!(i.mode&1))i.memoizedState=null;else switch(u){case"forwards":for(a=i.child,u=null;a!==null;)o=a.alternate,o!==null&&Lh(o)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),hw(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(o=u.alternate,o!==null&&Lh(o)===null){i.child=u;break}o=u.sibling,u.sibling=a,a=u,u=o}hw(i,!0,a,null,f);break;case"together":hw(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ph(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function pr(o,i,a){if(o!==null&&(i.dependencies=o.dependencies),as|=i.lanes,!(a&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(K(153));if(i.child!==null){for(o=i.child,a=ro(o,o.pendingProps),i.child=a,a.return=i;o.sibling!==null;)o=o.sibling,a=a.sibling=ro(o,o.pendingProps),a.return=i;a.sibling=null}return i.child}function O$(o,i,a){switch(i.tag){case 3:xT(i),ka();break;case 5:eT(i);break;case 1:bn(i.type)&&Mh(i);break;case 4:k_(i,i.stateNode.containerInfo);break;case 10:var l=i.type._context,u=i.memoizedProps.value;et(Oh,l._currentValue),l._currentValue=u;break;case 13:if(l=i.memoizedState,l!==null)return l.dehydrated!==null?(et(ut,ut.current&1),i.flags|=128,null):a&i.child.childLanes?ET(o,i,a):(et(ut,ut.current&1),o=pr(o,i,a),o!==null?o.sibling:null);et(ut,ut.current&1);break;case 19:if(l=(a&i.childLanes)!==0,o.flags&128){if(l)return ST(o,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),et(ut,ut.current),l)break;return null;case 22:case 23:return i.lanes=0,AT(o,i,a)}return pr(o,i,a)}var DT,gb,TT,IT;DT=function(o,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};gb=function(){};TT=function(o,i,a,l){var u=o.memoizedProps;if(u!==l){o=i.stateNode,Jo(Ui.current);var f=null;switch(a){case"input":u=zw(o,u),l=zw(o,l),f=[];break;case"select":u=ft({},u,{value:void 0}),l=ft({},l,{value:void 0}),f=[];break;case"textarea":u=Rw(o,u),l=Rw(o,l),f=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(o.onclick=Th)}Vw(a,l);var g;a=null;for(w in u)if(!l.hasOwnProperty(w)&&u.hasOwnProperty(w)&&u[w]!=null)if(w==="style"){var m=u[w];for(g in m)m.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(ml.hasOwnProperty(w)?f||(f=[]):(f=f||[]).push(w,null));for(w in l){var k=l[w];if(m=u!=null?u[w]:void 0,l.hasOwnProperty(w)&&k!==m&&(k!=null||m!=null))if(w==="style")if(m){for(g in m)!m.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in k)k.hasOwnProperty(g)&&m[g]!==k[g]&&(a||(a={}),a[g]=k[g])}else a||(f||(f=[]),f.push(w,a)),a=k;else w==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,m=m?m.__html:void 0,k!=null&&m!==k&&(f=f||[]).push(w,k)):w==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(w,""+k):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(ml.hasOwnProperty(w)?(k!=null&&w==="onScroll"&&rt("scroll",o),f||m===k||(f=[])):(f=f||[]).push(w,k))}a&&(f=f||[]).push("style",a);var w=f;(i.updateQueue=w)&&(i.flags|=4)}};IT=function(o,i,a,l){a!==l&&(i.flags|=4)};function Hc(o,i){if(!ct)switch(o.tailMode){case"hidden":i=o.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:l.sibling=null}}function Jt(o){var i=o.alternate!==null&&o.alternate.child===o.child,a=0,l=0;if(i)for(var u=o.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=o,u=u.sibling;else for(u=o.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=o,u=u.sibling;return o.subtreeFlags|=l,o.childLanes=a,i}function B$(o,i,a){var l=i.pendingProps;switch(d_(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return bn(i.type)&&Ih(),Jt(i),null;case 3:return l=i.stateNode,ba(),st(wn),st(nn),b_(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(Hu(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,ki!==null&&(yb(ki),ki=null))),gb(o,i),Jt(i),null;case 5:w_(i);var u=Jo(Dl.current);if(a=i.type,o!==null&&i.stateNode!=null)TT(o,i,a,l,u),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!l){if(i.stateNode===null)throw Error(K(166));return Jt(i),null}if(o=Jo(Ui.current),Hu(i)){l=i.stateNode,a=i.type;var f=i.memoizedProps;switch(l[Ri]=i,l[El]=f,o=(i.mode&1)!==0,a){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(u=0;u<Qc.length;u++)rt(Qc[u],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":DE(l,f),rt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},rt("invalid",l);break;case"textarea":IE(l,f),rt("invalid",l)}Vw(a,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?l.textContent!==m&&(f.suppressHydrationWarning!==!0&&Uu(l.textContent,m,o),u=["children",m]):typeof m=="number"&&l.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&Uu(l.textContent,m,o),u=["children",""+m]):ml.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&rt("scroll",l)}switch(a){case"input":Ou(l),TE(l,f,!0);break;case"textarea":Ou(l),ME(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Th)}l=u,i.updateQueue=l,l!==null&&(i.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=iD(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof l.is=="string"?o=g.createElement(a,{is:l.is}):(o=g.createElement(a),a==="select"&&(g=o,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):o=g.createElementNS(o,a),o[Ri]=i,o[El]=l,DT(o,i,!1,!1),i.stateNode=o;e:{switch(g=Uw(a,l),a){case"dialog":rt("cancel",o),rt("close",o),u=l;break;case"iframe":case"object":case"embed":rt("load",o),u=l;break;case"video":case"audio":for(u=0;u<Qc.length;u++)rt(Qc[u],o);u=l;break;case"source":rt("error",o),u=l;break;case"img":case"image":case"link":rt("error",o),rt("load",o),u=l;break;case"details":rt("toggle",o),u=l;break;case"input":DE(o,l),u=zw(o,l),rt("invalid",o);break;case"option":u=l;break;case"select":o._wrapperState={wasMultiple:!!l.multiple},u=ft({},l,{value:void 0}),rt("invalid",o);break;case"textarea":IE(o,l),u=Rw(o,l),rt("invalid",o);break;default:u=l}Vw(a,u),m=u;for(f in m)if(m.hasOwnProperty(f)){var k=m[f];f==="style"?sD(o,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&rD(o,k)):f==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&kl(o,k):typeof k=="number"&&kl(o,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ml.hasOwnProperty(f)?k!=null&&f==="onScroll"&&rt("scroll",o):k!=null&&Zb(o,f,k,g))}switch(a){case"input":Ou(o),TE(o,l,!1);break;case"textarea":Ou(o),ME(o);break;case"option":l.value!=null&&o.setAttribute("value",""+so(l.value));break;case"select":o.multiple=!!l.multiple,f=l.value,f!=null?ca(o,!!l.multiple,f,!1):l.defaultValue!=null&&ca(o,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(o.onclick=Th)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Jt(i),null;case 6:if(o&&i.stateNode!=null)IT(o,i,o.memoizedProps,l);else{if(typeof l!="string"&&i.stateNode===null)throw Error(K(166));if(a=Jo(Dl.current),Jo(Ui.current),Hu(i)){if(l=i.stateNode,a=i.memoizedProps,l[Ri]=i,(f=l.nodeValue!==a)&&(o=Bn,o!==null))switch(o.tag){case 3:Uu(l.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Uu(l.nodeValue,a,(o.mode&1)!==0)}f&&(i.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Ri]=i,i.stateNode=l}return Jt(i),null;case 13:if(st(ut),l=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ct&&On!==null&&i.mode&1&&!(i.flags&128))GD(),ka(),i.flags|=98560,f=!1;else if(f=Hu(i),l!==null&&l.dehydrated!==null){if(o===null){if(!f)throw Error(K(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(K(317));f[Ri]=i}else ka(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Jt(i),f=!1}else ki!==null&&(yb(ki),ki=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(l=l!==null,l!==(o!==null&&o.memoizedState!==null)&&l&&(i.child.flags|=8192,i.mode&1&&(o===null||ut.current&1?Pt===0&&(Pt=3):M_())),i.updateQueue!==null&&(i.flags|=4),Jt(i),null);case 4:return ba(),gb(o,i),o===null&&Cl(i.stateNode.containerInfo),Jt(i),null;case 10:return g_(i.type._context),Jt(i),null;case 17:return bn(i.type)&&Ih(),Jt(i),null;case 19:if(st(ut),f=i.memoizedState,f===null)return Jt(i),null;if(l=(i.flags&128)!==0,g=f.rendering,g===null)if(l)Hc(f,!1);else{if(Pt!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(g=Lh(o),g!==null){for(i.flags|=128,Hc(f,!1),l=g.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),i.subtreeFlags=0,l=a,a=i.child;a!==null;)f=a,o=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=o,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,o=g.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return et(ut,ut.current&1|2),i.child}o=o.sibling}f.tail!==null&&At()>va&&(i.flags|=128,l=!0,Hc(f,!1),i.lanes=4194304)}else{if(!l)if(o=Lh(g),o!==null){if(i.flags|=128,l=!0,a=o.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Hc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ct)return Jt(i),null}else 2*At()-f.renderingStartTime>va&&a!==1073741824&&(i.flags|=128,l=!0,Hc(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(a=f.last,a!==null?a.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=At(),i.sibling=null,a=ut.current,et(ut,l?a&1|2:a&1),i):(Jt(i),null);case 22:case 23:return I_(),l=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==l&&(i.flags|=8192),l&&i.mode&1?Nn&1073741824&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),null;case 24:return null;case 25:return null}throw Error(K(156,i.tag))}function z$(o,i){switch(d_(i),i.tag){case 1:return bn(i.type)&&Ih(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return ba(),st(wn),st(nn),b_(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return w_(i),null;case 13:if(st(ut),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(K(340));ka()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return st(ut),null;case 4:return ba(),null;case 10:return g_(i.type._context),null;case 22:case 23:return I_(),null;case 24:return null;default:return null}}var qu=!1,en=!1,L$=typeof WeakSet=="function"?WeakSet:Set,oe=null;function sa(o,i){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){_t(o,i,l)}else a.current=null}function pb(o,i,a){try{a()}catch(l){_t(o,i,l)}}var _2=!1;function j$(o,i){if(Jw=Eh,o=OD(),c_(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,m=-1,k=-1,w=0,A=0,_=o,y=null;t:for(;;){for(var x;_!==a||u!==0&&_.nodeType!==3||(m=g+u),_!==f||l!==0&&_.nodeType!==3||(k=g+l),_.nodeType===3&&(g+=_.nodeValue.length),(x=_.firstChild)!==null;)y=_,_=x;for(;;){if(_===o)break t;if(y===a&&++w===u&&(m=g),y===f&&++A===l&&(k=g),(x=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=x}a=m===-1||k===-1?null:{start:m,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xw={focusedElem:o,selectionRange:a},Eh=!1,oe=i;oe!==null;)if(i=oe,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,oe=o;else for(;oe!==null;){i=oe;try{var S=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,O=S.memoizedState,I=i.stateNode,M=I.getSnapshotBeforeUpdate(i.elementType===i.type?T:gi(i.type,T),O);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){_t(i,i.return,j)}if(o=i.sibling,o!==null){o.return=i.return,oe=o;break}oe=i.return}return S=_2,_2=!1,S}function cl(o,i,a){var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&o)===o){var f=u.destroy;u.destroy=void 0,f!==void 0&&pb(i,a,f)}u=u.next}while(u!==l)}}function uf(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&o)===o){var l=a.create;a.destroy=l()}a=a.next}while(a!==i)}}function mb(o){var i=o.ref;if(i!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof i=="function"?i(o):i.current=o}}function MT(o){var i=o.alternate;i!==null&&(o.alternate=null,MT(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Ri],delete i[El],delete i[nb],delete i[_$],delete i[v$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function NT(o){return o.tag===5||o.tag===3||o.tag===4}function v2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||NT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function kb(o,i,a){var l=o.tag;if(l===5||l===6)o=o.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(o,i):a.insertBefore(o,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(o,a)):(i=a,i.appendChild(o)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Th));else if(l!==4&&(o=o.child,o!==null))for(kb(o,i,a),o=o.sibling;o!==null;)kb(o,i,a),o=o.sibling}function wb(o,i,a){var l=o.tag;if(l===5||l===6)o=o.stateNode,i?a.insertBefore(o,i):a.appendChild(o);else if(l!==4&&(o=o.child,o!==null))for(wb(o,i,a),o=o.sibling;o!==null;)wb(o,i,a),o=o.sibling}var Wt=null,pi=!1;function zr(o,i,a){for(a=a.child;a!==null;)PT(o,i,a),a=a.sibling}function PT(o,i,a){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(nf,a)}catch{}switch(a.tag){case 5:en||sa(a,i);case 6:var l=Wt,u=pi;Wt=null,zr(o,i,a),Wt=l,pi=u,Wt!==null&&(pi?(o=Wt,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):Wt.removeChild(a.stateNode));break;case 18:Wt!==null&&(pi?(o=Wt,a=a.stateNode,o.nodeType===8?ow(o.parentNode,a):o.nodeType===1&&ow(o,a),vl(o)):ow(Wt,a.stateNode));break;case 4:l=Wt,u=pi,Wt=a.stateNode.containerInfo,pi=!0,zr(o,i,a),Wt=l,pi=u;break;case 0:case 11:case 14:case 15:if(!en&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&pb(a,i,g),u=u.next}while(u!==l)}zr(o,i,a);break;case 1:if(!en&&(sa(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(m){_t(a,i,m)}zr(o,i,a);break;case 21:zr(o,i,a);break;case 22:a.mode&1?(en=(l=en)||a.memoizedState!==null,zr(o,i,a),en=l):zr(o,i,a);break;default:zr(o,i,a)}}function y2(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new L$),i.forEach(function(l){var u=G$.bind(null,o,l);a.has(l)||(a.add(l),l.then(u,u))})}}function ui(o,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];try{var f=o,g=i,m=g;e:for(;m!==null;){switch(m.tag){case 5:Wt=m.stateNode,pi=!1;break e;case 3:Wt=m.stateNode.containerInfo,pi=!0;break e;case 4:Wt=m.stateNode.containerInfo,pi=!0;break e}m=m.return}if(Wt===null)throw Error(K(160));PT(f,g,u),Wt=null,pi=!1;var k=u.alternate;k!==null&&(k.return=null),u.return=null}catch(w){_t(u,i,w)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)OT(i,o),i=i.sibling}function OT(o,i){var a=o.alternate,l=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ui(i,o),Li(o),l&4){try{cl(3,o,o.return),uf(3,o)}catch(T){_t(o,o.return,T)}try{cl(5,o,o.return)}catch(T){_t(o,o.return,T)}}break;case 1:ui(i,o),Li(o),l&512&&a!==null&&sa(a,a.return);break;case 5:if(ui(i,o),Li(o),l&512&&a!==null&&sa(a,a.return),o.flags&32){var u=o.stateNode;try{kl(u,"")}catch(T){_t(o,o.return,T)}}if(l&4&&(u=o.stateNode,u!=null)){var f=o.memoizedProps,g=a!==null?a.memoizedProps:f,m=o.type,k=o.updateQueue;if(o.updateQueue=null,k!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&tD(u,f),Uw(m,g);var w=Uw(m,f);for(g=0;g<k.length;g+=2){var A=k[g],_=k[g+1];A==="style"?sD(u,_):A==="dangerouslySetInnerHTML"?rD(u,_):A==="children"?kl(u,_):Zb(u,A,_,w)}switch(m){case"input":Lw(u,f);break;case"textarea":nD(u,f);break;case"select":var y=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var x=f.value;x!=null?ca(u,!!f.multiple,x,!1):y!==!!f.multiple&&(f.defaultValue!=null?ca(u,!!f.multiple,f.defaultValue,!0):ca(u,!!f.multiple,f.multiple?[]:"",!1))}u[El]=f}catch(T){_t(o,o.return,T)}}break;case 6:if(ui(i,o),Li(o),l&4){if(o.stateNode===null)throw Error(K(162));u=o.stateNode,f=o.memoizedProps;try{u.nodeValue=f}catch(T){_t(o,o.return,T)}}break;case 3:if(ui(i,o),Li(o),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vl(i.containerInfo)}catch(T){_t(o,o.return,T)}break;case 4:ui(i,o),Li(o);break;case 13:ui(i,o),Li(o),u=o.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(D_=At())),l&4&&y2(o);break;case 22:if(A=a!==null&&a.memoizedState!==null,o.mode&1?(en=(w=en)||A,ui(i,o),en=w):ui(i,o),Li(o),l&8192){if(w=o.memoizedState!==null,(o.stateNode.isHidden=w)&&!A&&o.mode&1)for(oe=o,A=o.child;A!==null;){for(_=oe=A;oe!==null;){switch(y=oe,x=y.child,y.tag){case 0:case 11:case 14:case 15:cl(4,y,y.return);break;case 1:sa(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){l=y,a=y.return;try{i=l,S.props=i.memoizedProps,S.state=i.memoizedState,S.componentWillUnmount()}catch(T){_t(l,a,T)}}break;case 5:sa(y,y.return);break;case 22:if(y.memoizedState!==null){C2(_);continue}}x!==null?(x.return=y,oe=x):C2(_)}A=A.sibling}e:for(A=null,_=o;;){if(_.tag===5){if(A===null){A=_;try{u=_.stateNode,w?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=_.stateNode,k=_.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,m.style.display=oD("display",g))}catch(T){_t(o,o.return,T)}}}else if(_.tag===6){if(A===null)try{_.stateNode.nodeValue=w?"":_.memoizedProps}catch(T){_t(o,o.return,T)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===o)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;A===_&&(A=null),_=_.return}A===_&&(A=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ui(i,o),Li(o),l&4&&y2(o);break;case 21:break;default:ui(i,o),Li(o)}}function Li(o){var i=o.flags;if(i&2){try{e:{for(var a=o.return;a!==null;){if(NT(a)){var l=a;break e}a=a.return}throw Error(K(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(kl(u,""),l.flags&=-33);var f=v2(o);wb(o,f,u);break;case 3:case 4:var g=l.stateNode.containerInfo,m=v2(o);kb(o,m,g);break;default:throw Error(K(161))}}catch(k){_t(o,o.return,k)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function R$(o,i,a){oe=o,BT(o)}function BT(o,i,a){for(var l=(o.mode&1)!==0;oe!==null;){var u=oe,f=u.child;if(u.tag===22&&l){var g=u.memoizedState!==null||qu;if(!g){var m=u.alternate,k=m!==null&&m.memoizedState!==null||en;m=qu;var w=en;if(qu=g,(en=k)&&!w)for(oe=u;oe!==null;)g=oe,k=g.child,g.tag===22&&g.memoizedState!==null?x2(u):k!==null?(k.return=g,oe=k):x2(u);for(;f!==null;)oe=f,BT(f),f=f.sibling;oe=u,qu=m,en=w}A2(o)}else u.subtreeFlags&8772&&f!==null?(f.return=u,oe=f):A2(o)}}function A2(o){for(;oe!==null;){var i=oe;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:en||uf(5,i);break;case 1:var l=i.stateNode;if(i.flags&4&&!en)if(a===null)l.componentDidMount();else{var u=i.elementType===i.type?a.memoizedProps:gi(i.type,a.memoizedProps);l.componentDidUpdate(u,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&s2(i,f,l);break;case 3:var g=i.updateQueue;if(g!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}s2(i,g,a)}break;case 5:var m=i.stateNode;if(a===null&&i.flags&4){a=m;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var w=i.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var _=A.dehydrated;_!==null&&vl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}en||i.flags&512&&mb(i)}catch(y){_t(i,i.return,y)}}if(i===o){oe=null;break}if(a=i.sibling,a!==null){a.return=i.return,oe=a;break}oe=i.return}}function C2(o){for(;oe!==null;){var i=oe;if(i===o){oe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,oe=a;break}oe=i.return}}function x2(o){for(;oe!==null;){var i=oe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{uf(4,i)}catch(k){_t(i,a,k)}break;case 1:var l=i.stateNode;if(typeof l.componentDidMount=="function"){var u=i.return;try{l.componentDidMount()}catch(k){_t(i,u,k)}}var f=i.return;try{mb(i)}catch(k){_t(i,f,k)}break;case 5:var g=i.return;try{mb(i)}catch(k){_t(i,g,k)}}}catch(k){_t(i,i.return,k)}if(i===o){oe=null;break}var m=i.sibling;if(m!==null){m.return=i.return,oe=m;break}oe=i.return}}var F$=Math.ceil,Fh=wr.ReactCurrentDispatcher,E_=wr.ReactCurrentOwner,ti=wr.ReactCurrentBatchConfig,Ne=0,Vt=null,Tt=null,qt=0,Nn=0,aa=lo(0),Pt=0,Nl=null,as=0,hf=0,S_=0,ll=null,mn=null,D_=0,va=1/0,sr=null,Vh=!1,bb=null,no=null,Gu=!1,Zr=null,Uh=0,dl=0,_b=null,mh=-1,kh=0;function an(){return Ne&6?At():mh!==-1?mh:mh=At()}function io(o){return o.mode&1?Ne&2&&qt!==0?qt&-qt:A$.transition!==null?(kh===0&&(kh=wD()),kh):(o=Ve,o!==0||(o=window.event,o=o===void 0?16:xD(o.type)),o):1}function _i(o,i,a,l){if(50<dl)throw dl=0,_b=null,Error(K(185));Ll(o,a,l),(!(Ne&2)||o!==Vt)&&(o===Vt&&(!(Ne&2)&&(hf|=a),Pt===4&&Wr(o,qt)),_n(o,l),a===1&&Ne===0&&!(i.mode&1)&&(va=At()+500,cf&&uo()))}function _n(o,i){var a=o.callbackNode;AH(o,i);var l=xh(o,o===Vt?qt:0);if(l===0)a!==null&&OE(a),o.callbackNode=null,o.callbackPriority=0;else if(i=l&-l,o.callbackPriority!==i){if(a!=null&&OE(a),i===1)o.tag===0?y$(E2.bind(null,o)):$D(E2.bind(null,o)),w$(function(){!(Ne&6)&&uo()}),a=null;else{switch(bD(l)){case 1:a=e_;break;case 4:a=mD;break;case 16:a=Ch;break;case 536870912:a=kD;break;default:a=Ch}a=HT(a,zT.bind(null,o))}o.callbackPriority=i,o.callbackNode=a}}function zT(o,i){if(mh=-1,kh=0,Ne&6)throw Error(K(327));var a=o.callbackNode;if(fa()&&o.callbackNode!==a)return null;var l=xh(o,o===Vt?qt:0);if(l===0)return null;if(l&30||l&o.expiredLanes||i)i=Hh(o,l);else{i=l;var u=Ne;Ne|=2;var f=jT();(Vt!==o||qt!==i)&&(sr=null,va=At()+500,ts(o,i));do try{H$();break}catch(m){LT(o,m)}while(1);f_(),Fh.current=f,Ne=u,Tt!==null?i=0:(Vt=null,qt=0,i=Pt)}if(i!==0){if(i===2&&(u=Gw(o),u!==0&&(l=u,i=vb(o,u))),i===1)throw a=Nl,ts(o,0),Wr(o,l),_n(o,At()),a;if(i===6)Wr(o,l);else{if(u=o.current.alternate,!(l&30)&&!V$(u)&&(i=Hh(o,l),i===2&&(f=Gw(o),f!==0&&(l=f,i=vb(o,f))),i===1))throw a=Nl,ts(o,0),Wr(o,l),_n(o,At()),a;switch(o.finishedWork=u,o.finishedLanes=l,i){case 0:case 1:throw Error(K(345));case 2:Wo(o,mn,sr);break;case 3:if(Wr(o,l),(l&130023424)===l&&(i=D_+500-At(),10<i)){if(xh(o,0)!==0)break;if(u=o.suspendedLanes,(u&l)!==l){an(),o.pingedLanes|=o.suspendedLanes&u;break}o.timeoutHandle=tb(Wo.bind(null,o,mn,sr),i);break}Wo(o,mn,sr);break;case 4:if(Wr(o,l),(l&4194240)===l)break;for(i=o.eventTimes,u=-1;0<l;){var g=31-bi(l);f=1<<g,g=i[g],g>u&&(u=g),l&=~f}if(l=u,l=At()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*F$(l/1960))-l,10<l){o.timeoutHandle=tb(Wo.bind(null,o,mn,sr),l);break}Wo(o,mn,sr);break;case 5:Wo(o,mn,sr);break;default:throw Error(K(329))}}}return _n(o,At()),o.callbackNode===a?zT.bind(null,o):null}function vb(o,i){var a=ll;return o.current.memoizedState.isDehydrated&&(ts(o,i).flags|=256),o=Hh(o,i),o!==2&&(i=mn,mn=a,i!==null&&yb(i)),o}function yb(o){mn===null?mn=o:mn.push.apply(mn,o)}function V$(o){for(var i=o;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!vi(f(),u))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wr(o,i){for(i&=~S_,i&=~hf,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var a=31-bi(i),l=1<<a;o[a]=-1,i&=~l}}function E2(o){if(Ne&6)throw Error(K(327));fa();var i=xh(o,0);if(!(i&1))return _n(o,At()),null;var a=Hh(o,i);if(o.tag!==0&&a===2){var l=Gw(o);l!==0&&(i=l,a=vb(o,l))}if(a===1)throw a=Nl,ts(o,0),Wr(o,i),_n(o,At()),a;if(a===6)throw Error(K(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Wo(o,mn,sr),_n(o,At()),null}function T_(o,i){var a=Ne;Ne|=1;try{return o(i)}finally{Ne=a,Ne===0&&(va=At()+500,cf&&uo())}}function cs(o){Zr!==null&&Zr.tag===0&&!(Ne&6)&&fa();var i=Ne;Ne|=1;var a=ti.transition,l=Ve;try{if(ti.transition=null,Ve=1,o)return o()}finally{Ve=l,ti.transition=a,Ne=i,!(Ne&6)&&uo()}}function I_(){Nn=aa.current,st(aa)}function ts(o,i){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,k$(a)),Tt!==null)for(a=Tt.return;a!==null;){var l=a;switch(d_(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ih();break;case 3:ba(),st(wn),st(nn),b_();break;case 5:w_(l);break;case 4:ba();break;case 13:st(ut);break;case 19:st(ut);break;case 10:g_(l.type._context);break;case 22:case 23:I_()}a=a.return}if(Vt=o,Tt=o=ro(o.current,null),qt=Nn=i,Pt=0,Nl=null,S_=hf=as=0,mn=ll=null,Qo!==null){for(i=0;i<Qo.length;i++)if(a=Qo[i],l=a.interleaved,l!==null){a.interleaved=null;var u=l.next,f=a.pending;if(f!==null){var g=f.next;f.next=u,l.next=g}a.pending=l}Qo=null}return o}function LT(o,i){do{var a=Tt;try{if(f_(),fh.current=Rh,jh){for(var l=ht.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}jh=!1}if(ss=0,Ft=Nt=ht=null,al=!1,Tl=0,E_.current=null,a===null||a.return===null){Pt=1,Nl=i,Tt=null;break}e:{var f=o,g=a.return,m=a,k=i;if(i=qt,m.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var w=k,A=m,_=A.tag;if(!(A.mode&1)&&(_===0||_===11||_===15)){var y=A.alternate;y?(A.updateQueue=y.updateQueue,A.memoizedState=y.memoizedState,A.lanes=y.lanes):(A.updateQueue=null,A.memoizedState=null)}var x=f2(g);if(x!==null){x.flags&=-257,g2(x,g,m,f,i),x.mode&1&&h2(f,w,i),i=x,k=w;var S=i.updateQueue;if(S===null){var T=new Set;T.add(k),i.updateQueue=T}else S.add(k);break e}else{if(!(i&1)){h2(f,w,i),M_();break e}k=Error(K(426))}}else if(ct&&m.mode&1){var O=f2(g);if(O!==null){!(O.flags&65536)&&(O.flags|=256),g2(O,g,m,f,i),u_(_a(k,m));break e}}f=k=_a(k,m),Pt!==4&&(Pt=2),ll===null?ll=[f]:ll.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var I=_T(f,k,i);o2(f,I);break e;case 1:m=k;var M=f.type,P=f.stateNode;if(!(f.flags&128)&&(typeof M.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(no===null||!no.has(P)))){f.flags|=65536,i&=-i,f.lanes|=i;var j=vT(f,m,i);o2(f,j);break e}}f=f.return}while(f!==null)}FT(a)}catch(F){i=F,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(1)}function jT(){var o=Fh.current;return Fh.current=Rh,o===null?Rh:o}function M_(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Vt===null||!(as&268435455)&&!(hf&268435455)||Wr(Vt,qt)}function Hh(o,i){var a=Ne;Ne|=2;var l=jT();(Vt!==o||qt!==i)&&(sr=null,ts(o,i));do try{U$();break}catch(u){LT(o,u)}while(1);if(f_(),Ne=a,Fh.current=l,Tt!==null)throw Error(K(261));return Vt=null,qt=0,Pt}function U$(){for(;Tt!==null;)RT(Tt)}function H$(){for(;Tt!==null&&!gH();)RT(Tt)}function RT(o){var i=UT(o.alternate,o,Nn);o.memoizedProps=o.pendingProps,i===null?FT(o):Tt=i,E_.current=null}function FT(o){var i=o;do{var a=i.alternate;if(o=i.return,i.flags&32768){if(a=z$(a,i),a!==null){a.flags&=32767,Tt=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pt=6,Tt=null;return}}else if(a=B$(a,i,Nn),a!==null){Tt=a;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=o}while(i!==null);Pt===0&&(Pt=5)}function Wo(o,i,a){var l=Ve,u=ti.transition;try{ti.transition=null,Ve=1,$$(o,i,a,l)}finally{ti.transition=u,Ve=l}return null}function $$(o,i,a,l){do fa();while(Zr!==null);if(Ne&6)throw Error(K(327));a=o.finishedWork;var u=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(K(177));o.callbackNode=null,o.callbackPriority=0;var f=a.lanes|a.childLanes;if(CH(o,f),o===Vt&&(Tt=Vt=null,qt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Gu||(Gu=!0,HT(Ch,function(){return fa(),null})),f=(a.flags&15990)!==0,a.subtreeFlags&15990||f){f=ti.transition,ti.transition=null;var g=Ve;Ve=1;var m=Ne;Ne|=4,E_.current=null,j$(o,a),OT(a,o),d$(Xw),Eh=!!Jw,Xw=Jw=null,o.current=a,R$(a),pH(),Ne=m,Ve=g,ti.transition=f}else o.current=a;if(Gu&&(Gu=!1,Zr=o,Uh=u),f=o.pendingLanes,f===0&&(no=null),wH(a.stateNode),_n(o,At()),i!==null)for(l=o.onRecoverableError,a=0;a<i.length;a++)u=i[a],l(u.value,{componentStack:u.stack,digest:u.digest});if(Vh)throw Vh=!1,o=bb,bb=null,o;return Uh&1&&o.tag!==0&&fa(),f=o.pendingLanes,f&1?o===_b?dl++:(dl=0,_b=o):dl=0,uo(),null}function fa(){if(Zr!==null){var o=bD(Uh),i=ti.transition,a=Ve;try{if(ti.transition=null,Ve=16>o?16:o,Zr===null)var l=!1;else{if(o=Zr,Zr=null,Uh=0,Ne&6)throw Error(K(331));var u=Ne;for(Ne|=4,oe=o.current;oe!==null;){var f=oe,g=f.child;if(oe.flags&16){var m=f.deletions;if(m!==null){for(var k=0;k<m.length;k++){var w=m[k];for(oe=w;oe!==null;){var A=oe;switch(A.tag){case 0:case 11:case 15:cl(8,A,f)}var _=A.child;if(_!==null)_.return=A,oe=_;else for(;oe!==null;){A=oe;var y=A.sibling,x=A.return;if(MT(A),A===w){oe=null;break}if(y!==null){y.return=x,oe=y;break}oe=x}}}var S=f.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}oe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,oe=g;else e:for(;oe!==null;){if(f=oe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:cl(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,oe=I;break e}oe=f.return}}var M=o.current;for(oe=M;oe!==null;){g=oe;var P=g.child;if(g.subtreeFlags&2064&&P!==null)P.return=g,oe=P;else e:for(g=M;oe!==null;){if(m=oe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:uf(9,m)}}catch(F){_t(m,m.return,F)}if(m===g){oe=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,oe=j;break e}oe=m.return}}if(Ne=u,uo(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(nf,o)}catch{}l=!0}return l}finally{Ve=a,ti.transition=i}}return!1}function S2(o,i,a){i=_a(a,i),i=_T(o,i,1),o=to(o,i,1),i=an(),o!==null&&(Ll(o,1,i),_n(o,i))}function _t(o,i,a){if(o.tag===3)S2(o,o,a);else for(;i!==null;){if(i.tag===3){S2(i,o,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(no===null||!no.has(l))){o=_a(a,o),o=vT(i,o,1),i=to(i,o,1),o=an(),i!==null&&(Ll(i,1,o),_n(i,o));break}}i=i.return}}function W$(o,i,a){var l=o.pingCache;l!==null&&l.delete(i),i=an(),o.pingedLanes|=o.suspendedLanes&a,Vt===o&&(qt&a)===a&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>At()-D_?ts(o,0):S_|=a),_n(o,i)}function VT(o,i){i===0&&(o.mode&1?(i=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):i=1);var a=an();o=gr(o,i),o!==null&&(Ll(o,i,a),_n(o,a))}function q$(o){var i=o.memoizedState,a=0;i!==null&&(a=i.retryLane),VT(o,a)}function G$(o,i){var a=0;switch(o.tag){case 13:var l=o.stateNode,u=o.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=o.stateNode;break;default:throw Error(K(314))}l!==null&&l.delete(i),VT(o,a)}var UT;UT=function(o,i,a){if(o!==null)if(o.memoizedProps!==i.pendingProps||wn.current)kn=!0;else{if(!(o.lanes&a)&&!(i.flags&128))return kn=!1,O$(o,i,a);kn=!!(o.flags&131072)}else kn=!1,ct&&i.flags&1048576&&WD(i,Ph,i.index);switch(i.lanes=0,i.tag){case 2:var l=i.type;ph(o,i),o=i.pendingProps;var u=ma(i,nn.current);ha(i,a),u=v_(null,i,l,o,u,a);var f=y_();return i.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(l)?(f=!0,Mh(i)):f=!1,i.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,m_(i),u.updater=lf,i.stateNode=u,u._reactInternals=i,cb(i,l,o,a),i=ub(null,i,l,!0,f,a)):(i.tag=0,ct&&f&&l_(i),on(null,i,u,a),i=i.child),i;case 16:l=i.elementType;e:{switch(ph(o,i),o=i.pendingProps,u=l._init,l=u(l._payload),i.type=l,u=i.tag=Z$(l),o=gi(l,o),u){case 0:i=db(null,i,l,o,a);break e;case 1:i=k2(null,i,l,o,a);break e;case 11:i=p2(null,i,l,o,a);break e;case 14:i=m2(null,i,l,gi(l.type,o),a);break e}throw Error(K(306,l,""))}return i;case 0:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),db(o,i,l,u,a);case 1:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),k2(o,i,l,u,a);case 3:e:{if(xT(i),o===null)throw Error(K(387));l=i.pendingProps,f=i.memoizedState,u=f.element,ZD(o,i),zh(i,l,null,a);var g=i.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){u=_a(Error(K(423)),i),i=w2(o,i,l,a,u);break e}else if(l!==u){u=_a(Error(K(424)),i),i=w2(o,i,l,a,u);break e}else for(On=eo(i.stateNode.containerInfo.firstChild),Bn=i,ct=!0,ki=null,a=XD(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ka(),l===u){i=pr(o,i,a);break e}on(o,i,l,a)}i=i.child}return i;case 5:return eT(i),o===null&&ob(i),l=i.type,u=i.pendingProps,f=o!==null?o.memoizedProps:null,g=u.children,eb(l,u)?g=null:f!==null&&eb(l,f)&&(i.flags|=32),CT(o,i),on(o,i,g,a),i.child;case 6:return o===null&&ob(i),null;case 13:return ET(o,i,a);case 4:return k_(i,i.stateNode.containerInfo),l=i.pendingProps,o===null?i.child=wa(i,null,l,a):on(o,i,l,a),i.child;case 11:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),p2(o,i,l,u,a);case 7:return on(o,i,i.pendingProps,a),i.child;case 8:return on(o,i,i.pendingProps.children,a),i.child;case 12:return on(o,i,i.pendingProps.children,a),i.child;case 10:e:{if(l=i.type._context,u=i.pendingProps,f=i.memoizedProps,g=u.value,et(Oh,l._currentValue),l._currentValue=g,f!==null)if(vi(f.value,g)){if(f.children===u.children&&!wn.current){i=pr(o,i,a);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var k=m.firstContext;k!==null;){if(k.context===l){if(f.tag===1){k=ur(-1,a&-a),k.tag=2;var w=f.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?k.next=k:(k.next=A.next,A.next=k),w.pending=k}}f.lanes|=a,k=f.alternate,k!==null&&(k.lanes|=a),sb(f.return,a,i),m.lanes|=a;break}k=k.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(K(341));g.lanes|=a,m=g.alternate,m!==null&&(m.lanes|=a),sb(g,a,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}on(o,i,u.children,a),i=i.child}return i;case 9:return u=i.type,l=i.pendingProps.children,ha(i,a),u=ni(u),l=l(u),i.flags|=1,on(o,i,l,a),i.child;case 14:return l=i.type,u=gi(l,i.pendingProps),u=gi(l.type,u),m2(o,i,l,u,a);case 15:return yT(o,i,i.type,i.pendingProps,a);case 17:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),ph(o,i),i.tag=1,bn(l)?(o=!0,Mh(i)):o=!1,ha(i,a),QD(i,l,u),cb(i,l,u,a),ub(null,i,l,!0,o,a);case 19:return ST(o,i,a);case 22:return AT(o,i,a)}throw Error(K(156,i.tag))};function HT(o,i){return pD(o,i)}function Y$(o,i,a,l){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(o,i,a,l){return new Y$(o,i,a,l)}function N_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Z$(o){if(typeof o=="function")return N_(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Qb)return 11;if(o===Jb)return 14}return 2}function ro(o,i){var a=o.alternate;return a===null?(a=Xn(o.tag,i,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=i,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function wh(o,i,a,l,u,f){var g=2;if(l=o,typeof o=="function")N_(o)&&(g=1);else if(typeof o=="string")g=5;else e:switch(o){case Qs:return ns(a.children,u,f,i);case Kb:g=8,u|=8;break;case Nw:return o=Xn(12,a,i,u|2),o.elementType=Nw,o.lanes=f,o;case Pw:return o=Xn(13,a,i,u),o.elementType=Pw,o.lanes=f,o;case Ow:return o=Xn(19,a,i,u),o.elementType=Ow,o.lanes=f,o;case JS:return ff(a,u,f,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case KS:g=10;break e;case QS:g=9;break e;case Qb:g=11;break e;case Jb:g=14;break e;case Fr:g=16,l=null;break e}throw Error(K(130,o==null?o:typeof o,""))}return i=Xn(g,a,i,u),i.elementType=o,i.type=l,i.lanes=f,i}function ns(o,i,a,l){return o=Xn(7,o,l,i),o.lanes=a,o}function ff(o,i,a,l){return o=Xn(22,o,l,i),o.elementType=JS,o.lanes=a,o.stateNode={isHidden:!1},o}function fw(o,i,a){return o=Xn(6,o,null,i),o.lanes=a,o}function gw(o,i,a){return i=Xn(4,o.children!==null?o.children:[],o.key,i),i.lanes=a,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function K$(o,i,a,l,u){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yk(0),this.expirationTimes=Yk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yk(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function P_(o,i,a,l,u,f,g,m,k){return o=new K$(o,i,a,m,k),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Xn(3,null,null,i),o.current=f,f.stateNode=o,f.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},m_(f),o}function Q$(o,i,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:l==null?null:""+l,children:o,containerInfo:i,implementation:a}}function $T(o){if(!o)return ao;o=o._reactInternals;e:{if(ds(o)!==o||o.tag!==1)throw Error(K(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(K(171))}if(o.tag===1){var a=o.type;if(bn(a))return HD(o,a,i)}return i}function WT(o,i,a,l,u,f,g,m,k){return o=P_(a,l,!0,o,u,f,g,m,k),o.context=$T(null),a=o.current,l=an(),u=io(a),f=ur(l,u),f.callback=i??null,to(a,f,u),o.current.lanes=u,Ll(o,u,l),_n(o,l),o}function gf(o,i,a,l){var u=i.current,f=an(),g=io(u);return a=$T(a),i.context===null?i.context=a:i.pendingContext=a,i=ur(f,g),i.payload={element:o},l=l===void 0?null:l,l!==null&&(i.callback=l),o=to(u,i,g),o!==null&&(_i(o,u,g,f),hh(o,u,g)),g}function $h(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function D2(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<i?a:i}}function O_(o,i){D2(o,i),(o=o.alternate)&&D2(o,i)}function J$(){return null}var qT=typeof reportError=="function"?reportError:function(o){console.error(o)};function B_(o){this._internalRoot=o}pf.prototype.render=B_.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(K(409));gf(o,i,null,null)};pf.prototype.unmount=B_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;cs(function(){gf(null,o,null,null)}),i[fr]=null}};function pf(o){this._internalRoot=o}pf.prototype.unstable_scheduleHydration=function(o){if(o){var i=yD();o={blockedOn:null,target:o,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,o),a===0&&CD(o)}};function z_(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function mf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function T2(){}function X$(o,i,a,l,u){if(u){if(typeof l=="function"){var f=l;l=function(){var w=$h(g);f.call(w)}}var g=WT(i,l,o,0,null,!1,!1,"",T2);return o._reactRootContainer=g,o[fr]=g.current,Cl(o.nodeType===8?o.parentNode:o),cs(),g}for(;u=o.lastChild;)o.removeChild(u);if(typeof l=="function"){var m=l;l=function(){var w=$h(k);m.call(w)}}var k=P_(o,0,!1,null,null,!1,!1,"",T2);return o._reactRootContainer=k,o[fr]=k.current,Cl(o.nodeType===8?o.parentNode:o),cs(function(){gf(i,k,a,l)}),k}function kf(o,i,a,l,u){var f=a._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var m=u;u=function(){var k=$h(g);m.call(k)}}gf(i,g,o,u)}else g=X$(a,i,o,u,l);return $h(g)}_D=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var a=Kc(i.pendingLanes);a!==0&&(t_(i,a|1),_n(i,At()),!(Ne&6)&&(va=At()+500,uo()))}break;case 13:cs(function(){var l=gr(o,1);if(l!==null){var u=an();_i(l,o,1,u)}}),O_(o,1)}};n_=function(o){if(o.tag===13){var i=gr(o,134217728);if(i!==null){var a=an();_i(i,o,134217728,a)}O_(o,134217728)}};vD=function(o){if(o.tag===13){var i=io(o),a=gr(o,i);if(a!==null){var l=an();_i(a,o,i,l)}O_(o,i)}};yD=function(){return Ve};AD=function(o,i){var a=Ve;try{return Ve=o,i()}finally{Ve=a}};$w=function(o,i,a){switch(i){case"input":if(Lw(o,a),i=a.name,a.type==="radio"&&i!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==o&&l.form===o.form){var u=af(l);if(!u)throw Error(K(90));eD(l),Lw(l,u)}}}break;case"textarea":nD(o,a);break;case"select":i=a.value,i!=null&&ca(o,!!a.multiple,i,!1)}};lD=T_;dD=cs;var eW={usingClientEntryPoint:!1,Events:[Rl,ta,af,aD,cD,T_]},$c={findFiberByHostInstance:Ko,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tW={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=fD(o),o===null?null:o.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||J$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{nf=Yu.inject(tW),Vi=Yu}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eW;jn.createPortal=function(o,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z_(i))throw Error(K(200));return Q$(o,i,null,a)};jn.createRoot=function(o,i){if(!z_(o))throw Error(K(299));var a=!1,l="",u=qT;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),i=P_(o,1,!1,null,null,a,!1,l,u),o[fr]=i.current,Cl(o.nodeType===8?o.parentNode:o),new B_(i)};jn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(K(188)):(o=Object.keys(o).join(","),Error(K(268,o)));return o=fD(i),o=o===null?null:o.stateNode,o};jn.flushSync=function(o){return cs(o)};jn.hydrate=function(o,i,a){if(!mf(i))throw Error(K(200));return kf(null,o,i,!0,a)};jn.hydrateRoot=function(o,i,a){if(!z_(o))throw Error(K(405));var l=a!=null&&a.hydratedSources||null,u=!1,f="",g=qT;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),i=WT(i,null,o,1,a??null,u,!1,f,g),o[fr]=i.current,Cl(o),l)for(o=0;o<l.length;o++)a=l[o],u=a._getVersion,u=u(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,u]:i.mutableSourceEagerHydrationData.push(a,u);return new pf(i)};jn.render=function(o,i,a){if(!mf(i))throw Error(K(200));return kf(null,o,i,!1,a)};jn.unmountComponentAtNode=function(o){if(!mf(o))throw Error(K(40));return o._reactRootContainer?(cs(function(){kf(null,null,o,!1,function(){o._reactRootContainer=null,o[fr]=null})}),!0):!1};jn.unstable_batchedUpdates=T_;jn.unstable_renderSubtreeIntoContainer=function(o,i,a,l){if(!mf(a))throw Error(K(200));if(o==null||o._reactInternals===void 0)throw Error(K(38));return kf(o,i,a,!1,l)};jn.version="18.2.0-next-9e3b772b8-20220608";function GT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GT)}catch(o){console.error(o)}}GT(),WS.exports=jn;var nW=WS.exports,I2=nW;Iw.createRoot=I2.createRoot,Iw.hydrateRoot=I2.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},Pl.apply(this,arguments)}var Kr;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Kr||(Kr={}));const M2="popstate";function iW(o){o===void 0&&(o={});function i(l,u){let{pathname:f,search:g,hash:m}=l.location;return Ab("",{pathname:f,search:g,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(l,u){return typeof u=="string"?u:Wh(u)}return oW(i,a,null,o)}function It(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function L_(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function rW(){return Math.random().toString(36).substr(2,8)}function N2(o,i){return{usr:o.state,key:o.key,idx:i}}function Ab(o,i,a,l){return a===void 0&&(a=null),Pl({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?Ea(i):i,{state:a,key:i&&i.key||l||rW()})}function Wh(o){let{pathname:i="/",search:a="",hash:l=""}=o;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(i+=l.charAt(0)==="#"?l:"#"+l),i}function Ea(o){let i={};if(o){let a=o.indexOf("#");a>=0&&(i.hash=o.substr(a),o=o.substr(0,a));let l=o.indexOf("?");l>=0&&(i.search=o.substr(l),o=o.substr(0,l)),o&&(i.pathname=o)}return i}function oW(o,i,a,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:f=!1}=l,g=u.history,m=Kr.Pop,k=null,w=A();w==null&&(w=0,g.replaceState(Pl({},g.state,{idx:w}),""));function A(){return(g.state||{idx:null}).idx}function _(){m=Kr.Pop;let O=A(),I=O==null?null:O-w;w=O,k&&k({action:m,location:T.location,delta:I})}function y(O,I){m=Kr.Push;let M=Ab(T.location,O,I);a&&a(M,O),w=A()+1;let P=N2(M,w),j=T.createHref(M);try{g.pushState(P,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;u.location.assign(j)}f&&k&&k({action:m,location:T.location,delta:1})}function x(O,I){m=Kr.Replace;let M=Ab(T.location,O,I);a&&a(M,O),w=A();let P=N2(M,w),j=T.createHref(M);g.replaceState(P,"",j),f&&k&&k({action:m,location:T.location,delta:0})}function S(O){let I=u.location.origin!=="null"?u.location.origin:u.location.href,M=typeof O=="string"?O:Wh(O);return It(I,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,I)}let T={get action(){return m},get location(){return o(u,g)},listen(O){if(k)throw new Error("A history only accepts one active listener");return u.addEventListener(M2,_),k=O,()=>{u.removeEventListener(M2,_),k=null}},createHref(O){return i(u,O)},createURL:S,encodeLocation(O){let I=S(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:x,go(O){return g.go(O)}};return T}var P2;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(P2||(P2={}));function sW(o,i,a){a===void 0&&(a="/");let l=typeof i=="string"?Ea(i):i,u=j_(l.pathname||"/",a);if(u==null)return null;let f=YT(o);aW(f);let g=null;for(let m=0;g==null&&m<f.length;++m)g=mW(f[m],bW(u));return g}function YT(o,i,a,l){i===void 0&&(i=[]),a===void 0&&(a=[]),l===void 0&&(l="");let u=(f,g,m)=>{let k={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};k.relativePath.startsWith("/")&&(It(k.relativePath.startsWith(l),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(l.length));let w=oo([l,k.relativePath]),A=a.concat(k);f.children&&f.children.length>0&&(It(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),YT(f.children,i,A,w)),!(f.path==null&&!f.index)&&i.push({path:w,score:gW(w,f.index),routesMeta:A})};return o.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))u(f,g);else for(let k of ZT(f.path))u(f,g,k)}),i}function ZT(o){let i=o.split("/");if(i.length===0)return[];let[a,...l]=i,u=a.endsWith("?"),f=a.replace(/\?$/,"");if(l.length===0)return u?[f,""]:[f];let g=ZT(l.join("/")),m=[];return m.push(...g.map(k=>k===""?f:[f,k].join("/"))),u&&m.push(...g),m.map(k=>o.startsWith("/")&&k===""?"/":k)}function aW(o){o.sort((i,a)=>i.score!==a.score?a.score-i.score:pW(i.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const cW=/^:\w+$/,lW=3,dW=2,uW=1,hW=10,fW=-2,O2=o=>o==="*";function gW(o,i){let a=o.split("/"),l=a.length;return a.some(O2)&&(l+=fW),i&&(l+=dW),a.filter(u=>!O2(u)).reduce((u,f)=>u+(cW.test(f)?lW:f===""?uW:hW),l)}function pW(o,i){return o.length===i.length&&o.slice(0,-1).every((l,u)=>l===i[u])?o[o.length-1]-i[i.length-1]:0}function mW(o,i){let{routesMeta:a}=o,l={},u="/",f=[];for(let g=0;g<a.length;++g){let m=a[g],k=g===a.length-1,w=u==="/"?i:i.slice(u.length)||"/",A=kW({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},w);if(!A)return null;Object.assign(l,A.params);let _=m.route;f.push({params:l,pathname:oo([u,A.pathname]),pathnameBase:AW(oo([u,A.pathnameBase])),route:_}),A.pathnameBase!=="/"&&(u=oo([u,A.pathnameBase]))}return f}function kW(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,l]=wW(o.path,o.caseSensitive,o.end),u=i.match(a);if(!u)return null;let f=u[0],g=f.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((w,A,_)=>{let{paramName:y,isOptional:x}=A;if(y==="*"){let T=m[_]||"";g=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const S=m[_];return x&&!S?w[y]=void 0:w[y]=_W(S||"",y),w},{}),pathname:f,pathnameBase:g,pattern:o}}function wW(o,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),L_(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(g,m,k)=>(l.push({paramName:m,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),l]}function bW(o){try{return decodeURI(o)}catch(i){return L_(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function _W(o,i){try{return decodeURIComponent(o)}catch(a){return L_(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),o}}function j_(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,l=o.charAt(a);return l&&l!=="/"?null:o.slice(a)||"/"}function vW(o,i){i===void 0&&(i="/");let{pathname:a,search:l="",hash:u=""}=typeof o=="string"?Ea(o):o;return{pathname:a?a.startsWith("/")?a:yW(a,i):i,search:CW(l),hash:xW(u)}}function yW(o,i){let a=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function pw(o,i,a,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KT(o){return o.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function QT(o,i,a,l){l===void 0&&(l=!1);let u;typeof o=="string"?u=Ea(o):(u=Pl({},o),It(!u.pathname||!u.pathname.includes("?"),pw("?","pathname","search",u)),It(!u.pathname||!u.pathname.includes("#"),pw("#","pathname","hash",u)),It(!u.search||!u.search.includes("#"),pw("#","search","hash",u)));let f=o===""||u.pathname==="",g=f?"/":u.pathname,m;if(l||g==null)m=a;else{let _=i.length-1;if(g.startsWith("..")){let y=g.split("/");for(;y[0]==="..";)y.shift(),_-=1;u.pathname=y.join("/")}m=_>=0?i[_]:"/"}let k=vW(u,m),w=g&&g!=="/"&&g.endsWith("/"),A=(f||g===".")&&a.endsWith("/");return!k.pathname.endsWith("/")&&(w||A)&&(k.pathname+="/"),k}const oo=o=>o.join("/").replace(/\/\/+/g,"/"),AW=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),CW=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,xW=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function EW(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const JT=["post","put","patch","delete"];new Set(JT);const SW=["get",...JT];new Set(SW);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},qh.apply(this,arguments)}const R_=J.createContext(null),DW=J.createContext(null),Sa=J.createContext(null),wf=J.createContext(null),ho=J.createContext({outlet:null,matches:[],isDataRoute:!1}),XT=J.createContext(null);function TW(o,i){let{relative:a}=i===void 0?{}:i;Vl()||It(!1);let{basename:l,navigator:u}=J.useContext(Sa),{hash:f,pathname:g,search:m}=nI(o,{relative:a}),k=g;return l!=="/"&&(k=g==="/"?l:oo([l,g])),u.createHref({pathname:k,search:m,hash:f})}function Vl(){return J.useContext(wf)!=null}function Ul(){return Vl()||It(!1),J.useContext(wf).location}function eI(o){J.useContext(Sa).static||J.useLayoutEffect(o)}function Da(){let{isDataRoute:o}=J.useContext(ho);return o?UW():IW()}function IW(){Vl()||It(!1);let o=J.useContext(R_),{basename:i,navigator:a}=J.useContext(Sa),{matches:l}=J.useContext(ho),{pathname:u}=Ul(),f=JSON.stringify(KT(l).map(k=>k.pathnameBase)),g=J.useRef(!1);return eI(()=>{g.current=!0}),J.useCallback(function(k,w){if(w===void 0&&(w={}),!g.current)return;if(typeof k=="number"){a.go(k);return}let A=QT(k,JSON.parse(f),u,w.relative==="path");o==null&&i!=="/"&&(A.pathname=A.pathname==="/"?i:oo([i,A.pathname])),(w.replace?a.replace:a.push)(A,w.state,w)},[i,a,f,u,o])}function tI(){let{matches:o}=J.useContext(ho),i=o[o.length-1];return i?i.params:{}}function nI(o,i){let{relative:a}=i===void 0?{}:i,{matches:l}=J.useContext(ho),{pathname:u}=Ul(),f=JSON.stringify(KT(l).map(g=>g.pathnameBase));return J.useMemo(()=>QT(o,JSON.parse(f),u,a==="path"),[o,f,u,a])}function MW(o,i){return NW(o,i)}function NW(o,i,a){Vl()||It(!1);let{navigator:l}=J.useContext(Sa),{matches:u}=J.useContext(ho),f=u[u.length-1],g=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let k=Ul(),w;if(i){var A;let T=typeof i=="string"?Ea(i):i;m==="/"||(A=T.pathname)!=null&&A.startsWith(m)||It(!1),w=T}else w=k;let _=w.pathname||"/",y=m==="/"?_:_.slice(m.length)||"/",x=sW(o,{pathname:y}),S=LW(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:oo([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:oo([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,a);return i&&S?J.createElement(wf.Provider,{value:{location:qh({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Kr.Pop}},S):S}function PW(){let o=VW(),i=EW(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},i),a?J.createElement("pre",{style:u},a):null,f)}const OW=J.createElement(PW,null);class BW extends J.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error?J.createElement(ho.Provider,{value:this.props.routeContext},J.createElement(XT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zW(o){let{routeContext:i,match:a,children:l}=o,u=J.useContext(R_);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),J.createElement(ho.Provider,{value:i},l)}function LW(o,i,a){var l;if(i===void 0&&(i=[]),a===void 0&&(a=null),o==null){var u;if((u=a)!=null&&u.errors)o=a.matches;else return null}let f=o,g=(l=a)==null?void 0:l.errors;if(g!=null){let m=f.findIndex(k=>k.route.id&&(g==null?void 0:g[k.route.id]));m>=0||It(!1),f=f.slice(0,Math.min(f.length,m+1))}return f.reduceRight((m,k,w)=>{let A=k.route.id?g==null?void 0:g[k.route.id]:null,_=null;a&&(_=k.route.errorElement||OW);let y=i.concat(f.slice(0,w+1)),x=()=>{let S;return A?S=_:k.route.Component?S=J.createElement(k.route.Component,null):k.route.element?S=k.route.element:S=m,J.createElement(zW,{match:k,routeContext:{outlet:m,matches:y,isDataRoute:a!=null},children:S})};return a&&(k.route.ErrorBoundary||k.route.errorElement||w===0)?J.createElement(BW,{location:a.location,revalidation:a.revalidation,component:_,error:A,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var iI=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(iI||{}),Gh=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Gh||{});function jW(o){let i=J.useContext(R_);return i||It(!1),i}function RW(o){let i=J.useContext(DW);return i||It(!1),i}function FW(o){let i=J.useContext(ho);return i||It(!1),i}function rI(o){let i=FW(),a=i.matches[i.matches.length-1];return a.route.id||It(!1),a.route.id}function VW(){var o;let i=J.useContext(XT),a=RW(Gh.UseRouteError),l=rI(Gh.UseRouteError);return i||((o=a.errors)==null?void 0:o[l])}function UW(){let{router:o}=jW(iI.UseNavigateStable),i=rI(Gh.UseNavigateStable),a=J.useRef(!1);return eI(()=>{a.current=!0}),J.useCallback(function(u,f){f===void 0&&(f={}),a.current&&(typeof u=="number"?o.navigate(u):o.navigate(u,qh({fromRouteId:i},f)))},[o,i])}function qo(o){It(!1)}function HW(o){let{basename:i="/",children:a=null,location:l,navigationType:u=Kr.Pop,navigator:f,static:g=!1}=o;Vl()&&It(!1);let m=i.replace(/^\/*/,"/"),k=J.useMemo(()=>({basename:m,navigator:f,static:g}),[m,f,g]);typeof l=="string"&&(l=Ea(l));let{pathname:w="/",search:A="",hash:_="",state:y=null,key:x="default"}=l,S=J.useMemo(()=>{let T=j_(w,m);return T==null?null:{location:{pathname:T,search:A,hash:_,state:y,key:x},navigationType:u}},[m,w,A,_,y,x,u]);return S==null?null:J.createElement(Sa.Provider,{value:k},J.createElement(wf.Provider,{children:a,value:S}))}function $W(o){let{children:i,location:a}=o;return MW(Cb(i),a)}new Promise(()=>{});function Cb(o,i){i===void 0&&(i=[]);let a=[];return J.Children.forEach(o,(l,u)=>{if(!J.isValidElement(l))return;let f=[...i,u];if(l.type===J.Fragment){a.push.apply(a,Cb(l.props.children,f));return}l.type!==qo&&It(!1),!l.props.index||!l.props.children||It(!1);let g={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(g.children=Cb(l.props.children,f)),a.push(g)}),a}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xb(){return xb=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},xb.apply(this,arguments)}function WW(o,i){if(o==null)return{};var a={},l=Object.keys(o),u,f;for(f=0;f<l.length;f++)u=l[f],!(i.indexOf(u)>=0)&&(a[u]=o[u]);return a}function qW(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function GW(o,i){return o.button===0&&(!i||i==="_self")&&!qW(o)}const YW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZW="startTransition",B2=qU[ZW];function KW(o){let{basename:i,children:a,future:l,window:u}=o,f=J.useRef();f.current==null&&(f.current=iW({window:u,v5Compat:!0}));let g=f.current,[m,k]=J.useState({action:g.action,location:g.location}),{v7_startTransition:w}=l||{},A=J.useCallback(_=>{w&&B2?B2(()=>k(_)):k(_)},[k,w]);return J.useLayoutEffect(()=>g.listen(A),[g,A]),J.createElement(HW,{basename:i,children:a,location:m.location,navigationType:m.action,navigator:g})}const QW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=J.forwardRef(function(i,a){let{onClick:l,relative:u,reloadDocument:f,replace:g,state:m,target:k,to:w,preventScrollReset:A,unstable_viewTransition:_}=i,y=WW(i,YW),{basename:x}=J.useContext(Sa),S,T=!1;if(typeof w=="string"&&JW.test(w)&&(S=w,QW))try{let P=new URL(window.location.href),j=w.startsWith("//")?new URL(P.protocol+w):new URL(w),F=j_(j.pathname,x);j.origin===P.origin&&F!=null?w=F+j.search+j.hash:T=!0}catch{}let O=TW(w,{relative:u}),I=XW(w,{replace:g,state:m,target:k,preventScrollReset:A,relative:u,unstable_viewTransition:_});function M(P){l&&l(P),P.defaultPrevented||I(P)}return J.createElement("a",xb({},y,{href:S||O,onClick:T||f?l:M,ref:a,target:k}))});var z2;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(z2||(z2={}));var L2;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(L2||(L2={}));function XW(o,i){let{target:a,replace:l,state:u,preventScrollReset:f,relative:g,unstable_viewTransition:m}=i===void 0?{}:i,k=Da(),w=Ul(),A=nI(o,{relative:g});return J.useCallback(_=>{if(GW(_,a)){_.preventDefault();let y=l!==void 0?l:Wh(w)===Wh(A);k(o,{replace:y,state:u,preventScrollReset:f,relative:g,unstable_viewTransition:m})}},[w,k,A,l,u,a,o,f,g,m])}function mr(o){return Array.isArray?Array.isArray(o):aI(o)==="[object Array]"}const eq=1/0;function tq(o){if(typeof o=="string")return o;let i=o+"";return i=="0"&&1/o==-eq?"-0":i}function nq(o){return o==null?"":tq(o)}function Fi(o){return typeof o=="string"}function oI(o){return typeof o=="number"}function iq(o){return o===!0||o===!1||rq(o)&&aI(o)=="[object Boolean]"}function sI(o){return typeof o=="object"}function rq(o){return sI(o)&&o!==null}function Pn(o){return o!=null}function mw(o){return!o.trim().length}function aI(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(o)}const oq="Incorrect 'index' type",sq=o=>`Invalid value for key ${o}`,aq=o=>`Pattern length exceeds max of ${o}.`,cq=o=>`Missing ${o} property in key`,lq=o=>`Property 'weight' in key '${o}' must be a positive integer`,j2=Object.prototype.hasOwnProperty;class dq{constructor(i){this._keys=[],this._keyMap={};let a=0;i.forEach(l=>{let u=cI(l);this._keys.push(u),this._keyMap[u.id]=u,a+=u.weight}),this._keys.forEach(l=>{l.weight/=a})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function cI(o){let i=null,a=null,l=null,u=1,f=null;if(Fi(o)||mr(o))l=o,i=R2(o),a=Eb(o);else{if(!j2.call(o,"name"))throw new Error(cq("name"));const g=o.name;if(l=g,j2.call(o,"weight")&&(u=o.weight,u<=0))throw new Error(lq(g));i=R2(g),a=Eb(g),f=o.getFn}return{path:i,id:a,weight:u,src:l,getFn:f}}function R2(o){return mr(o)?o:o.split(".")}function Eb(o){return mr(o)?o.join("."):o}function uq(o,i){let a=[],l=!1;const u=(f,g,m)=>{if(Pn(f))if(!g[m])a.push(f);else{let k=g[m];const w=f[k];if(!Pn(w))return;if(m===g.length-1&&(Fi(w)||oI(w)||iq(w)))a.push(nq(w));else if(mr(w)){l=!0;for(let A=0,_=w.length;A<_;A+=1)u(w[A],g,m+1)}else g.length&&u(w,g,m+1)}};return u(o,Fi(i)?i.split("."):i,0),l?a:a[0]}const hq={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},fq={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(o,i)=>o.score===i.score?o.idx<i.idx?-1:1:o.score<i.score?-1:1},gq={location:0,threshold:.6,distance:100},pq={useExtendedSearch:!1,getFn:uq,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ge={...fq,...hq,...gq,...pq};const mq=/[^ ]+/g;function kq(o=1,i=3){const a=new Map,l=Math.pow(10,i);return{get(u){const f=u.match(mq).length;if(a.has(f))return a.get(f);const g=1/Math.pow(f,.5*o),m=parseFloat(Math.round(g*l)/l);return a.set(f,m),m},clear(){a.clear()}}}class F_{constructor({getFn:i=ge.getFn,fieldNormWeight:a=ge.fieldNormWeight}={}){this.norm=kq(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((a,l)=>{this._keysMap[a.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Fi(this.docs[0])?this.docs.forEach((i,a)=>{this._addString(i,a)}):this.docs.forEach((i,a)=>{this._addObject(i,a)}),this.norm.clear())}add(i){const a=this.size();Fi(i)?this._addString(i,a):this._addObject(i,a)}removeAt(i){this.records.splice(i,1);for(let a=i,l=this.size();a<l;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(i,a){return i[this._keysMap[a]]}size(){return this.records.length}_addString(i,a){if(!Pn(i)||mw(i))return;let l={v:i,i:a,n:this.norm.get(i)};this.records.push(l)}_addObject(i,a){let l={i:a,$:{}};this.keys.forEach((u,f)=>{let g=u.getFn?u.getFn(i):this.getFn(i,u.path);if(Pn(g)){if(mr(g)){let m=[];const k=[{nestedArrIndex:-1,value:g}];for(;k.length;){const{nestedArrIndex:w,value:A}=k.pop();if(Pn(A))if(Fi(A)&&!mw(A)){let _={v:A,i:w,n:this.norm.get(A)};m.push(_)}else mr(A)&&A.forEach((_,y)=>{k.push({nestedArrIndex:y,value:_})})}l.$[f]=m}else if(Fi(g)&&!mw(g)){let m={v:g,n:this.norm.get(g)};l.$[f]=m}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function lI(o,i,{getFn:a=ge.getFn,fieldNormWeight:l=ge.fieldNormWeight}={}){const u=new F_({getFn:a,fieldNormWeight:l});return u.setKeys(o.map(cI)),u.setSources(i),u.create(),u}function wq(o,{getFn:i=ge.getFn,fieldNormWeight:a=ge.fieldNormWeight}={}){const{keys:l,records:u}=o,f=new F_({getFn:i,fieldNormWeight:a});return f.setKeys(l),f.setIndexRecords(u),f}function Zu(o,{errors:i=0,currentLocation:a=0,expectedLocation:l=0,distance:u=ge.distance,ignoreLocation:f=ge.ignoreLocation}={}){const g=i/o.length;if(f)return g;const m=Math.abs(l-a);return u?g+m/u:m?1:g}function bq(o=[],i=ge.minMatchCharLength){let a=[],l=-1,u=-1,f=0;for(let g=o.length;f<g;f+=1){let m=o[f];m&&l===-1?l=f:!m&&l!==-1&&(u=f-1,u-l+1>=i&&a.push([l,u]),l=-1)}return o[f-1]&&f-l>=i&&a.push([l,f-1]),a}const Go=32;function _q(o,i,a,{location:l=ge.location,distance:u=ge.distance,threshold:f=ge.threshold,findAllMatches:g=ge.findAllMatches,minMatchCharLength:m=ge.minMatchCharLength,includeMatches:k=ge.includeMatches,ignoreLocation:w=ge.ignoreLocation}={}){if(i.length>Go)throw new Error(aq(Go));const A=i.length,_=o.length,y=Math.max(0,Math.min(l,_));let x=f,S=y;const T=m>1||k,O=T?Array(_):[];let I;for(;(I=o.indexOf(i,S))>-1;){let W=Zu(i,{currentLocation:I,expectedLocation:y,distance:u,ignoreLocation:w});if(x=Math.min(W,x),S=I+A,T){let Y=0;for(;Y<A;)O[I+Y]=1,Y+=1}}S=-1;let M=[],P=1,j=A+_;const F=1<<A-1;for(let W=0;W<A;W+=1){let Y=0,te=j;for(;Y<te;)Zu(i,{errors:W,currentLocation:y+te,expectedLocation:y,distance:u,ignoreLocation:w})<=x?Y=te:j=te,te=Math.floor((j-Y)/2+Y);j=te;let ne=Math.max(1,y-te+1),ve=g?_:Math.min(y+te,_)+A,vt=Array(ve+2);vt[ve+1]=(1<<W)-1;for(let at=ve;at>=ne;at-=1){let dn=at-1,L=a[o.charAt(dn)];if(T&&(O[dn]=+!!L),vt[at]=(vt[at+1]<<1|1)&L,W&&(vt[at]|=(M[at+1]|M[at])<<1|1|M[at+1]),vt[at]&F&&(P=Zu(i,{errors:W,currentLocation:dn,expectedLocation:y,distance:u,ignoreLocation:w}),P<=x)){if(x=P,S=dn,S<=y)break;ne=Math.max(1,2*y-S)}}if(Zu(i,{errors:W+1,currentLocation:y,expectedLocation:y,distance:u,ignoreLocation:w})>x)break;M=vt}const $={isMatch:S>=0,score:Math.max(.001,P)};if(T){const W=bq(O,m);W.length?k&&($.indices=W):$.isMatch=!1}return $}function vq(o){let i={};for(let a=0,l=o.length;a<l;a+=1){const u=o.charAt(a);i[u]=(i[u]||0)|1<<l-a-1}return i}class dI{constructor(i,{location:a=ge.location,threshold:l=ge.threshold,distance:u=ge.distance,includeMatches:f=ge.includeMatches,findAllMatches:g=ge.findAllMatches,minMatchCharLength:m=ge.minMatchCharLength,isCaseSensitive:k=ge.isCaseSensitive,ignoreLocation:w=ge.ignoreLocation}={}){if(this.options={location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:g,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:w},this.pattern=k?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;const A=(y,x)=>{this.chunks.push({pattern:y,alphabet:vq(y),startIndex:x})},_=this.pattern.length;if(_>Go){let y=0;const x=_%Go,S=_-x;for(;y<S;)A(this.pattern.substr(y,Go),y),y+=Go;if(x){const T=_-Go;A(this.pattern.substr(T),T)}}else A(this.pattern,0)}searchIn(i){const{isCaseSensitive:a,includeMatches:l}=this.options;if(a||(i=i.toLowerCase()),this.pattern===i){let S={isMatch:!0,score:0};return l&&(S.indices=[[0,i.length-1]]),S}const{location:u,distance:f,threshold:g,findAllMatches:m,minMatchCharLength:k,ignoreLocation:w}=this.options;let A=[],_=0,y=!1;this.chunks.forEach(({pattern:S,alphabet:T,startIndex:O})=>{const{isMatch:I,score:M,indices:P}=_q(i,S,T,{location:u+O,distance:f,threshold:g,findAllMatches:m,minMatchCharLength:k,includeMatches:l,ignoreLocation:w});I&&(y=!0),_+=M,I&&P&&(A=[...A,...P])});let x={isMatch:y,score:y?_/this.chunks.length:1};return y&&l&&(x.indices=A),x}}class fo{constructor(i){this.pattern=i}static isMultiMatch(i){return F2(i,this.multiRegex)}static isSingleMatch(i){return F2(i,this.singleRegex)}search(){}}function F2(o,i){const a=o.match(i);return a?a[1]:null}class yq extends fo{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class Aq extends fo{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const l=i.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,i.length-1]}}}class Cq extends fo{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class xq extends fo{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class Eq extends fo{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}class Sq extends fo{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class uI extends fo{constructor(i,{location:a=ge.location,threshold:l=ge.threshold,distance:u=ge.distance,includeMatches:f=ge.includeMatches,findAllMatches:g=ge.findAllMatches,minMatchCharLength:m=ge.minMatchCharLength,isCaseSensitive:k=ge.isCaseSensitive,ignoreLocation:w=ge.ignoreLocation}={}){super(i),this._bitapSearch=new dI(i,{location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:g,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:w})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class hI extends fo{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let a=0,l;const u=[],f=this.pattern.length;for(;(l=i.indexOf(this.pattern,a))>-1;)a=l+f,u.push([l,a-1]);const g=!!u.length;return{isMatch:g,score:g?0:1,indices:u}}}const Sb=[yq,hI,Cq,xq,Sq,Eq,Aq,uI],V2=Sb.length,Dq=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Tq="|";function Iq(o,i={}){return o.split(Tq).map(a=>{let l=a.trim().split(Dq).filter(f=>f&&!!f.trim()),u=[];for(let f=0,g=l.length;f<g;f+=1){const m=l[f];let k=!1,w=-1;for(;!k&&++w<V2;){const A=Sb[w];let _=A.isMultiMatch(m);_&&(u.push(new A(_,i)),k=!0)}if(!k)for(w=-1;++w<V2;){const A=Sb[w];let _=A.isSingleMatch(m);if(_){u.push(new A(_,i));break}}}return u})}const Mq=new Set([uI.type,hI.type]);class Nq{constructor(i,{isCaseSensitive:a=ge.isCaseSensitive,includeMatches:l=ge.includeMatches,minMatchCharLength:u=ge.minMatchCharLength,ignoreLocation:f=ge.ignoreLocation,findAllMatches:g=ge.findAllMatches,location:m=ge.location,threshold:k=ge.threshold,distance:w=ge.distance}={}){this.query=null,this.options={isCaseSensitive:a,includeMatches:l,minMatchCharLength:u,findAllMatches:g,ignoreLocation:f,location:m,threshold:k,distance:w},this.pattern=a?i:i.toLowerCase(),this.query=Iq(this.pattern,this.options)}static condition(i,a){return a.useExtendedSearch}searchIn(i){const a=this.query;if(!a)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:u}=this.options;i=u?i:i.toLowerCase();let f=0,g=[],m=0;for(let k=0,w=a.length;k<w;k+=1){const A=a[k];g.length=0,f=0;for(let _=0,y=A.length;_<y;_+=1){const x=A[_],{isMatch:S,indices:T,score:O}=x.search(i);if(S){if(f+=1,m+=O,l){const I=x.constructor.type;Mq.has(I)?g=[...g,...T]:g.push(T)}}else{m=0,f=0,g.length=0;break}}if(f){let _={isMatch:!0,score:m/f};return l&&(_.indices=g),_}}return{isMatch:!1,score:1}}}const Db=[];function Pq(...o){Db.push(...o)}function Tb(o,i){for(let a=0,l=Db.length;a<l;a+=1){let u=Db[a];if(u.condition(o,i))return new u(o,i)}return new dI(o,i)}const Yh={AND:"$and",OR:"$or"},Ib={PATH:"$path",PATTERN:"$val"},Mb=o=>!!(o[Yh.AND]||o[Yh.OR]),Oq=o=>!!o[Ib.PATH],Bq=o=>!mr(o)&&sI(o)&&!Mb(o),U2=o=>({[Yh.AND]:Object.keys(o).map(i=>({[i]:o[i]}))});function fI(o,i,{auto:a=!0}={}){const l=u=>{let f=Object.keys(u);const g=Oq(u);if(!g&&f.length>1&&!Mb(u))return l(U2(u));if(Bq(u)){const k=g?u[Ib.PATH]:f[0],w=g?u[Ib.PATTERN]:u[k];if(!Fi(w))throw new Error(sq(k));const A={keyId:Eb(k),pattern:w};return a&&(A.searcher=Tb(w,i)),A}let m={children:[],operator:f[0]};return f.forEach(k=>{const w=u[k];mr(w)&&w.forEach(A=>{m.children.push(l(A))})}),m};return Mb(o)||(o=U2(o)),l(o)}function zq(o,{ignoreFieldNorm:i=ge.ignoreFieldNorm}){o.forEach(a=>{let l=1;a.matches.forEach(({key:u,norm:f,score:g})=>{const m=u?u.weight:null;l*=Math.pow(g===0&&m?Number.EPSILON:g,(m||1)*(i?1:f))}),a.score=l})}function Lq(o,i){const a=o.matches;i.matches=[],Pn(a)&&a.forEach(l=>{if(!Pn(l.indices)||!l.indices.length)return;const{indices:u,value:f}=l;let g={indices:u,value:f};l.key&&(g.key=l.key.src),l.idx>-1&&(g.refIndex=l.idx),i.matches.push(g)})}function jq(o,i){i.score=o.score}function Rq(o,i,{includeMatches:a=ge.includeMatches,includeScore:l=ge.includeScore}={}){const u=[];return a&&u.push(Lq),l&&u.push(jq),o.map(f=>{const{idx:g}=f,m={item:i[g],refIndex:g};return u.length&&u.forEach(k=>{k(f,m)}),m})}class Ta{constructor(i,a={},l){this.options={...ge,...a},this.options.useExtendedSearch,this._keyStore=new dq(this.options.keys),this.setCollection(i,l)}setCollection(i,a){if(this._docs=i,a&&!(a instanceof F_))throw new Error(oq);this._myIndex=a||lI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Pn(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){const a=[];for(let l=0,u=this._docs.length;l<u;l+=1){const f=this._docs[l];i(f,l)&&(this.removeAt(l),l-=1,u-=1,a.push(f))}return a}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:a=-1}={}){const{includeMatches:l,includeScore:u,shouldSort:f,sortFn:g,ignoreFieldNorm:m}=this.options;let k=Fi(i)?Fi(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return zq(k,{ignoreFieldNorm:m}),f&&k.sort(g),oI(a)&&a>-1&&(k=k.slice(0,a)),Rq(k,this._docs,{includeMatches:l,includeScore:u})}_searchStringList(i){const a=Tb(i,this.options),{records:l}=this._myIndex,u=[];return l.forEach(({v:f,i:g,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:w,indices:A}=a.searchIn(f);k&&u.push({item:f,idx:g,matches:[{score:w,value:f,norm:m,indices:A}]})}),u}_searchLogical(i){const a=fI(i,this.options),l=(m,k,w)=>{if(!m.children){const{keyId:_,searcher:y}=m,x=this._findMatches({key:this._keyStore.get(_),value:this._myIndex.getValueForItemAtKeyId(k,_),searcher:y});return x&&x.length?[{idx:w,item:k,matches:x}]:[]}const A=[];for(let _=0,y=m.children.length;_<y;_+=1){const x=m.children[_],S=l(x,k,w);if(S.length)A.push(...S);else if(m.operator===Yh.AND)return[]}return A},u=this._myIndex.records,f={},g=[];return u.forEach(({$:m,i:k})=>{if(Pn(m)){let w=l(a,m,k);w.length&&(f[k]||(f[k]={idx:k,item:m,matches:[]},g.push(f[k])),w.forEach(({matches:A})=>{f[k].matches.push(...A)}))}}),g}_searchObjectList(i){const a=Tb(i,this.options),{keys:l,records:u}=this._myIndex,f=[];return u.forEach(({$:g,i:m})=>{if(!Pn(g))return;let k=[];l.forEach((w,A)=>{k.push(...this._findMatches({key:w,value:g[A],searcher:a}))}),k.length&&f.push({idx:m,item:g,matches:k})}),f}_findMatches({key:i,value:a,searcher:l}){if(!Pn(a))return[];let u=[];if(mr(a))a.forEach(({v:f,i:g,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:w,indices:A}=l.searchIn(f);k&&u.push({score:w,key:i,value:f,idx:g,norm:m,indices:A})});else{const{v:f,n:g}=a,{isMatch:m,score:k,indices:w}=l.searchIn(f);m&&u.push({score:k,key:i,value:f,norm:g,indices:w})}return u}}Ta.version="7.0.0";Ta.createIndex=lI;Ta.parseIndex=wq;Ta.config=ge;Ta.parseQuery=fI;Pq(Nq);const Fq=(o,i,a)=>{const u=new Ta(i,{keys:a}).search(o);return o?u.map(g=>g.item):i};class us extends Error{}class Vq extends us{constructor(i){super(`Invalid DateTime: ${i.toMessage()}`)}}class Uq extends us{constructor(i){super(`Invalid Interval: ${i.toMessage()}`)}}class Hq extends us{constructor(i){super(`Invalid Duration: ${i.toMessage()}`)}}class Jc extends us{}class gI extends us{constructor(i){super(`Invalid unit ${i}`)}}class Jn extends us{}class Lr extends us{constructor(){super("Zone is an abstract class")}}const ee="numeric",yi="short",zn="long",Zh={year:ee,month:ee,day:ee},pI={year:ee,month:yi,day:ee},$q={year:ee,month:yi,day:ee,weekday:yi},mI={year:ee,month:zn,day:ee},kI={year:ee,month:zn,day:ee,weekday:zn},wI={hour:ee,minute:ee},bI={hour:ee,minute:ee,second:ee},_I={hour:ee,minute:ee,second:ee,timeZoneName:yi},vI={hour:ee,minute:ee,second:ee,timeZoneName:zn},yI={hour:ee,minute:ee,hourCycle:"h23"},AI={hour:ee,minute:ee,second:ee,hourCycle:"h23"},CI={hour:ee,minute:ee,second:ee,hourCycle:"h23",timeZoneName:yi},xI={hour:ee,minute:ee,second:ee,hourCycle:"h23",timeZoneName:zn},EI={year:ee,month:ee,day:ee,hour:ee,minute:ee},SI={year:ee,month:ee,day:ee,hour:ee,minute:ee,second:ee},DI={year:ee,month:yi,day:ee,hour:ee,minute:ee},TI={year:ee,month:yi,day:ee,hour:ee,minute:ee,second:ee},Wq={year:ee,month:yi,day:ee,weekday:yi,hour:ee,minute:ee},II={year:ee,month:zn,day:ee,hour:ee,minute:ee,timeZoneName:yi},MI={year:ee,month:zn,day:ee,hour:ee,minute:ee,second:ee,timeZoneName:yi},NI={year:ee,month:zn,day:ee,weekday:zn,hour:ee,minute:ee,timeZoneName:zn},PI={year:ee,month:zn,day:ee,weekday:zn,hour:ee,minute:ee,second:ee,timeZoneName:zn};class Hl{get type(){throw new Lr}get name(){throw new Lr}get ianaName(){return this.name}get isUniversal(){throw new Lr}offsetName(i,a){throw new Lr}formatOffset(i,a){throw new Lr}offset(i){throw new Lr}equals(i){throw new Lr}get isValid(){throw new Lr}}let kw=null;class bf extends Hl{static get instance(){return kw===null&&(kw=new bf),kw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return BI(i,a,l)}formatOffset(i,a){return hl(this.offset(i),a)}offset(i){return-new Date(i).getTimezoneOffset()}equals(i){return i.type==="system"}get isValid(){return!0}}let bh={};function qq(o){return bh[o]||(bh[o]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:o,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),bh[o]}const Gq={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Yq(o,i){const a=o.format(i).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(a),[,u,f,g,m,k,w,A]=l;return[g,u,f,m,k,w,A]}function Zq(o,i){const a=o.formatToParts(i),l=[];for(let u=0;u<a.length;u++){const{type:f,value:g}=a[u],m=Gq[f];f==="era"?l[m]=g:Ee(m)||(l[m]=parseInt(g,10))}return l}let Ku={};class kr extends Hl{static create(i){return Ku[i]||(Ku[i]=new kr(i)),Ku[i]}static resetCache(){Ku={},bh={}}static isValidSpecifier(i){return this.isValidZone(i)}static isValidZone(i){if(!i)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}}constructor(i){super(),this.zoneName=i,this.valid=kr.isValidZone(i)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return BI(i,a,l,this.name)}formatOffset(i,a){return hl(this.offset(i),a)}offset(i){const a=new Date(i);if(isNaN(a))return NaN;const l=qq(this.name);let[u,f,g,m,k,w,A]=l.formatToParts?Zq(l,a):Yq(l,a);m==="BC"&&(u=-Math.abs(u)+1);const y=vf({year:u,month:f,day:g,hour:k===24?0:k,minute:w,second:A,millisecond:0});let x=+a;const S=x%1e3;return x-=S>=0?S:1e3+S,(y-x)/(60*1e3)}equals(i){return i.type==="iana"&&i.name===this.name}get isValid(){return this.valid}}let H2={};function Kq(o,i={}){const a=JSON.stringify([o,i]);let l=H2[a];return l||(l=new Intl.ListFormat(o,i),H2[a]=l),l}let Nb={};function Pb(o,i={}){const a=JSON.stringify([o,i]);let l=Nb[a];return l||(l=new Intl.DateTimeFormat(o,i),Nb[a]=l),l}let Ob={};function Qq(o,i={}){const a=JSON.stringify([o,i]);let l=Ob[a];return l||(l=new Intl.NumberFormat(o,i),Ob[a]=l),l}let Bb={};function Jq(o,i={}){const{base:a,...l}=i,u=JSON.stringify([o,l]);let f=Bb[u];return f||(f=new Intl.RelativeTimeFormat(o,i),Bb[u]=f),f}let Xc=null;function Xq(){return Xc||(Xc=new Intl.DateTimeFormat().resolvedOptions().locale,Xc)}function eG(o){const i=o.indexOf("-x-");i!==-1&&(o=o.substring(0,i));const a=o.indexOf("-u-");if(a===-1)return[o];{let l,u;try{l=Pb(o).resolvedOptions(),u=o}catch{const k=o.substring(0,a);l=Pb(k).resolvedOptions(),u=k}const{numberingSystem:f,calendar:g}=l;return[u,f,g]}}function tG(o,i,a){return(a||i)&&(o.includes("-u-")||(o+="-u"),a&&(o+=`-ca-${a}`),i&&(o+=`-nu-${i}`)),o}function nG(o){const i=[];for(let a=1;a<=12;a++){const l=_e.utc(2009,a,1);i.push(o(l))}return i}function iG(o){const i=[];for(let a=1;a<=7;a++){const l=_e.utc(2016,11,13+a);i.push(o(l))}return i}function Qu(o,i,a,l){const u=o.listingMode();return u==="error"?null:u==="en"?a(i):l(i)}function rG(o){return o.numberingSystem&&o.numberingSystem!=="latn"?!1:o.numberingSystem==="latn"||!o.locale||o.locale.startsWith("en")||new Intl.DateTimeFormat(o.intl).resolvedOptions().numberingSystem==="latn"}class oG{constructor(i,a,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:u,floor:f,...g}=l;if(!a||Object.keys(g).length>0){const m={useGrouping:!1,...l};l.padTo>0&&(m.minimumIntegerDigits=l.padTo),this.inf=Qq(i,m)}}format(i){if(this.inf){const a=this.floor?Math.floor(i):i;return this.inf.format(a)}else{const a=this.floor?Math.floor(i):U_(i,3);return Dt(a,this.padTo)}}}class sG{constructor(i,a,l){this.opts=l,this.originalZone=void 0;let u;if(this.opts.timeZone)this.dt=i;else if(i.zone.type==="fixed"){const g=-1*(i.offset/60),m=g>=0?`Etc/GMT+${g}`:`Etc/GMT${g}`;i.offset!==0&&kr.create(m).valid?(u=m,this.dt=i):(u="UTC",this.dt=i.offset===0?i:i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone)}else i.zone.type==="system"?this.dt=i:i.zone.type==="iana"?(this.dt=i,u=i.zone.name):(u="UTC",this.dt=i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone);const f={...this.opts};f.timeZone=f.timeZone||u,this.dtf=Pb(a,f)}format(){return this.originalZone?this.formatToParts().map(({value:i})=>i).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const i=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?i.map(a=>{if(a.type==="timeZoneName"){const l=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...a,value:l}}else return a}):i}resolvedOptions(){return this.dtf.resolvedOptions()}}class aG{constructor(i,a,l){this.opts={style:"long",...l},!a&&OI()&&(this.rtf=Jq(i,l))}format(i,a){return this.rtf?this.rtf.format(i,a):CG(a,i,this.opts.numeric,this.opts.style!=="long")}formatToParts(i,a){return this.rtf?this.rtf.formatToParts(i,a):[]}}class ot{static fromOpts(i){return ot.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)}static create(i,a,l,u=!1){const f=i||St.defaultLocale,g=f||(u?"en-US":Xq()),m=a||St.defaultNumberingSystem,k=l||St.defaultOutputCalendar;return new ot(g,m,k,f)}static resetCache(){Xc=null,Nb={},Ob={},Bb={}}static fromObject({locale:i,numberingSystem:a,outputCalendar:l}={}){return ot.create(i,a,l)}constructor(i,a,l,u){const[f,g,m]=eG(i);this.locale=f,this.numberingSystem=a||g||null,this.outputCalendar=l||m||null,this.intl=tG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=rG(this)),this.fastNumbersCached}listingMode(){const i=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return i&&a?"en":"intl"}clone(i){return!i||Object.getOwnPropertyNames(i).length===0?this:ot.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1)}redefaultToEN(i={}){return this.clone({...i,defaultToEN:!0})}redefaultToSystem(i={}){return this.clone({...i,defaultToEN:!1})}months(i,a=!1){return Qu(this,i,jI,()=>{const l=a?{month:i,day:"numeric"}:{month:i},u=a?"format":"standalone";return this.monthsCache[u][i]||(this.monthsCache[u][i]=nG(f=>this.extract(f,l,"month"))),this.monthsCache[u][i]})}weekdays(i,a=!1){return Qu(this,i,VI,()=>{const l=a?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},u=a?"format":"standalone";return this.weekdaysCache[u][i]||(this.weekdaysCache[u][i]=iG(f=>this.extract(f,l,"weekday"))),this.weekdaysCache[u][i]})}meridiems(){return Qu(this,void 0,()=>UI,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_e.utc(2016,11,13,9),_e.utc(2016,11,13,19)].map(a=>this.extract(a,i,"dayperiod"))}return this.meridiemCache})}eras(i){return Qu(this,i,HI,()=>{const a={era:i};return this.eraCache[i]||(this.eraCache[i]=[_e.utc(-40,1,1),_e.utc(2017,1,1)].map(l=>this.extract(l,a,"era"))),this.eraCache[i]})}extract(i,a,l){const u=this.dtFormatter(i,a),f=u.formatToParts(),g=f.find(m=>m.type.toLowerCase()===l);return g?g.value:null}numberFormatter(i={}){return new oG(this.intl,i.forceSimple||this.fastNumbers,i)}dtFormatter(i,a={}){return new sG(i,this.intl,a)}relFormatter(i={}){return new aG(this.intl,this.isEnglish(),i)}listFormatter(i={}){return Kq(this.intl,i)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}}let ww=null;class sn extends Hl{static get utcInstance(){return ww===null&&(ww=new sn(0)),ww}static instance(i){return i===0?sn.utcInstance:new sn(i)}static parseSpecifier(i){if(i){const a=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new sn(yf(a[1],a[2]))}return null}constructor(i){super(),this.fixed=i}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${hl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${hl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(i,a){return hl(this.fixed,a)}get isUniversal(){return!0}offset(){return this.fixed}equals(i){return i.type==="fixed"&&i.fixed===this.fixed}get isValid(){return!0}}class cG extends Hl{constructor(i){super(),this.zoneName=i}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function qr(o,i){if(Ee(o)||o===null)return i;if(o instanceof Hl)return o;if(lG(o)){const a=o.toLowerCase();return a==="default"?i:a==="local"||a==="system"?bf.instance:a==="utc"||a==="gmt"?sn.utcInstance:sn.parseSpecifier(a)||kr.create(o)}else return is(o)?sn.instance(o):typeof o=="object"&&"offset"in o&&typeof o.offset=="function"?o:new cG(o)}let $2=()=>Date.now(),W2="system",q2=null,G2=null,Y2=null,Z2=60,K2;class St{static get now(){return $2}static set now(i){$2=i}static set defaultZone(i){W2=i}static get defaultZone(){return qr(W2,bf.instance)}static get defaultLocale(){return q2}static set defaultLocale(i){q2=i}static get defaultNumberingSystem(){return G2}static set defaultNumberingSystem(i){G2=i}static get defaultOutputCalendar(){return Y2}static set defaultOutputCalendar(i){Y2=i}static get twoDigitCutoffYear(){return Z2}static set twoDigitCutoffYear(i){Z2=i%100}static get throwOnInvalid(){return K2}static set throwOnInvalid(i){K2=i}static resetCaches(){ot.resetCache(),kr.resetCache()}}function Ee(o){return typeof o>"u"}function is(o){return typeof o=="number"}function _f(o){return typeof o=="number"&&o%1===0}function lG(o){return typeof o=="string"}function dG(o){return Object.prototype.toString.call(o)==="[object Date]"}function OI(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function uG(o){return Array.isArray(o)?o:[o]}function Q2(o,i,a){if(o.length!==0)return o.reduce((l,u)=>{const f=[i(u),u];return l&&a(l[0],f[0])===l[0]?l:f},null)[1]}function hG(o,i){return i.reduce((a,l)=>(a[l]=o[l],a),{})}function ya(o,i){return Object.prototype.hasOwnProperty.call(o,i)}function dr(o,i,a){return _f(o)&&o>=i&&o<=a}function fG(o,i){return o-i*Math.floor(o/i)}function Dt(o,i=2){const a=o<0;let l;return a?l="-"+(""+-o).padStart(i,"0"):l=(""+o).padStart(i,"0"),l}function Ur(o){if(!(Ee(o)||o===null||o===""))return parseInt(o,10)}function Fo(o){if(!(Ee(o)||o===null||o===""))return parseFloat(o)}function V_(o){if(!(Ee(o)||o===null||o==="")){const i=parseFloat("0."+o)*1e3;return Math.floor(i)}}function U_(o,i,a=!1){const l=10**i;return(a?Math.trunc:Math.round)(o*l)/l}function $l(o){return o%4===0&&(o%100!==0||o%400===0)}function ul(o){return $l(o)?366:365}function Kh(o,i){const a=fG(i-1,12)+1,l=o+(i-a)/12;return a===2?$l(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][a-1]}function vf(o){let i=Date.UTC(o.year,o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond);return o.year<100&&o.year>=0&&(i=new Date(i),i.setUTCFullYear(o.year,o.month-1,o.day)),+i}function Qh(o){const i=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7,a=o-1,l=(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7;return i===4||l===3?53:52}function zb(o){return o>99?o:o>St.twoDigitCutoffYear?1900+o:2e3+o}function BI(o,i,a,l=null){const u=new Date(o),f={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(f.timeZone=l);const g={timeZoneName:i,...f},m=new Intl.DateTimeFormat(a,g).formatToParts(u).find(k=>k.type.toLowerCase()==="timezonename");return m?m.value:null}function yf(o,i){let a=parseInt(o,10);Number.isNaN(a)&&(a=0);const l=parseInt(i,10)||0,u=a<0||Object.is(a,-0)?-l:l;return a*60+u}function zI(o){const i=Number(o);if(typeof o=="boolean"||o===""||Number.isNaN(i))throw new Jn(`Invalid unit value ${o}`);return i}function Jh(o,i){const a={};for(const l in o)if(ya(o,l)){const u=o[l];if(u==null)continue;a[i(l)]=zI(u)}return a}function hl(o,i){const a=Math.trunc(Math.abs(o/60)),l=Math.trunc(Math.abs(o%60)),u=o>=0?"+":"-";switch(i){case"short":return`${u}${Dt(a,2)}:${Dt(l,2)}`;case"narrow":return`${u}${a}${l>0?`:${l}`:""}`;case"techie":return`${u}${Dt(a,2)}${Dt(l,2)}`;default:throw new RangeError(`Value format ${i} is out of range for property format`)}}function Af(o){return hG(o,["hour","minute","second","millisecond"])}const gG=["January","February","March","April","May","June","July","August","September","October","November","December"],LI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pG=["J","F","M","A","M","J","J","A","S","O","N","D"];function jI(o){switch(o){case"narrow":return[...pG];case"short":return[...LI];case"long":return[...gG];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const RI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],FI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],mG=["M","T","W","T","F","S","S"];function VI(o){switch(o){case"narrow":return[...mG];case"short":return[...FI];case"long":return[...RI];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const UI=["AM","PM"],kG=["Before Christ","Anno Domini"],wG=["BC","AD"],bG=["B","A"];function HI(o){switch(o){case"narrow":return[...bG];case"short":return[...wG];case"long":return[...kG];default:return null}}function _G(o){return UI[o.hour<12?0:1]}function vG(o,i){return VI(i)[o.weekday-1]}function yG(o,i){return jI(i)[o.month-1]}function AG(o,i){return HI(i)[o.year<0?0:1]}function CG(o,i,a="always",l=!1){const u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},f=["hours","minutes","seconds"].indexOf(o)===-1;if(a==="auto"&&f){const _=o==="days";switch(i){case 1:return _?"tomorrow":`next ${u[o][0]}`;case-1:return _?"yesterday":`last ${u[o][0]}`;case 0:return _?"today":`this ${u[o][0]}`}}const g=Object.is(i,-0)||i<0,m=Math.abs(i),k=m===1,w=u[o],A=l?k?w[1]:w[2]||w[1]:k?u[o][0]:o;return g?`${m} ${A} ago`:`in ${m} ${A}`}function J2(o,i){let a="";for(const l of o)l.literal?a+=l.val:a+=i(l.val);return a}const xG={D:Zh,DD:pI,DDD:mI,DDDD:kI,t:wI,tt:bI,ttt:_I,tttt:vI,T:yI,TT:AI,TTT:CI,TTTT:xI,f:EI,ff:DI,fff:II,ffff:NI,F:SI,FF:TI,FFF:MI,FFFF:PI};class tn{static create(i,a={}){return new tn(i,a)}static parseFormat(i){let a=null,l="",u=!1;const f=[];for(let g=0;g<i.length;g++){const m=i.charAt(g);m==="'"?(l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),a=null,l="",u=!u):u||m===a?l+=m:(l.length>0&&f.push({literal:/^\s+$/.test(l),val:l}),l=m,a=m)}return l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),f}static macroTokenToFormatOpts(i){return xG[i]}constructor(i,a){this.opts=a,this.loc=i,this.systemLoc=null}formatWithSystemDefault(i,a){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(i,{...this.opts,...a}).format()}dtFormatter(i,a={}){return this.loc.dtFormatter(i,{...this.opts,...a})}formatDateTime(i,a){return this.dtFormatter(i,a).format()}formatDateTimeParts(i,a){return this.dtFormatter(i,a).formatToParts()}formatInterval(i,a){return this.dtFormatter(i.start,a).dtf.formatRange(i.start.toJSDate(),i.end.toJSDate())}resolvedOptions(i,a){return this.dtFormatter(i,a).resolvedOptions()}num(i,a=0){if(this.opts.forceSimple)return Dt(i,a);const l={...this.opts};return a>0&&(l.padTo=a),this.loc.numberFormatter(l).format(i)}formatDateTimeFromString(i,a){const l=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",f=(x,S)=>this.loc.extract(i,x,S),g=x=>i.isOffsetFixed&&i.offset===0&&x.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,x.format):"",m=()=>l?_G(i):f({hour:"numeric",hourCycle:"h12"},"dayperiod"),k=(x,S)=>l?yG(i,x):f(S?{month:x}:{month:x,day:"numeric"},"month"),w=(x,S)=>l?vG(i,x):f(S?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),A=x=>{const S=tn.macroTokenToFormatOpts(x);return S?this.formatWithSystemDefault(i,S):x},_=x=>l?AG(i,x):f({era:x},"era"),y=x=>{switch(x){case"S":return this.num(i.millisecond);case"u":case"SSS":return this.num(i.millisecond,3);case"s":return this.num(i.second);case"ss":return this.num(i.second,2);case"uu":return this.num(Math.floor(i.millisecond/10),2);case"uuu":return this.num(Math.floor(i.millisecond/100));case"m":return this.num(i.minute);case"mm":return this.num(i.minute,2);case"h":return this.num(i.hour%12===0?12:i.hour%12);case"hh":return this.num(i.hour%12===0?12:i.hour%12,2);case"H":return this.num(i.hour);case"HH":return this.num(i.hour,2);case"Z":return g({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return g({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return g({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:this.loc.locale});case"z":return i.zoneName;case"a":return m();case"d":return u?f({day:"numeric"},"day"):this.num(i.day);case"dd":return u?f({day:"2-digit"},"day"):this.num(i.day,2);case"c":return this.num(i.weekday);case"ccc":return w("short",!0);case"cccc":return w("long",!0);case"ccccc":return w("narrow",!0);case"E":return this.num(i.weekday);case"EEE":return w("short",!1);case"EEEE":return w("long",!1);case"EEEEE":return w("narrow",!1);case"L":return u?f({month:"numeric",day:"numeric"},"month"):this.num(i.month);case"LL":return u?f({month:"2-digit",day:"numeric"},"month"):this.num(i.month,2);case"LLL":return k("short",!0);case"LLLL":return k("long",!0);case"LLLLL":return k("narrow",!0);case"M":return u?f({month:"numeric"},"month"):this.num(i.month);case"MM":return u?f({month:"2-digit"},"month"):this.num(i.month,2);case"MMM":return k("short",!1);case"MMMM":return k("long",!1);case"MMMMM":return k("narrow",!1);case"y":return u?f({year:"numeric"},"year"):this.num(i.year);case"yy":return u?f({year:"2-digit"},"year"):this.num(i.year.toString().slice(-2),2);case"yyyy":return u?f({year:"numeric"},"year"):this.num(i.year,4);case"yyyyyy":return u?f({year:"numeric"},"year"):this.num(i.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(i.weekYear.toString().slice(-2),2);case"kkkk":return this.num(i.weekYear,4);case"W":return this.num(i.weekNumber);case"WW":return this.num(i.weekNumber,2);case"o":return this.num(i.ordinal);case"ooo":return this.num(i.ordinal,3);case"q":return this.num(i.quarter);case"qq":return this.num(i.quarter,2);case"X":return this.num(Math.floor(i.ts/1e3));case"x":return this.num(i.ts);default:return A(x)}};return J2(tn.parseFormat(a),y)}formatDurationFromString(i,a){const l=k=>{switch(k[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=k=>w=>{const A=l(w);return A?this.num(k.get(A),w.length):w},f=tn.parseFormat(a),g=f.reduce((k,{literal:w,val:A})=>w?k:k.concat(A),[]),m=i.shiftTo(...g.map(l).filter(k=>k));return J2(f,u(m))}}class wi{constructor(i,a){this.reason=i,this.explanation=a}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const $I=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ia(...o){const i=o.reduce((a,l)=>a+l.source,"");return RegExp(`^${i}$`)}function Ma(...o){return i=>o.reduce(([a,l,u],f)=>{const[g,m,k]=f(i,u);return[{...a,...g},m||l,k]},[{},null,1]).slice(0,2)}function Na(o,...i){if(o==null)return[null,null];for(const[a,l]of i){const u=a.exec(o);if(u)return l(u)}return[null,null]}function WI(...o){return(i,a)=>{const l={};let u;for(u=0;u<o.length;u++)l[o[u]]=Ur(i[a+u]);return[l,null,a+u]}}const qI=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,EG=`(?:${qI.source}?(?:\\[(${$I.source})\\])?)?`,H_=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,GI=RegExp(`${H_.source}${EG}`),$_=RegExp(`(?:T${GI.source})?`),SG=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,DG=/(\d{4})-?W(\d\d)(?:-?(\d))?/,TG=/(\d{4})-?(\d{3})/,IG=WI("weekYear","weekNumber","weekDay"),MG=WI("year","ordinal"),NG=/(\d{4})-(\d\d)-(\d\d)/,YI=RegExp(`${H_.source} ?(?:${qI.source}|(${$I.source}))?`),PG=RegExp(`(?: ${YI.source})?`);function ga(o,i,a){const l=o[i];return Ee(l)?a:Ur(l)}function OG(o,i){return[{year:ga(o,i),month:ga(o,i+1,1),day:ga(o,i+2,1)},null,i+3]}function Pa(o,i){return[{hours:ga(o,i,0),minutes:ga(o,i+1,0),seconds:ga(o,i+2,0),milliseconds:V_(o[i+3])},null,i+4]}function Wl(o,i){const a=!o[i]&&!o[i+1],l=yf(o[i+1],o[i+2]),u=a?null:sn.instance(l);return[{},u,i+3]}function ql(o,i){const a=o[i]?kr.create(o[i]):null;return[{},a,i+1]}const BG=RegExp(`^T?${H_.source}$`),zG=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function LG(o){const[i,a,l,u,f,g,m,k,w]=o,A=i[0]==="-",_=k&&k[0]==="-",y=(x,S=!1)=>x!==void 0&&(S||x&&A)?-x:x;return[{years:y(Fo(a)),months:y(Fo(l)),weeks:y(Fo(u)),days:y(Fo(f)),hours:y(Fo(g)),minutes:y(Fo(m)),seconds:y(Fo(k),k==="-0"),milliseconds:y(V_(w),_)}]}const jG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function W_(o,i,a,l,u,f,g){const m={year:i.length===2?zb(Ur(i)):Ur(i),month:LI.indexOf(a)+1,day:Ur(l),hour:Ur(u),minute:Ur(f)};return g&&(m.second=Ur(g)),o&&(m.weekday=o.length>3?RI.indexOf(o)+1:FI.indexOf(o)+1),m}const RG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function FG(o){const[,i,a,l,u,f,g,m,k,w,A,_]=o,y=W_(i,u,l,a,f,g,m);let x;return k?x=jG[k]:w?x=0:x=yf(A,_),[y,new sn(x)]}function VG(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const UG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,HG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$G=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function X2(o){const[,i,a,l,u,f,g,m]=o;return[W_(i,u,l,a,f,g,m),sn.utcInstance]}function WG(o){const[,i,a,l,u,f,g,m]=o;return[W_(i,m,a,l,u,f,g),sn.utcInstance]}const qG=Ia(SG,$_),GG=Ia(DG,$_),YG=Ia(TG,$_),ZG=Ia(GI),ZI=Ma(OG,Pa,Wl,ql),KG=Ma(IG,Pa,Wl,ql),QG=Ma(MG,Pa,Wl,ql),JG=Ma(Pa,Wl,ql);function XG(o){return Na(o,[qG,ZI],[GG,KG],[YG,QG],[ZG,JG])}function eY(o){return Na(VG(o),[RG,FG])}function tY(o){return Na(o,[UG,X2],[HG,X2],[$G,WG])}function nY(o){return Na(o,[zG,LG])}const iY=Ma(Pa);function rY(o){return Na(o,[BG,iY])}const oY=Ia(NG,PG),sY=Ia(YI),aY=Ma(Pa,Wl,ql);function cY(o){return Na(o,[oY,ZI],[sY,aY])}const eS="Invalid Duration",KI={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},lY={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...KI},Yn=146097/400,Us=146097/4800,dY={years:{quarters:4,months:12,weeks:Yn/7,days:Yn,hours:Yn*24,minutes:Yn*24*60,seconds:Yn*24*60*60,milliseconds:Yn*24*60*60*1e3},quarters:{months:3,weeks:Yn/28,days:Yn/4,hours:Yn*24/4,minutes:Yn*24*60/4,seconds:Yn*24*60*60/4,milliseconds:Yn*24*60*60*1e3/4},months:{weeks:Us/7,days:Us,hours:Us*24,minutes:Us*24*60,seconds:Us*24*60*60,milliseconds:Us*24*60*60*1e3},...KI},es=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],uY=es.slice(0).reverse();function jr(o,i,a=!1){const l={values:a?i.values:{...o.values,...i.values||{}},loc:o.loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||o.conversionAccuracy,matrix:i.matrix||o.matrix};return new Me(l)}function QI(o,i){let a=i.milliseconds??0;for(const l of uY.slice(1))i[l]&&(a+=i[l]*o[l].milliseconds);return a}function tS(o,i){const a=QI(o,i)<0?-1:1;es.reduceRight((l,u)=>{if(Ee(i[u]))return l;if(l){const f=i[l]*a,g=o[u][l],m=Math.floor(f/g);i[u]+=m*a,i[l]-=m*g*a}return u},null),es.reduce((l,u)=>{if(Ee(i[u]))return l;if(l){const f=i[l]%1;i[l]-=f,i[u]+=f*o[l][u]}return u},null)}function hY(o){const i={};for(const[a,l]of Object.entries(o))l!==0&&(i[a]=l);return i}class Me{constructor(i){const a=i.conversionAccuracy==="longterm"||!1;let l=a?dY:lY;i.matrix&&(l=i.matrix),this.values=i.values,this.loc=i.loc||ot.create(),this.conversionAccuracy=a?"longterm":"casual",this.invalid=i.invalid||null,this.matrix=l,this.isLuxonDuration=!0}static fromMillis(i,a){return Me.fromObject({milliseconds:i},a)}static fromObject(i,a={}){if(i==null||typeof i!="object")throw new Jn(`Duration.fromObject: argument expected to be an object, got ${i===null?"null":typeof i}`);return new Me({values:Jh(i,Me.normalizeUnit),loc:ot.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static fromDurationLike(i){if(is(i))return Me.fromMillis(i);if(Me.isDuration(i))return i;if(typeof i=="object")return Me.fromObject(i);throw new Jn(`Unknown duration argument ${i} of type ${typeof i}`)}static fromISO(i,a){const[l]=nY(i);return l?Me.fromObject(l,a):Me.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromISOTime(i,a){const[l]=rY(i);return l?Me.fromObject(l,a):Me.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the Duration is invalid");const l=i instanceof wi?i:new wi(i,a);if(St.throwOnInvalid)throw new Hq(l);return new Me({invalid:l})}static normalizeUnit(i){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!a)throw new gI(i);return a}static isDuration(i){return i&&i.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(i,a={}){const l={...a,floor:a.round!==!1&&a.floor!==!1};return this.isValid?tn.create(this.loc,l).formatDurationFromString(this,i):eS}toHuman(i={}){if(!this.isValid)return eS;const a=es.map(l=>{const u=this.values[l];return Ee(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...i,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:i.listStyle||"narrow",...i}).format(a)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let i="P";return this.years!==0&&(i+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(i+=this.months+this.quarters*3+"M"),this.weeks!==0&&(i+=this.weeks+"W"),this.days!==0&&(i+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(i+="T"),this.hours!==0&&(i+=this.hours+"H"),this.minutes!==0&&(i+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(i+=U_(this.seconds+this.milliseconds/1e3,3)+"S"),i==="P"&&(i+="T0S"),i}toISOTime(i={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(i={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...i,includeOffset:!1},_e.fromMillis(a,{zone:"UTC"}).toISOTime(i))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?QI(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(i){if(!this.isValid)return this;const a=Me.fromDurationLike(i),l={};for(const u of es)(ya(a.values,u)||ya(this.values,u))&&(l[u]=a.get(u)+this.get(u));return jr(this,{values:l},!0)}minus(i){if(!this.isValid)return this;const a=Me.fromDurationLike(i);return this.plus(a.negate())}mapUnits(i){if(!this.isValid)return this;const a={};for(const l of Object.keys(this.values))a[l]=zI(i(this.values[l],l));return jr(this,{values:a},!0)}get(i){return this[Me.normalizeUnit(i)]}set(i){if(!this.isValid)return this;const a={...this.values,...Jh(i,Me.normalizeUnit)};return jr(this,{values:a})}reconfigure({locale:i,numberingSystem:a,conversionAccuracy:l,matrix:u}={}){const g={loc:this.loc.clone({locale:i,numberingSystem:a}),matrix:u,conversionAccuracy:l};return jr(this,g)}as(i){return this.isValid?this.shiftTo(i).get(i):NaN}normalize(){if(!this.isValid)return this;const i=this.toObject();return tS(this.matrix,i),jr(this,{values:i},!0)}rescale(){if(!this.isValid)return this;const i=hY(this.normalize().shiftToAll().toObject());return jr(this,{values:i},!0)}shiftTo(...i){if(!this.isValid)return this;if(i.length===0)return this;i=i.map(g=>Me.normalizeUnit(g));const a={},l={},u=this.toObject();let f;for(const g of es)if(i.indexOf(g)>=0){f=g;let m=0;for(const w in l)m+=this.matrix[w][g]*l[w],l[w]=0;is(u[g])&&(m+=u[g]);const k=Math.trunc(m);a[g]=k,l[g]=(m*1e3-k*1e3)/1e3}else is(u[g])&&(l[g]=u[g]);for(const g in l)l[g]!==0&&(a[f]+=g===f?l[g]:l[g]/this.matrix[f][g]);return tS(this.matrix,a),jr(this,{values:a},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const i={};for(const a of Object.keys(this.values))i[a]=this.values[a]===0?0:-this.values[a];return jr(this,{values:i},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function a(l,u){return l===void 0||l===0?u===void 0||u===0:l===u}for(const l of es)if(!a(this.values[l],i.values[l]))return!1;return!0}}const Hs="Invalid Interval";function fY(o,i){return!o||!o.isValid?wt.invalid("missing or invalid start"):!i||!i.isValid?wt.invalid("missing or invalid end"):i<o?wt.invalid("end before start",`The end of an interval must be after its start, but you had start=${o.toISO()} and end=${i.toISO()}`):null}class wt{constructor(i){this.s=i.start,this.e=i.end,this.invalid=i.invalid||null,this.isLuxonInterval=!0}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the Interval is invalid");const l=i instanceof wi?i:new wi(i,a);if(St.throwOnInvalid)throw new Uq(l);return new wt({invalid:l})}static fromDateTimes(i,a){const l=qc(i),u=qc(a),f=fY(l,u);return f??new wt({start:l,end:u})}static after(i,a){const l=Me.fromDurationLike(a),u=qc(i);return wt.fromDateTimes(u,u.plus(l))}static before(i,a){const l=Me.fromDurationLike(a),u=qc(i);return wt.fromDateTimes(u.minus(l),u)}static fromISO(i,a){const[l,u]=(i||"").split("/",2);if(l&&u){let f,g;try{f=_e.fromISO(l,a),g=f.isValid}catch{g=!1}let m,k;try{m=_e.fromISO(u,a),k=m.isValid}catch{k=!1}if(g&&k)return wt.fromDateTimes(f,m);if(g){const w=Me.fromISO(u,a);if(w.isValid)return wt.after(f,w)}else if(k){const w=Me.fromISO(l,a);if(w.isValid)return wt.before(m,w)}}return wt.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static isInterval(i){return i&&i.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(i="milliseconds"){return this.isValid?this.toDuration(i).get(i):NaN}count(i="milliseconds"){if(!this.isValid)return NaN;const a=this.start.startOf(i),l=this.end.startOf(i);return Math.floor(l.diff(a,i).get(i))+(l.valueOf()!==this.end.valueOf())}hasSame(i){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,i):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(i){return this.isValid?this.s>i:!1}isBefore(i){return this.isValid?this.e<=i:!1}contains(i){return this.isValid?this.s<=i&&this.e>i:!1}set({start:i,end:a}={}){return this.isValid?wt.fromDateTimes(i||this.s,a||this.e):this}splitAt(...i){if(!this.isValid)return[];const a=i.map(qc).filter(g=>this.contains(g)).sort(),l=[];let{s:u}=this,f=0;for(;u<this.e;){const g=a[f]||this.e,m=+g>+this.e?this.e:g;l.push(wt.fromDateTimes(u,m)),u=m,f+=1}return l}splitBy(i){const a=Me.fromDurationLike(i);if(!this.isValid||!a.isValid||a.as("milliseconds")===0)return[];let{s:l}=this,u=1,f;const g=[];for(;l<this.e;){const m=this.start.plus(a.mapUnits(k=>k*u));f=+m>+this.e?this.e:m,g.push(wt.fromDateTimes(l,f)),l=f,u+=1}return g}divideEqually(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]}overlaps(i){return this.e>i.s&&this.s<i.e}abutsStart(i){return this.isValid?+this.e==+i.s:!1}abutsEnd(i){return this.isValid?+i.e==+this.s:!1}engulfs(i){return this.isValid?this.s<=i.s&&this.e>=i.e:!1}equals(i){return!this.isValid||!i.isValid?!1:this.s.equals(i.s)&&this.e.equals(i.e)}intersection(i){if(!this.isValid)return this;const a=this.s>i.s?this.s:i.s,l=this.e<i.e?this.e:i.e;return a>=l?null:wt.fromDateTimes(a,l)}union(i){if(!this.isValid)return this;const a=this.s<i.s?this.s:i.s,l=this.e>i.e?this.e:i.e;return wt.fromDateTimes(a,l)}static merge(i){const[a,l]=i.sort((u,f)=>u.s-f.s).reduce(([u,f],g)=>f?f.overlaps(g)||f.abutsStart(g)?[u,f.union(g)]:[u.concat([f]),g]:[u,g],[[],null]);return l&&a.push(l),a}static xor(i){let a=null,l=0;const u=[],f=i.map(k=>[{time:k.s,type:"s"},{time:k.e,type:"e"}]),g=Array.prototype.concat(...f),m=g.sort((k,w)=>k.time-w.time);for(const k of m)l+=k.type==="s"?1:-1,l===1?a=k.time:(a&&+a!=+k.time&&u.push(wt.fromDateTimes(a,k.time)),a=null);return wt.merge(u)}difference(...i){return wt.xor([this].concat(i)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Hs}toLocaleString(i=Zh,a={}){return this.isValid?tn.create(this.s.loc.clone(a),i).formatInterval(this):Hs}toISO(i){return this.isValid?`${this.s.toISO(i)}/${this.e.toISO(i)}`:Hs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hs}toISOTime(i){return this.isValid?`${this.s.toISOTime(i)}/${this.e.toISOTime(i)}`:Hs}toFormat(i,{separator:a="  "}={}){return this.isValid?`${this.s.toFormat(i)}${a}${this.e.toFormat(i)}`:Hs}toDuration(i,a){return this.isValid?this.e.diff(this.s,i,a):Me.invalid(this.invalidReason)}mapEndpoints(i){return wt.fromDateTimes(i(this.s),i(this.e))}}class Ju{static hasDST(i=St.defaultZone){const a=_e.now().setZone(i).set({month:12});return!i.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(i){return kr.isValidZone(i)}static normalizeZone(i){return qr(i,St.defaultZone)}static months(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ot.create(a,l,f)).months(i)}static monthsFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ot.create(a,l,f)).months(i,!0)}static weekdays(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ot.create(a,l,null)).weekdays(i)}static weekdaysFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ot.create(a,l,null)).weekdays(i,!0)}static meridiems({locale:i=null}={}){return ot.create(i).meridiems()}static eras(i="short",{locale:a=null}={}){return ot.create(a,null,"gregory").eras(i)}static features(){return{relative:OI()}}}function nS(o,i){const a=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=a(i)-a(o);return Math.floor(Me.fromMillis(l).as("days"))}function gY(o,i,a){const l=[["years",(k,w)=>w.year-k.year],["quarters",(k,w)=>w.quarter-k.quarter+(w.year-k.year)*4],["months",(k,w)=>w.month-k.month+(w.year-k.year)*12],["weeks",(k,w)=>{const A=nS(k,w);return(A-A%7)/7}],["days",nS]],u={},f=o;let g,m;for(const[k,w]of l)a.indexOf(k)>=0&&(g=k,u[k]=w(o,i),m=f.plus(u),m>i?(u[k]--,o=f.plus(u),o>i&&(m=o,u[k]--,o=f.plus(u))):o=m);return[o,u,m,g]}function pY(o,i,a,l){let[u,f,g,m]=gY(o,i,a);const k=i-u,w=a.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);w.length===0&&(g<i&&(g=u.plus({[m]:1})),g!==u&&(f[m]=(f[m]||0)+k/(g-u)));const A=Me.fromObject(f,l);return w.length>0?Me.fromMillis(k,l).shiftTo(...w).plus(A):A}const q_={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},iS={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mY=q_.hanidec.replace(/[\[|\]]/g,"").split("");function kY(o){let i=parseInt(o,10);if(isNaN(i)){i="";for(let a=0;a<o.length;a++){const l=o.charCodeAt(a);if(o[a].search(q_.hanidec)!==-1)i+=mY.indexOf(o[a]);else for(const u in iS){const[f,g]=iS[u];l>=f&&l<=g&&(i+=l-f)}}return parseInt(i,10)}else return i}function hi({numberingSystem:o},i=""){return new RegExp(`${q_[o||"latn"]}${i}`)}const wY="missing Intl.DateTimeFormat.formatToParts support";function Le(o,i=a=>a){return{regex:o,deser:([a])=>i(kY(a))}}const bY=String.fromCharCode(160),JI=`[ ${bY}]`,XI=new RegExp(JI,"g");function _Y(o){return o.replace(/\./g,"\\.?").replace(XI,JI)}function rS(o){return o.replace(/\./g,"").replace(XI," ").toLowerCase()}function fi(o,i){return o===null?null:{regex:RegExp(o.map(_Y).join("|")),deser:([a])=>o.findIndex(l=>rS(a)===rS(l))+i}}function oS(o,i){return{regex:o,deser:([,a,l])=>yf(a,l),groups:i}}function Xu(o){return{regex:o,deser:([i])=>i}}function vY(o){return o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function yY(o,i){const a=hi(i),l=hi(i,"{2}"),u=hi(i,"{3}"),f=hi(i,"{4}"),g=hi(i,"{6}"),m=hi(i,"{1,2}"),k=hi(i,"{1,3}"),w=hi(i,"{1,6}"),A=hi(i,"{1,9}"),_=hi(i,"{2,4}"),y=hi(i,"{4,6}"),x=O=>({regex:RegExp(vY(O.val)),deser:([I])=>I,literal:!0}),T=(O=>{if(o.literal)return x(O);switch(O.val){case"G":return fi(i.eras("short"),0);case"GG":return fi(i.eras("long"),0);case"y":return Le(w);case"yy":return Le(_,zb);case"yyyy":return Le(f);case"yyyyy":return Le(y);case"yyyyyy":return Le(g);case"M":return Le(m);case"MM":return Le(l);case"MMM":return fi(i.months("short",!0),1);case"MMMM":return fi(i.months("long",!0),1);case"L":return Le(m);case"LL":return Le(l);case"LLL":return fi(i.months("short",!1),1);case"LLLL":return fi(i.months("long",!1),1);case"d":return Le(m);case"dd":return Le(l);case"o":return Le(k);case"ooo":return Le(u);case"HH":return Le(l);case"H":return Le(m);case"hh":return Le(l);case"h":return Le(m);case"mm":return Le(l);case"m":return Le(m);case"q":return Le(m);case"qq":return Le(l);case"s":return Le(m);case"ss":return Le(l);case"S":return Le(k);case"SSS":return Le(u);case"u":return Xu(A);case"uu":return Xu(m);case"uuu":return Le(a);case"a":return fi(i.meridiems(),0);case"kkkk":return Le(f);case"kk":return Le(_,zb);case"W":return Le(m);case"WW":return Le(l);case"E":case"c":return Le(a);case"EEE":return fi(i.weekdays("short",!1),1);case"EEEE":return fi(i.weekdays("long",!1),1);case"ccc":return fi(i.weekdays("short",!0),1);case"cccc":return fi(i.weekdays("long",!0),1);case"Z":case"ZZ":return oS(new RegExp(`([+-]${m.source})(?::(${l.source}))?`),2);case"ZZZ":return oS(new RegExp(`([+-]${m.source})(${l.source})?`),2);case"z":return Xu(/[a-z_+-/]{1,256}?/i);case" ":return Xu(/[^\S\n\r]/);default:return x(O)}})(o)||{invalidReason:wY};return T.token=o,T}const AY={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function CY(o,i,a){const{type:l,value:u}=o;if(l==="literal"){const k=/^\s+$/.test(u);return{literal:!k,val:k?" ":u}}const f=i[l];let g=l;l==="hour"&&(i.hour12!=null?g=i.hour12?"hour12":"hour24":i.hourCycle!=null?i.hourCycle==="h11"||i.hourCycle==="h12"?g="hour12":g="hour24":g=a.hour12?"hour12":"hour24");let m=AY[g];if(typeof m=="object"&&(m=m[f]),m)return{literal:!1,val:m}}function xY(o){return[`^${o.map(a=>a.regex).reduce((a,l)=>`${a}(${l.source})`,"")}$`,o]}function EY(o,i,a){const l=o.match(i);if(l){const u={};let f=1;for(const g in a)if(ya(a,g)){const m=a[g],k=m.groups?m.groups+1:1;!m.literal&&m.token&&(u[m.token.val[0]]=m.deser(l.slice(f,f+k))),f+=k}return[l,u]}else return[l,{}]}function SY(o){const i=f=>{switch(f){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let a=null,l;return Ee(o.z)||(a=kr.create(o.z)),Ee(o.Z)||(a||(a=new sn(o.Z)),l=o.Z),Ee(o.q)||(o.M=(o.q-1)*3+1),Ee(o.h)||(o.h<12&&o.a===1?o.h+=12:o.h===12&&o.a===0&&(o.h=0)),o.G===0&&o.y&&(o.y=-o.y),Ee(o.u)||(o.S=V_(o.u)),[Object.keys(o).reduce((f,g)=>{const m=i(g);return m&&(f[m]=o[g]),f},{}),a,l]}let bw=null;function DY(){return bw||(bw=_e.fromMillis(1555555555555)),bw}function TY(o,i){if(o.literal)return o;const a=tn.macroTokenToFormatOpts(o.val),l=n5(a,i);return l==null||l.includes(void 0)?o:l}function e5(o,i){return Array.prototype.concat(...o.map(a=>TY(a,i)))}function t5(o,i,a){const l=e5(tn.parseFormat(a),o),u=l.map(g=>yY(g,o)),f=u.find(g=>g.invalidReason);if(f)return{input:i,tokens:l,invalidReason:f.invalidReason};{const[g,m]=xY(u),k=RegExp(g,"i"),[w,A]=EY(i,k,m),[_,y,x]=A?SY(A):[null,null,void 0];if(ya(A,"a")&&ya(A,"H"))throw new Jc("Can't include meridiem when specifying 24-hour format");return{input:i,tokens:l,regex:k,rawMatches:w,matches:A,result:_,zone:y,specificOffset:x}}}function IY(o,i,a){const{result:l,zone:u,specificOffset:f,invalidReason:g}=t5(o,i,a);return[l,u,f,g]}function n5(o,i){if(!o)return null;const l=tn.create(i,o).dtFormatter(DY()),u=l.formatToParts(),f=l.resolvedOptions();return u.map(g=>CY(g,o,f))}const i5=[0,31,59,90,120,151,181,212,243,273,304,334],r5=[0,31,60,91,121,152,182,213,244,274,305,335];function ei(o,i){return new wi("unit out of range",`you specified ${i} (of type ${typeof i}) as a ${o}, which is invalid`)}function o5(o,i,a){const l=new Date(Date.UTC(o,i-1,a));o<100&&o>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const u=l.getUTCDay();return u===0?7:u}function s5(o,i,a){return a+($l(o)?r5:i5)[i-1]}function a5(o,i){const a=$l(o)?r5:i5,l=a.findIndex(f=>f<i),u=i-a[l];return{month:l+1,day:u}}function Lb(o){const{year:i,month:a,day:l}=o,u=s5(i,a,l),f=o5(i,a,l);let g=Math.floor((u-f+10)/7),m;return g<1?(m=i-1,g=Qh(m)):g>Qh(i)?(m=i+1,g=1):m=i,{weekYear:m,weekNumber:g,weekday:f,...Af(o)}}function sS(o){const{weekYear:i,weekNumber:a,weekday:l}=o,u=o5(i,1,4),f=ul(i);let g=a*7+l-u-3,m;g<1?(m=i-1,g+=ul(m)):g>f?(m=i+1,g-=ul(i)):m=i;const{month:k,day:w}=a5(m,g);return{year:m,month:k,day:w,...Af(o)}}function _w(o){const{year:i,month:a,day:l}=o,u=s5(i,a,l);return{year:i,ordinal:u,...Af(o)}}function aS(o){const{year:i,ordinal:a}=o,{month:l,day:u}=a5(i,a);return{year:i,month:l,day:u,...Af(o)}}function MY(o){const i=_f(o.weekYear),a=dr(o.weekNumber,1,Qh(o.weekYear)),l=dr(o.weekday,1,7);return i?a?l?!1:ei("weekday",o.weekday):ei("week",o.week):ei("weekYear",o.weekYear)}function NY(o){const i=_f(o.year),a=dr(o.ordinal,1,ul(o.year));return i?a?!1:ei("ordinal",o.ordinal):ei("year",o.year)}function c5(o){const i=_f(o.year),a=dr(o.month,1,12),l=dr(o.day,1,Kh(o.year,o.month));return i?a?l?!1:ei("day",o.day):ei("month",o.month):ei("year",o.year)}function l5(o){const{hour:i,minute:a,second:l,millisecond:u}=o,f=dr(i,0,23)||i===24&&a===0&&l===0&&u===0,g=dr(a,0,59),m=dr(l,0,59),k=dr(u,0,999);return f?g?m?k?!1:ei("millisecond",u):ei("second",l):ei("minute",a):ei("hour",i)}const vw="Invalid DateTime",cS=864e13;function eh(o){return new wi("unsupported zone",`the zone "${o.name}" is not supported`)}function yw(o){return o.weekData===null&&(o.weekData=Lb(o.c)),o.weekData}function Vo(o,i){const a={ts:o.ts,zone:o.zone,c:o.c,o:o.o,loc:o.loc,invalid:o.invalid};return new _e({...a,...i,old:a})}function d5(o,i,a){let l=o-i*60*1e3;const u=a.offset(l);if(i===u)return[l,i];l-=(u-i)*60*1e3;const f=a.offset(l);return u===f?[l,u]:[o-Math.min(u,f)*60*1e3,Math.max(u,f)]}function th(o,i){o+=i*60*1e3;const a=new Date(o);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function _h(o,i,a){return d5(vf(o),i,a)}function lS(o,i){const a=o.o,l=o.c.year+Math.trunc(i.years),u=o.c.month+Math.trunc(i.months)+Math.trunc(i.quarters)*3,f={...o.c,year:l,month:u,day:Math.min(o.c.day,Kh(l,u))+Math.trunc(i.days)+Math.trunc(i.weeks)*7},g=Me.fromObject({years:i.years-Math.trunc(i.years),quarters:i.quarters-Math.trunc(i.quarters),months:i.months-Math.trunc(i.months),weeks:i.weeks-Math.trunc(i.weeks),days:i.days-Math.trunc(i.days),hours:i.hours,minutes:i.minutes,seconds:i.seconds,milliseconds:i.milliseconds}).as("milliseconds"),m=vf(f);let[k,w]=d5(m,a,o.zone);return g!==0&&(k+=g,w=o.zone.offset(k)),{ts:k,o:w}}function Wc(o,i,a,l,u,f){const{setZone:g,zone:m}=a;if(o&&Object.keys(o).length!==0||i){const k=i||m,w=_e.fromObject(o,{...a,zone:k,specificOffset:f});return g?w:w.setZone(m)}else return _e.invalid(new wi("unparsable",`the input "${u}" can't be parsed as ${l}`))}function nh(o,i,a=!0){return o.isValid?tn.create(ot.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(o,i):null}function Aw(o,i){const a=o.c.year>9999||o.c.year<0;let l="";return a&&o.c.year>=0&&(l+="+"),l+=Dt(o.c.year,a?6:4),i?(l+="-",l+=Dt(o.c.month),l+="-",l+=Dt(o.c.day)):(l+=Dt(o.c.month),l+=Dt(o.c.day)),l}function dS(o,i,a,l,u,f){let g=Dt(o.c.hour);return i?(g+=":",g+=Dt(o.c.minute),(o.c.millisecond!==0||o.c.second!==0||!a)&&(g+=":")):g+=Dt(o.c.minute),(o.c.millisecond!==0||o.c.second!==0||!a)&&(g+=Dt(o.c.second),(o.c.millisecond!==0||!l)&&(g+=".",g+=Dt(o.c.millisecond,3))),u&&(o.isOffsetFixed&&o.offset===0&&!f?g+="Z":o.o<0?(g+="-",g+=Dt(Math.trunc(-o.o/60)),g+=":",g+=Dt(Math.trunc(-o.o%60))):(g+="+",g+=Dt(Math.trunc(o.o/60)),g+=":",g+=Dt(Math.trunc(o.o%60)))),f&&(g+="["+o.zone.ianaName+"]"),g}const u5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},PY={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},OY={ordinal:1,hour:0,minute:0,second:0,millisecond:0},h5=["year","month","day","hour","minute","second","millisecond"],BY=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zY=["year","ordinal","hour","minute","second","millisecond"];function uS(o){const i={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[o.toLowerCase()];if(!i)throw new gI(o);return i}function hS(o,i){const a=qr(i.zone,St.defaultZone),l=ot.fromObject(i),u=St.now();let f,g;if(Ee(o.year))f=u;else{for(const w of h5)Ee(o[w])&&(o[w]=u5[w]);const m=c5(o)||l5(o);if(m)return _e.invalid(m);const k=a.offset(u);[f,g]=_h(o,k,a)}return new _e({ts:f,zone:a,loc:l,o:g})}function fS(o,i,a){const l=Ee(a.round)?!0:a.round,u=(g,m)=>(g=U_(g,l||a.calendary?0:2,!0),i.loc.clone(a).relFormatter(a).format(g,m)),f=g=>a.calendary?i.hasSame(o,g)?0:i.startOf(g).diff(o.startOf(g),g).get(g):i.diff(o,g).get(g);if(a.unit)return u(f(a.unit),a.unit);for(const g of a.units){const m=f(g);if(Math.abs(m)>=1)return u(m,g)}return u(o>i?-0:0,a.units[a.units.length-1])}function gS(o){let i={},a;return o.length>0&&typeof o[o.length-1]=="object"?(i=o[o.length-1],a=Array.from(o).slice(0,o.length-1)):a=Array.from(o),[i,a]}class _e{constructor(i){const a=i.zone||St.defaultZone;let l=i.invalid||(Number.isNaN(i.ts)?new wi("invalid input"):null)||(a.isValid?null:eh(a));this.ts=Ee(i.ts)?St.now():i.ts;let u=null,f=null;if(!l)if(i.old&&i.old.ts===this.ts&&i.old.zone.equals(a))[u,f]=[i.old.c,i.old.o];else{const m=a.offset(this.ts);u=th(this.ts,m),l=Number.isNaN(u.year)?new wi("invalid input"):null,u=l?null:u,f=l?null:m}this._zone=a,this.loc=i.loc||ot.create(),this.invalid=l,this.weekData=null,this.c=u,this.o=f,this.isLuxonDateTime=!0}static now(){return new _e({})}static local(){const[i,a]=gS(arguments),[l,u,f,g,m,k,w]=a;return hS({year:l,month:u,day:f,hour:g,minute:m,second:k,millisecond:w},i)}static utc(){const[i,a]=gS(arguments),[l,u,f,g,m,k,w]=a;return i.zone=sn.utcInstance,hS({year:l,month:u,day:f,hour:g,minute:m,second:k,millisecond:w},i)}static fromJSDate(i,a={}){const l=dG(i)?i.valueOf():NaN;if(Number.isNaN(l))return _e.invalid("invalid input");const u=qr(a.zone,St.defaultZone);return u.isValid?new _e({ts:l,zone:u,loc:ot.fromObject(a)}):_e.invalid(eh(u))}static fromMillis(i,a={}){if(is(i))return i<-cS||i>cS?_e.invalid("Timestamp out of range"):new _e({ts:i,zone:qr(a.zone,St.defaultZone),loc:ot.fromObject(a)});throw new Jn(`fromMillis requires a numerical input, but received a ${typeof i} with value ${i}`)}static fromSeconds(i,a={}){if(is(i))return new _e({ts:i*1e3,zone:qr(a.zone,St.defaultZone),loc:ot.fromObject(a)});throw new Jn("fromSeconds requires a numerical input")}static fromObject(i,a={}){i=i||{};const l=qr(a.zone,St.defaultZone);if(!l.isValid)return _e.invalid(eh(l));const u=St.now(),f=Ee(a.specificOffset)?l.offset(u):a.specificOffset,g=Jh(i,uS),m=!Ee(g.ordinal),k=!Ee(g.year),w=!Ee(g.month)||!Ee(g.day),A=k||w,_=g.weekYear||g.weekNumber,y=ot.fromObject(a);if((A||m)&&_)throw new Jc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new Jc("Can't mix ordinal dates with month/day");const x=_||g.weekday&&!A;let S,T,O=th(u,f);x?(S=BY,T=PY,O=Lb(O)):m?(S=zY,T=OY,O=_w(O)):(S=h5,T=u5);let I=!1;for(const Y of S){const te=g[Y];Ee(te)?I?g[Y]=T[Y]:g[Y]=O[Y]:I=!0}const M=x?MY(g):m?NY(g):c5(g),P=M||l5(g);if(P)return _e.invalid(P);const j=x?sS(g):m?aS(g):g,[F,$]=_h(j,f,l),W=new _e({ts:F,zone:l,o:$,loc:y});return g.weekday&&A&&i.weekday!==W.weekday?_e.invalid("mismatched weekday",`you can't specify both a weekday of ${g.weekday} and a date of ${W.toISO()}`):W}static fromISO(i,a={}){const[l,u]=XG(i);return Wc(l,u,a,"ISO 8601",i)}static fromRFC2822(i,a={}){const[l,u]=eY(i);return Wc(l,u,a,"RFC 2822",i)}static fromHTTP(i,a={}){const[l,u]=tY(i);return Wc(l,u,a,"HTTP",a)}static fromFormat(i,a,l={}){if(Ee(i)||Ee(a))throw new Jn("fromFormat requires an input string and a format");const{locale:u=null,numberingSystem:f=null}=l,g=ot.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0}),[m,k,w,A]=IY(g,i,a);return A?_e.invalid(A):Wc(m,k,l,`format ${a}`,i,w)}static fromString(i,a,l={}){return _e.fromFormat(i,a,l)}static fromSQL(i,a={}){const[l,u]=cY(i);return Wc(l,u,a,"SQL",i)}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the DateTime is invalid");const l=i instanceof wi?i:new wi(i,a);if(St.throwOnInvalid)throw new Vq(l);return new _e({invalid:l})}static isDateTime(i){return i&&i.isLuxonDateTime||!1}static parseFormatForOpts(i,a={}){const l=n5(i,ot.fromObject(a));return l?l.map(u=>u?u.val:null).join(""):null}static expandFormat(i,a={}){return e5(tn.parseFormat(i),ot.fromObject(a)).map(u=>u.val).join("")}get(i){return this[i]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?yw(this).weekYear:NaN}get weekNumber(){return this.isValid?yw(this).weekNumber:NaN}get weekday(){return this.isValid?yw(this).weekday:NaN}get ordinal(){return this.isValid?_w(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ju.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ju.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ju.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ju.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const i=864e5,a=6e4,l=vf(this.c),u=this.zone.offset(l-i),f=this.zone.offset(l+i),g=this.zone.offset(l-u*a),m=this.zone.offset(l-f*a);if(g===m)return[this];const k=l-g*a,w=l-m*a,A=th(k,g),_=th(w,m);return A.hour===_.hour&&A.minute===_.minute&&A.second===_.second&&A.millisecond===_.millisecond?[Vo(this,{ts:k}),Vo(this,{ts:w})]:[this]}get isInLeapYear(){return $l(this.year)}get daysInMonth(){return Kh(this.year,this.month)}get daysInYear(){return this.isValid?ul(this.year):NaN}get weeksInWeekYear(){return this.isValid?Qh(this.weekYear):NaN}resolvedLocaleOptions(i={}){const{locale:a,numberingSystem:l,calendar:u}=tn.create(this.loc.clone(i),i).resolvedOptions(this);return{locale:a,numberingSystem:l,outputCalendar:u}}toUTC(i=0,a={}){return this.setZone(sn.instance(i),a)}toLocal(){return this.setZone(St.defaultZone)}setZone(i,{keepLocalTime:a=!1,keepCalendarTime:l=!1}={}){if(i=qr(i,St.defaultZone),i.equals(this.zone))return this;if(i.isValid){let u=this.ts;if(a||l){const f=i.offset(this.ts),g=this.toObject();[u]=_h(g,f,i)}return Vo(this,{ts:u,zone:i})}else return _e.invalid(eh(i))}reconfigure({locale:i,numberingSystem:a,outputCalendar:l}={}){const u=this.loc.clone({locale:i,numberingSystem:a,outputCalendar:l});return Vo(this,{loc:u})}setLocale(i){return this.reconfigure({locale:i})}set(i){if(!this.isValid)return this;const a=Jh(i,uS),l=!Ee(a.weekYear)||!Ee(a.weekNumber)||!Ee(a.weekday),u=!Ee(a.ordinal),f=!Ee(a.year),g=!Ee(a.month)||!Ee(a.day),m=f||g,k=a.weekYear||a.weekNumber;if((m||u)&&k)throw new Jc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&u)throw new Jc("Can't mix ordinal dates with month/day");let w;l?w=sS({...Lb(this.c),...a}):Ee(a.ordinal)?(w={...this.toObject(),...a},Ee(a.day)&&(w.day=Math.min(Kh(w.year,w.month),w.day))):w=aS({..._w(this.c),...a});const[A,_]=_h(w,this.o,this.zone);return Vo(this,{ts:A,o:_})}plus(i){if(!this.isValid)return this;const a=Me.fromDurationLike(i);return Vo(this,lS(this,a))}minus(i){if(!this.isValid)return this;const a=Me.fromDurationLike(i).negate();return Vo(this,lS(this,a))}startOf(i){if(!this.isValid)return this;const a={},l=Me.normalizeUnit(i);switch(l){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(l==="weeks"&&(a.weekday=1),l==="quarters"){const u=Math.ceil(this.month/3);a.month=(u-1)*3+1}return this.set(a)}endOf(i){return this.isValid?this.plus({[i]:1}).startOf(i).minus(1):this}toFormat(i,a={}){return this.isValid?tn.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,i):vw}toLocaleString(i=Zh,a={}){return this.isValid?tn.create(this.loc.clone(a),i).formatDateTime(this):vw}toLocaleParts(i={}){return this.isValid?tn.create(this.loc.clone(i),i).formatDateTimeParts(this):[]}toISO({format:i="extended",suppressSeconds:a=!1,suppressMilliseconds:l=!1,includeOffset:u=!0,extendedZone:f=!1}={}){if(!this.isValid)return null;const g=i==="extended";let m=Aw(this,g);return m+="T",m+=dS(this,g,a,l,u,f),m}toISODate({format:i="extended"}={}){return this.isValid?Aw(this,i==="extended"):null}toISOWeekDate(){return nh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:i=!1,suppressSeconds:a=!1,includeOffset:l=!0,includePrefix:u=!1,extendedZone:f=!1,format:g="extended"}={}){return this.isValid?(u?"T":"")+dS(this,g==="extended",a,i,l,f):null}toRFC2822(){return nh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return nh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Aw(this,!0):null}toSQLTime({includeOffset:i=!0,includeZone:a=!1,includeOffsetSpace:l=!0}={}){let u="HH:mm:ss.SSS";return(a||i)&&(l&&(u+=" "),a?u+="z":i&&(u+="ZZ")),nh(this,u,!0)}toSQL(i={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(i)}`:null}toString(){return this.isValid?this.toISO():vw}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(i={}){if(!this.isValid)return{};const a={...this.c};return i.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale),a}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(i,a="milliseconds",l={}){if(!this.isValid||!i.isValid)return Me.invalid("created by diffing an invalid DateTime");const u={locale:this.locale,numberingSystem:this.numberingSystem,...l},f=uG(a).map(Me.normalizeUnit),g=i.valueOf()>this.valueOf(),m=g?this:i,k=g?i:this,w=pY(m,k,f,u);return g?w.negate():w}diffNow(i="milliseconds",a={}){return this.diff(_e.now(),i,a)}until(i){return this.isValid?wt.fromDateTimes(this,i):this}hasSame(i,a){if(!this.isValid)return!1;const l=i.valueOf(),u=this.setZone(i.zone,{keepLocalTime:!0});return u.startOf(a)<=l&&l<=u.endOf(a)}equals(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)}toRelative(i={}){if(!this.isValid)return null;const a=i.base||_e.fromObject({},{zone:this.zone}),l=i.padding?this<a?-i.padding:i.padding:0;let u=["years","months","days","hours","minutes","seconds"],f=i.unit;return Array.isArray(i.unit)&&(u=i.unit,f=void 0),fS(a,this.plus(l),{...i,numeric:"always",units:u,unit:f})}toRelativeCalendar(i={}){return this.isValid?fS(i.base||_e.fromObject({},{zone:this.zone}),this,{...i,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...i){if(!i.every(_e.isDateTime))throw new Jn("min requires all arguments be DateTimes");return Q2(i,a=>a.valueOf(),Math.min)}static max(...i){if(!i.every(_e.isDateTime))throw new Jn("max requires all arguments be DateTimes");return Q2(i,a=>a.valueOf(),Math.max)}static fromFormatExplain(i,a,l={}){const{locale:u=null,numberingSystem:f=null}=l,g=ot.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0});return t5(g,i,a)}static fromStringExplain(i,a,l={}){return _e.fromFormatExplain(i,a,l)}static get DATE_SHORT(){return Zh}static get DATE_MED(){return pI}static get DATE_MED_WITH_WEEKDAY(){return $q}static get DATE_FULL(){return mI}static get DATE_HUGE(){return kI}static get TIME_SIMPLE(){return wI}static get TIME_WITH_SECONDS(){return bI}static get TIME_WITH_SHORT_OFFSET(){return _I}static get TIME_WITH_LONG_OFFSET(){return vI}static get TIME_24_SIMPLE(){return yI}static get TIME_24_WITH_SECONDS(){return AI}static get TIME_24_WITH_SHORT_OFFSET(){return CI}static get TIME_24_WITH_LONG_OFFSET(){return xI}static get DATETIME_SHORT(){return EI}static get DATETIME_SHORT_WITH_SECONDS(){return SI}static get DATETIME_MED(){return DI}static get DATETIME_MED_WITH_SECONDS(){return TI}static get DATETIME_MED_WITH_WEEKDAY(){return Wq}static get DATETIME_FULL(){return II}static get DATETIME_FULL_WITH_SECONDS(){return MI}static get DATETIME_HUGE(){return NI}static get DATETIME_HUGE_WITH_SECONDS(){return PI}}function qc(o){if(_e.isDateTime(o))return o;if(o&&o.valueOf&&is(o.valueOf()))return _e.fromJSDate(o);if(o&&typeof o=="object")return _e.fromObject(o);throw new Jn(`Unknown datetime argument: ${o}, of type ${typeof o}`)}const pS=["year","month","week","day","hour","minute","second"],Xh=o=>{const a=_e.fromISO(o).diffNow().shiftTo(...pS),l=pS.find(f=>a.get(f)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(a.as(l)),l)},f5="/Book-Chronicles/assets/like-21544d1e.png";function LY({id:o,title:i,created_at:a,vote:l,category:u}){let f="back-pastel-green pastel-green";return u=="review"?f="back-pastel-purple pastel-purple":u=="recommend"&&(f="back-pastel-red pastel-red"),H.jsxs(Xo,{className:"post-preview",to:`/post/${o}`,children:[H.jsxs("div",{className:"post-preview-top",children:[H.jsxs("p",{className:"time-ago",children:["Posted ",a?Xh(a):" "]}),H.jsxs("p",{className:`post-category ${f}`,children:["#",u]})]}),H.jsx("h2",{className:"pastel-black",children:i}),H.jsxs("div",{className:"vote-image",children:[H.jsx("img",{src:f5,className:"upvotes, pastel-red"}),H.jsx("span",{className:"",children:H.jsxs("b",{className:"pastel-orange",children:[l," "]})})]})]})}function jY({supabase:o}){const[i,a]=J.useState([]),[l,u]=J.useState({created_at:!1,vote:!0}),[f,g]=J.useState(""),m=async()=>{const{data:_,error:y}=await o.from("posts").select().order("created_at",{ascending:!1});a(_)};J.useEffect(()=>{m()},[]);const k=_=>{g(_.target.value)},w=()=>Fq(f,i,["title","category"]).map(y=>H.jsx(LY,{id:y.id,title:y.title,created_at:y.created_at,vote:y.vote,category:y.category},y.id)),A=_=>{const y=JSON.parse(JSON.stringify(i));_==="vote"?(l.vote?y.sort((x,S)=>S.vote-x.vote):y.sort((x,S)=>x.vote-S.vote),u(x=>({...x,vote:!l.vote}))):(l.created_at?y.sort((x,S)=>new Date(S.created_at)-new Date(x.created_at)):y.sort((x,S)=>new Date(x.created_at)-new Date(S.created_at)),u(x=>({...x,created_at:!l.created_at}))),a(y)};return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"home-title-outside-container",children:H.jsxs("div",{className:"home-title-container",children:[H.jsxs("h1",{className:"home-title",children:[H.jsx("span",{className:"pastel-black",children:"Home"})," ",H.jsx("span",{className:"accent",children:"Feed"})]}),H.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),H.jsx("div",{className:"input-outside-container",children:H.jsxs("div",{className:"input-container",children:[H.jsx("input",{className:"search-input",onChange:k,placeholder:"Search",type:"text"}),H.jsxs("div",{className:"sort-posts-container",children:[H.jsx("span",{children:"Order by: "}),H.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{A("created_at")},children:"Newest"}),H.jsx("button",{className:"btn sort-button",onClick:()=>{A("vote")},children:"Most Popular"})]})]})}),H.jsx("div",{className:"post-preview-container",children:w()})]})}function RY(){const o=Da();return J.useEffect(()=>{o("/")},[]),H.jsx("div",{children:"NotFound"})}var ef={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */ef.exports;(function(o,i){(function(a,l){o.exports=l(J)})(self,a=>(()=>{var l={703:(m,k,w)=>{var A=w(414);function _(){}function y(){}y.resetWarningCache=_,m.exports=function(){function x(O,I,M,P,j,F){if(F!==A){var $=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw $.name="Invariant Violation",$}}function S(){return x}x.isRequired=x;var T={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:S,element:x,elementType:x,instanceOf:S,node:x,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:y,resetWarningCache:_};return T.PropTypes=T,T}},697:(m,k,w)=>{m.exports=w(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=a}},u={};function f(m){var k=u[m];if(k!==void 0)return k.exports;var w=u[m]={exports:{}};return l[m](w,w.exports,f),w.exports}f.n=m=>{var k=m&&m.__esModule?()=>m.default:()=>m;return f.d(k,{a:k}),k},f.d=(m,k)=>{for(var w in k)f.o(k,w)&&!f.o(m,w)&&Object.defineProperty(m,w,{enumerable:!0,get:k[w]})},f.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k),f.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var g={};return(()=>{f.r(g),f.d(g,{CKEditor:()=>xi,CKEditorContext:()=>Sr});var m=f(787),k=f.n(m),w=f(697),A=f.n(w);const _=new Array(256).fill("").map((E,D)=>("0"+D.toString(16)).slice(-2));class y{constructor(D){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof D.crashNumberLimit=="number"?D.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof D.minimumNonErrorTimePeriod=="number"?D.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=z=>{const V="error"in z?z.error:z.reason;V instanceof Error&&this._handleError(V,z)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(D,z){this._listeners[D]||(this._listeners[D]=[]),this._listeners[D].push(z)}off(D,z){this._listeners[D]=this._listeners[D].filter(V=>V!==z)}_fire(D,...z){const V=this._listeners[D]||[];for(const ie of V)ie.apply(this,[null,...z])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(D,z){if(this._shouldReactToError(D)){this.crashes.push({message:D.message,stack:D.stack,filename:z instanceof ErrorEvent?z.filename:void 0,lineno:z instanceof ErrorEvent?z.lineno:void 0,colno:z instanceof ErrorEvent?z.colno:void 0,date:this._now()});const V=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:D,causesRestart:V}),V?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(D){return D.is&&D.is("CKEditorError")&&D.context!==void 0&&D.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(D)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(E,D=new Set){const z=[E],V=new Set;let ie=0;for(;z.length>ie;){const fe=z[ie++];if(!V.has(fe)&&S(fe)&&!D.has(fe))if(V.add(fe),Symbol.iterator in fe)try{for(const ke of fe)z.push(ke)}catch{}else for(const ke in fe)ke!=="defaultValue"&&z.push(fe[ke])}return V}function S(E){const D=Object.prototype.toString.call(E),z=typeof E;return!(z==="number"||z==="boolean"||z==="string"||z==="symbol"||z==="function"||D==="[object Date]"||D==="[object RegExp]"||D==="[object Module]"||E==null||E._watchdogExcluded||E instanceof EventTarget||E instanceof Event)}function T(E,D,z=new Set){if(E===D&&typeof(V=E)=="object"&&V!==null)return!0;var V;const ie=x(E,z),fe=x(D,z);for(const ke of ie)if(fe.has(ke))return!0;return!1}const O=function(E){var D=typeof E;return E!=null&&(D=="object"||D=="function")},I=typeof Zs=="object"&&Zs&&Zs.Object===Object&&Zs;var M=typeof self=="object"&&self&&self.Object===Object&&self;const P=I||M||Function("return this")(),j=function(){return P.Date.now()};var F=/\s/;const $=function(E){for(var D=E.length;D--&&F.test(E.charAt(D)););return D};var W=/^\s+/;const Y=function(E){return E&&E.slice(0,$(E)+1).replace(W,"")},te=P.Symbol;var ne=Object.prototype,ve=ne.hasOwnProperty,vt=ne.toString,Re=te?te.toStringTag:void 0;const at=function(E){var D=ve.call(E,Re),z=E[Re];try{E[Re]=void 0;var V=!0}catch{}var ie=vt.call(E);return V&&(D?E[Re]=z:delete E[Re]),ie};var dn=Object.prototype.toString;const L=function(E){return dn.call(E)};var Te=te?te.toStringTag:void 0;const X=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":Te&&Te in Object(E)?at(E):L(E)},de=function(E){return E!=null&&typeof E=="object"},me=function(E){return typeof E=="symbol"||de(E)&&X(E)=="[object Symbol]"};var tt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,vn=/^0o[0-7]+$/i,yn=parseInt;const Yt=function(E){if(typeof E=="number")return E;if(me(E))return NaN;if(O(E)){var D=typeof E.valueOf=="function"?E.valueOf():E;E=O(D)?D+"":D}if(typeof E!="string")return E===0?E:+E;E=Y(E);var z=gt.test(E);return z||vn.test(E)?yn(E.slice(2),z?2:8):tt.test(E)?NaN:+E};var Fn=Math.max,Ce=Math.min;const Ef=function(E,D,z){var V,ie,fe,ke,we,lt,Ke=0,vo=!1,Qi=!1,Hn=!0;if(typeof E!="function")throw new TypeError("Expected a function");function Dr(Kt){var oi=V,Ei=ie;return V=ie=void 0,Ke=Kt,ke=E.apply(Ei,oi)}function Ji(Kt){var oi=Kt-lt;return lt===void 0||oi>=D||oi<0||Qi&&Kt-Ke>=fe}function Xi(){var Kt=j();if(Ji(Kt))return Cn(Kt);we=setTimeout(Xi,function(oi){var Ei=D-(oi-lt);return Qi?Ce(Ei,fe-(oi-Ke)):Ei}(Kt))}function Cn(Kt){return we=void 0,Hn&&V?Dr(Kt):(V=ie=void 0,ke)}function xn(){var Kt=j(),oi=Ji(Kt);if(V=arguments,ie=this,lt=Kt,oi){if(we===void 0)return function(Ei){return Ke=Ei,we=setTimeout(Xi,D),vo?Dr(Ei):ke}(lt);if(Qi)return clearTimeout(we),we=setTimeout(Xi,D),Dr(lt)}return we===void 0&&(we=setTimeout(Xi,D)),ke}return D=Yt(D)||0,O(z)&&(vo=!!z.leading,fe=(Qi="maxWait"in z)?Fn(Yt(z.maxWait)||0,D):fe,Hn="trailing"in z?!!z.trailing:Hn),xn.cancel=function(){we!==void 0&&clearTimeout(we),Ke=0,V=lt=ie=we=void 0},xn.flush=function(){return we===void 0?ke:Cn(j())},xn},Zl=function(E,D,z){var V=!0,ie=!0;if(typeof E!="function")throw new TypeError("Expected a function");return O(z)&&(V="leading"in z?!!z.leading:V,ie="trailing"in z?!!z.trailing:ie),Ef(E,D,{leading:V,maxWait:D,trailing:ie})},za=function(){this.__data__=[],this.size=0},La=function(E,D){return E===D||E!=E&&D!=D},hs=function(E,D){for(var z=E.length;z--;)if(La(E[z][0],D))return z;return-1};var Sf=Array.prototype.splice;const ja=function(E){var D=this.__data__,z=hs(D,E);return!(z<0)&&(z==D.length-1?D.pop():Sf.call(D,z,1),--this.size,!0)},Kl=function(E){var D=this.__data__,z=hs(D,E);return z<0?void 0:D[z][1]},Ql=function(E){return hs(this.__data__,E)>-1},Df=function(E,D){var z=this.__data__,V=hs(z,E);return V<0?(++this.size,z.push([E,D])):z[V][1]=D,this};function Ai(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var V=E[D];this.set(V[0],V[1])}}Ai.prototype.clear=za,Ai.prototype.delete=ja,Ai.prototype.get=Kl,Ai.prototype.has=Ql,Ai.prototype.set=Df;const fs=Ai,Ze=function(){this.__data__=new fs,this.size=0},gs=function(E){var D=this.__data__,z=D.delete(E);return this.size=D.size,z},ps=function(E){return this.__data__.get(E)},ms=function(E){return this.__data__.has(E)},Hi=function(E){if(!O(E))return!1;var D=X(E);return D=="[object Function]"||D=="[object GeneratorFunction]"||D=="[object AsyncFunction]"||D=="[object Proxy]"},ks=P["__core-js_shared__"];var Ra=function(){var E=/[^.]+$/.exec(ks&&ks.keys&&ks.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}();const Be=function(E){return!!Ra&&Ra in E};var Fa=Function.prototype.toString;const $i=function(E){if(E!=null){try{return Fa.call(E)}catch{}try{return E+""}catch{}}return""};var Tf=/^\[object .+?Constructor\]$/,If=Function.prototype,Jl=Object.prototype,Mf=If.toString,Nf=Jl.hasOwnProperty,Pf=RegExp("^"+Mf.call(Nf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Xl=function(E){return!(!O(E)||Be(E))&&(Hi(E)?Pf:Tf).test($i(E))},Of=function(E,D){return E==null?void 0:E[D]},ri=function(E,D){var z=Of(E,D);return Xl(z)?z:void 0},pt=ri(P,"Map"),Mt=ri(Object,"create"),Bf=function(){this.__data__=Mt?Mt(null):{},this.size=0},ed=function(E){var D=this.has(E)&&delete this.__data__[E];return this.size-=D?1:0,D};var zf=Object.prototype.hasOwnProperty;const Lf=function(E){var D=this.__data__;if(Mt){var z=D[E];return z==="__lodash_hash_undefined__"?void 0:z}return zf.call(D,E)?D[E]:void 0};var An=Object.prototype.hasOwnProperty;const jf=function(E){var D=this.__data__;return Mt?D[E]!==void 0:An.call(D,E)},Vn=function(E,D){var z=this.__data__;return this.size+=this.has(E)?0:1,z[E]=Mt&&D===void 0?"__lodash_hash_undefined__":D,this};function Wi(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var V=E[D];this.set(V[0],V[1])}}Wi.prototype.clear=Bf,Wi.prototype.delete=ed,Wi.prototype.get=Lf,Wi.prototype.has=jf,Wi.prototype.set=Vn;const td=Wi,Rf=function(){this.size=0,this.__data__={hash:new td,map:new(pt||fs),string:new td}},go=function(E){var D=typeof E;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?E!=="__proto__":E===null},ws=function(E,D){var z=E.__data__;return go(D)?z[typeof D=="string"?"string":"hash"]:z.map},Ff=function(E){var D=ws(this,E).delete(E);return this.size-=D?1:0,D},Vf=function(E){return ws(this,E).get(E)},Uf=function(E){return ws(this,E).has(E)},Hf=function(E,D){var z=ws(this,E),V=z.size;return z.set(E,D),this.size+=z.size==V?0:1,this};function br(E){var D=-1,z=E==null?0:E.length;for(this.clear();++D<z;){var V=E[D];this.set(V[0],V[1])}}br.prototype.clear=Rf,br.prototype.delete=Ff,br.prototype.get=Vf,br.prototype.has=Uf,br.prototype.set=Hf;const $f=br,Wf=function(E,D){var z=this.__data__;if(z instanceof fs){var V=z.__data__;if(!pt||V.length<199)return V.push([E,D]),this.size=++z.size,this;z=this.__data__=new $f(V)}return z.set(E,D),this.size=z.size,this};function qi(E){var D=this.__data__=new fs(E);this.size=D.size}qi.prototype.clear=Ze,qi.prototype.delete=gs,qi.prototype.get=ps,qi.prototype.has=ms,qi.prototype.set=Wf;const qf=qi,Ci=function(E,D){for(var z=-1,V=E==null?0:E.length;++z<V&&D(E[z],z,E)!==!1;);return E},nd=function(){try{var E=ri(Object,"defineProperty");return E({},"",{}),E}catch{}}(),Ot=function(E,D,z){D=="__proto__"&&nd?nd(E,D,{configurable:!0,enumerable:!0,value:z,writable:!0}):E[D]=z};var Gf=Object.prototype.hasOwnProperty;const rn=function(E,D,z){var V=E[D];Gf.call(E,D)&&La(V,z)&&(z!==void 0||D in E)||Ot(E,D,z)},bs=function(E,D,z,V){var ie=!z;z||(z={});for(var fe=-1,ke=D.length;++fe<ke;){var we=D[fe],lt=V?V(z[we],E[we],we,z,E):void 0;lt===void 0&&(lt=E[we]),ie?Ot(z,we,lt):rn(z,we,lt)}return z},Yf=function(E,D){for(var z=-1,V=Array(E);++z<E;)V[z]=D(z);return V},Va=function(E){return de(E)&&X(E)=="[object Arguments]"};var _s=Object.prototype,Zf=_s.hasOwnProperty,id=_s.propertyIsEnumerable;const Kf=Va(function(){return arguments}())?Va:function(E){return de(E)&&Zf.call(E,"callee")&&!id.call(E,"callee")},po=Array.isArray,Qf=function(){return!1};var rd=i&&!i.nodeType&&i,od=rd&&!0&&o&&!o.nodeType&&o,Ua=od&&od.exports===rd?P.Buffer:void 0;const sd=(Ua?Ua.isBuffer:void 0)||Qf;var Jf=/^(?:0|[1-9]\d*)$/;const Xf=function(E,D){var z=typeof E;return!!(D=D??9007199254740991)&&(z=="number"||z!="symbol"&&Jf.test(E))&&E>-1&&E%1==0&&E<D},Zt=function(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=9007199254740991};var qe={};qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object Boolean]"]=qe["[object DataView]"]=qe["[object Date]"]=qe["[object Error]"]=qe["[object Function]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object WeakMap]"]=!1;const eg=function(E){return de(E)&&Zt(E.length)&&!!qe[X(E)]},Ha=function(E){return function(D){return E(D)}};var _r=i&&!i.nodeType&&i,mo=_r&&!0&&o&&!o.nodeType&&o,vr=mo&&mo.exports===_r&&I.process;const yr=function(){try{var E=mo&&mo.require&&mo.require("util").types;return E||vr&&vr.binding&&vr.binding("util")}catch{}}();var ad=yr&&yr.isTypedArray;const tg=ad?Ha(ad):eg;var ng=Object.prototype.hasOwnProperty;const cd=function(E,D){var z=po(E),V=!z&&Kf(E),ie=!z&&!V&&sd(E),fe=!z&&!V&&!ie&&tg(E),ke=z||V||ie||fe,we=ke?Yf(E.length,String):[],lt=we.length;for(var Ke in E)!D&&!ng.call(E,Ke)||ke&&(Ke=="length"||ie&&(Ke=="offset"||Ke=="parent")||fe&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||Xf(Ke,lt))||we.push(Ke);return we};var ig=Object.prototype;const $a=function(E){var D=E&&E.constructor;return E===(typeof D=="function"&&D.prototype||ig)},ld=function(E,D){return function(z){return E(D(z))}},rg=ld(Object.keys,Object);var og=Object.prototype.hasOwnProperty;const Ar=function(E){if(!$a(E))return rg(E);var D=[];for(var z in Object(E))og.call(E,z)&&z!="constructor"&&D.push(z);return D},ko=function(E){return E!=null&&Zt(E.length)&&!Hi(E)},Wa=function(E){return ko(E)?cd(E):Ar(E)},sg=function(E,D){return E&&bs(D,Wa(D),E)},ag=function(E){var D=[];if(E!=null)for(var z in Object(E))D.push(z);return D};var cg=Object.prototype.hasOwnProperty;const lg=function(E){if(!O(E))return ag(E);var D=$a(E),z=[];for(var V in E)(V!="constructor"||!D&&cg.call(E,V))&&z.push(V);return z},qa=function(E){return ko(E)?cd(E,!0):lg(E)},dg=function(E,D){return E&&bs(D,qa(D),E)};var dd=i&&!i.nodeType&&i,ud=dd&&!0&&o&&!o.nodeType&&o,hd=ud&&ud.exports===dd?P.Buffer:void 0,fd=hd?hd.allocUnsafe:void 0;const ug=function(E,D){if(D)return E.slice();var z=E.length,V=fd?fd(z):new E.constructor(z);return E.copy(V),V},hg=function(E,D){var z=-1,V=E.length;for(D||(D=Array(V));++z<V;)D[z]=E[z];return D},Gi=function(E,D){for(var z=-1,V=E==null?0:E.length,ie=0,fe=[];++z<V;){var ke=E[z];D(ke,z,E)&&(fe[ie++]=ke)}return fe},gd=function(){return[]};var Ga=Object.prototype.propertyIsEnumerable,Ya=Object.getOwnPropertySymbols;const Za=Ya?function(E){return E==null?[]:(E=Object(E),Gi(Ya(E),function(D){return Ga.call(E,D)}))}:gd,fg=function(E,D){return bs(E,Za(E),D)},pd=function(E,D){for(var z=-1,V=D.length,ie=E.length;++z<V;)E[ie+z]=D[z];return E},Ka=ld(Object.getPrototypeOf,Object),md=Object.getOwnPropertySymbols?function(E){for(var D=[];E;)pd(D,Za(E)),E=Ka(E);return D}:gd,Yi=function(E,D){return bs(E,md(E),D)},kd=function(E,D,z){var V=D(E);return po(E)?V:pd(V,z(E))},gg=function(E){return kd(E,Wa,Za)},pg=function(E){return kd(E,qa,md)},Qa=ri(P,"DataView"),Ja=ri(P,"Promise"),Xa=ri(P,"Set"),ec=ri(P,"WeakMap");var wd="[object Map]",bd="[object Promise]",_d="[object Set]",vd="[object WeakMap]",yd="[object DataView]",Zi=$i(Qa),mg=$i(pt),wo=$i(Ja),kg=$i(Xa),bo=$i(ec),Ki=X;(Qa&&Ki(new Qa(new ArrayBuffer(1)))!=yd||pt&&Ki(new pt)!=wd||Ja&&Ki(Ja.resolve())!=bd||Xa&&Ki(new Xa)!=_d||ec&&Ki(new ec)!=vd)&&(Ki=function(E){var D=X(E),z=D=="[object Object]"?E.constructor:void 0,V=z?$i(z):"";if(V)switch(V){case Zi:return yd;case mg:return wd;case wo:return bd;case kg:return _d;case bo:return vd}return D});const tc=Ki;var wg=Object.prototype.hasOwnProperty;const bg=function(E){var D=E.length,z=new E.constructor(D);return D&&typeof E[0]=="string"&&wg.call(E,"index")&&(z.index=E.index,z.input=E.input),z},Ad=P.Uint8Array,nc=function(E){var D=new E.constructor(E.byteLength);return new Ad(D).set(new Ad(E)),D},_g=function(E,D){var z=D?nc(E.buffer):E.buffer;return new E.constructor(z,E.byteOffset,E.byteLength)};var vg=/\w*$/;const yg=function(E){var D=new E.constructor(E.source,vg.exec(E));return D.lastIndex=E.lastIndex,D};var Cd=te?te.prototype:void 0,xd=Cd?Cd.valueOf:void 0;const Ag=function(E){return xd?Object(xd.call(E)):{}},Cg=function(E,D){var z=D?nc(E.buffer):E.buffer;return new E.constructor(z,E.byteOffset,E.length)},xg=function(E,D,z){var V=E.constructor;switch(D){case"[object ArrayBuffer]":return nc(E);case"[object Boolean]":case"[object Date]":return new V(+E);case"[object DataView]":return _g(E,z);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cg(E,z);case"[object Map]":case"[object Set]":return new V;case"[object Number]":case"[object String]":return new V(E);case"[object RegExp]":return yg(E);case"[object Symbol]":return Ag(E)}};var Ed=Object.create;const Eg=function(){function E(){}return function(D){if(!O(D))return{};if(Ed)return Ed(D);E.prototype=D;var z=new E;return E.prototype=void 0,z}}(),Cr=function(E){return typeof E.constructor!="function"||$a(E)?{}:Eg(Ka(E))},Sd=function(E){return de(E)&&tc(E)=="[object Map]"};var Dd=yr&&yr.isMap;const Sg=Dd?Ha(Dd):Sd,Dg=function(E){return de(E)&&tc(E)=="[object Set]"};var Td=yr&&yr.isSet;const Tg=Td?Ha(Td):Dg;var _o="[object Arguments]",Id="[object Function]",Md="[object Object]",Ue={};Ue[_o]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object DataView]"]=Ue["[object Boolean]"]=Ue["[object Date]"]=Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue[Md]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object Symbol]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Error]"]=Ue[Id]=Ue["[object WeakMap]"]=!1;const Ig=function E(D,z,V,ie,fe,ke){var we,lt=1&z,Ke=2&z,vo=4&z;if(V&&(we=fe?V(D,ie,fe,ke):V(D)),we!==void 0)return we;if(!O(D))return D;var Qi=po(D);if(Qi){if(we=bg(D),!lt)return hg(D,we)}else{var Hn=tc(D),Dr=Hn==Id||Hn=="[object GeneratorFunction]";if(sd(D))return ug(D,lt);if(Hn==Md||Hn==_o||Dr&&!fe){if(we=Ke||Dr?{}:Cr(D),!lt)return Ke?Yi(D,dg(we,D)):fg(D,sg(we,D))}else{if(!Ue[Hn])return fe?D:{};we=xg(D,Hn,lt)}}ke||(ke=new qf);var Ji=ke.get(D);if(Ji)return Ji;ke.set(D,we),Tg(D)?D.forEach(function(Cn){we.add(E(Cn,z,V,Cn,D,ke))}):Sg(D)&&D.forEach(function(Cn,xn){we.set(xn,E(Cn,z,V,xn,D,ke))});var Xi=Qi?void 0:(vo?Ke?pg:gg:Ke?qa:Wa)(D);return Ci(Xi||D,function(Cn,xn){Xi&&(Cn=D[xn=Cn]),rn(we,xn,E(Cn,z,V,xn,D,ke))}),we},Mg=function(E,D){return Ig(E,5,D=typeof D=="function"?D:void 0)};var Ng=Function.prototype,Pg=Object.prototype,Nd=Ng.toString,xr=Pg.hasOwnProperty,vs=Nd.call(Object);const Og=function(E){if(!de(E)||X(E)!="[object Object]")return!1;var D=Ka(E);if(D===null)return!0;var z=xr.call(D,"constructor")&&D.constructor;return typeof z=="function"&&z instanceof z&&Nd.call(z)==vs},Bg=function(E){return de(E)&&E.nodeType===1&&!Og(E)};class Pd extends y{constructor(D,z={}){super(z),this._editor=null,this._throttledSave=Zl(this._save.bind(this),typeof z.saveInterval=="number"?z.saveInterval:5e3),D&&(this._creator=(V,ie)=>D.create(V,ie)),this._destructor=V=>V.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(D){this._creator=D}setDestructor(D){this._destructor=D}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(D=>{console.error("An error happened during the editor destroying.",D)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const D=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,D,D.context)}}).then(()=>{this._fire("restart")})}create(D=this._elementOrData,z=this._config,V){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=D,this._config=this._cloneEditorConfiguration(z)||{},this._config.context=V,this._creator(D,this._config))).then(ie=>{this._editor=ie,ie.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ie.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const D=this._editor;return this._editor=null,D.model.document.off("change:data",this._throttledSave),this._destructor(D)})}_save(){const D=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=D}catch(z){console.error(z,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(D){this._excludedProps=D}_getData(){const D={};for(const z of this._editor.model.document.getRootNames())D[z]=this._editor.data.get({rootName:z});return D}_isErrorComingFromThisItem(D){return T(this._editor,D.context,this._excludedProps)}_cloneEditorConfiguration(D){return Mg(D,(z,V)=>Bg(z)||V==="context"?z:void 0)}}const Un=Symbol("MainQueueId");class Er extends y{constructor(D,z={}){super(z),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new zg,this._watchdogConfig=z,this._creator=V=>D.create(V),this._destructor=V=>V.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(D){this._creator=D}setDestructor(D){this._destructor=D}get context(){return this._context}create(D={}){return this._actionQueues.enqueue(Un,()=>(this._contextConfig=D,this._create()))}getItem(D){return this._getWatchdog(D)._item}getItemState(D){return this._getWatchdog(D).state}add(D){const z=Od(D);return Promise.all(z.map(V=>this._actionQueues.enqueue(V.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ie;if(this._watchdogs.has(V.id))throw new Error(`Item with the given id is already added: '${V.id}'.`);if(V.type==="editor")return ie=new Pd(null,this._watchdogConfig),ie.setCreator(V.creator),ie._setExcludedProperties(this._contextProps),V.destructor&&ie.setDestructor(V.destructor),this._watchdogs.set(V.id,ie),ie.on("error",(fe,{error:ke,causesRestart:we})=>{this._fire("itemError",{itemId:V.id,error:ke}),we&&this._actionQueues.enqueue(V.id,()=>new Promise(lt=>{const Ke=()=>{ie.off("restart",Ke),this._fire("itemRestart",{itemId:V.id}),lt()};ie.on("restart",Ke)}))}),ie.create(V.sourceElementOrData,V.config,this._context);throw new Error(`Not supported item type: '${V.type}'.`)})))}remove(D){const z=Od(D);return Promise.all(z.map(V=>this._actionQueues.enqueue(V,()=>{const ie=this._getWatchdog(V);return this._watchdogs.delete(V),ie.destroy()})))}destroy(){return this._actionQueues.enqueue(Un,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Un,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(D=>{console.error("An error happened during destroying the context or items.",D)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(D=>(this._context=D,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(z=>(z._setExcludedProperties(this._contextProps),z.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const D=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(z=>z.destroy())).then(()=>this._destructor(D))})}_getWatchdog(D){const z=this._watchdogs.get(D);if(!z)throw new Error(`Item with the given id was not registered: ${D}.`);return z}_isErrorComingFromThisItem(D){for(const z of this._watchdogs.values())if(z._isErrorComingFromThisItem(D))return!1;return T(this._context,D.context)}}class zg{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(D){this._onEmptyCallbacks.push(D)}enqueue(D,z){const V=D===Un;this._activeActions++,this._queues.get(D)||this._queues.set(D,Promise.resolve());const ie=(V?Promise.all(this._queues.values()):Promise.all([this._queues.get(Un),this._queues.get(D)])).then(z),fe=ie.catch(()=>{});return this._queues.set(D,fe),ie.finally(()=>{this._activeActions--,this._queues.get(D)===fe&&this._activeActions===0&&this._onEmptyCallbacks.forEach(ke=>ke())})}}function Od(E){return Array.isArray(E)?E:[E]}const Bd=k().createContext("contextWatchdog");class Sr extends k().Component{constructor(D,z){super(D,z),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(D){return this._shouldComponentUpdate(D)}async _shouldComponentUpdate(D){return D.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(D.config)),D.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(D.config),!0):this.props.children!==D.children}render(){return k().createElement(Bd.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(D){this.contextWatchdog=new Er(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(z,V)=>{this.props.onError(V.error,{phase:"runtime",willContextRestart:V.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(D).catch(z=>{this.props.onError(z,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Sr.defaultProps={isLayoutReady:!0,onError:(E,D)=>console.error(E,D)},Sr.propTypes={id:A().string,isLayoutReady:A().bool,context:A().func,watchdogConfig:A().object,config:A().object,onReady:A().func,onError:A().func};const ic="Lock from React integration (@ckeditor/ckeditor5-react)";class xi extends k().Component{constructor(D){super(D),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:z}=window;if(z){const[V]=z.split(".").map(Number);V<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(D){return!!this.editor&&(D.id!==this.props.id||D.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(D)&&this.editor.data.set(D.data),"disabled"in D&&(D.disabled?this.editor.enableReadOnlyMode(ic):this.editor.disableReadOnlyMode(ic)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Er?this.watchdog=new Lg(this.context):this.watchdog=new xi._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((D,z)=>this._createEditor(D,z)),this.watchdog.on("error",(D,{error:z,causesRestart:V})=>{(this.props.onError||console.error)(z,{phase:"runtime",willEditorRestart:V})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(D=>{(this.props.onError||console.error)(D,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(D,z){return this.props.editor.create(D,z).then(V=>{"disabled"in this.props&&this.props.disabled&&V.enableReadOnlyMode(ic);const ie=V.model.document,fe=V.editing.view.document;return ie.on("change:data",ke=>{this.props.onChange&&this.props.onChange(ke,V)}),fe.on("focus",ke=>{this.props.onFocus&&this.props.onFocus(ke,V)}),fe.on("blur",ke=>{this.props.onBlur&&this.props.onBlur(ke,V)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(V)}),V})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(D=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,D()):this.instance?(await this.instance.destroy(),this.instance=null,D()):void D())})}_shouldUpdateEditor(D){return this.props.data!==D.data&&this.editor.data.get()!==D.data}_getConfig(){const D=this.props.config||{};return this.props.data&&D.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...D,initialData:D.initialData||this.props.data||""}}}xi.contextType=Bd,xi.propTypes={editor:A().func.isRequired,data:A().string,config:A().object,disableWatchdog:A().bool,watchdogConfig:A().object,onChange:A().func,onReady:A().func,onFocus:A().func,onBlur:A().func,onError:A().func,disabled:A().bool,id:A().any},xi._EditorWatchdog=Pd;class Lg{constructor(D){this._contextWatchdog=D,this._id=function(){const z=4294967296*Math.random()>>>0,V=4294967296*Math.random()>>>0,ie=4294967296*Math.random()>>>0,fe=4294967296*Math.random()>>>0;return"e"+_[z>>0&255]+_[z>>8&255]+_[z>>16&255]+_[z>>24&255]+_[V>>0&255]+_[V>>8&255]+_[V>>16&255]+_[V>>24&255]+_[ie>>0&255]+_[ie>>8&255]+_[ie>>16&255]+_[ie>>24&255]+_[fe>>0&255]+_[fe>>8&255]+_[fe>>16&255]+_[fe>>24&255]}()}setCreator(D){this._creator=D}create(D,z){return this._contextWatchdog.add({sourceElementOrData:D,config:z,creator:this._creator,id:this._id,type:"editor"})}on(D,z){this._contextWatchdog.on("itemError",(V,{itemId:ie,error:fe})=>{ie===this._id&&z(null,{error:fe,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),g})())})(ef,ef.exports);var FY=ef.exports,bt={exports:{}},$t=bt.exports;(function(o){const i=o.en=o.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Dim grey":"Dim grey",Disc:"Disc",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal line":"Horizontal line","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Save:"Save","Select all":"Select all","Show more items":"Show more items","Side image":"Side image",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(i,a){typeof $t=="object"&&typeof bt=="object"?bt.exports=a():typeof define=="function"&&define.amd?define([],a):typeof $t=="object"?$t.InlineEditor=a():i.InlineEditor=a()})(self,()=>(()=>{var o={8168:(u,f,g)=>{const m=g(8874),k={};for(const _ of Object.keys(m))k[m[_]]=_;const w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=w;for(const _ of Object.keys(w)){if(!("channels"in w[_]))throw new Error("missing channels property: "+_);if(!("labels"in w[_]))throw new Error("missing channel labels property: "+_);if(w[_].labels.length!==w[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:y,labels:x}=w[_];delete w[_].channels,delete w[_].labels,Object.defineProperty(w[_],"channels",{value:y}),Object.defineProperty(w[_],"labels",{value:x})}w.rgb.hsl=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(y,x,S),O=Math.max(y,x,S),I=O-T;let M,P;O===T?M=0:y===O?M=(x-S)/I:x===O?M=2+(S-y)/I:S===O&&(M=4+(y-x)/I),M=Math.min(M*60,360),M<0&&(M+=360);const j=(T+O)/2;return O===T?P=0:j<=.5?P=I/(O+T):P=I/(2-O-T),[M,P*100,j*100]},w.rgb.hsv=function(_){let y,x,S,T,O;const I=_[0]/255,M=_[1]/255,P=_[2]/255,j=Math.max(I,M,P),F=j-Math.min(I,M,P),$=function(W){return(j-W)/6/F+1/2};return F===0?(T=0,O=0):(O=F/j,y=$(I),x=$(M),S=$(P),I===j?T=S-x:M===j?T=.3333333333333333+y-S:P===j&&(T=.6666666666666666+x-y),T<0?T+=1:T>1&&(T-=1)),[T*360,O*100,j*100]},w.rgb.hwb=function(_){const y=_[0],x=_[1];let S=_[2];const T=w.rgb.hsl(_)[0],O=1/255*Math.min(y,Math.min(x,S));return S=1-.00392156862745098*Math.max(y,Math.max(x,S)),[T,O*100,S*100]},w.rgb.cmyk=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.min(1-y,1-x,1-S),O=(1-y-T)/(1-T)||0,I=(1-x-T)/(1-T)||0,M=(1-S-T)/(1-T)||0;return[O*100,I*100,M*100,T*100]};function A(_,y){return(_[0]-y[0])**2+(_[1]-y[1])**2+(_[2]-y[2])**2}w.rgb.keyword=function(_){const y=k[_];if(y)return y;let x=1/0,S;for(const T of Object.keys(m)){const O=m[T],I=A(_,O);I<x&&(x=I,S=T)}return S},w.keyword.rgb=function(_){return m[_]},w.rgb.xyz=function(_){let y=_[0]/255,x=_[1]/255,S=_[2]/255;y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92;const T=y*.4124+x*.3576+S*.1805,O=y*.2126+x*.7152+S*.0722,I=y*.0193+x*.1192+S*.9505;return[T*100,O*100,I*100]},w.rgb.lab=function(_){const y=w.rgb.xyz(_);let x=y[0],S=y[1],T=y[2];x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862;const O=116*S-16,I=500*(x-S),M=200*(S-T);return[O,I,M]},w.hsl.rgb=function(_){const y=_[0]/360,x=_[1]/100,S=_[2]/100;let T,O,I;if(x===0)return I=S*255,[I,I,I];S<.5?T=S*(1+x):T=S+x-S*x;const M=2*S-T,P=[0,0,0];for(let j=0;j<3;j++)O=y+.3333333333333333*-(j-1),O<0&&O++,O>1&&O--,6*O<1?I=M+(T-M)*6*O:2*O<1?I=T:3*O<2?I=M+(T-M)*(.6666666666666666-O)*6:I=M,P[j]=I*255;return P},w.hsl.hsv=function(_){const y=_[0];let x=_[1]/100,S=_[2]/100,T=x;const O=Math.max(S,.01);S*=2,x*=S<=1?S:2-S,T*=O<=1?O:2-O;const I=(S+x)/2,M=S===0?2*T/(O+T):2*x/(S+x);return[y,M*100,I*100]},w.hsv.rgb=function(_){const y=_[0]/60,x=_[1]/100;let S=_[2]/100;const T=Math.floor(y)%6,O=y-Math.floor(y),I=255*S*(1-x),M=255*S*(1-x*O),P=255*S*(1-x*(1-O));switch(S*=255,T){case 0:return[S,P,I];case 1:return[M,S,I];case 2:return[I,S,P];case 3:return[I,M,S];case 4:return[P,I,S];case 5:return[S,I,M]}},w.hsv.hsl=function(_){const y=_[0],x=_[1]/100,S=_[2]/100,T=Math.max(S,.01);let O,I;I=(2-x)*S;const M=(2-x)*T;return O=x*T,O/=M<=1?M:2-M,O=O||0,I/=2,[y,O*100,I*100]},w.hwb.rgb=function(_){const y=_[0]/360;let x=_[1]/100,S=_[2]/100;const T=x+S;let O;T>1&&(x/=T,S/=T);const I=Math.floor(6*y),M=1-S;O=6*y-I,I&1&&(O=1-O);const P=x+O*(M-x);let j,F,$;switch(I){default:case 6:case 0:j=M,F=P,$=x;break;case 1:j=P,F=M,$=x;break;case 2:j=x,F=M,$=P;break;case 3:j=x,F=P,$=M;break;case 4:j=P,F=x,$=M;break;case 5:j=M,F=x,$=P;break}return[j*255,F*255,$*255]},w.cmyk.rgb=function(_){const y=_[0]/100,x=_[1]/100,S=_[2]/100,T=_[3]/100,O=1-Math.min(1,y*(1-T)+T),I=1-Math.min(1,x*(1-T)+T),M=1-Math.min(1,S*(1-T)+T);return[O*255,I*255,M*255]},w.xyz.rgb=function(_){const y=_[0]/100,x=_[1]/100,S=_[2]/100;let T,O,I;return T=y*3.2406+x*-1.5372+S*-.4986,O=y*-.9689+x*1.8758+S*.0415,I=y*.0557+x*-.204+S*1.057,T=T>.0031308?1.055*T**.4166666666666667-.055:T*12.92,O=O>.0031308?1.055*O**.4166666666666667-.055:O*12.92,I=I>.0031308?1.055*I**.4166666666666667-.055:I*12.92,T=Math.min(Math.max(0,T),1),O=Math.min(Math.max(0,O),1),I=Math.min(Math.max(0,I),1),[T*255,O*255,I*255]},w.xyz.lab=function(_){let y=_[0],x=_[1],S=_[2];y/=95.047,x/=100,S/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862;const T=116*x-16,O=500*(y-x),I=200*(x-S);return[T,O,I]},w.lab.xyz=function(_){const y=_[0],x=_[1],S=_[2];let T,O,I;O=(y+16)/116,T=x/500+O,I=O-S/200;const M=O**3,P=T**3,j=I**3;return O=M>.008856?M:(O-.13793103448275862)/7.787,T=P>.008856?P:(T-.13793103448275862)/7.787,I=j>.008856?j:(I-.13793103448275862)/7.787,T*=95.047,O*=100,I*=108.883,[T,O,I]},w.lab.lch=function(_){const y=_[0],x=_[1],S=_[2];let T;T=Math.atan2(S,x)*360/2/Math.PI,T<0&&(T+=360);const I=Math.sqrt(x*x+S*S);return[y,I,T]},w.lch.lab=function(_){const y=_[0],x=_[1],T=_[2]/360*2*Math.PI,O=x*Math.cos(T),I=x*Math.sin(T);return[y,O,I]},w.rgb.ansi16=function(_,y=null){const[x,S,T]=_;let O=y===null?w.rgb.hsv(_)[2]:y;if(O=Math.round(O/50),O===0)return 30;let I=30+(Math.round(T/255)<<2|Math.round(S/255)<<1|Math.round(x/255));return O===2&&(I+=60),I},w.hsv.ansi16=function(_){return w.rgb.ansi16(w.hsv.rgb(_),_[2])},w.rgb.ansi256=function(_){const y=_[0],x=_[1],S=_[2];return y===x&&x===S?y<8?16:y>248?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(x/255*5)+Math.round(S/255*5)},w.ansi16.rgb=function(_){let y=_%10;if(y===0||y===7)return _>50&&(y+=3.5),y=y/10.5*255,[y,y,y];const x=(~~(_>50)+1)*.5,S=(y&1)*x*255,T=(y>>1&1)*x*255,O=(y>>2&1)*x*255;return[S,T,O]},w.ansi256.rgb=function(_){if(_>=232){const O=(_-232)*10+8;return[O,O,O]}_-=16;let y;const x=Math.floor(_/36)/5*255,S=Math.floor((y=_%36)/6)/5*255,T=y%6/5*255;return[x,S,T]},w.rgb.hex=function(_){const x=(((Math.round(_[0])&255)<<16)+((Math.round(_[1])&255)<<8)+(Math.round(_[2])&255)).toString(16).toUpperCase();return"000000".substring(x.length)+x},w.hex.rgb=function(_){const y=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!y)return[0,0,0];let x=y[0];y[0].length===3&&(x=x.split("").map(M=>M+M).join(""));const S=parseInt(x,16),T=S>>16&255,O=S>>8&255,I=S&255;return[T,O,I]},w.rgb.hcg=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,T=Math.max(Math.max(y,x),S),O=Math.min(Math.min(y,x),S),I=T-O;let M,P;return I<1?M=O/(1-I):M=0,I<=0?P=0:T===y?P=(x-S)/I%6:T===x?P=2+(S-y)/I:P=4+(y-x)/I,P/=6,P%=1,[P*360,I*100,M*100]},w.hsl.hcg=function(_){const y=_[1]/100,x=_[2]/100,S=x<.5?2*y*x:2*y*(1-x);let T=0;return S<1&&(T=(x-.5*S)/(1-S)),[_[0],S*100,T*100]},w.hsv.hcg=function(_){const y=_[1]/100,x=_[2]/100,S=y*x;let T=0;return S<1&&(T=(x-S)/(1-S)),[_[0],S*100,T*100]},w.hcg.rgb=function(_){const y=_[0]/360,x=_[1]/100,S=_[2]/100;if(x===0)return[S*255,S*255,S*255];const T=[0,0,0],O=y%1*6,I=O%1,M=1-I;let P=0;switch(Math.floor(O)){case 0:T[0]=1,T[1]=I,T[2]=0;break;case 1:T[0]=M,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=I;break;case 3:T[0]=0,T[1]=M,T[2]=1;break;case 4:T[0]=I,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=M}return P=(1-x)*S,[(x*T[0]+P)*255,(x*T[1]+P)*255,(x*T[2]+P)*255]},w.hcg.hsv=function(_){const y=_[1]/100,x=_[2]/100,S=y+x*(1-y);let T=0;return S>0&&(T=y/S),[_[0],T*100,S*100]},w.hcg.hsl=function(_){const y=_[1]/100,S=_[2]/100*(1-y)+.5*y;let T=0;return S>0&&S<.5?T=y/(2*S):S>=.5&&S<1&&(T=y/(2*(1-S))),[_[0],T*100,S*100]},w.hcg.hwb=function(_){const y=_[1]/100,x=_[2]/100,S=y+x*(1-y);return[_[0],(S-y)*100,(1-S)*100]},w.hwb.hcg=function(_){const y=_[1]/100,S=1-_[2]/100,T=S-y;let O=0;return T<1&&(O=(S-T)/(1-T)),[_[0],T*100,O*100]},w.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},w.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},w.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},w.gray.hsl=function(_){return[0,0,_[0]]},w.gray.hsv=w.gray.hsl,w.gray.hwb=function(_){return[0,100,_[0]]},w.gray.cmyk=function(_){return[0,0,0,_[0]]},w.gray.lab=function(_){return[_[0],0,0]},w.gray.hex=function(_){const y=Math.round(_[0]/100*255)&255,S=((y<<16)+(y<<8)+y).toString(16).toUpperCase();return"000000".substring(S.length)+S},w.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},2085:(u,f,g)=>{const m=g(8168),k=g(4111),w={},A=Object.keys(m);function _(x){const S=function(...T){const O=T[0];return O==null?O:(O.length>1&&(T=O),x(T))};return"conversion"in x&&(S.conversion=x.conversion),S}function y(x){const S=function(...T){const O=T[0];if(O==null)return O;O.length>1&&(T=O);const I=x(T);if(typeof I=="object")for(let M=I.length,P=0;P<M;P++)I[P]=Math.round(I[P]);return I};return"conversion"in x&&(S.conversion=x.conversion),S}A.forEach(x=>{w[x]={},Object.defineProperty(w[x],"channels",{value:m[x].channels}),Object.defineProperty(w[x],"labels",{value:m[x].labels});const S=k(x);Object.keys(S).forEach(O=>{const I=S[O];w[x][O]=y(I),w[x][O].raw=_(I)})}),u.exports=w},4111:(u,f,g)=>{const m=g(8168);function k(){const y={},x=Object.keys(m);for(let S=x.length,T=0;T<S;T++)y[x[T]]={distance:-1,parent:null};return y}function w(y){const x=k(),S=[y];for(x[y].distance=0;S.length;){const T=S.pop(),O=Object.keys(m[T]);for(let I=O.length,M=0;M<I;M++){const P=O[M],j=x[P];j.distance===-1&&(j.distance=x[T].distance+1,j.parent=T,S.unshift(P))}}return x}function A(y,x){return function(S){return x(y(S))}}function _(y,x){const S=[x[y].parent,y];let T=m[x[y].parent][y],O=x[y].parent;for(;x[O].parent;)S.unshift(x[O].parent),T=A(m[x[O].parent][O],T),O=x[O].parent;return T.conversion=S,T}u.exports=function(y){const x=w(y),S={},T=Object.keys(x);for(let O=T.length,I=0;I<O;I++){const M=T[I];x[M].parent!==null&&(S[M]=_(M,x))}return S}},8874:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const y=_},3789:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const y=_},799:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const y=_},7372:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const y=_},5037:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const y=_},4249:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const y=_},9893:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const y=_},2430:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const y=_},2423:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const y=_},8879:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const y=_},8340:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const y=_},2400:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const y=_},3534:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},1547:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const y=_},6618:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const y=_},2926:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const y=_},5269:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},3925:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const y=_},7536:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},4874:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},4330:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const y=_},5782:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const y=_},3190:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const y=_},4784:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},9938:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const y=_},2591:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const y=_},9292:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const y=_},8705:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const y=_},1922:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},7138:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4029:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},4971:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=_},7258:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=_},4923:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const y=_},4257:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const y=_},6306:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const y=_},5062:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},1883:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4791:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},2704:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const y=_},9847:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},1874:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCbD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const y=_},4746:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const y=_},1977:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},2470:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},3525:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const y=_},2933:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},179:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,8BACC,cAAe,CACf,eAAiB,CACjB,gCACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > span {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4460:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},7592:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const y=_},6356:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},3707:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},6603:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},9332:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const y=_},6446:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const y=_},5224:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const y=_},4176:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const y=_},4768:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},3888:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const y=_},5167:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const y=_},7153:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},4875:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const y=_},2347:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),w=g(3645),A=g.n(w),_=A()(k());_.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const y=_},3645:u=>{u.exports=function(f){var g=[];return g.toString=function(){return this.map(function(k){var w=f(k);return k[2]?"@media ".concat(k[2]," {").concat(w,"}"):w}).join("")},g.i=function(m,k,w){typeof m=="string"&&(m=[[null,m,""]]);var A={};if(w)for(var _=0;_<this.length;_++){var y=this[_][0];y!=null&&(A[y]=!0)}for(var x=0;x<m.length;x++){var S=[].concat(m[x]);w&&A[S[0]]||(k&&(S[2]?S[2]="".concat(k," and ").concat(S[2]):S[2]=k),g.push(S))}},g}},4015:u=>{function f(_,y){return A(_)||w(_,y)||m(_,y)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(_,y){if(_){if(typeof _=="string")return k(_,y);var x=Object.prototype.toString.call(_).slice(8,-1);if(x==="Object"&&_.constructor&&(x=_.constructor.name),x==="Map"||x==="Set")return Array.from(_);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return k(_,y)}}function k(_,y){(y==null||y>_.length)&&(y=_.length);for(var x=0,S=new Array(y);x<y;x++)S[x]=_[x];return S}function w(_,y){var x=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(x!=null){var S=[],T=!0,O=!1,I,M;try{for(x=x.call(_);!(T=(I=x.next()).done)&&(S.push(I.value),!(y&&S.length===y));T=!0);}catch(P){O=!0,M=P}finally{try{!T&&x.return!=null&&x.return()}finally{if(O)throw M}}return S}}function A(_){if(Array.isArray(_))return _}u.exports=function(y){var x=f(y,4),S=x[1],T=x[3];if(!T)return S;if(typeof btoa=="function"){var O=btoa(unescape(encodeURIComponent(JSON.stringify(T)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(O),M="/*# ".concat(I," */"),P=T.sources.map(function(j){return"/*# sourceURL=".concat(T.sourceRoot||"").concat(j," */")});return[S].concat(P).concat([M]).join(`
`)}return[S].join(`
`)}},3379:(u,f,g)=>{var m=function(){var F;return function(){return typeof F>"u"&&(F=!!(window&&document&&document.all&&!window.atob)),F}}(),k=function(){var F={};return function(W){if(typeof F[W]>"u"){var Y=document.querySelector(W);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch{Y=null}F[W]=Y}return F[W]}}(),w=[];function A(j){for(var F=-1,$=0;$<w.length;$++)if(w[$].identifier===j){F=$;break}return F}function _(j,F){for(var $={},W=[],Y=0;Y<j.length;Y++){var te=j[Y],ne=F.base?te[0]+F.base:te[0],ve=$[ne]||0,vt="".concat(ne," ").concat(ve);$[ne]=ve+1;var Re=A(vt),at={css:te[1],media:te[2],sourceMap:te[3]};Re!==-1?(w[Re].references++,w[Re].updater(at)):w.push({identifier:vt,updater:P(at,F),references:1}),W.push(vt)}return W}function y(j){var F=document.createElement("style"),$=j.attributes||{};if(typeof $.nonce>"u"){var W=g.nc;W&&($.nonce=W)}if(Object.keys($).forEach(function(te){F.setAttribute(te,$[te])}),typeof j.insert=="function")j.insert(F);else{var Y=k(j.insert||"head");if(!Y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Y.appendChild(F)}return F}function x(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)}var S=function(){var F=[];return function(W,Y){return F[W]=Y,F.filter(Boolean).join(`
`)}}();function T(j,F,$,W){var Y=$?"":W.media?"@media ".concat(W.media," {").concat(W.css,"}"):W.css;if(j.styleSheet)j.styleSheet.cssText=S(F,Y);else{var te=document.createTextNode(Y),ne=j.childNodes;ne[F]&&j.removeChild(ne[F]),ne.length?j.insertBefore(te,ne[F]):j.appendChild(te)}}function O(j,F,$){var W=$.css,Y=$.media,te=$.sourceMap;if(Y?j.setAttribute("media",Y):j.removeAttribute("media"),te&&typeof btoa<"u"&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(te))))," */")),j.styleSheet)j.styleSheet.cssText=W;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(W))}}var I=null,M=0;function P(j,F){var $,W,Y;if(F.singleton){var te=M++;$=I||(I=y(F)),W=T.bind(null,$,te,!1),Y=T.bind(null,$,te,!0)}else $=y(F),W=O.bind(null,$,F),Y=function(){x($)};return W(j),function(ve){if(ve){if(ve.css===j.css&&ve.media===j.media&&ve.sourceMap===j.sourceMap)return;W(j=ve)}else Y()}}u.exports=function(j,F){F=F||{},!F.singleton&&typeof F.singleton!="boolean"&&(F.singleton=m()),j=j||[];var $=_(j,F);return function(Y){if(Y=Y||[],Object.prototype.toString.call(Y)==="[object Array]"){for(var te=0;te<$.length;te++){var ne=$[te],ve=A(ne);w[ve].references--}for(var vt=_(Y,F),Re=0;Re<$.length;Re++){var at=$[Re],dn=A(at);w[dn].references===0&&(w[dn].updater(),w.splice(dn,1))}$=vt}}}}},i={};function a(u){var f=i[u];if(f!==void 0)return f.exports;var g=i[u]={id:u,exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var g in f)a.o(f,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:f[g]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),a.nc=void 0;var l={};return(()=>{a.d(l,{default:()=>TU});function u(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const f=u(),m={isMac:k(f),isWindows:w(f),isGecko:A(f),isSafari:_(f),isiOS:y(f),isAndroid:x(f),isBlink:S(f),features:{isRegExpUnicodePropertySupported:T()}};function k(r){return r.indexOf("macintosh")>-1}function w(r){return r.indexOf("windows")>-1}function A(r){return!!r.match(/gecko\/\d+/)}function _(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}function y(r){return!!r.match(/iphone|ipad/i)||k(r)&&navigator.maxTouchPoints>0}function x(r){return r.indexOf("android")>-1}function S(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}function T(){let r=!1;try{r="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}function O(r,e,t,n){t=t||function(p,b){return p===b};const s=Array.isArray(r)?r:Array.prototype.slice.call(r),c=Array.isArray(e)?e:Array.prototype.slice.call(e),d=I(s,c,t);return n?F(d,c.length):j(c,d)}function I(r,e,t){const n=M(r,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=P(r,n),c=P(e,n),d=M(s,c,t),h=r.length-d,p=e.length-d;return{firstIndex:n,lastIndexOld:h,lastIndexNew:p}}function M(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function P(r,e){return r.slice(e).reverse()}function j(r,e){const t=[],{firstIndex:n,lastIndexOld:s,lastIndexNew:c}=e;return c-n>0&&t.push({index:n,type:"insert",values:r.slice(n,c)}),s-n>0&&t.push({index:n+(c-n),type:"delete",howMany:s-n}),t}function F(r,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:s}=r;if(t===-1)return Array(e).fill("equal");let c=[];return t>0&&(c=c.concat(Array(t).fill("equal"))),s-t>0&&(c=c.concat(Array(s-t).fill("insert"))),n-t>0&&(c=c.concat(Array(n-t).fill("delete"))),s<e&&(c=c.concat(Array(e-s).fill("equal"))),c}function $(r,e,t){t=t||function(G,re){return G===re};const n=r.length,s=e.length;if(n>200||s>200||n+s>300)return $.fastDiff(r,e,t,!0);let c,d;if(s<n){const G=r;r=e,e=G,c="delete",d="insert"}else c="insert",d="delete";const h=r.length,p=e.length,b=p-h,v={},C={};function N(G){const re=(C[G-1]!==void 0?C[G-1]:-1)+1,ue=C[G+1]!==void 0?C[G+1]:-1,ze=re>ue?-1:1;v[G+ze]&&(v[G]=v[G+ze].slice(0)),v[G]||(v[G]=[]),v[G].push(re>ue?c:d);let Je=Math.max(re,ue),dt=Je-G;for(;dt<h&&Je<p&&t(r[dt],e[Je]);)dt++,Je++,v[G].push("equal");return Je}let B=0,R;do{for(R=-B;R<b;R++)C[R]=N(R);for(R=b+B;R>b;R--)C[R]=N(R);C[b]=N(b),B++}while(C[b]!==p);return v[b].slice(1)}$.fastDiff=O;function W(){return function r(){r.called=!0}}const Y=W;class te{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Y(),this.off=Y()}}const ne=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function ve(){const r=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+ne[r>>0&255]+ne[r>>8&255]+ne[r>>16&255]+ne[r>>24&255]+ne[e>>0&255]+ne[e>>8&255]+ne[e>>16&255]+ne[e>>24&255]+ne[t>>0&255]+ne[t>>8&255]+ne[t>>16&255]+ne[t>>24&255]+ne[n>>0&255]+ne[n>>8&255]+ne[n>>16&255]+ne[n>>24&255]}const Re={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function at(r,e){const t=Re.get(e.priority);for(let n=0;n<r.length;n++)if(Re.get(r[n].priority)<t){r.splice(n,0,e);return}r.push(e)}const dn="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(e,t,n){super(de(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new L(e.message,t);throw n.stack=e.stack,n}}function Te(r,e){console.warn(...me(r,e))}function X(r){return`
Read more: ${dn}#error-${r}`}function de(r,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(d,h)=>{if(typeof h=="object"&&h!==null){if(t.has(h))return`[object ${h.constructor.name}]`;t.add(h)}return h})}`:"",c=X(r);return r+s+c}function me(r,e){const t=X(r);return e?[r,e,t]:[r,t]}const tt="40.0.0",gt=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new L("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=tt;const vn=Symbol("listeningTo"),yn=Symbol("emitterId"),Yt=Symbol("delegations"),Fn=Ce(Object);function Ce(r){if(!r)return Fn;class e extends r{on(n,s,c){this.listenTo(this,n,s,c)}once(n,s,c){let d=!1;const h=(p,...b)=>{d||(d=!0,p.off(),s.call(this,p,...b))};this.listenTo(this,n,h,c)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,c,d={}){let h,p;this[vn]||(this[vn]={});const b=this[vn];za(n)||Zl(n);const v=za(n);(h=b[v])||(h=b[v]={emitter:n,callbacks:{}}),(p=h.callbacks[s])||(p=h.callbacks[s]=[]),p.push(c),Df(this,n,s,c,d)}stopListening(n,s,c){const d=this[vn];let h=n&&za(n);const p=d&&h?d[h]:void 0,b=p&&s?p.callbacks[s]:void 0;if(!(!d||n&&!p||s&&!b))if(c)Ai(this,n,s,c),b.indexOf(c)!==-1&&(b.length===1?delete p.callbacks[s]:Ai(this,n,s,c));else if(b){for(;c=b.pop();)Ai(this,n,s,c);delete p.callbacks[s]}else if(p){for(s in p.callbacks)this.stopListening(n,s);delete d[h]}else{for(h in d)this.stopListening(d[h].emitter);delete this[vn]}}fire(n,...s){try{const c=n instanceof te?n:new te(this,n),d=c.name;let h=Kl(this,d);if(c.path.push(this),h){const b=[c,...s];h=Array.from(h);for(let v=0;v<h.length&&(h[v].callback.apply(this,b),c.off.called&&(delete c.off.called,this._removeEventListener(d,h[v].callback)),!c.stop.called);v++);}const p=this[Yt];if(p){const b=p.get(d),v=p.get("*");b&&Ql(b,c,s),v&&Ql(v,c,s)}return c.return}catch(c){L.rethrowUnexpectedError(c,this)}}delegate(...n){return{to:(s,c)=>{this[Yt]||(this[Yt]=new Map),n.forEach(d=>{const h=this[Yt].get(d);h?h.set(s,c):this[Yt].set(d,new Map([[s,c]]))})}}}stopDelegating(n,s){if(this[Yt])if(!n)this[Yt].clear();else if(!s)this[Yt].delete(n);else{const c=this[Yt].get(n);c&&c.delete(s)}}_addEventListener(n,s,c){Sf(this,n);const d=ja(this,n),h=Re.get(c.priority),p={callback:s,priority:h};for(const b of d)at(b,p)}_removeEventListener(n,s){const c=ja(this,n);for(const d of c)for(let h=0;h<d.length;h++)d[h].callback==s&&(d.splice(h,1),h--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Ce[r]=Fn.prototype[r]});function Ef(r,e){const t=r[vn];return t&&t[e]?t[e].emitter:null}function Zl(r,e){r[yn]||(r[yn]=e||ve())}function za(r){return r[yn]}function La(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function hs(){return{callbacks:[],childEvents:[]}}function Sf(r,e){const t=La(r);if(t[e])return;let n=e,s=null;const c=[];for(;n!==""&&!t[n];)t[n]=hs(),c.push(t[n]),s&&t[n].childEvents.push(s),s=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const d of c)d.callbacks=t[n].callbacks.slice();t[n].childEvents.push(s)}}function ja(r,e){const t=La(r)[e];if(!t)return[];let n=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const c=ja(r,t.childEvents[s]);n=n.concat(c)}return n}function Kl(r,e){let t;return!r._events||!(t=r._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Kl(r,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function Ql(r,e,t){for(let[n,s]of r){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const c=new te(e.source,s);c.path=[...e.path],n.fire(c,...t)}}function Df(r,e,t,n,s){e._addEventListener?e._addEventListener(t,n,s):r._addEventListener.call(e,t,n,s)}function Ai(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}function fs(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}const Ze=fs,gs=Symbol("observableProperties"),ps=Symbol("boundObservables"),ms=Symbol("boundProperties"),Hi=Symbol("decoratedMethods"),ks=Symbol("decoratedOriginal"),Ra=Be(Ce());function Be(r){if(!r)return Ra;class e extends r{set(n,s){if(Ze(n)){Object.keys(n).forEach(d=>{this.set(d,n[d])},this);return}Fa(this);const c=this[gs];if(n in this&&!c.has(n))throw new L("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return c.get(n)},set(d){const h=c.get(n);let p=this.fire(`set:${n}`,n,d,h);p===void 0&&(p=d),(h!==p||!c.has(n))&&(c.set(n,p),this.fire(`change:${n}`,n,p,h))}}),this[n]=s}bind(...n){if(!n.length||!Jl(n))throw new L("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new L("observable-bind-duplicate-properties",this);Fa(this);const s=this[ms];n.forEach(d=>{if(s.has(d))throw new L("observable-bind-rebind",this)});const c=new Map;return n.forEach(d=>{const h={property:d,to:[]};s.set(d,h),c.set(d,h)}),{to:$i,toMany:Tf,_observable:this,_bindProperties:n,_to:[],_bindings:c}}unbind(...n){if(!this[gs])return;const s=this[ms],c=this[ps];if(n.length){if(!Jl(n))throw new L("observable-unbind-wrong-properties",this);n.forEach(d=>{const h=s.get(d);h&&(h.to.forEach(([p,b])=>{const v=c.get(p),C=v[b];C.delete(h),C.size||delete v[b],Object.keys(v).length||(c.delete(p),this.stopListening(p,"change"))}),s.delete(d))})}else c.forEach((d,h)=>{this.stopListening(h,"change")}),c.clear(),s.clear()}decorate(n){Fa(this);const s=this[n];if(!s)throw new L("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(c,d)=>{c.return=s.apply(this,d)}),this[n]=function(...c){return this.fire(n,c)},this[n][ks]=s,this[Hi]||(this[Hi]=[]),this[Hi].push(n)}stopListening(n,s,c){if(!n&&this[Hi]){for(const d of this[Hi])this[d]=this[d][ks];delete this[Hi]}super.stopListening(n,s,c)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Be[r]=Ra.prototype[r]});function Fa(r){r[gs]||(Object.defineProperty(r,gs,{value:new Map}),Object.defineProperty(r,ps,{value:new Map}),Object.defineProperty(r,ms,{value:new Map}))}function $i(...r){const e=Mf(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new L("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new L("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==n)throw new L("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),Of(this._observable,this._to),Pf(this),this._bindProperties.forEach(s=>{Xl(this._observable,s)})}function Tf(r,e,t){if(this._bindings.size>1)throw new L("observable-bind-to-many-not-one-binding",this);this.to(...If(r,e),t)}function If(r,e){const t=r.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function Jl(r){return r.every(e=>typeof e=="string")}function Mf(...r){if(!r.length)throw new L("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof r[r.length-1]=="function"&&(e.callback=r.pop()),r.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new L("observable-bind-to-parse-error",null)}),e}function Nf(r,e,t,n){const s=r[ps],c=s.get(t),d=c||{};d[n]||(d[n]=new Set),d[n].add(e),c||s.set(t,d)}function Pf(r){let e;r._bindings.forEach((t,n)=>{r._to.forEach(s=>{e=s.properties[t.callback?0:r._bindProperties.indexOf(n)],t.to.push([s.observable,e]),Nf(r._observable,t,s.observable,e)})})}function Xl(r,e){const n=r[ms].get(e);let s;n.callback?s=n.callback.apply(r,n.to.map(c=>c[0][c[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=s:r.set(e,s)}function Of(r,e){e.forEach(t=>{const n=r[ps];let s;n.get(t.observable)||r.listenTo(t.observable,"change",(c,d)=>{s=n.get(t.observable)[d],s&&s.forEach(h=>{Xl(r,h.property)})})})}function ri(r){let e=0;for(const t of r)e++;return e}function pt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function Mt(r){return!!(r&&r[Symbol.iterator])}var Bf=typeof global=="object"&&global&&global.Object===Object&&global;const ed=Bf;var zf=typeof self=="object"&&self&&self.Object===Object&&self,Lf=ed||zf||Function("return this")();const An=Lf;var jf=An.Symbol;const Vn=jf;var Wi=Object.prototype,td=Wi.hasOwnProperty,Rf=Wi.toString,go=Vn?Vn.toStringTag:void 0;function ws(r){var e=td.call(r,go),t=r[go];try{r[go]=void 0;var n=!0}catch{}var s=Rf.call(r);return n&&(e?r[go]=t:delete r[go]),s}const Ff=ws;var Vf=Object.prototype,Uf=Vf.toString;function Hf(r){return Uf.call(r)}const br=Hf;var $f="[object Null]",Wf="[object Undefined]",qi=Vn?Vn.toStringTag:void 0;function qf(r){return r==null?r===void 0?Wf:$f:qi&&qi in Object(r)?Ff(r):br(r)}const Ci=qf;var nd=Array.isArray;const Ot=nd;function Gf(r){return r!=null&&typeof r=="object"}const rn=Gf;var bs="[object String]";function Yf(r){return typeof r=="string"||!Ot(r)&&rn(r)&&Ci(r)==bs}const Va=Yf;function _s(r,e,t={},n=[]){const s=t&&t.xmlns,c=s?r.createElementNS(s,e):r.createElement(e);for(const d in t)c.setAttribute(d,t[d]);(Va(n)||!Mt(n))&&(n=[n]);for(let d of n)Va(d)&&(d=r.createTextNode(d)),c.appendChild(d);return c}function Zf(r,e){return function(t){return r(e(t))}}const id=Zf;var Kf=id(Object.getPrototypeOf,Object);const po=Kf;var Qf="[object Object]",rd=Function.prototype,od=Object.prototype,Ua=rd.toString,sd=od.hasOwnProperty,Jf=Ua.call(Object);function Xf(r){if(!rn(r)||Ci(r)!=Qf)return!1;var e=po(r);if(e===null)return!0;var t=sd.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ua.call(t)==Jf}const Zt=Xf;function qe(){this.__data__=[],this.size=0}const eg=qe;function Ha(r,e){return r===e||r!==r&&e!==e}const _r=Ha;function mo(r,e){for(var t=r.length;t--;)if(_r(r[t][0],e))return t;return-1}const vr=mo;var yr=Array.prototype,ad=yr.splice;function tg(r){var e=this.__data__,t=vr(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():ad.call(e,t,1),--this.size,!0}const ng=tg;function cd(r){var e=this.__data__,t=vr(e,r);return t<0?void 0:e[t][1]}const ig=cd;function $a(r){return vr(this.__data__,r)>-1}const ld=$a;function rg(r,e){var t=this.__data__,n=vr(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}const og=rg;function Ar(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Ar.prototype.clear=eg,Ar.prototype.delete=ng,Ar.prototype.get=ig,Ar.prototype.has=ld,Ar.prototype.set=og;const ko=Ar;function Wa(){this.__data__=new ko,this.size=0}const sg=Wa;function ag(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}const cg=ag;function lg(r){return this.__data__.get(r)}const qa=lg;function dg(r){return this.__data__.has(r)}const dd=dg;var ud="[object AsyncFunction]",hd="[object Function]",fd="[object GeneratorFunction]",ug="[object Proxy]";function hg(r){if(!Ze(r))return!1;var e=Ci(r);return e==hd||e==fd||e==ud||e==ug}const Gi=hg;var gd=An["__core-js_shared__"];const Ga=gd;var Ya=function(){var r=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Za(r){return!!Ya&&Ya in r}const fg=Za;var pd=Function.prototype,Ka=pd.toString;function md(r){if(r!=null){try{return Ka.call(r)}catch{}try{return r+""}catch{}}return""}const Yi=md;var kd=/[\\^$.*+?()[\]{}|]/g,gg=/^\[object .+?Constructor\]$/,pg=Function.prototype,Qa=Object.prototype,Ja=pg.toString,Xa=Qa.hasOwnProperty,ec=RegExp("^"+Ja.call(Xa).replace(kd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wd(r){if(!Ze(r)||fg(r))return!1;var e=Gi(r)?ec:gg;return e.test(Yi(r))}const bd=wd;function _d(r,e){return r==null?void 0:r[e]}const vd=_d;function yd(r,e){var t=vd(r,e);return bd(t)?t:void 0}const Zi=yd;var mg=Zi(An,"Map");const wo=mg;var kg=Zi(Object,"create");const bo=kg;function Ki(){this.__data__=bo?bo(null):{},this.size=0}const tc=Ki;function wg(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}const bg=wg;var Ad="__lodash_hash_undefined__",nc=Object.prototype,_g=nc.hasOwnProperty;function vg(r){var e=this.__data__;if(bo){var t=e[r];return t===Ad?void 0:t}return _g.call(e,r)?e[r]:void 0}const yg=vg;var Cd=Object.prototype,xd=Cd.hasOwnProperty;function Ag(r){var e=this.__data__;return bo?e[r]!==void 0:xd.call(e,r)}const Cg=Ag;var xg="__lodash_hash_undefined__";function Ed(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=bo&&e===void 0?xg:e,this}const Eg=Ed;function Cr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Cr.prototype.clear=tc,Cr.prototype.delete=bg,Cr.prototype.get=yg,Cr.prototype.has=Cg,Cr.prototype.set=Eg;const Sd=Cr;function Dd(){this.size=0,this.__data__={hash:new Sd,map:new(wo||ko),string:new Sd}}const Sg=Dd;function Dg(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}const Td=Dg;function Tg(r,e){var t=r.__data__;return Td(e)?t[typeof e=="string"?"string":"hash"]:t.map}const _o=Tg;function Id(r){var e=_o(this,r).delete(r);return this.size-=e?1:0,e}const Md=Id;function Ue(r){return _o(this,r).get(r)}const Ig=Ue;function Mg(r){return _o(this,r).has(r)}const Ng=Mg;function Pg(r,e){var t=_o(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}const Nd=Pg;function xr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}xr.prototype.clear=Sg,xr.prototype.delete=Md,xr.prototype.get=Ig,xr.prototype.has=Ng,xr.prototype.set=Nd;const vs=xr;var Og=200;function Bg(r,e){var t=this.__data__;if(t instanceof ko){var n=t.__data__;if(!wo||n.length<Og-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new vs(n)}return t.set(r,e),this.size=t.size,this}const Pd=Bg;function Un(r){var e=this.__data__=new ko(r);this.size=e.size}Un.prototype.clear=sg,Un.prototype.delete=cg,Un.prototype.get=qa,Un.prototype.has=dd,Un.prototype.set=Pd;const Er=Un;function zg(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}const Od=zg;var Bd=function(){try{var r=Zi(Object,"defineProperty");return r({},"",{}),r}catch{}}();const Sr=Bd;function ic(r,e,t){e=="__proto__"&&Sr?Sr(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}const xi=ic;var Lg=Object.prototype,E=Lg.hasOwnProperty;function D(r,e,t){var n=r[e];(!(E.call(r,e)&&_r(n,t))||t===void 0&&!(e in r))&&xi(r,e,t)}const z=D;function V(r,e,t,n){var s=!t;t||(t={});for(var c=-1,d=e.length;++c<d;){var h=e[c],p=n?n(t[h],r[h],h,t,r):void 0;p===void 0&&(p=r[h]),s?xi(t,h,p):z(t,h,p)}return t}const ie=V;function fe(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}const ke=fe;var we="[object Arguments]";function lt(r){return rn(r)&&Ci(r)==we}const Ke=lt;var vo=Object.prototype,Qi=vo.hasOwnProperty,Hn=vo.propertyIsEnumerable,Dr=Ke(function(){return arguments}())?Ke:function(r){return rn(r)&&Qi.call(r,"callee")&&!Hn.call(r,"callee")};const Ji=Dr;function Xi(){return!1}const Cn=Xi;var xn=typeof $t=="object"&&$t&&!$t.nodeType&&$t,Kt=xn&&typeof bt=="object"&&bt&&!bt.nodeType&&bt,oi=Kt&&Kt.exports===xn,Ei=oi?An.Buffer:void 0,x5=Ei?Ei.isBuffer:void 0,E5=x5||Cn;const rc=E5;var S5=9007199254740991,D5=/^(?:0|[1-9]\d*)$/;function T5(r,e){var t=typeof r;return e=e??S5,!!e&&(t=="number"||t!="symbol"&&D5.test(r))&&r>-1&&r%1==0&&r<e}const jg=T5;var I5=9007199254740991;function M5(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=I5}const ev=M5;var N5="[object Arguments]",P5="[object Array]",O5="[object Boolean]",B5="[object Date]",z5="[object Error]",L5="[object Function]",j5="[object Map]",R5="[object Number]",F5="[object Object]",V5="[object RegExp]",U5="[object Set]",H5="[object String]",$5="[object WeakMap]",W5="[object ArrayBuffer]",q5="[object DataView]",G5="[object Float32Array]",Y5="[object Float64Array]",Z5="[object Int8Array]",K5="[object Int16Array]",Q5="[object Int32Array]",J5="[object Uint8Array]",X5="[object Uint8ClampedArray]",eM="[object Uint16Array]",tM="[object Uint32Array]",nt={};nt[G5]=nt[Y5]=nt[Z5]=nt[K5]=nt[Q5]=nt[J5]=nt[X5]=nt[eM]=nt[tM]=!0,nt[N5]=nt[P5]=nt[W5]=nt[O5]=nt[q5]=nt[B5]=nt[z5]=nt[L5]=nt[j5]=nt[R5]=nt[F5]=nt[V5]=nt[U5]=nt[H5]=nt[$5]=!1;function nM(r){return rn(r)&&ev(r.length)&&!!nt[Ci(r)]}const iM=nM;function rM(r){return function(e){return r(e)}}const Rg=rM;var tv=typeof $t=="object"&&$t&&!$t.nodeType&&$t,oc=tv&&typeof bt=="object"&&bt&&!bt.nodeType&&bt,oM=oc&&oc.exports===tv,Fg=oM&&ed.process,sM=function(){try{var r=oc&&oc.require&&oc.require("util").types;return r||Fg&&Fg.binding&&Fg.binding("util")}catch{}}();const ys=sM;var nv=ys&&ys.isTypedArray,aM=nv?Rg(nv):iM;const Vg=aM;var cM=Object.prototype,lM=cM.hasOwnProperty;function dM(r,e){var t=Ot(r),n=!t&&Ji(r),s=!t&&!n&&rc(r),c=!t&&!n&&!s&&Vg(r),d=t||n||s||c,h=d?ke(r.length,String):[],p=h.length;for(var b in r)(e||lM.call(r,b))&&!(d&&(b=="length"||s&&(b=="offset"||b=="parent")||c&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||jg(b,p)))&&h.push(b);return h}const iv=dM;var uM=Object.prototype;function hM(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||uM;return r===t}const Ug=hM;var fM=id(Object.keys,Object);const gM=fM;var pM=Object.prototype,mM=pM.hasOwnProperty;function kM(r){if(!Ug(r))return gM(r);var e=[];for(var t in Object(r))mM.call(r,t)&&t!="constructor"&&e.push(t);return e}const wM=kM;function bM(r){return r!=null&&ev(r.length)&&!Gi(r)}const zd=bM;function _M(r){return zd(r)?iv(r):wM(r)}const Hg=_M;function vM(r,e){return r&&ie(e,Hg(e),r)}const yM=vM;function AM(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}const CM=AM;var xM=Object.prototype,EM=xM.hasOwnProperty;function SM(r){if(!Ze(r))return CM(r);var e=Ug(r),t=[];for(var n in r)n=="constructor"&&(e||!EM.call(r,n))||t.push(n);return t}const DM=SM;function TM(r){return zd(r)?iv(r,!0):DM(r)}const As=TM;function IM(r,e){return r&&ie(e,As(e),r)}const MM=IM;var rv=typeof $t=="object"&&$t&&!$t.nodeType&&$t,ov=rv&&typeof bt=="object"&&bt&&!bt.nodeType&&bt,NM=ov&&ov.exports===rv,sv=NM?An.Buffer:void 0,av=sv?sv.allocUnsafe:void 0;function PM(r,e){if(e)return r.slice();var t=r.length,n=av?av(t):new r.constructor(t);return r.copy(n),n}const cv=PM;function OM(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}const lv=OM;function BM(r,e){for(var t=-1,n=r==null?0:r.length,s=0,c=[];++t<n;){var d=r[t];e(d,t,r)&&(c[s++]=d)}return c}const zM=BM;function LM(){return[]}const dv=LM;var jM=Object.prototype,RM=jM.propertyIsEnumerable,uv=Object.getOwnPropertySymbols,FM=uv?function(r){return r==null?[]:(r=Object(r),zM(uv(r),function(e){return RM.call(r,e)}))}:dv;const $g=FM;function VM(r,e){return ie(r,$g(r),e)}const UM=VM;function HM(r,e){for(var t=-1,n=e.length,s=r.length;++t<n;)r[s+t]=e[t];return r}const hv=HM;var $M=Object.getOwnPropertySymbols,WM=$M?function(r){for(var e=[];r;)hv(e,$g(r)),r=po(r);return e}:dv;const fv=WM;function qM(r,e){return ie(r,fv(r),e)}const GM=qM;function YM(r,e,t){var n=e(r);return Ot(r)?n:hv(n,t(r))}const gv=YM;function ZM(r){return gv(r,Hg,$g)}const Wg=ZM;function KM(r){return gv(r,As,fv)}const QM=KM;var JM=Zi(An,"DataView");const qg=JM;var XM=Zi(An,"Promise");const Gg=XM;var e4=Zi(An,"Set");const Yg=e4;var t4=Zi(An,"WeakMap");const Zg=t4;var pv="[object Map]",n4="[object Object]",mv="[object Promise]",kv="[object Set]",wv="[object WeakMap]",bv="[object DataView]",i4=Yi(qg),r4=Yi(wo),o4=Yi(Gg),s4=Yi(Yg),a4=Yi(Zg),yo=Ci;(qg&&yo(new qg(new ArrayBuffer(1)))!=bv||wo&&yo(new wo)!=pv||Gg&&yo(Gg.resolve())!=mv||Yg&&yo(new Yg)!=kv||Zg&&yo(new Zg)!=wv)&&(yo=function(r){var e=Ci(r),t=e==n4?r.constructor:void 0,n=t?Yi(t):"";if(n)switch(n){case i4:return bv;case r4:return pv;case o4:return mv;case s4:return kv;case a4:return wv}return e});const sc=yo;var c4=Object.prototype,l4=c4.hasOwnProperty;function d4(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&l4.call(r,"index")&&(t.index=r.index,t.input=r.input),t}const u4=d4;var h4=An.Uint8Array;const Ld=h4;function f4(r){var e=new r.constructor(r.byteLength);return new Ld(e).set(new Ld(r)),e}const Kg=f4;function g4(r,e){var t=e?Kg(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}const p4=g4;var m4=/\w*$/;function k4(r){var e=new r.constructor(r.source,m4.exec(r));return e.lastIndex=r.lastIndex,e}const w4=k4;var _v=Vn?Vn.prototype:void 0,vv=_v?_v.valueOf:void 0;function b4(r){return vv?Object(vv.call(r)):{}}const _4=b4;function v4(r,e){var t=e?Kg(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}const yv=v4;var y4="[object Boolean]",A4="[object Date]",C4="[object Map]",x4="[object Number]",E4="[object RegExp]",S4="[object Set]",D4="[object String]",T4="[object Symbol]",I4="[object ArrayBuffer]",M4="[object DataView]",N4="[object Float32Array]",P4="[object Float64Array]",O4="[object Int8Array]",B4="[object Int16Array]",z4="[object Int32Array]",L4="[object Uint8Array]",j4="[object Uint8ClampedArray]",R4="[object Uint16Array]",F4="[object Uint32Array]";function V4(r,e,t){var n=r.constructor;switch(e){case I4:return Kg(r);case y4:case A4:return new n(+r);case M4:return p4(r,t);case N4:case P4:case O4:case B4:case z4:case L4:case j4:case R4:case F4:return yv(r,t);case C4:return new n;case x4:case D4:return new n(r);case E4:return w4(r);case S4:return new n;case T4:return _4(r)}}const U4=V4;var Av=Object.create,H4=function(){function r(){}return function(e){if(!Ze(e))return{};if(Av)return Av(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();const $4=H4;function W4(r){return typeof r.constructor=="function"&&!Ug(r)?$4(po(r)):{}}const Cv=W4;var q4="[object Map]";function G4(r){return rn(r)&&sc(r)==q4}const Y4=G4;var xv=ys&&ys.isMap,Z4=xv?Rg(xv):Y4;const K4=Z4;var Q4="[object Set]";function J4(r){return rn(r)&&sc(r)==Q4}const X4=J4;var Ev=ys&&ys.isSet,eN=Ev?Rg(Ev):X4;const tN=eN;var nN=1,iN=2,rN=4,Sv="[object Arguments]",oN="[object Array]",sN="[object Boolean]",aN="[object Date]",cN="[object Error]",Dv="[object Function]",lN="[object GeneratorFunction]",dN="[object Map]",uN="[object Number]",Tv="[object Object]",hN="[object RegExp]",fN="[object Set]",gN="[object String]",pN="[object Symbol]",mN="[object WeakMap]",kN="[object ArrayBuffer]",wN="[object DataView]",bN="[object Float32Array]",_N="[object Float64Array]",vN="[object Int8Array]",yN="[object Int16Array]",AN="[object Int32Array]",CN="[object Uint8Array]",xN="[object Uint8ClampedArray]",EN="[object Uint16Array]",SN="[object Uint32Array]",Qe={};Qe[Sv]=Qe[oN]=Qe[kN]=Qe[wN]=Qe[sN]=Qe[aN]=Qe[bN]=Qe[_N]=Qe[vN]=Qe[yN]=Qe[AN]=Qe[dN]=Qe[uN]=Qe[Tv]=Qe[hN]=Qe[fN]=Qe[gN]=Qe[pN]=Qe[CN]=Qe[xN]=Qe[EN]=Qe[SN]=!0,Qe[cN]=Qe[Dv]=Qe[mN]=!1;function jd(r,e,t,n,s,c){var d,h=e&nN,p=e&iN,b=e&rN;if(t&&(d=s?t(r,n,s,c):t(r)),d!==void 0)return d;if(!Ze(r))return r;var v=Ot(r);if(v){if(d=u4(r),!h)return lv(r,d)}else{var C=sc(r),N=C==Dv||C==lN;if(rc(r))return cv(r,h);if(C==Tv||C==Sv||N&&!s){if(d=p||N?{}:Cv(r),!h)return p?GM(r,MM(d,r)):UM(r,yM(d,r))}else{if(!Qe[C])return s?r:{};d=U4(r,C,h)}}c||(c=new Er);var B=c.get(r);if(B)return B;c.set(r,d),tN(r)?r.forEach(function(re){d.add(jd(re,e,t,re,r,c))}):K4(r)&&r.forEach(function(re,ue){d.set(ue,jd(re,e,t,ue,r,c))});var R=b?p?QM:Wg:p?As:Hg,G=v?void 0:R(r);return Od(G||r,function(re,ue){G&&(ue=re,re=r[ue]),z(d,ue,jd(re,e,t,ue,r,c))}),d}const Qg=jd;var DN=1,TN=4;function IN(r,e){return e=typeof e=="function"?e:void 0,Qg(r,DN|TN,e)}const Jg=IN;function MN(r){return rn(r)&&r.nodeType===1&&!Zt(r)}const Ao=MN;class Iv{constructor(e,t){this._config={},t&&this.define(Mv(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,s=!1){if(Zt(t)){this._setObjectToTarget(e,t,s);return}const c=t.split(".");t=c.pop();for(const d of c)Zt(e[d])||(e[d]={}),e=e[d];if(Zt(n)){Zt(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,s);return}s&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const s of n){if(!Zt(e[s])){e=null;break}e=e[s]}return e?Mv(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],n)})}}function Mv(r){return Jg(r,NN)}function NN(r){return Ao(r)?r:void 0}function Tr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function Rd(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const Nv=En(Ce());function En(r){if(!r)return Nv;class e extends r{listenTo(n,s,c,d={}){if(Tr(n)||Rd(n)){const h={capture:!!d.useCapture,passive:!!d.usePassive},p=this._getProxyEmitter(n,h)||new PN(n,h);this.listenTo(p,s,c,d)}else super.listenTo(n,s,c,d)}stopListening(n,s,c){if(Tr(n)||Rd(n)){const d=this._getAllProxyEmitters(n);for(const h of d)this.stopListening(h,s,c)}else super.stopListening(n,s,c)}_getProxyEmitter(n,s){return Ef(this,Pv(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{En[r]=Nv.prototype[r]});class PN extends Ce(){constructor(e,t){super(),Zl(this,Pv(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),Ce().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){Ce().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function ON(r){return r["data-ck-expando"]||(r["data-ck-expando"]=ve())}function Pv(r,e){let t=ON(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}let Xg;try{Xg={window,document}}catch{Xg={window:{},document:{}}}const le=Xg;function BN(r){const e=[];let t=r;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function zN(r){return r instanceof HTMLTextAreaElement?r.value:r.innerHTML}function Ct(r){return Object.prototype.toString.call(r)=="[object Text]"}function Fd(r){return Object.prototype.toString.apply(r)=="[object Range]"}function Ov(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Bv(r){return!r||!r.parentNode||r.offsetParent===le.document.body?null:r.offsetParent}const zv=["top","right","bottom","left","width","height"];class xe{constructor(e){const t=Fd(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ep(e)||t)if(t){const n=xe.getDomRangeRects(e);Vd(this,xe.getBoundingRect(n))}else Vd(this,e.getBoundingClientRect());else if(Rd(e)){const{innerWidth:n,innerHeight:s}=e;Vd(this,{top:0,right:n,bottom:s,left:0,width:n,height:s})}else Vd(this,e)}clone(){return new xe(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new xe(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Lv(e))return t;let n=e,s=e.parentNode||e.commonAncestorContainer,c;for(;s&&!Lv(s);){const d=LN(s)==="visible";n instanceof HTMLElement&&jv(n)==="absolute"&&(c=n);const h=jv(s);if(d||c&&(h==="relative"&&d||h!=="relative")){n=s,s=s.parentNode;continue}const p=new xe(s),b=t.getIntersection(p);if(b)b.getArea()<t.getArea()&&(t=b);else return null;n=s,s=s.parentNode}return t}isEqual(e){for(const t of zv)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=le.window,n=this.clone().moveBy(e,t);if(ep(n._source)){const s=Bv(n._source);s&&jN(n,s)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,s;if(Rd(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const c=Ov(e);t=e.offsetWidth-e.clientWidth-c.left-c.right,n=e.offsetHeight-e.clientHeight-c.top-c.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const s of n)t.push(new xe(s));else{let s=e.startContainer;Ct(s)&&(s=s.parentNode);const c=new xe(s.getBoundingClientRect());c.right=c.left,c.width=0,t.push(c)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const s of e)n++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new xe(t))}}function Vd(r,e){for(const t of zv)r[t]=e[t]}function Lv(r){return ep(r)?r===r.ownerDocument.body:!1}function ep(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function jv(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}function LN(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).overflow:"visible"}function jN(r,e){const t=new xe(e),n=Ov(e);let s=0,c=0;s-=t.left,c-=t.top,s+=e.scrollLeft,c+=e.scrollTop,s-=n.left,c-=n.top,r.moveBy(s,c)}class Ge{constructor(e,t){Ge._observerInstance||Ge._createObserver(),this._element=e,this._callback=t,Ge._addElementCallback(e,t),Ge._observerInstance.observe(e)}get element(){return this._element}destroy(){Ge._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Ge._elementCallbacks||(Ge._elementCallbacks=new Map);let n=Ge._elementCallbacks.get(e);n||(n=new Set,Ge._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=Ge._getElementCallbacks(e);n&&(n.delete(t),n.size||(Ge._elementCallbacks.delete(e),Ge._observerInstance.unobserve(e))),Ge._elementCallbacks&&!Ge._elementCallbacks.size&&(Ge._observerInstance=null,Ge._elementCallbacks=null)}static _getElementCallbacks(e){return Ge._elementCallbacks?Ge._elementCallbacks.get(e):null}static _createObserver(){Ge._observerInstance=new le.window.ResizeObserver(e=>{for(const t of e){const n=Ge._getElementCallbacks(t.target);if(n)for(const s of n)s(t)}})}}Ge._observerInstance=null,Ge._elementCallbacks=null;function Rv(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function ac(r){return e=>e+r}function Ud(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function Fv(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function cc(r){return r&&r.nodeType===Node.COMMENT_NODE}function RN(r){try{le.document.createAttribute(r)}catch{return!1}return!0}function Co(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}function tp({element:r,target:e,positions:t,limiter:n,fitInViewport:s,viewportOffsetConfig:c}){Gi(e)&&(e=e()),Gi(n)&&(n=n());const d=Bv(r),h=FN(c),p=new xe(r),b=Vv(e,h);let v;if(!b||!h.getIntersection(b))return null;const C={targetRect:b,elementRect:p,positionedElementAncestor:d,viewportRect:h};if(!n&&!s)v=new Uv(t[0],C);else{if(n){const N=Vv(n,h);N&&(C.limiterRect=N)}v=VN(t,C)}return v}function Vv(r,e){const t=new xe(r).getVisible();return t?t.getIntersection(e):null}function FN(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new xe(le.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e}function VN(r,e){const{elementRect:t}=e,n=t.getArea(),s=r.map(h=>new Uv(h,e)).filter(h=>!!h.name);let c=0,d=null;for(const h of s){const{limiterIntersectionArea:p,viewportIntersectionArea:b}=h;if(p===n)return h;const v=b**2+p**2;v>c&&(c=v,d=h)}return d}class Uv{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:s,top:c,name:d,config:h}=n;this.name=d,this.config=h,this._positioningFunctionCoordinates={left:s,top:c},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}function Hv(r){const e=r.parentNode;e&&e.removeChild(r)}function UN({target:r,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:s}){const c=np(r);let d=c,h=null;for(e=WN(e);d;){let p;d==c?p=Yv(r):p=Yv(h),$N({parent:p,getRect:()=>Zv(r,d),alignToTop:n,ancestorOffset:t,forceScroll:s});const b=Zv(r,d);if(HN({window:d,rect:b,viewportOffset:e,alignToTop:n,forceScroll:s}),d.parent!=d){if(h=d.frameElement,d=d.parent,!h)return}else d=null}}function HN({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:s}){const c=e.clone().moveBy(0,s.bottom),d=e.clone().moveBy(0,-s.top),h=new xe(r).excludeScrollbarsAndBorders(),p=[d,c],b=t&&n,v=p.every(G=>h.contains(G));let{scrollX:C,scrollY:N}=r;const B=C,R=N;b?N-=h.top-e.top+s.top:v||(Wv(d,h)?N-=h.top-e.top+s.top:$v(c,h)&&(t?N+=e.top-h.top-s.top:N+=e.bottom-h.bottom+s.bottom)),v||(qv(e,h)?C-=h.left-e.left+s.left:Gv(e,h)&&(C+=e.right-h.right+s.right)),(C!=B||N!==R)&&r.scrollTo(C,N)}function $N({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:s=0,limiterElement:c}){const d=np(r),h=t&&n;let p,b,v;const C=c||d.document.body;for(;r!=C;)b=e(),p=new xe(r).excludeScrollbarsAndBorders(),v=p.contains(b),h?r.scrollTop-=p.top-b.top+s:v||(Wv(b,p)?r.scrollTop-=p.top-b.top+s:$v(b,p)&&(t?r.scrollTop+=b.top-p.top-s:r.scrollTop+=b.bottom-p.bottom+s)),v||(qv(b,p)?r.scrollLeft-=p.left-b.left+s:Gv(b,p)&&(r.scrollLeft+=b.right-p.right+s)),r=r.parentNode}function $v(r,e){return r.bottom>e.bottom}function Wv(r,e){return r.top<e.top}function qv(r,e){return r.left<e.left}function Gv(r,e){return r.right>e.right}function np(r){return Fd(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function Yv(r){if(Fd(r)){let e=r.commonAncestorContainer;return Ct(e)&&(e=e.parentNode),e}else return r.parentNode}function Zv(r,e){const t=np(r),n=new xe(r);if(t===e)return n;{let s=t;for(;s!=e;){const c=s.frameElement,d=new xe(c).excludeScrollbarsAndBorders();n.moveBy(d.left,d.top),s=s.parent}}return n}function WN(r){return typeof r=="number"?{top:r,bottom:r,left:r,right:r}:r}const qN={ctrl:"",cmd:"",alt:"",shift:""},GN={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Se=JN(),YN=Object.fromEntries(Object.entries(Se).map(([r,e])=>[e,r.charAt(0).toUpperCase()+r.slice(1)]));function Cs(r){let e;if(typeof r=="string"){if(e=Se[r.toLowerCase()],!e)throw new L("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Se.alt:0)+(r.ctrlKey?Se.ctrl:0)+(r.shiftKey?Se.shift:0)+(r.metaKey?Se.cmd:0);return e}function lc(r){return typeof r=="string"&&(r=XN(r)),r.map(e=>typeof e=="string"?KN(e):e).reduce((e,t)=>t+e,0)}function Kv(r){let e=lc(r);return Object.entries(m.isMac||m.isiOS?qN:GN).reduce((s,[c,d])=>(e&Se[c]&&(e&=~Se[c],s+=d),s),"")+(e?YN[e]:"")}function ZN(r){return r==Se.arrowright||r==Se.arrowleft||r==Se.arrowup||r==Se.arrowdown}function Qv(r,e){const t=e==="ltr";switch(r){case Se.arrowleft:return t?"left":"right";case Se.arrowright:return t?"right":"left";case Se.arrowup:return"up";case Se.arrowdown:return"down"}}function KN(r){if(r.endsWith("!"))return Cs(r.slice(0,-1));const e=Cs(r);return(m.isMac||m.isiOS)&&e==Se.ctrl?Se.cmd:e}function QN(r,e){const t=Qv(r,e);return t==="down"||t==="right"}function JN(){const r={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);r[t.toLowerCase()]=e}for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;for(const e of"`-=[];',./\\")r[e]=e.charCodeAt(0);return r}function XN(r){return r.split("+").map(e=>e.trim())}function Bt(r){return Array.isArray(r)?r:[r]}le.window.CKEDITOR_TRANSLATIONS||(le.window.CKEDITOR_TRANSLATIONS={});function e3(r,e,t=1){if(typeof t!="number")throw new L("translation-service-quantity-not-a-number",null,{quantity:t});const n=n3();n===1&&(r=Object.keys(le.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(n===0||!t3(r,s))return t!==1?e.plural:e.string;const c=le.window.CKEDITOR_TRANSLATIONS[r].dictionary,d=le.window.CKEDITOR_TRANSLATIONS[r].getPluralForm||(b=>b===1?0:1),h=c[s];if(typeof h=="string")return h;const p=Number(d(t));return h[p]}function t3(r,e){return!!le.window.CKEDITOR_TRANSLATIONS[r]&&!!le.window.CKEDITOR_TRANSLATIONS[r].dictionary[e]}function n3(){return Object.keys(le.window.CKEDITOR_TRANSLATIONS).length}const i3=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Jv(r){return i3.includes(r)?"rtl":"ltr"}class r3{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Jv(this.uiLanguage),this.contentLanguageDirection=Jv(this.contentLanguage),this.t=(n,s)=>this._t(n,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Bt(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,c=e3(this.uiLanguage,e,s);return o3(c,t)}}function o3(r,e){return r.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}class $n extends Ce(){constructor(e={},t={}){super();const n=Mt(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new L("collection-add-item-invalid-index",this);let n=0;for(const s of e){const c=this._getItemIdBeforeAdding(s),d=t+n;this._items.splice(d,0,s),this._itemMap.set(c,s),this.fire("add",s,d),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new L("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new L("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(s,c,d)=>{const h=t._bindToCollection==this,p=t._bindToInternalToExternalMap.get(c);if(h&&p)this._bindToExternalToInternalMap.set(c,p),this._bindToInternalToExternalMap.set(p,c);else{const b=e(c);if(!b){this._skippedIndexesFromExternal.push(d);return}let v=d;for(const C of this._skippedIndexesFromExternal)d>C&&v--;for(const C of t._skippedIndexesFromExternal)v>=C&&v++;this._bindToExternalToInternalMap.set(c,b),this._bindToInternalToExternalMap.set(b,c),this.add(b,v);for(let C=0;C<t._skippedIndexesFromExternal.length;C++)v<=t._skippedIndexesFromExternal[C]&&t._skippedIndexesFromExternal[C]++}};for(const s of t)n(null,s,t.getIndex(s));this.listenTo(t,"add",n),this.listenTo(t,"remove",(s,c,d)=>{const h=this._bindToExternalToInternalMap.get(c);h&&this.remove(h),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((p,b)=>(d<b&&p.push(b-1),d>b&&p.push(b),p),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new L("collection-add-invalid-id",this);if(this.get(n))throw new L("collection-add-item-already-exists",this)}else e[t]=n=ve();return n}_remove(e){let t,n,s,c=!1;const d=this._idProperty;if(typeof e=="string"?(n=e,s=this._itemMap.get(n),c=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],c=!s,s&&(n=s[d])):(s=e,n=s[d],t=this._items.indexOf(s),c=t==-1||!this._itemMap.get(n)),c)throw new L("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const h=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(h),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function zt(r){const e=r.next();return e.done?null:e.value}class un extends En(Be()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new L("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class si{constructor(){this._listener=new(En())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Cs(n),n)})}set(e,t,n={}){const s=lc(e),c=n.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(d,h)=>{t(h,()=>{h.preventDefault(),h.stopPropagation(),d.stop()}),d.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+Cs(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function s3(r){const e=new Map;for(const t in r)e.set(t,r[t]);return e}function Si(r){return Mt(r)?new Map(r):s3(r)}const a3=1e4;function c3(r,e,t,n){if(Math.max(e.length,r.length)>a3)return r.slice(0,t).concat(e).concat(r.slice(t+n,r.length));{const s=Array.from(r);return s.splice(t,n,...e),s}}function ip(r,e){let t;function n(...s){n.cancel(),t=setTimeout(()=>r(...s),e)}return n.cancel=()=>{clearTimeout(t)},n}function l3(r){function e(C){return C.length>=40&&C.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let t="";try{t=atob(r)}catch{return"INVALID"}const n=t.split("-"),s=n[0],c=n[1];if(!c)return e(r);try{atob(c)}catch{try{if(atob(s),!atob(s).length)return e(r)}catch{return e(r)}}if(s.length<40||s.length>255)return"INVALID";let d="";try{atob(s),d=atob(c)}catch{return"INVALID"}if(d.length!==8)return"INVALID";const h=Number(d.substring(0,4)),p=Number(d.substring(4,6))-1,b=Number(d.substring(6,8)),v=new Date(h,p,b);return v<gt||isNaN(Number(v))?"INVALID":"VALID"}function d3(r){return!!r&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r)}function u3(r){return!!r&&r.length==1&&/[\ud800-\udbff]/.test(r)}function h3(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}function rp(r,e){return u3(r.charAt(e-1))&&h3(r.charAt(e))}function op(r,e){return d3(r.charAt(e))}const f3=g3();function Xv(r,e){const t=String(r).matchAll(f3);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function g3(){const r=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+r.map(s=>s.source).join("|")+")",n=`${e}|${t}(?:${t})*`;return new RegExp(n,"ug")}class Z extends Be(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",e0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",e0),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function e0(r){r.return=!1,r.stop()}class Ye extends Be(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,c=!(n.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!c)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",t0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",t0),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function t0(r){r.return=!1,r.stop()}class n0 extends Ye{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){at(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class i0 extends Ce(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,c]of n)this._contextPlugins.set(s,c),this._contextPlugins.set(c,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new L("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const s=this,c=this._context;B(e),G(e);const d=e.filter(ae=>!C(ae,t)),h=[...R(d)];kt(h,n);const p=Je(h);return dt(p,"init").then(()=>dt(p,"afterInit")).then(()=>p);function b(ae){return typeof ae=="function"}function v(ae){return b(ae)&&!!ae.isContextPlugin}function C(ae,be){return be.some(ce=>ce===ae||N(ae)===ce||N(ce)===ae)}function N(ae){return b(ae)?ae.pluginName||ae.name:ae}function B(ae,be=new Set){ae.forEach(ce=>{b(ce)&&(be.has(ce)||(be.add(ce),ce.pluginName&&!s._availablePlugins.has(ce.pluginName)&&s._availablePlugins.set(ce.pluginName,ce),ce.requires&&B(ce.requires,be)))})}function R(ae,be=new Set){return ae.map(ce=>b(ce)?ce:s._availablePlugins.get(ce)).reduce((ce,it)=>be.has(it)?ce:(be.add(it),it.requires&&(G(it.requires,it),R(it.requires,be).forEach(Ro=>ce.add(Ro))),ce.add(it)),new Set)}function G(ae,be=null){ae.map(ce=>b(ce)?ce:s._availablePlugins.get(ce)||ce).forEach(ce=>{re(ce,be),ue(ce,be),ze(ce,be)})}function re(ae,be){if(!b(ae))throw be?new L("plugincollection-soft-required",c,{missingPlugin:ae,requiredBy:N(be)}):new L("plugincollection-plugin-not-found",c,{plugin:ae})}function ue(ae,be){if(v(be)&&!v(ae))throw new L("plugincollection-context-required",c,{plugin:N(ae),requiredBy:N(be)})}function ze(ae,be){if(be&&C(ae,t))throw new L("plugincollection-required",c,{plugin:N(ae),requiredBy:N(be)})}function Je(ae){return ae.map(be=>{let ce=s._contextPlugins.get(be);return ce=ce||new be(c),s._add(be,ce),ce})}function dt(ae,be){return ae.reduce((ce,it)=>!it[be]||s._contextPlugins.has(it)?ce:ce.then(it[be].bind(it)),Promise.resolve())}function kt(ae,be){for(const ce of be){if(typeof ce!="function")throw new L("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ce});const it=ce.pluginName;if(!it)throw new L("plugincollection-replace-plugin-missing-name",null,{pluginItem:ce});if(ce.requires&&ce.requires.length)throw new L("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:it});const Ro=s._availablePlugins.get(it);if(!Ro)throw new L("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:it});const vE=ae.indexOf(Ro);if(vE===-1){if(s._contextPlugins.has(Ro))return;throw new L("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:it})}if(Ro.requires&&Ro.requires.length)throw new L("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:it});ae.splice(vE,1,ce),s._availablePlugins.set(it,ce)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new L("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class r0{constructor(e){this._contextOwner=null,this.config=new Iv(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new i0(this,t);const n=this.config.get("language")||{};this.locale=new r3({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new $n}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new L("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new L("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new L("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class o0 extends Be(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var p3=a(3379),se=a.n(p3),s0=a(7372),sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sp.insert="head",sp.singleton=!0,se()(s0.Z,sp),s0.Z.locals;const Hd=new WeakMap;let a0=!1;function c0({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:s=!1}){const c=r.document;Hd.has(c)||(Hd.set(c,new Map),c.registerPostFixer(h=>ap(c,h)),c.on("change:isComposing",()=>{r.change(h=>ap(c,h))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(h,p,b)=>{d(b)}),e.placeholder?d(e.placeholder):t&&d(t),t&&_3();function d(h){Hd.get(c).set(e,{text:h,isDirectHost:n,keepOnFocus:s,hostElement:n?e:null}),r.change(p=>ap(c,p))}}function m3(r,e){return e.hasClass("ck-placeholder")?!1:(r.addClass("ck-placeholder",e),!0)}function k3(r,e){return e.hasClass("ck-placeholder")?(r.removeClass("ck-placeholder",e),!0):!1}function w3(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(d=>!d.is("uiElement")))return!1;const n=r.document,c=n.selection.anchor;return n.isComposing&&c&&c.parent===r?!1:e||!n.isFocused?!0:!!c&&c.parent!==r}function ap(r,e){const t=Hd.get(r),n=[];let s=!1;for(const[c,d]of t)d.isDirectHost&&(n.push(c),l0(e,c,d)&&(s=!0));for(const[c,d]of t){if(d.isDirectHost)continue;const h=b3(c);h&&(n.includes(h)||(d.hostElement=h,l0(e,c,d)&&(s=!0)))}return s}function l0(r,e,t){const{text:n,isDirectHost:s,hostElement:c}=t;let d=!1;return c.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,c),d=!0),(s||e.childCount==1)&&w3(c,t.keepOnFocus)?m3(r,c)&&(d=!0):k3(r,c)&&(d=!0),d}function b3(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function _3(){a0||Te("enableplaceholder-deprecated-text-option"),a0=!0}class xo{is(){throw new Error("is() method is abstract")}}var v3=4;function y3(r){return Qg(r,v3)}const d0=y3;class Eo extends Ce(xo){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new L("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=pt(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=d0(this);return delete e.parent,e}}Eo.prototype.is=function(r){return r==="node"||r==="view:node"};class He extends Eo{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof He?this===e||this.data===e.data:!1}_clone(){return new He(this.document,this.data)}}He.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class Di extends xo{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new L("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new L("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}Di.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class Wn{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const s=u0(t,n);if(s)return{element:t,pattern:n,match:s}}return null}matchAll(...e){const t=[];for(const n of e)for(const s of this._patterns){const c=u0(n,s);c&&t.push({element:n,pattern:s,match:c})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function u0(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=A3(e.name,r.name),!t.name)||e.attributes&&(t.attributes=S3(e.attributes,r),!t.attributes)||e.classes&&(t.classes=D3(e.classes,r),!t.classes)||e.styles&&(t.styles=T3(e.styles,r),!t.styles)?null:t}function A3(r,e){return r instanceof RegExp?!!e.match(r):r===e}function cp(r,e,t){const n=C3(r),s=Array.from(e),c=[];if(n.forEach(([d,h])=>{s.forEach(p=>{x3(d,p)&&E3(h,p,t)&&c.push(p)})}),!(!n.length||c.length<n.length))return c}function C3(r){return Array.isArray(r)?r.map(e=>Zt(e)?((e.key===void 0||e.value===void 0)&&Te("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Zt(r)?Object.entries(r):[[r,!0]]}function x3(r,e){return r===!0||r===e||r instanceof RegExp&&e.match(r)}function E3(r,e,t){if(r===!0)return!0;const n=t(e);return r===n||r instanceof RegExp&&!!String(n).match(r)}function S3(r,e){const t=new Set(e.getAttributeKeys());return Zt(r)?(r.style!==void 0&&Te("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&Te("matcher-pattern-deprecated-attributes-class-key",r)):(t.delete("style"),t.delete("class")),cp(r,t,n=>e.getAttribute(n))}function D3(r,e){return cp(r,e.getClassNames(),()=>{})}function T3(r,e){return cp(r,e.getStyleNames(!0),t=>e.getStyle(t))}var I3="[object Symbol]";function M3(r){return typeof r=="symbol"||rn(r)&&Ci(r)==I3}const $d=M3;var N3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P3=/^\w*$/;function O3(r,e){if(Ot(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||$d(r)?!0:P3.test(r)||!N3.test(r)||e!=null&&r in Object(e)}const B3=O3;var z3="Expected a function";function lp(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(z3);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],c=t.cache;if(c.has(s))return c.get(s);var d=r.apply(this,n);return t.cache=c.set(s,d)||c,d};return t.cache=new(lp.Cache||vs),t}lp.Cache=vs;const L3=lp;var j3=500;function R3(r){var e=L3(r,function(n){return t.size===j3&&t.clear(),n}),t=e.cache;return e}const F3=R3;var V3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U3=/\\(\\)?/g,H3=F3(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(V3,function(t,n,s,c){e.push(s?c.replace(U3,"$1"):n||t)}),e});const $3=H3;function W3(r,e){for(var t=-1,n=r==null?0:r.length,s=Array(n);++t<n;)s[t]=e(r[t],t,r);return s}const q3=W3;var G3=1/0,h0=Vn?Vn.prototype:void 0,f0=h0?h0.toString:void 0;function g0(r){if(typeof r=="string")return r;if(Ot(r))return q3(r,g0)+"";if($d(r))return f0?f0.call(r):"";var e=r+"";return e=="0"&&1/r==-G3?"-0":e}const Y3=g0;function Z3(r){return r==null?"":Y3(r)}const dp=Z3;function K3(r,e){return Ot(r)?r:B3(r,e)?[r]:$3(dp(r))}const up=K3;function Q3(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}const J3=Q3;var X3=1/0;function eP(r){if(typeof r=="string"||$d(r))return r;var e=r+"";return e=="0"&&1/r==-X3?"-0":e}const hp=eP;function tP(r,e){e=up(e,r);for(var t=0,n=e.length;r!=null&&t<n;)r=r[hp(e[t++])];return t&&t==n?r:void 0}const p0=tP;function nP(r,e,t){var n=-1,s=r.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var c=Array(s);++n<s;)c[n]=r[n+e];return c}const m0=nP;function iP(r,e){return e.length<2?r:p0(r,m0(e,0,-1))}const rP=iP;function oP(r,e){return e=up(e,r),r=rP(r,e),r==null||delete r[hp(J3(e))]}const sP=oP;function aP(r,e){return r==null?!0:sP(r,e)}const cP=aP;function lP(r,e,t){var n=r==null?void 0:p0(r,e);return n===void 0?t:n}const Wd=lP;function dP(r,e,t){(t!==void 0&&!_r(r[e],t)||t===void 0&&!(e in r))&&xi(r,e,t)}const fp=dP;function uP(r){return function(e,t,n){for(var s=-1,c=Object(e),d=n(e),h=d.length;h--;){var p=d[r?h:++s];if(t(c[p],p,c)===!1)break}return e}}var hP=uP();const fP=hP;function gP(r){return rn(r)&&zd(r)}const pP=gP;function mP(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}const gp=mP;function kP(r){return ie(r,As(r))}const wP=kP;function bP(r,e,t,n,s,c,d){var h=gp(r,t),p=gp(e,t),b=d.get(p);if(b){fp(r,t,b);return}var v=c?c(h,p,t+"",r,e,d):void 0,C=v===void 0;if(C){var N=Ot(p),B=!N&&rc(p),R=!N&&!B&&Vg(p);v=p,N||B||R?Ot(h)?v=h:pP(h)?v=lv(h):B?(C=!1,v=cv(p,!0)):R?(C=!1,v=yv(p,!0)):v=[]:Zt(p)||Ji(p)?(v=h,Ji(h)?v=wP(h):(!Ze(h)||Gi(h))&&(v=Cv(p))):C=!1}C&&(d.set(p,v),s(v,p,n,c,d),d.delete(p)),fp(r,t,v)}const _P=bP;function k0(r,e,t,n,s){r!==e&&fP(e,function(c,d){if(s||(s=new Er),Ze(c))_P(r,e,d,t,k0,n,s);else{var h=n?n(gp(r,d),c,d+"",r,e,s):void 0;h===void 0&&(h=c),fp(r,d,h)}},As)}const vP=k0;function yP(r){return r}const So=yP;function AP(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}const CP=AP;var w0=Math.max;function xP(r,e,t){return e=w0(e===void 0?r.length-1:e,0),function(){for(var n=arguments,s=-1,c=w0(n.length-e,0),d=Array(c);++s<c;)d[s]=n[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=n[s];return h[e]=t(d),CP(r,this,h)}}const EP=xP;function SP(r){return function(){return r}}const DP=SP;var TP=Sr?function(r,e){return Sr(r,"toString",{configurable:!0,enumerable:!1,value:DP(e),writable:!0})}:So;const IP=TP;var MP=800,NP=16,PP=Date.now;function OP(r){var e=0,t=0;return function(){var n=PP(),s=NP-(n-t);if(t=n,s>0){if(++e>=MP)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var BP=OP(IP);const zP=BP;function LP(r,e){return zP(EP(r,e,So),r+"")}const jP=LP;function RP(r,e,t){if(!Ze(t))return!1;var n=typeof e;return(n=="number"?zd(t)&&jg(e,t.length):n=="string"&&e in t)?_r(t[e],r):!1}const FP=RP;function VP(r){return jP(function(e,t){var n=-1,s=t.length,c=s>1?t[s-1]:void 0,d=s>2?t[2]:void 0;for(c=r.length>3&&typeof c=="function"?(s--,c):void 0,d&&FP(t[0],t[1],d)&&(c=s<3?void 0:c,s=1),e=Object(e);++n<s;){var h=t[n];h&&r(e,h,n,c)}return e})}const b0=VP;var UP=b0(function(r,e,t){vP(r,e,t)});const _0=UP;function HP(r,e,t,n){if(!Ze(r))return r;e=up(e,r);for(var s=-1,c=e.length,d=c-1,h=r;h!=null&&++s<c;){var p=hp(e[s]),b=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return r;if(s!=d){var v=h[p];b=n?n(v,p,h):void 0,b===void 0&&(b=Ze(v)?v:jg(e[s+1])?[]:{})}z(h,p,b),h=h[p]}return r}const $P=HP;function WP(r,e,t){return r==null?r:$P(r,e,t)}const qP=WP;class GP{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(ZP(e).entries());for(const[n,s]of t)this._styleProcessor.toNormalizedForm(n,s,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)}set(e,t){if(Ze(e))for(const[n,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=pp(e);cP(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ze(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),c=Wd(this._styles,s);if(!c)return;!Array.from(Object.keys(c)).length&&this.remove(s)}}class YP{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Ze(t)){mp(n,pp(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:c,value:d}=s(t);mp(n,c,d)}else mp(n,e,t)}getNormalized(e,t){if(!e)return _0({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Wd(t,n);const s=n(e,t);if(s)return s}return Wd(t,pp(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const c=this.getNormalized(s,e);return c&&typeof c=="object"?Object.keys(c).length:c}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ZP(r){let e=null,t=0,n=0,s=null;const c=new Map;if(r==="")return c;r.charAt(r.length-1)!=";"&&(r=r+";");for(let d=0;d<r.length;d++){const h=r.charAt(d);if(e===null)switch(h){case":":s||(s=r.substr(t,d-t),n=d+1);break;case'"':case"'":e=h;break;case";":{const p=r.substr(n,d-n);s&&c.set(s.trim(),p.trim()),s=null,t=d+1;break}}else h===e&&(e=null)}return c}function pp(r){return r.replace("-",".")}function mp(r,e,t){let n=t;Ze(t)&&(n=_0({},Wd(r,e),t)),qP(r,e,n)}class Sn extends Eo{constructor(e,t,n,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=KP(n),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");v0(this._classes,c),this._attrs.delete("class")}this._styles=new GP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Sn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Wn(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=QP(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?v0(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Bt(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Bt(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Bt(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Sn.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};function KP(r){const e=Si(r);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function v0(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}function QP(r,e){return typeof e=="string"?[new He(r,e)]:(Mt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new He(r,t):t instanceof Di?new He(r,t.data):t))}class dc extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=y0}}dc.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function y0(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}class qd extends Be(dc){constructor(e,t,n,s){super(e,t,n,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}qd.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const A0=Symbol("rootName");class C0 extends qd{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(A0)}set rootName(e){this._setCustomProperty(A0,e)}set _name(e){this.name=e}}C0.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Do{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new L("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new L("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Q._createAt(e.startPosition):this._position=Q._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(n instanceof He){if(e.isAtEnd)return this._position=Q._createAfter(n),this._next();s=n.data[e.offset]}else s=n.getChild(e.offset);if(s instanceof Sn){if(!this.shallow)e=new Q(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof He){if(this.singleCharacters)return e=new Q(s,0),this._position=e,this._next();let c=s.data.length,d;return s==this._boundaryEndParent?(c=this.boundaries.end.offset,d=new Di(s,0,c),e=Q._createAfter(d)):(d=new Di(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;this.singleCharacters?c=1:c=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const d=new Di(n,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=Q._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(n instanceof He){if(e.isAtStart)return this._position=Q._createBefore(n),this._previous();s=n.data[e.offset-1]}else s=n.getChild(e.offset-1);if(s instanceof Sn)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new Q(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof He){if(this.singleCharacters)return e=new Q(s,s.data.length),this._position=e,this._previous();let c=s.data.length,d;if(s==this._boundaryStartParent){const h=this.boundaries.start.offset;d=new Di(s,h,s.data.length-h),c=d.data.length,e=Q._createBefore(d)}else d=new Di(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;if(this.singleCharacters)c=1;else{const h=n===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-h}e.offset-=c;const d=new Di(n,e.offset,c);return this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=Q._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,s,c){return t instanceof Di&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Q._createAfter(t.textNode),this._position=s):n=Q._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Q._createBefore(t.textNode),this._position=s):n=Q._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:s,length:c}}}}class Q extends xo{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof qd);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Q._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Do(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const s=pt(t,n);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<n[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Do(e)}clone(){return new Q(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Q)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new L("view-createpositionat-offset-required",n)}return new Q(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Q(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new L("view-position-after-root",e,{root:e});return new Q(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Q(e.textNode,e.offsetInText);if(!e.parent)throw new L("view-position-before-root",e,{root:e});return new Q(e.parent,e.index)}}Q.prototype.is=function(r){return r==="position"||r==="view:position"};class he extends xo{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Do({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Gd,{direction:"backward"}),t=this.end.getLastMatchingPosition(Gd);return e.parent.is("$text")&&e.isAtStart&&(e=Q._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Q._createAfter(t.parent)),new he(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Gd);if(e.isAfter(this.end)||e.isEqual(this.end))return new he(e,e);let t=this.end.getLastMatchingPosition(Gd,{direction:"backward"});const n=e.nodeAfter,s=t.nodeBefore;return n&&n.is("$text")&&(e=new Q(n,0)),s&&s.is("$text")&&(t=new Q(s,s.data.length)),new he(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new he(this.start,e.start)),this.containsPosition(e.end)&&t.push(new he(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new he(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Do(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new he(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Do(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Do(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,s){return new this(new Q(e,t),new Q(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Q._createBefore(e),t)}}he.prototype.is=function(r){return r==="range"||r==="view:range"};function Gd(r){return!!(r.item.is("attributeElement")||r.item.is("uiElement"))}class ai extends Ce(xo){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=ri(this.getRanges()),n=ri(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let c=!1;for(let d of e.getRanges())if(d=d.getTrimmed(),s.start.isEqual(d.start)&&s.end.isEqual(d.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof ai||t instanceof kp)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof he)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof Q)this._setRanges([new he(t)]),this._setFakeOptions(s);else if(t instanceof Eo){const c=!!s&&!!s.backward;let d;if(n===void 0)throw new L("view-selection-setto-required-second-parameter",this);n=="in"?d=he._createIn(t):n=="on"?d=he._createOn(t):d=new he(Q._createAt(t,n)),this._setRanges([d],c),this._setFakeOptions(s)}else if(Mt(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new L("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new L("view-selection-setfocus-no-ranges",this);const n=Q._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),n.compareWith(s)=="before"?this._addRange(new he(n,s),!0):this._addRange(new he(s,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof he))throw new L("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new L("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new he(e.start,e.end))}}ai.prototype.is=function(r){return r==="selection"||r==="view:selection"};class kp extends Ce(xo){constructor(...e){super(),this._selection=new ai,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}kp.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class xs extends te{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const wp=Symbol("bubbling contexts");function bp(r){class e extends r{fire(n,...s){try{const c=n instanceof te?n:new te(this,n),d=_p(this);if(!d.size)return;if(uc(c,"capturing",this),Es(d,"$capture",c,...s))return c.return;const h=c.startRange||this.selection.getFirstRange(),p=h?h.getContainedElement():null,b=p?!!x0(d,p):!1;let v=p||JP(h);if(uc(c,"atTarget",v),!b){if(Es(d,"$text",c,...s))return c.return;uc(c,"bubbling",v)}for(;v;){if(v.is("rootElement")){if(Es(d,"$root",c,...s))return c.return}else if(v.is("element")&&Es(d,v.name,c,...s))return c.return;if(Es(d,v,c,...s))return c.return;v=v.parent,uc(c,"bubbling",v)}return uc(c,"bubbling",this),Es(d,"$document",c,...s),c.return}catch(c){L.rethrowUnexpectedError(c,this)}}_addEventListener(n,s,c){const d=Bt(c.context||"$document"),h=_p(this);for(const p of d){let b=h.get(p);b||(b=new(Ce()),h.set(p,b)),this.listenTo(b,n,s,c)}}_removeEventListener(n,s){const c=_p(this);for(const d of c.values())this.stopListening(d,n,s)}}return e}{const r=bp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{bp[e]=r.prototype[e]})}function uc(r,e,t){r instanceof xs&&(r._eventPhase=e,r._currentTarget=t)}function Es(r,e,t,...n){const s=typeof e=="string"?r.get(e):x0(r,e);return s?(s.fire(t,...n),t.stop.called):!1}function x0(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function _p(r){return r[wp]||(r[wp]=new Map),r[wp]}function JP(r){if(!r)return null;const e=r.start.parent,t=r.end.parent,n=e.getPath(),s=t.getPath();return n.length>s.length?e:t}class Yd extends bp(Be()){constructor(e){super(),this._postFixers=new Set,this.selection=new kp,this.roots=new $n({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}const E0=10;class To extends Sn{constructor(e,t,n,s){super(e,t,n,s),this._priority=E0,this._id=null,this._clonesGroup=null,this.getFillerOffset=XP}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new L("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}To.DEFAULT_PRIORITY=E0,To.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function XP(){if(vp(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(vp(r)>1)return null;r=r.parent}return!r||vp(r)>1?null:this.childCount}function vp(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}class yp extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=eO}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new L("view-emptyelement-cannot-add",[this,t]);return 0}}yp.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function eO(){return null}class Zd extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=nO}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new L("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}Zd.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function tO(r){r.document.on("arrowKey",(e,t)=>iO(e,t,r.domConverter),{priority:"low"})}function nO(){return null}function iO(r,e,t){if(e.keyCode==Se.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),s=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(s||e.shiftKey){const c=n.focusNode,d=n.focusOffset,h=t.domPositionToView(c,d);if(h===null)return;let p=!1;const b=h.getLastMatchingPosition(v=>(v.item.is("uiElement")&&(p=!0),!!(v.item.is("uiElement")||v.item.is("attributeElement"))));if(p){const v=t.viewPositionToDom(b);s?n.collapse(v.parent,v.offset):n.extend(v.parent,v.offset)}}}}class Ap extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=rO}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new L("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}Ap.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function rO(){return null}class Io extends Ce(xo){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=oO(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Io.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};function oO(r,e){return typeof e=="string"?[new He(r,e)]:(Mt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new He(r,t):t instanceof Di?new He(r,t.data):t))}class S0{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Io(this.document,e)}createText(e){return new He(this.document,e)}createAttributeElement(e,t,n={}){const s=new To(this.document,e,t);return typeof n.priority=="number"&&(s._priority=n.priority),n.id&&(s._id=n.id),n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createContainerElement(e,t,n={},s={}){let c=null;Zt(n)?s=n:c=n;const d=new dc(this.document,e,t,c);return s.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),d}createEditableElement(e,t,n={}){const s=new qd(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createEmptyElement(e,t,n={}){const s=new yp(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createUIElement(e,t,n){const s=new Zd(this.document,e,t);return n&&(s.render=n),s}createRawElement(e,t,n,s={}){const c=new Ap(this.document,e,t);return n&&(c.render=n),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Zt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Q?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new L("view-writer-break-non-container-element",this.document);if(!t.parent)throw new L("view-writer-break-root",this.document);if(e.isAtStart)return Q._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Q._createAfter(t),n);const s=new he(e,Q._createAt(t,"end")),c=new Q(n,0);this.move(s,c)}return Q._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const d=n.parent,h=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Q(d,h))}const s=n.getChild(t-1),c=n.getChild(t);if(!s||!c)return e;if(s.is("$text")&&c.is("$text"))return T0(s,c);if(s.is("attributeElement")&&c.is("attributeElement")&&s.isSimilar(c)){const d=s.childCount;return s._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new Q(s,d))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new L("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),c=s instanceof He?Q._createAt(s,"end"):Q._createAt(t,"end");return this.move(he._createIn(n),Q._createAt(t,"end")),this.remove(he._createOn(n)),c}insert(e,t){t=Mt(t)?[...t]:[t],I0(t,this.document);const n=t.reduce((d,h)=>{const p=d[d.length-1],b=!h.is("uiElement");return!p||p.breakAttributes!=b?d.push({breakAttributes:b,nodes:[h]}):p.nodes.push(h),d},[]);let s=null,c=e;for(const{nodes:d,breakAttributes:h}of n){const p=this._insertNodes(c,d,h);s||(s=p.start),c=p.end}return s?new he(s,c):new he(e)}remove(e){const t=e instanceof he?e:he._createOn(e);if(hc(t,this.document),t.isCollapsed)return new Io(this.document);const{start:n,end:s}=this._breakAttributesRange(t,!0),c=n.parent,d=s.offset-n.offset,h=c._removeChildren(n.offset,d);for(const b of h)this._removeFromClonedElementsGroup(b);const p=this.mergeAttributes(n);return t.start=p,t.end=p.clone(),new Io(this.document,h)}clear(e,t){hc(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of n){const c=s.item;let d;if(c.is("element")&&t.isSimilar(c))d=he._createOn(c);else if(!s.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const h=c.getAncestors().find(p=>p.is("element")&&t.isSimilar(p));h&&(d=he._createIn(h))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,c=s.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=s.childCount-c}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof To))throw new L("view-writer-wrap-invalid-attribute",this.document);if(hc(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!sO(n.parent)&&(n=n.getLastMatchingPosition(c=>c.item.is("uiElement"))),n=this._wrapPosition(n,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new he(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof To))throw new L("view-writer-unwrap-invalid-attribute",this.document);if(hc(e,this.document),e.isCollapsed)return e;const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._unwrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new he(h,p)}rename(e,t){const n=new dc(this.document,e,t.getAttributes());return this.insert(Q._createAfter(t),n),this.move(he._createIn(t),Q._createAt(n,0)),this.remove(he._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new ai(...e)}createSlot(e="children"){if(!this._slotFactory)throw new L("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let s;if(n?s=Cp(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new L("view-writer-invalid-position-container",this.document);let c;n?c=this._breakAttributes(e,!0):c=e.parent.is("$text")?xp(e):e;const d=s._insertChild(c.offset,t);for(const v of t)this._addToClonedElementsGroup(v);const h=c.getShiftedBy(d),p=this.mergeAttributes(c);p.isEqual(c)||h.offset--;const b=this.mergeAttributes(h);return new he(p,b)}_wrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const p=e.getChild(c),b=p.is("$text"),v=p.is("attributeElement");if(v&&this._wrapAttributeElement(s,p))d.push(new Q(e,c));else if(b||!v||aO(s,p)){const C=s._clone();p._remove(),C._appendChild(p),e._insertChild(c,C),this._addToClonedElementsGroup(C),d.push(new Q(e,c))}else this._wrapChildren(p,0,p.childCount,s);c++}let h=0;for(const p of d){if(p.offset-=h,p.offset==t)continue;this.mergeAttributes(p).isEqual(p)||(h++,n--)}return he._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const p=e.getChild(c);if(!p.is("attributeElement")){c++;continue}if(p.isSimilar(s)){const b=p.getChildren(),v=p.childCount;p._remove(),e._insertChild(c,b),this._removeFromClonedElementsGroup(p),d.push(new Q(e,c),new Q(e,c+v)),c+=v,n+=v-1;continue}if(this._unwrapAttributeElement(s,p)){d.push(new Q(e,c),new Q(e,c+1)),c++;continue}this._unwrapChildren(p,0,p.childCount,s),c++}let h=0;for(const p of d){if(p.offset-=h,p.offset==t||p.offset==n)continue;this.mergeAttributes(p).isEqual(p)||(h++,n--)}return he._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._wrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new he(h,p)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return D0(e.clone());e.parent.is("$text")&&(e=xp(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const s=new he(e,e.getShiftedBy(1));this.wrap(s,t);const c=new Q(n.parent,n.index);n._remove();const d=c.nodeBefore,h=c.nodeAfter;return d instanceof He&&h instanceof He?T0(d,h):D0(c)}_wrapAttributeElement(e,t){if(!M0(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!M0(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,s=e.end;if(hc(e,this.document),e.isCollapsed){const p=this._breakAttributes(e.start,t);return new he(p,p)}const c=this._breakAttributes(s,t),d=c.parent.childCount,h=this._breakAttributes(n,t);return c.offset+=c.parent.childCount-d,new he(h,c)}_breakAttributes(e,t=!1){const n=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new L("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new L("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new L("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Ep(s.parent)||Ep(s))return e.clone();if(s.is("$text"))return this._breakAttributes(xp(e),t);const c=s.childCount;if(n==c){const d=new Q(s.parent,s.index+1);return this._breakAttributes(d,t)}else if(n===0){const d=new Q(s.parent,s.index);return this._breakAttributes(d,t)}else{const d=s.index+1,h=s._clone();s.parent._insertChild(d,h),this._addToClonedElementsGroup(h);const p=s.childCount-n,b=s._removeChildren(n,p);h._appendChild(b);const v=new Q(s.parent,d);return this._breakAttributes(v,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function sO(r){return Array.from(r.getChildren()).some(e=>!e.is("uiElement"))}function Cp(r){let e=r.parent;for(;!Ep(e);){if(!e)return;e=e.parent}return e}function aO(r,e){return r.priority<e.priority?!0:r.priority>e.priority?!1:r.getIdentity()<e.getIdentity()}function D0(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new Q(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new Q(t,0):r}function xp(r){if(r.offset==r.parent.data.length)return new Q(r.parent.parent,r.parent.index+1);if(r.offset===0)return new Q(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new He(r.root.document,e)),new Q(r.parent.parent,r.parent.index+1)}function T0(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new Q(r,t)}const cO=[He,To,dc,yp,Ap,Zd];function I0(r,e){for(const t of r){if(!cO.some(n=>t instanceof n))throw new L("view-writer-insert-invalid-node-type",e);t.is("$text")||I0(t.getChildren(),e)}}function Ep(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function hc(r,e){const t=Cp(r.start),n=Cp(r.end);if(!t||!n||t!==n)throw new L("view-writer-invalid-range-container",e)}function M0(r,e){return r.id===null&&e.id===null}const N0=r=>r.createTextNode(""),P0=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},O0=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},ci=7,fc="".repeat(ci);function Dn(r){return typeof r=="string"?r.substr(0,ci)===fc:Ct(r)&&r.data.substr(0,ci)===fc}function gc(r){return r.data.length==ci&&Dn(r)}function B0(r){const e=typeof r=="string"?r:r.data;return Dn(r)?e.slice(ci):e}function lO(r){r.document.on("arrowKey",dO,{priority:"low"})}function dO(r,e){if(e.keyCode==Se.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Dn(n)&&s<=ci&&t.collapse(n,0)}}}var z0=a(5037),Sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sp.insert="head",Sp.singleton=!0,se()(z0.Z,Sp),z0.Z.locals;class uO extends Be(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),m.isBlink&&!m.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new L("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!m.isAndroid)return;let e=null;const t=m.isBlink&&!m.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Q._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),s=n.parent.ownerDocument;Dn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=L0(s,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),c=this._diffNodeLists(n,s),d=this._findUpdateActions(c,n,s,fO);if(d.indexOf("update")!==-1){const h={equal:0,insert:0,delete:0};for(const p of d)if(p==="update"){const b=h.equal+h.insert,v=h.equal+h.delete,C=e.getChild(b);C&&!(C.is("uiElement")||C.is("rawElement"))&&this._updateElementMappings(C,n[v]),Hv(s[b]),h.equal++}else h[p]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Q._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Ct(t.parent)&&Dn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Dn(e))throw new L("view-renderer-filler-was-lost",this);gc(e)?e.remove():e.data=e.data.substr(ci),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!hO(t)||n===t.getFillerOffset())return!1;const s=e.nodeBefore,c=e.nodeAfter;return!(s instanceof He||c instanceof He||m.isAndroid&&(s||c))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let c=this.domConverter.viewToDom(e).data;const d=t.inlineFillerPosition;d&&d.parent==e.parent&&d.offset==e.index&&(c=fc+c),j0(n,c)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(c=>c.name),s=e.getAttributeKeys();for(const c of s)this.domConverter.setDomElementAttribute(t,c,e.getAttribute(c),e);for(const c of n)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(m.isAndroid){let C=null;for(const N of Array.from(n.childNodes)){if(C&&Ct(C)&&Ct(N)){n.normalize();break}C=N}}const s=t.inlineFillerPosition,c=n.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&L0(n.ownerDocument,d,s.offset);const h=this._diffNodeLists(c,d),p=this._findUpdateActions(h,c,d,gO);let b=0;const v=new Set;for(const C of p)C==="delete"?(v.add(c[b]),Hv(c[b])):(C==="equal"||C==="update")&&b++;b=0;for(const C of p)C==="insert"?(Fv(n,b,d[b]),b++):C==="update"?(j0(c[b],d[b].data),b++):C==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[b])),b++);for(const C of v)C.parentNode||this.domConverter.unbindDomElement(C)}_diffNodeLists(e,t){return e=kO(e,this._fakeSelectionContainer),$(e,t,pO.bind(null,this.domConverter))}_findUpdateActions(e,t,n,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],d=[],h=[];const p={equal:0,insert:0,delete:0};for(const b of e)b==="insert"?h.push(n[p.equal+p.insert]):b==="delete"?d.push(t[p.equal+p.delete]):(c=c.concat($(d,h,s).map(v=>v==="equal"?"update":v)),c.push("equal"),d=[],h=[]),p[b]++;return c.concat($(d,h,s).map(b=>b==="equal"?"update":b))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(m.isBlink&&!m.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&m.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=wO(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),c=t.createRange();s.removeAllRanges(),c.selectNodeContents(n),s.addRange(c)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,s.parent,s.offset),m.isGecko&&mO(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,s=this.domConverter.mapDomToView(n);n&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function hO(r){if(r.getAttribute("contenteditable")=="false")return!1;const e=r.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function L0(r,e,t){const n=e instanceof Array?e:e.childNodes,s=n[t];if(Ct(s))return s.data=fc+s.data,s;{const c=r.createTextNode(fc);return Array.isArray(e)?n.splice(t,0,c):Fv(e,t,c),c}}function fO(r,e){return Tr(r)&&Tr(e)&&!Ct(r)&&!Ct(e)&&!cc(r)&&!cc(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function gO(r,e){return Tr(r)&&Tr(e)&&Ct(r)&&Ct(e)}function pO(r,e,t){return e===t?!0:Ct(e)&&Ct(t)?e.data===t.data:!!(r.isBlockFiller(e)&&r.isBlockFiller(t))}function mO(r,e){const t=r.parent;if(t.nodeType!=Node.ELEMENT_NODE||r.offset!=t.childNodes.length-1)return;const n=t.childNodes[r.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function kO(r,e){const t=Array.from(r);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function wO(r){const e=r.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function j0(r,e){const t=r.data;if(t==e)return;const n=O(t,e);for(const s of n)s.type==="insert"?r.insertData(s.index,s.values.join("")):r.deleteData(s.index,s.howMany)}const bO=O0(le.document),_O=N0(le.document),vO=P0(le.document),Kd="data-ck-unsafe-attribute-",R0="data-ck-unsafe-element";class Qd{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Wn,this._inlineObjectElementMatcher=new Wn,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?le.document:le.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new ai(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),s=n.createDocumentFragment(),c=n.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);const d=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),h=[];let p;for(;p=d.nextNode();)h.push(p);for(const b of h){for(const C of b.getAttributeNames())this.setDomElementAttribute(b,C,b.getAttribute(C));const v=b.tagName.toLowerCase();this._shouldRenameElement(v)&&(U0(v),b.replaceWith(this._createReplacementDomElement(v,b)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return e.name==="$comment"?n=this._domDocument.createComment(e.getCustomProperty("$rawContent")):n=e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(U0(e.name),n=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):n=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(n,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))n.appendChild(s);return n}}setDomElementAttribute(e,t,n,s){const c=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(c||Te("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),!RN(t)){Te("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n});return}e.hasAttribute(t)&&!c?e.removeAttribute(t):e.hasAttribute(Kd+t)&&c&&e.removeAttribute(Kd+t),e.setAttribute(c?t:Kd+t,n)}removeDomElementAttribute(e,t){t!=R0&&(e.removeAttribute(t),e.removeAttribute(Kd+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const c of e.getChildren()){n===s&&(yield this._getBlockFiller());const d=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!zt(c.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,t):(d&&Te("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,t)),s++}n===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(n.parent,n.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let s=e.offset;return Dn(n)&&(s+=ci),{parent:n,offset:s}}else{let n,s,c;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;c=n.childNodes[0]}else{const h=e.nodeBefore;if(s=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!s)return null;n=s.parentNode,c=s.nextSibling}if(Ct(c)&&Dn(c))return{parent:c,offset:ci};const d=s?Ud(s)+1:0;return{parent:n,offset:d}}}domToView(e,t={}){const n=[],s=this._domToView(e,t,n),c=s.next().value;return!c||(s.next(),this._processDomInlineNodes(null,n,t),c.is("$text")&&c.data.length==0)?null:c}*domChildrenToView(e,t={},n=[]){for(let s=0;s<e.childNodes.length;s++){const c=e.childNodes[s],d=this._domToView(c,t,n),h=d.next().value;h!==null&&(this._isBlockViewElement(h)&&this._processDomInlineNodes(e,n,t),yield h,d.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(CO(e))return new ai([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Ct(s)&&(s=s.parentNode);const c=this.fakeSelectionToView(s);if(c)return c}const t=this.isDomSelectionBackward(e),n=[];for(let s=0;s<e.rangeCount;s++){const c=e.getRangeAt(s),d=this.domRangeToView(c);d&&n.push(d)}return new ai(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new he(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Ud(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Q._createBefore(n);if(Ct(e)){if(gc(e))return this.domPositionToView(e.parentNode,Ud(e));const s=this.findCorrespondingViewText(e);let c=t;return s?(Dn(e)&&(c-=ci,c=c<0?0:c),new Q(s,c)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new Q(s,0)}else{const s=e.childNodes[t-1];if(Ct(s)&&gc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Ud(s));const c=Ct(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(c&&c.parent)return new Q(c.parent,c.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(gc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const s=this.mapDomToView(n);if(s){const c=s.nextSibling;return c instanceof He?c:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const c=s.getChild(0);return c instanceof He?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:s}=le.window,c=[];F0(t,d=>{const{scrollLeft:h,scrollTop:p}=d;c.push([h,p])}),t.focus(),F0(t,d=>{const[h,p]=c.shift();d.scrollLeft=h,d.scrollTop=p}),le.window.scrollTo(n,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(bO):e.tagName==="BR"&&V0(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(vO)||AO(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=BN(e);for(t.pop();t.length;){const n=t.pop(),s=this._domToViewMapping.get(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return N0(this._domDocument);case"markedNbsp":return P0(this._domDocument);case"br":return O0(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Ct(e)&&Dn(e)&&t<ci||this.isElement(e)&&Dn(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(cc(e)&&t.skipComments)return null;if(Ct(e)){if(gc(e))return null;{const c=e.data;if(c==="")return null;const d=new He(this.document,c);return n.push(d),d}}else{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&n.push(c),c;if(this.isDocumentFragment(e))c=new Io(this.document),t.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,t),t.bind&&this.bindElements(e,c);const h=e.attributes;if(h)for(let p=h.length,b=0;b<p;b++)c._setAttribute(h[b].name,h[b].value);if(this._isViewElementWithRawContent(c,t))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||n.push(c),c;if(cc(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const d=[];if(t.withChildren!==!1)for(const h of this.domChildrenToView(e,t,d))c._appendChild(h);if(this._isInlineObjectElement(c))n.push(c);else for(const h of d)n.push(h)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let c=0;c<t.length;c++){const d=t[c];if(!d.is("$text")){s=!1;continue}let h,p=!1;if(yO(d,this.preElements))h=B0(d.data);else{h=d.data.replace(/[ \n\t\r]{1,}/g," "),p=/[^\S\u00A0]/.test(h.charAt(h.length-1));const b=c>0?t[c-1]:null,v=c+1<t.length?t[c+1]:null,C=!b||b.is("element")&&b.name=="br"||s,N=v?!1:!Dn(d.data);n.withChildren!==!1&&(C&&(h=h.replace(/^ /,"")),N&&(h=h.replace(/ $/,""))),h=B0(h),h=h.replace(/ \u00A0/g,"  ");const B=v&&v.is("element")&&v.name!="br",R=v&&v.is("$text")&&v.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(h)||!v||B||R)&&(h=h.replace(/\u00A0$/," ")),(C||b&&b.is("element")&&b.name!="br")&&(h=h.replace(/^\u00A0/," "))}h.length==0&&d.parent?(d._remove(),t.splice(c,1),c--):(d._data=h,s=p)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),s=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new Do({startPosition:t?Q._createAfter(e):Q._createBefore(e),direction:t?"forward":"backward"});for(const s of n){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(cc(e))return new Zd(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Sn(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(R0,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const s of t.getAttributeNames())n.setAttribute(s,t.getAttribute(s))}return n}}function yO(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function F0(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function AO(r,e){return r.isEqualNode(_O)&&V0(r,e)&&r.parentNode.childNodes.length===1}function V0(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function U0(r){r==="script"&&Te("domconverter-unsafe-script-element-detected"),r==="style"&&Te("domconverter-unsafe-style-element-detected")}function CO(r){if(!m.isGecko||!r.rangeCount)return!1;const e=r.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Ti extends En(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var xO=b0(function(r,e){ie(e,As(e),r)});const H0=xO;class Ss{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,H0(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Mo extends Ti{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(s,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Ss(this.view,t,n))}}class EO extends Mo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Cs(this)}};this.fire(e.type,e,t)}}var SO=function(){return An.Date.now()};const Dp=SO;var DO=/\s/;function TO(r){for(var e=r.length;e--&&DO.test(r.charAt(e)););return e}const IO=TO;var MO=/^\s+/;function NO(r){return r&&r.slice(0,IO(r)+1).replace(MO,"")}const PO=NO;var $0=0/0,OO=/^[-+]0x[0-9a-f]+$/i,BO=/^0b[01]+$/i,zO=/^0o[0-7]+$/i,LO=parseInt;function jO(r){if(typeof r=="number")return r;if($d(r))return $0;if(Ze(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Ze(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=PO(r);var t=BO.test(r);return t||zO.test(r)?LO(r.slice(2),t?2:8):OO.test(r)?$0:+r}const W0=jO;var RO="Expected a function",FO=Math.max,VO=Math.min;function UO(r,e,t){var n,s,c,d,h,p,b=0,v=!1,C=!1,N=!0;if(typeof r!="function")throw new TypeError(RO);e=W0(e)||0,Ze(t)&&(v=!!t.leading,C="maxWait"in t,c=C?FO(W0(t.maxWait)||0,e):c,N="trailing"in t?!!t.trailing:N);function B(ae){var be=n,ce=s;return n=s=void 0,b=ae,d=r.apply(ce,be),d}function R(ae){return b=ae,h=setTimeout(ue,e),v?B(ae):d}function G(ae){var be=ae-p,ce=ae-b,it=e-be;return C?VO(it,c-ce):it}function re(ae){var be=ae-p,ce=ae-b;return p===void 0||be>=e||be<0||C&&ce>=c}function ue(){var ae=Dp();if(re(ae))return ze(ae);h=setTimeout(ue,G(ae))}function ze(ae){return h=void 0,N&&n?B(ae):(n=s=void 0,d)}function Je(){h!==void 0&&clearTimeout(h),b=0,n=p=s=h=void 0}function dt(){return h===void 0?d:ze(Dp())}function kt(){var ae=Dp(),be=re(ae);if(n=arguments,s=this,p=ae,be){if(h===void 0)return R(p);if(C)return clearTimeout(h),h=setTimeout(ue,e),B(p)}return h===void 0&&(h=setTimeout(ue,e)),d}return kt.cancel=Je,kt.flush=dt,kt}const pc=UO;class HO extends Ti{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=pc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new ai(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Se.arrowleft||e==Se.arrowup)&&n.setTo(n.getFirstPosition()),(e==Se.arrowright||e==Se.arrowdown)&&n.setTo(n.getLastPosition());const s={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}var $O="__lodash_hash_undefined__";function WO(r){return this.__data__.set(r,$O),this}const qO=WO;function GO(r){return this.__data__.has(r)}const YO=GO;function Jd(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new vs;++e<t;)this.add(r[e])}Jd.prototype.add=Jd.prototype.push=qO,Jd.prototype.has=YO;const ZO=Jd;function KO(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}const QO=KO;function JO(r,e){return r.has(e)}const XO=JO;var eB=1,tB=2;function nB(r,e,t,n,s,c){var d=t&eB,h=r.length,p=e.length;if(h!=p&&!(d&&p>h))return!1;var b=c.get(r),v=c.get(e);if(b&&v)return b==e&&v==r;var C=-1,N=!0,B=t&tB?new ZO:void 0;for(c.set(r,e),c.set(e,r);++C<h;){var R=r[C],G=e[C];if(n)var re=d?n(G,R,C,e,r,c):n(R,G,C,r,e,c);if(re!==void 0){if(re)continue;N=!1;break}if(B){if(!QO(e,function(ue,ze){if(!XO(B,ze)&&(R===ue||s(R,ue,t,n,c)))return B.push(ze)})){N=!1;break}}else if(!(R===G||s(R,G,t,n,c))){N=!1;break}}return c.delete(r),c.delete(e),N}const q0=nB;function iB(r){var e=-1,t=Array(r.size);return r.forEach(function(n,s){t[++e]=[s,n]}),t}const rB=iB;function oB(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}const sB=oB;var aB=1,cB=2,lB="[object Boolean]",dB="[object Date]",uB="[object Error]",hB="[object Map]",fB="[object Number]",gB="[object RegExp]",pB="[object Set]",mB="[object String]",kB="[object Symbol]",wB="[object ArrayBuffer]",bB="[object DataView]",G0=Vn?Vn.prototype:void 0,Tp=G0?G0.valueOf:void 0;function _B(r,e,t,n,s,c,d){switch(t){case bB:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case wB:return!(r.byteLength!=e.byteLength||!c(new Ld(r),new Ld(e)));case lB:case dB:case fB:return _r(+r,+e);case uB:return r.name==e.name&&r.message==e.message;case gB:case mB:return r==e+"";case hB:var h=rB;case pB:var p=n&aB;if(h||(h=sB),r.size!=e.size&&!p)return!1;var b=d.get(r);if(b)return b==e;n|=cB,d.set(r,e);var v=q0(h(r),h(e),n,s,c,d);return d.delete(r),v;case kB:if(Tp)return Tp.call(r)==Tp.call(e)}return!1}const vB=_B;var yB=1,AB=Object.prototype,CB=AB.hasOwnProperty;function xB(r,e,t,n,s,c){var d=t&yB,h=Wg(r),p=h.length,b=Wg(e),v=b.length;if(p!=v&&!d)return!1;for(var C=p;C--;){var N=h[C];if(!(d?N in e:CB.call(e,N)))return!1}var B=c.get(r),R=c.get(e);if(B&&R)return B==e&&R==r;var G=!0;c.set(r,e),c.set(e,r);for(var re=d;++C<p;){N=h[C];var ue=r[N],ze=e[N];if(n)var Je=d?n(ze,ue,N,e,r,c):n(ue,ze,N,r,e,c);if(!(Je===void 0?ue===ze||s(ue,ze,t,n,c):Je)){G=!1;break}re||(re=N=="constructor")}if(G&&!re){var dt=r.constructor,kt=e.constructor;dt!=kt&&"constructor"in r&&"constructor"in e&&!(typeof dt=="function"&&dt instanceof dt&&typeof kt=="function"&&kt instanceof kt)&&(G=!1)}return c.delete(r),c.delete(e),G}const EB=xB;var SB=1,Y0="[object Arguments]",Z0="[object Array]",Xd="[object Object]",DB=Object.prototype,K0=DB.hasOwnProperty;function TB(r,e,t,n,s,c){var d=Ot(r),h=Ot(e),p=d?Z0:sc(r),b=h?Z0:sc(e);p=p==Y0?Xd:p,b=b==Y0?Xd:b;var v=p==Xd,C=b==Xd,N=p==b;if(N&&rc(r)){if(!rc(e))return!1;d=!0,v=!1}if(N&&!v)return c||(c=new Er),d||Vg(r)?q0(r,e,t,n,s,c):vB(r,e,p,t,n,s,c);if(!(t&SB)){var B=v&&K0.call(r,"__wrapped__"),R=C&&K0.call(e,"__wrapped__");if(B||R){var G=B?r.value():r,re=R?e.value():e;return c||(c=new Er),s(G,re,t,n,c)}}return N?(c||(c=new Er),EB(r,e,t,n,s,c)):!1}const IB=TB;function Q0(r,e,t,n,s){return r===e?!0:r==null||e==null||!rn(r)&&!rn(e)?r!==r&&e!==e:IB(r,e,t,n,Q0,s)}const J0=Q0;function MB(r,e,t){t=typeof t=="function"?t:void 0;var n=t?t(r,e):void 0;return n===void 0?J0(r,e,void 0,t):!!n}const NB=MB;class X0 extends Ti{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,s=new Set;for(const d of e){const h=t.mapDomToView(d.target);h&&(h.is("uiElement")||h.is("rawElement")||d.type==="childList"&&!this._isBogusBrMutation(d)&&s.add(h))}for(const d of e){const h=t.mapDomToView(d.target);if(!(h&&(h.is("uiElement")||h.is("rawElement")))&&d.type==="characterData"){const p=t.findCorrespondingViewText(d.target);p&&!s.has(p.parent)?n.add(p):!p&&Dn(d.target)&&s.add(t.mapDomToView(d.target.parentNode))}}let c=!1;for(const d of n)c=!0,this.renderer.markToSync("text",d);for(const d of s){const h=t.mapViewToDom(d),p=Array.from(d.getChildren()),b=Array.from(t.domChildrenToView(h,{withChildren:!1}));NB(p,b,PB)||(c=!0,this.renderer.markToSync("children",d))}c&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function PB(r,e){if(!Array.isArray(r))return r===e?!0:r.is("$text")&&e.is("$text")?r.data===e.data:!1}class eu extends Mo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,s)=>{const c=t.selection.editableElement;(c===null||c===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class OB extends Ti{constructor(e){super(e),this.mutationObserver=e.getObserver(X0),this.focusObserver=e.getObserver(eu),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=pc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=pc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(c,d)=>{this.document.isComposing&&!m.isAndroid||(this._handleSelectionChange(d,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class BB extends Mo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class ey{constructor(e,t={}){this._files=t.cacheFiles?ty(e):null,this._native=e}get files(){return this._files||(this._files=ty(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ty(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class zB extends Mo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,s=n.document;let c=null,d=null,h=[];if(e.dataTransfer&&(c=new ey(e.dataTransfer)),e.data!==null?d=e.data:c&&(d=c.getData("text/plain")),s.selection.isFake)h=Array.from(s.selection.getRanges());else if(t.length)h=t.map(p=>{const b=n.domConverter.domPositionToView(p.startContainer,p.startOffset),v=n.domConverter.domPositionToView(p.endContainer,p.endOffset);if(b)return n.createRange(b,v);if(v)return n.createRange(v)}).filter(p=>!!p);else if(m.isAndroid){const p=e.target.ownerDocument.defaultView.getSelection();h=Array.from(n.domConverter.domSelectionToView(p).getRanges())}if(m.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(h[0].end)]});return}if(e.inputType=="insertText"&&d&&d.includes(`
`)){const p=d.split(/\n{1,2}/g);let b=h;for(let v=0;v<p.length;v++){const C=p[v];C!=""&&(this.fire(e.type,e,{data:C,dataTransfer:c,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing}),b=[s.selection.getFirstRange()]),v+1<p.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:b}),b=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:d,dataTransfer:c,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing})}}class LB extends Ti{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&ZN(n.keyCode)){const s=new xs(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class jB extends Ti{constructor(e){super(e);const t=this.document;t.on("keydown",(n,s)=>{if(!this.isEnabled||s.keyCode!=Se.tab||s.ctrlKey)return;const c=new xs(t,"tab",t.selection.getFirstRange());t.fire(c,s),c.stop.called&&n.stop()})}observe(){}stopObserving(){}}var RB=1,FB=4;function VB(r){return Qg(r,RB|FB)}const Ir=VB;class UB extends Be(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Yd(e),this.domConverter=new Qd(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new uO(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new S0(this.document),this.addObserver(X0),this.addObserver(eu),this.addObserver(OB),this.addObserver(EO),this.addObserver(HO),this.addObserver(BB),this.addObserver(LB),this.addObserver(zB),this.addObserver(jB),lO(this),tO(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),m.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const s={};for(const{name:d,value:h}of Array.from(e.attributes))s[d]=h,d==="class"?this._writer.addClass(h.split(" "),n):this._writer.setAttribute(d,h,n);this._initialDomRootAttributes.set(e,s);const c=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(d,h)=>this._renderer.markToSync("children",h)),n.on("change:attributes",(d,h)=>this._renderer.markToSync("attributes",h)),n.on("change:text",(d,h)=>this._renderer.markToSync("text",h)),n.on("change:isReadOnly",()=>this.change(c)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const n=this._initialDomRootAttributes.get(t);for(const s in n)t.setAttribute(s,n[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,s]of this.domRoots)t.observe(s,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:s=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const d=Ir({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:s});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const h={target:this.domConverter.viewRangeToDom(c),viewportOffset:n,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",h,d),UN(h)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new L("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){L.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(eu).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new ai(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Mr{is(){throw new Error("is() method is abstract")}}class No extends Mr{constructor(e){super(),this.parent=null,this._attrs=Si(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=pt(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Si(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}No.prototype.is=function(r){return r==="node"||r==="model:node"};class mc{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,s)=>n+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new L("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new L("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof No))throw new L("model-nodelist-insertnodes-not-node",this);this._nodes=c3(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class $e extends No{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new $e(this.data,this.getAttributes())}static fromJSON(e){return new $e(e.data,e.attributes)}}$e.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class li extends Mr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new L("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new L("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}li.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class Fe extends No{constructor(e,t,n){super(t),this._children=new mc,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Fe(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=HB(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Fe.fromJSON(n)):t.push($e.fromJSON(n))}return new Fe(e.name,e.attributes,t)}}Fe.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};function HB(r){return typeof r=="string"?[new $e(r)]:(Mt(r)||(r=[r]),Array.from(r).map(e=>typeof e=="string"?new $e(e):e instanceof li?new $e(e.data,e.getAttributes()):e))}class Ii{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new L("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new L("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=q._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,s,c;do s=this.position,c=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=s,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=kc(t,n),c=s||ny(t,n,s);if(c instanceof Fe){if(!this.shallow)t.path.push(0),this._visitedParent=c;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Po("elementStart",c,e,t,1)}if(c instanceof $e){let d;if(this.singleCharacters)d=1;else{let b=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),d=b-t.offset}const h=t.offset-c.startOffset,p=new li(c,h,d);return t.offset+=d,this._position=t,Po("text",p,e,t,d)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Po("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,c=kc(t,s),d=c||iy(t,s,c);if(d instanceof Fe)return t.offset--,this.shallow?(this._position=t,Po("elementStart",d,e,t,1)):(t.path.push(d.maxOffset),this._position=t,this._visitedParent=d,this.ignoreElementEnd?this._previous():Po("elementEnd",d,e,t));if(d instanceof $e){let h;if(this.singleCharacters)h=1;else{let v=d.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>v&&(v=this.boundaries.start.offset),h=t.offset-v}const p=t.offset-d.startOffset,b=new li(d,p-h,h);return t.offset-=h,this._position=t,Po("text",b,e,t,h)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Po("elementStart",n,e,t,1)}}function Po(r,e,t,n,s){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:s}}}class q extends Mr{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new L("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new L("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new L("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new L("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return kc(this,this.parent)}get nodeAfter(){const e=this.parent;return ny(this,e,kc(this,e))}get nodeBefore(){const e=this.parent;return iy(this,e,kc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=pt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Ii(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=pt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const s=this.path[n]-e.path[n];if(s<-1||s>1)return!1;if(s===1)return ry(e,this,n);if(s===-1)return ry(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Ip(this.path,t):Ip(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return pt(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=q._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let s;return n?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=q._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const n=q._createAt(this);if(this.root!=e.root)return n;if(pt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;n.path[s]-=t}}return n}_getTransformedByInsertion(e,t){const n=q._createAt(this);if(this.root!=e.root)return n;if(pt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(n.path[s]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return q._createAt(this);const s=this._getTransformedByDeletion(e,n);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,s=q._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[n]-e.offset,s.path=[...s.path,...this.path.slice(n+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof q)return new q(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,n);if(t=="after")return this._createAfter(s,n);if(t!==0&&!t)throw new L("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new L("model-position-parent-incorrect",[this,e]);const c=s.getPath();return c.push(t),new this(s.root,c,n)}}static _createAfter(e,t){if(!e.parent)throw new L("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new L("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new q(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new L("model-position-fromjson-no-root",t,{rootName:e.root});return new q(t.getRoot(e.root),e.path,e.stickiness)}}q.prototype.is=function(r){return r==="position"||r==="model:position"};function kc(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function ny(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function iy(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function ry(r,e,t){return!(t+1===r.path.length||!Ip(e.path,t+1)||!$B(r,t+1))}function Ip(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}function $B(r,e){let t=r.parent,n=r.path.length-1,s=0;for(;n>=e;){if(r.path[n]+s!==t.maxOffset)return!1;s=1,n--,t=t.parent}return!0}class U extends Mr{constructor(e,t){super(),this.start=q._createAt(e),this.end=t?q._createAt(t):q._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ii({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return pt(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}containsItem(e){const t=q._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new U(this.start,e.start)),this.containsPosition(e.end)&&t.push(new U(e.end,this.end))):t.push(new U(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new U(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let s=this.start,c=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(c)&&(c=e.end),new U(s,c)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=q._createAt(this.start);let s=n.parent;for(;n.path.length>t+1;){const c=s.maxOffset-n.offset;c!==0&&e.push(new U(n,n.getShiftedBy(c))),n.path=n.path.slice(0,-1),n.offset++,s=s.parent}for(;n.path.length<=this.end.path.length;){const c=this.end.path[n.path.length-1],d=c-n.offset;d!==0&&e.push(new U(n,n.getShiftedBy(d))),n.offset=c,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ii(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ii(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Ii(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new U(this.start,this.end)]}getTransformedByOperations(e){const t=[new U(this.start,this.end)];for(const n of e)for(let s=0;s<t.length;s++){const c=t[s].getTransformedByOperation(n);t.splice(s,1,...c),s+=c.length-1}for(let n=0;n<t.length;n++){const s=t[n];for(let c=n+1;c<t.length;c++){const d=t[c];(s.containsRange(d)||d.containsRange(s)||s.isEqual(d))&&t.splice(c,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,s=e.howMany,c=e.targetPosition;return this._getTransformedByMove(n,c,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new U(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new U(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=q._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new U(t,n)):new U(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new U(this.start,e),new U(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new U(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,n,s=!1){if(this.isCollapsed){const C=this.start._getTransformedByMove(e,t,n);return[new U(C)]}const c=U._createFromPositionAndShift(e,n),d=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!s&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const C=this.start._getTransformedByMove(e,t,n),N=this.end._getTransformedByMove(e,t,n);return[new U(C,N)]}let h;const p=this.getDifference(c);let b=null;const v=this.getIntersection(c);if(p.length==1?b=new U(p[0].start._getTransformedByDeletion(e,n),p[0].end._getTransformedByDeletion(e,n)):p.length==2&&(b=new U(this.start,this.end._getTransformedByDeletion(e,n))),b?h=b._getTransformedByInsertion(d,n,v!==null||s):h=[],v){const C=new U(v.start._getCombined(c.start,d),v.end._getCombined(c.start,d));h.length==2?h.splice(1,0,C):h.push(C)}return h}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return n==null&&s==null?null:(n==null&&(n=e),s==null&&(s=e),new U(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return new this(q._createAt(e,0),q._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(q._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new L("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((c,d)=>c.start.isAfter(d.start)?1:-1);const n=e.indexOf(t),s=new this(t.start,t.end);if(n>0)for(let c=n-1;e[c].end.isEqual(s.start);c++)s.start=q._createAt(e[c].start);for(let c=n+1;c<e.length&&e[c].start.isEqual(s.end);c++)s.end=q._createAt(e[c].end);return s}static fromJSON(e,t){return new this(q.fromJSON(e.start,t),q.fromJSON(e.end,t))}}U.prototype.is=function(r){return r==="range"||r==="model:range"};class oy extends Ce(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new L("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(n),c=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=q._createAt(s,c)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new U(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new he(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const s of t)if(s.is("attributeElement"))for(const c of s.getElementsWithSameId())n.add(c);else n.add(s);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const c=this._toModelOffset(e.parent,e.index,n),d=this._toModelOffset(e,t,e);return c+d}if(e.is("$text"))return t;let s=0;for(let c=0;c<t;c++)s+=this.getModelLength(e.getChild(c));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,s=0,c=0,d=0;if(e.is("$text"))return new Q(e,t);for(;c<t;)n=e.getChild(d),s=this.getModelLength(n),c+=s,d++;return c==t?this._moveViewPositionToTextNode(new Q(e,d)):this.findPositionIn(n,t-(c-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof He?new Q(t,t.data.length):n instanceof He?new Q(n,0):e}}class WB{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=tu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=tu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=tu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const s=n.get(t);return s===void 0?null:s}revert(e,t){t=tu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,s]of this._consumable)for(const[c,d]of s){const h=c.split(":")[0];d&&e==h&&t.push({event:c,item:n.name||n.description})}if(t.length)throw new L("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const s=n.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,s=e.parent,c=Symbol("$textProxy:"+e.data);let d,h;return d=this._textProxyRegistry.get(t),d||(d=new Map,this._textProxyRegistry.set(t,d)),h=d.get(n),h||(h=new Map,d.set(n,h)),h.set(s,c),c}}function tu(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}class sy extends Ce(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const s=this._createConversionApi(n,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,s);const c=this._reduceChanges(e.getChanges());for(const d of c)d.type==="insert"?this._convertInsert(U._createFromPositionAndShift(d.position,d.length),s):d.type==="reinsert"?this._convertReinsert(U._createFromPositionAndShift(d.position,d.length),s):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,s):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,s);for(const d of s.mapper.flushUnboundMarkerNames()){const h=t.get(d).getRange();this._convertMarkerRemove(d,h,s),this._convertMarkerAdd(d,h,s)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,n,s={}){const c=this._createConversionApi(n,void 0,s);this._convertInsert(e,c);for(const[d,h]of t)this._convertMarkerAdd(d,h,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const s=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},s);const c=e.getFirstPosition().root;if(!s.mapper.toViewElement(c))return;const d=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,d),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const h of d)if(s.consumable.test(e,"addMarker:"+h.name)){const p=h.getRange();if(!qB(e.getFirstPosition(),h,s.mapper))continue;const b={item:e,markerName:h.name,markerRange:p};this.fire(`addMarker:${h.name}`,b,s)}for(const h of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+h)){const p={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.fire(`attribute:${h}:$text`,p,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(ay))this._testAndFire("insert",s,t)}_convertRemove(e,t,n,s){this.fire(`remove:${n}`,{position:e,length:t},s)}_convertAttribute(e,t,n,s,c){this._addConsumablesForRange(c.consumable,e,`attribute:${t}`);for(const d of e){const h={item:d.item,range:U._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:t,attributeOldValue:n,attributeNewValue:s};this._testAndFire(`attribute:${t}`,h,c)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const s of n.map(ay))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(n.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,s)){this._addConsumablesForRange(n.consumable,t,s);for(const c of t.getItems()){if(!n.consumable.test(c,s))continue;const d={item:c,range:U._createOn(c),markerName:e,markerRange:t};this.fire(s,d,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const s=n.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const c of s.getAttributeKeys())e.add(s,"attribute:"+c)}}return e}_addConsumablesForRange(e,t,n){for(const s of t.getItems())e.add(s,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const s of n)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,n){const s=GB(e,t),c=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,d=this._firedEventsMap.get(n),h=d.get(c);if(!h)d.set(c,new Set([s]));else if(!h.has(s))h.add(s);else return;this.fire(s,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:U._createOn(e)};for(const s of n.item.getAttributeKeys())n.attributeKey=s,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(s),this._testAndFire(`attribute:${s}`,n,t)}_createConversionApi(e,t=new Set,n={}){const s={...this._conversionApi,consumable:new WB,writer:e,options:n,convertItem:c=>this._convertInsert(U._createOn(c),s),convertChildren:c=>this._convertInsert(U._createIn(c),s,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,s),canReuseView:c=>!t.has(s.mapper.toModelElement(c))};return this._firedEventsMap.set(s,new Map),s}}function qB(r,e,t){const n=e.getRange(),s=Array.from(r.getAncestors());return s.shift(),s.reverse(),!s.some(d=>{if(n.containsItem(d))return!!t.toViewElement(d).getCustomProperty("addHighlight")})}function GB(r,e){const t=e.item.is("element")?e.item.name:"$text";return`${r}:${t}`}function ay(r){const e=r.item,t=U._createFromPositionAndShift(r.previousPosition,r.length);return{item:e,range:t}}class Tn extends Ce(Mr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new U(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new U(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new U(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof Tn)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof U)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof q)this._setRanges([new U(t)]);else if(t instanceof No){const c=!!s&&!!s.backward;let d;if(n=="in")d=U._createIn(t);else if(n=="on")d=U._createOn(t);else if(n!==void 0)d=new U(q._createAt(t,n));else throw new L("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([d],c)}else if(Mt(t))this._setRanges(t,s&&!!s.backward);else throw new L("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),s=n.some(c=>{if(!(c instanceof U))throw new L("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(c))});n.length===this._ranges.length&&!s||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new L("model-selection-setfocus-no-ranges",[this,e]);const n=q._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(s)=="before"?(this._pushRange(new U(n,s)),this._lastRangeBackward=!0):(this._pushRange(new U(s,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=ly(t.start,e);ZB(n,t)&&(yield n);for(const c of t.getWalker()){const d=c.item;c.type=="elementEnd"&&YB(d,e,t)&&(yield d)}const s=ly(t.end,e);KB(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=q._createAt(e,0),n=q._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new U(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new L("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Tn.prototype.is=function(r){return r==="selection"||r==="model:selection"};function cy(r,e){return e.has(r)?!1:(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function YB(r,e,t){return cy(r,e)&&Mp(r,t)}function ly(r,e){const n=r.parent.root.document.model.schema,s=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const d=s.find(h=>c?!1:(c=n.isLimit(h),!c&&cy(h,e)));return s.forEach(h=>e.add(h)),d}function Mp(r,e){const t=QB(r);return t?!e.containsRange(U._createOn(t),!0):!0}function ZB(r,e){return r?e.isCollapsed||r.isEmpty?!0:e.start.isTouching(q._createAt(r,r.maxOffset))?!1:Mp(r,e):!1}function KB(r,e){return r?e.isCollapsed||r.isEmpty?!0:e.end.isTouching(q._createAt(r,0))?!1:Mp(r,e):!1}function QB(r){const e=r.root.document.model.schema;let t=r.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class hn extends Ce(U){constructor(e,t){super(e,t),JB.call(this)}detach(){this.stopListening()}toRange(){return new U(this.start,this.end)}static fromRange(e){return new hn(e.start,e.end)}}hn.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};function JB(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&XB.call(this,t)},{priority:"low"})}function XB(r){const e=this.getTransformedByOperation(r),t=U._createFromRanges(e),n=!t.isEqual(this),s=ez(this,r);let c=null;if(n){t.root.rootName=="$graveyard"&&(r.type=="remove"?c=r.sourcePosition:c=r.deletionPosition);const d=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",d,{deletionPosition:c})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:c})}function ez(r,e){switch(e.type){case"insert":return r.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return r.containsPosition(e.sourcePosition)||r.start.isEqual(e.sourcePosition)||r.containsPosition(e.targetPosition);case"split":return r.containsPosition(e.splitPosition)||r.containsPosition(e.insertionPosition)}return!1}const wc="selection:";class di extends Ce(Mr){constructor(e){super(),this._selection=new tz(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return wc+e}static _isStoreAttributeKey(e){return e.startsWith(wc)}}di.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class tz extends Tn{constructor(e){super(),this.markers=new $n({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const s=n[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,s,c)=>{this._updateMarker(n,c)}),this.listenTo(this._document,"change",(t,n)=>{nz(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ve();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new L("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new L("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=hn.fromRange(e);return t.on("change:range",(n,s,c)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const d=this._ranges.indexOf(t);this._ranges.splice(d,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const c=s.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const d=s.getRange();for(const h of this.getRanges())d.containsRange(h,!h.isCollapsed)&&e.push(s)}const n=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let s=!1;const c=Array.from(this.markers),d=this.markers.has(e);if(!t)d&&(this.markers.remove(e),s=!0);else{let h=!1;for(const p of this.getRanges())if(t.containsRange(p,!p.isCollapsed)){h=!0;break}h&&!d?(this.markers.add(e),s=!0):!h&&d&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const t=Si(this._getSurroundingAttributes()),n=Si(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,d]of this._attributePriority)d=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(t);const s=[];for(const[c,d]of this.getAttributes())(!n.has(c)||n.get(c)!==d)&&s.push(c);for(const[c]of n)this.hasAttribute(c)||s.push(c);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,n=!0){const s=n?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,s]of this.getAttributes())e.get(n)!==s&&this._removeAttribute(n,!1);for(const[n,s]of e)this._setAttribute(n,s,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(wc)&&(yield[t.substr(wc.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=bc(s,t)),n||(n=bc(c,t)),!this.isGravityOverridden&&!n){let d=s;for(;d&&!n;)d=d.previousSibling,n=bc(d,t)}if(!n){let d=c;for(;d&&!n;)d=d.nextSibling,n=bc(d,t)}n||(n=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const c of s){if(c.item.is("element")&&t.isObject(c.item)){n=bc(c.item,t);break}if(c.type=="text"){n=c.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function bc(r,e){if(!r)return null;if(r instanceof li||r instanceof $e)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,s]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,s]);return t}function nz(r,e){const t=r.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const s=n.position.parent;n.length===s.maxOffset&&r.enqueueChange(e,d=>{const h=Array.from(s.getAttributeKeys()).filter(p=>p.startsWith(wc));for(const p of h)d.removeAttribute(p,s)})}}class dy{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class iz extends dy{elementToElement(e){return this.add(vz(e))}elementToStructure(e){return this.add(yz(e))}attributeToElement(e){return this.add(Az(e))}attributeToAttribute(e){return this.add(Cz(e))}markerToElement(e){return this.add(xz(e))}markerToHighlight(e){return this.add(Sz(e))}markerToData(e){return this.add(Ez(e))}}function uy(){return(r,e,t)=>{if(!t.consumable.consume(e.item,r.name))return;const n=t.writer,s=t.mapper.toViewPosition(e.range.start),c=n.createText(e.item.data);n.insert(s,c)}}function hy(){return(r,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function rz(){return(r,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),c=t.mapper.toViewPosition(s,{isPhantom:!0}),d=t.writer.createRange(n,c),h=t.writer.remove(d.getTrimmed());for(const p of t.writer.createRangeIn(h).getItems())t.mapper.unbindViewElement(p,{defer:!0})}}function fy(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function oz(){return(r,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=[];for(const c of n.getRanges())s.push(t.mapper.toViewRange(c));t.writer.setSelection(s,{backward:n.isBackward})}}function sz(){return(r,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=t.writer,c=n.getFirstPosition(),d=t.mapper.toViewPosition(c),h=s.breakAttributes(d);s.setSelection(h)}}function az(){return(r,e,t)=>{const n=t.writer,s=n.document.selection;for(const c of s.getRanges())c.isCollapsed&&c.end.parent.isAttached()&&t.writer.mergeAttributes(c.start);n.setSelection(null)}}function cz(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=r(t.attributeOldValue,n,t),c=r(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.writer,h=d.document.selection;if(t.item instanceof Tn||t.item instanceof di)d.wrap(h.getFirstRange(),c);else{let p=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(p=d.unwrap(p,s)),t.attributeNewValue!==null&&c&&d.wrap(p,c)}}}function lz(r,e=Oz){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=r(n.item,s,n);if(!c)return;e(n.item,s.consumable);const d=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,c),s.writer.insert(d,c),s.convertAttributes(n.item),_y(c,n.item.getChildren(),s,{reconversion:n.reconversion})}}function dz(r,e){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=new Map;s.writer._registerSlotFactory(Iz(n.item,c,s));const d=r(n.item,s,n);if(s.writer._clearSlotFactory(),!d)return;Mz(n.item,c,s),e(n.item,s.consumable);const h=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,d),s.writer.insert(h,d),s.convertAttributes(n.item),Nz(d,c,s,{reconversion:n.reconversion})}}function uz(r){return(e,t,n)=>{t.isOpening=!0;const s=r(t,n);t.isOpening=!1;const c=r(t,n);if(!s||!c)return;const d=t.markerRange;if(d.isCollapsed&&!n.consumable.consume(d,e.name))return;for(const b of d)if(!n.consumable.consume(b.item,e.name))return;const h=n.mapper,p=n.writer;p.insert(h.toViewPosition(d.start),s),n.mapper.bindElementToMarker(s,t.markerName),d.isCollapsed||(p.insert(h.toViewPosition(d.end),c),n.mapper.bindElementToMarker(c,t.markerName)),e.stop()}}function hz(){return(r,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const s of n)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),r.stop()}}}function fz(r){return(e,t,n)=>{const s=r(t.markerName,n);if(!s)return;const c=t.markerRange;n.consumable.consume(c,e.name)&&(gy(c,!1,n,t,s),gy(c,!0,n,t,s),e.stop())}}function gy(r,e,t,n,s){const c=e?r.start:r.end,d=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,h=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(d||h){let b,v;e&&d||!e&&!h?(b=d,v=!0):(b=h,v=!1);const C=t.mapper.toViewElement(b);if(C){gz(C,e,v,t,n,s);return}}const p=t.mapper.toViewPosition(c);pz(p,e,t,n,s)}function gz(r,e,t,n,s,c){const d=`data-${c.group}-${e?"start":"end"}-${t?"before":"after"}`,h=r.hasAttribute(d)?r.getAttribute(d).split(","):[];h.unshift(c.name),n.writer.setAttribute(d,h.join(","),r),n.mapper.bindElementToMarker(r,s.markerName)}function pz(r,e,t,n,s){const c=`${s.group}-${e?"start":"end"}`,d=s.name?{name:s.name}:null,h=t.writer.createUIElement(c,d);t.writer.insert(r,h),t.mapper.bindElementToMarker(h,n.markerName)}function mz(r){return(e,t,n)=>{const s=r(t.markerName,n);if(!s)return;const c=n.mapper.markerNameToElements(t.markerName);if(!c)return;for(const h of c)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("containerElement")?(d(`data-${s.group}-start-before`,h),d(`data-${s.group}-start-after`,h),d(`data-${s.group}-end-before`,h),d(`data-${s.group}-end-after`,h)):n.writer.clear(n.writer.createRangeOn(h),h);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function d(h,p){if(p.hasAttribute(h)){const b=new Set(p.getAttribute(h).split(","));b.delete(s.name),b.size==0?n.writer.removeAttribute(h,p):n.writer.setAttribute(h,Array.from(b).join(","),p)}}}}function kz(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=r(t.attributeOldValue,n,t),c=r(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.mapper.toViewElement(t.item),h=n.writer;if(!d)throw new L("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const p=Bt(s.value);for(const b of p)h.removeClass(b,d)}else if(s.key=="style"){const p=Object.keys(s.value);for(const b of p)h.removeStyle(b,d)}else h.removeAttribute(s.key,d);if(t.attributeNewValue!==null&&c)if(c.key=="class"){const p=Bt(c.value);for(const b of p)h.addClass(b,d)}else if(c.key=="style"){const p=Object.keys(c.value);for(const b of p)h.setStyle(b,c.value[b],d)}else h.setAttribute(c.key,c.value,d)}}function wz(r){return(e,t,n)=>{if(!t.item||!(t.item instanceof Tn||t.item instanceof di)&&!t.item.is("$textProxy"))return;const s=Np(r,t,n);if(!s||!n.consumable.consume(t.item,e.name))return;const c=n.writer,d=fy(c,s),h=c.document.selection;if(t.item instanceof Tn||t.item instanceof di)c.wrap(h.getFirstRange(),d);else{const p=n.mapper.toViewRange(t.range),b=c.wrap(p,d);for(const v of b.getItems())if(v.is("attributeElement")&&v.isSimilar(d)){n.mapper.bindElementToMarker(v,t.markerName);break}}}}function bz(r){return(e,t,n)=>{if(!t.item||!(t.item instanceof Fe))return;const s=Np(r,t,n);if(!s||!n.consumable.test(t.item,e.name))return;const c=n.mapper.toViewElement(t.item);if(c&&c.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const h of U._createIn(t.item))n.consumable.consume(h.item,e.name);c.getCustomProperty("addHighlight")(c,s,n.writer),n.mapper.bindElementToMarker(c,t.markerName)}}}function _z(r){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const s=Np(r,t,n);if(!s)return;const c=fy(n.writer,s),d=n.mapper.markerNameToElements(t.markerName);if(d){for(const h of d)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(h),c):h.getCustomProperty("removeHighlight")(h,s.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function vz(r){const e=py(r.model),t=_c(r.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,lz(t,by(e)),{priority:r.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",wy(e),{priority:"low"})}}function yz(r){const e=py(r.model),t=_c(r.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new L("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,dz(t,by(e)),{priority:r.converterPriority||"normal"}),n.on("reduceChanges",wy(e),{priority:"low"})}}function Az(r){r=Ir(r);let e=r.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)r.view[s]=_c(r.view[s],"attribute");else r.view=_c(r.view,"attribute");const n=my(r);return s=>{s.on(t,cz(n),{priority:r.converterPriority||"normal"})}}function Cz(r){r=Ir(r);let e=r.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)r.view[s]=ky(r.view[s]);else r.view=ky(r.view);const n=my(r);return s=>{s.on(t,kz(n),{priority:r.converterPriority||"normal"})}}function xz(r){const e=_c(r.view,"ui");return t=>{t.on(`addMarker:${r.model}`,uz(e),{priority:r.converterPriority||"normal"}),t.on(`removeMarker:${r.model}`,hz(),{priority:r.converterPriority||"normal"})}}function Ez(r){r=Ir(r);const e=r.model;let t=r.view;return t||(t=n=>({group:e,name:n.substr(r.model.length+1)})),n=>{n.on(`addMarker:${e}`,fz(t),{priority:r.converterPriority||"normal"}),n.on(`removeMarker:${e}`,mz(t),{priority:r.converterPriority||"normal"})}}function Sz(r){return e=>{e.on(`addMarker:${r.model}`,wz(r.view),{priority:r.converterPriority||"normal"}),e.on(`addMarker:${r.model}`,bz(r.view),{priority:r.converterPriority||"normal"}),e.on(`removeMarker:${r.model}`,_z(r.view),{priority:r.converterPriority||"normal"})}}function py(r){return typeof r=="string"&&(r={name:r}),r.attributes?Array.isArray(r.attributes)||(r.attributes=[r.attributes]):r.attributes=[],r.children=!!r.children,r}function _c(r,e){return typeof r=="function"?r:(t,n)=>Dz(r,n,e)}function Dz(r,e,t){typeof r=="string"&&(r={name:r});let n;const s=e.writer,c=Object.assign({},r.attributes);if(t=="container")n=s.createContainerElement(r.name,c);else if(t=="attribute"){const d={priority:r.priority||To.DEFAULT_PRIORITY};n=s.createAttributeElement(r.name,c,d)}else n=s.createUIElement(r.name,c);if(r.styles){const d=Object.keys(r.styles);for(const h of d)s.setStyle(h,r.styles[h],n)}if(r.classes){const d=r.classes;if(typeof d=="string")s.addClass(d,n);else for(const h of d)s.addClass(h,n)}return n}function my(r){return r.model.values?(e,t,n)=>{const s=r.view[e];return s?s(e,t,n):null}:r.view}function ky(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function Np(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Tz(r){return(e,t)=>{if(!e.is("element",r.name))return!1;if(t.type=="attribute"){if(r.attributes.includes(t.attributeKey))return!0}else if(r.children)return!0;return!1}}function wy(r){const e=Tz(r);return(t,n)=>{const s=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const c of n.changes){const d=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(!d||!e(d,c)){s.push(c);continue}if(!n.reconvertedElements.has(d)){n.reconvertedElements.add(d);const h=q._createBefore(d);let p=s.length;for(let b=s.length-1;b>=0;b--){const v=s[b],N=(v.type=="attribute"?v.range.start:v.position).compareWith(h);if(N=="before"||v.type=="remove"&&N=="same")break;p=b}s.splice(p,0,{type:"remove",name:d.name,position:h,length:1},{type:"reinsert",name:d.name,position:h,length:1})}}n.changes=s}}function by(r){return(e,t,n={})=>{const s=["insert"];for(const c of r.attributes)e.hasAttribute(c)&&s.push(`attribute:${c}`);return s.every(c=>t.test(e,c))?(n.preflight||s.forEach(c=>t.consume(e,c)),!0):!1}}function Iz(r,e,t){return(n,s)=>{const c=n.createContainerElement("$slot");let d=null;if(s==="children")d=Array.from(r.getChildren());else if(typeof s=="function")d=Array.from(r.getChildren()).filter(h=>s(h));else throw new L("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(c,d),c}}function Mz(r,e,t){const n=Array.from(e.values()).flat(),s=new Set(n);if(s.size!=n.length)throw new L("conversion-slot-filter-overlap",t.dispatcher,{element:r});if(s.size!=r.childCount)throw new L("conversion-slot-filter-incomplete",t.dispatcher,{element:r})}function Nz(r,e,t,n){t.mapper.on("modelToViewPosition",d,{priority:"highest"});let s=null,c=null;for([s,c]of e)_y(r,c,t,n),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",d);function d(h,p){const b=p.modelPosition.nodeAfter,v=c.indexOf(b);v<0||(p.viewPosition=p.mapper.findPositionIn(s,v))}}function _y(r,e,t,n){for(const s of e)Pz(r.root,s,t,n)||t.convertItem(s)}function Pz(r,e,t,n){const{writer:s,mapper:c}=t;if(!n.reconversion)return!1;const d=c.toViewElement(e);return!d||d.root==r||!t.canReuseView(d)?!1:(s.move(s.createRangeOn(d),c.toViewPosition(q._createBefore(e))),!0)}function Oz(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function vy(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function yy(r,e,t){const n=t.createContext(r);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function Ay(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}class Bz extends dy{elementToElement(e){return this.add(xy(e))}elementToAttribute(e){return this.add(jz(e))}attributeToAttribute(e){return this.add(Rz(e))}elementToMarker(e){return this.add(Fz(e))}dataToMarker(e){return this.add(Vz(e))}}function Cy(){return(r,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=s}}}function zz(){return(r,e,{schema:t,consumable:n,writer:s})=>{let c=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(c,"$text")){if(!yy(c,"$text",t)||e.viewItem.data.trim().length==0)return;const h=c.nodeBefore;c=Ay(c,s),h&&h.is("element","$marker")&&(s.move(s.createRangeOn(h),c),c=s.createPositionAfter(h))}n.consume(e.viewItem);const d=s.createText(e.viewItem.data);s.insert(d,c),e.modelRange=s.createRange(c,c.getShiftedBy(d.offsetSize)),e.modelCursor=e.modelRange.end}}function Lz(r,e){return(t,n)=>{const s=n.newSelection,c=[];for(const h of s.getRanges())c.push(e.toModelRange(h));const d=r.createSelection(c,{backward:s.isBackward});d.isEqual(r.document.selection)||r.change(h=>{h.setSelection(d)})}}function xy(r){r=Ir(r);const e=Op(r),t=Pp(r.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:r.converterPriority||"normal"})}}function jz(r){r=Ir(r),Ey(r);const e=Sy(r,!1),t=Pp(r.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:r.converterPriority||"low"})}}function Rz(r){r=Ir(r);let e=null;(typeof r.view=="string"||r.view.key)&&(e=$z(r)),Ey(r,e);const t=Sy(r,!0);return n=>{n.on("element",t,{priority:r.converterPriority||"low"})}}function Fz(r){const e=Gz(r.model);return xy({...r,model:e})}function Vz(r){r=Ir(r),r.model||(r.model=s=>s?r.view+":"+s:r.view);const e={view:r.view,model:r.model},t=Op(Dy(e,"start")),n=Op(Dy(e,"end"));return s=>{s.on(`element:${r.view}-start`,t,{priority:r.converterPriority||"normal"}),s.on(`element:${r.view}-end`,n,{priority:r.converterPriority||"normal"});const c=Re.low,d=Re.highest,h=Re.get(r.converterPriority)/d;s.on("element",Uz(e),{priority:c+h})}}function Uz(r){return(e,t,n)=>{const s=`data-${r.view}`;if(!n.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function c(d,h){for(const p of h){const b=r.model(p,n),v=n.writer.createElement("$marker",{"data-name":b});n.writer.insert(v,d),t.modelCursor.isEqual(d)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(d,1),t.modelRange=t.modelRange._getTransformedByInsertion(d,1)[0]}}}}function Pp(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function Op(r){const e=new Wn(r.view);return(t,n,s)=>{const c=e.match(n.viewItem);if(!c)return;const d=c.match;if(d.name=!0,!s.consumable.test(n.viewItem,d))return;const h=Hz(r.model,n.viewItem,s);h&&s.safeInsert(h,n.modelCursor)&&(s.consumable.consume(n.viewItem,d),s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n))}}function Hz(r,e,t){return r instanceof Function?r(e,t):t.writer.createElement(r)}function $z(r){typeof r.view=="string"&&(r.view={key:r.view});const e=r.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:r.view.value};else{const n=typeof r.view.value>"u"?/[\s\S]*/:r.view.value;t={attributes:{[e]:n}}}return r.view.name&&(t.name=r.view.name),r.view=t,e}function Ey(r,e=null){const t=e===null?!0:c=>c.getAttribute(e),n=typeof r.model!="object"?r.model:r.model.key,s=typeof r.model!="object"||typeof r.model.value>"u"?t:r.model.value;r.model={key:n,value:s}}function Sy(r,e){const t=new Wn(r.view);return(n,s,c)=>{if(!s.modelRange&&e)return;const d=t.match(s.viewItem);if(!d||(Wz(r.view,s.viewItem)?d.match.name=!0:delete d.match.name,!c.consumable.test(s.viewItem,d.match)))return;const h=r.model.key,p=typeof r.model.value=="function"?r.model.value(s.viewItem,c):r.model.value;if(p===null)return;s.modelRange||Object.assign(s,c.convertChildren(s.viewItem,s.modelCursor)),qz(s.modelRange,{key:h,value:p},e,c)&&(c.consumable.test(s.viewItem,{name:!0})&&(d.match.name=!0),c.consumable.consume(s.viewItem,d.match))}}function Wz(r,e){const t=typeof r=="function"?r(e):r;return typeof t=="object"&&!Pp(t)?!1:!t.classes&&!t.attributes&&!t.styles}function qz(r,e,t,n){let s=!1;for(const c of Array.from(r.getItems({shallow:t})))n.schema.checkAttribute(c,e.key)&&(s=!0,!c.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,c));return s}function Gz(r){return(e,t)=>{const n=typeof r=="string"?r:r(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function Dy(r,e){const t=(n,s)=>{const c=n.getAttribute("name"),d=r.model(c,s);return s.writer.createElement("$marker",{"data-name":d})};return{view:`${r.view}-${e}`,model:t}}function Yz(r){r.document.registerPostFixer(e=>Zz(e,r))}function Zz(r,e){const t=e.document.selection,n=e.schema,s=[];let c=!1;for(const d of t.getRanges()){const h=Ty(d,n);h&&!h.isEqual(d)?(s.push(h),c=!0):s.push(d)}return c&&r.setSelection(Xz(s),{backward:t.isBackward}),!1}function Ty(r,e){return r.isCollapsed?Kz(r,e):Qz(r,e)}function Kz(r,e){const t=r.start,n=e.getNearestSelectionRange(t);if(!n){const c=t.getAncestors().reverse().find(d=>e.isObject(d));return c?U._createOn(c):null}if(!n.isCollapsed)return n;const s=n.start;return t.isEqual(s)?null:new U(s)}function Qz(r,e){const{start:t,end:n}=r,s=e.checkChild(t,"$text"),c=e.checkChild(n,"$text"),d=e.getLimitElement(t),h=e.getLimitElement(n);if(d===h){if(s&&c)return null;if(Jz(t,n,e)){const C=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),B=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),R=C?C.start:t,G=B?B.end:n;return new U(R,G)}}const p=d&&!d.is("rootElement"),b=h&&!h.is("rootElement");if(p||b){const v=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,C=p&&(!v||!My(t.nodeAfter,e)),N=b&&(!v||!My(n.nodeBefore,e));let B=t,R=n;return C&&(B=q._createBefore(Iy(d,e))),N&&(R=q._createAfter(Iy(h,e))),new U(B,R)}return null}function Iy(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function Jz(r,e,t){const n=r.nodeAfter&&!t.isLimit(r.nodeAfter)||t.checkChild(r,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||s}function Xz(r){const e=[...r],t=new Set;let n=1;for(;n<e.length;){const c=e[n],d=e.slice(0,n);for(const[h,p]of d.entries())if(!t.has(h)){if(c.isEqual(p))t.add(h);else if(c.isIntersecting(p)){t.add(h),t.add(n);const b=c.getJoined(p);e.push(b)}}n++}return e.filter((c,d)=>!t.has(d))}function My(r,e){return r&&e.isSelectable(r)}class eL extends Be(){constructor(e,t){super(),this.model=e,this.view=new UB(t),this.mapper=new oy,this.downcastDispatcher=new sy({mapper:this.mapper,schema:e.schema});const n=this.model.document,s=n.selection,c=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(d=>{this.downcastDispatcher.convertChanges(n.differ,c,d),this.downcastDispatcher.convertSelection(s,c,d)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Lz(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",tL(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",uy(),{priority:"lowest"}),this.downcastDispatcher.on("insert",hy(),{priority:"lowest"}),this.downcastDispatcher.on("remove",rz(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",az()),this.downcastDispatcher.on("selection",oz(),{priority:"low"}),this.downcastDispatcher.on("selection",sz(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(d=>{if(d.rootName=="$graveyard")return null;const h=new C0(this.view.document,d.name);return h.rootName=d.rootName,this.mapper.bindElements(d,h),h})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new L("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function tL(r,e,t){return(n,s)=>{if(!(t.document.isComposing&&!m.isAndroid))for(let c=0;c<s.targetRanges.length;c++){const d=s.targetRanges[c],h=r.toModelRange(d),p=Ty(h,e);!p||p.isEqual(h)||(s.targetRanges[c]=r.toViewRange(p))}}}class vc{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new nL(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const d of n)d=="style"||d=="class"||t.attributes.push(d);const s=e.getClassNames();for(const d of s)t.classes.push(d);const c=e.getStyleNames();for(const d of c)t.styles.push(d);return t}static createFrom(e,t){if(t||(t=new vc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,vc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=vc.createFrom(n,t);return t}}const nu=["attributes","classes","styles"];class nL{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of nu)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of nu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._revert(t,e[t])}_add(e,t){const n=Ot(t)?t:[t],s=this._consumables[e];for(const c of n){if(e==="attributes"&&(c==="class"||c==="style"))throw new L("viewconsumable-invalid-attribute",this);if(s.set(c,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!0)}}_test(e,t){const n=Ot(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles",h=this._test(d,[...this._consumables[d].keys()]);if(h!==!0)return h}else{const d=s.get(c);if(d===void 0)return null;if(!d)return!1}return!0}_consume(e,t){const n=Ot(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}else if(s.set(c,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!1)}_revert(e,t){const n=Ot(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}else s.get(c)===!1&&s.set(c,!0)}}class iL extends Be(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Oo(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Oo(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new L("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new L("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof q){const n=e.nodeBefore,s=e.nodeAfter;if(!(n instanceof Fe))throw new L("schema-check-merge-no-element-before",this);if(!(s instanceof Fe))throw new L("schema-check-merge-no-element-after",this);return this.checkMerge(n,s)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,s])=>{if(!s)return;const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,s])=>{const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof q?t=e.parent:t=(e instanceof U?[e]:Array.from(e.getRanges())).reduce((s,c)=>{const d=c.getCommonAncestor();return s?s.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new $e("",e.getAttributes())];return this.checkAttribute(s,t)}else{const n=e.getRanges();for(const s of n)for(const c of s)if(this.checkAttribute(c.item,t))return!0}return!1}*getValidRanges(e,t){e=bL(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new U(e);let n,s;const c=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;(t=="both"||t=="backward")&&(n=new Ii({boundaries:U._createIn(c),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Ii({boundaries:U._createIn(c),startPosition:e}));for(const d of wL(n,s)){const h=d.walker==n?"elementEnd":"elementStart",p=d.value;if(p.type==h&&this.isObject(p.item))return U._createOn(p.item);if(this.checkChild(p.nextPosition,"$text"))return new U(p.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const s=n.model;for(const[c,d]of Object.entries(t))s.schema.checkAttribute(e,c)&&n.setAttribute(c,d,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))Ny(this,n,t);else{const c=U._createIn(n).getPositions();for(const d of c){const h=d.nodeBefore||d.parent;Ny(this,h,t)}}}getAttributesWithProperty(e,t,n){const s={};for(const[c,d]of e.getAttributes()){const h=this.getAttributeProperties(c);h[t]!==void 0&&(n===void 0||n===h[t])&&(s[c]=d)}return s}createContext(e){return new Oo(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const s of n)e[s]=rL(t[s],s);for(const s of n)oL(e,s);for(const s of n)sL(e,s);for(const s of n)aL(e,s);for(const s of n)cL(e,s),lL(e,s);for(const s of n)dL(e,s),uL(e,s),hL(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const s=t.getItem(n);if(e.allowIn.includes(s.name)){if(n==0)return!0;{const c=this.getDefinition(s);return this._checkContextMatch(c,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,s=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(U._createIn(c),t)),this.checkAttribute(c,t)||(n.isEqual(s)||(yield new U(n,s)),n=q._createAfter(c)),s=q._createAfter(c);n.isEqual(s)||(yield new U(n,s))}}class Oo{constructor(e){if(e instanceof Oo)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(kL)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Oo([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function rL(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return fL(r,t),Bo(r,t,"allowIn"),Bo(r,t,"allowContentOf"),Bo(r,t,"allowWhere"),Bo(r,t,"allowAttributes"),Bo(r,t,"allowAttributesOf"),Bo(r,t,"allowChildren"),Bo(r,t,"inheritTypesFrom"),gL(r,t),t}function oL(r,e){const t=r[e];for(const n of t.allowChildren){const s=r[n];s&&s.allowIn.push(e)}t.allowChildren.length=0}function sL(r,e){for(const t of r[e].allowContentOf)r[t]&&pL(r,t).forEach(s=>{s.allowIn.push(e)});delete r[e].allowContentOf}function aL(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const s=n.allowIn;r[e].allowIn.push(...s)}}delete r[e].allowWhere}function cL(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const s=n.allowAttributes;r[e].allowAttributes.push(...s)}}delete r[e].allowAttributesOf}function lL(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const s=r[n];if(s){const c=Object.keys(s).filter(d=>d.startsWith("is"));for(const d of c)d in t||(t[d]=s[d])}}delete t.inheritTypesFrom}function dL(r,e){const t=r[e],n=t.allowIn.filter(s=>r[s]);t.allowIn=Array.from(new Set(n))}function uL(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function hL(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function fL(r,e){for(const t of r){const n=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of n)e[s]=!!t[s]}}function Bo(r,e,t){for(const n of r){const s=n[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function gL(r,e){for(const t of r){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function pL(r,e){const t=r[e];return mL(r).filter(n=>n.allowIn.includes(t.name))}function mL(r){return Object.keys(r).map(e=>r[e])}function kL(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute(e){return r.getAttribute(e)}}}function*wL(r,e){let t=!1;for(;!t;){if(t=!0,r){const n=r.next();n.done||(t=!1,yield{walker:r,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*bL(r){for(const e of r)yield*e.getMinimalFlatRanges()}function Ny(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}class _L extends Ce(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=yL(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=vc.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),c=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))t.append(d,c);c.markers=vL(c,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof U))throw new L("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:q._createAt(t,0);const s=new U(n);for(const c of Array.from(e.getChildren())){const d=this._convertItem(c,n);d.modelRange instanceof U&&(s.end=d.modelRange.end,n=d.modelCursor)}return{modelRange:s,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(n[n.length-1])));const c=this._cursorParents.get(e);c?t.modelCursor=s.createPositionAt(c,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:s}=this.conversionApi;let c=n.findAllowedParent(t,e);if(c){if(c===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return yy(t,e,n)?{position:Ay(t,s)}:null;const d=this.conversionApi.writer.split(t,c),h=[];for(const b of d.range.getWalker())if(b.type=="elementEnd")h.push(b.item);else{const v=h.pop(),C=b.item;this._registerSplitPair(v,C)}const p=d.range.end.parent;return this._cursorParents.set(e,p),{position:d.position,cursorParent:p}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function vL(r,e){const t=new Set,n=new Map,s=U._createIn(r).getItems();for(const c of s)c.is("element","$marker")&&t.add(c);for(const c of t){const d=c.getAttribute("data-name"),h=e.createPositionBefore(c);n.has(d)?n.get(d).end=h.clone():n.set(d,new U(h.clone())),e.remove(c)}return n}function yL(r,e){let t;for(const n of new Oo(r)){const s={};for(const d of n.getAttributeKeys())s[d]=n.getAttribute(d);const c=e.createElement(n.name,s);t&&e.insert(c,t),t=q._createAt(c,0)}return t}class AL{getHtml(e){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}class CL{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Qd(e,{renderingMode:"data"}),this.htmlWriter=new AL}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)n.appendChild(s[0]);return n}}class xL extends Ce(){constructor(e,t){super(),this.model=e,this.mapper=new oy,this.downcastDispatcher=new sy({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",uy(),{priority:"lowest"}),this.downcastDispatcher.on("insert",hy(),{priority:"lowest"}),this.upcastDispatcher=new _L({schema:e.schema}),this.viewDocument=new Yd(t),this.stylesProcessor=t,this.htmlProcessor=new CL(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new S0(this.viewDocument),this.upcastDispatcher.on("text",zz(),{priority:"lowest"}),this.upcastDispatcher.on("element",Cy(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Cy(),{priority:"lowest"}),Be().prototype.decorate.call(this,"init"),Be().prototype.decorate.call(this,"set"),Be().prototype.decorate.call(this,"get"),Be().prototype.decorate.call(this,"toView"),Be().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},vy)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new L("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||Te("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const c=U._createIn(e),d=new Io(n);this.mapper.bindElements(e,d);const h=e.is("documentFragment")?e.markers:EL(e);return this.downcastDispatcher.convert(c,h,s,t),d}init(e){if(this.model.document.version)throw new L("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new L("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const s of Object.keys(t)){const c=this.model.document.getRoot(s);n.insert(this.parse(t[s],c),c,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new L("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(n)){const d=this.model.document.getRoot(c);s.remove(s.createRangeIn(d)),s.insert(this.parse(n[c],d),d,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function EL(r){const e=[],t=r.root.document;if(!t)return new Map;const n=U._createIn(r);for(const s of t.model.markers){const c=s.getRange(),d=c.isCollapsed,h=c.start.isEqual(n.start)||c.end.isEqual(n.end);if(d&&h)e.push([s.name,c]);else{const p=n.getIntersection(c);p&&e.push([s.name,p])}}return e.sort(([s,c],[d,h])=>{if(c.end.compareWith(h.start)!=="after")return 1;if(c.start.compareWith(h.end)!=="before")return-1;switch(c.start.compareWith(h.start)){case"before":return 1;case"after":return-1;default:switch(c.end.compareWith(h.end)){case"before":return 1;case"after":return-1;default:return d.localeCompare(s)}}}),new Map(e)}class SL{constructor(e,t){this._helpers=new Map,this._downcast=Bt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Bt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new L("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new L("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Bp(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Bp(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Bp(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new L("conversion-group-exists",this);const s=n?new iz(t):new Bz(t);this._helpers.set(e,s)}}function*Bp(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],s=r.upcastAlso?r.upcastAlso[e]:void 0;yield*Py(t,n,s)}else yield*Py(r.model,r.view,r.upcastAlso)}function*Py(r,e,t){if(yield{model:r,view:e},t)for(const n of Bt(t))yield{model:r,view:n}}class In{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function zp(r,e){const t=By(e),n=t.reduce((d,h)=>d+h.offsetSize,0),s=r.parent;Cc(r);const c=r.index;return s._insertChild(c,t),Ac(s,c+t.length),Ac(s,c),new U(r,r.getShiftedBy(n))}function Oy(r){if(!r.isFlat)throw new L("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Cc(r.start),Cc(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return Ac(e,r.start.index),t}function yc(r,e){if(!r.isFlat)throw new L("operation-utils-move-range-not-flat",this);const t=Oy(r);return e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),zp(e,t)}function DL(r,e,t){Cc(r.start),Cc(r.end);for(const n of r.getItems({shallow:!0})){const s=n.is("$textProxy")?n.textNode:n;t!==null?s._setAttribute(e,t):s._removeAttribute(e),Ac(s.parent,s.index)}Ac(r.end.parent,r.end.index)}function By(r){const e=[];function t(n){if(typeof n=="string")e.push(new $e(n));else if(n instanceof li)e.push(new $e(n.data,n.getAttributes()));else if(n instanceof No)e.push(n);else if(Mt(n))for(const s of n)t(s)}t(r);for(let n=1;n<e.length;n++){const s=e[n],c=e[n-1];s instanceof $e&&c instanceof $e&&zy(s,c)&&(e.splice(n-1,2,new $e(c.data+s.data,c.getAttributes())),n--)}return e}function Ac(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&zy(t,n)){const s=new $e(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,s)}}function Cc(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const c=new $e(e.data.substr(0,n),e.getAttributes()),d=new $e(e.data.substr(n),e.getAttributes());t._insertChild(s,[c,d])}}function zy(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;n.next()}return n.next().done}class Pe extends In{constructor(e,t,n,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[U._createFromPositionAndShift(this.sourcePosition,this.howMany),U._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Pe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Pe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,s=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new L("move-operation-nodes-do-not-exist",this);if(e===t&&n<s&&s<n+this.howMany)throw new L("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&pt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=n&&this.targetPosition.path[c]<n+this.howMany)throw new L("move-operation-node-into-itself",this)}}_execute(){yc(U._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=q.fromJSON(e.sourcePosition,t),s=q.fromJSON(e.targetPosition,t);return new this(n,e.howMany,s,e.baseVersion)}}class Lt extends In{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new mc(By(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new mc([...this.nodes].map(n=>n._clone(!0))),t=new Lt(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new q(e,[0]);return new Pe(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new L("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new mc([...e].map(t=>t._clone(!0))),zp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const c of e.nodes)c.name?n.push(Fe.fromJSON(c)):n.push($e.fromJSON(c));const s=new Lt(q.fromJSON(e.position,t),n,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class We extends In{constructor(e,t,n,s,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new q(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new U(this.splitPosition,e)}get affectedSelectable(){const e=[U._createFromPositionAndShift(this.splitPosition,0),U._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(U._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new We(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new q(e,[0]);return new mt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new L("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new L("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new L("split-operation-graveyard-position-invalid",this)}else throw new L("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)yc(U._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();zp(this.insertionPosition,n)}const t=new U(q._createAt(e,this.splitPosition.offset),q._createAt(e,e.maxOffset));yc(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new q(e.root,t,"toPrevious")}static fromJSON(e,t){const n=q.fromJSON(e.splitPosition,t),s=q.fromJSON(e.insertionPosition,t),c=e.graveyardPosition?q.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,s,c,e.baseVersion)}}class mt extends In{constructor(e,t,n,s,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new q(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new U(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[U._createOn(e),U._createFromPositionAndShift(this.targetPosition,0),U._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new mt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new q(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new We(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new L("merge-operation-how-many-invalid",this)}else throw new L("merge-operation-target-position-invalid",this);else throw new L("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=U._createIn(e);yc(t,this.targetPosition),yc(U._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=q.fromJSON(e.sourcePosition,t),s=q.fromJSON(e.targetPosition,t),c=q.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,s,c,e.baseVersion)}}class fn extends In{constructor(e,t,n,s,c,d){super(d),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=c,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new fn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new fn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new fn(e.name,e.oldRange?U.fromJSON(e.oldRange,t):null,e.newRange?U.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}function TL(r,e){return J0(r,e)}const Ly=TL;class yt extends In{constructor(e,t,n,s,c){super(c),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new L("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Ly(e.getAttribute(this.key),this.oldValue))throw new L("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new L("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Ly(this.oldValue,this.newValue)||DL(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yt(U.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xt extends In{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new xt(this.baseVersion)}getReversed(){return new xt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class gn extends In{constructor(e,t,n,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new gn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new gn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Fe){if(e.name!==this.oldName)throw new L("rename-operation-wrong-name",this)}else throw new L("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new gn(q.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class er extends In{constructor(e,t,n,s,c){super(c),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new er(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new er(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new L("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new L("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new L("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new L("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new er(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Mi extends In{constructor(e,t,n,s,c){if(super(c),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=s,!this._document.getRoot(this.rootName)){const d=this._document.createRoot(this.elementName,this.rootName);d._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Mi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Mi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Mi(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const qn={};qn[yt.className]=yt,qn[Lt.className]=Lt,qn[fn.className]=fn,qn[Pe.className]=Pe,qn[xt.className]=xt,qn[In.className]=In,qn[gn.className]=gn,qn[er.className]=er,qn[Mi.className]=Mi,qn[We.className]=We,qn[mt.className]=mt;class IL{static fromJSON(e,t){return qn[e.__className].fromJSON(e,t)}}const Lp=new Map;function De(r,e,t){let n=Lp.get(r);n||(n=new Map,Lp.set(r,n)),n.set(e,t)}function ML(r,e){const t=Lp.get(r);return t&&t.has(e)?t.get(e):NL}function NL(r){return[r]}function jy(r,e,t={}){const n=ML(r.constructor,e.constructor);try{return r=r.clone(),n(r,e,t)}catch(s){throw s}}function PL(r,e,t){r=r.slice(),e=e.slice();const n=new OL(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const s=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:s};const c=new WeakMap;for(const p of r)c.set(p,0);const d={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let h=0;for(;h<r.length;){const p=r[h],b=c.get(p);if(b==e.length){h++;continue}const v=e[b],C=jy(p,v,n.getContext(p,v,!0)),N=jy(v,p,n.getContext(v,p,!1));n.updateRelation(p,v),n.setOriginalOperations(C,p),n.setOriginalOperations(N,v);for(const B of C)c.set(B,b+N.length);r.splice(h,1,...C),e.splice(b,1,...N)}if(t.padWithNoOps){const p=r.length-d.originalOperationsACount,b=e.length-d.originalOperationsBCount;Fy(r,b-p),Fy(e,p-b)}return Ry(r,d.nextBaseVersionB),Ry(e,d.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:s}}class OL{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,n||s)}updateRelation(e,t){if(e instanceof Pe)t instanceof mt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Pe&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof We){if(t instanceof mt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Pe)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=U._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const s=n.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:s,offset:c})}}}else if(e instanceof mt)t instanceof mt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof We&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof fn){const n=e.newRange;if(!n)return;if(t instanceof Pe){const s=U._createFromPositionAndShift(t.sourcePosition,t.howMany),c=s.containsPosition(n.start)||s.start.isEqual(n.start),d=s.containsPosition(n.end)||s.end.isEqual(n.end);(c||d)&&!s.containsRange(n)&&this._setRelation(e,t,{side:c?"left":"right",path:c?n.start.path.slice():n.end.path.slice()})}else if(t instanceof mt){const s=n.start.isEqual(t.targetPosition),c=n.start.isEqual(t.deletionPosition),d=n.end.isEqual(t.deletionPosition),h=n.end.isEqual(t.sourcePosition);(s||c||d||h)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:d,wasInRightElement:h})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),s=this._history.getUndoneOperation(n);if(!s)return null;const c=this.originalOperations.get(e),d=this._relations.get(c);return d&&d.get(s)||null}_setRelation(e,t,n){const s=this.originalOperations.get(e),c=this.originalOperations.get(t);let d=this._relations.get(s);d||(d=new Map,this._relations.set(s,d)),d.set(c,n)}}function Ry(r,e){for(const t of r)t.baseVersion=e++}function Fy(r,e){for(let t=0;t<e;t++)r.push(new xt(0))}De(yt,yt,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(c=>new yt(c,r.key,r.oldValue,r.newValue,0)),s=r.range.getIntersection(e.range);return s&&t.aIsStrong&&n.push(new yt(s,e.key,e.newValue,r.newValue,0)),n.length==0?[new xt(0)]:n}else return[r]}),De(yt,Lt,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const n=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new yt(s,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const s=Vy(e,r.key,r.oldValue);s&&n.unshift(s)}return n}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]});function Vy(r,e,t){const s=r.nodes.getNode(0).getAttribute(e);if(s==t)return null;const c=new U(r.position,r.position.getShiftedBy(r.howMany));return new yt(c,e,s,t,0)}De(yt,mt,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(U._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(s=>new yt(s,r.key,r.oldValue,r.newValue,r.baseVersion))}),De(yt,Pe,(r,e)=>BL(r.range,e).map(n=>new yt(n,r.key,r.oldValue,r.newValue,r.baseVersion)));function BL(r,e){const t=U._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,s=[];t.containsRange(r,!0)?n=r:r.start.hasSameParentAs(t.start)?(s=r.getDifference(t),n=r.getIntersection(t)):s=[r];const c=[];for(let d of s){d=d._getTransformedByDeletion(e.sourcePosition,e.howMany);const h=e.getMovedRangeStart(),p=d.start.hasSameParentAs(h),b=d._getTransformedByInsertion(h,e.howMany,p);c.push(...b)}return n&&c.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),c}De(yt,We,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new U(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),De(Lt,yt,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=Vy(r,e.key,e.newValue);n&&t.push(n)}return t}),De(Lt,Lt,(r,e,t)=>r.position.isEqual(e.position)&&t.aIsStrong?[r]:(r.position=r.position._getTransformedByInsertOperation(e),[r])),De(Lt,Pe,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),De(Lt,We,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),De(Lt,mt,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),De(fn,Lt,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),De(fn,fn,(r,e,t)=>{if(r.name==e.name)if(t.aIsStrong)r.oldRange=e.newRange?e.newRange.clone():null;else return[new xt(0)];return[r]}),De(fn,mt,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),De(fn,Pe,(r,e,t)=>{if(r.oldRange&&(r.oldRange=U._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=U._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=U._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),De(fn,We,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=q._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=q._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=q._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=q._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),De(mt,Lt,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),De(mt,mt,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new q(e.graveyardPosition.root,n),r.howMany=0,[r]}else return[new xt(0)];if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),b=r.targetPosition._getTransformedByMergeOperation(e);return[new Pe(p,r.howMany,b,0)]}else return[new xt(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),(!r.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),De(mt,Pe,(r,e,t)=>{const n=U._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new xt(0)]:(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),De(mt,We,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,s=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||s||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),De(Pe,Lt,(r,e)=>{const n=U._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=n.start,r.howMany=n.end.offset-n.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),De(Pe,Pe,(r,e,t)=>{const n=U._createFromPositionAndShift(r.sourcePosition,r.howMany),s=U._createFromPositionAndShift(e.sourcePosition,e.howMany);let c=t.aIsStrong,d=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?d=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(d=!1);let h;if(r.targetPosition.isEqual(e.targetPosition)&&d?h=r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):h=r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Uy(r,e)&&Uy(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(s,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ds([n],h);if(s.containsPosition(r.targetPosition)&&s.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ds([n],h);const v=pt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(v=="prefix"||v=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ds([n],h);r.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?c=!0:r.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(c=!1);const C=[],N=n.getDifference(s);for(const R of N){R.start=R.start._getTransformedByDeletion(e.sourcePosition,e.howMany),R.end=R.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const G=pt(R.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",re=R._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,G);C.push(...re)}const B=n.getIntersection(s);return B!==null&&c&&(B.start=B.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),B.end=B.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),C.length===0?C.push(B):C.length==1?s.start.isBefore(n.start)||s.start.isEqual(n.start)?C.unshift(B):C.push(B):C.splice(1,0,B)),C.length===0?[new xt(r.baseVersion)]:Ds(C,h)}),De(Pe,We,(r,e,t)=>{let n=r.targetPosition.clone();(!r.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=r.targetPosition._getTransformedBySplitOperation(e));const s=U._createFromPositionAndShift(r.sourcePosition,r.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let h=new U(e.splitPosition,s.end);h=h._getTransformedBySplitOperation(e);const p=[new U(s.start,e.splitPosition),h];return Ds(p,n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const d=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const h=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);r.howMany>1&&h&&!t.aWasUndone&&d.push(U._createFromPositionAndShift(e.insertionPosition,1))}return Ds(d,n)}),De(Pe,mt,(r,e,t)=>{const n=U._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const d=[];let h=e.graveyardPosition.clone(),p=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(d.push(new Pe(r.sourcePosition,r.howMany-1,r.targetPosition,0)),h=h._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),p=p._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const b=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),v=new Pe(h,1,b,0),C=v.getMovedRangeStart().path.slice();C.push(0);const N=new q(v.targetPosition.root,C);p=p._getTransformedByMove(h,b,1);const B=new Pe(p,e.howMany,N,0);return d.push(v),d.push(B),d}}else if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new xt(0)]}const c=U._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=c.start,r.howMany=c.end.offset-c.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),De(gn,Lt,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),De(gn,mt,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),De(gn,Pe,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),De(gn,gn,(r,e,t)=>{if(r.position.isEqual(e.position))if(t.aIsStrong)r.oldName=e.newName;else return[new xt(0)];return[r]}),De(gn,We,(r,e)=>{const t=r.position.path,n=e.splitPosition.getParentPath();if(pt(t,n)=="same"&&!e.graveyardPosition){const s=new gn(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,s]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),De(er,er,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new xt(0)];r.oldValue=e.newValue}return[r]}),De(Mi,Mi,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new xt(0)]:[r]),De(We,Lt,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),De(We,mt,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const s=new q(e.graveyardPosition.root,n),c=We.getInsertionPosition(new q(e.graveyardPosition.root,n)),d=new We(s,0,c,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=We.getInsertionPosition(r.splitPosition),r.graveyardPosition=d.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[d,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=We.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),De(We,Pe,(r,e,t)=>{const n=U._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const c=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&c){const d=r.splitPosition._getTransformedByMoveOperation(e),h=r.graveyardPosition._getTransformedByMoveOperation(e),p=h.path.slice();p.push(0);const b=new q(h.root,p);return[new Pe(d,r.howMany,b,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const s=r.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=We.getInsertionPosition(r.splitPosition),[r];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:c,offset:d}=t.abRelation;return r.howMany+=c,r.splitPosition=r.splitPosition.getShiftedBy(d),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const c=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=c,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=We.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=We.getInsertionPosition(r.splitPosition),[r]}),De(We,We,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new xt(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new xt(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const p=[];return e.howMany&&p.push(new Pe(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&p.push(new Pe(r.splitPosition,r.howMany,r.moveTargetPosition,0)),p}else return[new xt(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const s=new q(e.insertionPosition.root,n),c=new Pe(r.insertionPosition,1,s,0);return[r,c]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=We.getInsertionPosition(r.splitPosition),[r]});function Uy(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Ds(r,e){const t=[];for(let n=0;n<r.length;n++){const s=r[n],c=new Pe(s.start,s.end.offset-s.start.offset,e,0);t.push(c);for(let d=n+1;d<r.length;d++)r[d]=r[d]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return t}class Et extends Ce(q){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new L("model-liveposition-root-not-rootelement",e);zL.call(this)}detach(){this.stopListening()}toPosition(){return new q(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Et.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};function zL(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&LL.call(this,t)},{priority:"low"})}function LL(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Ts{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Te("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:s=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=s,this.isTyping=c}get type(){return Te("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class jL{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=U._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const c=t.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=n:(s={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,s=!e.range&&t.range,c=e.range&&t.range&&!e.range.isEqual(t.range);if(n||s||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const s=this._changesInElement.get(n).sort((v,C)=>v.offset===C.offset?v.type!=C.type?v.type=="remove"?-1:1:0:v.offset<C.offset?-1:1),c=this._elementSnapshots.get(n),d=Hy(n.getChildren()),h=RL(c.length,s);let p=0,b=0;for(const v of h)if(v==="i")t.push(this._getInsertDiff(n,p,d[p])),p++;else if(v==="r")t.push(this._getRemoveDiff(n,p,c[b])),b++;else if(v==="a"){const C=d[p].attributes,N=c[b].attributes;let B;if(d[p].name=="$text")B=new U(q._createAt(n,p),q._createAt(n,p+1));else{const R=n.offsetToIndex(p);B=new U(q._createAt(n,p),q._createAt(n.getChild(R),0))}t.push(...this._getAttributesDiff(B,N,C)),p++,b++}else p++,b++}t.sort((n,s)=>n.position.root!=s.position.root?n.position.root.rootName<s.position.root.rootName?-1:1:n.position.isEqual(s.position)?n.changeCount-s.changeCount:n.position.isBefore(s.position)?-1:1);for(let n=1,s=0;n<t.length;n++){const c=t[s],d=t[n],h=c.type=="remove"&&d.type=="remove"&&c.name=="$text"&&d.name=="$text"&&c.position.isEqual(d.position),p=c.type=="insert"&&d.type=="insert"&&c.name=="$text"&&d.name=="$text"&&c.position.parent==d.position.parent&&c.position.offset+c.length==d.position.offset,b=c.type=="attribute"&&d.type=="attribute"&&c.position.parent==d.position.parent&&c.range.isFlat&&d.range.isFlat&&c.position.offset+c.length==d.position.offset&&c.attributeKey==d.attributeKey&&c.attributeOldValue==d.attributeOldValue&&c.attributeNewValue==d.attributeNewValue;h||p||b?(c.length++,b&&(c.range.end=c.range.end.getShiftedBy(1)),t[n]=null):s=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(FL),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,s){const c=this._changedRoots.get(e)||{name:e},d=c.attributes||{};if(d[t]){const h=d[t];s===h.oldValue?delete d[t]:h.newValue=s}else d[t]={oldValue:n,newValue:s};Object.entries(d).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=d,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=U._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const s=n.getData();this.bufferMarkerChange(n.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const n=t.getData();this.bufferMarkerChange(t.name,{...n,range:null},n)}}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let s=0;s<n.length;s++)n[s].howMany<1&&(n.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Hy(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const s=e.offset+e.howMany,c=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<c&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<c){const d=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:s,howMany:d-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(s<=n.offset)n.offset-=e.howMany;else if(s<=c)if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d,e.nodesToHandle-=d}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<c){const d=c-e.offset;n.howMany-=d,e.nodesToHandle-=d}}if(n.type=="remove"&&(s<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(s<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d}else if(e.offset<c)if(s<=c){const d=n.howMany;n.howMany=e.offset-n.offset;const h=d-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:h,count:this._changeCount++})}else n.howMany-=c-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&s>n.offset){if(s>c){const d={type:"attribute",offset:c,howMany:s-c,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<c&&(s>c?(e.nodesToHandle=s-c,e.offset=c):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&s>n.offset){const d={type:"attribute",offset:n.offset,howMany:s-n.offset,count:this._changeCount++};this._handleChange(d,t),t.push(d),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&s<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&s>=c&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:q._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:q._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const s=[];n=new Map(n);for(const[c,d]of t){const h=n.has(c)?n.get(c):null;h!==d&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),n.delete(c)}for(const[c,d]of n)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),s=e.startOffset;if(n){for(const c of n)if(c.type=="insert"&&s>=c.offset&&s<c.offset+c.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const s=new U(q._createAt(e,t),q._createAt(e,t+n));for(const c of s.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function Hy(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function RL(r,e){const t=[];let n=0,s=0;for(const c of e){if(c.offset>n){for(let d=0;d<c.offset-n;d++)t.push("e");s+=c.offset-n}if(c.type=="insert"){for(let d=0;d<c.howMany;d++)t.push("i");n=c.offset+c.howMany}else if(c.type=="remove"){for(let d=0;d<c.howMany;d++)t.push("r");n=c.offset,s+=c.howMany}else t.push(..."a".repeat(c.howMany).split("")),n=c.offset+c.howMany,s+=c.howMany}if(s<r)for(let c=0;c<r-s-n;c++)t.push("e");return t}function FL(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class VL{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new L("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let s=t-1;for(const[h,p]of this._gaps)e>h&&e<p&&(e=p),s>h&&s<p&&(s=h-1);if(s<n.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let d=this._baseVersionToOperationIndex.get(s);return d===void 0&&(d=this._operations.length-1),this._operations.slice(c,d+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class iu extends Fe{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}iu.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};const $y="$graveyard";class UL extends Ce(){constructor(e){super(),this.model=e,this.history=new VL,this.selection=new di(this),this.roots=new $n({idProperty:"rootName"}),this.differ=new jL(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",$y),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,s,c,d)=>{const h={...n.getData(),range:c};this.differ.bufferMarkerChange(n.name,d,h),s===null&&n.on("change",(p,b)=>{const v=n.getData();this.differ.bufferMarkerChange(n.name,{...v,range:b},v)})}),this.registerPostFixer(t=>{let n=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),n=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot($y)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new L("model-document-createroot-name-exists",this,{name:t});const n=new iu(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=d0(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,s=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return Wy(e.start)&&Wy(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Wy(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!rp(t,n)&&!op(t,n)}return!0}class HL extends Ce(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Is?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,s=!1){const c=e instanceof Is?e.name:e;if(c.includes(","))throw new L("markercollection-incorrect-marker-name",this);const d=this._markers.get(c);if(d){const b=d.getData(),v=d.getRange();let C=!1;return v.isEqual(t)||(d._attachLiveRange(hn.fromRange(t)),C=!0),n!=d.managedUsingOperations&&(d._managedUsingOperations=n,C=!0),typeof s=="boolean"&&s!=d.affectsData&&(d._affectsData=s,C=!0),C&&this.fire(`update:${c}`,d,v,t,b),d}const h=hn.fromRange(t),p=new Is(c,h,n,s);return this._markers.set(c,p),this.fire(`update:${c}`,p,null,t,{...p.getData(),range:null}),p}_remove(e){const t=e instanceof Is?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof Is?e.name:e,n=this._markers.get(t);if(!n)throw new L("markercollection-refresh-marker-not-exists",this);const s=n.getRange();this.fire(`update:${t}`,n,s,s,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Is extends Ce(Mr){constructor(e,t,n,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Is.prototype.is=function(r){return r==="marker"||r==="model:marker"};class $L extends In{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new L("detach-operation-on-document-node",this)}_execute(){Oy(U._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class tr extends Mr{constructor(e){super(),this.markers=new Map,this._children=new mc,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Fe.fromJSON(n)):t.push($e.fromJSON(n));return new tr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=WL(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}}tr.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};function WL(r){return typeof r=="string"?[new $e(r)]:(Mt(r)||(r=[r]),Array.from(r).map(e=>typeof e=="string"?new $e(e):e instanceof li?new $e(e.data,e.getAttributes()):e))}class qL{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new $e(e,t)}createElement(e,t){return new Fe(e,t)}createDocumentFragment(){return new tr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof $e&&e.data=="")return;const s=q._createAt(t,n);if(e.parent)if(Yy(e.root,s.root)){this.move(U._createOn(e),s);return}else{if(e.root.document)throw new L("model-writer-insert-forbidden-move",this);this.remove(e)}const c=s.root.document?s.root.document.version:null,d=new Lt(s,e,c);if(e instanceof $e&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof tr)for(const[h,p]of e.markers){const b=q._createAt(p.root,0),C={range:new U(p.start._getCombined(b,s),p.end._getCombined(b,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,C):this.addMarker(h,C)}}insertText(e,t,n,s){t instanceof tr||t instanceof Fe||t instanceof q?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,s)}insertElement(e,t,n,s){t instanceof tr||t instanceof Fe||t instanceof q?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof tr||t instanceof Fe?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof tr||t instanceof Fe?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof U){const s=n.getMinimalFlatRanges();for(const c of s)qy(this,e,t,c)}else Gy(this,e,t,n)}setAttributes(e,t){for(const[n,s]of Si(e))this.setAttribute(n,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof U){const n=t.getMinimalFlatRanges();for(const s of n)qy(this,e,null,s)}else Gy(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const s of n.getAttributeKeys())this.removeAttribute(s,n)};if(!(e instanceof U))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof U))throw new L("writer-move-invalid-range",this);if(!e.isFlat)throw new L("writer-move-range-not-flat",this);const s=q._createAt(t,n);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Yy(e.root,s.root))throw new L("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,d=new Pe(e.start,e.end.offset-e.start.offset,s,c);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof U?e:U._createOn(e)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),GL(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Fe))throw new L("writer-merge-no-element-before",this);if(!(n instanceof Fe))throw new L("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(U._createIn(n),q._createAt(t,"end")),this.remove(n)}_merge(e){const t=q._createAt(e.nodeBefore,"end"),n=q._createAt(e.nodeAfter,0),s=e.root.document.graveyard,c=new q(s,[0]),d=e.root.document.version,h=new mt(n,e.nodeAfter.maxOffset,t,c,d);this.batch.addOperation(h),this.model.applyOperation(h)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Fe))throw new L("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,s=new gn(q._createBefore(e),e.name,t,n);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new L("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new L("writer-split-invalid-limit-element",this);let s,c;do{const d=n.root.document?n.root.document.version:null,h=n.maxOffset-e.offset,p=We.getInsertionPosition(e),b=new We(e,h,p,null,d);this.batch.addOperation(b),this.model.applyOperation(b),!s&&!c&&(s=n,c=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new U(q._createAt(s,"end"),q._createAt(c,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new L("writer-wrap-range-not-flat",this);const n=t instanceof Fe?t:new Fe(t);if(n.childCount>0)throw new L("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new L("writer-wrap-element-attached",this);this.insert(n,e.start);const s=new U(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,q._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new L("writer-unwrap-element-no-parent",this);this.move(U._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new L("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,s=t.range,c=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new L("writer-addmarker-marker-exists",this);if(!s)throw new L("writer-addmarker-no-range",this);return n?(xc(this,e,null,s,c),this.model.markers.get(e)):this.model.markers._set(e,s,n,c)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new L("writer-updatemarker-marker-not-exists",this);if(!t){Te("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(s);return}const c=typeof t.usingOperation=="boolean",d=typeof t.affectsData=="boolean",h=d?t.affectsData:s.affectsData;if(!c&&!t.range&&!d)throw new L("writer-updatemarker-wrong-options",this);const p=s.getRange(),b=t.range?t.range:p;if(c&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?xc(this,n,null,b,h):(xc(this,n,p,null,h),this.model.markers._set(n,b,void 0,h));return}s.managedUsingOperations?xc(this,n,p,b,h):this.model.markers._set(n,b,void 0,h)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new L("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const s=n.getRange();xc(this,t,s,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new L("writer-addroot-root-exists",this);const s=this.model.document,c=new Mi(e,t,!0,s,s.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new L("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===t&&this.removeMarker(c);for(const c of t.getAttributeKeys())this.removeAttribute(c,t);this.remove(this.createRangeIn(t));const n=this.model.document,s=new Mi(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,s]of Si(e))this._setSelectionAttribute(n,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=di._getStoreAttributeKey(e);this.setAttribute(s,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=di._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new L("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const s=n.getRange();let c=!1;if(e==="move"){const d=t;c=d.containsPosition(s.start)||d.start.isEqual(s.start)||d.containsPosition(s.end)||d.end.isEqual(s.end)}else{const d=t,h=d.nodeBefore,p=d.nodeAfter,b=s.start.parent==h&&s.start.isAtEnd,v=s.end.parent==p&&s.end.offset==0,C=s.end.nodeAfter==p,N=s.start.nodeAfter==p;c=b||v||C||N}c&&this.updateMarker(n.name,{range:s})}}}function qy(r,e,t,n){const s=r.model,c=s.document;let d=n.start,h,p,b;for(const C of n.getWalker({shallow:!0}))b=C.item.getAttribute(e),h&&p!=b&&(p!=t&&v(),d=h),h=C.nextPosition,p=b;h instanceof q&&h!=d&&p!=t&&v();function v(){const C=new U(d,h),N=C.root.document?c.version:null,B=new yt(C,e,p,t,N);r.batch.addOperation(B),s.applyOperation(B)}}function Gy(r,e,t,n){const s=r.model,c=s.document,d=n.getAttribute(e);let h,p;if(d!=t){if(n.root===n){const v=n.document?c.version:null;p=new er(n,e,d,t,v)}else{h=new U(q._createBefore(n),r.createPositionAfter(n));const v=h.root.document?c.version:null;p=new yt(h,e,d,t,v)}r.batch.addOperation(p),s.applyOperation(p)}}function xc(r,e,t,n,s){const c=r.model,d=c.document,h=new fn(e,t,n,c.markers,!!s,d.version);r.batch.addOperation(h),c.applyOperation(h)}function GL(r,e,t,n){let s;if(r.root.document){const c=n.document,d=new q(c.graveyard,[0]);s=new Pe(r,e,d,c.version)}else s=new $L(r,e);t.addOperation(s),n.applyOperation(s)}function Yy(r,e){return r===e||r instanceof iu&&e instanceof iu}function YL(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const s=r.schema;r.change(c=>{if(!t.doNotResetEntireContent&&ij(s,e)){nj(c,e);return}const d={};if(!t.doNotAutoparagraph){const b=e.getSelectedElement();b&&Object.assign(d,s.getAttributesWithProperty(b,"copyOnReplace",!0))}const[h,p]=ZL(n);h.isTouching(p)||c.remove(c.createRange(h,p)),t.leaveUnmerged||(QL(c,h,p),s.removeDisallowedAttributes(h.parent.getChildren(),c)),Jy(c,e,h),!t.doNotAutoparagraph&&ej(s,h)&&Qy(c,h,e,d),h.detach(),p.detach()})}function ZL(r){const e=r.root.document.model,t=r.start;let n=r.end;if(e.hasContent(r,{ignoreMarkers:!0})){const s=KL(n);if(s&&n.isTouching(e.createPositionAt(s,0))){const c=e.createSelection(r);e.modifySelection(c,{direction:"backward"});const d=c.getLastPosition(),h=e.createRange(d,n);e.hasContent(h,{ignoreMarkers:!0})||(n=d)}}return[Et.fromPosition(t,"toPrevious"),Et.fromPosition(n,"toNext")]}function KL(r){const e=r.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of n){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function QL(r,e,t){const n=r.model;if(!jp(r.model.schema,e,t))return;const[s,c]=XL(e,t);!s||!c||(!n.hasContent(s,{ignoreMarkers:!0})&&n.hasContent(c,{ignoreMarkers:!0})?Ky(r,e,t,s.parent):Zy(r,e,t,s.parent))}function Zy(r,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=r.createPositionAfter(s),t=r.createPositionBefore(c),t.isEqual(e)||r.insert(c,e),r.merge(e);t.parent.isEmpty;){const d=t.parent;t=r.createPositionBefore(d),r.remove(d)}jp(r.model.schema,e,t)&&Zy(r,e,t,n)}}function Ky(r,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=r.createPositionAfter(s),t=r.createPositionBefore(c),t.isEqual(e)||r.insert(s,t);e.parent.isEmpty;){const d=e.parent;e=r.createPositionBefore(d),r.remove(d)}t=r.createPositionBefore(c),JL(r,t),jp(r.model.schema,e,t)&&Ky(r,e,t,n)}}function JL(r,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&r.rename(t,n.name),r.clearAttributes(t),r.setAttributes(Object.fromEntries(n.getAttributes()),t),r.merge(e)}function jp(r,e,t){const n=e.parent,s=t.parent;return n==s||r.isLimit(n)||r.isLimit(s)?!1:tj(e,t,r)}function XL(r,e){const t=r.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]&&t[s]==n[s];)s++;return[t[s],n[s]]}function ej(r,e){const t=r.checkChild(e,"$text"),n=r.checkChild(e,"paragraph");return!t&&n}function tj(r,e,t){const n=new U(r,e);for(const s of n.getWalker())if(t.isLimit(s.item))return!1;return!0}function Qy(r,e,t,n={}){const s=r.createElement("paragraph");r.model.schema.setAllowedAttributes(s,n,r),r.insert(s,e),Jy(r,t,r.createPositionAt(s,0))}function nj(r,e){const t=r.model.schema.getLimitElement(e);r.remove(r.createRangeIn(t)),Qy(r,r.createPositionAt(t,0),e)}function ij(r,e){const t=r.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:r.checkChild(t,"paragraph")}function Jy(r,e,t){e instanceof di?r.setSelection(t):e.setTo(t)}function rj(r,e){return r.change(t=>{const n=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return n;const c=s.start.root,d=s.start.getCommonPath(s.end),h=c.getNodeByPath(d);let p;s.start.parent==s.end.parent?p=s:p=t.createRange(t.createPositionAt(h,s.start.path[d.length]),t.createPositionAt(h,s.end.path[d.length]+1));const b=p.end.offset-p.start.offset;for(const v of p.getItems({shallow:!0}))v.is("$textProxy")?t.appendText(v.data,v.getAttributes(),n):t.append(t.cloneElement(v,!0),n);if(p!=s){const v=s._getTransformedByMove(p.start,t.createPositionAt(n,0),b)[0],C=t.createRange(t.createPositionAt(n,0),v.start),N=t.createRange(v.end,t.createPositionAt(n,"end"));Xy(N,t),Xy(C,t)}return n})}function Xy(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let s=n;for(;s.parent&&s.isEmpty;){const c=e.createRangeOn(s);s=s.parent,e.remove(c)}})}function oj(r,e,t){return r.change(n=>{const s=t||r.document.selection;s.isCollapsed||r.deleteContent(s,{doNotAutoparagraph:!0});const c=new sj(r,n,s.anchor),d=[];let h;if(e.is("documentFragment")){if(e.markers.size){const v=[];for(const[C,N]of e.markers){const{start:B,end:R}=N,G=B.isEqual(R);v.push({position:B,name:C,isCollapsed:G},{position:R,name:C,isCollapsed:G})}v.sort(({position:C},{position:N})=>C.isBefore(N)?1:-1);for(const{position:C,name:N,isCollapsed:B}of v){let R=null,G=null;const re=C.parent===e&&C.isAtStart,ue=C.parent===e&&C.isAtEnd;!re&&!ue?(R=n.createElement("$marker"),n.insert(R,C)):B&&(G=re?"start":"end"),d.push({name:N,element:R,collapsed:G})}}h=e.getChildren()}else h=[e];c.handleNodes(h);let p=c.getSelectionRange();if(e.is("documentFragment")&&d.length){const v=p?hn.fromRange(p):null,C={};for(let N=d.length-1;N>=0;N--){const{name:B,element:R,collapsed:G}=d[N],re=!C[B];if(re&&(C[B]=[]),R){const ue=n.createPositionAt(R,"before");C[B].push(ue),n.remove(R)}else{const ue=c.getAffectedRange();if(!ue){G&&C[B].push(c.position);continue}G?C[B].push(ue[G]):C[B].push(re?ue.start:ue.end)}}for(const[N,[B,R]]of Object.entries(C))B&&R&&B.root===R.root&&n.addMarker(N,{usingOperation:!0,affectsData:!0,range:new U(B,R)});v&&(p=v.toRange(),v.detach())}p&&(s instanceof di?n.setSelection(p):s.setTo(p));const b=c.getAffectedRange()||r.createRange(s.anchor);return c.destroy(),b})}class sj{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new L("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?U._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new U(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Et.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new L("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Et.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Et.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Fe)||!this._canMergeLeft(e))return;const t=Et._createBefore(e);t.stickiness="toNext";const n=Et.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Et._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Et._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Fe)||!this._canMergeRight(e))return;const t=Et._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new L("insertcontent-invalid-insertion-position",this);this.position=q._createAt(t.nodeBefore,"end");const n=Et.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Et._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Et._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Fe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Fe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function eA(r,e,t="auto"){const n=r.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const s=zt(r.getSelectedBlocks());if(!s)return e.createRange(r.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const c=e.createPositionAfter(s);return r.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(s))}function aj(r,e,t,n={}){if(!r.schema.isObject(e))throw new L("insertobject-element-not-an-object",r,{object:e});const s=t||r.document.selection;let c=s;n.findOptimalPosition&&r.schema.isBlock(e)&&(c=r.createSelection(eA(s,r,n.findOptimalPosition)));const d=zt(s.getSelectedBlocks()),h={};return d&&Object.assign(h,r.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),r.change(p=>{c.isCollapsed||r.deleteContent(c,{doNotAutoparagraph:!0});let b=e;const v=c.anchor.parent;!r.schema.checkChild(v,e)&&r.schema.checkChild(v,"paragraph")&&r.schema.checkChild("paragraph",e)&&(b=p.createElement("paragraph"),p.insert(e,b)),r.schema.setAllowedAttributes(b,h,p);const C=r.insertContent(b,c);return C.isCollapsed||n.setSelection&&cj(p,e,n.setSelection,h),C})}function cj(r,e,t,n){const s=r.model;if(t=="on"){r.setSelection(e,"on");return}if(t!="after")throw new L("insertobject-invalid-place-parameter-value",s);let c=e.nextSibling;if(s.schema.isInline(e)){r.setSelection(e,"after");return}!(c&&s.schema.checkChild(c,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(c=r.createElement("paragraph"),s.schema.setAllowedAttributes(c,n,r),s.insertContent(c,r.createPositionAfter(e))),c&&r.setSelection(c,0)}const lj=' ,.?!:;"-()';function dj(r,e,t={}){const n=r.schema,s=t.direction!="backward",c=t.unit?t.unit:"character",d=!!t.treatEmojiAsSingleUnit,h=e.focus,p=new Ii({boundaries:gj(h,s),singleCharacters:!0,direction:s?"forward":"backward"}),b={walker:p,schema:n,isForward:s,unit:c,treatEmojiAsSingleUnit:d};let v;for(;v=p.next();){if(v.done)return;const C=uj(b,v.value);if(C){e instanceof di?r.change(N=>{N.setSelectionFocus(C)}):e.setFocus(C);return}}}function uj(r,e){const{isForward:t,walker:n,unit:s,schema:c,treatEmojiAsSingleUnit:d}=r,{type:h,item:p,nextPosition:b}=e;if(h=="text")return r.unit==="word"?fj(n,t):hj(n,s,d);if(h==(t?"elementStart":"elementEnd")){if(c.isSelectable(p))return q._createAt(p,t?"after":"before");if(c.checkChild(b,"$text"))return b}else{if(c.isLimit(p)){n.skip(()=>!0);return}if(c.checkChild(b,"$text"))return b}}function hj(r,e,t){const n=r.position.textNode;if(n){const s=n.data;let c=r.position.offset-n.startOffset;for(;rp(s,c)||e=="character"&&op(s,c)||t&&Xv(s,c);)r.next(),c=r.position.offset-n.startOffset}return r.position}function fj(r,e){let t=r.position.textNode;for(t||(t=e?r.position.nodeAfter:r.position.nodeBefore);t&&t.is("$text");){const n=r.position.offset-t.startOffset;if(mj(t,n,e))t=e?r.position.nodeAfter:r.position.nodeBefore;else{if(pj(t.data,n,e))break;r.next()}}return r.position}function gj(r,e){const t=r.root,n=q._createAt(t,e?"end":0);return e?new U(r,n):new U(n,r)}function pj(r,e,t){const n=e+(t?0:-1);return lj.includes(r.charAt(n))}function mj(r,e,t){return e===(t?r.offsetSize:0)}class kj extends Be(){constructor(){super(),this.markers=new HL,this.document=new UL(this),this.schema=new iL,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),Yz(this),this.document.registerPostFixer(vy),this.on("insertContent",(e,[t,n])=>{e.return=oj(this,t,n)}),this.on("insertObject",(e,[t,n,s])=>{e.return=aj(this,t,n,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ts,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){L.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ts):e instanceof Ts||(e=new Ts(e)):e=new Ts,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){L.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...s){const c=Rp(t,n);return this.fire("insertContent",[e,c,n,...s])}insertObject(e,t,n,s,...c){const d=Rp(t,n);return this.fire("insertObject",[e,d,s,s,...c])}deleteContent(e,t){YL(this,e,t)}modifySelection(e,t){dj(this,e,t)}getSelectedContent(e){return rj(this,e)}hasContent(e,t={}){const n=e instanceof U?e:U._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:c=!1}=t;if(!c){for(const d of this.markers.getMarkersIntersectingRange(n))if(d.affectsData)return!0}for(const d of n.getItems())if(this.schema.isContent(d))if(d.is("$textProxy"))if(s){if(d.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Rp(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new q(e,t,n)}createPositionAt(e,t){return q._createAt(e,t)}createPositionAfter(e){return q._createAfter(e)}createPositionBefore(e){return q._createBefore(e)}createRange(e,t){return new U(e,t)}createRangeIn(e){return U._createIn(e)}createRangeOn(e){return U._createOn(e)}createSelection(...e){return new Tn(...e)}createBatch(e){return new Ts(e)}createOperationFromJSON(e){return IL.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new qL(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Rp(r,e){if(r)return r instanceof Tn||r instanceof di?r:r instanceof No?e||e===0?new Tn(r,e):r.is("rootElement")?new Tn(r,"in"):new Tn(r,"on"):new Tn(r)}class wj extends Mo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class ru extends Mo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class zo{constructor(e){this.document=e}createDocumentFragment(e){return new Io(this.document,e)}createElement(e,t,n){return new Sn(this.document,e,t,n)}createText(e){return new He(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const s=n.getChildIndex(e);return this.removeChildren(s,1,n),this.insertChild(s,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Sn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Zt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new ai(...e)}}class bj{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new L("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class _j extends si{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const s=t;t=(c,d)=>{this.editor.execute(s),d()}}super.set(e,t,n)}}class vj extends Be(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new r0({language:n}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Iv(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new i0(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new bj,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new kj,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new YP;this.data=new xL(this.model,c),this.editing=new eL(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new SL([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new _j(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new L("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),n,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){L.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function yj(r){if(!Gi(r.updateSourceElement))throw new L("attachtoform-missing-elementapi-interface",r);const e=r.sourceElement;if(Aj(e)&&e.form){let t;const n=e.form,s=()=>r.updateSourceElement();Gi(n.submit)&&(t=n.submit,n.submit=()=>{s(),t.apply(n)}),n.addEventListener("submit",s),r.on("destroy",()=>{n.removeEventListener("submit",s),t&&(n.submit=t)})}}function Aj(r){return!!r&&r.tagName.toLowerCase()==="textarea"}function ou(r){class e extends r{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const r=ou(Object);ou.setData=r.prototype.setData,ou.getData=r.prototype.getData}function Fp(r){class e extends r{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new L("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),c=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!c){Rv(this.sourceElement,"");return}Rv(this.sourceElement,n)}}return e}Fp.updateSourceElement=Fp(Object).prototype.updateSourceElement;function Cj(r,e){if(e.ckeditorInstance)throw new L("editor-source-element-already-used",r);e.ckeditorInstance=r,r.once("destroy",()=>{delete e.ckeditorInstance})}class tA extends o0{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new $n({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new L("pendingactions-add-invalid-message",this);const t=new(Be());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ye={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class nA{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const s of n)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Vp(r,e=new Set){const t=[r],n=new Set;let s=0;for(;t.length>s;){const c=t[s++];if(!(n.has(c)||!xj(c)||e.has(c)))if(n.add(c),Symbol.iterator in c)try{for(const d of c)t.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&t.push(c[d])}return n}function xj(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r===void 0||r===null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function iA(r,e,t=new Set){if(r===e&&Ej(r))return!0;const n=Vp(r,t),s=Vp(e,t);for(const c of n)if(s.has(c))return!0;return!1}function Ej(r){return typeof r=="object"&&r!==null}var Sj="Expected a function";function Dj(r,e,t){var n=!0,s=!0;if(typeof r!="function")throw new TypeError(Sj);return Ze(t)&&(n="leading"in t?!!t.leading:n,s="trailing"in t?!!t.trailing:s),pc(r,e,{leading:n,maxWait:e,trailing:s})}const Ec=Dj;class rA extends nA{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Ec(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,s)=>e.create(n,s)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},s={};for(const[d,h]of Object.entries(this._data.roots))h.isLoaded?(e[d]="",s[d]=n[d]||{}):t.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(Tj),this._initUsingData?this.create(e,c,c.context):Ao(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(h=>h.isAttached()&&h.rootName!="$graveyard"),{plugins:n}=e,s=n.has("CommentsRepository")&&n.get("CommentsRepository"),c=n.has("TrackChanges")&&n.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(h=>{d.roots[h.rootName]={content:JSON.stringify(Array.from(h.getChildren())),attributes:JSON.stringify(Array.from(h.getAttributes())),isLoaded:h._isLoaded}});for(const h of e.model.markers)h._affectsData&&(d.markers[h.name]={rangeJSON:h.getRange().toJSON(),usingOperation:h._managedUsingOperations,affectsData:h._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return iA(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Jg(e,(t,n)=>{if(Ao(t)||n==="context")return t})}}class Tj{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)n._appendChild(this._createNode(e,s));return n}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:c}])=>{const d=JSON.parse(s),h=JSON.parse(c),p=t.model.document.getRoot(n);for(const[b,v]of h)e.setAttribute(b,v,p);for(const b of d){const v=this._createNode(e,b);e.insert(v,p,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:c}=t.model,{rangeJSON:{start:d,end:h},...p}=s,b=c.getRoot(d.root),v=e.createPositionFromPath(b,d.path,d.stickiness),C=e.createPositionFromPath(b,h.path,h.stickiness),N=e.createRange(v,C);e.addMarker(n,{range:N,...p})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(n.threadId)&&c.getCommentThread(n.threadId).remove(),c.addCommentThread({channelId:s,...n})}),t.forEach(n=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(n.id)){const c=s.getSuggestion(n.id);c.attributes=n.attributes}else s.addSuggestionData(n)})}}const Sc=Symbol("MainQueueId");class Ij extends nA{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Mj,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Sc,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=oA(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return s=new rA(null,this._watchdogConfig),s.setCreator(n.creator),s._setExcludedProperties(this._contextProps),n.destructor&&s.setDestructor(n.destructor),this._watchdogs.set(n.id,s),s.on("error",(c,{error:d,causesRestart:h})=>{this._fire("itemError",{itemId:n.id,error:d}),h&&this._actionQueues.enqueue(n.id,()=>new Promise(p=>{const b=()=>{s.off("restart",b),this._fire("itemRestart",{itemId:n.id}),p()};s.on("restart",b)}))}),s.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=oA(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const s=this._getWatchdog(n);return this._watchdogs.delete(n),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Sc,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Sc,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Vp(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return iA(this._context,e.context)}}class Mj{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Sc;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const c=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Sc),this._queues.get(e)])).then(t),d=c.catch(()=>{});return this._queues.set(e,d),c.finally(()=>{this._activeActions--,this._queues.get(e)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function oA(r){return Array.isArray(r)?r:[r]}function Up({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(s,c)=>{if(!e())return;const d=typeof c.composedPath=="function"?c.composedPath():[],h=typeof n=="function"?n():n;for(const p of h)if(p.contains(c.target)||d.includes(p))return;t()})}function Hp(r){class e extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function su({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}class Ni extends $n{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,s)=>{this._renderViewIntoCollectionParent(n,s)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!Nj(e))throw new L("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const s of e)n.delegate(s).to(t);this.on("add",(n,s)=>{for(const c of e)s.delegate(c).to(t)}),this.on("remove",(n,s)=>{for(const c of e)s.stopDelegating(c,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function Nj(r){return r.every(e=>typeof e=="string")}var sA=a(5167),$p={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};$p.insert="head",$p.singleton=!0,se()(sA.Z,$p),sA.Z.locals;class pe extends En(Be()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new $n,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Pi.bind(this,this)}createCollection(e){const t=new Ni(e);return this._viewCollections.add(t),t}registerChild(e){Mt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Mt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Pi(e)}extendTemplate(e){Pi.extend(this.template,e)}render(){if(this.isRendered)throw new L("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const Pj="http://www.w3.org/1999/xhtml";class Pi extends Ce(){constructor(e){super(),Object.assign(this,dA(lA(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=mA(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new L("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)cu(n)?yield n:Wp(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,s){return new Oj({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:s})},if(n,s,c){return new aA({observable:e,emitter:t,attribute:n,valueIfTrue:s,callback:c})}}}static extend(e,t){if(e._isRendered)throw new L("template-extend-render",[this,e]);gA(e,dA(lA(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new L("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||Pj,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),au(this.text)?this._bindToObservable({schema:this.text,updater:zj(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const s in this.attributes){const c=t.getAttribute(s),d=this.attributes[s];n&&(n.attributes[s]=c);const h=pA(d)?d[0].ns:null;if(au(d)){const p=pA(d)?d[0].value:d;n&&kA(s)&&p.unshift(c),this._bindToObservable({schema:p,updater:Lj(t,s,h),data:e})}else if(s=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{n&&c&&kA(s)&&d.unshift(c);const p=d.map(b=>b&&(b.value||b)).reduce((b,v)=>b.concat(v),[]).reduce(hA,"");Ms(p)||t.setAttributeNS(h,s,p)}}}_renderStyleAttribute(e,t){const n=t.node;for(const s in e){const c=e[s];au(c)?this._bindToObservable({schema:[c],updater:jj(n,s),data:t}):n.style[s]=c}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let c=0;for(const d of this.children)if(qp(d)){if(!s){d.setParent(t);for(const h of d)n.appendChild(h.element)}}else if(cu(d))s||(d.isRendered||d.render(),n.appendChild(d.element));else if(Tr(d))n.appendChild(d);else if(s){const h=e.revertData,p=mA();h.children.push(p),d._renderNode({intoFragment:!1,node:n.childNodes[c++],isApplying:!0,revertData:p})}else n.appendChild(d.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(s=>{const[c,d]=t.split("@");return s.activateDomEventListener(c,d,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const s=n.revertData;cA(e,t,n);const c=e.filter(d=>!Ms(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,t,n));s&&s.bindings.push(c)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const c of s)c();if(t.text){e.textContent=t.text;return}const n=e;for(const s in t.attributes){const c=t.attributes[s];c===null?n.removeAttribute(s):n.setAttribute(s,c)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(n.childNodes[s],t.children[s])}}class Dc{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const s=()=>cA(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class Oj extends Dc{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const s=(c,d)=>{(!t||d.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(n.node,e,s),()=>{this.emitter.stopListening(n.node,e,s)}}}class aA extends Dc{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Ms(t)?!1:this.valueIfTrue||!0}}function au(r){return r?(r.value&&(r=r.value),Array.isArray(r)?r.some(au):r instanceof Dc):!1}function Bj(r,e){return r.map(t=>t instanceof Dc?t.getValue(e):t)}function cA(r,e,{node:t}){const n=Bj(r,t);let s;r.length==1&&r[0]instanceof aA?s=n[0]:s=n.reduce(hA,""),Ms(s)?e.remove():e.set(s)}function zj(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function Lj(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function jj(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function lA(r){return Jg(r,t=>{if(t&&(t instanceof Dc||Wp(t)||cu(t)||qp(t)))return t})}function dA(r){if(typeof r=="string"?r=Vj(r):r.text&&Uj(r),r.on&&(r.eventListeners=Fj(r.on),delete r.on),!r.text){r.attributes&&Rj(r.attributes);const e=[];if(r.children)if(qp(r.children))e.push(r.children);else for(const t of r.children)Wp(t)||cu(t)||Tr(t)?e.push(t):e.push(new Pi(t));r.children=e}return r}function Rj(r){for(const e in r)r[e].value&&(r[e].value=Bt(r[e].value)),uA(r,e)}function Fj(r){for(const e in r)uA(r,e);return r}function Vj(r){return{text:[r]}}function Uj(r){r.text=Bt(r.text)}function uA(r,e){r[e]=Bt(r[e])}function hA(r,e){return Ms(e)?r:Ms(r)?e:`${r} ${e}`}function fA(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function gA(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),fA(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),fA(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new L("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)gA(r.children[t++],n)}}function Ms(r){return!r&&r!==0}function cu(r){return r instanceof pe}function Wp(r){return r instanceof Pi}function qp(r){return r instanceof Ni}function pA(r){return Ze(r[0])&&r[0].ns}function mA(){return{children:[],bindings:[],attributes:{}}}function kA(r){return r=="class"||r=="style"}class Hj extends Ni{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Pi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=_s(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var wA=a(1977),Gp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Gp.insert="head",Gp.singleton=!0,se()(wA.Z,Gp),wA.Z.locals;class nr extends pe{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:c}of Array.from(t.attributes))nr.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,c);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}nr.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class $j extends pe{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var bA=a(4971),Yp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yp.insert="head",Yp.singleton=!0,se()(bA.Z,Yp),bA.Z.locals;class je extends pe{constructor(e,t=new $j){super(e),this._focusDelayed=null;const n=this.bindTemplate,s=ve();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new nr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",d=>!d),n.if("isVisible","ck-hidden",d=>!d),n.to("isOn",d=>d?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",d=>d||"button"),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,d=>!d),"aria-checked":n.to("isOn"),"aria-pressed":n.to("isOn",d=>this.isToggleable?String(!!d):!1),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};m.isSafari&&(this._focusDelayed||(this._focusDelayed=ip(()=>this.focus(),0)),c.on.mousedown=n.to(()=>{this._focusDelayed()}),c.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Kv(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=Kv(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var _A=a(7258),Zp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zp.insert="head",Zp.singleton=!0,se()(_A.Z,Zp),_A.Z.locals;class Kp extends je{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var vA=a(4923),Qp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Qp.insert="head",Qp.singleton=!0,se()(vA.Z,Qp),vA.Z.locals,a(8874),a(2085);var yA=a(3525),Jp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Jp.insert="head",Jp.singleton=!0,se()(yA.Z,Jp),yA.Z.locals;class Wj extends pe{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ve()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var AA=a(2933),Xp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xp.insert="head",Xp.singleton=!0,se()(AA.Z,Xp),AA.Z.locals;class Tc extends pe{constructor(e,t){super(e);const n=`ck-labeled-field-view-${ve()}`,s=`ck-labeled-field-view-status-${ve()}`;this.fieldView=t(this,n,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,h)=>d||h);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",d=>!d),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Wj(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new pe(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",s=>!s)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class qj extends pe{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new un,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=Gj(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function Gj(r){return!r.value}var CA=a(2470),em={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};em.insert="head",em.singleton=!0,se()(CA.Z,em),CA.Z.locals;class Yj extends qj{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class Zj extends Yj{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var xA=a(5224),tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tm.insert="head",tm.singleton=!0,se()(xA.Z,tm),xA.Z.locals;class Kj extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Te("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var EA=a(5062),nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nm.insert="head",nm.singleton=!0,se()(EA.Z,nm),EA.Z.locals;class Ns extends pe{constructor(e,t,n){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new si,this.focusTracker=new un,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,n,s)=>{if(s)if(this.panelPosition==="auto"){const c=Ns._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:s,northEast:c,northWest:d,southMiddleEast:h,southMiddleWest:p,northMiddleEast:b,northMiddleWest:v}=Ns.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,s,h,p,e,c,d,b,v,t]:[s,n,p,h,e,d,c,v,b,t]}}Ns.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)*3/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)*3/4,name:"nmw"})},Ns._getOptimalPosition=tp;const SA='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class DA extends je{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new nr;return e.content=SA,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class ir extends Ce(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const s of n)e.keystrokeHandler.set(s,(c,d)=>{this[t](),d()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(im)||null}get last(){return this.focusables.filter(im).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=n),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+n+e)%n;do{const c=this.focusables.get(s);if(im(c))return c;s=(s+n+e)%n}while(s!==t);return null}}function im(r){return!!("focus"in r&&Co(r.element))}class TA extends pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Qj extends pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Jj(r){return r.bindTemplate.to(e=>{e.target===r.element&&e.preventDefault()})}function IA(r){return Array.isArray(r)?{items:r,removeItems:[]}:r?Object.assign({items:[],removeItems:[]},r):{items:[],removeItems:[]}}var MA=a(4768),rm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rm.insert="head",rm.singleton=!0,se()(MA.Z,rm),MA.Z.locals;const{threeVerticalDots:NA}=ye,Xj={alignLeft:ye.alignLeft,bold:ye.bold,importExport:ye.importExport,paragraph:ye.paragraph,plus:ye.plus,text:ye.text,threeVerticalDots:ye.threeVerticalDots,pilcrow:ye.pilcrow,dragIndicator:ye.dragIndicator};class om extends pe{constructor(e,t){super(e);const n=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new un,this.keystrokes=new si,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new eR(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:Jj(this)}}),this._behavior=this.options.shouldGroupWhenFull?new nR(this):new tR(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const s=IA(e),c=n||s.removeItems;return this._cleanItemsConfiguration(s.items,t,c).map(h=>Ze(h)?this._createNestedToolbarDropdown(h,t,c):h==="|"?new TA:h==="-"?new Qj:t.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(e,t,n){const s=e.filter((c,d,h)=>c==="|"?!0:n.indexOf(c)!==-1?!1:c==="-"?this.options.shouldGroupWhenFull?(Te("toolbarview-line-break-ignored-when-grouping-items",h),!1):!0:!Ze(c)&&!t.has(c)?(Te("toolbarview-item-unavailable",{item:c}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=d=>d!=="-"&&d!=="|",n=e.length,s=e.findIndex(t);if(s===-1)return[];const c=n-e.slice().reverse().findIndex(t);return e.slice(s,c).filter((d,h,p)=>t(d)?!0:!(h>0&&p[h-1]===d))}_createNestedToolbarDropdown(e,t,n){let{label:s,icon:c,items:d,tooltip:h=!0,withText:p=!1}=e;if(d=this._cleanItemsConfiguration(d,t,n),!d.length)return null;const b=this.locale,v=Nr(b);return s||Te("toolbarview-nested-toolbar-dropdown-missing-label",e),v.class="ck-toolbar__nested-toolbar-dropdown",v.buttonView.set({label:s,tooltip:h,withText:!!p}),c!==!1?v.buttonView.icon=Xj[c]||c||NA:v.buttonView.withText=!0,du(v,()=>v.toolbarView._buildItemsFromConfig(d,t,n)),v}}class eR extends pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class tR{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class nR{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const s=n.index,c=Array.from(n.added);for(const d of n.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=s;d<s+c.length;d++){const h=c[d-s];d>this.ungroupedItems.length?this.groupedItems.add(h,d-this.ungroupedItems.length):this.ungroupedItems.add(h,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Co(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new xe(e.lastChild),s=new xe(e);if(!this.cachedPadding){const c=le.window.getComputedStyle(e),d=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[d])}return t==="ltr"?n.right>s.right-this.cachedPadding:n.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ge(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new TA),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Nr(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",du(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:NA}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class lu extends pe{constructor(e){super(e);const t=this.bindTemplate,n=`ck-editor__label_${ve()}`,s=new OA(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(n),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:n}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",c=>!c)]},children:this.children})}_createLabel(e){const t=new pe(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:n.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var PA=a(179),sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sm.insert="head",sm.singleton=!0,se()(PA.Z,sm),PA.Z.locals;class OA extends pe{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Ni,this.items=this.createCollection(),this.focusTracker=new un,this.keystrokes=new si,this._focusCycler=new ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof lu?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof lu?this._deregisterFocusableItemsGroup(n):this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof lu?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const s of n.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(n.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,c)=>{const d=typeof t<"u"?t+c:void 0;this._registerFocusableListItem(s,d)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class BA extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class iR extends pe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var zA=a(4791),am={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};am.insert="head",am.singleton=!0,se()(zA.Z,am),zA.Z.locals;class cm extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new si,this.focusTracker=new un,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new je;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new je,t=e.bindTemplate;return e.icon=SA,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var LA=a(2704),lm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lm.insert="head",lm.singleton=!0,se()(LA.Z,lm),LA.Z.locals;var jA=a(1883),dm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dm.insert="head",dm.singleton=!0,se()(jA.Z,dm),jA.Z.locals;function Nr(r,e=DA){const t=new e(r),n=new Kj(r),s=new Ns(r,t,n);return t.bind("isEnabled").to(s),t instanceof cm?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),rR(s),s}function du(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?RA(r,e,t):r.once("change:isOpen",()=>RA(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&UA(r,()=>r.toolbarView.items.find(n=>n.isOn))}function RA(r,e,t){const n=r.locale,s=n.t,c=r.toolbarView=new om(n),d=typeof e=="function"?e():e;c.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(c.maxWidth=t.maxWidth),t.class&&(c.class=t.class),t.isCompact&&(c.isCompact=t.isCompact),t.isVertical&&(c.isVertical=!0),d instanceof Ni?c.items.bindTo(d).using(h=>h):c.items.addMany(d),r.panelView.children.add(c),c.items.delegate("execute").to(r)}function FA(r,e,t={}){r.isOpen?VA(r,e,t):r.once("change:isOpen",()=>VA(r,e,t),{priority:"highest"}),UA(r,()=>r.listView.items.find(n=>n instanceof BA?n.children.first.isOn:!1))}function VA(r,e,t){const n=r.locale,s=r.listView=new OA(n),c=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,HA(r,s.items,c,n),r.panelView.children.add(s),s.items.delegate("execute").to(r)}function UA(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Te("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:Re.low-10})}function rR(r){oR(r),sR(r),aR(r),cR(r),lR(r),dR(r)}function oR(r){r.on("render",()=>{Up({emitter:r,activator:()=>r.isOpen,callback:()=>{r.isOpen=!1},contextElements:()=>[r.element,...r.focusTracker._elements]})})}function sR(r){r.on("execute",e=>{e.source instanceof Kp||(r.isOpen=!1)})}function aR(r){r.focusTracker.on("change:isFocused",(e,t,n)=>{r.isOpen&&!n&&(r.isOpen=!1)})}function cR(r){r.keystrokes.set("arrowdown",(e,t)=>{r.isOpen&&(r.panelView.focus(),t())}),r.keystrokes.set("arrowup",(e,t)=>{r.isOpen&&(r.panelView.focusLast(),t())})}function lR(r){r.on("change:isOpen",(e,t,n)=>{if(n)return;const s=r.panelView.element;s&&s.contains(le.document.activeElement)&&r.buttonView.focus()})}function dR(r){r.on("change:isOpen",(e,t,n)=>{n&&r.panelView.focus()},{priority:"low"})}function HA(r,e,t,n){e.bindTo(t).using(s=>{if(s.type==="separator")return new iR(n);if(s.type==="group"){const c=new lu(n);return c.set({label:s.label}),HA(r,c.items,s.items,n),c.items.delegate("execute").to(r),c}else if(s.type==="button"||s.type==="switchbutton"){const c=new BA(n);let d;return s.type==="button"?d=new je(n):d=new Kp(n),d.bind(...Object.keys(s.model)).to(s.model),d.delegate("execute").to(c),c.children.add(d),c}return null})}const Ic=(r,e,t)=>{const n=new Zj(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",s=>!s),n.bind("hasError").to(r,"errorText",s=>!!s),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n},Mc=(r,e=0,t=1)=>r>t?t:r<e?e:r,Ut=(r,e=0,t=Math.pow(10,e))=>Math.round(t*r)/t,uR=r=>mR(um(r)),um=r=>(r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Ut(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?Ut(parseInt(r.substring(6,8),16)/255,2):1}),hR=r=>pR(gR(r)),fR=({h:r,s:e,v:t,a:n})=>{const s=(200-e)*t/100;return{h:Ut(r),s:Ut(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:Ut(s/2),a:Ut(n,2)}},hm=r=>{const{h:e,s:t,l:n}=fR(r);return`hsl(${e}, ${t}%, ${n}%)`},gR=({h:r,s:e,v:t,a:n})=>{r=r/360*6,e=e/100,t=t/100;const s=Math.floor(r),c=t*(1-e),d=t*(1-(r-s)*e),h=t*(1-(1-r+s)*e),p=s%6;return{r:Ut([t,d,c,c,h,t][p]*255),g:Ut([h,t,t,d,c,c][p]*255),b:Ut([c,c,h,t,t,d][p]*255),a:Ut(n,2)}},uu=r=>{const e=r.toString(16);return e.length<2?"0"+e:e},pR=({r,g:e,b:t,a:n})=>{const s=n<1?uu(Ut(n*255)):"";return"#"+uu(r)+uu(e)+uu(t)+s},mR=({r,g:e,b:t,a:n})=>{const s=Math.max(r,e,t),c=s-Math.min(r,e,t),d=c?s===r?(e-t)/c:s===e?2+(t-r)/c:4+(r-e)/c:0;return{h:Ut(60*(d<0?d+6:d)),s:Ut(s?c/s*100:0),v:Ut(s/255*100),a:n}},$A=(r,e)=>{if(r===e)return!0;for(const t in r)if(r[t]!==e[t])return!1;return!0},kR=(r,e)=>r.toLowerCase()===e.toLowerCase()?!0:$A(um(r),um(e)),WA={},qA=r=>{let e=WA[r];return e||(e=document.createElement("template"),e.innerHTML=r,WA[r]=e),e},fm=(r,e,t)=>{r.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Ps=!1;const gm=r=>"touches"in r,wR=r=>Ps&&!gm(r)?!1:(Ps||(Ps=gm(r)),!0),GA=(r,e)=>{const t=gm(e)?e.touches[0]:e,n=r.el.getBoundingClientRect();fm(r.el,"move",r.getMove({x:Mc((t.pageX-(n.left+window.pageXOffset))/n.width),y:Mc((t.pageY-(n.top+window.pageYOffset))/n.height)}))},bR=(r,e)=>{const t=e.keyCode;t>40||r.xy&&t<37||t<33||(e.preventDefault(),fm(r.el,"move",r.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class YA{constructor(e,t,n,s){const c=qA(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const d=e.querySelector(`[part=${t}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=s,this.nodes=[d.firstChild,d]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Ps?"touchmove":"mousemove",this),t(Ps?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!wR(e)||!Ps&&e.button!=0)return;this.el.focus(),GA(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),GA(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":bR(this,e);break}}style(e){e.forEach((t,n)=>{for(const s in t)this.nodes[n].style.setProperty(s,t[s])})}}class _R extends YA{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:hm({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Ut(e)}`)}getMove(e,t){return{h:t?Mc(this.h+e.x*360,0,360):360*e.x}}}class vR extends YA{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:hm(e)},{"background-color":hm({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Ut(e.s)}%, Brightness ${Ut(e.v)}%`)}getMove(e,t){return{s:t?Mc(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Mc(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const yR=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',AR="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",CR="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",hu=Symbol("same"),pm=Symbol("color"),ZA=Symbol("hsva"),mm=Symbol("update"),KA=Symbol("parts"),QA=Symbol("css"),JA=Symbol("sliders");class xR extends HTMLElement{static get observedAttributes(){return["color"]}get[QA](){return[yR,AR,CR]}get[JA](){return[vR,_R]}get color(){return this[pm]}set color(e){if(!this[hu](e)){const t=this.colorModel.toHsva(e);this[mm](t),this[pm]=e}}constructor(){super();const e=qA(`<style>${this[QA].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[KA]=this[JA].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const s=this.colorModel.fromAttr(n);this[hu](s)||(this.color=s)}handleEvent(e){const t=this[ZA],n={...t,...e.detail};this[mm](n);let s;!$A(n,t)&&!this[hu](s=this.colorModel.fromHsva(n))&&(this[pm]=s,fm(this,"color-changed",{value:s}))}[hu](e){return this.color&&this.colorModel.equal(e,this.color)}[mm](e){this[ZA]=e,this[KA].forEach(t=>t.update(e))}}const ER={defaultColor:"#000",toHsva:uR,fromHsva:({h:r,s:e,v:t})=>hR({h:r,s:e,v:t,a:1}),equal:kR,fromAttr:r=>r};class SR extends xR{get colorModel(){return ER}}class DR extends SR{}customElements.define("hex-color-picker",DR);var XA=a(4257),km={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};km.insert="head",km.singleton=!0,se()(XA.Z,km),XA.Z.locals;var eC=a(6306),wm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wm.insert="head",wm.singleton=!0,se()(eC.Z,wm),eC.Z.locals;class TR{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(bm(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new L("componentfactory-item-missing",this,{name:e});return this._components.get(bm(e)).callback(this.editor.locale)}has(e){return this._components.has(bm(e))}}function bm(r){return String(r).toLowerCase()}var tC=a(4460),_m={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_m.insert="head",_m.singleton=!0,se()(tC.Z,_m),tC.Z.locals;const nC=ac("px"),iC=le.document.body,IR={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Ht extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",nC),left:t.to("left",nC)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Ht.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:iC,fitInViewport:!0},e),s=Ht._getOptimalPosition(n)||IR,c=parseInt(s.left),d=parseInt(s.top),h=s.name,p=s.config||{},{withArrow:b=!0}=p;this.top=d,this.left=c,this.position=h,this.withArrow=b}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=vm(e.target),n=e.limiter?vm(e.limiter):iC;this.listenTo(le.document,"scroll",(s,c)=>{const d=c.target,h=t&&d.contains(t),p=n&&d.contains(n);(h||p||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(le.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(le.document,"scroll"),this.stopListening(le.window,"resize")}}Ht.arrowSideOffset=25,Ht.arrowHeightOffset=10,Ht.stickyVerticalOffset=20,Ht._getOptimalPosition=tp,Ht.defaultPositions=rC();function vm(r){return Ao(r)?r:Fd(r)?r.commonAncestorContainer:typeof r=="function"?vm(r()):null}function rC(r={}){const{sideOffset:e=Ht.arrowSideOffset,heightOffset:t=Ht.arrowHeightOffset,stickyVerticalOffset:n=Ht.stickyVerticalOffset,config:s}=r;return{northWestArrowSouthWest:(h,p)=>({top:c(h,p),left:h.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.left-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(h,p)=>({top:c(h,p),left:h.left-p.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.left-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(h,p)=>({top:c(h,p),left:h.left-p.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(h,p)=>({top:c(h,p),left:h.left+h.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(h,p)=>({top:c(h,p),left:h.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.right-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(h,p)=>({top:c(h,p),left:h.right-p.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.right-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(h,p)=>({top:c(h,p),left:h.right-p.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:h=>({top:d(h),left:h.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.left-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(h,p)=>({top:d(h),left:h.left-p.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.left-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(h,p)=>({top:d(h),left:h.left-p.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:h=>({top:d(h),left:h.left+h.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:h=>({top:d(h),left:h.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.right-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(h,p)=>({top:d(h),left:h.right-p.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.right-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(h,p)=>({top:d(h),left:h.right-p.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(h,p)=>({top:h.top+h.height/2-p.height/2,left:h.left-p.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(h,p)=>({top:h.top+h.height/2-p.height/2,left:h.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(h,p,b,v)=>{const C=v||b;return!h.getIntersection(C)||C.height-h.height>n?null:{top:C.top+n,left:h.left+h.width/2-p.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function c(h,p){return h.top-p.height-t}function d(h){return h.bottom+t}}var oC=a(3888),ym={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ym.insert="head",ym.singleton=!0,se()(oC.Z,ym),oC.Z.locals;const sC="ck-tooltip";class jt extends En(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,jt._editors.add(e),jt._instance)return jt._instance;jt._instance=this,this.tooltipTextView=new pe(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ht(e.locale),this.balloonPanelView.class=sC,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=pc(this._pinTooltip,600),this.listenTo(le.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(le.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(le.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(le.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(le.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;jt._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),jt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),jt._instance=null)}static getPositioningFunctions(e){const t=jt.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=Am(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,MR(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Ao(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Am(t),c=Am(n);s&&s!==c&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:s}){const c=zt(jt._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:jt.getPositioningFunctions(n)}),this._resizeObserver=new Ge(e,()=>{Co(e)||this._unpinTooltip()}),this.balloonPanelView.class=[sC,s].filter(d=>d).join(" ");for(const d of jt._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of jt._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!Co(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:jt.getPositioningFunctions(this._currentTooltipPosition)})}}jt.defaultBalloonPositions=rC({heightOffset:5,sideOffset:13}),jt._editors=new Set,jt._instance=null;function Am(r){return Ao(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function MR(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}const NR=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,PR=53,OR=10,BR=50,zR=350,LR="Powered by";class jR extends En(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Ec(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;!e.config.get("ui.poweredBy.forceVisible")&&l3(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Ht,n=cC(e),s=new RR(e.locale,n.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=FR(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));s.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=s[0]}}class RR extends pe{constructor(e,t){super(e);const n=new nr,s=this.bindTemplate;n.set({content:NR,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:PR+"px",height:OR+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:s.to(c=>c.preventDefault())}}]})}}function FR(r,e){const t=cC(r),n=t.side==="right"?VR(e,t):UR(e,t);return{target:e,positions:[n]}}function VR(r,e){return aC(r,e,(t,n)=>t.left+t.width-n.width-e.horizontalOffset)}function UR(r,e){return aC(r,e,t=>t.left+e.horizontalOffset)}function aC(r,e,t){return(n,s)=>{const c=new xe(r);if(c.width<zR||c.height<BR)return null;let d;e.position==="inside"?d=c.bottom-s.height:d=c.bottom-s.height/2,d-=e.verticalOffset;const h=t(c,s),b=n.clone().moveTo(h,d).getIntersection(s.clone().moveTo(h,d)).getVisible();return!b||b.getArea()<s.getArea()?null:{top:d,left:h,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function cC(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:LR,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class HR extends Be(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new TR(e),this.focusTracker=new un,this.tooltipManager=new jt(e),this.poweredBy=new jR(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,s;e.keystrokes.set("Alt+F10",(c,d)=>{const h=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(h)&&!Array.from(t.domRoots.values()).includes(h)&&(n=h);const p=this._getCurrentFocusedToolbarDefinition();(!p||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<s.length;b++){const v=s.shift();if(s.push(v),v!==p&&this._focusFocusableCandidateToolbar(v)){p&&p.options.afterBlur&&p.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(c,d)=>{const h=this._getCurrentFocusedToolbarDefinition();h&&(n?(n.focus(),n=null):e.editing.view.focus(),h.options.afterBlur&&h.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:s}=t;(Co(n.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,n)=>lC(t)-lC(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),Co(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function lC(r){const{toolbarView:e,options:t}=r;let n=10;return Co(e.element)&&n--,t.isContextual&&n--,n}var dC=a(9847),Cm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Cm.insert="head",Cm.singleton=!0,se()(dC.Z,Cm),dC.Z.locals;class $R extends pe{constructor(e){super(e),this.body=new Hj(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class WR extends pe{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(s){e.change(c=>{const d=e.document.getRoot(s.name);c.addClass(s.isFocused?"ck-focused":"ck-blurred",d),c.removeClass(s.isFocused?"ck-blurred":"ck-focused",d)})}function n(s){e.once("change:isRenderingInProgress",(c,d,h)=>{h?n(s):t(s)})}}}class qR extends WR{constructor(e,t,n,s={}){super(e,t,n);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}var uC=a(1874),xm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xm.insert="head",xm.singleton=!0,se()(uC.Z,xm),uC.Z.locals;class hC extends o0{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class fC extends Be(){constructor(e,t){super(),t&&H0(this,t),e&&this.set(e)}}const GR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',YR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var gC=a(7592),Em={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Em.insert="head",Em.singleton=!0,se()(gC.Z,Em),gC.Z.locals;var pC=a(6356),Sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sm.insert="head",Sm.singleton=!0,se()(pC.Z,Sm),pC.Z.locals;const fu=ac("px");class gu extends Z{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new L("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new L("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new L("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Ht(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new ZR(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,s)=>{if(s<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[c,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new KR(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class ZR extends pe{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new un,this.buttonPrevView=this._createButtonView(t("Previous"),GR),this.buttonNextView=this._createButtonView(t("Next"),YR),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new je(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class KR extends pe{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:n.to("top",fu),left:n.to("left",fu),width:n.to("width",fu),height:n.to("height",fu)}},children:this.content}),this.on("change:numberOfPanels",(s,c,d,h)=>{d>h?this._addPanels(d-h):this._removePanels(h-d),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new pe;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:s}=new xe(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:s})}}}var mC=a(3707),Dm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dm.insert="head",Dm.singleton=!0,se()(mC.Z,Dm),mC.Z.locals;class QR extends Tc{constructor(e,t){const n=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Ic},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new nr,this.iconView.content=ye.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new je(e),this.resetButtonView.set({label:n("Clear"),icon:ye.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",c=>!c),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class JR extends pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class XR extends pe{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new un,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ir({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var kC=/[\\^$.*+?()[\]{}|]/g,e6=RegExp(kC.source);function t6(r){return r=dp(r),r&&e6.test(r)?r.replace(kC,"\\$&"):r}const wC=t6;var bC=a(9332),Tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tm.insert="head",Tm.singleton=!0,se()(bC.Z,Tm),bC.Z.locals;class n6 extends pe{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new un,this.keystrokes=new si,this.resultsView=new XR(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new JR,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ir({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:s,totalItemsCount:c})=>{this.resultsCount=s,this.totalItemsCount=c}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(wC(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new QR(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(s,c)=>{if(c.resultsCount)t.set({isVisible:!1});else{const d=this._config.infoView&&this._config.infoView.text;let h,p;c.totalItemsCount?d&&d.notFound?(h=d.notFound.primary,p=d.notFound.secondary):(h=e("No results found"),p=""):d&&d.noSearchableItems?(h=d.noSearchableItems.primary,p=d.noSearchableItems.secondary):(h=e("No searchable items"),p=""),t.set({primaryText:n(h,c),secondaryText:n(p,c),isVisible:!0})}});function n(s,{query:c,resultsCount:d,totalItemsCount:h}){return typeof s=="function"?s(c,d,h):s}}}var _C=a(4029),Im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Im.insert="head",Im.singleton=!0,se()(_C.Z,Im),_C.Z.locals;class Nc extends n6{constructor(e,t){super(e,t),this._config=t;const n=ac("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",c=>!c),s.to("_position",c=>`ck-search__results_${c}`)],style:{width:s.to("_width",n)}}}),this.focusTracker.on("change:isFocused",(c,d,h)=>{this._updateResultsVisibility(),h?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(le.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new xe(this.queryView.fieldView.element).width;const e=Nc._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Nc.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}Nc.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],Nc._getOptimalPosition=tp;var vC=a(4746),Mm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mm.insert="head",Mm.singleton=!0,se()(vC.Z,Mm),vC.Z.locals;var yC=a(6446),Nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nm.insert="head",Nm.singleton=!0,se()(yC.Z,Nm),yC.Z.locals;var AC=a(4176),Pm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Pm.insert="head",Pm.singleton=!0,se()(AC.Z,Pm),AC.Z.locals;class i6 extends HR{constructor(e,t){super(e),this.view=t,this._toolbarConfig=IA(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,n=e.editing.view,s=t.editable,c=n.document.getRoot();s.name=c.rootName,t.render();const d=s.element;this.setEditableElement(s.name,d),s.bind("isFocused").to(this.focusTracker),n.attachDomRoot(d),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:c})=>c||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:n,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),s=e.config.get("placeholder");if(s){const c=typeof s=="string"?s:s[n.rootName];c&&(n.placeholder=c)}c0({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}}const r6=ac("px");class o6 extends $R{constructor(e,t,n,s={}){super(e);const c=e.t;this.toolbar=new om(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new Ht(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new qR(e,t,n,{label:d=>c("Rich Text Editor. Editing area: %0",d.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const t=this.editable.element;this._resizeObserver=new Ge(t,()=>{this.toolbar.maxWidth=r6(new xe(t).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let n;return e.top>t.height+this.viewportTopOffset?n=e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?n=this.viewportTopOffset:n=e.bottom,n}_getPanelPositions(){const e=[(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left+t.width-n.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class pu extends ou(Fp(vj)){constructor(e,t={}){if(!mu(e)&&t.initialData!==void 0)throw new L("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",s6(e)),this.model.document.createRoot(),mu(e)&&(this.sourceElement=e,Cj(this,e));const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new o6(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:n});this.ui=new i6(this,s),yj(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(mu(e)&&e.tagName==="TEXTAREA")throw new L("editor-wrong-element",null);const s=new this(e,t);n(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}pu.Context=r0,pu.EditorWatchdog=rA,pu.ContextWatchdog=Ij;function s6(r){return mu(r)?zN(r):r}function mu(r){return Ao(r)}const Om=["left","right","center","justify"];function CC(r){return Om.includes(r)}function xC(r,e){return e.contentLanguageDirection=="rtl"?r==="right":r==="left"}function EC(r){const e=r.map(n=>{let s;return typeof n=="string"?s={name:n}:s=n,s}).filter(n=>{const s=Om.includes(n.name);return s||Te("alignment-config-name-not-recognized",{option:n}),s}),t=e.filter(n=>!!n.className).length;if(t&&t<e.length)throw new L("alignment-config-classnames-are-missing",{configuredOptions:r});return e.forEach((n,s,c)=>{const d=c.slice(s+1);if(d.some(p=>p.name==n.name))throw new L("alignment-config-name-already-defined",{option:n,configuredOptions:r});if(n.className&&d.some(b=>b.className==n.className))throw new L("alignment-config-classname-already-defined",{option:n,configuredOptions:r})}),e}const Bm="alignment";class a6 extends Ye{refresh(){const t=this.editor.locale,n=zt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,s=t.model,c=s.document,d=e.value;s.change(h=>{const p=Array.from(c.selection.getSelectedBlocks()).filter(C=>this._canBeAligned(C)),b=p[0].getAttribute("alignment");xC(d,n)||b===d||!d?c6(p,h):l6(p,h,d)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Bm)}}function c6(r,e){for(const t of r)e.removeAttribute(Bm,t)}function l6(r,e,t){for(const n of r)e.setAttribute(Bm,t,n)}class d6 extends Z{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Om.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,c=EC(e.config.get("alignment.options")).filter(b=>CC(b.name)&&!xC(b.name,t)),d=c.some(b=>!!b.className);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),d?e.conversion.attributeToAttribute(g6(c)):e.conversion.for("downcast").attributeToAttribute(u6(c));const h=h6(c);for(const b of h)e.conversion.for("upcast").attributeToAttribute(b);const p=f6(c);for(const b of p)e.conversion.for("upcast").attributeToAttribute(b);e.commands.add("alignment",new a6(e))}}function u6(r){const e={};for(const{name:n}of r)e[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:r.map(n=>n.name)},view:e}}function h6(r){const e=[];for(const{name:t}of r)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function f6(r){const e=[];for(const{name:t}of r)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function g6(r){const e={};for(const n of r)e[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:r.map(n=>n.name)},view:e}}const ku=new Map([["left",ye.alignLeft],["right",ye.alignRight],["center",ye.alignCenter],["justify",ye.alignJustify]]);class p6 extends Z{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,s=EC(e.config.get("alignment.options"));s.map(c=>c.name).filter(CC).forEach(c=>this._addButton(c)),t.add("alignment",c=>{const d=Nr(c);du(d,()=>s.map(b=>t.create(`alignment:${b.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),d.buttonView.set({label:n("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const h=c.contentLanguageDirection==="rtl"?ku.get("right"):ku.get("left"),p=e.commands.get("alignment");return d.buttonView.bind("icon").to(p,"value",b=>ku.get(b)||h),d.bind("isEnabled").to(p,"isEnabled"),this.listenTo(d,"execute",()=>{e.editing.view.focus()}),d})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const s=t.commands.get("alignment"),c=new je(n);return c.set({label:this.localizedOptionTitles[e],icon:ku.get(e),tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s),c.bind("isOn").to(s,"value",d=>d===e),this.listenTo(c,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),c})}}class m6 extends Z{static get requires(){return[d6,p6]}static get pluginName(){return"Alignment"}}class SC{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class k6 extends Ye{constructor(e,t){super(e),this._buffer=new SC(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,s=e.text||"",c=s.length;let d=n.selection;if(e.selection?d=e.selection:e.range&&(d=t.createSelection(e.range)),!t.canEditAt(d))return;const h=e.resultRange;t.enqueueChange(this._buffer.batch,p=>{this._buffer.lock(),t.deleteContent(d),s&&t.insertContent(p.createText(s,n.selection.getAttributes()),d),h?p.setSelection(h):d.is("documentSelection")||p.setSelection(d),this._buffer.unlock(),this._buffer.input(c)})}}const DC=["insertText","insertReplacementText"];class w6 extends Ti{constructor(e){super(e),this.focusObserver=e.getObserver(eu),m.isAndroid&&DC.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,s)=>{if(!this.isEnabled)return;const{data:c,targetRanges:d,inputType:h,domEvent:p}=s;if(!DC.includes(h))return;this.focusObserver.flush();const b=new te(t,"insertText");t.fire(b,new Ss(e,p,{text:c,selection:e.createSelection(d)})),b.stop.called&&n.stop()}),t.on("compositionend",(n,{data:s,domEvent:c})=>{!this.isEnabled||m.isAndroid||s&&t.fire("insertText",new Ss(e,c,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class TC extends Z{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,s=t.document.selection;n.addObserver(w6);const c=new k6(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(n.document,"insertText",(d,h)=>{n.document.isComposing||h.preventDefault();const{text:p,selection:b,resultRange:v}=h,C=Array.from(b.getRanges()).map(R=>e.editing.mapper.toModelRange(R));let N=p;if(m.isAndroid){const R=Array.from(C[0].getItems()).reduce((G,re)=>G+(re.is("$textProxy")?re.data:""),"");R&&(R.length<=N.length?N.startsWith(R)&&(N=N.substring(R.length),C[0].start=C[0].start.getShiftedBy(R.length)):R.startsWith(N)&&(C[0].start=C[0].start.getShiftedBy(N.length),N=""))}const B={text:N,selection:t.createSelection(C)};v&&(B.resultRange=e.editing.mapper.toModelRange(v)),e.execute("insertText",B),n.scrollToTheSelection()}),m.isAndroid?this.listenTo(n.document,"keydown",(d,h)=>{s.isCollapsed||h.keyCode!=229||!n.document.isComposing||IC(t,c)}):this.listenTo(n.document,"compositionstart",()=>{s.isCollapsed||IC(t,c)})}}function IC(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class MC extends Ye{constructor(e,t){super(e),this.direction=t,this._buffer=new SC(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const c=s.createSelection(e.selection||n.selection);if(!t.canEditAt(c))return;const d=e.sequence||1,h=c.isCollapsed;if(c.isCollapsed&&t.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(c,d)){this.editor.execute("paragraph",{selection:c});return}if(c.isCollapsed)return;let p=0;c.getFirstRange().getMinimalFlatRanges().forEach(b=>{p+=ri(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(c,{doNotResetEntireContent:h,direction:this.direction}),this._buffer.input(p),s.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(c))||!t.schema.checkChild(c,"paragraph"))return!1;const h=c.getChild(0);return!(h&&h.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s),d=e.createElement("paragraph");e.remove(e.createRangeIn(c)),e.insert(d,c),e.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),c=n.schema.getLimitElement(s),d=c.getChild(0);return!(s.parent!=d||!e.containsEntireContent(d)||!n.schema.checkChild(c,"paragraph")||d.name=="paragraph")}}const b6="character",NC="word",_6="codePoint",Pr="selection",Os="backward",Pc="forward",PC={deleteContent:{unit:Pr,direction:Os},deleteContentBackward:{unit:_6,direction:Os},deleteWordBackward:{unit:NC,direction:Os},deleteHardLineBackward:{unit:Pr,direction:Os},deleteSoftLineBackward:{unit:Pr,direction:Os},deleteContentForward:{unit:b6,direction:Pc},deleteWordForward:{unit:NC,direction:Pc},deleteHardLineForward:{unit:Pr,direction:Pc},deleteSoftLineForward:{unit:Pr,direction:Pc}};class v6 extends Ti{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:h,inputType:p}=c,b=PC[p];if(!b)return;const v={direction:b.direction,unit:b.unit,sequence:n};v.unit==Pr&&(v.selectionToRemove=e.createSelection(d[0])),p==="deleteContentBackward"&&(m.isAndroid&&(v.sequence=1),A6(d)&&(v.unit=Pr,v.selectionToRemove=e.createSelection(d)));const C=new xs(t,"delete",d[0]);t.fire(C,new Ss(e,h,v)),C.stop.called&&s.stop()}),m.isBlink&&y6(this)}observe(){}stopObserving(){}}function y6(r){const e=r.view,t=e.document;let n=null,s=!1;t.on("keydown",(h,{keyCode:p})=>{n=p,s=!1}),t.on("keyup",(h,{keyCode:p,domEvent:b})=>{const v=t.selection,C=r.isEnabled&&p==n&&c(p)&&!v.isCollapsed&&!s;if(n=null,C){const N=v.getFirstRange(),B=new xs(t,"delete",N),R={unit:Pr,direction:d(p),selectionToRemove:v};t.fire(B,new Ss(e,b,R))}}),t.on("beforeinput",(h,{inputType:p})=>{const b=PC[p];c(n)&&b&&b.direction==d(n)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(h,{inputType:p,data:b})=>{n==Se.delete&&p=="insertText"&&b==""&&h.stop()},{priority:"high"});function c(h){return h==Se.backspace||h==Se.delete}function d(h){return h==Se.backspace?Os:Pc}}function A6(r){if(r.length!=1||r[0].isCollapsed)return!1;const e=r[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const s=n.parent.data,c=n.offset;if(rp(s,c)||op(s,c)||Xv(s,c))continue;t++}if(t>1)return!0}return!1}class Oi extends Z{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,s=e.model.document;t.addObserver(v6),this._undoOnBackspace=!1;const c=new MC(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new MC(e,"backward")),this.listenTo(n,"delete",(d,h)=>{n.isComposing||h.preventDefault();const{direction:p,sequence:b,selectionToRemove:v,unit:C}=h,N=p==="forward"?"deleteForward":"delete",B={sequence:b};if(C=="selection"){const R=Array.from(v.getRanges()).map(G=>e.editing.mapper.toModelRange(G));B.selection=e.model.createSelection(R)}else B.unit=C;e.execute(N,B),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(d,h)=>{this._undoOnBackspace&&h.direction=="backward"&&h.sequence==1&&h.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),h.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class C6 extends Z{static get requires(){return[TC,Oi]}static get pluginName(){return"Typing"}}function OC(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((s,{item:c})=>c.is("$text")||c.is("$textProxy")?s+c.data:(t=e.createPositionAfter(c),""),""),range:e.createRange(t,r.end)}}class BC extends Be(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,c=n.document.selection,d=n.createRange(n.createPositionAt(c.focus.parent,0),c.focus),{text:h,range:p}=OC(d,n),b=this.testCallback(h);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const v=Object.assign(t,{text:h,range:p});typeof b=="object"&&Object.assign(v,b),this.fire(`matched:${e}`,v)}}}class zC extends Z{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,s=e.locale,c=t.document.selection;this.listenTo(n.document,"arrowKey",(d,h)=>{if(!c.isCollapsed||h.shiftKey||h.altKey||h.ctrlKey)return;const p=h.keyCode==Se.arrowright,b=h.keyCode==Se.arrowleft;if(!p&&!b)return;const v=s.contentLanguageDirection;let C=!1;v==="ltr"&&p||v==="rtl"&&b?C=this._handleForwardMovement(h):C=this._handleBackwardMovement(h),C===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(d,h)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!h.directChange&&bu(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,c=s.getFirstPosition();return this._isGravityOverridden||c.isAtStart&&zm(s,t)?!1:bu(c,t)?(wu(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,s=n.document.selection,c=s.getFirstPosition();return this._isGravityOverridden?(wu(e),this._restoreGravity(),Lm(n,t,c),!0):c.isAtStart?zm(s,t)?(wu(e),Lm(n,t,c),!0):!1:x6(c,t)?c.isAtEnd&&!zm(s,t)&&bu(c,t)?(wu(e),Lm(n,t,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function zm(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function Lm(r,e,t){const n=t.nodeBefore;r.change(s=>{if(n){const c=[],d=r.schema.isObject(n)&&r.schema.isInline(n);for(const[h,p]of n.getAttributes())r.schema.checkAttribute("$text",h)&&(!d||r.schema.getAttributeProperties(h).copyFromObject!==!1)&&c.push([h,p]);s.setSelectionAttribute(c)}else s.removeSelectionAttribute(e)})}function wu(r){r.preventDefault()}function x6(r,e){const t=r.getShiftedBy(-1);return bu(t,e)}function bu(r,e){const{nodeBefore:t,nodeAfter:n}=r;for(const s of e){const c=t?t.getAttribute(s):void 0;if((n?n.getAttribute(s):void 0)!==c)return!0}return!1}const LC={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Bs('"'),to:[null,"",null,""]},quotesSecondary:{from:Bs("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Bs("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Bs('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Bs('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Bs("'"),to:[null,"",null,""]}},jC={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},E6=["symbols","mathematical","typography","quotes"];class S6 extends Z{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:E6}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),s=M6(e.config.get("typing.transformations")),c=h=>{for(const p of s)if(p.from.test(h))return{normalizedTransformation:p}},d=new BC(e.model,c);d.on("matched:data",(h,p)=>{if(!p.batch.isTyping)return;const{from:b,to:v}=p.normalizedTransformation,C=b.exec(p.text),N=v(C.slice(1)),B=p.range;let R=C.index;t.enqueueChange(G=>{for(let re=1;re<C.length;re++){const ue=C[re],ze=N[re-1];if(ze==null){R+=ue.length;continue}const Je=B.start.getShiftedBy(R),dt=t.createRange(Je,Je.getShiftedBy(ue.length)),kt=I6(Je);t.insertContent(G.createText(ze,kt),dt),R+=ze.length}t.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}}function D6(r){return typeof r=="string"?new RegExp(`(${wC(r)})$`):r}function T6(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function I6(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Bs(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function M6(r){const e=r.extra||[],t=r.remove||[],n=c=>!t.includes(c),s=r.include.concat(e).filter(n);return N6(s).filter(n).map(c=>typeof c=="string"&&LC[c]?LC[c]:c).filter(c=>typeof c=="object").map(c=>({from:D6(c.from),to:T6(c.to)}))}function N6(r){const e=new Set;for(const t of r)if(typeof t=="string"&&jC[t])for(const n of jC[t])e.add(n);else e.add(t);return Array.from(e)}function zs(r,e,t,n){return n.createRange(RC(r,e,t,!0,n),RC(r,e,t,!1,n))}function RC(r,e,t,n,s){let c=r.textNode||(n?r.nodeBefore:r.nodeAfter),d=null;for(;c&&c.getAttribute(e)==t;)d=c,c=n?c.previousSibling:c.nextSibling;return d?s.createPositionAt(d,n?"before":"after"):r}function P6(r,e,t,n){const s=r.editing.view,c=new Set;s.document.registerPostFixer(d=>{const h=r.model.document.selection;let p=!1;if(h.hasAttribute(e)){const b=zs(h.getFirstPosition(),e,h.getAttribute(e),r.model),v=r.editing.mapper.toViewRange(b);for(const C of v.getItems())C.is("element",t)&&!C.hasClass(n)&&(d.addClass(n,C),c.add(C),p=!0)}return p}),r.conversion.for("editingDowncast").add(d=>{d.on("insert",h,{priority:"highest"}),d.on("remove",h,{priority:"highest"}),d.on("attribute",h,{priority:"highest"}),d.on("selection",h,{priority:"highest"});function h(){s.change(p=>{for(const b of c.values())p.removeClass(n,b),c.delete(b)})}})}function Or(r,e,t,n){let s,c=null;typeof n=="function"?s=n:(c=r.commands.get(n),s=()=>{r.execute(n)}),r.model.document.on("change:data",(d,h)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const p=zt(r.model.document.selection.getRanges());if(!p.isCollapsed||h.isUndo||!h.isLocal)return;const b=Array.from(r.model.document.differ.getChanges()),v=b[0];if(b.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const C=v.position.parent;if(C.is("element","codeBlock")||C.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||c&&c.value===!0)return;const N=C.getChild(0),B=r.model.createRangeOn(N);if(!B.containsRange(p)&&!p.end.isEqual(B.end))return;const R=t.exec(N.data.substr(0,p.end.offset));R&&r.model.enqueueChange(G=>{const re=G.createPositionAt(C,0),ue=G.createPositionAt(C,R[0].length),ze=new hn(re,ue);if(s({match:R})!==!1){G.remove(ze);const dt=r.model.document.selection.getFirstRange(),kt=G.createRangeIn(C);C.isEmpty&&!kt.isEqual(dt)&&!kt.containsRange(dt,!0)&&G.remove(C)}ze.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function Ls(r,e,t,n){let s,c;t instanceof RegExp?s=t:c=t,c=c||(d=>{let h;const p=[],b=[];for(;(h=s.exec(d))!==null&&!(h&&h.length<4);){let{index:v,1:C,2:N,3:B}=h;const R=C+N+B;v+=h[0].length-R.length;const G=[v,v+C.length],re=[v+C.length+N.length,v+C.length+N.length+B.length];p.push(G),p.push(re),b.push([v+C.length,v+C.length+N.length])}return{remove:p,format:b}}),r.model.document.on("change:data",(d,h)=>{if(h.isUndo||!h.isLocal||!e.isEnabled)return;const p=r.model,b=p.document.selection;if(!b.isCollapsed)return;const v=Array.from(p.document.differ.getChanges()),C=v[0];if(v.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const N=b.focus,B=N.parent,{text:R,range:G}=O6(p.createRange(p.createPositionAt(B,0),N),p),re=c(R),ue=FC(G.start,re.format,p),ze=FC(G.start,re.remove,p);ue.length&&ze.length&&p.enqueueChange(Je=>{if(n(Je,ue)!==!1){for(const kt of ze.reverse())Je.remove(kt);p.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function FC(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function O6(r,e){let t=r.start;return{text:Array.from(r.getItems()).reduce((s,c)=>!(c.is("$text")||c.is("$textProxy"))||c.getAttribute("code")?(t=e.createPositionAfter(c),""):s+c.data,""),range:e.createRange(t,r.end)}}class B6 extends Z{static get requires(){return[Oi]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Or(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Or(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Or(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Or(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=_u(this.editor,"bold");Ls(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Ls(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=_u(this.editor,"italic");Ls(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Ls(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=_u(this.editor,"code");Ls(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=_u(this.editor,"strikethrough");Ls(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],s=new RegExp(`^(#{${n}})\\s$`);Or(this.editor,this,s,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Or(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Or(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Or(this.editor,this,/^---$/,"horizontalLine")}}function _u(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const c=r.model.schema.getValidRanges(n,e);for(const d of c)t.setAttribute(e,!0,d);t.removeSelectionAttribute(e)}}class VC extends Ye{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,c=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(s.isCollapsed)c?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const h=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const p of h)c?d.setAttribute(this.attributeKey,c,p):d.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const s of n.getRanges())for(const c of s.getItems())if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const js="bold";class z6 extends Z{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:js}),e.model.schema.setAttributeProperties(js,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:js,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(js,new VC(e,js)),e.keystrokes.set("CTRL+B",js)}}const jm="bold";class L6 extends Z{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(jm,n=>{const s=e.commands.get(jm),c=new je(n);return c.set({label:t("Bold"),icon:ye.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(jm),e.editing.view.focus()}),c})}}class j6 extends Z{static get requires(){return[z6,L6]}static get pluginName(){return"Bold"}}var UC=a(5363),Rm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rm.insert="head",Rm.singleton=!0,se()(UC.Z,Rm),UC.Z.locals;const Rs="italic";class R6 extends Z{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Rs}),e.model.schema.setAttributeProperties(Rs,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Rs,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Rs,new VC(e,Rs)),e.keystrokes.set("CTRL+I",Rs)}}const F6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',Fm="italic";class V6 extends Z{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Fm,n=>{const s=e.commands.get(Fm),c=new je(n);return c.set({label:t("Italic"),icon:F6,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Fm),e.editing.view.focus()}),c})}}class U6 extends Z{static get requires(){return[R6,V6]}static get pluginName(){return"Italic"}}function*HC(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class H6 extends Ye{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,s=t.schema,c=n.isCollapsed,d=n.getFirstRange(),h=d.start.parent,p=d.end.parent;if(s.isLimit(h)||s.isLimit(p))return!c&&h==p&&t.deleteContent(n),!1;if(c){const b=HC(e.model.schema,n.getAttributes());return $C(e,d.start),e.setSelectionAttribute(b),!0}else{const b=!(d.start.isAtStart&&d.end.isAtEnd),v=h==p;if(t.deleteContent(n,{leaveUnmerged:b}),b){if(v)return $C(e,n.focus),!0;e.setSelection(p,0)}}return!1}}function $C(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const $6={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class WC extends Ti{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(s,c)=>{n=c.shiftKey}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;let d=c.inputType;m.isSafari&&n&&d=="insertParagraph"&&(d="insertLineBreak");const h=c.domEvent,p=$6[d];if(!p)return;const b=new xs(t,"enter",c.targetRanges[0]);t.fire(b,new Ss(e,h,{isSoft:p.isSoft})),b.stop.called&&s.stop()})}observe(){}stopObserving(){}}class vu extends Z{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(WC),e.commands.add("enter",new H6(e)),this.listenTo(n,"enter",(s,c)=>{n.isComposing||c.preventDefault(),!c.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class W6 extends Ye{execute(){const e=this.editor.model,t=e.document;e.change(n=>{G6(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=q6(e.schema,t.selection)}}function q6(r,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!r.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),s=n.start.parent,c=n.end.parent;return!((Vm(s,r)||Vm(c,r))&&s!==c)}function G6(r,e,t){const n=t.isCollapsed,s=t.getFirstRange(),c=s.start.parent,d=s.end.parent,h=c==d;if(n){const p=HC(r.schema,t.getAttributes());qC(r,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(p)}else{const p=!(s.start.isAtStart&&s.end.isAtEnd);r.deleteContent(t,{leaveUnmerged:p}),h?qC(r,e,t.focus):p&&e.setSelection(d,0)}}function qC(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function Vm(r,e){return r.is("rootElement")?!1:e.isLimit(r)||Vm(r.parent,e)}class Y6 extends Z{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,s=e.editing.view,c=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),s.addObserver(WC),e.commands.add("shiftEnter",new W6(e)),this.listenTo(c,"enter",(d,h)=>{c.isComposing||h.preventDefault(),h.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class Z6 extends Ye{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,s=t.document.selection,c=Array.from(s.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;t.change(h=>{if(!d)this._removeQuote(h,c.filter(yu));else{const p=c.filter(b=>yu(b)||YC(n,b));this._applyQuote(h,p)}})}_getValue(){const e=this.editor.model.document.selection,t=zt(e.getSelectedBlocks());return!!(t&&yu(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=zt(e.getSelectedBlocks());return n?YC(t,n):!1}_removeQuote(e,t){GC(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const c=e.createPositionBefore(n.start.parent);e.move(n,c);return}n.end.isAtEnd||e.split(n.end);const s=e.createPositionAfter(n.end.parent);e.move(n,s)})}_applyQuote(e,t){const n=[];GC(e,t).reverse().forEach(s=>{let c=yu(s.start);c||(c=e.createElement("blockQuote"),e.wrap(s,c)),n.push(c)}),n.reverse().reduce((s,c)=>s.nextSibling==c?(e.merge(e.createPositionAfter(s)),s):c)}}function yu(r){return r.parent.name=="blockQuote"?r.parent:null}function GC(r,e){let t,n=0;const s=[];for(;n<e.length;){const c=e[n],d=e[n+1];t||(t=r.createPositionBefore(c)),(!d||c.nextSibling!=d)&&(s.push(r.createRange(t,r.createPositionAfter(c))),t=null),n++}return s}function YC(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class K6 extends Z{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[vu,Oi]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Z6(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const h=e.model.document.differ.getChanges();for(const p of h)if(p.type=="insert"){const b=p.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return d.remove(b),!0;if(b.is("element","blockQuote")&&!t.checkChild(p.position,b))return d.unwrap(b),!0;if(b.is("element")){const v=d.createRangeIn(b);for(const C of v.getItems())if(C.is("element","blockQuote")&&!t.checkChild(d.createPositionBefore(C),C))return d.unwrap(C),!0}}else if(p.type=="remove"){const b=p.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return d.remove(b),!0}return!1});const n=this.editor.editing.view.document,s=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(n,"enter",(d,h)=>{if(!s.isCollapsed||!c.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(d,h)=>{if(h.direction!="backward"||!s.isCollapsed||!c.value)return;const p=s.getLastPosition().parent;p.isEmpty&&!p.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"})}}var ZC=a(3789),Um={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Um.insert="head",Um.singleton=!0,se()(ZC.Z,Um),ZC.Z.locals;class Q6 extends Z{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const s=e.commands.get("blockQuote"),c=new je(n);return c.set({label:t("Block quote"),icon:ye.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class J6 extends Z{static get requires(){return[K6,Q6]}static get pluginName(){return"BlockQuote"}}class Oc extends Mo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(s){return(c,d)=>{d.preventDefault();const h=d.dropRange?[d.dropRange]:null,p=new te(t,s);t.fire(p,{dataTransfer:d.dataTransfer,method:c.name,targetRanges:h,target:d.target,domEvent:d.domEvent}),p.stop.called&&d.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",s={dataTransfer:new ey(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=X6(this.view,e)),this.fire(e.type,e,s)}}function X6(r,e){const t=e.target.ownerDocument,n=e.clientX,s=e.clientY;let c;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,s)?c=t.caretRangeFromPoint(n,s):e.rangeParent&&(c=t.createRange(),c.setStart(e.rangeParent,e.rangeOffset),c.collapse(!0)),c?r.domConverter.domRangeToView(c):null}function eF(r){return r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(r.includes("</p><p>")||r.includes("<br>"))&&(r=`<p>${r}</p>`),r}function tF(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}const KC=["figcaption","li"];function QC(r){let e="";if(r.is("$text")||r.is("$textProxy"))e=r.data;else if(r.is("element","img")&&r.hasAttribute("alt"))e=r.getAttribute("alt");else if(r.is("element","br"))e=`
`;else{let t=null;for(const n of r.getChildren()){const s=QC(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(KC.includes(t.name)||KC.includes(n.name)?e+=`
`:e+=`

`),e+=s,t=n}}return e}class Bi extends Z{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Oc),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:n})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document;this.listenTo(s,"clipboardInput",(c,d)=>{d.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&c.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(c,d)=>{const h=d.dataTransfer;let p;if(d.content)p=d.content;else{let v="";h.getData("text/html")?v=tF(h.getData("text/html")):h.getData("text/plain")&&(v=eF(h.getData("text/plain"))),p=this.editor.data.htmlProcessor.toView(v)}const b=new te(this,"inputTransformation");this.fire(b,{content:p,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),b.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const p=this.editor.data.toModel(d.content,"$clipboardHolder");p.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:p,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=t.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,c=(d,h)=>{const p=h.dataTransfer;h.preventDefault(),this._fireOutputTransformationEvent(p,t.selection,d.name)};this.listenTo(s,"copy",c,{priority:"low"}),this.listenTo(s,"cut",(d,h)=>{e.model.canEditAt(e.model.document.selection)?c(d,h):h.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,h)=>{const p=e.data.toView(h.content);s.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:p,method:h.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(d,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",QC(h.content))),h.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class nF extends Ce(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,s=n[0];this._insertDescriptor(e);const c=n[0];s!==c&&!Hm(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}remove(e,t){const n=this._stack,s=n[0];this._removeDescriptor(e);const c=n[0];s!==c&&!Hm(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(c=>c.id===e.id);if(Hm(e,t[n]))return;n>-1&&t.splice(n,1);let s=0;for(;t[s]&&iF(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e);n>-1&&t.splice(n,1)}}function Hm(r,e){return r&&e&&r.priority==e.priority&&Au(r.classes)==Au(e.classes)}function iF(r,e){return r.priority>e.priority?!0:r.priority<e.priority?!1:Au(r.classes)>Au(e.classes)}function Au(r){return Array.isArray(r)?r.sort().join(","):r}const rF='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',oF="ck-widget",JC="ck-widget_selected";function Rt(r){return r.is("element")?!!r.getCustomProperty("widget"):!1}function $m(r,e,t={}){if(!r.is("containerElement"))throw new L("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(oF,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=uF,e.setCustomProperty("widgetLabel",[],r),t.label&&cF(r,t.label),t.hasSelectionHandle&&hF(r,e),XC(r,e),r}function sF(r,e,t){if(e.classes&&t.addClass(Bt(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function aF(r,e,t){if(e.classes&&t.removeClass(Bt(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function XC(r,e,t=sF,n=aF){const s=new nF;s.on("change:top",(h,p)=>{p.oldDescriptor&&n(r,p.oldDescriptor,p.writer),p.newDescriptor&&t(r,p.newDescriptor,p.writer)});const c=(h,p,b)=>s.add(p,b),d=(h,p,b)=>s.remove(p,b);e.setCustomProperty("addHighlight",c,r),e.setCustomProperty("removeHighlight",d,r)}function cF(r,e){r.getCustomProperty("widgetLabel").push(e)}function lF(r){return r.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}function dF(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,s,c)=>{e.setAttribute("contenteditable",c?"false":"true",r)}),r.on("change:isFocused",(n,s,c)=>{c?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),XC(r,e),r}function Wm(r,e){const t=r.getSelectedElement();if(t){const n=Br(r);if(n)return e.createRange(e.createPositionAt(t,n))}return eA(r,e)}function uF(){return null}function hF(r,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const s=this.toDomElement(n),c=new nr;return c.set("content",rF),c.render(),s.appendChild(c.element),s});e.insert(e.createPositionAt(r,0),t),e.addClass(["ck-widget_with-selection-handle"],r)}const rr="widget-type-around";function Lo(r,e,t){return!!r&&Rt(r)&&!t.isInline(e)}function fF(r){return r.closest(".ck-widget__type-around__button")}function gF(r){return r.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function pF(r,e){const t=r.closest(".ck-widget");return e.mapDomToView(t)}function Br(r){return r.getAttribute(rr)}const mF='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var e1=a(2347),qm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};qm.insert="head",qm.singleton=!0,se()(e1.Z,qm),e1.Z.locals;const t1=["before","after"],kF=new DOMParser().parseFromString(mF,"image/svg+xml").firstChild,n1="ck-widget__type-around_disabled";class wF extends Z{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[vu,Oi]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,s,c)=>{t.change(d=>{for(const h of t.document.roots)c?d.removeClass(n1,h):d.addClass(n1,h)}),c||e.model.change(d=>{d.removeSelectionAttribute(rr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,s=n.editing.view,c=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:c}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,n,s){this.listenTo(e,t,(...c)=>{this.isEnabled&&n(...c)},s)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,s=Br(n);if(!s)return!1;const c=n.getSelectedElement();return this._insertParagraph(c,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,s={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,d,h)=>{const p=h.mapper.toViewElement(d.item);p&&Lo(p,d.item,t)&&(bF(h.writer,s,p),p.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,s=t.schema,c=e.editing.view;this._listenToIfEnabled(c.document,"arrowKey",(h,p)=>{this._handleArrowKeyPress(h,p)},{context:[Rt,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(h,p)=>{p.directChange&&e.model.change(b=>{b.removeSelectionAttribute(rr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const h=n.getSelectedElement();if(h){const p=e.editing.mapper.toViewElement(h);if(Lo(p,h,s))return}e.model.change(p=>{p.removeSelectionAttribute(rr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(h,p,b)=>{const v=b.writer;if(this._currentFakeCaretModelElement){const R=b.mapper.toViewElement(this._currentFakeCaretModelElement);R&&(v.removeClass(t1.map(d),R),this._currentFakeCaretModelElement=null)}const C=p.selection.getSelectedElement();if(!C)return;const N=b.mapper.toViewElement(C);if(!Lo(N,C,s))return;const B=Br(p.selection);B&&(v.addClass(d(B),N),this._currentFakeCaretModelElement=C)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(h,p,b)=>{b||e.model.change(v=>{v.removeSelectionAttribute(rr)})});function d(h){return`ck-widget_type-around_show-fake-caret_${h}`}}_handleArrowKeyPress(e,t){const n=this.editor,s=n.model,c=s.document.selection,d=s.schema,h=n.editing.view,p=t.keyCode,b=QN(p,n.locale.contentLanguageDirection),v=h.document.selection.getSelectedElement(),C=n.editing.mapper.toModelElement(v);let N;Lo(v,C,d)?N=this._handleArrowKeyPressOnSelectedWidget(b):c.isCollapsed?N=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):t.shiftKey||(N=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),N&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,s=n.document.selection,c=Br(s);return n.change(d=>{if(c){if(!(c===(e?"after":"before")))return d.removeSelectionAttribute(rr),!0}else return d.setSelectionAttribute(rr,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,s=n.schema,c=t.plugins.get("Widget"),d=c._getObjectElementNextToSelection(e),h=t.editing.mapper.toViewElement(d);return Lo(h,d,s)?(n.change(p=>{c._setSelectionOverElement(d),p.setSelectionAttribute(rr,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,s=n.schema,c=t.editing.mapper,d=n.document.selection,h=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter,p=c.toViewElement(h);return Lo(p,h,s)?(n.change(b=>{b.setSelection(h,"on"),b.setSelectionAttribute(rr,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,s)=>{const c=fF(s.domTarget);if(!c)return;const d=gF(c),h=pF(c,t.domConverter),p=e.editing.mapper.toModelElement(h);this._insertParagraph(p,d),s.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(s,c)=>{if(s.eventPhase!="atTarget")return;const d=t.getSelectedElement(),h=e.editing.mapper.toViewElement(d),p=e.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:Lo(h,d,p)&&(this._insertParagraph(d,c.isSoft?"before":"after"),b=!0),b&&(c.preventDefault(),s.stop())},{context:Rt})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),m.isAndroid?this._listenToIfEnabled(t,"keydown",(n,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,s=n.schema;this._listenToIfEnabled(t.document,"delete",(c,d)=>{if(c.eventPhase!="atTarget")return;const h=Br(n.document.selection);if(!h)return;const p=d.direction,b=n.document.selection.getSelectedElement(),v=h==="before",C=p=="forward";if(v===C)e.execute("delete",{selection:n.createSelection(b,"on")});else{const B=s.getNearestSelectionRange(n.createPositionAt(b,h),p);if(B)if(!B.isCollapsed)n.change(R=>{R.setSelection(B),e.execute(C?"deleteForward":"delete")});else{const R=n.createSelection(B.start);if(n.modifySelection(R,{direction:p}),!R.focus.isEqual(B.start))n.change(G=>{G.setSelection(B),e.execute(C?"deleteForward":"delete")});else{const G=yF(s,B.start.parent);n.deleteContent(n.createSelection(G,"on"),{doNotAutoparagraph:!0})}}}d.preventDefault(),c.stop()},{context:Rt})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[c,d])=>{if(d&&!d.is("documentSelection"))return;const h=Br(n);if(h)return s.stop(),t.change(p=>{const b=n.getSelectedElement(),v=t.createPositionAt(b,h),C=p.createSelection(v),N=t.insertContent(c,C);return p.setSelection(C),N})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,c)=>{const[,d,h={}]=c;if(d&&!d.is("documentSelection"))return;const p=Br(n);p&&(h.findOptimalPosition=p,c[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[c])=>{if(c&&!c.is("documentSelection"))return;Br(n)&&s.stop()},{priority:"high"})}}function bF(r,e,t){const n=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const c=this.toDomElement(s);return _F(c,e),vF(c),c});r.insert(r.createPositionAt(t,"end"),n)}function _F(r,e){for(const t of t1){const n=new Pi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[r.ownerDocument.importNode(kF,!0)]});r.appendChild(n.render())}}function vF(r){const e=new Pi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});r.appendChild(e.render())}function yF(r,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||r.isLimit(n))break;t=n}return t}function AF(r){const e=r.model;return(t,n)=>{const s=n.keyCode==Se.arrowup,c=n.keyCode==Se.arrowdown,d=n.shiftKey,h=e.document.selection;if(!s&&!c)return;const p=c;if(d&&EF(h,p))return;const b=CF(r,h,p);if(b){if(b.isCollapsed){if(h.isCollapsed)return;if(d)return}(b.isCollapsed||xF(r,b,p))&&(e.change(v=>{const C=p?b.end:b.start;if(d){const N=e.createSelection(h.anchor);N.setFocus(C),v.setSelection(N)}else v.setSelection(C)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function CF(r,e,t){const n=r.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),c=i1(n,s,"forward");if(!c)return null;const d=n.createRange(s,c),h=r1(n.schema,d,"backward");return h?n.createRange(s,h):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),c=i1(n,s,"backward");if(!c)return null;const d=n.createRange(c,s),h=r1(n.schema,d,"forward");return h?n.createRange(h,s):null}}function i1(r,e,t){const n=r.schema,s=r.createRangeIn(e.root),c=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:h,type:p}of s.getWalker({startPosition:e,direction:t})){if(n.isLimit(h)&&!n.isInline(h))return d;if(p==c&&n.isBlock(h))return null}return null}function r1(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:s}of e.getWalker({direction:t}))if(r.checkChild(s,"$text"))return s;return null}function xF(r,e,t){const n=r.model,s=r.view.domConverter;if(t){const b=n.createSelection(e.start);n.modifySelection(b),!b.focus.isAtEnd&&!e.start.isEqual(b.focus)&&(e=n.createRange(b.focus,e.end))}const c=r.mapper.toViewRange(e),d=s.viewRangeToDom(c),h=xe.getDomRangeRects(d);let p;for(const b of h){if(p===void 0){p=Math.round(b.bottom);continue}if(Math.round(b.top)>=p)return!1;p=Math.max(p,Math.round(b.bottom))}return!0}function EF(r,e){return!r.isCollapsed&&r.isBackward==e}var o1=a(7153),Gm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Gm.insert="head",Gm.singleton=!0,se()(o1.Z,Gm),o1.Z.locals;class Bc extends Z{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[wF,Oi]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{const h=d.writer,p=c.selection;if(p.isCollapsed)return;const b=p.getSelectedElement();if(!b)return;const v=e.editing.mapper.toViewElement(b);Rt(v)&&d.consumable.consume(p,"selection")&&h.setSelection(h.createRangeOn(v),{fake:!0,label:lF(v)})}),this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,p=h.document.selection;let b=null;for(const v of p.getRanges())for(const C of v){const N=C.item;Rt(N)&&!DF(N,b)&&(h.addClass(JC,N),this._previouslySelected.add(N),b=N)}},{priority:"low"}),t.addObserver(ru),this.listenTo(n,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(n,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Rt,"$text"]}),this.listenTo(n,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(n,"arrowKey",AF(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(s,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,s=n.editing.view,c=s.document;let d=t.target;if(SF(d)){if((m.isSafari||m.isGecko)&&t.domEvent.detail>=3){const p=n.editing.mapper,b=d.is("attributeElement")?d.findAncestor(C=>!C.is("attributeElement")):d,v=p.toModelElement(b);t.preventDefault(),this.editor.model.change(C=>{C.setSelection(v,"in")})}return}if(!Rt(d)&&(d=d.findAncestor(Rt),!d))return;m.isAndroid&&t.preventDefault(),c.isFocused||s.focus();const h=n.editing.mapper.toModelElement(d);this._setSelectionOverElement(h)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,s=this.editor.model,c=s.schema,d=s.document.selection,h=d.getSelectedElement(),p=Qv(n,this.editor.locale.contentLanguageDirection),b=p=="down"||p=="right",v=p=="up"||p=="down";if(h&&c.isObject(h)){const N=b?d.getLastPosition():d.getFirstPosition(),B=c.getNearestSelectionRange(N,b?"forward":"backward");B&&(s.change(R=>{R.setSelection(B)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed&&!t.shiftKey){const N=d.getFirstPosition(),B=d.getLastPosition(),R=N.nodeAfter,G=B.nodeBefore;(R&&c.isObject(R)||G&&c.isObject(G))&&(s.change(re=>{re.setSelection(b?B:N)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed)return;const C=this._getObjectElementNextToSelection(b);if(C&&c.isObject(C)){if(c.isInline(C)&&v)return;this._setSelectionOverElement(C),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,s=n.schema,c=n.document.selection.getSelectedElement();c&&s.isObject(c)&&(t.preventDefault(),e.stop())}_handleDelete(e){const n=this.editor.model.document.selection;if(!this.editor.model.canEditAt(n)||!n.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(c=>{let d=n.anchor.parent;for(;d.isEmpty;){const h=d;d=h.parent,c.remove(h)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,s=t.document.selection,c=t.createSelection(s);if(t.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(s))return null;const d=e?c.focus.nodeBefore:c.focus.nodeAfter;return d&&n.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(JC,t);this._previouslySelected.clear()}}function SF(r){let e=r;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Rt(e))return!1;e=e.parent}return!1}function DF(r,e){return e?Array.from(r.getAncestors()).includes(e):!1}class s1 extends Z{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[gu]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{TF(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:s,balloonClassName:c="ck-toolbar-container"}){if(!n.length){Te("widget-toolbar-no-items",{toolbarId:e});return}const d=this.editor,h=d.t,p=new om(d.locale);if(p.ariaLabel=t||h("Widget toolbar"),this._toolbarDefinitions.has(e))throw new L("widget-toolbar-duplicated",this,{toolbarId:e});const b={view:p,getRelatedElement:s,balloonClassName:c,itemsConfig:n,initialized:!1};d.ui.addToolbar(p,{isContextual:!0,beforeFocus:()=>{const v=s(d.editing.view.document.selection);v&&this._showToolbar(b,v)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(e,b)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const s of this._toolbarDefinitions.values()){const c=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!c)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const d=c.getAncestors().length;d>e&&(e=d,t=c,n=s)}}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?a1(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:c1(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const s=n.getRelatedElement(this.editor.editing.view.document.selection);a1(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function a1(r,e){const t=r.plugins.get("ContextualBalloon"),n=c1(r,e);t.updatePosition(n)}function c1(r,e){const t=r.editing.view,n=Ht.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function TF(r){const e=r.getSelectedElement();return!!(e&&Rt(e))}class IF extends Be(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const s=new xe(t);this.activeHandlePosition=OF(e),this._referenceCoordinates=NF(t,BF(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const c=n.style.width;c&&c.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(c):this._originalWidthPercents=MF(n,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function MF(r,e){const t=r.parentElement;let n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(t).width);const s=5;let c=0,d=t;for(;isNaN(n);){if(d=d.parentElement,++c>s)return 0;n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(d).width)}return e.width/n*100}function NF(r,e){const t=new xe(r),n=e.split("-"),s={x:n[1]=="right"?t.right:t.left,y:n[0]=="bottom"?t.bottom:t.top};return s.x+=r.ownerDocument.defaultView.scrollX,s.y+=r.ownerDocument.defaultView.scrollY,s}function PF(r){return`ck-widget__resizer__handle-${r}`}function OF(r){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(r.classList.contains(PF(t)))return t}function BF(r){const e=r.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}class zF extends pe{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(n,s)=>n!==null&&s!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(n,s,c)=>e.unit==="px"?`${n}${s}`:`${c}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(n,s,c)=>s<50||c<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}class l1 extends Be(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,n)=>t&&n),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(s=>{const c=s.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(d){const h=this.toDomElement(d);return e._appendHandles(h),e._appendSizeUI(h),h});s.insert(s.createPositionAt(t,"end"),c),s.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=c,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new IF(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(b=>{const v=this._options.unit||"%",C=(v==="%"?t.widthPercents:t.width)+v;b.setStyle("width",C,this._options.viewElement)});const s=this._getHandleHost(),c=new xe(s),d=Math.round(c.width),h=Math.round(c.height),p=new xe(s);t.width=Math.round(p.width),t.height=Math.round(p.height),this.redraw(c),this.state.update({...t,handleHostWidth:d,handleHostHeight:h})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!RF(t))return;const n=t.parentElement,s=this._getHandleHost(),c=this._viewResizerWrapper,d=[c.getStyle("width"),c.getStyle("height"),c.getStyle("left"),c.getStyle("top")];let h;if(n.isSameNode(s)){const p=e||new xe(s);h=[p.width+"px",p.height+"px",void 0,void 0]}else h=[s.offsetWidth+"px",s.offsetHeight+"px",s.offsetLeft+"px",s.offsetTop+"px"];pt(d,h)!=="same"&&this._options.editor.editing.view.change(p=>{p.setStyle({width:h[0],height:h[1],left:h[2],top:h[3]},c)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,n=jF(e),s=this._options.isCentered?this._options.isCentered(this):!0,c={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};s&&t.activeHandlePosition.endsWith("-right")&&(c.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),s&&(c.x*=2);let d=Math.abs(t.originalWidth+c.x),h=Math.abs(t.originalHeight+c.y);return(d/t.aspectRatio>h?"width":"height")=="width"?h=d/t.aspectRatio:d=h*t.aspectRatio,{width:Math.round(d),height:Math.round(h),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*d*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)e.appendChild(new Pi({tag:"div",attributes:{class:`ck-widget__resizer__handle ${LF(n)}`}}).render())}_appendSizeUI(e){this._sizeView=new zF,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function LF(r){return`ck-widget__resizer__handle-${r}`}function jF(r){return{x:r.pageX,y:r.pageY}}function RF(r){return r&&r.ownerDocument&&r.ownerDocument.contains(r)}var d1=a(4875),Ym={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ym.insert="head",Ym.singleton=!0,se()(d1.Z,Ym),d1.Z.locals;class Zm extends Z{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=le.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(ru),this._observer=new(En()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Ec(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,c]of this._resizers)s.isAttached()||(this._resizers.delete(s),c.destroy())},{priority:"lowest"}),this._observer.listenTo(le.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const s=n.getSelectedElement(),c=this.getResizerByViewElement(s)||null;c?this.select(c):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new l1(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){const d=n.get("WidgetToolbarRepository");t.on("begin",()=>{d.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{d.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{d.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const c=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(c)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const n=t.domTarget;l1.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const Km=ac("px");class FF extends pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>Km(t)),top:e.to("top",t=>Km(t)),width:e.to("width",t=>Km(t))}}})}}class Cu extends Z{constructor(){super(...arguments),this.removeDropMarkerDelayed=ip(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Ec(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Ec(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new FF,this._domEmitter=new(En()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,s,c){this.removeDropMarkerDelayed.cancel();const d=u1(this.editor,e,t,n,s,c);d&&this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,n,s,c){const d=u1(this.editor,e,t,n,s,c);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(s=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("",t.createElement("span"),""),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,s=e.start.nodeAfter,c=e.start.parent,d=n?t.mapper.toViewElement(n):null,h=d?t.view.domConverter.mapViewToDom(d):null,p=s?t.mapper.toViewElement(s):null,b=p?t.view.domConverter.mapViewToDom(p):null,v=t.mapper.toViewElement(c),C=t.view.domConverter.mapViewToDom(v),N=this._getScrollableRect(v),{scrollX:B,scrollY:R}=le.window,G=h?new xe(h):null,re=b?new xe(b):null,ue=new xe(C).excludeScrollbarsAndBorders(),ze=G?G.bottom:ue.top,Je=re?re.top:ue.bottom,dt=le.window.getComputedStyle(C),kt=ze<=Je?(ze+Je)/2:Je;if(N.top<kt&&kt<N.bottom){const ae=ue.left+parseFloat(dt.paddingLeft),be=ue.right-parseFloat(dt.paddingRight),ce=Math.max(ae+B,N.left),it=Math.min(be+B,N.right);this._dropTargetLineView.set({isVisible:!0,left:ce,top:kt+R,width:it-ce})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);n=UF(s),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const c=new Ge(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:c})}return new xe(n).excludeScrollbarsAndBorders()}}function u1(r,e,t,n,s,c){const d=r.model,h=r.editing.mapper;let b=f1(r,e);for(;b;){if(!c){if(d.schema.checkChild(b,"$text")){const v=t?t[0].start:null,C=v?h.toModelPosition(v):null;if(C){if(d.schema.checkChild(C,"$text"))return d.createRange(C);if(v)return xu(r,f1(r,v.parent),n,s)}}else if(d.schema.isInline(b))return xu(r,b,n,s)}if(d.schema.isBlock(b))return xu(r,b,n,s);if(d.schema.checkChild(b,"$block")){const v=Array.from(b.getChildren()).filter(B=>B.is("element")&&!VF(r,B));let C=0,N=v.length;if(N==0)return d.createRange(d.createPositionAt(b,"end"));for(;C<N-1;){const B=Math.floor((C+N)/2);h1(r,v[B],n,s)=="before"?N=B:C=B}return xu(r,v[C],n,s)}b=b.parent}return null}function VF(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,s=t.toViewElement(e),c=n.mapViewToDom(s);return le.window.getComputedStyle(c).float!="none"}function xu(r,e,t,n){const s=r.model;return s.createRange(s.createPositionAt(e,h1(r,e,t,n)))}function h1(r,e,t,n){const s=r.editing.mapper,c=r.editing.view.domConverter,d=s.toViewElement(e),h=c.mapViewToDom(d),p=new xe(h);return r.model.schema.isInline(e)?t<(p.left+p.right)/2?"before":"after":n<(p.top+p.bottom)/2?"before":"after"}function f1(r,e){const t=r.editing.mapper,n=r.editing.view,s=t.toModelElement(e);if(s)return s;const c=n.createPositionBefore(e),d=t.findMappedViewAncestor(c);return t.toModelElement(d)}function UF(r){let e=r;do{e=e.parentElement;const t=le.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class HF extends Z{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(En())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),m.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const n=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",(s,c)=>this._handleBlockDragStart(c)),this._domEmitter.listenTo(le.document,"dragover",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(le.document,"drop",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(le.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",(s,c,d)=>{n.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,s=this.editor.editing.view,c=Array.from(n.getSelectedBlocks()),d=t.createRange(t.createPositionBefore(c[0]),t.createPositionAfter(c[c.length-1]));t.change(h=>h.setSelection(d)),this._isBlockDragging=!0,s.focus(),s.getObserver(Oc).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,s=document.elementFromPoint(t,n),c=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||c.getObserver(Oc).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var g1=a(799),Qm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Qm.insert="head",Qm.singleton=!0,se()(g1.Z,Qm),g1.Z.locals;class $F extends Z{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=ip(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(En())}static get pluginName(){return"DragDrop"}static get requires(){return[Bi,Bc,Cu,HF]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Oc),t.addObserver(ru),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,s,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,s,c)=>{c||this._finalizeDragging(!1)}),m.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=e.plugins.get(Cu);this.listenTo(s,"dragstart",(d,h)=>{if(h.target&&h.target.is("editableElement")){h.preventDefault();return}if(this._prepareDraggedRange(h.target),!this._draggedRange){h.preventDefault();return}this._draggingUid=ve(),h.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",h.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const p=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(h.dataTransfer,p,"dragstart");const{dataTransfer:v,domTarget:C,domEvent:N}=h,{clientX:B}=N;this._updatePreview({dataTransfer:v,domTarget:C,clientX:B}),h.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(d,h)=>{this._finalizeDragging(!h.dataTransfer.isCanceled&&h.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(le.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(s,"dragleave",()=>{c.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(d,h)=>{if(!this.isEnabled){h.dataTransfer.dropEffect="none";return}const{clientX:p,clientY:b}=h.domEvent;c.updateDropMarker(h.target,h.targetRanges,p,b,this._blockMode),this._draggedRange||(h.dataTransfer.dropEffect="copy"),m.isGecko||(h.dataTransfer.effectAllowed=="copy"?h.dataTransfer.dropEffect="copy":["all","copyMove"].includes(h.dataTransfer.effectAllowed)&&(h.dataTransfer.dropEffect="move")),d.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get(Cu);this.listenTo(n,"clipboardInput",(c,d)=>{if(d.method!="drop")return;const{clientX:h,clientY:p}=d.domEvent,b=s.getFinalDropRange(d.target,d.targetRanges,h,p,this._blockMode);if(!b){this._finalizeDragging(!1),c.stop();return}if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),p1(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0)){this._finalizeDragging(!1),c.stop();return}d.targetRanges=[e.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Bi);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=n.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=p1(n.dataTransfer)=="move",c=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(c&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(s,c)=>{if(m.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let d=m1(c.target);if(m.isBlink&&!e.isReadOnly&&!d&&!n.selection.isCollapsed){const h=n.selection.getSelectedElement();(!h||!Rt(h))&&(d=n.selection.editableElement)}d&&(t.change(h=>{h.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(n,"mouseup",()=>{m.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(Cu).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(c=>{const d=n.createSelection(this._draggedRange);n.deleteContent(d,{doNotAutoparagraph:!0});const h=d.getFirstPosition().parent;h.isEmpty&&!n.schema.checkChild(h,"$text")&&n.schema.checkChild(h,"paragraph")&&c.insertElement("paragraph",h,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,s=n.document.selection,c=e?m1(e):null;if(c){const b=t.editing.mapper.toModelElement(c);this._draggedRange=hn.fromRange(n.createRangeOn(b)),this._blockMode=n.schema.isBlock(b),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const d=Array.from(s.getSelectedBlocks()),h=s.getFirstRange();if(d.length==0){this._draggedRange=hn.fromRange(h);return}const p=k1(n,d);if(d.length>1)this._draggedRange=hn.fromRange(p),this._blockMode=!0;else if(d.length==1){const b=h.start.isTouching(p.start)&&h.end.isTouching(p.end);this._draggedRange=hn.fromRange(b?p:h),this._blockMode=b}n.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const s=this.editor.editing.view,c=s.document.selection.editableElement,d=s.domConverter.mapViewToDom(c),h=le.window.getComputedStyle(d);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=_s(le.document,"div",{style:"position: fixed; left: -999999px;"}),le.document.body.appendChild(this._previewContainer));const p=new xe(d);if(d.contains(t))return;const b=parseFloat(h.paddingLeft),v=_s(le.document,"div");v.className="ck ck-content",v.style.width=h.width,v.style.paddingLeft=`${p.left-n+b}px`,m.isiOS&&(v.style.backgroundColor="white"),v.innerHTML=e.getData("text/html"),e.setDragImage(v,0,0),this._previewContainer.appendChild(v)}}function p1(r){return m.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function m1(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(Rt);if(Rt(r))return r;const e=r.findAncestor(t=>Rt(t)||t.is("editableElement"));return Rt(e)?e:null}function k1(r,e){const t=e[0],n=e[e.length-1],s=t.getCommonAncestor(n),c=r.createPositionBefore(t),d=r.createPositionAfter(n);if(s&&s.is("element")&&!r.schema.isLimit(s)){const h=r.createRangeOn(s),p=c.isTouching(h.start),b=d.isTouching(h.end);if(p&&b)return k1(r,[s])}return r.createRange(c,d)}class WF extends Z{static get pluginName(){return"PastePlainText"}static get requires(){return[Bi]}init(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=t.document.selection;let d=!1;n.addObserver(Oc),this.listenTo(s,"keydown",(h,p)=>{d=p.shiftKey}),e.plugins.get(Bi).on("contentInsertion",(h,p)=>{!d&&!qF(p.content,t.schema)||t.change(b=>{const v=Array.from(c.getAttributes()).filter(([N])=>t.schema.getAttributeProperties(N).isFormatting);c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),v.push(...c.getAttributes());const C=b.createRangeIn(p.content);for(const N of C.getItems())N.is("$textProxy")&&b.setAttributes(v,N)})})}}function qF(r,e){if(r.childCount>1)return!1;const t=r.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}class Jm extends Z{static get pluginName(){return"Clipboard"}static get requires(){return[Bi,$F,WF]}}class GF extends Ye{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!w1(e.schema,n))do if(n=n.parent,!n)return;while(!w1(e.schema,n));e.change(s=>{s.setSelection(n,"in")})}}function w1(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const YF=lc("Ctrl+A");class ZF extends Z{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new GF(e)),this.listenTo(n,"keydown",(s,c)=>{Cs(c)===YF&&(e.execute("selectAll"),c.preventDefault())})}}const KF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class QF extends Z{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),s=new je(t),c=t.t;return s.set({label:c("Select all"),icon:KF,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(n,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class JF extends Z{static get requires(){return[ZF,QF]}static get pluginName(){return"SelectAll"}}class b1 extends Ye{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const s=n[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const s=this.editor.model,c=s.document,d=[],h=e.map(b=>b.getTransformedByOperations(n)),p=h.flat();for(const b of h){const v=b.filter(C=>C.root!=c.graveyard).filter(C=>!e7(C,p));v.length&&(XF(v),d.push(v[0]))}d.length&&s.change(b=>{b.setSelection(d,{backward:t})})}_undo(e,t){const n=this.editor.model,s=n.document;this._createdBatches.add(t);const c=e.operations.slice().filter(d=>d.isDocumentOperation);c.reverse();for(const d of c){const h=d.baseVersion+1,p=Array.from(s.history.getOperations(h)),v=PL([d.getReversed()],p,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let C of v){const N=C.affectedSelectable;N&&!n.canEditAt(N)&&(C=new xt(C.baseVersion)),t.addOperation(C),n.applyOperation(C),s.history.setOperationAsUndone(d,C)}}}}function XF(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const n=r[e-1].getJoined(r[e],!0);n&&(e--,r.splice(e,2,n))}}function e7(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class t7 extends b1{execute(e=null){const t=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(n.batch,s);const c=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c)}),this.fire("revert",n.batch,s),this.refresh()}}class n7 extends b1{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,c=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,c),this._undo(e.batch,t)}),this.refresh()}}class i7 extends Z{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new t7(e),this._redoCommand=new n7(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const s=n[0];if(!s.isDocumentOperation)return;const c=s.batch,d=this._redoCommand.createdBatches.has(c),h=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):h||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const _1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',v1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class r7 extends Z{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?_1:v1,c=t.uiLanguageDirection=="ltr"?v1:_1;this._addButton("undo",n("Undo"),"CTRL+Z",s),this._addButton("redo",n("Redo"),"CTRL+Y",c)}_addButton(e,t,n,s){const c=this.editor;c.ui.componentFactory.add(e,d=>{const h=c.commands.get(e),p=new je(d);return p.set({label:t,icon:s,keystroke:n,tooltip:!0}),p.bind("isEnabled").to(h,"isEnabled"),this.listenTo(p,"execute",()=>{c.execute(e),c.editing.view.focus()}),p})}}class Xm extends Z{static get requires(){return[i7,r7]}static get pluginName(){return"Undo"}}class o7 extends Z{static get requires(){return[Jm,vu,JF,Y6,C6,Xm]}static get pluginName(){return"Essentials"}}class s7 extends Ye{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,n=zt(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&y1(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,s=e.selection||n.selection;t.canEditAt(s)&&t.change(c=>{const d=s.getSelectedBlocks();for(const h of d)!h.is("element","paragraph")&&y1(h,t.schema)&&c.rename(h,"paragraph")})}}function y1(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class a7 extends Ye{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(c=>{if(s=this._findPositionToInsertParagraph(s,c),!s)return;const d=c.createElement("paragraph");n&&t.schema.setAllowedAttributes(d,n,c),t.insertContent(d,s),c.setSelection(d,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const s=n.schema.findAllowedParent(e,"paragraph");if(!s)return null;const c=e.parent,d=n.schema.checkChild(c,"$text");return c.isEmpty||d&&e.isAtEnd?n.createPositionAfter(c):!c.isEmpty&&d&&e.isAtStart?n.createPositionBefore(c):t.split(e,s).position}}class zc extends Z{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new s7(e)),e.commands.add("insertParagraph",new a7(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(n,{writer:s})=>!zc.paragraphLikeElements.has(n.name)||n.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}zc.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class c7 extends Ye{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=zt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>A1(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,s=e.value;t.change(c=>{const d=Array.from(n.selection.getSelectedBlocks()).filter(h=>A1(h,s,t.schema));for(const h of d)h.is("element",s)||c.rename(h,s)})}}function A1(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const C1="paragraph";class l7 extends Z{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[zc]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),n.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new c7(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,c)=>{const d=e.model.document.selection.getFirstPosition().parent;n.some(p=>d.is("element",p.model))&&!d.is("element",C1)&&d.childCount===0&&c.writer.rename(d,C1)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Re.low+1})}}function d7(r){const e=r.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return r.config.get("heading.options").map(n=>{const s=t[n.title];return s&&s!=n.title&&(n.title=s),n})}var x1=a(4249),ek={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ek.insert="head",ek.singleton=!0,se()(x1.Z,ek),x1.Z.locals;class u7 extends Z{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=d7(e),s=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",d=>{const h={},p=new $n,b=e.commands.get("heading"),v=e.commands.get("paragraph"),C=[b];for(const B of n){const R={type:"button",model:new fC({label:B.title,class:B.class,role:"menuitemradio",withText:!0})};B.model==="paragraph"?(R.model.bind("isOn").to(v,"value"),R.model.set("commandName","paragraph"),C.push(v)):(R.model.bind("isOn").to(b,"value",G=>G===B.model),R.model.set({commandName:"heading",commandValue:B.model})),p.add(R),h[B.model]=B.title}const N=Nr(d);return FA(N,p,{ariaLabel:c,role:"menu"}),N.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),N.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),N.bind("isEnabled").toMany(C,"isEnabled",(...B)=>B.some(R=>R)),N.buttonView.bind("label").to(b,"value",v,"value",(B,R)=>{const G=B||R&&"paragraph";return typeof G=="boolean"||!h[G]?s:h[G]}),this.listenTo(N,"execute",B=>{const{commandName:R,commandValue:G}=B.source;e.execute(R,G?{value:G}:void 0),e.editing.view.focus()}),N})}}class h7 extends Z{static get requires(){return[l7,u7]}static get pluginName(){return"Heading"}}class f7 extends Ye{refresh(){const e=this.editor.model,t=e.schema,n=e.document.selection;this.isEnabled=g7(n,t,e)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement("horizontalLine");e.insertObject(n,null,null,{setSelection:"after"})})}}function g7(r,e,t){const n=p7(r,t);return e.checkChild(n,"horizontalLine")}function p7(r,e){const n=Wm(r,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}var E1=a(9893),tk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tk.insert="head",tk.singleton=!0,se()(E1.Z,tk),E1.Z.locals;class m7 extends Z{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,s=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(c,{writer:d})=>d.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(c,{writer:d})=>{const h=n("Horizontal line"),p=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",p),d.setCustomProperty("hr",!0,p),k7(p,d,h)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new f7(e))}}function k7(r,e,t){return e.setCustomProperty("horizontalLine",!0,r),$m(r,e,{label:t})}const w7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';class b7 extends Z{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",n=>{const s=e.commands.get("horizontalLine"),c=new je(n);return c.set({label:t("Horizontal line"),icon:w7,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),this.listenTo(c,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),c})}}class _7 extends Z{static get requires(){return[m7,b7,Bc]}static get pluginName(){return"HorizontalLine"}}function v7(r){return r.createContainerElement("span",{class:"image-inline"},r.createEmptyElement("img"))}function S1(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function D1(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return c=>t.isInlineImageView(c)?n&&(c.getStyle("display")=="block"||c.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(c):null;function s(c){const d={name:!0};return c.hasAttribute("src")&&(d.attributes=["src"]),d}}function nk(r,e){const t=zt(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Eu(r){return r&&r.endsWith("px")?parseInt(r):null}function Su(r){const e=Eu(r.getStyle("width")),t=Eu(r.getStyle("height"));return!!(e&&t)}const y7=/^(image|image-inline)$/;class pn extends Z{constructor(){super(...arguments),this._domEmitter=new(En())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,s={}){const c=this.editor,d=c.model,h=d.document.selection;n=T1(c,t||h,n),e={...Object.fromEntries(h.getAttributes()),...e};for(const p in e)d.schema.checkAttribute(n,p)||delete e[p];return d.change(p=>{const{setImageSizes:b=!0}=s,v=p.createElement(n,e);return d.insertObject(v,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":void 0}),v.parent?(b&&this.setImageNaturalSizeAttributes(v),v):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const s=new le.window.Image;this._domEmitter.listenTo(s,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(n.batch,c=>{c.setAttribute("width",s.naturalWidth,e),c.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:y7})}isImageAllowed(){const t=this.editor.model.document.selection;return A7(this.editor,t)&&C7(t)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),$m(e,t,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Rt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function A7(r,e){if(T1(r,e,null)=="imageBlock"){const n=x7(e,r.model);if(r.model.schema.checkChild(n,"imageBlock"))return!0}else if(r.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function C7(r){return[...r.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function x7(r,e){const n=Wm(r,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function T1(r,e,t){const n=r.model.schema,s=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?nk(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const E7=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class S7 extends Z{static get requires(){return[Jm,pn,Xm,Oi]}static get pluginName(){return"AutoImage"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const s=t.selection.getFirstRange(),c=Et.fromPosition(s.start);c.stickiness="toPrevious";const d=Et.fromPosition(s.end);d.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(c,d),c.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(le.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const n=this.editor,s=new hn(e,t),c=s.getWalker({ignoreElementEnd:!0}),d=Object.fromEntries(n.model.document.selection.getAttributes()),h=this.editor.plugins.get("ImageUtils");let p="";for(const b of c)b.item.is("$textProxy")&&(p+=b.item.data);if(p=p.trim(),!p.match(E7)){s.detach();return}this._positionToInsert=Et.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!n.commands.get("insertImage").isEnabled){s.detach();return}n.model.change(C=>{this._timeoutId=null,C.remove(s),s.detach();let N;this._positionToInsert.root.rootName!=="$graveyard"&&(N=this._positionToInsert.toPosition()),h.insertImage({...d,src:p},N),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)}}class D7 extends Ye{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=t.model,c=n.getClosestSelectedImageElement(s.document.selection);s.change(d=>{d.setAttribute("alt",e.newValue,c)})}}class T7 extends Z{static get requires(){return[pn]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new D7(this.editor))}}var I1=a(5269),ik={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ik.insert="head",ik.singleton=!0,se()(I1.Z,ik),I1.Z.locals;var M1=a(6603),rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rk.insert="head",rk.singleton=!0,se()(M1.Z,rk),M1.Z.locals;class I7 extends pe{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new un,this.keystrokes=new si,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),ye.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),ye.cancel,"ck-button-cancel","cancel"),this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),su({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,s){const c=new je(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createLabeledInputView(){const e=this.locale.t,t=new Tc(this.locale,Ic);return t.label=e("Text alternative"),t}}function M7(r){const e=r.plugins.get("ContextualBalloon");if(r.plugins.get("ImageUtils").getClosestSelectedImageWidget(r.editing.view.document.selection)){const n=N1(r);e.updatePosition(n)}}function N1(r){const e=r.editing.view,t=Ht.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class N7 extends Z{static get requires(){return[gu]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const s=e.commands.get("imageTextAlternative"),c=new je(n);return c.set({label:t("Change image text alternative"),icon:ye.lowVision,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>!!d),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Hp(I7))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,d)=>{this._hideForm(!0),d()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(n.selection)?this._isVisible&&M7(e):this._hideForm(!0)}),Up({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:N1(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class P1 extends Z{static get requires(){return[T7,N7]}static get pluginName(){return"ImageTextAlternative"}}function P7(r){const e=(t,n,s)=>{if(!s.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const c=r.findViewImgElement(n.viewItem);if(!c||!s.consumable.test(c,{name:!0}))return;s.consumable.consume(n.viewItem,{name:!0,classes:"image"});const d=s.convertItem(c,n.modelCursor),h=zt(d.modelRange.getItems());if(!h){s.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n)};return t=>{t.on("element:figure",e)}}function O1(r,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=c.writer,h=c.mapper.toViewElement(s.item),p=r.findViewImgElement(h);s.attributeNewValue===null?(d.removeAttribute("srcset",p),d.removeAttribute("sizes",p)):s.attributeNewValue&&(d.setAttribute("srcset",s.attributeNewValue,p),d.setAttribute("sizes","100vw",p))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Du(r,e,t){const n=(s,c,d)=>{if(!d.consumable.consume(c.item,s.name))return;const h=d.writer,p=d.mapper.toViewElement(c.item),b=r.findViewImgElement(p);h.setAttribute(c.attributeKey,c.attributeNewValue||"",b)};return s=>{s.on(`attribute:${t}:${e}`,n)}}class B1 extends Ti{observe(e){this.listenTo(e,"load",(t,n)=>{const s=n.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class O7 extends Ye{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Te("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Te("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Bt(e.source),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const p=n.getSelectedElement();if(typeof d=="string"&&(d={src:d}),h&&p&&s.isImage(p)){const b=this.editor.model.createPositionAfter(p);s.insertImage({...d,...c},b)}else s.insertImage({...d,...c})})}}class B7 extends Ye{refresh(){const t=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}class z1 extends Z{static get requires(){return[pn]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(B1),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new O7(e),s=new B7(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",n)}}class L1 extends Z{static get requires(){return[pn]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:d=>Su(d)?Eu(d.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:d=>Su(d)?Eu(d.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(d=>{c(d,"width","width",!0),c(d,"height","height",!0)}),t.conversion.for("dataDowncast").add(d=>{c(d,"width","width",!1),c(d,"height","height",!1)});function c(d,h,p,b){d.on(`attribute:${h}:${e}`,(v,C,N)=>{if(!N.consumable.consume(C.item,v.name))return;const B=N.writer,R=N.mapper.toViewElement(C.item),G=n.findViewImgElement(R);if(C.attributeNewValue!==null?B.setAttribute(p,C.attributeNewValue,G):B.removeAttribute(p,G),C.item.hasAttribute("sources"))return;const re=C.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!re&&!b)return;const ue=C.item.getAttribute("width"),ze=C.item.getAttribute("height"),Je=G.getStyle("aspect-ratio");ue&&ze&&!Je&&B.setStyle("aspect-ratio",`${ue}/${ze}`,G)})}}}class j1 extends Ye{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(n):this.isEnabled=t.isBlockImage(n)}execute(e={}){const t=this.editor,n=this.editor.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(n.document.selection),d=Object.fromEntries(c.getAttributes());return!d.src&&!d.uploadId?null:n.change(h=>{const{setImageSizes:p=!0}=e,b=Array.from(n.markers).filter(N=>N.getRange().containsItem(c)),v=s.insertImage(d,n.createSelection(c,"on"),this._modelElementName,{setImageSizes:p});if(!v)return null;const C=h.createRangeOn(v);for(const N of b){const B=N.getRange(),R=B.root.rootName!="$graveyard"?B.getJoined(C,!0):C;h.updateMarker(N,{range:R})}return{oldElement:c,newElement:v}})}}class R1 extends Z{static get requires(){return[z1,L1,pn,Bi]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new j1(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>S1(d)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>s.toImageWidget(S1(d),d,t("image widget"))}),n.for("downcast").add(Du(s,"imageBlock","src")).add(Du(s,"imageBlock","alt")).add(O1(s,"imageBlock")),n.for("upcast").elementToElement({view:D1(e,"imageBlock"),model:(c,{writer:d})=>d.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(P7(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const p=Array.from(h.content.getChildren());let b;if(!p.every(s.isInlineImageView))return;h.targetRanges?b=e.editing.mapper.toModelRange(h.targetRanges[0]):b=t.document.selection.getFirstRange();const v=t.createSelection(b);if(nk(t.schema,v)==="imageBlock"){const C=new zo(n.document),N=p.map(B=>C.createElement("figure",{class:"image"},B));h.content=C.createDocumentFragment(N)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(p=>{const b=p.createRangeIn(h.content);for(const v of b.getItems())v.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(v)})})}}var F1=a(2430),ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ok.insert="head",ok.singleton=!0,se()(F1.Z,ok),F1.Z.locals;class z7 extends Z{static get requires(){return[R1,Bc,P1]}static get pluginName(){return"ImageBlock"}}class L7 extends Z{static get requires(){return[z1,L1,pn,Bi]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,s)=>{if(n.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new j1(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:d})=>d.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:d})=>s.toImageWidget(v7(d),d,t("image widget"))}),n.for("downcast").add(Du(s,"imageInline","src")).add(Du(s,"imageInline","alt")).add(O1(s,"imageInline")),n.for("upcast").elementToElement({view:D1(e,"imageInline"),model:(c,{writer:d})=>d.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const p=Array.from(h.content.getChildren());let b;if(!p.every(s.isBlockImageView))return;h.targetRanges?b=e.editing.mapper.toModelRange(h.targetRanges[0]):b=t.document.selection.getFirstRange();const v=t.createSelection(b);if(nk(t.schema,v)==="imageInline"){const C=new zo(n.document),N=p.map(B=>B.childCount===1?(Array.from(B.getAttributes()).forEach(R=>C.setAttribute(...R,s.findViewImgElement(B))),B.getChild(0)):B);h.content=C.createDocumentFragment(N)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(p=>{const b=p.createRangeIn(h.content);for(const v of b.getItems())v.is("element","imageInline")&&s.setImageNaturalSizeAttributes(v)})})}}class j7 extends Z{static get requires(){return[L7,Bc,P1]}static get pluginName(){return"ImageInline"}}class R7 extends Z{static get requires(){return[z7,j7]}static get pluginName(){return"Image"}}class V1 extends Z{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[pn]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class F7 extends Ye{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(R1)){this.isEnabled=!1,this.value=!1;return}const s=e.model.document.selection,c=s.getSelectedElement();if(!c){const d=t.getCaptionFromModelSelection(s);this.isEnabled=!!d,this.value=!!d;return}this.isEnabled=n.isImage(c),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let h=s.getSelectedElement();const p=c._getSavedCaption(h);d.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=s.getSelectedElement());const b=p||e.createElement("caption");e.append(b,h),t&&e.setSelection(b,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),c=t.plugins.get("ImageCaptionUtils");let d=n.getSelectedElement(),h;d?h=c.getCaptionFromImageModelElement(d):(h=c.getCaptionFromModelSelection(n),d=h.parent),s._saveCaption(d,h),e.setSelection(d,"on"),e.remove(h)}}class V7 extends Z{static get requires(){return[pn,V1]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new F7(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:d=>s.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>n.isBlockImage(d.parent)?h.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>{if(!n.isBlockImage(d.parent))return null;const p=h.createEditableElement("figcaption");h.setCustomProperty("imageCaption",!0,p),p.placeholder=c("Enter image caption"),c0({view:t,element:p,keepOnFocus:!0});const b=d.parent.getAttribute("alt"),v=b?c("Caption for image: %0",[b]):c("Caption for the image");return dF(p,h,{label:v})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),d=h=>{if(!h.return)return;const{oldElement:p,newElement:b}=h.return;if(!p)return;if(t.isBlockImage(p)){const C=n.getCaptionFromImageModelElement(p);if(C){this._saveCaption(b,C);return}}const v=this._getSavedCaption(p);v&&this._saveCaption(b,v)};s&&this.listenTo(s,"execute",d,{priority:"low"}),c&&this.listenTo(c,"execute",d,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Fe.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const c=t.document.differ.getChanges();for(const d of c){if(d.attributeKey!=="alt")continue;const h=d.range.start.nodeAfter;if(n.isBlockImage(h)){const p=s.getCaptionFromImageModelElement(h);if(!p)return;e.editing.reconvertItem(p)}}})}}class U7 extends Z{static get requires(){return[V1]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const d=e.commands.get("toggleImageCaption"),h=new je(c);return h.set({icon:ye.caption,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.bind("label").to(d,"value",p=>s(p?"Toggle caption off":"Toggle caption on")),this.listenTo(h,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const p=n.getCaptionFromModelSelection(e.model.document.selection);if(p){const b=e.editing.mapper.toViewElement(p);t.scrollToTheSelection(),t.change(v=>{v.addClass("image__caption_highlighted",b)})}e.editing.view.focus()}),h})}}var U1=a(2423),sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sk.insert="head",sk.singleton=!0,se()(U1.Z,sk),U1.Z.locals;class H7 extends Z{static get requires(){return[V7,U7]}static get pluginName(){return"ImageCaption"}}class $7 extends Be(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,s)=>{t.onload=()=>{const c=t.result;this._data=c,n(c)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class jo extends Z{constructor(){super(...arguments),this.loaders=new $n,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[tA]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Te("filerepository-no-upload-adapter"),null;const t=new H1(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const s of this.loaders)n+=s.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const s of this.loaders)s.uploadTotal&&(n+=s.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof H1?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,s)=>{n===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(tA);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class H1 extends Be(){constructor(e,t){super(),this.id=ve(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new $7,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,s)=>s?n/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new L("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(c=>{t.isFulfilled=!0,n(c)}).catch(c=>{t.isFulfilled=!0,s(c)})}),t}}class W7 extends pe{constructor(e){super(e),this.buttonView=new je(e),this._fileInputView=new q7(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class q7 extends pe{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class G7 extends Z{static get requires(){return[jo]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(jo).createUploadAdapter=e=>new Y7(e)}}class Y7{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const n=this.reader=new window.FileReader;n.addEventListener("load",()=>{e({default:n.result})}),n.addEventListener("error",s=>{t(s)}),n.addEventListener("abort",()=>{t()}),this.loader.file.then(s=>{n.readAsDataURL(s)})})}abort(){this.reader.abort()}}function $1(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Z7(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(s=>s.blob()).then(s=>{const c=W1(s,n),h=`image.${c.replace("image/","")}`,p=new File([s],h,{type:c});e(p)}).catch(s=>s&&s.name==="TypeError"?Q7(n).then(e).catch(t):t(s))})}function K7(r,e){return!r.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function W1(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function Q7(r){return J7(r).then(e=>{const t=W1(e,r),s=`image.${t.replace("image/","")}`;return new File([e],s,{type:t})})}function J7(r){return new Promise((e,t)=>{const n=le.document.createElement("img");n.addEventListener("load",()=>{const s=le.document.createElement("canvas");s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0),s.toBlob(d=>d?e(d):t())}),n.addEventListener("error",()=>t()),n.src=r})}class X7 extends Z{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=s=>{const c=new W7(s),d=e.commands.get("uploadImage"),h=e.config.get("image.upload.types"),p=$1(h);return c.set({acceptedType:h.map(b=>`image/${b}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:t("Insert image"),icon:ye.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(d),c.on("done",(b,v)=>{const C=Array.from(v).filter(N=>p.test(N.type));C.length&&(e.execute("uploadImage",{file:C}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}var q1=a(2926),ak={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ak.insert="head",ak.singleton=!0,se()(q1.Z,ak),q1.Z.locals;var G1=a(1547),ck={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ck.insert="head",ck.singleton=!0,se()(G1.Z,ck),G1.Z.locals;var Y1=a(6618),lk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lk.insert="head",lk.singleton=!0,se()(Y1.Z,lk),Y1.Z.locals;class eV extends Z{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,n,s)=>{const c=this.editor,d=n.item,h=d.getAttribute("uploadId");if(!s.consumable.consume(n.item,t.name))return;const p=c.plugins.get("ImageUtils"),b=c.plugins.get(jo),v=h?n.attributeNewValue:null,C=this.placeholder,N=c.editing.mapper.toViewElement(d),B=s.writer;if(v=="reading"){Z1(N,B),K1(p,C,N,B);return}if(v=="uploading"){const R=b.loaders.get(h);Z1(N,B),R?(Q1(N,B),nV(N,B,R,c.editing.view),aV(p,N,B,R)):K1(p,C,N,B);return}v=="complete"&&b.loaders.get(h)&&rV(N,B,c.editing.view),iV(N,B),Q1(N,B),tV(N,B)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function Z1(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function tV(r,e){e.removeClass("ck-appear",r)}function K1(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const s=r.findViewImgElement(t);s.getAttribute("src")!==e&&n.setAttribute("src",e,s),J1(t,"placeholder")||n.insert(n.createPositionAfter(s),sV(n))}function Q1(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),X1(r,e,"placeholder")}function nV(r,e,t,n){const s=oV(e);e.insert(e.createPositionAt(r,"end"),s),t.on("change:uploadedPercent",(c,d,h)=>{n.change(p=>{p.setStyle("width",h+"%",s)})})}function iV(r,e){X1(r,e,"progressBar")}function rV(r,e,t){const n=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(r,"end"),n),setTimeout(()=>{t.change(s=>s.remove(s.createRangeOn(n)))},3e3)}function oV(r){const e=r.createUIElement("div",{class:"ck-progress-bar"});return r.setCustomProperty("progressBar",!0,e),e}function sV(r){const e=r.createUIElement("div",{class:"ck-upload-placeholder-loader"});return r.setCustomProperty("placeholder",!0,e),e}function J1(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function X1(r,e,t){const n=J1(r,t);n&&e.remove(e.createRangeOn(n))}function aV(r,e,t,n){if(n.data){const s=r.findViewImgElement(e);t.setAttribute("src",n.data,s)}}class cV extends Ye{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=Bt(e.file),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const p=n.getSelectedElement();if(h&&p&&s.isImage(p)){const b=this.editor.model.createPositionAfter(p);this._uploadImage(d,c,b)}else this._uploadImage(d,c)})}_uploadImage(e,t,n){const s=this.editor,d=s.plugins.get(jo).createLoader(e),h=s.plugins.get("ImageUtils");d&&h.insertImage({...t,uploadId:d.id},n)}}class lV extends Z{static get requires(){return[jo,hC,Bi,pn]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,n=e.conversion,s=e.plugins.get(jo),c=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),h=$1(e.config.get("image.upload.types")),p=new cV(e);e.commands.add("uploadImage",p),e.commands.add("imageUpload",p),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(b,v)=>{if(dV(v.dataTransfer))return;const C=Array.from(v.dataTransfer.files).filter(N=>N?h.test(N.type):!1);C.length&&(b.stop(),e.model.change(N=>{v.targetRanges&&N.setSelection(v.targetRanges.map(B=>e.editing.mapper.toModelRange(B))),e.execute("uploadImage",{file:C})}))}),this.listenTo(d,"inputTransformation",(b,v)=>{const C=Array.from(e.editing.view.createRangeIn(v.content)).map(B=>B.item).filter(B=>K7(c,B)&&!B.getAttribute("uploadProcessed")).map(B=>({promise:Z7(B),imageElement:B}));if(!C.length)return;const N=new zo(e.editing.view.document);for(const B of C){N.setAttribute("uploadProcessed",!0,B.imageElement);const R=s.createLoader(B.promise);R&&(N.setAttribute("src","",B.imageElement),N.setAttribute("uploadId",R.id,B.imageElement))}}),e.editing.view.document.on("dragover",(b,v)=>{v.preventDefault()}),t.on("change",()=>{const b=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),v=new Set;for(const C of b)if(C.type=="insert"&&C.name!="$text"){const N=C.position.nodeAfter,B=C.position.root.rootName=="$graveyard";for(const R of uV(e,N)){const G=R.getAttribute("uploadId");if(!G)continue;const re=s.loaders.get(G);re&&(B?v.has(G)||re.abort():(v.add(G),this._uploadImageElements.set(G,R),re.status=="idle"&&this._readAndUpload(re)))}}}),this.on("uploadComplete",(b,{imageElement:v,data:C})=>{const N=C.urls?C.urls:C;this.editor.model.change(B=>{B.setAttribute("src",N.default,v),this._parseAndSetSrcsetAttributeOnImage(N,v,B),c.setImageNaturalSizeAttributes(v)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,s=t.locale.t,c=t.plugins.get(jo),d=t.plugins.get(hC),h=t.plugins.get("ImageUtils"),p=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","reading",p.get(e.id))}),e.read().then(()=>{const v=e.upload(),C=p.get(e.id);if(m.isSafari){const N=t.editing.mapper.toViewElement(C),B=h.findViewImgElement(N);t.editing.view.once("render",()=>{if(!B.parent)return;const R=t.editing.view.domConverter.mapViewToDom(B.parent);if(!R)return;const G=R.style.display;R.style.display="none",R._ckHack=R.offsetHeight,R.style.display=G})}return n.enqueueChange({isUndoable:!1},N=>{N.setAttribute("uploadStatus","uploading",C)}),v}).then(v=>{n.enqueueChange({isUndoable:!1},C=>{const N=p.get(e.id);C.setAttribute("uploadStatus","complete",N),this.fire("uploadComplete",{data:v,imageElement:N})}),b()}).catch(v=>{if(e.status!=="error"&&e.status!=="aborted")throw v;e.status=="error"&&v&&d.showWarning(v,{title:s("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},C=>{C.remove(p.get(e.id))}),b()});function b(){n.enqueueChange({isUndoable:!1},v=>{const C=p.get(e.id);v.removeAttribute("uploadId",C),v.removeAttribute("uploadStatus",C),p.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let s=0;const c=Object.keys(e).filter(d=>{const h=parseInt(d,10);if(!isNaN(h))return s=Math.max(s,h),!0}).map(d=>`${e[d]} ${d}w`).join(", ");if(c!=""){const d={srcset:c};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(d.width=s),n.setAttributes(d,t)}}}function dV(r){return Array.from(r.types).includes("text/html")&&r.getData("text/html")!==""}function uV(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}class ex extends Z{static get pluginName(){return"ImageUpload"}static get requires(){return[lV,X7,eV]}}var tx=a(8340),dk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dk.insert="head",dk.singleton=!0,se()(tx.Z,dk),tx.Z.locals;class hV extends pe{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}var nx=a(8879),uk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uk.insert="head",uk.singleton=!0,se()(nx.Z,uk),nx.Z.locals;class fV extends pe{constructor(e,t={}){super(e);const{insertButtonView:n,cancelButtonView:s}=this._createActionButtons(e);this.insertButtonView=n,this.cancelButtonView=s,this.set("imageURLInputValue",""),this.focusTracker=new un,this.keystrokes=new si,this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new $n);for(const[c,d]of Object.entries(t))c==="insertImageViaUrl"&&(d.fieldView.bind("value").to(this,"imageURLInputValue",h=>h||""),d.fieldView.on("input",()=>{this.imageURLInputValue=d.fieldView.element.value.trim()})),d.name=c,this._integrations.add(d);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new hV(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),su({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const t=n=>n.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(e){return this._integrations.find(t=>t.name===e)}_createActionButtons(e){const t=e.t,n=new je(e),s=new je(e);return n.set({label:t("Insert"),icon:ye.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),s.set({label:t("Cancel"),icon:ye.cancel,class:"ck-button-cancel",withText:!0}),n.bind("isEnabled").to(this,"imageURLInputValue",c=>!!c),n.delegate("execute").to(this,"submit"),s.delegate("execute").to(this,"cancel"),{insertButtonView:n,cancelButtonView:s}}focus(){this._focusCycler.focusFirst()}}function gV(r){const e=r.config.get("image.insert.integrations"),t=r.plugins.get("ImageInsertUI"),n={insertImageViaUrl:pV(r.locale)};if(!e)return n;if(e.find(s=>s==="openCKFinder")&&r.ui.componentFactory.has("ckfinder")){const s=r.ui.componentFactory.create("ckfinder");s.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),s.delegate("execute").to(t,"cancel"),n.openCKFinder=s}return e.reduce((s,c)=>(n[c]?s[c]=n[c]:r.ui.componentFactory.has(c)&&(s[c]=r.ui.componentFactory.create(c)),s),{})}function pV(r){const e=r.t,t=new Tc(r,Ic);return t.set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t}class ix extends Z{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=n=>this._createDropdownView(n);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,n=e.t,s=t.commands.get("uploadImage"),c=t.commands.get("insertImage");this.dropdownView=Nr(e,s?cm:void 0);const d=this.dropdownView.buttonView,h=this.dropdownView.panelView;if(d.set({label:n("Insert image"),icon:ye.image,tooltip:!0}),h.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),s){const p=this.dropdownView.buttonView;p.actionView=t.ui.componentFactory.create("uploadImage"),p.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(s||c)}_setUpDropdown(e){const t=this.editor,n=t.t,s=this.dropdownView,c=s.panelView,d=this.editor.plugins.get("ImageUtils"),h=t.commands.get("replaceImageSource");let p;s.bind("isEnabled").to(e),s.once("change:isOpen",()=>{p=new fV(t.locale,gV(t)),p.delegate("submit","cancel").to(s),c.children.add(p)}),s.on("change:isOpen",()=>{const C=t.model.document.selection.getSelectedElement(),N=p.insertButtonView,B=p.getIntegration("insertImageViaUrl");s.isOpen&&(d.isImage(C)?(p.imageURLInputValue=h.value,N.label=n("Update"),B.label=n("Update image URL")):(p.imageURLInputValue="",N.label=n("Insert"),B.label=n("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",()=>{v(),b()}),s.on("cancel",()=>{v()});function b(){const C=t.model.document.selection.getSelectedElement();d.isImage(C)?t.execute("replaceImageSource",{source:p.imageURLInputValue}):t.execute("insertImage",{source:p.imageURLInputValue})}function v(){t.editing.view.focus(),s.isOpen=!1}return s}}class mV extends Z{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[ix]}}class kV extends Z{static get pluginName(){return"ImageInsert"}static get requires(){return[ex,mV,ix]}}class wV extends Ye{refresh(){const e=this.editor,n=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!n,!n||!n.hasAttribute("resizedWidth")?this.value=null:this.value={width:n.getAttribute("resizedWidth"),height:null}}execute(e){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null},c&&n.change(d=>{d.setAttribute("resizedWidth",e.width,c),d.removeAttribute("resizedHeight",c),s.setImageNaturalSizeAttributes(c)})}}class rx extends Z{static get requires(){return[pn]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new wV(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${e}`,(c,d,h)=>{if(!h.consumable.consume(d.item,c.name))return;const p=h.writer,b=h.mapper.toViewElement(d.item);d.attributeNewValue!==null?(p.setStyle("width",d.attributeNewValue,b),p.addClass("image_resized",b)):(p.removeStyle("width",b),p.removeClass("image_resized",b))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),t.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${e}`,(c,d,h)=>{if(!h.consumable.consume(d.item,c.name))return;const p=h.writer,b=h.mapper.toViewElement(d.item),v=e==="imageInline"?n.findViewImgElement(b):b;d.attributeNewValue!==null?p.setStyle("height",d.attributeNewValue,v):p.removeStyle("height",v)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>Su(s)?null:s.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>Su(s)?null:s.getStyle("height")}})}}const hk={small:ye.objectSizeSmall,medium:ye.objectSizeMedium,large:ye.objectSizeLarge,original:ye.objectSizeFull};class bV extends Z{static get requires(){return[rx]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const s of t)this._registerImageResizeButton(s);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:n,value:s,icon:c}=e,d=s?s+this._resizeUnit:null;t.ui.componentFactory.add(n,h=>{const p=new je(h),b=t.commands.get("resizeImage"),v=this._getOptionLabelValue(e,!0);if(!hk[c])throw new L("imageresizebuttons-missing-icon",t,e);return p.set({label:v,icon:hk[c],tooltip:v,isToggleable:!0}),p.bind("isEnabled").to(this),p.bind("isOn").to(b,"value",ox(d)),this.listenTo(p,"execute",()=>{t.execute("resizeImage",{width:d})}),p})}_registerImageResizeDropdown(e){const t=this.editor,n=t.t,s=e.find(d=>!d.value),c=d=>{const h=t.commands.get("resizeImage"),p=Nr(d,DA),b=p.buttonView,v=n("Resize image");return b.set({tooltip:v,commandValue:s.value,icon:hk.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:v,ariaLabelledBy:void 0}),b.bind("label").to(h,"value",C=>C&&C.width?C.width:this._getOptionLabelValue(s)),p.bind("isEnabled").to(this),FA(p,()=>this._getResizeDropdownListItemDefinitions(e,h),{ariaLabel:n("Image resize list"),role:"menu"}),this.listenTo(p,"execute",C=>{t.execute(C.source.commandName,{width:C.source.commandValue}),t.editing.view.focus()}),p};t.ui.componentFactory.add("resizeImage",c),t.ui.componentFactory.add("imageResize",c)}_getOptionLabelValue(e,t=!1){const n=this.editor.t;return e.label?e.label:t?e.value?n("Resize image to %0",e.value+this._resizeUnit):n("Resize image to the original size"):e.value?e.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(e,t){const n=new $n;return e.map(s=>{const c=s.value?s.value+this._resizeUnit:null,d={type:"button",model:new fC({commandName:"resizeImage",commandValue:c,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};d.model.bind("isOn").to(t,"value",ox(c)),n.add(d)}),n}}function ox(r){return e=>{const t=e;return r===null&&t===r?!0:t!==null&&t.width===r}}const _V="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",fk="image_resized";class vV extends Z{static get requires(){return[Zm,pn]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils");t.addObserver(B1),this.listenTo(t.document,"imageLoaded",(s,c)=>{if(!c.target.matches(_V))return;const d=e.editing.view.domConverter,h=d.domToView(c.target),p=n.getImageWidgetFromImageView(h);let b=this.editor.plugins.get(Zm).getResizerByViewElement(p);if(b){b.redraw();return}const v=e.editing.mapper,C=v.toModelElement(p);b=e.plugins.get(Zm).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:C,viewElement:p,editor:e,getHandleHost(N){return N.querySelector("img")},getResizeHost(){return d.mapViewToDom(v.toViewElement(C.parent))},isCentered(){const N=C.getAttribute("imageStyle");return!N||N=="block"||N=="alignCenter"},onCommit(N){t.change(B=>{B.removeClass(fk,p)}),e.execute("resizeImage",{width:N})}}),b.on("updateSize",()=>{p.hasClass(fk)||t.change(B=>{B.addClass(fk,p)});const N=C.name==="imageInline"?h:p;N.getStyle("height")&&t.change(B=>{B.removeStyle("height",N)})}),b.bind("isEnabled").to(this)})}}var sx=a(2400),gk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};gk.insert="head",gk.singleton=!0,se()(sx.Z,gk),sx.Z.locals;class yV extends Z{static get requires(){return[rx,vV,bV]}static get pluginName(){return"ImageResize"}}class AV extends Ye{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const s of n.modelElements)this._defaultStyles[s]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils");n.change(c=>{const d=e.value,{setImageSizes:h=!0}=e;let p=s.getClosestSelectedImageElement(n.document.selection);d&&this.shouldConvertImageType(d,p)&&(this.editor.execute(s.isBlockImage(p)?"imageTypeInline":"imageTypeBlock",{setImageSizes:h}),p=s.getClosestSelectedImageElement(n.document.selection)),!d||this._styles.get(d).isDefault?c.removeAttribute("imageStyle",p):c.setAttribute("imageStyle",d,p),h&&s.setImageNaturalSizeAttributes(p)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:CV,objectInline:ax,objectLeft:cx,objectRight:pk,objectCenter:mk,objectBlockLeft:lx,objectBlockRight:dx}=ye,Tu={get inline(){return{name:"inline",title:"In line",icon:ax,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:cx,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:lx,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:mk,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:pk,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:dx,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:mk,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:pk,modelElements:["imageBlock"],className:"image-style-side"}}},ux={full:CV,left:lx,right:dx,center:mk,inlineLeft:cx,inlineRight:pk,inline:ax},hx=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function xV(r){return(r.configuredStyles.options||[]).map(n=>DV(n)).filter(n=>TV(n,r))}function EV(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function SV(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...hx]:[]}function DV(r){return typeof r=="string"?Tu[r]?r={...Tu[r]}:r={name:r}:r=IV(Tu[r.name],r),typeof r.icon=="string"&&(r.icon=ux[r.icon]||r.icon),r}function TV(r,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:n,name:s}=r;if(!n||!n.length||!s)return fx({style:r}),!1;{const c=[e?"imageBlock":null,t?"imageInline":null];if(!n.some(d=>c.includes(d)))return Te("image-style-missing-dependency",{style:r,missingPlugins:n.map(d=>d==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function IV(r,e){const t={...e};for(const n in r)Object.prototype.hasOwnProperty.call(e,n)||(t[n]=r[n]);return t}function fx(r){Te("image-style-configuration-definition-invalid",r)}const kk={normalizeStyles:xV,getDefaultStylesConfiguration:EV,getDefaultDropdownDefinitions:SV,warnInvalidStyle:fx,DEFAULT_OPTIONS:Tu,DEFAULT_ICONS:ux,DEFAULT_DROPDOWN_DEFINITIONS:hx};function MV(r){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const s=gx(t.attributeNewValue,r),c=gx(t.attributeOldValue,r),d=n.mapper.toViewElement(t.item),h=n.writer;c&&h.removeClass(c.className,d),s&&h.addClass(s.className,d)}}function NV(r){const e={imageInline:r.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:r.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,s)=>{if(!n.modelRange)return;const c=n.viewItem,d=zt(n.modelRange.getItems());if(d&&s.schema.checkAttribute(d,"imageStyle"))for(const h of e[d.name])s.consumable.consume(c,{classes:h.className})&&s.writer.setAttribute("imageStyle",h.name,d)}}function gx(r,e){for(const t of e)if(t.name===r)return t}class px extends Z{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[pn]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=kk,n=this.editor,s=n.plugins.has("ImageBlockEditing"),c=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(s,c)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:c}),this._setupConversion(s,c),this._setupPostFixer(),n.commands.add("imageStyle",new AV(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,s=n.model.schema,c=MV(this.normalizedStyles),d=NV(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",c),n.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(pn),s=new Map(this.normalizedStyles.map(c=>[c.name,c]));t.registerPostFixer(c=>{let d=!1;for(const h of t.differ.getChanges())if(h.type=="insert"||h.type=="attribute"&&h.attributeKey=="imageStyle"){let p=h.type=="insert"?h.position.nodeAfter:h.range.start.nodeAfter;if(p&&p.is("element","paragraph")&&p.childCount>0&&(p=p.getChild(0)),!n.isImage(p))continue;const b=p.getAttribute("imageStyle");if(!b)continue;const v=s.get(b);(!v||!v.modelElements.includes(p.name))&&(c.removeAttribute("imageStyle",p),d=!0)}return d})}}var mx=a(3534),wk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wk.insert="head",wk.singleton=!0,se()(mx.Z,wk),mx.Z.locals;class PV extends Z{static get requires(){return[px]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=e.get("ImageStyleEditing"),s=kx(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const c=kx([...t.filter(Ze),...kk.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const d of c)this._createDropdown(d,s)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,s=>{let c;const{defaultItem:d,items:h,title:p}=e,b=h.filter(B=>t.find(({name:R})=>wx(R)===B)).map(B=>{const R=n.create(B);return B===d&&(c=R),R});h.length!==b.length&&kk.warnInvalidStyle({dropdown:e});const v=Nr(s,cm),C=v.buttonView,N=C.arrowView;return du(v,b,{enableActiveItemFocusOnDropdownOpen:!0}),C.set({label:bx(p,c.label),class:null,tooltip:!0}),N.unbind("label"),N.set({label:p}),C.bind("icon").toMany(b,"isOn",(...B)=>{const R=B.findIndex(So);return R<0?c.icon:b[R].icon}),C.bind("label").toMany(b,"isOn",(...B)=>{const R=B.findIndex(So);return bx(p,R<0?c.label:b[R].label)}),C.bind("isOn").toMany(b,"isOn",(...B)=>B.some(So)),C.bind("class").toMany(b,"isOn",(...B)=>B.some(So)?"ck-splitbutton_flatten":void 0),C.on("execute",()=>{b.some(({isOn:B})=>B)?v.isOpen=!v.isOpen:c.fire("execute")}),v.bind("isEnabled").toMany(b,"isEnabled",(...B)=>B.some(So)),this.listenTo(v,"execute",()=>{this.editor.editing.view.focus()}),v})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(wx(t),n=>{const s=this.editor.commands.get("imageStyle"),c=new je(n);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>d===t),c.on("execute",this._executeCommand.bind(this,t)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function kx(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function wx(r){return`imageStyle:${r}`}function bx(r,e){return(r?r+": ":"")+e}class OV extends Z{static get requires(){return[px,PV]}static get pluginName(){return"ImageStyle"}}class BV extends Z{static get requires(){return[s1,pn]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(s1),s=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:zV(e.config.get("image.toolbar")||[]),getRelatedElement:c=>s.getClosestSelectedImageWidget(c)})}}function zV(r){return r.map(e=>Ze(e)?e.name:e)}class LV extends Z{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new n0(e)),e.commands.add("outdent",new n0(e))}}const _x='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',vx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class jV extends Z{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?_x:vx,c=t.uiLanguageDirection=="ltr"?vx:_x;this._defineButton("indent",n("Increase indent"),s),this._defineButton("outdent",n("Decrease indent"),c)}_defineButton(e,t,n){const s=this.editor;s.ui.componentFactory.add(e,c=>{const d=s.commands.get(e),h=new je(c);return h.set({label:t,icon:n,tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),this.listenTo(h,"execute",()=>{s.execute(e),s.editing.view.focus()}),h})}}class RV extends Z{static get pluginName(){return"Indent"}static get requires(){return[LV,jV]}}class FV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,s)=>{if(!s.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||s.schema.isInline(n.item)))return;const c=s.writer,d=c.document.selection;for(const h of this._definitions){const p=c.createAttributeElement("a",h.attributes,{priority:5});h.classes&&c.addClass(h.classes,p);for(const b in h.styles)c.setStyle(b,h.styles[b],p);c.setCustomProperty("link",!0,p),h.callback(n.attributeNewValue)?n.item.is("selection")?c.wrap(d.getFirstRange(),p):c.wrap(s.mapper.toViewRange(n.range),p):c.unwrap(s.mapper.toViewRange(n.range),p)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:s,mapper:c})=>{const d=c.toViewElement(n.item),h=Array.from(d.getChildren()).find(p=>p.is("element","a"));for(const p of this._definitions){const b=Si(p.attributes);if(p.callback(n.attributeNewValue)){for(const[v,C]of b)v==="class"?s.addClass(C,h):s.setAttribute(v,C,h);p.classes&&s.addClass(p.classes,h);for(const v in p.styles)s.setStyle(v,p.styles[v],h)}else{for(const[v,C]of b)v==="class"?s.removeClass(C,h):s.removeAttribute(v,h);p.classes&&s.removeClass(p.classes,h);for(const v in p.styles)s.removeStyle(v,h)}}})}}}function VV(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:m0(r,e,t)}const UV=VV;var HV="\\ud800-\\udfff",$V="\\u0300-\\u036f",WV="\\ufe20-\\ufe2f",qV="\\u20d0-\\u20ff",GV=$V+WV+qV,YV="\\ufe0e\\ufe0f",ZV="\\u200d",KV=RegExp("["+ZV+HV+GV+YV+"]");function QV(r){return KV.test(r)}const yx=QV;function JV(r){return r.split("")}const XV=JV;var Ax="\\ud800-\\udfff",e8="\\u0300-\\u036f",t8="\\ufe20-\\ufe2f",n8="\\u20d0-\\u20ff",i8=e8+t8+n8,r8="\\ufe0e\\ufe0f",o8="["+Ax+"]",bk="["+i8+"]",_k="\\ud83c[\\udffb-\\udfff]",s8="(?:"+bk+"|"+_k+")",Cx="[^"+Ax+"]",xx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ex="[\\ud800-\\udbff][\\udc00-\\udfff]",a8="\\u200d",Sx=s8+"?",Dx="["+r8+"]?",c8="(?:"+a8+"(?:"+[Cx,xx,Ex].join("|")+")"+Dx+Sx+")*",l8=Dx+Sx+c8,d8="(?:"+[Cx+bk+"?",bk,xx,Ex,o8].join("|")+")",u8=RegExp(_k+"(?="+_k+")|"+d8+l8,"g");function h8(r){return r.match(u8)||[]}const f8=h8;function g8(r){return yx(r)?f8(r):XV(r)}const p8=g8;function m8(r){return function(e){e=dp(e);var t=yx(e)?p8(e):void 0,n=t?t[0]:e.charAt(0),s=t?UV(t,1).join(""):e.slice(1);return n[r]()+s}}var k8=m8("toUpperCase");const w8=k8,b8=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,_8=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,v8=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,y8=/^((\w+:(\/{2,})?)|(\W))/i,Iu="Ctrl+K";function A8(r){return r.is("attributeElement")&&!!r.getCustomProperty("link")}function Tx(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ix(r){const e=String(r);return C8(e)?e:"#"}function C8(r){return!!r.replace(b8,"").match(_8)}function x8(r,e){const t={"Open in a new tab":r("Open in a new tab"),Downloadable:r("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function E8(r){const e=[];if(r)for(const[t,n]of Object.entries(r)){const s=Object.assign({},n,{id:`link${w8(t)}`});e.push(s)}return e}function vk(r,e){return r?e.checkAttribute(r.name,"linkHref"):!1}function S8(r){return v8.test(r)}function yk(r,e){const t=S8(r)?"mailto:":e,n=!!t&&!Mx(r);return r&&n?t+r:r}function Mx(r){return y8.test(r)}function Nx(r){window.open(r,"_blank","noopener")}class D8 extends Ye{constructor(){super(...arguments),this.manualDecorators=new $n,this.automaticDecorators=new FV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||zt(t.getSelectedBlocks());vk(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const n=this.editor.model,s=n.document.selection,c=[],d=[];for(const h in t)t[h]?c.push(h):d.push(h);n.change(h=>{if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const b=Px(s);let v=zs(p,"linkHref",s.getAttribute("linkHref"),n);s.getAttribute("linkHref")===b&&(v=this._updateLinkContent(n,h,v,e)),h.setAttribute("linkHref",e,v),c.forEach(C=>{h.setAttribute(C,!0,v)}),d.forEach(C=>{h.removeAttribute(C,v)}),h.setSelection(h.createPositionAfter(v.end.nodeBefore))}else if(e!==""){const b=Si(s.getAttributes());b.set("linkHref",e),c.forEach(C=>{b.set(C,!0)});const{end:v}=n.insertContent(h.createText(e,b),p);h.setSelection(v)}["linkHref",...c,...d].forEach(b=>{h.removeSelectionAttribute(b)})}else{const p=n.schema.getValidRanges(s.getRanges(),"linkHref"),b=[];for(const C of s.getSelectedBlocks())n.schema.checkAttribute(C,"linkHref")&&b.push(h.createRangeOn(C));const v=b.slice();for(const C of p)this._isRangeToUpdate(C,b)&&v.push(C);for(const C of v){let N=C;if(v.length===1){const B=Px(s);s.getAttribute("linkHref")===B&&(N=this._updateLinkContent(n,h,C,e),h.setSelection(h.createSelection(N)))}h.setAttribute("linkHref",e,N),c.forEach(B=>{h.setAttribute(B,!0,N)}),d.forEach(B=>{h.removeAttribute(B,N)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,s=n.getSelectedElement();return vk(s,t.schema)?s.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,s){const c=t.createText(s,{linkHref:s});return e.insertContent(c,n)}}function Px(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class T8 extends Ye{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();vk(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,s=e.commands.get("link");t.change(c=>{const d=n.isCollapsed?[zs(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const h of d)if(c.removeAttribute("linkHref",h),s)for(const p of s.manualDecorators)c.removeAttribute(p.id,h)})}}class I8 extends Be(){constructor({id:e,label:t,attributes:n,classes:s,styles:c,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=t,this.attributes=n,this.classes=s,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Ox=a(3925),Ak={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ak.insert="head",Ak.singleton=!0,se()(Ox.Z,Ak),Ox.Z.locals;const M8="ck-link_selected",Bx="automatic",N8="manual",P8=/^(https?:)?\/\//;class Ck extends Z{static get pluginName(){return"LinkEditing"}static get requires(){return[zC,TC,Bi]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Tx}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,c)=>Tx(Ix(s),c)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new D8(e)),e.commands.add("unlink",new T8(e));const t=x8(e.t,E8(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===Bx)),this._enableManualDecorators(t.filter(s=>s.mode===N8)),e.plugins.get(zC).registerAttribute("linkHref"),P6(e,"linkHref","a",M8),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:Bx,callback:c=>!!c&&P8.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(c=>{t.model.schema.extend("$text",{allowAttributes:c.id});const d=new I8(c);s.add(d),t.conversion.for("downcast").attributeToElement({model:d.id,view:(h,{writer:p,schema:b},{item:v})=>{if((v.is("selection")||b.isInline(v))&&h){const C=p.createAttributeElement("a",d.attributes,{priority:5});d.classes&&p.addClass(d.classes,C);for(const N in d.styles)p.setStyle(N,d.styles[N],C);return p.setCustomProperty("link",!0,C),C}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...d._createPattern()},model:{key:d.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(s,c)=>{if(!(m.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let h=c.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const p=h.getAttribute("href");p&&(s.stop(),c.preventDefault(),Nx(p))},{context:"$capture"}),this.listenTo(n,"keydown",(s,c)=>{const h=e.commands.get("link").value;h&&c.keyCode===Se.enter&&c.altKey&&(s.stop(),Nx(h))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=n.anchor.nodeBefore,c=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(c&&c.hasAttribute("linkHref")||t.change(d=>{xk(d,Ek(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(ru);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const c=s.getFirstPosition(),d=zs(c,"linkHref",s.getAttribute("linkHref"),t);(c.isTouching(d.start)||c.isTouching(d.end))&&t.change(h=>{xk(h,Ek(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;if(!c.isCollapsed){if(s){s=!1;return}zx(e)&&O8(e.model)&&(n=c.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[d])=>{s=!1,zx(e)&&n&&(e.model.change(h=>{for(const[p,b]of n)h.setAttribute(p,b,d)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,s=e.editing.view;let c=!1,d=!1;this.listenTo(s.document,"delete",(h,p)=>{d=p.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{c=!1;const h=n.getFirstPosition(),p=n.getAttribute("linkHref");if(!p)return;const b=zs(h,"linkHref",p,t);c=b.containsPosition(h)||b.end.isEqual(h)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d&&(d=!1,!c&&e.model.enqueueChange(h=>{xk(h,Ek(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,c)=>{t.change(d=>{const h=d.createRangeIn(c.content);for(const p of h.getItems())if(p.hasAttribute("linkHref")){const b=yk(p.getAttribute("linkHref"),n);d.setAttribute("linkHref",b,p)}})})}}function xk(r,e){r.removeSelectionAttribute("linkHref");for(const t of e)r.removeSelectionAttribute(t)}function O8(r){const e=r.document.selection,t=e.getFirstPosition(),n=e.getLastPosition(),s=t.nodeAfter;if(!s||!s.is("$text")||!s.hasAttribute("linkHref"))return!1;const c=n.textNode||n.nodeBefore;return s===c?!0:zs(t,"linkHref",s.getAttribute("linkHref"),r).containsRange(r.createRange(t,n),!0)}function zx(r){return r.model.change(t=>t.batch).isTyping}function Ek(r){return r.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var Lx=a(4874),Sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sk.insert="head",Sk.singleton=!0,se()(Lx.Z,Sk),Lx.Z.locals;class B8 extends pe{constructor(e,t){super(e),this.focusTracker=new un,this.keystrokes=new si,this._focusables=new Ni;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ye.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),ye.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),su({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Tc(this.locale,Ic);return t.label=e("Link URL"),t}_createButton(e,t,n,s){const c=new je(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const s=new Kp(this.locale);s.set({name:n.id,label:n.label,withText:!0}),s.bind("isOn").toMany([n,e],"value",(c,d)=>d===void 0&&c===void 0?!!n.defaultValue:!!c),s.on("execute",()=>{n.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new pe;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var jx=a(7536),Dk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dk.insert="head",Dk.singleton=!0,se()(jx.Z,Dk),jx.Z.locals;const z8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class L8 extends pe{constructor(e){super(e),this.focusTracker=new un,this.keystrokes=new si,this._focusables=new Ni;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),z8,"unlink"),this.editButtonView=this._createButton(t("Edit link"),ye.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const s=new je(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,n),s}_createPreviewButton(){const e=new je(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&Ix(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||n("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const Rx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',zi="link-ui";class Fx extends Z{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[gu]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(wj),this._balloon=e.plugins.get(gu),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:zi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:zi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new L8(e.locale),n=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(c,d)=>{this._hideUI(),d()}),t.keystrokes.set(Iu,(c,d)=>{this._addFormView(),d()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),s=new(Hp(B8))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:c}=s.urlInputView.fieldView.element,d=yk(c,n);e.execute("link",d,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(c,d)=>{this._closeFormView(),d()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",s=>{const c=new je(s);return c.isEnabled=!0,c.label=n("Link"),c.icon=Rx,c.keystroke=Iu,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(t,"isEnabled"),c.bind("isOn").to(t,"value",d=>!!d),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Iu,(n,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Up({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),s=d();const c=()=>{const h=this._getSelectedLinkElement(),p=d();n&&!h||!n&&p!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=h,s=p};function d(){return t.selection.focus.getAncestors().reverse().find(h=>h.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let s;if(t.markers.has(zi)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(zi)),d=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));s=e.domConverter.viewRangeToDom(d)}else s=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&Rt(n))return Tk(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),c=Tk(s.start),d=Tk(s.end);return!c||c!=d?null:e.createRangeIn(c).getTrimmed().isEqual(s)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(zi))t.updateMarker(zi,{range:n});else if(n.start.isAtEnd){const s=n.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:n});t.addMarker(zi,{usingOperation:!1,affectsData:!1,range:t.createRange(s,n.end)})}else t.addMarker(zi,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(zi)&&e.change(t=>{t.removeMarker(zi)})}}function Tk(r){return r.getAncestors().find(e=>A8(e))||null}const j8=4,R8=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),F8=2;class Vx extends Z{static get requires(){return[Oi]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new BC(e.model,n=>{if(!V8(n))return;const s=Ux(n.substr(0,n.length-1));if(s)return{url:s}});t.on("matched:data",(n,s)=>{const{batch:c,range:d,url:h}=s;if(!c.isTyping)return;const p=d.end.getShiftedBy(-1),b=p.getShiftedBy(-h.length),v=e.model.createRange(b,p);this._applyAutoLink(h,v)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const c=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition(),c=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:s}=OC(e,t),c=Ux(n);if(c){const d=t.createRange(s.end.getShiftedBy(-c.length),s.end);this._applyAutoLink(c,d)}}_applyAutoLink(e,t){const n=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),c=yk(e,s);!this.isEnabled||!U8(t,n)||!Mx(c)||H8(t)||this._persistAutoLink(c,t)}_persistAutoLink(e,t){const n=this.editor.model,s=this.editor.plugins.get("Delete");n.enqueueChange(c=>{c.setAttribute("linkHref",e,t),n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function V8(r){return r.length>j8&&r[r.length-1]===" "&&r[r.length-2]!==" "}function Ux(r){const e=R8.exec(r);return e?e[F8]:null}function U8(r,e){return e.schema.checkAttributeInSelection(e.createSelection(r),"linkHref")}function H8(r){const e=r.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class $8 extends Z{static get requires(){return[Ck,Fx,Vx]}static get pluginName(){return"Link"}}class W8 extends Z{static get requires(){return["ImageEditing","ImageUtils",Ck]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(q8(e)),e.conversion.for("downcast").add(G8(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,n=e.commands.get("link").automaticDecorators;n.length&&e.conversion.for("downcast").add(n.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const n of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:n.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:n.id}),e.conversion.for("downcast").add(Y8(n)),e.conversion.for("upcast").add(Z8(e,n))}}function q8(r){const e=r.plugins.has("ImageInlineEditing"),t=r.plugins.get("ImageUtils");return n=>{n.on("element:a",(s,c,d)=>{const h=c.viewItem,p=t.findViewImgElement(h);if(!p)return;const b=p.findAncestor(B=>t.isBlockImageView(B));if(e&&!b)return;const v={attributes:["href"]};if(!d.consumable.consume(h,v))return;const C=h.getAttribute("href");if(!C)return;let N=c.modelCursor.parent;if(!N.is("element","imageBlock")){const B=d.convertItem(p,c.modelCursor);c.modelRange=B.modelRange,c.modelCursor=B.modelCursor,N=c.modelCursor.nodeBefore}N&&N.is("element","imageBlock")&&d.writer.setAttribute("linkHref",C,N)},{priority:"high"})}}function G8(r){const e=r.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=c.mapper.toViewElement(s.item),h=c.writer,p=Array.from(d.getChildren()).find(C=>C.is("element","a")),b=e.findViewImgElement(d),v=b.parent.is("element","picture")?b.parent:b;if(p)s.attributeNewValue?h.setAttribute("href",s.attributeNewValue,p):(h.move(h.createRangeOn(v),h.createPositionAt(d,0)),h.remove(p));else{const C=h.createContainerElement("a",{href:s.attributeNewValue});h.insert(h.createPositionAt(d,0),C),h.move(h.createRangeOn(v),h.createPositionAt(C,0))}},{priority:"high"})}}function Y8(r){return e=>{e.on(`attribute:${r.id}:imageBlock`,(t,n,s)=>{const c=s.mapper.toViewElement(n.item),d=Array.from(c.getChildren()).find(h=>h.is("element","a"));if(d){for(const[h,p]of Si(r.attributes))s.writer.setAttribute(h,p,d);r.classes&&s.writer.addClass(r.classes,d);for(const h in r.styles)s.writer.setStyle(h,r.styles[h],d)}})}}function Z8(r,e){const t=r.plugins.has("ImageInlineEditing"),n=r.plugins.get("ImageUtils");return s=>{s.on("element:a",(c,d,h)=>{const p=d.viewItem,b=n.findViewImgElement(p);if(!b)return;const v=b.findAncestor(R=>n.isBlockImageView(R));if(t&&!v)return;const N=new Wn(e._createPattern()).match(p);if(!N||!h.consumable.consume(p,N.match))return;const B=d.modelCursor.nodeBefore||d.modelCursor.parent;h.writer.setAttribute(e.id,!0,B)},{priority:"high"})}}class K8 extends Z{static get requires(){return[Ck,Fx,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,s)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(s.preventDefault(),n.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",n=>{const s=new je(n),c=e.plugins.get("LinkUI"),d=e.commands.get("link");return s.set({isEnabled:!0,label:t("Link image"),icon:Rx,keystroke:Iu,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(d,"isEnabled"),s.bind("isOn").to(d,"value",h=>!!h),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?c._addActionsView():c._showUI(!0)}),s})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}var Hx=a(4330),Ik={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ik.insert="head",Ik.singleton=!0,se()(Hx.Z,Ik),Hx.Z.locals;class Q8 extends Z{static get requires(){return[W8,K8]}static get pluginName(){return"LinkImage"}}var $x=a(3190),Mk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mk.insert="head",Mk.singleton=!0,se()($x.Z,Mk),$x.Z.locals;var Wx=a(4784),Nk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nk.insert="head",Nk.singleton=!0,se()(Wx.Z,Nk),Wx.Z.locals;function J8(r){const e=r.createContainerElement("li");return e.getFillerOffset=o9,e}function X8(r,e){const t=e.mapper,n=e.writer,s=r.getAttribute("listType")=="numbered"?"ol":"ul",c=J8(n),d=n.createContainerElement(s,null);return n.insert(n.createPositionAt(d,0),c),t.bindElements(r,c),c}function qx(r,e,t,n){const s=e.parent,c=t.mapper,d=t.writer;let h=c.toViewPosition(n.createPositionBefore(r));const p=Yx(r.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:r.getAttribute("listIndent")}),b=r.previousSibling;if(p&&p.getAttribute("listIndent")==r.getAttribute("listIndent")){const v=c.toViewElement(p);h=d.breakContainer(d.createPositionAfter(v))}else if(b&&b.name=="listItem"){h=c.toViewPosition(n.createPositionAt(b,"end"));const v=c.findMappedViewAncestor(h),C=e9(v);C?h=d.createPositionBefore(C):h=d.createPositionAt(v,"end")}else h=c.toViewPosition(n.createPositionBefore(r));if(h=Gx(h),d.insert(h,s),b&&b.name=="listItem"){const v=c.toViewElement(b),N=d.createRange(d.createPositionAt(v,0),h).getWalker({ignoreElementEnd:!0});for(const B of N)if(B.item.is("element","li")){const R=d.breakContainer(d.createPositionBefore(B.item)),G=B.item.parent,re=d.createPositionAt(e,"end");Gn(d,re.nodeBefore,re.nodeAfter),d.move(d.createRangeOn(G),re),N._position=R}}else{const v=s.nextSibling;if(v&&(v.is("element","ul")||v.is("element","ol"))){let C=null;for(const N of v.getChildren()){const B=c.toModelElement(N);if(B&&B.getAttribute("listIndent")>r.getAttribute("listIndent"))C=N;else break}C&&(d.breakContainer(d.createPositionAfter(C)),d.move(d.createRangeOn(C.parent),d.createPositionAt(e,"end")))}}Gn(d,s,s.nextSibling),Gn(d,s.previousSibling,s)}function Gn(r,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:r.mergeContainers(r.createPositionAfter(e))}function Gx(r){return r.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Yx(r,e){const t=!!e.sameIndent,n=!!e.smallerIndent,s=e.listIndent;let c=r;for(;c&&c.name=="listItem";){const d=c.getAttribute("listIndent");if(t&&s==d||n&&s>d)return c;e.direction==="forward"?c=c.nextSibling:c=c.previousSibling}return null}function Zx(r,e,t,n){r.ui.componentFactory.add(e,s=>{const c=r.commands.get(e),d=new je(s);return d.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.on("execute",()=>{r.execute(e),r.editing.view.focus()}),d})}function e9(r){for(const e of r.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Pk(r,e){const t=[],n=r.parent,s={ignoreElementEnd:!1,startPosition:r,shallow:!0,direction:e},c=n.getAttribute("listIndent"),d=[...new Ii(s)].filter(h=>h.item.is("element")).map(h=>h.item);for(const h of d){if(!h.is("element","listItem")||h.getAttribute("listIndent")<c)break;if(!(h.getAttribute("listIndent")>c)){if(h.getAttribute("listType")!==n.getAttribute("listType")||h.getAttribute("listStyle")!==n.getAttribute("listStyle")||h.getAttribute("listReversed")!==n.getAttribute("listReversed")||h.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(h):t.push(h)}}return t}function t9(r){let t=[...r.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const s=r.change(c=>c.createPositionAt(n,0));return[...Pk(s,"backward"),...Pk(s,"forward")]}).flat();return t=[...new Set(t)],t}const n9=["disc","circle","square"],i9=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function r9(r){return n9.includes(r)?"bulleted":i9.includes(r)?"numbered":null}function o9(){const r=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||r?0:y0.call(this)}const s9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',a9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class c9 extends Z{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Zx(this.editor,"numberedList",e("Numbered List"),s9),Zx(this.editor,"bulletedList",e("Bulleted List"),a9)}}const l9=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of l9);var Kx=a(5782),Ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ok.insert="head",Ok.singleton=!0,se()(Kx.Z,Ok),Kx.Z.locals;var Qx=a(9938),Bk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bk.insert="head",Bk.singleton=!0,se()(Qx.Z,Bk),Qx.Z.locals;var Jx=a(2591),zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zk.insert="head",zk.singleton=!0,se()(Jx.Z,zk),Jx.Z.locals;class Xx extends Ye{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const c=n[n.length-1];let d=c.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>c.getAttribute("listIndent");)n.push(d),d=d.nextSibling;this._indentBy<0&&(n=n.reverse());for(const h of n){const p=h.getAttribute("listIndent")+this._indentBy;p<0?s.rename(h,"paragraph"):s.setAttribute("listIndent",p,h)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=zt(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==n;s=s.previousSibling}return!1}return!0}}class eE extends Ye{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,s=Array.from(n.selection.getSelectedBlocks()).filter(d=>nE(d,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(c){let h=s[s.length-1].nextSibling,p=Number.POSITIVE_INFINITY,b=[];for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")!==0;){const v=h.getAttribute("listIndent");v<p&&(p=v);const C=v-p;b.push({element:h,listIndent:C}),h=h.nextSibling}b=b.reverse();for(const v of b)d.setAttribute("listIndent",v.listIndent,v.element)}if(!c){let h=Number.POSITIVE_INFINITY;for(const p of s)p.is("element","listItem")&&p.getAttribute("listIndent")<h&&(h=p.getAttribute("listIndent"));h=h===0?1:h,tE(s,!0,h),tE(s,!1,h)}for(const h of s.reverse())c&&h.name=="listItem"?d.rename(h,"paragraph"):!c&&h.name!="listItem"?(d.setAttributes({listType:this.type,listIndent:0},h),d.rename(h,"listItem")):!c&&h.name=="listItem"&&h.getAttribute("listType")!=this.type&&d.setAttribute("listType",this.type,h);this.fire("_executeCleanup",s)})}_getValue(){const e=zt(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=zt(e.getSelectedBlocks());return n?nE(n,t):!1}}function tE(r,e,t){const n=e?r[0]:r[r.length-1];if(n.is("element","listItem")){let s=n[e?"previousSibling":"nextSibling"],c=n.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)c>s.getAttribute("listIndent")&&(c=s.getAttribute("listIndent")),s.getAttribute("listIndent")==c&&r[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function nE(r,e){return e.checkChild(r.parent,"listItem")&&!e.isObject(r)}class d9 extends Z{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return r9(e)}getSelectedListItems(e){return t9(e)}getSiblingNodes(e,t){return Pk(e,t)}}function iE(r){return(e,t,n)=>{const s=n.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const c=t.item,d=X8(c,n);qx(c,d,n,r)}}function u9(r){return(e,t,n)=>{const d=n.mapper.toViewPosition(t.position).getLastMatchingPosition(B=>!B.item.is("element","li")).nodeAfter,h=n.writer;h.breakContainer(h.createPositionBefore(d)),h.breakContainer(h.createPositionAfter(d));const p=d.parent,b=p.previousSibling,v=h.createRangeOn(p),C=h.remove(v);b&&b.nextSibling&&Gn(h,b,b.nextSibling);const N=n.mapper.toModelElement(d);aE(N.getAttribute("listIndent")+1,t.position,v.start,d,n,r);for(const B of h.createRangeIn(C).getItems())n.mapper.unbindViewElement(B);e.stop()}}const h9=(r,e,t)=>{if(!t.consumable.test(e.item,r.name))return;const n=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(n)),s.breakContainer(s.createPositionAfter(n));const c=n.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(d,c)},f9=(r,e,t)=>{t.consumable.consume(e.item,r.name);const s=t.mapper.toViewElement(e.item).parent,c=t.writer;Gn(c,s,s.nextSibling),Gn(c,s.previousSibling,s)};function g9(r){return(e,t,n)=>{if(!n.consumable.consume(t.item,"attribute:listIndent"))return;const s=n.mapper.toViewElement(t.item),c=n.writer;c.breakContainer(c.createPositionBefore(s)),c.breakContainer(c.createPositionAfter(s));const d=s.parent,h=d.previousSibling,p=c.createRangeOn(d);c.remove(p),h&&h.nextSibling&&Gn(c,h,h.nextSibling),aE(t.attributeOldValue+1,t.range.start,p.start,s,n,r),qx(t.item,s,n,r);for(const b of t.item.getChildren())n.consumable.consume(b,"insert")}}const rE=(r,e,t)=>{if(t.consumable.test(e.item,r.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const s=t.writer,c=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=s.breakContainer(n),n.parent.name=="li");){const d=n,h=s.createPositionAt(n.parent,"end");if(!d.isEqual(h)){const p=s.remove(s.createRange(d,h));c.push(p)}n=s.createPositionAfter(n.parent)}if(c.length>0){for(let d=0;d<c.length;d++){const h=n.nodeBefore;if(n=s.insert(n,c[d]).end,d>0){const b=Gn(s,h,h.nextSibling);b&&b.parent==h&&n.offset--}}Gn(s,n.nodeBefore,n.nodeAfter)}}},p9=(r,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=n.nodeBefore,c=n.nodeAfter;Gn(t.writer,s,c)},m9=(r,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,s=n.createElement("listItem"),c=A9(e.viewItem);n.setAttribute("listIndent",c,s);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",d,s),!t.safeInsert(s,e.modelCursor))return;const h=v9(s,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,h),t.updateConversionResult(s,e)}},oE=(r,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const s of n)!(s.is("element","li")||Fs(s))&&s._remove()}},k9=(r,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let s=!1;for(const c of n)s&&!Fs(c)&&c._remove(),Fs(c)&&(s=!0)}};function sE(r){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const s=t.mapper.toViewElement(n),c=s.getAncestors().find(Fs),d=r.createPositionAt(s,0).getWalker();for(const h of d)if(h.type=="elementStart"&&h.item.is("element","li")){t.viewPosition=h.previousPosition;break}else if(h.type=="elementEnd"&&h.item==c){t.viewPosition=h.nextPosition;break}}}}function w9(r){return(e,t)=>{const n=t.viewPosition,s=n.parent,c=t.mapper;if(s.name=="ul"||s.name=="ol"){if(n.isAtEnd){const d=c.toModelElement(n.nodeBefore),h=c.getModelLength(n.nodeBefore);t.modelPosition=r.createPositionBefore(d).getShiftedBy(h)}else{const d=c.toModelElement(n.nodeAfter);t.modelPosition=r.createPositionBefore(d)}e.stop()}else if(s.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const d=c.toModelElement(s);let h=1,p=n.nodeBefore;for(;p&&Fs(p);)h+=c.getModelLength(p),p=p.previousSibling;t.modelPosition=r.createPositionBefore(d).getShiftedBy(h),e.stop()}}}function b9(r,e){const t=r.document.differ.getChanges(),n=new Map;let s=!1;for(const p of t)if(p.type=="insert"&&p.name=="listItem")c(p.position);else if(p.type=="insert"&&p.name!="listItem"){if(p.name!="$text"){const v=p.position.nodeAfter;v.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",v),s=!0),v.hasAttribute("listType")&&(e.removeAttribute("listType",v),s=!0),v.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",v),s=!0),v.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",v),s=!0),v.hasAttribute("listStart")&&(e.removeAttribute("listStart",v),s=!0);for(const C of Array.from(r.createRangeIn(v)).filter(N=>N.item.is("element","listItem")))c(C.previousPosition)}const b=p.position.getShiftedBy(p.length);c(b)}else p.type=="remove"&&p.name=="listItem"?c(p.position):(p.type=="attribute"&&p.attributeKey=="listIndent"||p.type=="attribute"&&p.attributeKey=="listType")&&c(p.range.start);for(const p of n.values())d(p),h(p);return s;function c(p){const b=p.nodeBefore;if(!b||!b.is("element","listItem")){const v=p.nodeAfter;v&&v.is("element","listItem")&&n.set(v,v)}else{let v=b;if(n.has(v))return;for(let C=v.previousSibling;C&&C.is("element","listItem");C=v.previousSibling)if(v=C,n.has(v))return;n.set(b,v)}}function d(p){let b=0,v=null;for(;p&&p.is("element","listItem");){const C=p.getAttribute("listIndent");if(C>b){let N;v===null?(v=C-b,N=b):(v>C&&(v=C),N=C-v),e.setAttribute("listIndent",N,p),s=!0}else v=null,b=p.getAttribute("listIndent")+1;p=p.nextSibling}}function h(p){let b=[],v=null;for(;p&&p.is("element","listItem");){const C=p.getAttribute("listIndent");if(v&&v.getAttribute("listIndent")>C&&(b=b.slice(0,C+1)),C!=0)if(b[C]){const N=b[C];p.getAttribute("listType")!=N&&(e.setAttribute("listType",N,p),s=!0)}else b[C]=p.getAttribute("listType");v=p,p=p.nextSibling}}}const _9=function(r,[e,t]){const n=this;let s=e.is("documentFragment")?e.getChild(0):e,c;if(t?c=n.createSelection(t):c=n.document.selection,s&&s.is("element","listItem")){const d=c.getFirstPosition();let h=null;if(d.parent.is("element","listItem")?h=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(h=d.nodeBefore),h){const p=h.getAttribute("listIndent");if(p>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+p),s=s.nextSibling}}};function v9(r,e,t){const{writer:n,schema:s}=t;let c=n.createPositionAfter(r);for(const d of e)if(d.name=="ul"||d.name=="ol")c=t.convertItem(d,c).modelCursor;else{const h=t.convertItem(d,n.createPositionAt(r,"end")),p=h.modelRange.start.nodeAfter;p&&p.is("element")&&!s.checkChild(r,p.name)&&(h.modelCursor.parent.is("element","listItem")?r=h.modelCursor.parent:r=y9(h.modelCursor),c=n.createPositionAfter(r))}return c}function y9(r){const e=new Ii({startPosition:r});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function aE(r,e,t,n,s,c){const d=Yx(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:r}),h=s.mapper,p=s.writer,b=d?d.getAttribute("listIndent"):null;let v;if(!d)v=t;else if(b==r){const C=h.toViewElement(d).parent;v=p.createPositionAfter(C)}else{const C=c.createPositionAt(d,"end");v=h.toViewPosition(C)}v=Gx(v);for(const C of[...n.getChildren()])Fs(C)&&(v=p.move(p.createRangeOn(C),v).end,Gn(p,C,C.nextSibling),Gn(p,C.previousSibling,C))}function Fs(r){return r.is("element","ol")||r.is("element","ul")}function A9(r){let e=0,t=r.parent;for(;t;){if(t.is("element","li"))e++;else{const n=t.previousSibling;n&&n.is("element","li")&&e++}t=t.parent}return e}class C9 extends Z{static get pluginName(){return"ListEditing"}static get requires(){return[vu,Oi,d9]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;e.model.document.registerPostFixer(c=>b9(e.model,c)),n.mapper.registerViewToModelLength("li",Lk),t.mapper.registerViewToModelLength("li",Lk),n.mapper.on("modelToViewPosition",sE(n.view)),n.mapper.on("viewToModelPosition",w9(e.model)),t.mapper.on("modelToViewPosition",sE(n.view)),e.conversion.for("editingDowncast").add(c=>{c.on("insert",rE,{priority:"high"}),c.on("insert:listItem",iE(e.model)),c.on("attribute:listType:listItem",h9,{priority:"high"}),c.on("attribute:listType:listItem",f9,{priority:"low"}),c.on("attribute:listIndent:listItem",g9(e.model)),c.on("remove:listItem",u9(e.model)),c.on("remove",p9,{priority:"low"})}),e.conversion.for("dataDowncast").add(c=>{c.on("insert",rE,{priority:"high"}),c.on("insert:listItem",iE(e.model))}),e.conversion.for("upcast").add(c=>{c.on("element:ul",oE,{priority:"high"}),c.on("element:ol",oE,{priority:"high"}),c.on("element:li",k9,{priority:"high"}),c.on("element:li",m9)}),e.model.on("insertContent",_9,{priority:"high"}),e.commands.add("numberedList",new eE(e,"numbered")),e.commands.add("bulletedList",new eE(e,"bulleted")),e.commands.add("indentList",new Xx(e,"forward")),e.commands.add("outdentList",new Xx(e,"backward"));const s=n.view.document;this.listenTo(s,"enter",(c,d)=>{const h=this.editor.model.document,p=h.selection.getLastPosition().parent;h.selection.isCollapsed&&p.name=="listItem"&&p.isEmpty&&(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(s,"delete",(c,d)=>{if(d.direction!=="backward")return;const h=this.editor.model.document.selection;if(!h.isCollapsed)return;const p=h.getFirstPosition();if(!p.isAtStart)return;const b=p.parent;b.name!=="listItem"||b.previousSibling&&b.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(c,d)=>{const h=d.shiftKey?"outdentList":"indentList";this.editor.commands.get(h).isEnabled&&(e.execute(h),d.stopPropagation(),d.preventDefault(),c.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function Lk(r){let e=1;for(const t of r.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=Lk(n);return e}class x9 extends Z{static get requires(){return[C9,c9]}static get pluginName(){return"List"}}lc("Ctrl+Enter");var cE=a(9292),jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jk.insert="head",jk.singleton=!0,se()(cE.Z,jk),cE.Z.locals,lc("Ctrl+Enter");function lE(r,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=s.attributeNewValue,h=c.writer,p=c.mapper.toViewElement(s.item),b=[...p.getChildren()].find(C=>C.getCustomProperty("media-content"));h.remove(b);const v=r.getMediaViewElement(h,d,e);h.insert(h.createPositionAt(p,0),v)};return n=>{n.on("attribute:url:media",t)}}function E9(r,e,t){return e.setCustomProperty("media",!0,r),$m(r,e,{label:t})}function dE(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function uE(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function hE(r,e,t,n){r.change(s=>{const c=s.createElement("media",{url:e});r.insertObject(c,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class S9 extends Ye{refresh(){const e=this.editor.model,t=e.document.selection,n=uE(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=T9(t)||D9(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,s=uE(n);s?t.change(c=>{c.setAttribute("url",e,s)}):hE(t,e,n,!0)}}function D9(r,e){let n=Wm(r,e).start.parent;return n.isEmpty&&!e.schema.isLimit(n)&&(n=n.parent),e.schema.checkChild(n,"media")}function T9(r){const e=r.getSelectedElement();return!!e&&e.name==="media"}const I9='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',M9="0 0 64 42";class N9{constructor(e,t){const n=t.providers,s=t.extraProviders||[],c=new Set(t.removeProviders),d=n.concat(s).filter(h=>{const p=h.name;return p?!c.has(p):(Te("media-embed-no-provider-name",{provider:h}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new fE(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,s=Bt(t.url);for(const c of s){const d=this._getUrlMatches(e,c);if(d)return new fE(this.locale,e,d,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let s=e.replace(/^https?:\/\//,"");return n=s.match(t),n||(s=s.replace(/^www\./,""),n=s.match(t),n)?n:null}}class fE{constructor(e,t,n,s){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=s}getViewElement(e,t){const n={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const c=this._getPreviewHtml(t);s=e.createRawElement("div",n,(d,h)=>{h.setContentOf(d,c)})}else this.url&&(n.url=this.url),s=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new nr,t=this._locale.t;return e.content=I9,e.viewBox=M9,new Pi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var gE=a(1922),Rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rk.insert="head",Rk.singleton=!0,se()(gE.Z,Rk),gE.Z.locals;class Mu extends Z{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new N9(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,s=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),h=this.registry;e.commands.add("mediaEmbed",new S9(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(p,{writer:b})=>{const v=p.getAttribute("url");return dE(b,h,v,{elementName:d,renderMediaPreview:!!v&&c})}}),s.for("dataDowncast").add(lE(h,{elementName:d,renderMediaPreview:c})),s.for("editingDowncast").elementToStructure({model:"media",view:(p,{writer:b})=>{const v=p.getAttribute("url"),C=dE(b,h,v,{elementName:d,renderForEditingView:!0});return E9(C,b,n("media widget"))}}),s.for("editingDowncast").add(lE(h,{elementName:d,renderForEditingView:!0})),s.for("upcast").elementToElement({view:p=>["oembed",d].includes(p.name)&&p.getAttribute("url")?{name:!0}:null,model:(p,{writer:b})=>{const v=p.getAttribute("url");return h.hasMedia(v)?b.createElement("media",{url:v}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(p,{writer:b})=>{const v=p.getAttribute("data-oembed-url");return h.hasMedia(v)?b.createElement("media",{url:v}):null}}).add(p=>{const b=(v,C,N)=>{if(!N.consumable.consume(C.viewItem,{name:!0,classes:"media"}))return;const{modelRange:B,modelCursor:R}=N.convertChildren(C.viewItem,C.modelCursor);C.modelRange=B,C.modelCursor=R,zt(B.getItems())||N.consumable.revert(C.viewItem,{name:!0,classes:"media"})};p.on("element:figure",b)})}}const P9=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class O9 extends Z{static get requires(){return[Jm,Oi,Xm]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const c=t.selection.getFirstRange(),d=Et.fromPosition(c.start);d.stickiness="toPrevious";const h=Et.fromPosition(c.end);h.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(d,h),d.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(le.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,s=n.plugins.get(Mu).registry,c=new hn(e,t),d=c.getWalker({ignoreElementEnd:!0});let h="";for(const b of d)b.item.is("$textProxy")&&(h+=b.item.data);if(h=h.trim(),!h.match(P9)){c.detach();return}if(!s.hasMedia(h)){c.detach();return}if(!n.commands.get("mediaEmbed").isEnabled){c.detach();return}this._positionToInsert=Et.fromPosition(e),this._timeoutId=le.window.setTimeout(()=>{n.model.change(b=>{this._timeoutId=null,b.remove(c),c.detach();let v=null;this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert),hE(n.model,h,v,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Oi).requestUndoOnBackspace()},100)}}var pE=a(7138),Fk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fk.insert="head",Fk.singleton=!0,se()(pE.Z,Fk),pE.Z.locals;class B9 extends pe{constructor(e,t){super(t);const n=t.t;this.focusTracker=new un,this.keystrokes=new si,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ye.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(n("Cancel"),ye.cancel,"ck-button-cancel","cancel"),this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),su({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const t=n=>n.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Tc(this.locale,Ic),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,s){const c=new je(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}}const z9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class L9 extends Z{static get requires(){return[Mu]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const s=Nr(n);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const n=this.editor,s=n.t,c=e.buttonView,d=n.plugins.get(Mu).registry;e.once("change:isOpen",()=>{const h=new(Hp(B9))(j9(n.t,d),n.locale);e.panelView.children.add(h),c.on("open",()=>{h.disableCssTransitions(),h.url=t.value||"",h.urlInputView.fieldView.select(),h.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{h.isValid()&&(n.execute("mediaEmbed",h.url),n.editing.view.focus())}),e.on("change:isOpen",()=>h.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),h.delegate("submit","cancel").to(e),h.urlInputView.fieldView.bind("value").to(t,"value"),h.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),c.set({label:s("Insert media"),icon:z9,tooltip:!0})}}function j9(r,e){return[t=>{if(!t.url.length)return r("The URL must not be empty.")},t=>{if(!e.hasMedia(t.url))return r("This media URL is not supported.")}]}var mE=a(8705),Vk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vk.insert="head",Vk.singleton=!0,se()(mE.Z,Vk),mE.Z.locals;class R9 extends Z{static get requires(){return[Mu,L9,O9,Bc]}static get pluginName(){return"MediaEmbed"}}function F9(r,e){if(!r.childCount)return;const t=new zo(r.document),n=U9(r,t);if(!n.length)return;let s=null,c=1;n.forEach((d,h)=>{const p=K9(n[h-1],d),b=p?null:n[h-1],v=J9(b,d);if(p&&(s=null,c=1),!s||v!==0){const N=H9(d,e);if(!s)s=kE(N,d.element,t);else if(d.indent>c){const B=s.getChild(s.childCount-1),R=B.getChild(B.childCount-1);s=kE(N,R,t),c+=1}else if(d.indent<c){const B=c-d.indent;s=X9(s,B),c=d.indent}d.indent<=c&&(s.is("element",N.type)||(s=t.rename(N.type,s)))}const C=G9(d.element,t);t.appendChild(C,s)})}function V9(r,e){for(const t of e.createRangeIn(r)){const n=t.item;if(n.is("element","li")){const s=n.getChild(0);s&&s.is("element","p")&&e.unwrapElement(s)}}}function U9(r,e){const t=e.createRangeIn(r),n=new Wn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),s=[];for(const c of t)if(c.type==="elementStart"&&n.match(c.item)){const d=Y9(c.item);s.push({element:c.item,id:d.id,order:d.order,indent:d.indent})}return s}function H9(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,s=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,c=t.exec(e);let d="decimal",h="ol",p=null;if(c&&c[1]){const b=n.exec(c[1]);if(b&&b[1]&&(d=b[1].trim(),h=d!=="bullet"&&d!=="image"?"ol":"ul"),d==="bullet"){const v=$9(r.element);v&&(d=v)}else{const v=s.exec(c[1]);v&&v[1]&&(p=parseInt(v[1]))}}return{type:h,startIndex:p,style:q9(d)}}function $9(r){const e=W9(r);if(!e)return null;const t=e._data;return t==="o"?"circle":t===""?"disc":t===""?"square":null}function W9(r){if(r.getChild(0).is("$text"))return null;for(const e of r.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}function q9(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function kE(r,e,t){const n=e.parent,s=t.createElement(r.type),c=n.getChildIndex(e)+1;return t.insertChild(c,s,n),r.style&&t.setStyle("list-style-type",r.style,s),r.startIndex&&r.startIndex>1&&t.setAttribute("start",r.startIndex,s),s}function G9(r,e){return Z9(r,e),e.removeStyle("text-indent",r),e.rename("li",r)}function Y9(r){const e={},t=r.getStyle("mso-list");if(t){const n=t.match(/(^|\s{1,100})l(\d+)/i),s=t.match(/\s{0,100}lfo(\d+)/i),c=t.match(/\s{0,100}level(\d+)/i);n&&s&&c&&(e.id=n[2],e.order=s[1],e.indent=parseInt(c[1]))}return e}function Z9(r,e){const t=new Wn({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const s of n)s.type==="elementStart"&&t.match(s.item)&&e.remove(s.item)}function K9(r,e){if(!r)return!0;if(r.id!==e.id)return e.indent-r.indent!==1;const t=e.element.previousSibling;return t?!Q9(t):!0}function Q9(r){return r.is("element","ol")||r.is("element","ul")}function J9(r,e){return r?e.indent-r.indent:e.indent-1}function X9(r,e){const t=r.getAncestors({parentFirst:!0});let n=null,s=0;for(const c of t)if((c.is("element","ul")||c.is("element","ol"))&&s++,s===e){n=c;break}return n}function eU(r,e){if(!r.childCount)return;const t=new zo(r.document),n=nU(r,t);iU(n,r,t),oU(n,r,t),rU(r,t);const s=sU(r,t);s.length&&cU(s,aU(e),t)}function tU(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function nU(r,e){const t=e.createRangeIn(r),n=new Wn({name:/v:(.+)/}),s=[];for(const c of t){if(c.type!="elementStart")continue;const d=c.item,h=d.previousSibling,p=h&&h.is("element")?h.name:null;n.match(d)&&d.getAttribute("o:gfxdata")&&p!=="v:shapetype"&&s.push(c.item.getAttribute("id"))}return s}function iU(r,e,t){const n=t.createRangeIn(e),s=new Wn({name:"img"}),c=[];for(const d of n)if(d.item.is("element")&&s.match(d.item)){const h=d.item,p=h.getAttribute("v:shapes")?h.getAttribute("v:shapes").split(" "):[];p.length&&p.every(b=>r.indexOf(b)>-1)?c.push(h):h.getAttribute("src")||c.push(h)}for(const d of c)t.remove(d)}function rU(r,e){const t=e.createRangeIn(r),n=new Wn({name:/v:(.+)/}),s=[];for(const c of t)c.type=="elementStart"&&n.match(c.item)&&s.push(c.item);for(const c of s)e.remove(c)}function oU(r,e,t){const n=t.createRangeIn(e),s=[];for(const h of n)if(h.type=="elementStart"&&h.item.is("element","v:shape")){const p=h.item.getAttribute("id");if(r.includes(p))continue;c(h.item.parent.getChildren(),p)||s.push(h.item)}for(const h of s){const p={src:d(h)};h.hasAttribute("alt")&&(p.alt=h.getAttribute("alt"));const b=t.createElement("img",p);t.insertChild(h.index+1,b,h.parent)}function c(h,p){for(const b of h)if(b.is("element")&&(b.name=="img"&&b.getAttribute("v:shapes")==p||c(b.getChildren(),p)))return!0;return!1}function d(h){for(const p of h.getChildren())if(p.is("element")&&p.getAttribute("src"))return p.getAttribute("src")}}function sU(r,e){const t=e.createRangeIn(r),n=new Wn({name:"img"}),s=[];for(const c of t)c.item.is("element")&&n.match(c.item)&&c.item.getAttribute("src").startsWith("file://")&&s.push(c.item);return s}function aU(r){if(!r)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,t=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),n=r.match(t),s=[];if(n)for(const c of n){let d=!1;c.includes("\\pngblip")?d="image/png":c.includes("\\jpegblip")&&(d="image/jpeg"),d&&s.push({hex:c.replace(e,"").replace(/[^\da-fA-F]/g,""),type:d})}return s}function cU(r,e,t){if(r.length===e.length)for(let n=0;n<r.length;n++){const s=`data:${e[n].type};base64,${tU(e[n].hex)}`;t.setAttribute("src",s,r[n])}}const lU=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,dU=/xmlns:o="urn:schemas-microsoft-com/i;class uU{constructor(e){this.document=e}isActive(e){return lU.test(e)||dU.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;F9(t,n),eU(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function hU(r,e){for(const t of r.getChildren())if(t.is("element","b")&&t.getStyle("font-weight")==="normal"){const n=r.getChildIndex(t);e.remove(t),e.insertChild(n,t.getChildren(),r)}}function fU(r,e){const t=new Yd(e.document.stylesProcessor),n=new Qd(t,{renderingMode:"data"}),s=n.blockElements,c=n.inlineObjectElements,d=[];for(const h of e.createRangeIn(r)){const p=h.item;if(p.is("element","br")){const b=wE(p,"forward",e,{blockElements:s,inlineObjectElements:c}),v=wE(p,"backward",e,{blockElements:s,inlineObjectElements:c}),C=bE(b,s);(bE(v,s)||C)&&d.push(p)}}for(const h of d)h.hasClass("Apple-interchange-newline")?e.remove(h):e.replace(h,e.createElement("p"))}function wE(r,e,t,{blockElements:n,inlineObjectElements:s}){let c=t.createPositionAt(r,e=="forward"?"after":"before");return c=c.getLastMatchingPosition(({item:d})=>d.is("element")&&!n.includes(d.name)&&!s.includes(d.name),{direction:e}),e=="forward"?c.nodeAfter:c.nodeBefore}function bE(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const gU=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class pU{constructor(e){this.document=e}isActive(e){return gU.test(e)}execute(e){const t=new zo(this.document),{body:n}=e._parsedData;hU(n,t),V9(n,t),fU(n,t),e.content=n}}function mU(r,e){for(const t of r.getChildren())t.is("element","table")&&t.hasAttribute("xmlns")&&e.removeAttribute("xmlns",t)}function kU(r,e){for(const t of r.getChildren())if(t.is("element","google-sheets-html-origin")){const n=r.getChildIndex(t);e.remove(t),e.insertChild(n,t.getChildren(),r)}}function wU(r,e){for(const t of r.getChildren())t.is("element","table")&&t.getStyle("width")==="0px"&&e.removeStyle("width",t)}function bU(r,e){for(const t of Array.from(r.getChildren()))t.is("element","style")&&e.remove(t)}const _U=/<google-sheets-html-origin/i;class vU{constructor(e){this.document=e}isActive(e){return _U.test(e)}execute(e){const t=new zo(this.document),{body:n}=e._parsedData;kU(n,t),mU(n,t),wU(n,t),bU(n,t),e.content=n}}function yU(r){return _E(_E(r)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function AU(r){r.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e,n=t.innerText.length||0;t.innerText=Array(n+1).join(" ").substr(0,n)})}function _E(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join(" ").substr(0,t.length))}function CU(r,e){const t=new DOMParser;r=r.replace(/<!--\[if gte vml 1]>/g,"");const n=yU(SU(r)),s=t.parseFromString(n,"text/html");AU(s);const c=s.body.innerHTML,d=xU(s,e),h=EU(s);return{body:d,bodyString:c,styles:h.styles,stylesString:h.stylesString}}function xU(r,e){const t=new Yd(e),n=new Qd(t,{renderingMode:"data"}),s=r.createDocumentFragment(),c=r.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);return n.domToView(s,{skipComments:!0})}function EU(r){const e=[],t=[],n=Array.from(r.getElementsByTagName("style"));for(const s of n)s.sheet&&s.sheet.cssRules&&s.sheet.cssRules.length&&(e.push(s.sheet),t.push(s.innerHTML));return{styles:e,stylesString:t.join(" ")}}function SU(r){const e="</body>",t="</html>",n=r.indexOf(e);if(n<0)return r;const s=r.indexOf(t,n+e.length);return r.substring(0,n+e.length)+(s>=0?r.substring(s):"")}class DU extends Z{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Bi]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),n=e.editing.view.document,s=[];s.push(new uU(n)),s.push(new pU(n)),s.push(new vU(n)),t.on("inputTransformation",(c,d)=>{if(d._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const p=d.dataTransfer.getData("text/html"),b=s.find(v=>v.isActive(p));b&&(d._parsedData||(d._parsedData=CU(p,n.stylesProcessor)),b.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}class Uk extends pu{}Uk.builtinPlugins=[m6,S7,Vx,B6,G7,J6,j6,o7,h7,_7,R7,H7,kV,yV,OV,BV,ex,RV,U6,$8,Q8,x9,R9,zc,DU,S6],Uk.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","alignment","|","imageInsert","blockQuote","mediaEmbed","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}};const TU=Uk})(),l=l.default,l})());const VY=(bt.exports==null?{}:bt.exports).default||bt.exports;(bt.exports==null?{}:bt.exports).undefined;function g5({handleChange:o,post:i}){return H.jsxs("form",{children:[H.jsxs("div",{className:"input",children:[H.jsx("label",{htmlFor:"title"}),H.jsx("input",{placeholder:"Title",onChange:o,value:i.title,type:"text",id:"title",name:"title"})]}),H.jsxs("div",{className:"input",children:[H.jsxs("div",{className:"input",children:[H.jsx("label",{htmlFor:"img"}),H.jsx("input",{placeholder:"Image URL (optional)",onChange:o,value:i.img,type:"text",id:"img_url",name:"img"})]}),H.jsx("div",{className:"ckeditor-container",children:H.jsx(FY.CKEditor,{config:{mediaEmbed:{previewsInData:!0},placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0}},editor:VY,data:i.content?i.content:"",onReady:a=>{console.log("Editor is ready to use!",a)},onChange:(a,l)=>{l.getData(),o(l)}})})]}),H.jsxs("div",{className:"radio-container",children:[H.jsx("input",{onChange:o,type:"radio",id:"general",name:"category",value:"general"}),H.jsx("label",{className:"radio",htmlFor:"general",children:"General (default)"}),H.jsx("br",{}),H.jsx("input",{onChange:o,type:"radio",id:"review",name:"category",value:"review"}),H.jsx("label",{className:"radio",onChange:o,htmlFor:"review",children:"Review"}),H.jsx("br",{}),H.jsx("input",{onChange:o,type:"radio",id:"recommend",name:"category",value:"recommend"}),H.jsx("label",{className:"radio",htmlFor:"recommend",children:"Recommend"}),H.jsx("br",{})]})]})}function UY({supabase:o}){const[i,a]=J.useState({title:"",content:"",img:""}),l=Da(),{state:u}=Ul();J.useEffect(()=>{u&&a({title:`${u.title} ~ ${u.author}`,content:u.description,img:u.cover_key?u.cover_url:""})},[]);const f=m=>{let k,w;m.target?(k=m.target.name,w=m.target.value):(k="content",w=m.getData()),console.log("name: ",k," value: ",w),a(A=>({...A,[k]:w}))},g=async()=>{await o.from("posts").insert({title:i.title,content:i.content,img:i.img,category:i.category}),alert("Post inserted into database!"),l("/")};return H.jsx(H.Fragment,{children:H.jsxs("div",{className:"create-container",children:[H.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",H.jsx("span",{className:"pastel-orange",children:"Post"})]}),H.jsx(g5,{handleChange:f,post:i}),H.jsx("button",{className:"btn red-button darkAccent",onClick:g,post:i,children:"Create Post"}),H.jsx(Xo,{to:"/getBookInfo",children:H.jsx("button",{className:"btn orange-button",children:"Get Book Info"})})]})})}const p5=(o,i)=>{(o.keyCode||o.which)===13&&i()};function HY({title:o,author:i,cover_url:a,cover_key:l,description:u}){const f=Da(),g=()=>{f("/create",{state:{title:o,author:i,cover_url:a,description:u,cover_key:l}})};return H.jsxs("div",{onClick:g,className:"book",children:[H.jsxs("div",{children:[H.jsx("h4",{className:"pastel-black",children:o}),H.jsxs("h5",{children:["By: ",i]}),H.jsx("p",{children:u})]}),H.jsx("img",{src:l?a:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}const $Y="/Book-Chronicles/assets/arrow-up-0fb140ce.png",WY=()=>{const[o,i]=J.useState(!1);J.useEffect(()=>{const l=()=>{window.scrollY>200?i(!0):i(!1)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return H.jsx("div",{children:H.jsx("img",{className:`back-to-top-button ${o?"show-back-to-top":""}`,onClick:a,src:$Y})})};function qY(){const[o,i]=J.useState(""),[a,l]=J.useState([]),u=m=>{i(m.target.value)},f=async()=>{const k=await(await fetch(`https://openlibrary.org/search.json?q=${o}`)).json();l([]),i("");for(const w of k.docs)setTimeout(async()=>{const _=await(await fetch(`https://openlibrary.org${w.key}.json`)).json();let y;_.description&&(y=_.description,typeof y!="string"&&(y=_.description.value));const x=await fetch(`https://covers.openlibrary.org/b/olid/${w.cover_edition_key}-M.jpg`),S={key:_.key,title:_.title,author:w.author_name?w.author_name[0]:"",cover_url:x.url,description:y,cover_key:w.cover_edition_key};l(T=>[...T,S])},1e3)},g=()=>a.map((k,w)=>H.jsx(HY,{title:k.title,author:k.author,cover_url:k.cover_url,cover_key:k.cover_key,description:k.description},w));return H.jsxs(H.Fragment,{children:[H.jsx("h1",{className:"book-info-title pastel-black",children:H.jsxs("b",{children:["Grab a ",H.jsx("span",{className:"pastel-orange",children:"Book"})]})}),H.jsxs("div",{className:"search-bar",children:[H.jsx("label",{htmlFor:"title"}),H.jsx("input",{value:o,placeholder:"Search for a book...",className:"book-input",onKeyUp:m=>{p5(m,f)},onChange:u,type:"text",name:"title"}),H.jsx("button",{className:"btn orange-button",onClick:f,children:"Search"})]}),H.jsx("div",{className:"books-container",children:g()})]})}function GY({date:o,comment:i}){return H.jsxs("div",{className:"comment",children:[H.jsxs("small",{children:["~ ",Xh(o)?Xh(o):""]}),H.jsx("p",{children:i})]})}const YY="/Book-Chronicles/assets/trash-2415bf1a.png",ZY="/Book-Chronicles/assets/edit-727f5020.png";function KY({supabase:o}){const[i,a]=J.useState({}),[l,u]=J.useState(!1),[f,g]=J.useState([]),[m,k]=J.useState(""),{id:w}=tI(),A=Da(),_=async()=>{const{data:F,error:$}=await o.from("posts").select().eq("id",w);console.log(F),a(F[0])},y=async()=>{const{data:F,error:$}=await o.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",w);console.log("Comment data:",F),g(F)};J.useEffect(()=>{_(),y()},[]);const x=async()=>{l||(await o.from("posts").update({vote:i.vote+1}).eq("id",w),console.log("vote has been updated..."),u(!0),a({...i,vote:i.vote+1}))},S=F=>{k(F.target.value),console.log(F.target.value)},T=async()=>{confirm("Are you sure you want to delete this post?")?(await o.from("posts").delete().eq("id",w),A("/")):console.log("delete is cancelled")},O=async()=>{await o.from("comments").insert({post_id:w,comment:m}),console.log("Comment is inserted into database..."),y(),k("")},I=f.map(F=>H.jsx(GY,{date:F.created_at,comment:F.comment},F.id));let M="back-pastel-green pastel-green";i.category=="review"?M="back-pastel-purple pastel-purple":i.category=="recommend"&&(M="back-pastel-red pastel-red");function P(){return{__html:i.content}}function j(){return H.jsx("div",{dangerouslySetInnerHTML:P()})}return H.jsx("div",{className:"post-container",children:H.jsxs("div",{className:"post",children:[H.jsxs("div",{className:"post-tags",children:[H.jsxs("p",{children:["Posted ",i.created_at?Xh(i.created_at):" "]}),H.jsxs("p",{className:`post-category ${M}`,children:["#",i.category]})]}),H.jsx("h2",{className:"pastel-black",children:i.title}),H.jsx("img",{className:"post-image",src:i.img}),H.jsx("p",{children:j()}),H.jsx("div",{}),H.jsxs("div",{className:"action-images",children:[H.jsxs("div",{onClick:x,className:"pastel-red like-image",children:[H.jsx("img",{src:f5})," ",H.jsxs("b",{children:[i.vote," ",i.vote!==1?"likes":"like"]})]}),H.jsxs("div",{children:[H.jsxs(Xo,{className:"edit-image-link",to:`/post/${i.id}/edit`,children:[" ",H.jsx("img",{className:"edit-image",src:ZY})," "]}),H.jsx("img",{onClick:T,className:"delete-image",src:YY})]})]}),H.jsxs("div",{className:"comments-section",children:[H.jsx("div",{className:"insert-comment-container",children:H.jsx("input",{onKeyUp:F=>{p5(F,O)},value:m,onChange:S,placeholder:"Leave a comment...",type:"text"})}),H.jsx("div",{className:"comments-container",children:I})]})]})})}function QY({supabase:o}){const[i,a]=J.useState({title:"",content:"",img:""}),l=Da(),{id:u}=tI(),f=async()=>{const{data:k,error:w}=await o.from("posts").select().eq("id",u);console.log(k),a(k[0])};J.useEffect(()=>{f()},[]);const g=k=>{let w,A;k.target?(w=k.target.name,A=k.target.value):(w="content",A=k.getData()),console.log("Name: ",w," value: ",A),a(_=>({..._,[w]:A})),console.log(A)},m=async()=>{await o.from("posts").update({title:i.title,content:i.content,img:i.img,category:i.category}).eq("id",u),alert("successfully updated!"),l(`/post/${u}`)};return H.jsx("div",{children:H.jsxs("div",{className:"create-container",children:[H.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",H.jsx("span",{className:"pastel-orange",children:"Post"})]}),H.jsx(g5,{handleChange:g,post:i}),H.jsx("button",{className:"btn orange-button",onClick:m,children:"Update Post"})]})})}function JY(){return H.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-sm navbar-light",children:[H.jsx(Xo,{to:"/",children:H.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),H.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto",children:H.jsx("h3",{children:"Bookshelf Chronicles"})}),H.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:H.jsx("span",{className:"navbar-toggler-icon"})}),H.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:H.jsxs("div",{className:"navbar-nav",children:[H.jsxs(Xo,{to:"/",className:"nav-item nav-link",href:"#",children:["Home ",H.jsx("span",{className:"sr-only",children:"(current)"})]}),H.jsx(Xo,{to:"/create",className:"nav-item nav-link",href:"#",children:"Create"}),H.jsx(Xo,{to:"/getBookInfo",className:"nav-item nav-link",href:"#",children:"Get Book"})]})}),H.jsx(WY,{})]})}const XY="modulepreload",eZ=function(o){return"/Book-Chronicles/"+o},mS={},Gl=function(i,a,l){if(!a||a.length===0)return i();const u=document.getElementsByTagName("link");return Promise.all(a.map(f=>{if(f=eZ(f),f in mS)return;mS[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(!!l)for(let A=u.length-1;A>=0;A--){const _=u[A];if(_.href===f&&(!g||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${m}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":XY,g||(w.as="script",w.crossOrigin=""),w.href=f,document.head.appendChild(w),g)return new Promise((A,_)=>{w.addEventListener("load",A),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>i()).catch(f=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f})},tZ=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Gl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)};class G_ extends Error{constructor(i,a="FunctionsError",l){super(i),this.name=a,this.context=l}}class nZ extends G_{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class iZ extends G_{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class rZ extends G_{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var oZ=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};class sZ{constructor(i,{headers:a={},customFetch:l}={}){this.url=i,this.headers=a,this.fetch=tZ(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,a={}){var l;return oZ(this,void 0,void 0,function*(){try{const{headers:u,method:f,body:g}=a;let m={},k;g&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",k=g):typeof g=="string"?(m["Content-Type"]="text/plain",k=g):typeof FormData<"u"&&g instanceof FormData?k=g:(m["Content-Type"]="application/json",k=JSON.stringify(g)));const w=yield this.fetch(`${this.url}/${i}`,{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:k}).catch(x=>{throw new nZ(x)}),A=w.headers.get("x-relay-error");if(A&&A==="true")throw new iZ(w);if(!w.ok)throw new rZ(w);let _=((l=w.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),y;return _==="application/json"?y=yield w.json():_==="application/octet-stream"?y=yield w.blob():_==="multipart/form-data"?y=yield w.formData():y=yield w.text(),{data:y,error:null}}catch(u){return{data:null,error:u}}})}}var jb={exports:{}};(function(o,i){var a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Zs<"u")return Zs;throw new Error("unable to locate global object")},l=a();o.exports=i=l.fetch,l.fetch&&(i.default=l.fetch.bind(l)),i.Headers=l.Headers,i.Request=l.Request,i.Response=l.Response})(jb,jb.exports);var Y_=jb.exports;const Z_=PS(Y_),Yl=NS({__proto__:null,default:Z_},[Y_]);class aZ{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=Z_:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,m,k;let w=null,A=null,_=null,y=f.status,x=f.statusText;if(f.ok){if(this.method!=="HEAD"){const I=await f.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=I:A=JSON.parse(I))}const T=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),O=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(w={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,_=null,y=406,x="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const T=await f.text();try{w=JSON.parse(T),Array.isArray(w)&&f.status===404&&(A=[],w=null,y=200,x="OK")}catch{f.status===404&&T===""?(y=204,x="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((k=w==null?void 0:w.details)===null||k===void 0)&&k.includes("0 rows"))&&(w=null,y=200,x="OK"),w&&this.shouldThrowOnError)throw w}return{error:w,data:A,count:_,status:y,statusText:x}});return this.shouldThrowOnError||(u=u.catch(f=>{var g,m,k;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(k=f==null?void 0:f.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}}class cZ extends aZ{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u}={}){const f=u?`${u}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:l}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:g="text"}={}){const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),k=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${k}"; options=${m};`,g==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ys extends cZ{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=a.map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const g=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${g}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}class lZ{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=a,this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let f=!1;const g=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",g),l&&(this.headers.Prefer=`count=${l}`),new Ys({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:l=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const g=i.reduce((m,k)=>m.concat(Object.keys(k)),[]);if(g.length>0){const m=[...new Set(g)].map(k=>`"${k}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ys({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){const g="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const k=i.reduce((w,A)=>w.concat(Object.keys(A)),[]);if(k.length>0){const w=[...new Set(k)].map(A=>`"${A}"`);this.url.searchParams.set("columns",w.join(","))}}return new Ys({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new Ys({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Ys({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const dZ="1.8.5",uZ={"X-Client-Info":`postgrest-js/${dZ}`};class K_{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=Object.assign(Object.assign({},uZ),a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new lZ(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new K_(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,count:u}={}){let f;const g=new URL(`${this.url}/rpc/${i}`);let m;l?(f="HEAD",Object.entries(a).forEach(([w,A])=>{g.searchParams.append(w,`${A}`)})):(f="POST",m=a);const k=Object.assign({},this.headers);return u&&(k.Prefer=`count=${u}`),new Ys({method:f,url:g,headers:k,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var Cw,kS;function hZ(){if(kS)return Cw;kS=1;var o=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Cw=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return o()}try{return __global__||o()}finally{delete Object.prototype.__global__}}(),Cw}const fZ="websocket",gZ="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",pZ=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],mZ="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",kZ=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],wZ="1.0.34",bZ={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},_Z="https://github.com/theturtle32/WebSocket-Node",vZ={node:">=4.0.0"},yZ={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},AZ={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},CZ={verbose:!1},xZ={test:"tape test/unit/*.js",gulp:"gulp"},EZ="index",SZ={lib:"./lib"},DZ="lib/browser.js",TZ="Apache-2.0",IZ={name:fZ,description:gZ,keywords:pZ,author:mZ,contributors:kZ,version:wZ,repository:bZ,homepage:_Z,engines:vZ,dependencies:yZ,devDependencies:AZ,config:CZ,scripts:xZ,main:EZ,directories:SZ,browser:DZ,license:TZ};var MZ=IZ.version,Yo;if(typeof globalThis=="object")Yo=globalThis;else try{Yo=hZ()}catch{}finally{if(!Yo&&typeof window<"u"&&(Yo=window),!Yo)throw new Error("Could not determine global this")}var Ol=Yo.WebSocket||Yo.MozWebSocket,NZ=MZ;function m5(o,i){var a;return i?a=new Ol(o,i):a=new Ol(o),a}Ol&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(o){Object.defineProperty(m5,o,{get:function(){return Ol[o]}})});var PZ={w3cwebsocket:Ol?m5:null,version:NZ};const OZ="2.8.4",BZ={"X-Client-Info":`realtime-js/${OZ}`},zZ="1.0.0",k5=1e4,LZ=1e3;var fl;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(fl||(fl={}));var Mn;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Mn||(Mn={}));var mi;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(mi||(mi={}));var Rb;(function(o){o.websocket="websocket"})(Rb||(Rb={}));var Zo;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Zo||(Zo={}));class w5{constructor(i,a){this.callback=i,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class jZ{constructor(){this.HEADER_LENGTH=1}decode(i,a){return i.constructor===ArrayBuffer?a(this._binaryDecode(i)):a(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const a=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,a,l)}_decodeBroadcast(i,a,l){const u=a.getUint8(1),f=a.getUint8(2);let g=this.HEADER_LENGTH+2;const m=l.decode(i.slice(g,g+u));g=g+u;const k=l.decode(i.slice(g,g+f));g=g+f;const w=JSON.parse(l.decode(i.slice(g,i.byteLength)));return{ref:null,topic:m,event:k,payload:w}}}class xw{constructor(i,a,l={},u=k5){this.channel=i,this.event=a,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,a){var l;return this._hasReceived(i)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:a}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(a))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var wS;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(wS||(wS={}));class gl{constructor(i,a){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:f,onLeave:g,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,u,f,g),this.pendingDiffs.forEach(k=>{this.state=gl.syncDiff(this.state,k,f,g)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:f,onLeave:g,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=gl.syncDiff(this.state,u,f,g),m())}),this.onJoin((u,f,g)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:g})}),this.onLeave((u,f,g)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,a,l,u){const f=this.cloneDeep(i),g=this.transformState(a),m={},k={};return this.map(f,(w,A)=>{g[w]||(k[w]=A)}),this.map(g,(w,A)=>{const _=f[w];if(_){const y=A.map(O=>O.presence_ref),x=_.map(O=>O.presence_ref),S=A.filter(O=>x.indexOf(O.presence_ref)<0),T=_.filter(O=>y.indexOf(O.presence_ref)<0);S.length>0&&(m[w]=S),T.length>0&&(k[w]=T)}else m[w]=A}),this.syncDiff(f,{joins:m,leaves:k},l,u)}static syncDiff(i,a,l,u){const{joins:f,leaves:g}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(f,(m,k)=>{var w;const A=(w=i[m])!==null&&w!==void 0?w:[];if(i[m]=this.cloneDeep(k),A.length>0){const _=i[m].map(x=>x.presence_ref),y=A.filter(x=>_.indexOf(x.presence_ref)<0);i[m].unshift(...y)}l(m,A,k)}),this.map(g,(m,k)=>{let w=i[m];if(!w)return;const A=k.map(_=>_.presence_ref);w=w.filter(_=>A.indexOf(_.presence_ref)<0),i[m]=w,u(m,w,k),w.length===0&&delete i[m]}),i}static map(i,a){return Object.getOwnPropertyNames(i).map(l=>a(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((a,l)=>{const u=i[l];return"metas"in u?a[l]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):a[l]=u,a},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Xe||(Xe={}));const bS=(o,i,a={})=>{var l;const u=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((f,g)=>(f[g]=RZ(g,o,i,u),f),{})},RZ=(o,i,a,l)=>{const u=i.find(m=>m.name===o),f=u==null?void 0:u.type,g=a[o];return f&&!l.includes(f)?b5(f,g):Fb(g)},b5=(o,i)=>{if(o.charAt(0)==="_"){const a=o.slice(1,o.length);return HZ(i,a)}switch(o){case Xe.bool:return FZ(i);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return VZ(i);case Xe.json:case Xe.jsonb:return UZ(i);case Xe.timestamp:return $Z(i);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Fb(i);default:return Fb(i)}},Fb=o=>o,FZ=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},VZ=o=>{if(typeof o=="string"){const i=parseFloat(o);if(!Number.isNaN(i))return i}return o},UZ=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(i){return console.log(`JSON parse error: ${i}`),o}return o},HZ=(o,i)=>{if(typeof o!="string")return o;const a=o.length-1,l=o[a];if(o[0]==="{"&&l==="}"){let f;const g=o.slice(1,a);try{f=JSON.parse("["+g+"]")}catch{f=g?g.split(","):[]}return f.map(m=>b5(i,m))}return o},$Z=o=>typeof o=="string"?o.replace(" ","T"):o;var _S;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(_S||(_S={}));var vS;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes"})(vS||(vS={}));var yS;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(yS||(yS={}));class Q_{constructor(i,a={config:{}},l){this.topic=i,this.params=a,this.socket=l,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},a.config),this.timeout=this.socket.timeout,this.joinPush=new xw(this,mi.join,this.params,this.timeout),this.rejoinTimer=new w5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new gl(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(i,a=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:f,presence:g}}=this.params;this._onError(w=>i&&i("CHANNEL_ERROR",w)),this._onClose(()=>i&&i("CLOSED"));const m={},k={broadcast:f,presence:g,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&u!==void 0?u:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:k},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:w})=>{var A;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),w===void 0){i&&i("SUBSCRIBED");return}else{const _=this.bindings.postgres_changes,y=(A=_==null?void 0:_.length)!==null&&A!==void 0?A:0,x=[];for(let S=0;S<y;S++){const T=_[S],{filter:{event:O,schema:I,table:M,filter:P}}=T,j=w&&w[S];if(j&&j.event===O&&j.schema===I&&j.table===M&&j.filter===P)x.push(Object.assign(Object.assign({},T),{id:j.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,i&&i("SUBSCRIBED");return}}).receive("error",w=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(i,a={}){return await this.send({type:"presence",event:"track",payload:i},a.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,a,l){return this._on(i,a,l)}async send(i,a={}){var l,u;if(!this._canPush()&&i.type==="broadcast"){const{event:f,payload:g}=i,m={method:"POST",headers:{apikey:(l=this.socket.accessToken)!==null&&l!==void 0?l:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:g}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=a.timeout)!==null&&u!==void 0?u:this.timeout)).ok?"ok":"error"}catch(k){return k.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var g,m,k;const w=this._push(i.type,i,a.timeout||this.timeout);i.type==="broadcast"&&!(!((k=(m=(g=this.params)===null||g===void 0?void 0:g.config)===null||m===void 0?void 0:m.broadcast)===null||k===void 0)&&k.ack)&&f("ok"),w.receive("ok",()=>f("ok")),w.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Mn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new xw(this,mi.leave,{},i);u.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let i=this.socket.endPoint;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(i,a,l){const u=new AbortController,f=setTimeout(()=>u.abort(),l),g=await this.socket.fetch(i,Object.assign(Object.assign({},a),{signal:u.signal}));return clearTimeout(f),g}_push(i,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new xw(this,i,a,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(i,a,l){return a}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,a,l){var u,f;const g=i.toLocaleLowerCase(),{close:m,error:k,leave:w,join:A}=mi;if(l&&[m,k,w,A].indexOf(g)>=0&&l!==this._joinRef())return;let y=this._onMessage(g,a,l);if(a&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var S,T,O;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(T=x.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===g}).map(x=>x.callback(y,l)):(f=this.bindings[g])===null||f===void 0||f.filter(x=>{var S,T,O,I,M,P;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in x){const j=x.id,F=(S=x.filter)===null||S===void 0?void 0:S.event;return j&&((T=a.ids)===null||T===void 0?void 0:T.includes(j))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const j=(M=(I=x==null?void 0:x.filter)===null||I===void 0?void 0:I.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return j==="*"||j===((P=a==null?void 0:a.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===g}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:T,table:O,commit_timestamp:I,type:M,errors:P}=S;y=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:I,eventType:M,new:{},old:{},errors:P}),this._getPayloadRecords(S))}x.callback(y,l)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,a,l){const u=i.toLocaleLowerCase(),f={type:u,filter:a,callback:l};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(i,a){const l=i.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&Q_.isEqual(u.filter,a))}),this}static isEqual(i,a){if(Object.keys(i).length!==Object.keys(a).length)return!1;for(const l in i)if(i[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(mi.close,{},i)}_onError(i){this._on(mi.error,{},a=>i(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const a={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(a.new=bS(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(a.old=bS(i.columns,i.old_record)),a}}const WZ=()=>{};class qZ{constructor(i,a){var l;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=BZ,this.params={},this.timeout=k5,this.transport=PZ.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=WZ,this.conn=null,this.sendBuffer=[],this.serializer=new jZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=f=>{let g;return f?g=f:typeof fetch>"u"?g=(...m)=>Gl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:k})=>k(...m)):g=fetch,(...m)=>g(...m)},this.endPoint=`${i}/${Rb.websocket}`,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.transport&&(this.transport=a.transport),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const u=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;u&&(this.accessToken=u),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(f,g)=>g(JSON.stringify(f)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new w5(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i)))}disconnect(i,a){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const a=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const i=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),i}log(i,a,l){this.logger(i,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return Zo.Connecting;case fl.open:return Zo.Open;case fl.closing:return Zo.Closing;default:return Zo.Closed}}isConnected(){return this.connectionState()===Zo.Open}channel(i,a={config:{}}){const l=new Q_(`realtime:${i}`,a,this);return this.channels.push(l),l}push(i){const{topic:a,event:l,payload:u,ref:f}=i,g=()=>{this.encode(i,m=>{var k;(k=this.conn)===null||k===void 0||k.send(m)})};this.log("push",`${a} ${l} (${f})`,u),this.isConnected()?g():this.sendBuffer.push(g)}setAuth(i){this.accessToken=i,this.channels.forEach(a=>{i&&a.updateJoinPayload({access_token:i}),a.joinedOnce&&a._isJoined()&&a._push(mi.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let a=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${i}"`),a.unsubscribe())}_remove(i){this.channels=this.channels.filter(a=>a._joinRef()!==i._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zZ}))}_onConnMessage(i){this.decode(i.data,a=>{let{topic:l,event:u,payload:f,ref:g}=a;(g&&g===this.pendingHeartbeatRef||u===(f==null?void 0:f.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${l} ${u} ${g&&"("+g+")"||""}`,f),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,f,g)),this.stateChangeCallbacks.message.forEach(m=>m(a))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(mi.error))}_appendParams(i,a){if(Object.keys(a).length===0)return i;const l=i.match(/\?/)?"&":"?",u=new URLSearchParams(a);return`${i}${l}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(LZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class J_ extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Xt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class GZ extends J_{constructor(i,a){super(i),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class AS extends J_{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}}var YZ=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};const _5=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Gl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},ZZ=()=>YZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gl(()=>Promise.resolve().then(()=>Yl),void 0)).Response:Response});var Oa=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};const Ew=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),KZ=(o,i)=>Oa(void 0,void 0,void 0,function*(){const a=yield ZZ();o instanceof a?o.json().then(l=>{i(new GZ(Ew(l),o.status||500))}).catch(l=>{i(new AS(Ew(l),l))}):i(new AS(Ew(o),o))}),QZ=(o,i,a,l)=>{const u={method:o,headers:(i==null?void 0:i.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};function Cf(o,i,a,l,u,f){return Oa(this,void 0,void 0,function*(){return new Promise((g,m)=>{o(a,QZ(i,l,u,f)).then(k=>{if(!k.ok)throw k;return l!=null&&l.noResolveJson?k:k.json()}).then(k=>g(k)).catch(k=>KZ(k,m))})})}function Vb(o,i,a,l){return Oa(this,void 0,void 0,function*(){return Cf(o,"GET",i,a,l)})}function Hr(o,i,a,l,u){return Oa(this,void 0,void 0,function*(){return Cf(o,"POST",i,l,u,a)})}function JZ(o,i,a,l,u){return Oa(this,void 0,void 0,function*(){return Cf(o,"PUT",i,l,u,a)})}function v5(o,i,a,l,u){return Oa(this,void 0,void 0,function*(){return Cf(o,"DELETE",i,l,u,a)})}var Zn=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};const XZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eK{constructor(i,a={},l,u){this.url=i,this.headers=a,this.bucketId=l,this.fetch=_5(u)}uploadOrUpdate(i,a,l,u){return Zn(this,void 0,void 0,function*(){try{let f;const g=Object.assign(Object.assign({},CS),u),m=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.append("cacheControl",g.cacheControl)):(f=l,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const k=this._removeEmptyFolders(a),w=this._getFinalPath(k),A=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:i,body:f,headers:m},g!=null&&g.duplex?{duplex:g.duplex}:{}));return A.ok?{data:{path:k},error:null}:{data:null,error:yield A.json()}}catch(f){if(Xt(f))return{data:null,error:f};throw f}})}upload(i,a,l){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,a,l)})}uploadToSignedUrl(i,a,l,u){return Zn(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(i),g=this._getFinalPath(f),m=new URL(this.url+`/object/upload/sign/${g}`);m.searchParams.set("token",a);try{let k;const w=Object.assign({upsert:CS.upsert},u),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(k=new FormData,k.append("cacheControl",w.cacheControl),k.append("",l)):typeof FormData<"u"&&l instanceof FormData?(k=l,k.append("cacheControl",w.cacheControl)):(k=l,A["cache-control"]=`max-age=${w.cacheControl}`,A["content-type"]=w.contentType);const _=yield this.fetch(m.toString(),{method:"PUT",body:k,headers:A});return _.ok?{data:{path:f},error:null}:{data:null,error:yield _.json()}}catch(k){if(Xt(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(i){return Zn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const l=yield Hr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:this.headers}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new J_("No token returned by API");return{data:{signedUrl:u.toString(),path:i,token:f},error:null}}catch(a){if(Xt(a))return{data:null,error:a};throw a}})}update(i,a,l){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,a,l)})}move(i,a){return Zn(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers}),error:null}}catch(l){if(Xt(l))return{data:null,error:l};throw l}})}copy(i,a){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield Hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers})).Key},error:null}}catch(l){if(Xt(l))return{data:null,error:l};throw l}})}createSignedUrl(i,a,l){return Zn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),f=yield Hr(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const g=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${g}`)},{data:f,error:null}}catch(u){if(Xt(u))return{data:null,error:u};throw u}})}createSignedUrls(i,a,l){return Zn(this,void 0,void 0,function*(){try{const u=yield Hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:i},{headers:this.headers}),f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${f}`):null})),error:null}}catch(u){if(Xt(u))return{data:null,error:u};throw u}})}download(i,a){return Zn(this,void 0,void 0,function*(){const u=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),g=f?`?${f}`:"";try{const m=this._getFinalPath(i);return{data:yield(yield Vb(this.fetch,`${this.url}/${u}/${m}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Xt(m))return{data:null,error:m};throw m}})}getPublicUrl(i,a){const l=this._getFinalPath(i),u=[],f=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",k=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});k!==""&&u.push(k);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${w}`)}}}remove(i){return Zn(this,void 0,void 0,function*(){try{return{data:yield v5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(a){if(Xt(a))return{data:null,error:a};throw a}})}list(i,a,l){return Zn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},XZ),a),{prefix:i||""});return{data:yield Hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Xt(u))return{data:null,error:u};throw u}})}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}}const tK="2.5.4",nK={"X-Client-Info":`storage-js/${tK}`};var $s=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};class iK{constructor(i,a={},l){this.url=i,this.headers=Object.assign(Object.assign({},nK),a),this.fetch=_5(l)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Xt(i))return{data:null,error:i};throw i}})}getBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(a){if(Xt(a))return{data:null,error:a};throw a}})}createBucket(i,a={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Xt(l))return{data:null,error:l};throw l}})}updateBucket(i,a){return $s(this,void 0,void 0,function*(){try{return{data:yield JZ(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Xt(l))return{data:null,error:l};throw l}})}emptyBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Xt(a))return{data:null,error:a};throw a}})}deleteBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield v5(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(Xt(a))return{data:null,error:a};throw a}})}}class rK extends iK{constructor(i,a={},l){super(i,a,l)}from(i){return new eK(this.url,this.headers,i,this.fetch)}}const oK="2.38.4";let el="";typeof Deno<"u"?el="deno":typeof document<"u"?el="web":typeof navigator<"u"&&navigator.product==="ReactNative"?el="react-native":el="node";const sK={"X-Client-Info":`supabase-js-${el}/${oK}`};var aK=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};const cK=o=>{let i;return o?i=o:typeof fetch>"u"?i=Z_:i=fetch,(...a)=>i(...a)},lK=()=>typeof Headers>"u"?Y_.Headers:Headers,dK=(o,i,a)=>{const l=cK(a),u=lK();return(f,g)=>aK(void 0,void 0,void 0,function*(){var m;const k=(m=yield i())!==null&&m!==void 0?m:o;let w=new u(g==null?void 0:g.headers);return w.has("apikey")||w.set("apikey",o),w.has("Authorization")||w.set("Authorization",`Bearer ${k}`),l(f,Object.assign(Object.assign({},g),{headers:w}))})};function uK(o){return o.replace(/\/$/,"")}function hK(o,i){const{db:a,auth:l,realtime:u,global:f}=o,{db:g,auth:m,realtime:k,global:w}=i;return{db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},k),u),global:Object.assign(Object.assign({},w),f)}}function fK(o){return Math.round(Date.now()/1e3)+o}function gK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const i=Math.random()*16|0;return(o=="x"?i:i&3|8).toString(16)})}const or=()=>typeof document<"u",Uo={tested:!1,writable:!1},pl=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Uo.tested)return Uo.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Uo.tested=!0,Uo.writable=!0}catch{Uo.tested=!0,Uo.writable=!1}return Uo.writable};function Sw(o){const i={},a=new URL(o);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((u,f)=>{i[f]=u})}catch{}return a.searchParams.forEach((l,u)=>{i[u]=l}),i}const y5=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Gl(()=>Promise.resolve().then(()=>Yl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},pK=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Ho=async(o,i,a)=>{await o.setItem(i,JSON.stringify(a))},ih=async(o,i)=>{const a=await o.getItem(i);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Dw=async(o,i)=>{await o.removeItem(i)};function mK(o){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",l,u,f,g,m,k,w,A=0;for(o=o.replace("-","+").replace("_","/");A<o.length;)g=i.indexOf(o.charAt(A++)),m=i.indexOf(o.charAt(A++)),k=i.indexOf(o.charAt(A++)),w=i.indexOf(o.charAt(A++)),l=g<<2|m>>4,u=(m&15)<<4|k>>2,f=(k&3)<<6|w,a=a+String.fromCharCode(l),k!=64&&u!=0&&(a=a+String.fromCharCode(u)),w!=64&&f!=0&&(a=a+String.fromCharCode(f));return a}class xf{constructor(){this.promise=new xf.promiseConstructor((i,a)=>{this.resolve=i,this.reject=a})}}xf.promiseConstructor=Promise;function xS(o){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=o.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=a[1];return JSON.parse(mK(l))}async function kK(o){return await new Promise(i=>{setTimeout(()=>i(null),o)})}function wK(o,i){return new Promise((l,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const g=await o(f);if(!i(f,null,g)){l(g);return}}catch(g){if(!i(f,g)){u(g);return}}})()})}function bK(o){return("0"+o.toString(16)).substr(-2)}function Ws(){const i=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let u="";for(let f=0;f<56;f++)u+=a.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(i),Array.from(i,bK).join("")}async function _K(o){const a=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",a),u=new Uint8Array(l);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}function vK(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const a=await _K(o);return vK(a)}class X_ extends Error{constructor(i,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=a}}function Ie(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class yK extends X_{constructor(i,a){super(i,a),this.name="AuthApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function AK(o){return Ie(o)&&o.name==="AuthApiError"}class A5 extends X_{constructor(i,a){super(i),this.name="AuthUnknownError",this.originalError=a}}class Ba extends X_{constructor(i,a,l){super(i),this.name=a,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gs extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Tw extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class rh extends Ba{constructor(i){super(i,"AuthInvalidCredentialsError",400)}}class oh extends Ba{constructor(i,a=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ES extends Ba{constructor(i,a=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ub extends Ba{constructor(i,a){super(i,"AuthRetryableFetchError",a)}}function SS(o){return Ie(o)&&o.name==="AuthRetryableFetchError"}var CK=globalThis&&globalThis.__rest||function(o,i){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&i.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(a[l[u]]=o[l[u]]);return a};const tl=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),xK=[502,503,504];async function DS(o){if(!pK(o))throw new Ub(tl(o),0);if(xK.includes(o.status))throw new Ub(tl(o),o.status);let i;try{i=await o.json()}catch(a){throw new A5(tl(a),a)}throw new yK(tl(i),o.status||500)}const EK=(o,i,a,l)=>{const u={method:o,headers:(i==null?void 0:i.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};async function Oe(o,i,a,l){var u;const f=Object.assign({},l==null?void 0:l.headers);l!=null&&l.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const g=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(g.redirect_to=l.redirectTo);const m=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",k=await SK(o,i,a+m,{headers:f,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(k):{data:Object.assign({},k),error:null}}async function SK(o,i,a,l,u,f){const g=EK(i,l,u,f);let m;try{m=await o(a,g)}catch(k){throw console.error(k),new Ub(tl(k),0)}if(m.ok||await DS(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(k){await DS(k)}}function Rr(o){var i;let a=null;MK(o)&&(a=Object.assign({},o),o.expires_at||(a.expires_at=fK(o.expires_in)));const l=(i=o.user)!==null&&i!==void 0?i:o;return{data:{session:a,user:l},error:null}}function Gr(o){var i;return{data:{user:(i=o.user)!==null&&i!==void 0?i:o},error:null}}function DK(o){return{data:o,error:null}}function TK(o){const{action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f}=o,g=CK(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f},k=Object.assign({},g);return{data:{properties:m,user:k},error:null}}function IK(o){return o}function MK(o){return o.access_token&&o.refresh_token&&o.expires_in}var NK=globalThis&&globalThis.__rest||function(o,i){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&i.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(a[l[u]]=o[l[u]]);return a};class PK{constructor({url:i="",headers:a={},fetch:l}){this.url=i,this.headers=a,this.fetch=y5(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,a="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,a={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Gr})}catch(l){if(Ie(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:a}=i,l=NK(i,["options"]),u=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:TK,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(Ie(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(i){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Gr})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async listUsers(i){var a,l,u,f,g,m,k;try{const w={nextPage:null,lastPage:0,total:0},A=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=i==null?void 0:i.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(f=(u=i==null?void 0:i.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:IK});if(A.error)throw A.error;const _=await A.json(),y=(g=A.headers.get("x-total-count"))!==null&&g!==void 0?g:0,x=(k=(m=A.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&k!==void 0?k:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);w[`${O}Page`]=T}),w.total=parseInt(y)),{data:Object.assign(Object.assign({},_),w),error:null}}catch(w){if(Ie(w))return{data:{users:[]},error:w};throw w}}async getUserById(i){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Gr})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async updateUserById(i,a){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:a,headers:this.headers,xform:Gr})}catch(l){if(Ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,a=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:a},xform:Gr})}catch(l){if(Ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){try{const{data:a,error:l}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:a,error:l}}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async _deleteFactor(i){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(a){if(Ie(a))return{data:null,error:a};throw a}}}const C5="2.57.0",OK="http://localhost:9999",BK="supabase.auth.token",zK={"X-Client-Info":`gotrue-js/${C5}`},TS=10,LK={getItem:o=>pl()?globalThis.localStorage.getItem(o):null,setItem:(o,i)=>{pl()&&globalThis.localStorage.setItem(o,i)},removeItem:o=>{pl()&&globalThis.localStorage.removeItem(o)}};function IS(o={}){return{getItem:i=>o[i]||null,setItem:(i,a)=>{o[i]=a},removeItem:i=>{delete o[i]}}}function jK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class RK extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}jK();const FK={url:OK,storageKey:BK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zK,flowType:"implicit",debug:!1},Gc=30*1e3,MS=3;async function VK(o,i,a){return await a()}class Bl{constructor(i){var a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bl.nextInstanceID,Bl.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},FK),i);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new PK({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=y5(l.fetch),this.lock=l.lock||VK,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:pl()?this.storage=LK:(this.memoryStorage={},this.storage=IS(this.memoryStorage)):(this.memoryStorage={},this.storage=IS(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C5}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const i=or()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",i),i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:l}=await this._getSessionFromURL(i);if(l)return this._debug("#_initialize()","error detecting session from URL",l),await this._removeSession(),{error:l};const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Ie(i)?{error:i}:{error:new A5("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(i){var a,l,u;try{await this._removeSession();let f;if("email"in i){const{email:A,password:_,options:y}=i;let x=null,S=null;if(this.flowType==="pkce"){const T=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,T),x=await qs(T),S=T===x?"plain":"s256"}f=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:A,password:_,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:S},xform:Rr})}else if("phone"in i){const{phone:A,password:_,options:y}=i;f=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:_,data:(l=y==null?void 0:y.data)!==null&&l!==void 0?l:{},channel:(u=y==null?void 0:y.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Rr})}else throw new rh("You must provide either an email or phone number and a password");const{data:g,error:m}=f;if(m||!g)return{data:{user:null,session:null},error:m};const k=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:w,session:k},error:null}}catch(f){if(Ie(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(i){try{await this._removeSession();let a;if("email"in i){const{email:f,password:g,options:m}=i;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:g,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rr})}else if("phone"in i){const{phone:f,password:g,options:m}=i;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:g,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rr})}else throw new rh("You must provide either an email or phone number and a password");const{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:{user:l.user,session:l.session},error:u})}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(i){var a,l,u,f;return await this._removeSession(),await this._handleProviderSignIn(i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const a=await ih(this.storage,`${this.storageKey}-code-verifier`),{data:l,error:u}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:Rr});return await Dw(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}async signInWithIdToken(i){await this._removeSession();try{const{options:a,provider:l,token:u,access_token:f,nonce:g}=i,m=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:f,nonce:g,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rr}),{data:k,error:w}=m;return w?{data:{user:null,session:null},error:w}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new Tw}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:w})}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(i){var a,l,u,f,g;try{if(await this._removeSession(),"email"in i){const{email:m,options:k}=i;let w=null,A=null;if(this.flowType==="pkce"){const y=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,y),w=await qs(y),A=y===w?"plain":"s256"}const{error:_}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=k==null?void 0:k.data)!==null&&a!==void 0?a:{},create_user:(l=k==null?void 0:k.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:w,code_challenge_method:A},redirectTo:k==null?void 0:k.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in i){const{phone:m,options:k}=i,{data:w,error:A}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=k==null?void 0:k.data)!==null&&u!==void 0?u:{},create_user:(f=k==null?void 0:k.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},channel:(g=k==null?void 0:k.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:A}}throw new rh("You must provide either an email or phone number.")}catch(m){if(Ie(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(i){var a,l;try{i.type!=="email_change"&&i.type!=="phone_change"&&await this._removeSession();let u,f;"options"in i&&(u=(a=i.options)===null||a===void 0?void 0:a.redirectTo,f=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:g,error:m}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:Rr});if(m)throw m;if(!g)throw new Error("An error occurred on token verification.");const k=g.session,w=g.user;return k!=null&&k.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:w,session:k},error:null}}catch(u){if(Ie(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var a,l,u;try{await this._removeSession();let f=null,g=null;if(this.flowType==="pkce"){const m=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,m),f=await qs(m),g=m===f?"plain":"s256"}return await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(a=i.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=i==null?void 0:i.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:DK})}catch(f){if(Ie(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)throw l;if(!a)throw new Gs;const{error:u}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{i.type!="email_change"&&i.type!="phone_change"&&await this._removeSession();const a=`${this.url}/resend`;if("email"in i){const{email:l,type:u,options:f}=i,{error:g}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in i){const{phone:l,type:u,options:f}=i,{data:g,error:m}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:m}}throw new rh("You must provide either an email or phone number and a type")}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(i,a){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await i(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const a=await ih(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?i=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l)return{data:{session:i},error:null};const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{session:null},error:f}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Gr}):await this._useSession(async a=>{var l,u;const{data:f,error:g}=a;if(g)throw g;return await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Gr})})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async updateUser(i,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,a))}async _updateUser(i,a={}){try{return await this._useSession(async l=>{const{data:u,error:f}=l;if(f)throw f;if(!u.session)throw new Gs;const g=u.session;let m=null,k=null;if(this.flowType==="pkce"&&i.email!=null){const _=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,_),m=await qs(_),k=_===m?"plain":"s256"}const{data:w,error:A}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:m,code_challenge_method:k}),jwt:g.access_token,xform:Gr});if(A)throw A;return g.user=w.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(l){if(Ie(l))return{data:{user:null},error:l};throw l}}_decodeJWT(i){return xS(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Gs;const a=Date.now()/1e3;let l=a,u=!0,f=null;const g=xS(i.access_token);if(g.exp&&(l=g.exp,u=l<=a),u){const{session:m,error:k}=await this._callRefreshToken(i.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:k}=await this._getUser(i.access_token);if(k)throw k;f={access_token:i.access_token,refresh_token:i.refresh_token,user:m.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(a){if(Ie(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async a=>{var l;if(!i){const{data:g,error:m}=a;if(m)throw m;i=(l=g.session)!==null&&l!==void 0?l:void 0}if(!(i!=null&&i.refresh_token))throw new Gs;const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{user:null,session:null},error:f}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(i){try{if(!or())throw new oh("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new oh("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new ES("Not a valid PKCE flow url.");const a=Sw(window.location.href);if(i){if(!a.code)throw new ES("No code detected.");const{data:M,error:P}=await this._exchangeCodeForSession(a.code);if(P)throw P;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:M.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new oh(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:u,access_token:f,refresh_token:g,expires_in:m,expires_at:k,token_type:w}=a;if(!f||!m||!g||!w)throw new oh("No session defined in URL");const A=Math.round(Date.now()/1e3),_=parseInt(m);let y=A+_;k&&(y=parseInt(k));const x=y-A;x*1e3<=Gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const S=y-_;A-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,A):A-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",S,y,A);const{data:T,error:O}=await this._getUser(f);if(O)throw O;const I={provider_token:l,provider_refresh_token:u,access_token:f,expires_in:_,expires_at:y,refresh_token:g,token_type:w,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:a.type},error:null}}catch(a){if(Ie(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const i=Sw(window.location.href);return!!(or()&&(i.access_token||i.error_description))}async _isPKCEFlow(){const i=Sw(window.location.href),a=await ih(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&a)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{error:f};const g=(l=u.session)===null||l===void 0?void 0:l.access_token;if(g){const{error:m}=await this.admin.signOut(g,i);if(m&&!(AK(m)&&(m.status===404||m.status===401)))return{error:m}}return i!=="others"&&(await this._removeSession(),await Dw(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(i){const a=gK(),l={id:a,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async a=>{var l,u;try{const{data:{session:f},error:g}=a;if(g)throw g;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,a={}){let l=null,u=null;if(this.flowType==="pkce"){const f=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,f),l=await qs(f),u=f===l?"plain":"s256"}try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(f){if(Ie(f))return{data:null,error:f};throw f}}async _refreshAccessToken(i){const a=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await wK(async u=>(await kK(u*200),this._debug(a,"refreshing attempt",u),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:Rr})),(u,f,g)=>g&&g.error&&SS(g.error)&&Date.now()+(u+1)*200-l<Gc)}catch(l){if(this._debug(a,"error",l),Ie(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,a){const l=await this._getUrlForProvider(i,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",a,"url",l),or()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ih(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),f=((i=l.expires_at)!==null&&i!==void 0?i:1/0)<u+TS;if(this._debug(a,`session has${f?"":" not"} expired with margin of ${TS}s`),f){if(this.autoRefreshToken&&l.refresh_token){const{error:g}=await this._callRefreshToken(l.refresh_token);g&&(console.error(g),SS(g)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(i){var a,l;if(!i)throw new Gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new xf;const{data:f,error:g}=await this._refreshAccessToken(i);if(g)throw g;if(!f.session)throw new Gs;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={session:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(u,"error",f),Ie(f)){const g={session:null,error:f};return(a=this.refreshingDeferred)===null||a===void 0||a.resolve(g),g}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,a,l=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:a});const f=[],g=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(i,a)}catch(k){f.push(k)}});if(await Promise.all(g),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),await this._persistSession(i)}_persistSession(i){return this._debug("#_persistSession()",i),Ho(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await Dw(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Gc);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-i)/Gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Gc}ms, refresh threshold is ${MS} ticks`),u<=MS&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof RK)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const a=`#_onVisibilityChanged(${i})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const u=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,u);const f=await qs(u),g=u===f?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",f,"method",g);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(g)}`});l.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return`${this.url}/authorize?${l.join("&")}`}async _unenroll(i){try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async _enroll(i){try{return await this._useSession(async a=>{var l,u;const{data:f,error:g}=a;if(g)return{data:null,error:g};const{data:m,error:k}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(l=f==null?void 0:f.session)===null||l===void 0?void 0:l.access_token});return k?{data:null,error:k}:(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{data:null,error:f};const{data:g,error:m}=await Oe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:m})})}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Oe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(i){const{data:a,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:a.id,code:i.code})}async _listFactors(){const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(i==null?void 0:i.factors)||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified");return{data:{all:l,totp:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var a,l;const{data:{session:u},error:f}=i;if(f)return{data:null,error:f};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const g=this._decodeJWT(u.access_token);let m=null;g.aal&&(m=g.aal);let k=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(k="aal2");const A=g.amr||[];return{data:{currentLevel:m,nextLevel:k,currentAuthenticationMethods:A},error:null}}))}}Bl.nextInstanceID=0;class UK extends Bl{constructor(i){super(i)}}var HK=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{w(l.next(A))}catch(_){g(_)}}function k(A){try{w(l.throw(A))}catch(_){g(_)}}function w(A){A.done?f(A.value):u(A.value).then(m,k)}w((l=l.apply(o,i||[])).next())})};const $K={headers:sK},WK={schema:"public"},qK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GK={};class YK{constructor(i,a,l){var u,f,g,m,k,w,A,_;if(this.supabaseUrl=i,this.supabaseKey=a,!i)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const y=uK(i);this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,this.functionsUrl=`${y}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:WK,realtime:GK,auth:Object.assign(Object.assign({},qK),{storageKey:x}),global:$K},T=hK(l??{},S);this.storageKey=(f=(u=T.auth)===null||u===void 0?void 0:u.storageKey)!==null&&f!==void 0?f:"",this.headers=(m=(g=T.global)===null||g===void 0?void 0:g.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((k=T.auth)!==null&&k!==void 0?k:{},this.headers,(w=T.global)===null||w===void 0?void 0:w.fetch),this.fetch=dK(a,this._getAccessToken.bind(this),(A=T.global)===null||A===void 0?void 0:A.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new K_(`${y}/rest/v1`,{headers:this.headers,schema:(_=T.db)===null||_===void 0?void 0:_.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new sZ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rK(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},l){return this.rest.rpc(i,a,l)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,a;return HK(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,storageKey:f,flowType:g,debug:m},k,w){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UK({url:this.authUrl,headers:Object.assign(Object.assign({},A),k),storageKey:f,autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,flowType:g,debug:m,fetch:w})}_initRealtimeClient(i){return new qZ(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(i,a,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZK=(o,i,a)=>new YK(o,i,a),KK="https://wfmzmjdkdoryaeunljkv.supabase.co",QK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",sh=ZK(KK,QK);function JK(){return H.jsxs(H.Fragment,{children:[H.jsx(JY,{}),H.jsxs($W,{children:[H.jsx(qo,{path:"/",element:H.jsx(jY,{supabase:sh})}),H.jsx(qo,{path:"/create",element:H.jsx(UY,{supabase:sh})}),H.jsx(qo,{path:"/post/:id",element:H.jsx(KY,{supabase:sh})}),H.jsx(qo,{path:"/post/:id/edit",element:H.jsx(QY,{supabase:sh})}),H.jsx(qo,{path:"/getBookInfo",element:H.jsx(qY,{})}),H.jsx(qo,{path:"*",element:H.jsx(RY,{})})]})]})}Iw.createRoot(document.getElementById("root")).render(H.jsx(HS.StrictMode,{children:H.jsx(KW,{children:H.jsx(JK,{})})}))});export default XK();
