var AB=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var X9=AB((Xt,_t)=>{function P2(i,n){for(var o=0;o<n.length;o++){const l=n[o];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in i)){const h=Object.getOwnPropertyDescriptor(l,u);h&&Object.defineProperty(i,u,h.get?h:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function yB(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var o=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),o}var z2={exports:{}},Lf={},j2={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),CB=Symbol.for("react.portal"),xB=Symbol.for("react.fragment"),EB=Symbol.for("react.strict_mode"),DB=Symbol.for("react.profiler"),SB=Symbol.for("react.provider"),TB=Symbol.for("react.context"),IB=Symbol.for("react.forward_ref"),MB=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),OB=Symbol.for("react.lazy"),A1=Symbol.iterator;function BB(i){return i===null||typeof i!="object"?null:(i=A1&&i[A1]||i["@@iterator"],typeof i=="function"?i:null)}var R2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F2=Object.assign,V2={};function Ja(i,n,o){this.props=i,this.context=n,this.refs=V2,this.updater=o||R2}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(i,n){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,n,"setState")};Ja.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function U2(){}U2.prototype=Ja.prototype;function O0(i,n,o){this.props=i,this.context=n,this.refs=V2,this.updater=o||R2}var B0=O0.prototype=new U2;B0.constructor=O0;F2(B0,Ja.prototype);B0.isPureReactComponent=!0;var y1=Array.isArray,H2=Object.prototype.hasOwnProperty,P0={current:null},$2={key:!0,ref:!0,__self:!0,__source:!0};function W2(i,n,o){var l,u={},h=null,f=null;if(n!=null)for(l in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(h=""+n.key),n)H2.call(n,l)&&!$2.hasOwnProperty(l)&&(u[l]=n[l]);var m=arguments.length-2;if(m===1)u.children=o;else if(1<m){for(var w=Array(m),v=0;v<m;v++)w[v]=arguments[v+2];u.children=w}if(i&&i.defaultProps)for(l in m=i.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:md,type:i,key:h,ref:f,props:u,_owner:P0.current}}function PB(i,n){return{$$typeof:md,type:i.type,key:n,ref:i.ref,props:i.props,_owner:i._owner}}function L0(i){return typeof i=="object"&&i!==null&&i.$$typeof===md}function LB(i){var n={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return n[o]})}var C1=/\/+/g;function Im(i,n){return typeof i=="object"&&i!==null&&i.key!=null?LB(""+i.key):n.toString(36)}function zh(i,n,o,l,u){var h=typeof i;(h==="undefined"||h==="boolean")&&(i=null);var f=!1;if(i===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(i.$$typeof){case md:case CB:f=!0}}if(f)return f=i,u=u(f),i=l===""?"."+Im(f,0):l,y1(u)?(o="",i!=null&&(o=i.replace(C1,"$&/")+"/"),zh(u,n,o,"",function(v){return v})):u!=null&&(L0(u)&&(u=PB(u,o+(!u.key||f&&f.key===u.key?"":(""+u.key).replace(C1,"$&/")+"/")+i)),n.push(u)),1;if(f=0,l=l===""?".":l+":",y1(i))for(var m=0;m<i.length;m++){h=i[m];var w=l+Im(h,m);f+=zh(h,n,o,w,u)}else if(w=BB(i),typeof w=="function")for(i=w.call(i),m=0;!(h=i.next()).done;)h=h.value,w=l+Im(h,m++),f+=zh(h,n,o,w,u);else if(h==="object")throw n=String(i),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function ch(i,n,o){if(i==null)return i;var l=[],u=0;return zh(i,l,"","",function(h){return n.call(o,h,u++)}),l}function zB(i){if(i._status===-1){var n=i._result;n=n(),n.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=n)}if(i._status===1)return i._result.default;throw i._result}var Cn={current:null},jh={transition:null},jB={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:jh,ReactCurrentOwner:P0};Le.Children={map:ch,forEach:function(i,n,o){ch(i,function(){n.apply(this,arguments)},o)},count:function(i){var n=0;return ch(i,function(){n++}),n},toArray:function(i){return ch(i,function(n){return n})||[]},only:function(i){if(!L0(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Le.Component=Ja;Le.Fragment=xB;Le.Profiler=DB;Le.PureComponent=O0;Le.StrictMode=EB;Le.Suspense=MB;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jB;Le.cloneElement=function(i,n,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var l=F2({},i.props),u=i.key,h=i.ref,f=i._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,f=P0.current),n.key!==void 0&&(u=""+n.key),i.type&&i.type.defaultProps)var m=i.type.defaultProps;for(w in n)H2.call(n,w)&&!$2.hasOwnProperty(w)&&(l[w]=n[w]===void 0&&m!==void 0?m[w]:n[w])}var w=arguments.length-2;if(w===1)l.children=o;else if(1<w){m=Array(w);for(var v=0;v<w;v++)m[v]=arguments[v+2];l.children=m}return{$$typeof:md,type:i.type,key:u,ref:h,props:l,_owner:f}};Le.createContext=function(i){return i={$$typeof:TB,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:SB,_context:i},i.Consumer=i};Le.createElement=W2;Le.createFactory=function(i){var n=W2.bind(null,i);return n.type=i,n};Le.createRef=function(){return{current:null}};Le.forwardRef=function(i){return{$$typeof:IB,render:i}};Le.isValidElement=L0;Le.lazy=function(i){return{$$typeof:OB,_payload:{_status:-1,_result:i},_init:zB}};Le.memo=function(i,n){return{$$typeof:NB,type:i,compare:n===void 0?null:n}};Le.startTransition=function(i){var n=jh.transition;jh.transition={};try{i()}finally{jh.transition=n}};Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Le.useCallback=function(i,n){return Cn.current.useCallback(i,n)};Le.useContext=function(i){return Cn.current.useContext(i)};Le.useDebugValue=function(){};Le.useDeferredValue=function(i){return Cn.current.useDeferredValue(i)};Le.useEffect=function(i,n){return Cn.current.useEffect(i,n)};Le.useId=function(){return Cn.current.useId()};Le.useImperativeHandle=function(i,n,o){return Cn.current.useImperativeHandle(i,n,o)};Le.useInsertionEffect=function(i,n){return Cn.current.useInsertionEffect(i,n)};Le.useLayoutEffect=function(i,n){return Cn.current.useLayoutEffect(i,n)};Le.useMemo=function(i,n){return Cn.current.useMemo(i,n)};Le.useReducer=function(i,n,o){return Cn.current.useReducer(i,n,o)};Le.useRef=function(i){return Cn.current.useRef(i)};Le.useState=function(i){return Cn.current.useState(i)};Le.useSyncExternalStore=function(i,n,o){return Cn.current.useSyncExternalStore(i,n,o)};Le.useTransition=function(){return Cn.current.useTransition()};Le.version="18.2.0";j2.exports=Le;var te=j2.exports;const q2=L2(te),RB=P2({__proto__:null,default:q2},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FB=te,VB=Symbol.for("react.element"),UB=Symbol.for("react.fragment"),HB=Object.prototype.hasOwnProperty,$B=FB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WB={key:!0,ref:!0,__self:!0,__source:!0};function G2(i,n,o){var l,u={},h=null,f=null;o!==void 0&&(h=""+o),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(f=n.ref);for(l in n)HB.call(n,l)&&!WB.hasOwnProperty(l)&&(u[l]=n[l]);if(i&&i.defaultProps)for(l in n=i.defaultProps,n)u[l]===void 0&&(u[l]=n[l]);return{$$typeof:VB,type:i,key:h,ref:f,props:u,_owner:$B.current}}Lf.Fragment=UB;Lf.jsx=G2;Lf.jsxs=G2;z2.exports=Lf;var F=z2.exports,kk={},Y2={exports:{}},Xn={},K2={exports:{}},Z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function n(ne,ie){var ge=ne.length;ne.push(ie);e:for(;0<ge;){var pe=ge-1>>>1,xe=ne[pe];if(0<u(xe,ie))ne[pe]=ie,ne[ge]=xe,ge=pe;else break e}}function o(ne){return ne.length===0?null:ne[0]}function l(ne){if(ne.length===0)return null;var ie=ne[0],ge=ne.pop();if(ge!==ie){ne[0]=ge;e:for(var pe=0,xe=ne.length,gt=xe>>>1;pe<gt;){var Dt=2*(pe+1)-1,St=ne[Dt],Ge=Dt+1,ar=ne[Ge];if(0>u(St,ge))Ge<xe&&0>u(ar,St)?(ne[pe]=ar,ne[Ge]=ge,pe=Ge):(ne[pe]=St,ne[Dt]=ge,pe=Dt);else if(Ge<xe&&0>u(ar,ge))ne[pe]=ar,ne[Ge]=ge,pe=Ge;else break e}}return ie}function u(ne,ie){var ge=ne.sortIndex-ie.sortIndex;return ge!==0?ge:ne.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var w=[],v=[],_=1,y=null,x=3,S=!1,N=!1,B=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ne){for(var ie=o(v);ie!==null;){if(ie.callback===null)l(v);else if(ie.startTime<=ne)l(v),ie.sortIndex=ie.expirationTime,n(w,ie);else break;ie=o(v)}}function W(ne){if(B=!1,D(ne),!N)if(o(w)!==null)N=!0,J(Z);else{var ie=o(v);ie!==null&&he(W,ie.startTime-ne)}}function Z(ne,ie){N=!1,B&&(B=!1,P(ae),ae=-1),S=!0;var ge=x;try{for(D(ie),y=o(w);y!==null&&(!(y.expirationTime>ie)||ne&&!G());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,x=y.priorityLevel;var xe=pe(y.expirationTime<=ie);ie=i.unstable_now(),typeof xe=="function"?y.callback=xe:y===o(w)&&l(w),D(ie)}else l(w);y=o(w)}if(y!==null)var gt=!0;else{var Dt=o(v);Dt!==null&&he(W,Dt.startTime-ie),gt=!1}return gt}finally{y=null,x=ge,S=!1}}var ee=!1,X=null,ae=-1,ue=5,be=-1;function G(){return!(i.unstable_now()-be<ue)}function Y(){if(X!==null){var ne=i.unstable_now();be=ne;var ie=!0;try{ie=X(!0,ne)}finally{ie?H():(ee=!1,X=null)}}else ee=!1}var H;if(typeof L=="function")H=function(){L(Y)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=Y,H=function(){$.postMessage(null)}}else H=function(){R(Y,0)};function J(ne){X=ne,ee||(ee=!0,H())}function he(ne,ie){ae=R(function(){ne(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){N||S||(N=!0,J(Z))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return o(w)},i.unstable_next=function(ne){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ge=x;x=ie;try{return ne()}finally{x=ge}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ie){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=x;x=ne;try{return ie()}finally{x=ge}},i.unstable_scheduleCallback=function(ne,ie,ge){var pe=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?pe+ge:pe):ge=pe,ne){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ge+xe,ne={id:_++,callback:ie,priorityLevel:ne,startTime:ge,expirationTime:xe,sortIndex:-1},ge>pe?(ne.sortIndex=ge,n(v,ne),o(w)===null&&ne===o(v)&&(B?(P(ae),ae=-1):B=!0,he(W,ge-pe))):(ne.sortIndex=xe,n(w,ne),N||S||(N=!0,J(Z))),ne},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(ne){var ie=x;return function(){var ge=x;x=ie;try{return ne.apply(this,arguments)}finally{x=ge}}}})(Z2);K2.exports=Z2;var qB=K2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=te,Jn=qB;function de(i){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J2=new Set,Zl={};function Ts(i,n){$a(i,n),$a(i+"Capture",n)}function $a(i,n){for(Zl[i]=n,i=0;i<n.length;i++)J2.add(n[i])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bk=Object.prototype.hasOwnProperty,GB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x1={},E1={};function YB(i){return bk.call(E1,i)?!0:bk.call(x1,i)?!1:GB.test(i)?E1[i]=!0:(x1[i]=!0,!1)}function KB(i,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function ZB(i,n,o,l){if(n===null||typeof n>"u"||KB(i,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function xn(i,n,o,l,u,h,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=i,this.type=n,this.sanitizeURL=h,this.removeEmptyString=f}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){nn[i]=new xn(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var n=i[0];nn[n]=new xn(n,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){nn[i]=new xn(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){nn[i]=new xn(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){nn[i]=new xn(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){nn[i]=new xn(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){nn[i]=new xn(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){nn[i]=new xn(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){nn[i]=new xn(i,5,!1,i.toLowerCase(),null,!1,!1)});var z0=/[\-:]([a-z])/g;function j0(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var n=i.replace(z0,j0);nn[n]=new xn(n,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var n=i.replace(z0,j0);nn[n]=new xn(n,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var n=i.replace(z0,j0);nn[n]=new xn(n,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){nn[i]=new xn(i,1,!1,i.toLowerCase(),null,!1,!1)});nn.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){nn[i]=new xn(i,1,!1,i.toLowerCase(),null,!0,!0)});function R0(i,n,o,l){var u=nn.hasOwnProperty(n)?nn[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ZB(n,o,u,l)&&(o=null),l||u===null?YB(n)&&(o===null?i.removeAttribute(n):i.setAttribute(n,""+o)):u.mustUseProperty?i[u.propertyName]=o===null?u.type===3?!1:"":o:(n=u.attributeName,l=u.attributeNamespace,o===null?i.removeAttribute(n):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,l?i.setAttributeNS(l,n,o):i.setAttribute(n,o))))}var Lr=Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),xa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),wk=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),eE=Symbol.for("react.context"),V0=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),_k=Symbol.for("react.suspense_list"),U0=Symbol.for("react.memo"),ao=Symbol.for("react.lazy"),tE=Symbol.for("react.offscreen"),D1=Symbol.iterator;function ml(i){return i===null||typeof i!="object"?null:(i=D1&&i[D1]||i["@@iterator"],typeof i=="function"?i:null)}var kt=Object.assign,Mm;function Dl(i){if(Mm===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Mm=n&&n[1]||""}return`
`+Mm+i}var Nm=!1;function Om(i,n){if(!i||Nm)return"";Nm=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(v){var l=v}Reflect.construct(i,[],n)}else{try{n.call()}catch(v){l=v}i.call(n.prototype)}else{try{throw Error()}catch(v){l=v}i()}}catch(v){if(v&&l&&typeof v.stack=="string"){for(var u=v.stack.split(`
`),h=l.stack.split(`
`),f=u.length-1,m=h.length-1;1<=f&&0<=m&&u[f]!==h[m];)m--;for(;1<=f&&0<=m;f--,m--)if(u[f]!==h[m]){if(f!==1||m!==1)do if(f--,m--,0>m||u[f]!==h[m]){var w=`
`+u[f].replace(" at new "," at ");return i.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",i.displayName)),w}while(1<=f&&0<=m);break}}}finally{Nm=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Dl(i):""}function QB(i){switch(i.tag){case 5:return Dl(i.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return i=Om(i.type,!1),i;case 11:return i=Om(i.type.render,!1),i;case 1:return i=Om(i.type,!0),i;default:return""}}function Ak(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Ea:return"Fragment";case xa:return"Portal";case wk:return"Profiler";case F0:return"StrictMode";case vk:return"Suspense";case _k:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case eE:return(i.displayName||"Context")+".Consumer";case X2:return(i._context.displayName||"Context")+".Provider";case V0:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U0:return n=i.displayName||null,n!==null?n:Ak(i.type)||"Memo";case ao:n=i._payload,i=i._init;try{return Ak(i(n))}catch{}}return null}function JB(i){var n=i.type;switch(i.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=n.render,i=i.displayName||i.name||"",n.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ak(n);case 8:return n===F0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function To(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nE(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function XB(i){var n=nE(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),l=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,h=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return u.call(this)},set:function(f){l=""+f,h.call(this,f)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(f){l=""+f},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function dh(i){i._valueTracker||(i._valueTracker=XB(i))}function iE(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return i&&(l=nE(i)?i.checked?"true":"false":i.value),i=l,i!==o?(n.setValue(i),!0):!1}function ef(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function yk(i,n){var o=n.checked;return kt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function S1(i,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=To(n.value!=null?n.value:o),i._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function rE(i,n){n=n.checked,n!=null&&R0(i,"checked",n,!1)}function Ck(i,n){rE(i,n);var o=To(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(l==="submit"||l==="reset"){i.removeAttribute("value");return}n.hasOwnProperty("value")?xk(i,n.type,o):n.hasOwnProperty("defaultValue")&&xk(i,n.type,To(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(i.defaultChecked=!!n.defaultChecked)}function T1(i,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+i._wrapperState.initialValue,o||n===i.value||(i.value=n),i.defaultValue=n}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function xk(i,n,o){(n!=="number"||ef(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var Sl=Array.isArray;function za(i,n,o,l){if(i=i.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<i.length;o++)u=n.hasOwnProperty("$"+i[o].value),i[o].selected!==u&&(i[o].selected=u),u&&l&&(i[o].defaultSelected=!0)}else{for(o=""+To(o),n=null,u=0;u<i.length;u++){if(i[u].value===o){i[u].selected=!0,l&&(i[u].defaultSelected=!0);return}n!==null||i[u].disabled||(n=i[u])}n!==null&&(n.selected=!0)}}function Ek(i,n){if(n.dangerouslySetInnerHTML!=null)throw Error(de(91));return kt({},n,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function I1(i,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(de(92));if(Sl(o)){if(1<o.length)throw Error(de(93));o=o[0]}n=o}n==null&&(n=""),o=n}i._wrapperState={initialValue:To(o)}}function oE(i,n){var o=To(n.value),l=To(n.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),n.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),l!=null&&(i.defaultValue=""+l)}function M1(i){var n=i.textContent;n===i._wrapperState.initialValue&&n!==""&&n!==null&&(i.value=n)}function sE(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dk(i,n){return i==null||i==="http://www.w3.org/1999/xhtml"?sE(n):i==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var uh,aE=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,u){MSApp.execUnsafeLocalFunction(function(){return i(n,o,l,u)})}:i}(function(i,n){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=n;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=uh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;n.firstChild;)i.appendChild(n.firstChild)}});function Ql(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eP=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(i){eP.forEach(function(n){n=n+i.charAt(0).toUpperCase()+i.substring(1),Pl[n]=Pl[i]})});function cE(i,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Pl.hasOwnProperty(i)&&Pl[i]?(""+n).trim():n+"px"}function lE(i,n){i=i.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,u=cE(o,n[o],l);o==="float"&&(o="cssFloat"),l?i.setProperty(o,u):i[o]=u}}var tP=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sk(i,n){if(n){if(tP[i]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(de(137,i));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(de(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(de(61))}if(n.style!=null&&typeof n.style!="object")throw Error(de(62))}}function Tk(i,n){if(i.indexOf("-")===-1)return typeof n.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ik=null;function H0(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mk=null,ja=null,Ra=null;function N1(i){if(i=wd(i)){if(typeof Mk!="function")throw Error(de(280));var n=i.stateNode;n&&(n=Vf(n),Mk(i.stateNode,i.type,n))}}function dE(i){ja?Ra?Ra.push(i):Ra=[i]:ja=i}function uE(){if(ja){var i=ja,n=Ra;if(Ra=ja=null,N1(i),n)for(i=0;i<n.length;i++)N1(n[i])}}function hE(i,n){return i(n)}function fE(){}var Bm=!1;function gE(i,n,o){if(Bm)return i(n,o);Bm=!0;try{return hE(i,n,o)}finally{Bm=!1,(ja!==null||Ra!==null)&&(fE(),uE())}}function Jl(i,n){var o=i.stateNode;if(o===null)return null;var l=Vf(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(de(231,n,typeof o));return o}var Nk=!1;if(Tr)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Nk=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Nk=!1}function nP(i,n,o,l,u,h,f,m,w){var v=Array.prototype.slice.call(arguments,3);try{n.apply(o,v)}catch(_){this.onError(_)}}var Ll=!1,tf=null,nf=!1,Ok=null,iP={onError:function(i){Ll=!0,tf=i}};function rP(i,n,o,l,u,h,f,m,w){Ll=!1,tf=null,nP.apply(iP,arguments)}function oP(i,n,o,l,u,h,f,m,w){if(rP.apply(this,arguments),Ll){if(Ll){var v=tf;Ll=!1,tf=null}else throw Error(de(198));nf||(nf=!0,Ok=v)}}function Is(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,n.flags&4098&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function pE(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function O1(i){if(Is(i)!==i)throw Error(de(188))}function sP(i){var n=i.alternate;if(!n){if(n=Is(i),n===null)throw Error(de(188));return n!==i?null:i}for(var o=i,l=n;;){var u=o.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){o=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===o)return O1(u),i;if(h===l)return O1(u),n;h=h.sibling}throw Error(de(188))}if(o.return!==l.return)o=u,l=h;else{for(var f=!1,m=u.child;m;){if(m===o){f=!0,o=u,l=h;break}if(m===l){f=!0,l=u,o=h;break}m=m.sibling}if(!f){for(m=h.child;m;){if(m===o){f=!0,o=h,l=u;break}if(m===l){f=!0,l=h,o=u;break}m=m.sibling}if(!f)throw Error(de(189))}}if(o.alternate!==l)throw Error(de(190))}if(o.tag!==3)throw Error(de(188));return o.stateNode.current===o?i:n}function mE(i){return i=sP(i),i!==null?kE(i):null}function kE(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var n=kE(i);if(n!==null)return n;i=i.sibling}return null}var bE=Jn.unstable_scheduleCallback,B1=Jn.unstable_cancelCallback,aP=Jn.unstable_shouldYield,cP=Jn.unstable_requestPaint,xt=Jn.unstable_now,lP=Jn.unstable_getCurrentPriorityLevel,$0=Jn.unstable_ImmediatePriority,wE=Jn.unstable_UserBlockingPriority,rf=Jn.unstable_NormalPriority,dP=Jn.unstable_LowPriority,vE=Jn.unstable_IdlePriority,zf=null,or=null;function uP(i){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(zf,i,void 0,(i.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:gP,hP=Math.log,fP=Math.LN2;function gP(i){return i>>>=0,i===0?32:31-(hP(i)/fP|0)|0}var hh=64,fh=4194304;function Tl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function of(i,n){var o=i.pendingLanes;if(o===0)return 0;var l=0,u=i.suspendedLanes,h=i.pingedLanes,f=o&268435455;if(f!==0){var m=f&~u;m!==0?l=Tl(m):(h&=f,h!==0&&(l=Tl(h)))}else f=o&~u,f!==0?l=Tl(f):h!==0&&(l=Tl(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,h=n&-n,u>=h||u===16&&(h&4194240)!==0))return n;if(l&4&&(l|=o&16),n=i.entangledLanes,n!==0)for(i=i.entanglements,n&=l;0<n;)o=31-Pi(n),u=1<<o,l|=i[o],n&=~u;return l}function pP(i,n){switch(i){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mP(i,n){for(var o=i.suspendedLanes,l=i.pingedLanes,u=i.expirationTimes,h=i.pendingLanes;0<h;){var f=31-Pi(h),m=1<<f,w=u[f];w===-1?(!(m&o)||m&l)&&(u[f]=pP(m,n)):w<=n&&(i.expiredLanes|=m),h&=~m}}function Bk(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function _E(){var i=hh;return hh<<=1,!(hh&4194240)&&(hh=64),i}function Pm(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function kd(i,n,o){i.pendingLanes|=n,n!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,n=31-Pi(n),i[n]=o}function kP(i,n){var o=i.pendingLanes&~n;i.pendingLanes=n,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=n,i.mutableReadLanes&=n,i.entangledLanes&=n,n=i.entanglements;var l=i.eventTimes;for(i=i.expirationTimes;0<o;){var u=31-Pi(o),h=1<<u;n[u]=0,l[u]=-1,i[u]=-1,o&=~h}}function W0(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var l=31-Pi(o),u=1<<l;u&n|i[l]&n&&(i[l]|=n),o&=~u}}var et=0;function AE(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var yE,q0,CE,xE,EE,Pk=!1,gh=[],vo=null,_o=null,Ao=null,Xl=new Map,ed=new Map,ho=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P1(i,n){switch(i){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(n.pointerId)}}function bl(i,n,o,l,u,h){return i===null||i.nativeEvent!==h?(i={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},n!==null&&(n=wd(n),n!==null&&q0(n)),i):(i.eventSystemFlags|=l,n=i.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),i)}function wP(i,n,o,l,u){switch(n){case"focusin":return vo=bl(vo,i,n,o,l,u),!0;case"dragenter":return _o=bl(_o,i,n,o,l,u),!0;case"mouseover":return Ao=bl(Ao,i,n,o,l,u),!0;case"pointerover":var h=u.pointerId;return Xl.set(h,bl(Xl.get(h)||null,i,n,o,l,u)),!0;case"gotpointercapture":return h=u.pointerId,ed.set(h,bl(ed.get(h)||null,i,n,o,l,u)),!0}return!1}function DE(i){var n=ks(i.target);if(n!==null){var o=Is(n);if(o!==null){if(n=o.tag,n===13){if(n=pE(o),n!==null){i.blockedOn=n,EE(i.priority,function(){CE(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=Lk(i.domEventName,i.eventSystemFlags,n[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);Ik=l,o.target.dispatchEvent(l),Ik=null}else return n=wd(o),n!==null&&q0(n),i.blockedOn=o,!1;n.shift()}return!0}function L1(i,n,o){Rh(i)&&o.delete(n)}function vP(){Pk=!1,vo!==null&&Rh(vo)&&(vo=null),_o!==null&&Rh(_o)&&(_o=null),Ao!==null&&Rh(Ao)&&(Ao=null),Xl.forEach(L1),ed.forEach(L1)}function wl(i,n){i.blockedOn===n&&(i.blockedOn=null,Pk||(Pk=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,vP)))}function td(i){function n(u){return wl(u,i)}if(0<gh.length){wl(gh[0],i);for(var o=1;o<gh.length;o++){var l=gh[o];l.blockedOn===i&&(l.blockedOn=null)}}for(vo!==null&&wl(vo,i),_o!==null&&wl(_o,i),Ao!==null&&wl(Ao,i),Xl.forEach(n),ed.forEach(n),o=0;o<ho.length;o++)l=ho[o],l.blockedOn===i&&(l.blockedOn=null);for(;0<ho.length&&(o=ho[0],o.blockedOn===null);)DE(o),o.blockedOn===null&&ho.shift()}var Fa=Lr.ReactCurrentBatchConfig,sf=!0;function _P(i,n,o,l){var u=et,h=Fa.transition;Fa.transition=null;try{et=1,G0(i,n,o,l)}finally{et=u,Fa.transition=h}}function AP(i,n,o,l){var u=et,h=Fa.transition;Fa.transition=null;try{et=4,G0(i,n,o,l)}finally{et=u,Fa.transition=h}}function G0(i,n,o,l){if(sf){var u=Lk(i,n,o,l);if(u===null)Wm(i,n,l,af,o),P1(i,l);else if(wP(u,i,n,o,l))l.stopPropagation();else if(P1(i,l),n&4&&-1<bP.indexOf(i)){for(;u!==null;){var h=wd(u);if(h!==null&&yE(h),h=Lk(i,n,o,l),h===null&&Wm(i,n,l,af,o),h===u)break;u=h}u!==null&&l.stopPropagation()}else Wm(i,n,l,null,o)}}var af=null;function Lk(i,n,o,l){if(af=null,i=H0(l),i=ks(i),i!==null)if(n=Is(i),n===null)i=null;else if(o=n.tag,o===13){if(i=pE(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null);return af=i,null}function SE(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lP()){case $0:return 1;case wE:return 4;case rf:case dP:return 16;case vE:return 536870912;default:return 16}default:return 16}}var ko=null,Y0=null,Fh=null;function TE(){if(Fh)return Fh;var i,n=Y0,o=n.length,l,u="value"in ko?ko.value:ko.textContent,h=u.length;for(i=0;i<o&&n[i]===u[i];i++);var f=o-i;for(l=1;l<=f&&n[o-l]===u[h-l];l++);return Fh=u.slice(i,1<l?1-l:void 0)}function Vh(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function ph(){return!0}function z1(){return!1}function ei(i){function n(o,l,u,h,f){this._reactName=o,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var m in i)i.hasOwnProperty(m)&&(o=i[m],this[m]=o?o(h):h[m]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ph:z1,this.isPropagationStopped=z1,this}return kt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),n}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},K0=ei(Xa),bd=kt({},Xa,{view:0,detail:0}),yP=ei(bd),Lm,zm,vl,jf=kt({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vl&&(vl&&i.type==="mousemove"?(Lm=i.screenX-vl.screenX,zm=i.screenY-vl.screenY):zm=Lm=0,vl=i),Lm)},movementY:function(i){return"movementY"in i?i.movementY:zm}}),j1=ei(jf),CP=kt({},jf,{dataTransfer:0}),xP=ei(CP),EP=kt({},bd,{relatedTarget:0}),jm=ei(EP),DP=kt({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),SP=ei(DP),TP=kt({},Xa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),IP=ei(TP),MP=kt({},Xa,{data:0}),R1=ei(MP),NP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PP(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=BP[i])?!!n[i]:!1}function Z0(){return PP}var LP=kt({},bd,{key:function(i){if(i.key){var n=NP[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=Vh(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?OP[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(i){return i.type==="keypress"?Vh(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vh(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zP=ei(LP),jP=kt({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=ei(jP),RP=kt({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),FP=ei(RP),VP=kt({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=ei(VP),HP=kt({},jf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=ei(HP),WP=[9,13,27,32],Q0=Tr&&"CompositionEvent"in window,zl=null;Tr&&"documentMode"in document&&(zl=document.documentMode);var qP=Tr&&"TextEvent"in window&&!zl,IE=Tr&&(!Q0||zl&&8<zl&&11>=zl),V1=String.fromCharCode(32),U1=!1;function ME(i,n){switch(i){case"keyup":return WP.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function GP(i,n){switch(i){case"compositionend":return NE(n);case"keypress":return n.which!==32?null:(U1=!0,V1);case"textInput":return i=n.data,i===V1&&U1?null:i;default:return null}}function YP(i,n){if(Da)return i==="compositionend"||!Q0&&ME(i,n)?(i=TE(),Fh=Y0=ko=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return IE&&n.locale!=="ko"?null:n.data;default:return null}}var KP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!KP[i.type]:n==="textarea"}function OE(i,n,o,l){dE(l),n=cf(n,"onChange"),0<n.length&&(o=new K0("onChange","change",null,o,l),i.push({event:o,listeners:n}))}var jl=null,nd=null;function ZP(i){$E(i,0)}function Rf(i){var n=Ia(i);if(iE(n))return i}function QP(i,n){if(i==="change")return n}var BE=!1;if(Tr){var Rm;if(Tr){var Fm="oninput"in document;if(!Fm){var $1=document.createElement("div");$1.setAttribute("oninput","return;"),Fm=typeof $1.oninput=="function"}Rm=Fm}else Rm=!1;BE=Rm&&(!document.documentMode||9<document.documentMode)}function W1(){jl&&(jl.detachEvent("onpropertychange",PE),nd=jl=null)}function PE(i){if(i.propertyName==="value"&&Rf(nd)){var n=[];OE(n,nd,i,H0(i)),gE(ZP,n)}}function JP(i,n,o){i==="focusin"?(W1(),jl=n,nd=o,jl.attachEvent("onpropertychange",PE)):i==="focusout"&&W1()}function XP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rf(nd)}function e6(i,n){if(i==="click")return Rf(n)}function t6(i,n){if(i==="input"||i==="change")return Rf(n)}function n6(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var zi=typeof Object.is=="function"?Object.is:n6;function id(i,n){if(zi(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var u=o[l];if(!bk.call(n,u)||!zi(i[u],n[u]))return!1}return!0}function q1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function G1(i,n){var o=q1(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=n&&l>=n)return{node:o,offset:n-i};i=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=q1(o)}}function LE(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?LE(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function zE(){for(var i=window,n=ef();n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=ef(i.document)}return n}function J0(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}function i6(i){var n=zE(),o=i.focusedElem,l=i.selectionRange;if(n!==o&&o&&o.ownerDocument&&LE(o.ownerDocument.documentElement,o)){if(l!==null&&J0(o)){if(n=l.start,i=l.end,i===void 0&&(i=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(i,o.value.length);else if(i=(n=o.ownerDocument||document)&&n.defaultView||window,i.getSelection){i=i.getSelection();var u=o.textContent.length,h=Math.min(l.start,u);l=l.end===void 0?h:Math.min(l.end,u),!i.extend&&h>l&&(u=l,l=h,h=u),u=G1(o,h);var f=G1(o,l);u&&f&&(i.rangeCount!==1||i.anchorNode!==u.node||i.anchorOffset!==u.offset||i.focusNode!==f.node||i.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),i.removeAllRanges(),h>l?(i.addRange(n),i.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),i.addRange(n)))}}for(n=[],i=o;i=i.parentNode;)i.nodeType===1&&n.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)i=n[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var r6=Tr&&"documentMode"in document&&11>=document.documentMode,Sa=null,zk=null,Rl=null,jk=!1;function Y1(i,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jk||Sa==null||Sa!==ef(l)||(l=Sa,"selectionStart"in l&&J0(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&id(Rl,l)||(Rl=l,l=cf(zk,"onSelect"),0<l.length&&(n=new K0("onSelect","select",null,n,o),i.push({event:n,listeners:l}),n.target=Sa)))}function mh(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var Ta={animationend:mh("Animation","AnimationEnd"),animationiteration:mh("Animation","AnimationIteration"),animationstart:mh("Animation","AnimationStart"),transitionend:mh("Transition","TransitionEnd")},Vm={},jE={};Tr&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ff(i){if(Vm[i])return Vm[i];if(!Ta[i])return i;var n=Ta[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in jE)return Vm[i]=n[o];return i}var RE=Ff("animationend"),FE=Ff("animationiteration"),VE=Ff("animationstart"),UE=Ff("transitionend"),HE=new Map,K1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(i,n){HE.set(i,n),Ts(n,[i])}for(var Um=0;Um<K1.length;Um++){var Hm=K1[Um],o6=Hm.toLowerCase(),s6=Hm[0].toUpperCase()+Hm.slice(1);Mo(o6,"on"+s6)}Mo(RE,"onAnimationEnd");Mo(FE,"onAnimationIteration");Mo(VE,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(UE,"onTransitionEnd");$a("onMouseEnter",["mouseout","mouseover"]);$a("onMouseLeave",["mouseout","mouseover"]);$a("onPointerEnter",["pointerout","pointerover"]);$a("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function Z1(i,n,o){var l=i.type||"unknown-event";i.currentTarget=o,oP(l,n,void 0,i),i.currentTarget=null}function $E(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],u=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var f=l.length-1;0<=f;f--){var m=l[f],w=m.instance,v=m.currentTarget;if(m=m.listener,w!==h&&u.isPropagationStopped())break e;Z1(u,m,v),h=w}else for(f=0;f<l.length;f++){if(m=l[f],w=m.instance,v=m.currentTarget,m=m.listener,w!==h&&u.isPropagationStopped())break e;Z1(u,m,v),h=w}}}if(nf)throw i=Ok,nf=!1,Ok=null,i}function dt(i,n){var o=n[Hk];o===void 0&&(o=n[Hk]=new Set);var l=i+"__bubble";o.has(l)||(WE(n,i,2,!1),o.add(l))}function $m(i,n,o){var l=0;n&&(l|=4),WE(o,i,l,n)}var kh="_reactListening"+Math.random().toString(36).slice(2);function rd(i){if(!i[kh]){i[kh]=!0,J2.forEach(function(o){o!=="selectionchange"&&(a6.has(o)||$m(o,!1,i),$m(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[kh]||(n[kh]=!0,$m("selectionchange",!1,n))}}function WE(i,n,o,l){switch(SE(n)){case 1:var u=_P;break;case 4:u=AP;break;default:u=G0}o=u.bind(null,n,o,i),u=void 0,!Nk||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?i.addEventListener(n,o,{capture:!0,passive:u}):i.addEventListener(n,o,!0):u!==void 0?i.addEventListener(n,o,{passive:u}):i.addEventListener(n,o,!1)}function Wm(i,n,o,l,u){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var m=l.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(f===4)for(f=l.return;f!==null;){var w=f.tag;if((w===3||w===4)&&(w=f.stateNode.containerInfo,w===u||w.nodeType===8&&w.parentNode===u))return;f=f.return}for(;m!==null;){if(f=ks(m),f===null)return;if(w=f.tag,w===5||w===6){l=h=f;continue e}m=m.parentNode}}l=l.return}gE(function(){var v=h,_=H0(o),y=[];e:{var x=HE.get(i);if(x!==void 0){var S=K0,N=i;switch(i){case"keypress":if(Vh(o)===0)break e;case"keydown":case"keyup":S=zP;break;case"focusin":N="focus",S=jm;break;case"focusout":N="blur",S=jm;break;case"beforeblur":case"afterblur":S=jm;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=xP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=FP;break;case RE:case FE:case VE:S=SP;break;case UE:S=UP;break;case"scroll":S=yP;break;case"wheel":S=$P;break;case"copy":case"cut":case"paste":S=IP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=F1}var B=(n&4)!==0,R=!B&&i==="scroll",P=B?x!==null?x+"Capture":null:x;B=[];for(var L=v,D;L!==null;){D=L;var W=D.stateNode;if(D.tag===5&&W!==null&&(D=W,P!==null&&(W=Jl(L,P),W!=null&&B.push(od(L,W,D)))),R)break;L=L.return}0<B.length&&(x=new S(x,N,null,o,_),y.push({event:x,listeners:B}))}}if(!(n&7)){e:{if(x=i==="mouseover"||i==="pointerover",S=i==="mouseout"||i==="pointerout",x&&o!==Ik&&(N=o.relatedTarget||o.fromElement)&&(ks(N)||N[Ir]))break e;if((S||x)&&(x=_.window===_?_:(x=_.ownerDocument)?x.defaultView||x.parentWindow:window,S?(N=o.relatedTarget||o.toElement,S=v,N=N?ks(N):null,N!==null&&(R=Is(N),N!==R||N.tag!==5&&N.tag!==6)&&(N=null)):(S=null,N=v),S!==N)){if(B=j1,W="onMouseLeave",P="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(B=F1,W="onPointerLeave",P="onPointerEnter",L="pointer"),R=S==null?x:Ia(S),D=N==null?x:Ia(N),x=new B(W,L+"leave",S,o,_),x.target=R,x.relatedTarget=D,W=null,ks(_)===v&&(B=new B(P,L+"enter",N,o,_),B.target=D,B.relatedTarget=R,W=B),R=W,S&&N)t:{for(B=S,P=N,L=0,D=B;D;D=ka(D))L++;for(D=0,W=P;W;W=ka(W))D++;for(;0<L-D;)B=ka(B),L--;for(;0<D-L;)P=ka(P),D--;for(;L--;){if(B===P||P!==null&&B===P.alternate)break t;B=ka(B),P=ka(P)}B=null}else B=null;S!==null&&Q1(y,x,S,B,!1),N!==null&&R!==null&&Q1(y,R,N,B,!0)}}e:{if(x=v?Ia(v):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var Z=QP;else if(H1(x))if(BE)Z=t6;else{Z=XP;var ee=JP}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(Z=e6);if(Z&&(Z=Z(i,v))){OE(y,Z,o,_);break e}ee&&ee(i,x,v),i==="focusout"&&(ee=x._wrapperState)&&ee.controlled&&x.type==="number"&&xk(x,"number",x.value)}switch(ee=v?Ia(v):window,i){case"focusin":(H1(ee)||ee.contentEditable==="true")&&(Sa=ee,zk=v,Rl=null);break;case"focusout":Rl=zk=Sa=null;break;case"mousedown":jk=!0;break;case"contextmenu":case"mouseup":case"dragend":jk=!1,Y1(y,o,_);break;case"selectionchange":if(r6)break;case"keydown":case"keyup":Y1(y,o,_)}var X;if(Q0)e:{switch(i){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Da?ME(i,o)&&(ae="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ae="onCompositionStart");ae&&(IE&&o.locale!=="ko"&&(Da||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Da&&(X=TE()):(ko=_,Y0="value"in ko?ko.value:ko.textContent,Da=!0)),ee=cf(v,ae),0<ee.length&&(ae=new R1(ae,i,null,o,_),y.push({event:ae,listeners:ee}),X?ae.data=X:(X=NE(o),X!==null&&(ae.data=X)))),(X=qP?GP(i,o):YP(i,o))&&(v=cf(v,"onBeforeInput"),0<v.length&&(_=new R1("onBeforeInput","beforeinput",null,o,_),y.push({event:_,listeners:v}),_.data=X))}$E(y,n)})}function od(i,n,o){return{instance:i,listener:n,currentTarget:o}}function cf(i,n){for(var o=n+"Capture",l=[];i!==null;){var u=i,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Jl(i,o),h!=null&&l.unshift(od(i,h,u)),h=Jl(i,n),h!=null&&l.push(od(i,h,u))),i=i.return}return l}function ka(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Q1(i,n,o,l,u){for(var h=n._reactName,f=[];o!==null&&o!==l;){var m=o,w=m.alternate,v=m.stateNode;if(w!==null&&w===l)break;m.tag===5&&v!==null&&(m=v,u?(w=Jl(o,h),w!=null&&f.unshift(od(o,w,m))):u||(w=Jl(o,h),w!=null&&f.push(od(o,w,m)))),o=o.return}f.length!==0&&i.push({event:n,listeners:f})}var c6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function J1(i){return(typeof i=="string"?i:""+i).replace(c6,`
`).replace(l6,"")}function bh(i,n,o){if(n=J1(n),J1(i)!==n&&o)throw Error(de(425))}function lf(){}var Rk=null,Fk=null;function Vk(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uk=typeof setTimeout=="function"?setTimeout:void 0,d6=typeof clearTimeout=="function"?clearTimeout:void 0,X1=typeof Promise=="function"?Promise:void 0,u6=typeof queueMicrotask=="function"?queueMicrotask:typeof X1<"u"?function(i){return X1.resolve(null).then(i).catch(h6)}:Uk;function h6(i){setTimeout(function(){throw i})}function qm(i,n){var o=n,l=0;do{var u=o.nextSibling;if(i.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(l===0){i.removeChild(u),td(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=u}while(o);td(n)}function yo(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return i}function ex(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}var ec=Math.random().toString(36).slice(2),ir="__reactFiber$"+ec,sd="__reactProps$"+ec,Ir="__reactContainer$"+ec,Hk="__reactEvents$"+ec,f6="__reactListeners$"+ec,g6="__reactHandles$"+ec;function ks(i){var n=i[ir];if(n)return n;for(var o=i.parentNode;o;){if(n=o[Ir]||o[ir]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=ex(i);i!==null;){if(o=i[ir])return o;i=ex(i)}return n}i=o,o=i.parentNode}return null}function wd(i){return i=i[ir]||i[Ir],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ia(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(de(33))}function Vf(i){return i[sd]||null}var $k=[],Ma=-1;function No(i){return{current:i}}function ht(i){0>Ma||(i.current=$k[Ma],$k[Ma]=null,Ma--)}function ct(i,n){Ma++,$k[Ma]=i.current,i.current=n}var Io={},hn=No(Io),Pn=No(!1),Cs=Io;function Wa(i,n){var o=i.type.contextTypes;if(!o)return Io;var l=i.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in o)u[h]=n[h];return l&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=n,i.__reactInternalMemoizedMaskedChildContext=u),u}function Ln(i){return i=i.childContextTypes,i!=null}function df(){ht(Pn),ht(hn)}function tx(i,n,o){if(hn.current!==Io)throw Error(de(168));ct(hn,n),ct(Pn,o)}function qE(i,n,o){var l=i.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(de(108,JB(i)||"Unknown",u));return kt({},o,l)}function uf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Io,Cs=hn.current,ct(hn,i),ct(Pn,Pn.current),!0}function nx(i,n,o){var l=i.stateNode;if(!l)throw Error(de(169));o?(i=qE(i,n,Cs),l.__reactInternalMemoizedMergedChildContext=i,ht(Pn),ht(hn),ct(hn,i)):ht(Pn),ct(Pn,o)}var Cr=null,Uf=!1,Gm=!1;function GE(i){Cr===null?Cr=[i]:Cr.push(i)}function p6(i){Uf=!0,GE(i)}function Oo(){if(!Gm&&Cr!==null){Gm=!0;var i=0,n=et;try{var o=Cr;for(et=1;i<o.length;i++){var l=o[i];do l=l(!0);while(l!==null)}Cr=null,Uf=!1}catch(u){throw Cr!==null&&(Cr=Cr.slice(i+1)),bE($0,Oo),u}finally{et=n,Gm=!1}}return null}var Na=[],Oa=0,hf=null,ff=0,li=[],di=0,xs=null,xr=1,Er="";function us(i,n){Na[Oa++]=ff,Na[Oa++]=hf,hf=i,ff=n}function YE(i,n,o){li[di++]=xr,li[di++]=Er,li[di++]=xs,xs=i;var l=xr;i=Er;var u=32-Pi(l)-1;l&=~(1<<u),o+=1;var h=32-Pi(n)+u;if(30<h){var f=u-u%5;h=(l&(1<<f)-1).toString(32),l>>=f,u-=f,xr=1<<32-Pi(n)+u|o<<u|l,Er=h+i}else xr=1<<h|o<<u|l,Er=i}function X0(i){i.return!==null&&(us(i,1),YE(i,1,0))}function eb(i){for(;i===hf;)hf=Na[--Oa],Na[Oa]=null,ff=Na[--Oa],Na[Oa]=null;for(;i===xs;)xs=li[--di],li[di]=null,Er=li[--di],li[di]=null,xr=li[--di],li[di]=null}var Zn=null,Kn=null,ft=!1,Ni=null;function KE(i,n){var o=hi(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=i,n=i.deletions,n===null?(i.deletions=[o],i.flags|=16):n.push(o)}function ix(i,n){switch(i.tag){case 5:var o=i.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(i.stateNode=n,Zn=i,Kn=yo(n.firstChild),!0):!1;case 6:return n=i.pendingProps===""||n.nodeType!==3?null:n,n!==null?(i.stateNode=n,Zn=i,Kn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=xs!==null?{id:xr,overflow:Er}:null,i.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=hi(18,null,null,0),o.stateNode=n,o.return=i,i.child=o,Zn=i,Kn=null,!0):!1;default:return!1}}function Wk(i){return(i.mode&1)!==0&&(i.flags&128)===0}function qk(i){if(ft){var n=Kn;if(n){var o=n;if(!ix(i,n)){if(Wk(i))throw Error(de(418));n=yo(o.nextSibling);var l=Zn;n&&ix(i,n)?KE(l,o):(i.flags=i.flags&-4097|2,ft=!1,Zn=i)}}else{if(Wk(i))throw Error(de(418));i.flags=i.flags&-4097|2,ft=!1,Zn=i}}}function rx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Zn=i}function wh(i){if(i!==Zn)return!1;if(!ft)return rx(i),ft=!0,!1;var n;if((n=i.tag!==3)&&!(n=i.tag!==5)&&(n=i.type,n=n!=="head"&&n!=="body"&&!Vk(i.type,i.memoizedProps)),n&&(n=Kn)){if(Wk(i))throw ZE(),Error(de(418));for(;n;)KE(i,n),n=yo(n.nextSibling)}if(rx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));e:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(n===0){Kn=yo(i.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}i=i.nextSibling}Kn=null}}else Kn=Zn?yo(i.stateNode.nextSibling):null;return!0}function ZE(){for(var i=Kn;i;)i=yo(i.nextSibling)}function qa(){Kn=Zn=null,ft=!1}function tb(i){Ni===null?Ni=[i]:Ni.push(i)}var m6=Lr.ReactCurrentBatchConfig;function Ti(i,n){if(i&&i.defaultProps){n=kt({},n),i=i.defaultProps;for(var o in i)n[o]===void 0&&(n[o]=i[o]);return n}return n}var gf=No(null),pf=null,Ba=null,nb=null;function ib(){nb=Ba=pf=null}function rb(i){var n=gf.current;ht(gf),i._currentValue=n}function Gk(i,n,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),i===o)break;i=i.return}}function Va(i,n){pf=i,nb=Ba=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&n&&(Bn=!0),i.firstContext=null)}function pi(i){var n=i._currentValue;if(nb!==i)if(i={context:i,memoizedValue:n,next:null},Ba===null){if(pf===null)throw Error(de(308));Ba=i,pf.dependencies={lanes:0,firstContext:i}}else Ba=Ba.next=i;return n}var bs=null;function ob(i){bs===null?bs=[i]:bs.push(i)}function QE(i,n,o,l){var u=n.interleaved;return u===null?(o.next=o,ob(n)):(o.next=u.next,u.next=o),n.interleaved=o,Mr(i,l)}function Mr(i,n){i.lanes|=n;var o=i.alternate;for(o!==null&&(o.lanes|=n),o=i,i=i.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),o=i,i=i.return;return o.tag===3?o.stateNode:null}var co=!1;function sb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Sr(i,n){return{eventTime:i,lane:n,tag:0,payload:null,callback:null,next:null}}function Co(i,n,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,He&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Mr(i,o)}return u=l.interleaved,u===null?(n.next=n,ob(l)):(n.next=u.next,u.next=n),l.interleaved=n,Mr(i,o)}function Uh(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=i.pendingLanes,o|=l,n.lanes=o,W0(i,o)}}function ox(i,n){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var u=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?u=h=f:h=h.next=f,o=o.next}while(o!==null);h===null?u=h=n:h=h.next=n}else u=h=n;o={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,effects:l.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}function mf(i,n,o,l){var u=i.updateQueue;co=!1;var h=u.firstBaseUpdate,f=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var w=m,v=w.next;w.next=null,f===null?h=v:f.next=v,f=w;var _=i.alternate;_!==null&&(_=_.updateQueue,m=_.lastBaseUpdate,m!==f&&(m===null?_.firstBaseUpdate=v:m.next=v,_.lastBaseUpdate=w))}if(h!==null){var y=u.baseState;f=0,_=v=w=null,m=h;do{var x=m.lane,S=m.eventTime;if((l&x)===x){_!==null&&(_=_.next={eventTime:S,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var N=i,B=m;switch(x=n,S=o,B.tag){case 1:if(N=B.payload,typeof N=="function"){y=N.call(S,y,x);break e}y=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=B.payload,x=typeof N=="function"?N.call(S,y,x):N,x==null)break e;y=kt({},y,x);break e;case 2:co=!0}}m.callback!==null&&m.lane!==0&&(i.flags|=64,x=u.effects,x===null?u.effects=[m]:x.push(m))}else S={eventTime:S,lane:x,tag:m.tag,payload:m.payload,callback:m.callback,next:null},_===null?(v=_=S,w=y):_=_.next=S,f|=x;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;x=m,m=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(1);if(_===null&&(w=y),u.baseState=w,u.firstBaseUpdate=v,u.lastBaseUpdate=_,n=u.shared.interleaved,n!==null){u=n;do f|=u.lane,u=u.next;while(u!==n)}else h===null&&(u.shared.lanes=0);Ds|=f,i.lanes=f,i.memoizedState=y}}function sx(i,n,o){if(i=n.effects,n.effects=null,i!==null)for(n=0;n<i.length;n++){var l=i[n],u=l.callback;if(u!==null){if(l.callback=null,l=o,typeof u!="function")throw Error(de(191,u));u.call(l)}}}var XE=new Q2.Component().refs;function Yk(i,n,o,l){n=i.memoizedState,o=o(l,n),o=o==null?n:kt({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Hf={isMounted:function(i){return(i=i._reactInternals)?Is(i)===i:!1},enqueueSetState:function(i,n,o){i=i._reactInternals;var l=yn(),u=Eo(i),h=Sr(l,u);h.payload=n,o!=null&&(h.callback=o),n=Co(i,h,u),n!==null&&(Li(n,i,u,l),Uh(n,i,u))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var l=yn(),u=Eo(i),h=Sr(l,u);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Co(i,h,u),n!==null&&(Li(n,i,u,l),Uh(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=yn(),l=Eo(i),u=Sr(o,l);u.tag=2,n!=null&&(u.callback=n),n=Co(i,u,l),n!==null&&(Li(n,i,l,o),Uh(n,i,l))}};function ax(i,n,o,l,u,h,f){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,h,f):n.prototype&&n.prototype.isPureReactComponent?!id(o,l)||!id(u,h):!0}function e5(i,n,o){var l=!1,u=Io,h=n.contextType;return typeof h=="object"&&h!==null?h=pi(h):(u=Ln(n)?Cs:hn.current,l=n.contextTypes,h=(l=l!=null)?Wa(i,u):Io),n=new n(o,h),i.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Hf,i.stateNode=n,n._reactInternals=i,l&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=u,i.__reactInternalMemoizedMaskedChildContext=h),n}function cx(i,n,o,l){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==i&&Hf.enqueueReplaceState(n,n.state,null)}function Kk(i,n,o,l){var u=i.stateNode;u.props=o,u.state=i.memoizedState,u.refs=XE,sb(i);var h=n.contextType;typeof h=="object"&&h!==null?u.context=pi(h):(h=Ln(n)?Cs:hn.current,u.context=Wa(i,h)),u.state=i.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Yk(i,n,h,o),u.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Hf.enqueueReplaceState(u,u.state,null),mf(i,o,u,l),u.state=i.memoizedState),typeof u.componentDidMount=="function"&&(i.flags|=4194308)}function _l(i,n,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(de(309));var l=o.stateNode}if(!l)throw Error(de(147,i));var u=l,h=""+i;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(f){var m=u.refs;m===XE&&(m=u.refs={}),f===null?delete m[h]:m[h]=f},n._stringRef=h,n)}if(typeof i!="string")throw Error(de(284));if(!o._owner)throw Error(de(290,i))}return i}function vh(i,n){throw i=Object.prototype.toString.call(n),Error(de(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i))}function lx(i){var n=i._init;return n(i._payload)}function t5(i){function n(P,L){if(i){var D=P.deletions;D===null?(P.deletions=[L],P.flags|=16):D.push(L)}}function o(P,L){if(!i)return null;for(;L!==null;)n(P,L),L=L.sibling;return null}function l(P,L){for(P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function u(P,L){return P=Do(P,L),P.index=0,P.sibling=null,P}function h(P,L,D){return P.index=D,i?(D=P.alternate,D!==null?(D=D.index,D<L?(P.flags|=2,L):D):(P.flags|=2,L)):(P.flags|=1048576,L)}function f(P){return i&&P.alternate===null&&(P.flags|=2),P}function m(P,L,D,W){return L===null||L.tag!==6?(L=ek(D,P.mode,W),L.return=P,L):(L=u(L,D),L.return=P,L)}function w(P,L,D,W){var Z=D.type;return Z===Ea?_(P,L,D.props.children,W,D.key):L!==null&&(L.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ao&&lx(Z)===L.type)?(W=u(L,D.props),W.ref=_l(P,L,D),W.return=P,W):(W=Yh(D.type,D.key,D.props,null,P.mode,W),W.ref=_l(P,L,D),W.return=P,W)}function v(P,L,D,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==D.containerInfo||L.stateNode.implementation!==D.implementation?(L=tk(D,P.mode,W),L.return=P,L):(L=u(L,D.children||[]),L.return=P,L)}function _(P,L,D,W,Z){return L===null||L.tag!==7?(L=As(D,P.mode,W,Z),L.return=P,L):(L=u(L,D),L.return=P,L)}function y(P,L,D){if(typeof L=="string"&&L!==""||typeof L=="number")return L=ek(""+L,P.mode,D),L.return=P,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case lh:return D=Yh(L.type,L.key,L.props,null,P.mode,D),D.ref=_l(P,null,L),D.return=P,D;case xa:return L=tk(L,P.mode,D),L.return=P,L;case ao:var W=L._init;return y(P,W(L._payload),D)}if(Sl(L)||ml(L))return L=As(L,P.mode,D,null),L.return=P,L;vh(P,L)}return null}function x(P,L,D,W){var Z=L!==null?L.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return Z!==null?null:m(P,L,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case lh:return D.key===Z?w(P,L,D,W):null;case xa:return D.key===Z?v(P,L,D,W):null;case ao:return Z=D._init,x(P,L,Z(D._payload),W)}if(Sl(D)||ml(D))return Z!==null?null:_(P,L,D,W,null);vh(P,D)}return null}function S(P,L,D,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return P=P.get(D)||null,m(L,P,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case lh:return P=P.get(W.key===null?D:W.key)||null,w(L,P,W,Z);case xa:return P=P.get(W.key===null?D:W.key)||null,v(L,P,W,Z);case ao:var ee=W._init;return S(P,L,D,ee(W._payload),Z)}if(Sl(W)||ml(W))return P=P.get(D)||null,_(L,P,W,Z,null);vh(L,W)}return null}function N(P,L,D,W){for(var Z=null,ee=null,X=L,ae=L=0,ue=null;X!==null&&ae<D.length;ae++){X.index>ae?(ue=X,X=null):ue=X.sibling;var be=x(P,X,D[ae],W);if(be===null){X===null&&(X=ue);break}i&&X&&be.alternate===null&&n(P,X),L=h(be,L,ae),ee===null?Z=be:ee.sibling=be,ee=be,X=ue}if(ae===D.length)return o(P,X),ft&&us(P,ae),Z;if(X===null){for(;ae<D.length;ae++)X=y(P,D[ae],W),X!==null&&(L=h(X,L,ae),ee===null?Z=X:ee.sibling=X,ee=X);return ft&&us(P,ae),Z}for(X=l(P,X);ae<D.length;ae++)ue=S(X,P,ae,D[ae],W),ue!==null&&(i&&ue.alternate!==null&&X.delete(ue.key===null?ae:ue.key),L=h(ue,L,ae),ee===null?Z=ue:ee.sibling=ue,ee=ue);return i&&X.forEach(function(G){return n(P,G)}),ft&&us(P,ae),Z}function B(P,L,D,W){var Z=ml(D);if(typeof Z!="function")throw Error(de(150));if(D=Z.call(D),D==null)throw Error(de(151));for(var ee=Z=null,X=L,ae=L=0,ue=null,be=D.next();X!==null&&!be.done;ae++,be=D.next()){X.index>ae?(ue=X,X=null):ue=X.sibling;var G=x(P,X,be.value,W);if(G===null){X===null&&(X=ue);break}i&&X&&G.alternate===null&&n(P,X),L=h(G,L,ae),ee===null?Z=G:ee.sibling=G,ee=G,X=ue}if(be.done)return o(P,X),ft&&us(P,ae),Z;if(X===null){for(;!be.done;ae++,be=D.next())be=y(P,be.value,W),be!==null&&(L=h(be,L,ae),ee===null?Z=be:ee.sibling=be,ee=be);return ft&&us(P,ae),Z}for(X=l(P,X);!be.done;ae++,be=D.next())be=S(X,P,ae,be.value,W),be!==null&&(i&&be.alternate!==null&&X.delete(be.key===null?ae:be.key),L=h(be,L,ae),ee===null?Z=be:ee.sibling=be,ee=be);return i&&X.forEach(function(Y){return n(P,Y)}),ft&&us(P,ae),Z}function R(P,L,D,W){if(typeof D=="object"&&D!==null&&D.type===Ea&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case lh:e:{for(var Z=D.key,ee=L;ee!==null;){if(ee.key===Z){if(Z=D.type,Z===Ea){if(ee.tag===7){o(P,ee.sibling),L=u(ee,D.props.children),L.return=P,P=L;break e}}else if(ee.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ao&&lx(Z)===ee.type){o(P,ee.sibling),L=u(ee,D.props),L.ref=_l(P,ee,D),L.return=P,P=L;break e}o(P,ee);break}else n(P,ee);ee=ee.sibling}D.type===Ea?(L=As(D.props.children,P.mode,W,D.key),L.return=P,P=L):(W=Yh(D.type,D.key,D.props,null,P.mode,W),W.ref=_l(P,L,D),W.return=P,P=W)}return f(P);case xa:e:{for(ee=D.key;L!==null;){if(L.key===ee)if(L.tag===4&&L.stateNode.containerInfo===D.containerInfo&&L.stateNode.implementation===D.implementation){o(P,L.sibling),L=u(L,D.children||[]),L.return=P,P=L;break e}else{o(P,L);break}else n(P,L);L=L.sibling}L=tk(D,P.mode,W),L.return=P,P=L}return f(P);case ao:return ee=D._init,R(P,L,ee(D._payload),W)}if(Sl(D))return N(P,L,D,W);if(ml(D))return B(P,L,D,W);vh(P,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,L!==null&&L.tag===6?(o(P,L.sibling),L=u(L,D),L.return=P,P=L):(o(P,L),L=ek(D,P.mode,W),L.return=P,P=L),f(P)):o(P,L)}return R}var Ga=t5(!0),n5=t5(!1),vd={},sr=No(vd),ad=No(vd),cd=No(vd);function ws(i){if(i===vd)throw Error(de(174));return i}function ab(i,n){switch(ct(cd,n),ct(ad,i),ct(sr,vd),i=n.nodeType,i){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Dk(null,"");break;default:i=i===8?n.parentNode:n,n=i.namespaceURI||null,i=i.tagName,n=Dk(n,i)}ht(sr),ct(sr,n)}function Ya(){ht(sr),ht(ad),ht(cd)}function i5(i){ws(cd.current);var n=ws(sr.current),o=Dk(n,i.type);n!==o&&(ct(ad,i),ct(sr,o))}function cb(i){ad.current===i&&(ht(sr),ht(ad))}var pt=No(0);function kf(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ym=[];function lb(){for(var i=0;i<Ym.length;i++)Ym[i]._workInProgressVersionPrimary=null;Ym.length=0}var Hh=Lr.ReactCurrentDispatcher,Km=Lr.ReactCurrentBatchConfig,Es=0,mt=null,Lt=null,Gt=null,bf=!1,Fl=!1,ld=0,k6=0;function sn(){throw Error(de(321))}function db(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!zi(i[o],n[o]))return!1;return!0}function ub(i,n,o,l,u,h){if(Es=h,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Hh.current=i===null||i.memoizedState===null?_6:A6,i=o(l,u),Fl){h=0;do{if(Fl=!1,ld=0,25<=h)throw Error(de(301));h+=1,Gt=Lt=null,n.updateQueue=null,Hh.current=y6,i=o(l,u)}while(Fl)}if(Hh.current=wf,n=Lt!==null&&Lt.next!==null,Es=0,Gt=Lt=mt=null,bf=!1,n)throw Error(de(300));return i}function hb(){var i=ld!==0;return ld=0,i}function nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?mt.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function mi(){if(Lt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var n=Gt===null?mt.memoizedState:Gt.next;if(n!==null)Gt=n,Lt=i;else{if(i===null)throw Error(de(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Gt===null?mt.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function dd(i,n){return typeof n=="function"?n(i):n}function Zm(i){var n=mi(),o=n.queue;if(o===null)throw Error(de(311));o.lastRenderedReducer=i;var l=Lt,u=l.baseQueue,h=o.pending;if(h!==null){if(u!==null){var f=u.next;u.next=h.next,h.next=f}l.baseQueue=u=h,o.pending=null}if(u!==null){h=u.next,l=l.baseState;var m=f=null,w=null,v=h;do{var _=v.lane;if((Es&_)===_)w!==null&&(w=w.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),l=v.hasEagerState?v.eagerState:i(l,v.action);else{var y={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};w===null?(m=w=y,f=l):w=w.next=y,mt.lanes|=_,Ds|=_}v=v.next}while(v!==null&&v!==h);w===null?f=l:w.next=m,zi(l,n.memoizedState)||(Bn=!0),n.memoizedState=l,n.baseState=f,n.baseQueue=w,o.lastRenderedState=l}if(i=o.interleaved,i!==null){u=i;do h=u.lane,mt.lanes|=h,Ds|=h,u=u.next;while(u!==i)}else u===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Qm(i){var n=mi(),o=n.queue;if(o===null)throw Error(de(311));o.lastRenderedReducer=i;var l=o.dispatch,u=o.pending,h=n.memoizedState;if(u!==null){o.pending=null;var f=u=u.next;do h=i(h,f.action),f=f.next;while(f!==u);zi(h,n.memoizedState)||(Bn=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,l]}function r5(){}function o5(i,n){var o=mt,l=mi(),u=n(),h=!zi(l.memoizedState,u);if(h&&(l.memoizedState=u,Bn=!0),l=l.queue,fb(c5.bind(null,o,l,i),[i]),l.getSnapshot!==n||h||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,ud(9,a5.bind(null,o,l,u,n),void 0,null),Yt===null)throw Error(de(349));Es&30||s5(o,n,u)}return u}function s5(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function a5(i,n,o,l){n.value=o,n.getSnapshot=l,l5(n)&&d5(i)}function c5(i,n,o){return o(function(){l5(n)&&d5(i)})}function l5(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!zi(i,o)}catch{return!0}}function d5(i){var n=Mr(i,1);n!==null&&Li(n,i,1,-1)}function dx(i){var n=nr();return typeof i=="function"&&(i=i()),n.memoizedState=n.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:i},n.queue=i,i=i.dispatch=v6.bind(null,mt,i),[n.memoizedState,i]}function ud(i,n,o,l){return i={tag:i,create:n,destroy:o,deps:l,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=i.next=i):(o=n.lastEffect,o===null?n.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,n.lastEffect=i)),i}function u5(){return mi().memoizedState}function $h(i,n,o,l){var u=nr();mt.flags|=i,u.memoizedState=ud(1|n,o,void 0,l===void 0?null:l)}function $f(i,n,o,l){var u=mi();l=l===void 0?null:l;var h=void 0;if(Lt!==null){var f=Lt.memoizedState;if(h=f.destroy,l!==null&&db(l,f.deps)){u.memoizedState=ud(n,o,h,l);return}}mt.flags|=i,u.memoizedState=ud(1|n,o,h,l)}function ux(i,n){return $h(8390656,8,i,n)}function fb(i,n){return $f(2048,8,i,n)}function h5(i,n){return $f(4,2,i,n)}function f5(i,n){return $f(4,4,i,n)}function g5(i,n){if(typeof n=="function")return i=i(),n(i),function(){n(null)};if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function p5(i,n,o){return o=o!=null?o.concat([i]):null,$f(4,4,g5.bind(null,n,i),o)}function gb(){}function m5(i,n){var o=mi();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&db(n,l[1])?l[0]:(o.memoizedState=[i,n],i)}function k5(i,n){var o=mi();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&db(n,l[1])?l[0]:(i=i(),o.memoizedState=[i,n],i)}function b5(i,n,o){return Es&21?(zi(o,n)||(o=_E(),mt.lanes|=o,Ds|=o,i.baseState=!0),n):(i.baseState&&(i.baseState=!1,Bn=!0),i.memoizedState=o)}function b6(i,n){var o=et;et=o!==0&&4>o?o:4,i(!0);var l=Km.transition;Km.transition={};try{i(!1),n()}finally{et=o,Km.transition=l}}function w5(){return mi().memoizedState}function w6(i,n,o){var l=Eo(i);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},v5(i))_5(n,o);else if(o=QE(i,n,o,l),o!==null){var u=yn();Li(o,i,l,u),A5(o,n,l)}}function v6(i,n,o){var l=Eo(i),u={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(v5(i))_5(n,u);else{var h=i.alternate;if(i.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var f=n.lastRenderedState,m=h(f,o);if(u.hasEagerState=!0,u.eagerState=m,zi(m,f)){var w=n.interleaved;w===null?(u.next=u,ob(n)):(u.next=w.next,w.next=u),n.interleaved=u;return}}catch{}finally{}o=QE(i,n,u,l),o!==null&&(u=yn(),Li(o,i,l,u),A5(o,n,l))}}function v5(i){var n=i.alternate;return i===mt||n!==null&&n===mt}function _5(i,n){Fl=bf=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function A5(i,n,o){if(o&4194240){var l=n.lanes;l&=i.pendingLanes,o|=l,n.lanes=o,W0(i,o)}}var wf={readContext:pi,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},_6={readContext:pi,useCallback:function(i,n){return nr().memoizedState=[i,n===void 0?null:n],i},useContext:pi,useEffect:ux,useImperativeHandle:function(i,n,o){return o=o!=null?o.concat([i]):null,$h(4194308,4,g5.bind(null,n,i),o)},useLayoutEffect:function(i,n){return $h(4194308,4,i,n)},useInsertionEffect:function(i,n){return $h(4,2,i,n)},useMemo:function(i,n){var o=nr();return n=n===void 0?null:n,i=i(),o.memoizedState=[i,n],i},useReducer:function(i,n,o){var l=nr();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:n},l.queue=i,i=i.dispatch=w6.bind(null,mt,i),[l.memoizedState,i]},useRef:function(i){var n=nr();return i={current:i},n.memoizedState=i},useState:dx,useDebugValue:gb,useDeferredValue:function(i){return nr().memoizedState=i},useTransition:function(){var i=dx(!1),n=i[0];return i=b6.bind(null,i[1]),nr().memoizedState=i,[n,i]},useMutableSource:function(){},useSyncExternalStore:function(i,n,o){var l=mt,u=nr();if(ft){if(o===void 0)throw Error(de(407));o=o()}else{if(o=n(),Yt===null)throw Error(de(349));Es&30||s5(l,n,o)}u.memoizedState=o;var h={value:o,getSnapshot:n};return u.queue=h,ux(c5.bind(null,l,h,i),[i]),l.flags|=2048,ud(9,a5.bind(null,l,h,o,n),void 0,null),o},useId:function(){var i=nr(),n=Yt.identifierPrefix;if(ft){var o=Er,l=xr;o=(l&~(1<<32-Pi(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=ld++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=k6++,n=":"+n+"r"+o.toString(32)+":";return i.memoizedState=n},unstable_isNewReconciler:!1},A6={readContext:pi,useCallback:m5,useContext:pi,useEffect:fb,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:k5,useReducer:Zm,useRef:u5,useState:function(){return Zm(dd)},useDebugValue:gb,useDeferredValue:function(i){var n=mi();return b5(n,Lt.memoizedState,i)},useTransition:function(){var i=Zm(dd)[0],n=mi().memoizedState;return[i,n]},useMutableSource:r5,useSyncExternalStore:o5,useId:w5,unstable_isNewReconciler:!1},y6={readContext:pi,useCallback:m5,useContext:pi,useEffect:fb,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:k5,useReducer:Qm,useRef:u5,useState:function(){return Qm(dd)},useDebugValue:gb,useDeferredValue:function(i){var n=mi();return Lt===null?n.memoizedState=i:b5(n,Lt.memoizedState,i)},useTransition:function(){var i=Qm(dd)[0],n=mi().memoizedState;return[i,n]},useMutableSource:r5,useSyncExternalStore:o5,useId:w5,unstable_isNewReconciler:!1};function Ka(i,n){try{var o="",l=n;do o+=QB(l),l=l.return;while(l);var u=o}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:i,source:n,stack:u,digest:null}}function Jm(i,n,o){return{value:i,source:null,stack:o??null,digest:n??null}}function Zk(i,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var C6=typeof WeakMap=="function"?WeakMap:Map;function y5(i,n,o){o=Sr(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){_f||(_f=!0,s0=l),Zk(i,n)},o}function C5(i,n,o){o=Sr(-1,o),o.tag=3;var l=i.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;o.payload=function(){return l(u)},o.callback=function(){Zk(i,n)}}var h=i.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Zk(i,n),typeof l!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),o}function hx(i,n,o){var l=i.pingCache;if(l===null){l=i.pingCache=new C6;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(o)||(u.add(o),i=j6.bind(null,i,n,o),n.then(i,i))}function fx(i){do{var n;if((n=i.tag===13)&&(n=i.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return i;i=i.return}while(i!==null);return null}function gx(i,n,o,l,u){return i.mode&1?(i.flags|=65536,i.lanes=u,i):(i===n?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Sr(-1,1),n.tag=2,Co(o,n,1))),o.lanes|=1),i)}var x6=Lr.ReactCurrentOwner,Bn=!1;function vn(i,n,o,l){n.child=i===null?n5(n,null,o,l):Ga(n,i.child,o,l)}function px(i,n,o,l,u){o=o.render;var h=n.ref;return Va(n,u),l=ub(i,n,o,l,h,u),o=hb(),i!==null&&!Bn?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~u,Nr(i,n,u)):(ft&&o&&X0(n),n.flags|=1,vn(i,n,l,u),n.child)}function mx(i,n,o,l,u){if(i===null){var h=o.type;return typeof h=="function"&&!Ab(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=h,x5(i,n,h,l,u)):(i=Yh(o.type,null,l,n,n.mode,u),i.ref=n.ref,i.return=n,n.child=i)}if(h=i.child,!(i.lanes&u)){var f=h.memoizedProps;if(o=o.compare,o=o!==null?o:id,o(f,l)&&i.ref===n.ref)return Nr(i,n,u)}return n.flags|=1,i=Do(h,l),i.ref=n.ref,i.return=n,n.child=i}function x5(i,n,o,l,u){if(i!==null){var h=i.memoizedProps;if(id(h,l)&&i.ref===n.ref)if(Bn=!1,n.pendingProps=l=h,(i.lanes&u)!==0)i.flags&131072&&(Bn=!0);else return n.lanes=i.lanes,Nr(i,n,u)}return Qk(i,n,o,l,u)}function E5(i,n,o){var l=n.pendingProps,u=l.children,h=i!==null?i.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(La,Gn),Gn|=o;else{if(!(o&1073741824))return i=h!==null?h.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:i,cachePool:null,transitions:null},n.updateQueue=null,ct(La,Gn),Gn|=i,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:o,ct(La,Gn),Gn|=l}else h!==null?(l=h.baseLanes|o,n.memoizedState=null):l=o,ct(La,Gn),Gn|=l;return vn(i,n,u,o),n.child}function D5(i,n){var o=n.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Qk(i,n,o,l,u){var h=Ln(o)?Cs:hn.current;return h=Wa(n,h),Va(n,u),o=ub(i,n,o,l,h,u),l=hb(),i!==null&&!Bn?(n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~u,Nr(i,n,u)):(ft&&l&&X0(n),n.flags|=1,vn(i,n,o,u),n.child)}function kx(i,n,o,l,u){if(Ln(o)){var h=!0;uf(n)}else h=!1;if(Va(n,u),n.stateNode===null)Wh(i,n),e5(n,o,l),Kk(n,o,l,u),l=!0;else if(i===null){var f=n.stateNode,m=n.memoizedProps;f.props=m;var w=f.context,v=o.contextType;typeof v=="object"&&v!==null?v=pi(v):(v=Ln(o)?Cs:hn.current,v=Wa(n,v));var _=o.getDerivedStateFromProps,y=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function";y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==l||w!==v)&&cx(n,f,l,v),co=!1;var x=n.memoizedState;f.state=x,mf(n,l,f,u),w=n.memoizedState,m!==l||x!==w||Pn.current||co?(typeof _=="function"&&(Yk(n,o,_,l),w=n.memoizedState),(m=co||ax(n,o,m,l,x,w,v))?(y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=w),f.props=l,f.state=w,f.context=v,l=m):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,JE(i,n),m=n.memoizedProps,v=n.type===n.elementType?m:Ti(n.type,m),f.props=v,y=n.pendingProps,x=f.context,w=o.contextType,typeof w=="object"&&w!==null?w=pi(w):(w=Ln(o)?Cs:hn.current,w=Wa(n,w));var S=o.getDerivedStateFromProps;(_=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==y||x!==w)&&cx(n,f,l,w),co=!1,x=n.memoizedState,f.state=x,mf(n,l,f,u);var N=n.memoizedState;m!==y||x!==N||Pn.current||co?(typeof S=="function"&&(Yk(n,o,S,l),N=n.memoizedState),(v=co||ax(n,o,v,l,x,N,w)||!1)?(_||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=w,l=v):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&x===i.memoizedState||(n.flags|=1024),l=!1)}return Jk(i,n,o,l,h,u)}function Jk(i,n,o,l,u,h){D5(i,n);var f=(n.flags&128)!==0;if(!l&&!f)return u&&nx(n,o,!1),Nr(i,n,h);l=n.stateNode,x6.current=n;var m=f&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,i!==null&&f?(n.child=Ga(n,i.child,null,h),n.child=Ga(n,null,m,h)):vn(i,n,m,h),n.memoizedState=l.state,u&&nx(n,o,!0),n.child}function S5(i){var n=i.stateNode;n.pendingContext?tx(i,n.pendingContext,n.pendingContext!==n.context):n.context&&tx(i,n.context,!1),ab(i,n.containerInfo)}function bx(i,n,o,l,u){return qa(),tb(u),n.flags|=256,vn(i,n,o,l),n.child}var Xk={dehydrated:null,treeContext:null,retryLane:0};function e0(i){return{baseLanes:i,cachePool:null,transitions:null}}function T5(i,n,o){var l=n.pendingProps,u=pt.current,h=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=i!==null&&i.memoizedState===null?!1:(u&2)!==0),m?(h=!0,n.flags&=-129):(i===null||i.memoizedState!==null)&&(u|=1),ct(pt,u&1),i===null)return qk(n),i=n.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(n.mode&1?i.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=l.children,i=l.fallback,h?(l=n.mode,h=n.child,f={mode:"hidden",children:f},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=f):h=Gf(f,l,0,null),i=As(i,l,o,null),h.return=n,i.return=n,h.sibling=i,n.child=h,n.child.memoizedState=e0(o),n.memoizedState=Xk,i):pb(n,f));if(u=i.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return E6(i,n,f,l,m,u,o);if(h){h=l.fallback,f=n.mode,u=i.child,m=u.sibling;var w={mode:"hidden",children:l.children};return!(f&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=w,n.deletions=null):(l=Do(u,w),l.subtreeFlags=u.subtreeFlags&14680064),m!==null?h=Do(m,h):(h=As(h,f,o,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,f=i.child.memoizedState,f=f===null?e0(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=i.childLanes&~o,n.memoizedState=Xk,l}return h=i.child,i=h.sibling,l=Do(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=o),l.return=n,l.sibling=null,i!==null&&(o=n.deletions,o===null?(n.deletions=[i],n.flags|=16):o.push(i)),n.child=l,n.memoizedState=null,l}function pb(i,n){return n=Gf({mode:"visible",children:n},i.mode,0,null),n.return=i,i.child=n}function _h(i,n,o,l){return l!==null&&tb(l),Ga(n,i.child,null,o),i=pb(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function E6(i,n,o,l,u,h,f){if(o)return n.flags&256?(n.flags&=-257,l=Jm(Error(de(422))),_h(i,n,f,l)):n.memoizedState!==null?(n.child=i.child,n.flags|=128,null):(h=l.fallback,u=n.mode,l=Gf({mode:"visible",children:l.children},u,0,null),h=As(h,u,f,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&Ga(n,i.child,null,f),n.child.memoizedState=e0(f),n.memoizedState=Xk,h);if(!(n.mode&1))return _h(i,n,f,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var m=l.dgst;return l=m,h=Error(de(419)),l=Jm(h,l,void 0),_h(i,n,f,l)}if(m=(f&i.childLanes)!==0,Bn||m){if(l=Yt,l!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|f)?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Mr(i,u),Li(l,i,u,-1))}return _b(),l=Jm(Error(de(421))),_h(i,n,f,l)}return u.data==="$?"?(n.flags|=128,n.child=i.child,n=R6.bind(null,i),u._reactRetry=n,null):(i=h.treeContext,Kn=yo(u.nextSibling),Zn=n,ft=!0,Ni=null,i!==null&&(li[di++]=xr,li[di++]=Er,li[di++]=xs,xr=i.id,Er=i.overflow,xs=n),n=pb(n,l.children),n.flags|=4096,n)}function wx(i,n,o){i.lanes|=n;var l=i.alternate;l!==null&&(l.lanes|=n),Gk(i.return,n,o)}function Xm(i,n,o,l,u){var h=i.memoizedState;h===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=o,h.tailMode=u)}function I5(i,n,o){var l=n.pendingProps,u=l.revealOrder,h=l.tail;if(vn(i,n,l.children,o),l=pt.current,l&2)l=l&1|2,n.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wx(i,o,n);else if(i.tag===19)wx(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}if(ct(pt,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(o=n.child,u=null;o!==null;)i=o.alternate,i!==null&&kf(i)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),Xm(n,!1,u,o,h);break;case"backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(i=u.alternate,i!==null&&kf(i)===null){n.child=u;break}i=u.sibling,u.sibling=o,o=u,u=i}Xm(n,!0,o,null,h);break;case"together":Xm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wh(i,n){!(n.mode&1)&&i!==null&&(i.alternate=null,n.alternate=null,n.flags|=2)}function Nr(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),Ds|=n.lanes,!(o&n.childLanes))return null;if(i!==null&&n.child!==i.child)throw Error(de(153));if(n.child!==null){for(i=n.child,o=Do(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=Do(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function D6(i,n,o){switch(n.tag){case 3:S5(n),qa();break;case 5:i5(n);break;case 1:Ln(n.type)&&uf(n);break;case 4:ab(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;ct(gf,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ct(pt,pt.current&1),n.flags|=128,null):o&n.child.childLanes?T5(i,n,o):(ct(pt,pt.current&1),i=Nr(i,n,o),i!==null?i.sibling:null);ct(pt,pt.current&1);break;case 19:if(l=(o&n.childLanes)!==0,i.flags&128){if(l)return I5(i,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ct(pt,pt.current),l)break;return null;case 22:case 23:return n.lanes=0,E5(i,n,o)}return Nr(i,n,o)}var M5,t0,N5,O5;M5=function(i,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};t0=function(){};N5=function(i,n,o,l){var u=i.memoizedProps;if(u!==l){i=n.stateNode,ws(sr.current);var h=null;switch(o){case"input":u=yk(i,u),l=yk(i,l),h=[];break;case"select":u=kt({},u,{value:void 0}),l=kt({},l,{value:void 0}),h=[];break;case"textarea":u=Ek(i,u),l=Ek(i,l),h=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(i.onclick=lf)}Sk(o,l);var f;o=null;for(v in u)if(!l.hasOwnProperty(v)&&u.hasOwnProperty(v)&&u[v]!=null)if(v==="style"){var m=u[v];for(f in m)m.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Zl.hasOwnProperty(v)?h||(h=[]):(h=h||[]).push(v,null));for(v in l){var w=l[v];if(m=u!=null?u[v]:void 0,l.hasOwnProperty(v)&&w!==m&&(w!=null||m!=null))if(v==="style")if(m){for(f in m)!m.hasOwnProperty(f)||w&&w.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in w)w.hasOwnProperty(f)&&m[f]!==w[f]&&(o||(o={}),o[f]=w[f])}else o||(h||(h=[]),h.push(v,o)),o=w;else v==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(h=h||[]).push(v,w)):v==="children"?typeof w!="string"&&typeof w!="number"||(h=h||[]).push(v,""+w):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(v)?(w!=null&&v==="onScroll"&&dt("scroll",i),h||m===w||(h=[])):(h=h||[]).push(v,w))}o&&(h=h||[]).push("style",o);var v=h;(n.updateQueue=v)&&(n.flags|=4)}};O5=function(i,n,o,l){o!==l&&(n.flags|=4)};function Al(i,n){if(!ft)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function an(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(n)for(var u=i.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=i,u=u.sibling;else for(u=i.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=i,u=u.sibling;return i.subtreeFlags|=l,i.childLanes=o,n}function S6(i,n,o){var l=n.pendingProps;switch(eb(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(n),null;case 1:return Ln(n.type)&&df(),an(n),null;case 3:return l=n.stateNode,Ya(),ht(Pn),ht(hn),lb(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(wh(n)?n.flags|=4:i===null||i.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ni!==null&&(l0(Ni),Ni=null))),t0(i,n),an(n),null;case 5:cb(n);var u=ws(cd.current);if(o=n.type,i!==null&&n.stateNode!=null)N5(i,n,o,l,u),i.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(de(166));return an(n),null}if(i=ws(sr.current),wh(n)){l=n.stateNode,o=n.type;var h=n.memoizedProps;switch(l[ir]=n,l[sd]=h,i=(n.mode&1)!==0,o){case"dialog":dt("cancel",l),dt("close",l);break;case"iframe":case"object":case"embed":dt("load",l);break;case"video":case"audio":for(u=0;u<Il.length;u++)dt(Il[u],l);break;case"source":dt("error",l);break;case"img":case"image":case"link":dt("error",l),dt("load",l);break;case"details":dt("toggle",l);break;case"input":S1(l,h),dt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},dt("invalid",l);break;case"textarea":I1(l,h),dt("invalid",l)}Sk(o,h),u=null;for(var f in h)if(h.hasOwnProperty(f)){var m=h[f];f==="children"?typeof m=="string"?l.textContent!==m&&(h.suppressHydrationWarning!==!0&&bh(l.textContent,m,i),u=["children",m]):typeof m=="number"&&l.textContent!==""+m&&(h.suppressHydrationWarning!==!0&&bh(l.textContent,m,i),u=["children",""+m]):Zl.hasOwnProperty(f)&&m!=null&&f==="onScroll"&&dt("scroll",l)}switch(o){case"input":dh(l),T1(l,h,!0);break;case"textarea":dh(l),M1(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=lf)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=sE(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof l.is=="string"?i=f.createElement(o,{is:l.is}):(i=f.createElement(o),o==="select"&&(f=i,l.multiple?f.multiple=!0:l.size&&(f.size=l.size))):i=f.createElementNS(i,o),i[ir]=n,i[sd]=l,M5(i,n,!1,!1),n.stateNode=i;e:{switch(f=Tk(o,l),o){case"dialog":dt("cancel",i),dt("close",i),u=l;break;case"iframe":case"object":case"embed":dt("load",i),u=l;break;case"video":case"audio":for(u=0;u<Il.length;u++)dt(Il[u],i);u=l;break;case"source":dt("error",i),u=l;break;case"img":case"image":case"link":dt("error",i),dt("load",i),u=l;break;case"details":dt("toggle",i),u=l;break;case"input":S1(i,l),u=yk(i,l),dt("invalid",i);break;case"option":u=l;break;case"select":i._wrapperState={wasMultiple:!!l.multiple},u=kt({},l,{value:void 0}),dt("invalid",i);break;case"textarea":I1(i,l),u=Ek(i,l),dt("invalid",i);break;default:u=l}Sk(o,u),m=u;for(h in m)if(m.hasOwnProperty(h)){var w=m[h];h==="style"?lE(i,w):h==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&aE(i,w)):h==="children"?typeof w=="string"?(o!=="textarea"||w!=="")&&Ql(i,w):typeof w=="number"&&Ql(i,""+w):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zl.hasOwnProperty(h)?w!=null&&h==="onScroll"&&dt("scroll",i):w!=null&&R0(i,h,w,f))}switch(o){case"input":dh(i),T1(i,l,!1);break;case"textarea":dh(i),M1(i);break;case"option":l.value!=null&&i.setAttribute("value",""+To(l.value));break;case"select":i.multiple=!!l.multiple,h=l.value,h!=null?za(i,!!l.multiple,h,!1):l.defaultValue!=null&&za(i,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(i.onclick=lf)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return an(n),null;case 6:if(i&&n.stateNode!=null)O5(i,n,i.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(de(166));if(o=ws(cd.current),ws(sr.current),wh(n)){if(l=n.stateNode,o=n.memoizedProps,l[ir]=n,(h=l.nodeValue!==o)&&(i=Zn,i!==null))switch(i.tag){case 3:bh(l.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bh(l.nodeValue,o,(i.mode&1)!==0)}h&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[ir]=n,n.stateNode=l}return an(n),null;case 13:if(ht(pt),l=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&Kn!==null&&n.mode&1&&!(n.flags&128))ZE(),qa(),n.flags|=98560,h=!1;else if(h=wh(n),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(de(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(de(317));h[ir]=n}else qa(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;an(n),h=!1}else Ni!==null&&(l0(Ni),Ni=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(l=l!==null,l!==(i!==null&&i.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(i===null||pt.current&1?zt===0&&(zt=3):_b())),n.updateQueue!==null&&(n.flags|=4),an(n),null);case 4:return Ya(),t0(i,n),i===null&&rd(n.stateNode.containerInfo),an(n),null;case 10:return rb(n.type._context),an(n),null;case 17:return Ln(n.type)&&df(),an(n),null;case 19:if(ht(pt),h=n.memoizedState,h===null)return an(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Al(h,!1);else{if(zt!==0||i!==null&&i.flags&128)for(i=n.child;i!==null;){if(f=kf(i),f!==null){for(n.flags|=128,Al(h,!1),l=f.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)h=o,i=l,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=i,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,i=f.dependencies,h.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return ct(pt,pt.current&1|2),n.child}i=i.sibling}h.tail!==null&&xt()>Za&&(n.flags|=128,l=!0,Al(h,!1),n.lanes=4194304)}else{if(!l)if(i=kf(f),i!==null){if(n.flags|=128,l=!0,o=i.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!ft)return an(n),null}else 2*xt()-h.renderingStartTime>Za&&o!==1073741824&&(n.flags|=128,l=!0,Al(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(o=h.last,o!==null?o.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=xt(),n.sibling=null,o=pt.current,ct(pt,l?o&1|2:o&1),n):(an(n),null);case 22:case 23:return vb(),l=n.memoizedState!==null,i!==null&&i.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Gn&1073741824&&(an(n),n.subtreeFlags&6&&(n.flags|=8192)):an(n),null;case 24:return null;case 25:return null}throw Error(de(156,n.tag))}function T6(i,n){switch(eb(n),n.tag){case 1:return Ln(n.type)&&df(),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Ya(),ht(Pn),ht(hn),lb(),i=n.flags,i&65536&&!(i&128)?(n.flags=i&-65537|128,n):null;case 5:return cb(n),null;case 13:if(ht(pt),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(de(340));qa()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return ht(pt),null;case 4:return Ya(),null;case 10:return rb(n.type._context),null;case 22:case 23:return vb(),null;case 24:return null;default:return null}}var Ah=!1,ln=!1,I6=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Pa(i,n){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){At(i,n,l)}else o.current=null}function n0(i,n,o){try{o()}catch(l){At(i,n,l)}}var vx=!1;function M6(i,n){if(Rk=sf,i=zE(),J0(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var f=0,m=-1,w=-1,v=0,_=0,y=i,x=null;t:for(;;){for(var S;y!==o||u!==0&&y.nodeType!==3||(m=f+u),y!==h||l!==0&&y.nodeType!==3||(w=f+l),y.nodeType===3&&(f+=y.nodeValue.length),(S=y.firstChild)!==null;)x=y,y=S;for(;;){if(y===i)break t;if(x===o&&++v===u&&(m=f),x===h&&++_===l&&(w=f),(S=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=S}o=m===-1||w===-1?null:{start:m,end:w}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fk={focusedElem:i,selectionRange:o},sf=!1,ve=n;ve!==null;)if(n=ve,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,ve=i;else for(;ve!==null;){n=ve;try{var N=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var B=N.memoizedProps,R=N.memoizedState,P=n.stateNode,L=P.getSnapshotBeforeUpdate(n.elementType===n.type?B:Ti(n.type,B),R);P.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(W){At(n,n.return,W)}if(i=n.sibling,i!==null){i.return=n.return,ve=i;break}ve=n.return}return N=vx,vx=!1,N}function Vl(i,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var h=u.destroy;u.destroy=void 0,h!==void 0&&n0(n,o,h)}u=u.next}while(u!==l)}}function Wf(i,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&i)===i){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function i0(i){var n=i.ref;if(n!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof n=="function"?n(i):n.current=i}}function B5(i){var n=i.alternate;n!==null&&(i.alternate=null,B5(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&(delete n[ir],delete n[sd],delete n[Hk],delete n[f6],delete n[g6])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function P5(i){return i.tag===5||i.tag===3||i.tag===4}function _x(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function r0(i,n,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(i,n):o.insertBefore(i,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(i,o)):(n=o,n.appendChild(i)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=lf));else if(l!==4&&(i=i.child,i!==null))for(r0(i,n,o),i=i.sibling;i!==null;)r0(i,n,o),i=i.sibling}function o0(i,n,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(l!==4&&(i=i.child,i!==null))for(o0(i,n,o),i=i.sibling;i!==null;)o0(i,n,o),i=i.sibling}var en=null,Ii=!1;function io(i,n,o){for(o=o.child;o!==null;)L5(i,n,o),o=o.sibling}function L5(i,n,o){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(zf,o)}catch{}switch(o.tag){case 5:ln||Pa(o,n);case 6:var l=en,u=Ii;en=null,io(i,n,o),en=l,Ii=u,en!==null&&(Ii?(i=en,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):en.removeChild(o.stateNode));break;case 18:en!==null&&(Ii?(i=en,o=o.stateNode,i.nodeType===8?qm(i.parentNode,o):i.nodeType===1&&qm(i,o),td(i)):qm(en,o.stateNode));break;case 4:l=en,u=Ii,en=o.stateNode.containerInfo,Ii=!0,io(i,n,o),en=l,Ii=u;break;case 0:case 11:case 14:case 15:if(!ln&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var h=u,f=h.destroy;h=h.tag,f!==void 0&&(h&2||h&4)&&n0(o,n,f),u=u.next}while(u!==l)}io(i,n,o);break;case 1:if(!ln&&(Pa(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(m){At(o,n,m)}io(i,n,o);break;case 21:io(i,n,o);break;case 22:o.mode&1?(ln=(l=ln)||o.memoizedState!==null,io(i,n,o),ln=l):io(i,n,o);break;default:io(i,n,o)}}function Ax(i){var n=i.updateQueue;if(n!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new I6),n.forEach(function(l){var u=F6.bind(null,i,l);o.has(l)||(o.add(l),l.then(u,u))})}}function Ci(i,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];try{var h=i,f=n,m=f;e:for(;m!==null;){switch(m.tag){case 5:en=m.stateNode,Ii=!1;break e;case 3:en=m.stateNode.containerInfo,Ii=!0;break e;case 4:en=m.stateNode.containerInfo,Ii=!0;break e}m=m.return}if(en===null)throw Error(de(160));L5(h,f,u),en=null,Ii=!1;var w=u.alternate;w!==null&&(w.return=null),u.return=null}catch(v){At(u,n,v)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)z5(n,i),n=n.sibling}function z5(i,n){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ci(n,i),tr(i),l&4){try{Vl(3,i,i.return),Wf(3,i)}catch(B){At(i,i.return,B)}try{Vl(5,i,i.return)}catch(B){At(i,i.return,B)}}break;case 1:Ci(n,i),tr(i),l&512&&o!==null&&Pa(o,o.return);break;case 5:if(Ci(n,i),tr(i),l&512&&o!==null&&Pa(o,o.return),i.flags&32){var u=i.stateNode;try{Ql(u,"")}catch(B){At(i,i.return,B)}}if(l&4&&(u=i.stateNode,u!=null)){var h=i.memoizedProps,f=o!==null?o.memoizedProps:h,m=i.type,w=i.updateQueue;if(i.updateQueue=null,w!==null)try{m==="input"&&h.type==="radio"&&h.name!=null&&rE(u,h),Tk(m,f);var v=Tk(m,h);for(f=0;f<w.length;f+=2){var _=w[f],y=w[f+1];_==="style"?lE(u,y):_==="dangerouslySetInnerHTML"?aE(u,y):_==="children"?Ql(u,y):R0(u,_,y,v)}switch(m){case"input":Ck(u,h);break;case"textarea":oE(u,h);break;case"select":var x=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var S=h.value;S!=null?za(u,!!h.multiple,S,!1):x!==!!h.multiple&&(h.defaultValue!=null?za(u,!!h.multiple,h.defaultValue,!0):za(u,!!h.multiple,h.multiple?[]:"",!1))}u[sd]=h}catch(B){At(i,i.return,B)}}break;case 6:if(Ci(n,i),tr(i),l&4){if(i.stateNode===null)throw Error(de(162));u=i.stateNode,h=i.memoizedProps;try{u.nodeValue=h}catch(B){At(i,i.return,B)}}break;case 3:if(Ci(n,i),tr(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{td(n.containerInfo)}catch(B){At(i,i.return,B)}break;case 4:Ci(n,i),tr(i);break;case 13:Ci(n,i),tr(i),u=i.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(bb=xt())),l&4&&Ax(i);break;case 22:if(_=o!==null&&o.memoizedState!==null,i.mode&1?(ln=(v=ln)||_,Ci(n,i),ln=v):Ci(n,i),tr(i),l&8192){if(v=i.memoizedState!==null,(i.stateNode.isHidden=v)&&!_&&i.mode&1)for(ve=i,_=i.child;_!==null;){for(y=ve=_;ve!==null;){switch(x=ve,S=x.child,x.tag){case 0:case 11:case 14:case 15:Vl(4,x,x.return);break;case 1:Pa(x,x.return);var N=x.stateNode;if(typeof N.componentWillUnmount=="function"){l=x,o=x.return;try{n=l,N.props=n.memoizedProps,N.state=n.memoizedState,N.componentWillUnmount()}catch(B){At(l,o,B)}}break;case 5:Pa(x,x.return);break;case 22:if(x.memoizedState!==null){Cx(y);continue}}S!==null?(S.return=x,ve=S):Cx(y)}_=_.sibling}e:for(_=null,y=i;;){if(y.tag===5){if(_===null){_=y;try{u=y.stateNode,v?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(m=y.stateNode,w=y.memoizedProps.style,f=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=cE("display",f))}catch(B){At(i,i.return,B)}}}else if(y.tag===6){if(_===null)try{y.stateNode.nodeValue=v?"":y.memoizedProps}catch(B){At(i,i.return,B)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===i)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Ci(n,i),tr(i),l&4&&Ax(i);break;case 21:break;default:Ci(n,i),tr(i)}}function tr(i){var n=i.flags;if(n&2){try{e:{for(var o=i.return;o!==null;){if(P5(o)){var l=o;break e}o=o.return}throw Error(de(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Ql(u,""),l.flags&=-33);var h=_x(i);o0(i,h,u);break;case 3:case 4:var f=l.stateNode.containerInfo,m=_x(i);r0(i,m,f);break;default:throw Error(de(161))}}catch(w){At(i,i.return,w)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function N6(i,n,o){ve=i,j5(i)}function j5(i,n,o){for(var l=(i.mode&1)!==0;ve!==null;){var u=ve,h=u.child;if(u.tag===22&&l){var f=u.memoizedState!==null||Ah;if(!f){var m=u.alternate,w=m!==null&&m.memoizedState!==null||ln;m=Ah;var v=ln;if(Ah=f,(ln=w)&&!v)for(ve=u;ve!==null;)f=ve,w=f.child,f.tag===22&&f.memoizedState!==null?xx(u):w!==null?(w.return=f,ve=w):xx(u);for(;h!==null;)ve=h,j5(h),h=h.sibling;ve=u,Ah=m,ln=v}yx(i)}else u.subtreeFlags&8772&&h!==null?(h.return=u,ve=h):yx(i)}}function yx(i){for(;ve!==null;){var n=ve;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:ln||Wf(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!ln)if(o===null)l.componentDidMount();else{var u=n.elementType===n.type?o.memoizedProps:Ti(n.type,o.memoizedProps);l.componentDidUpdate(u,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&sx(n,h,l);break;case 3:var f=n.updateQueue;if(f!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}sx(n,f,o)}break;case 5:var m=n.stateNode;if(o===null&&n.flags&4){o=m;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&o.focus();break;case"img":w.src&&(o.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var v=n.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var y=_.dehydrated;y!==null&&td(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}ln||n.flags&512&&i0(n)}catch(x){At(n,n.return,x)}}if(n===i){ve=null;break}if(o=n.sibling,o!==null){o.return=n.return,ve=o;break}ve=n.return}}function Cx(i){for(;ve!==null;){var n=ve;if(n===i){ve=null;break}var o=n.sibling;if(o!==null){o.return=n.return,ve=o;break}ve=n.return}}function xx(i){for(;ve!==null;){var n=ve;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Wf(4,n)}catch(w){At(n,o,w)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(w){At(n,u,w)}}var h=n.return;try{i0(n)}catch(w){At(n,h,w)}break;case 5:var f=n.return;try{i0(n)}catch(w){At(n,f,w)}}}catch(w){At(n,n.return,w)}if(n===i){ve=null;break}var m=n.sibling;if(m!==null){m.return=n.return,ve=m;break}ve=n.return}}var O6=Math.ceil,vf=Lr.ReactCurrentDispatcher,mb=Lr.ReactCurrentOwner,gi=Lr.ReactCurrentBatchConfig,He=0,Yt=null,Ot=null,tn=0,Gn=0,La=No(0),zt=0,hd=null,Ds=0,qf=0,kb=0,Ul=null,On=null,bb=0,Za=1/0,yr=null,_f=!1,s0=null,xo=null,yh=!1,bo=null,Af=0,Hl=0,a0=null,qh=-1,Gh=0;function yn(){return He&6?xt():qh!==-1?qh:qh=xt()}function Eo(i){return i.mode&1?He&2&&tn!==0?tn&-tn:m6.transition!==null?(Gh===0&&(Gh=_E()),Gh):(i=et,i!==0||(i=window.event,i=i===void 0?16:SE(i.type)),i):1}function Li(i,n,o,l){if(50<Hl)throw Hl=0,a0=null,Error(de(185));kd(i,o,l),(!(He&2)||i!==Yt)&&(i===Yt&&(!(He&2)&&(qf|=o),zt===4&&fo(i,tn)),zn(i,l),o===1&&He===0&&!(n.mode&1)&&(Za=xt()+500,Uf&&Oo()))}function zn(i,n){var o=i.callbackNode;mP(i,n);var l=of(i,i===Yt?tn:0);if(l===0)o!==null&&B1(o),i.callbackNode=null,i.callbackPriority=0;else if(n=l&-l,i.callbackPriority!==n){if(o!=null&&B1(o),n===1)i.tag===0?p6(Ex.bind(null,i)):GE(Ex.bind(null,i)),u6(function(){!(He&6)&&Oo()}),o=null;else{switch(AE(l)){case 1:o=$0;break;case 4:o=wE;break;case 16:o=rf;break;case 536870912:o=vE;break;default:o=rf}o=q5(o,R5.bind(null,i))}i.callbackPriority=n,i.callbackNode=o}}function R5(i,n){if(qh=-1,Gh=0,He&6)throw Error(de(327));var o=i.callbackNode;if(Ua()&&i.callbackNode!==o)return null;var l=of(i,i===Yt?tn:0);if(l===0)return null;if(l&30||l&i.expiredLanes||n)n=yf(i,l);else{n=l;var u=He;He|=2;var h=V5();(Yt!==i||tn!==n)&&(yr=null,Za=xt()+500,_s(i,n));do try{L6();break}catch(m){F5(i,m)}while(1);ib(),vf.current=h,He=u,Ot!==null?n=0:(Yt=null,tn=0,n=zt)}if(n!==0){if(n===2&&(u=Bk(i),u!==0&&(l=u,n=c0(i,u))),n===1)throw o=hd,_s(i,0),fo(i,l),zn(i,xt()),o;if(n===6)fo(i,l);else{if(u=i.current.alternate,!(l&30)&&!B6(u)&&(n=yf(i,l),n===2&&(h=Bk(i),h!==0&&(l=h,n=c0(i,h))),n===1))throw o=hd,_s(i,0),fo(i,l),zn(i,xt()),o;switch(i.finishedWork=u,i.finishedLanes=l,n){case 0:case 1:throw Error(de(345));case 2:hs(i,On,yr);break;case 3:if(fo(i,l),(l&130023424)===l&&(n=bb+500-xt(),10<n)){if(of(i,0)!==0)break;if(u=i.suspendedLanes,(u&l)!==l){yn(),i.pingedLanes|=i.suspendedLanes&u;break}i.timeoutHandle=Uk(hs.bind(null,i,On,yr),n);break}hs(i,On,yr);break;case 4:if(fo(i,l),(l&4194240)===l)break;for(n=i.eventTimes,u=-1;0<l;){var f=31-Pi(l);h=1<<f,f=n[f],f>u&&(u=f),l&=~h}if(l=u,l=xt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*O6(l/1960))-l,10<l){i.timeoutHandle=Uk(hs.bind(null,i,On,yr),l);break}hs(i,On,yr);break;case 5:hs(i,On,yr);break;default:throw Error(de(329))}}}return zn(i,xt()),i.callbackNode===o?R5.bind(null,i):null}function c0(i,n){var o=Ul;return i.current.memoizedState.isDehydrated&&(_s(i,n).flags|=256),i=yf(i,n),i!==2&&(n=On,On=o,n!==null&&l0(n)),i}function l0(i){On===null?On=i:On.push.apply(On,i)}function B6(i){for(var n=i;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var u=o[l],h=u.getSnapshot;u=u.value;try{if(!zi(h(),u))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fo(i,n){for(n&=~kb,n&=~qf,i.suspendedLanes|=n,i.pingedLanes&=~n,i=i.expirationTimes;0<n;){var o=31-Pi(n),l=1<<o;i[o]=-1,n&=~l}}function Ex(i){if(He&6)throw Error(de(327));Ua();var n=of(i,0);if(!(n&1))return zn(i,xt()),null;var o=yf(i,n);if(i.tag!==0&&o===2){var l=Bk(i);l!==0&&(n=l,o=c0(i,l))}if(o===1)throw o=hd,_s(i,0),fo(i,n),zn(i,xt()),o;if(o===6)throw Error(de(345));return i.finishedWork=i.current.alternate,i.finishedLanes=n,hs(i,On,yr),zn(i,xt()),null}function wb(i,n){var o=He;He|=1;try{return i(n)}finally{He=o,He===0&&(Za=xt()+500,Uf&&Oo())}}function Ss(i){bo!==null&&bo.tag===0&&!(He&6)&&Ua();var n=He;He|=1;var o=gi.transition,l=et;try{if(gi.transition=null,et=1,i)return i()}finally{et=l,gi.transition=o,He=n,!(He&6)&&Oo()}}function vb(){Gn=La.current,ht(La)}function _s(i,n){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,d6(o)),Ot!==null)for(o=Ot.return;o!==null;){var l=o;switch(eb(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&df();break;case 3:Ya(),ht(Pn),ht(hn),lb();break;case 5:cb(l);break;case 4:Ya();break;case 13:ht(pt);break;case 19:ht(pt);break;case 10:rb(l.type._context);break;case 22:case 23:vb()}o=o.return}if(Yt=i,Ot=i=Do(i.current,null),tn=Gn=n,zt=0,hd=null,kb=qf=Ds=0,On=Ul=null,bs!==null){for(n=0;n<bs.length;n++)if(o=bs[n],l=o.interleaved,l!==null){o.interleaved=null;var u=l.next,h=o.pending;if(h!==null){var f=h.next;h.next=u,l.next=f}o.pending=l}bs=null}return i}function F5(i,n){do{var o=Ot;try{if(ib(),Hh.current=wf,bf){for(var l=mt.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}bf=!1}if(Es=0,Gt=Lt=mt=null,Fl=!1,ld=0,mb.current=null,o===null||o.return===null){zt=1,hd=n,Ot=null;break}e:{var h=i,f=o.return,m=o,w=n;if(n=tn,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var v=w,_=m,y=_.tag;if(!(_.mode&1)&&(y===0||y===11||y===15)){var x=_.alternate;x?(_.updateQueue=x.updateQueue,_.memoizedState=x.memoizedState,_.lanes=x.lanes):(_.updateQueue=null,_.memoizedState=null)}var S=fx(f);if(S!==null){S.flags&=-257,gx(S,f,m,h,n),S.mode&1&&hx(h,v,n),n=S,w=v;var N=n.updateQueue;if(N===null){var B=new Set;B.add(w),n.updateQueue=B}else N.add(w);break e}else{if(!(n&1)){hx(h,v,n),_b();break e}w=Error(de(426))}}else if(ft&&m.mode&1){var R=fx(f);if(R!==null){!(R.flags&65536)&&(R.flags|=256),gx(R,f,m,h,n),tb(Ka(w,m));break e}}h=w=Ka(w,m),zt!==4&&(zt=2),Ul===null?Ul=[h]:Ul.push(h),h=f;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var P=y5(h,w,n);ox(h,P);break e;case 1:m=w;var L=h.type,D=h.stateNode;if(!(h.flags&128)&&(typeof L.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(xo===null||!xo.has(D)))){h.flags|=65536,n&=-n,h.lanes|=n;var W=C5(h,m,n);ox(h,W);break e}}h=h.return}while(h!==null)}H5(o)}catch(Z){n=Z,Ot===o&&o!==null&&(Ot=o=o.return);continue}break}while(1)}function V5(){var i=vf.current;return vf.current=wf,i===null?wf:i}function _b(){(zt===0||zt===3||zt===2)&&(zt=4),Yt===null||!(Ds&268435455)&&!(qf&268435455)||fo(Yt,tn)}function yf(i,n){var o=He;He|=2;var l=V5();(Yt!==i||tn!==n)&&(yr=null,_s(i,n));do try{P6();break}catch(u){F5(i,u)}while(1);if(ib(),He=o,vf.current=l,Ot!==null)throw Error(de(261));return Yt=null,tn=0,zt}function P6(){for(;Ot!==null;)U5(Ot)}function L6(){for(;Ot!==null&&!aP();)U5(Ot)}function U5(i){var n=W5(i.alternate,i,Gn);i.memoizedProps=i.pendingProps,n===null?H5(i):Ot=n,mb.current=null}function H5(i){var n=i;do{var o=n.alternate;if(i=n.return,n.flags&32768){if(o=T6(o,n),o!==null){o.flags&=32767,Ot=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zt=6,Ot=null;return}}else if(o=S6(o,n,Gn),o!==null){Ot=o;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=i}while(n!==null);zt===0&&(zt=5)}function hs(i,n,o){var l=et,u=gi.transition;try{gi.transition=null,et=1,z6(i,n,o,l)}finally{gi.transition=u,et=l}return null}function z6(i,n,o,l){do Ua();while(bo!==null);if(He&6)throw Error(de(327));o=i.finishedWork;var u=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(de(177));i.callbackNode=null,i.callbackPriority=0;var h=o.lanes|o.childLanes;if(kP(i,h),i===Yt&&(Ot=Yt=null,tn=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||yh||(yh=!0,q5(rf,function(){return Ua(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=gi.transition,gi.transition=null;var f=et;et=1;var m=He;He|=4,mb.current=null,M6(i,o),z5(o,i),i6(Fk),sf=!!Rk,Fk=Rk=null,i.current=o,N6(o),cP(),He=m,et=f,gi.transition=h}else i.current=o;if(yh&&(yh=!1,bo=i,Af=u),h=i.pendingLanes,h===0&&(xo=null),uP(o.stateNode),zn(i,xt()),n!==null)for(l=i.onRecoverableError,o=0;o<n.length;o++)u=n[o],l(u.value,{componentStack:u.stack,digest:u.digest});if(_f)throw _f=!1,i=s0,s0=null,i;return Af&1&&i.tag!==0&&Ua(),h=i.pendingLanes,h&1?i===a0?Hl++:(Hl=0,a0=i):Hl=0,Oo(),null}function Ua(){if(bo!==null){var i=AE(Af),n=gi.transition,o=et;try{if(gi.transition=null,et=16>i?16:i,bo===null)var l=!1;else{if(i=bo,bo=null,Af=0,He&6)throw Error(de(331));var u=He;for(He|=4,ve=i.current;ve!==null;){var h=ve,f=h.child;if(ve.flags&16){var m=h.deletions;if(m!==null){for(var w=0;w<m.length;w++){var v=m[w];for(ve=v;ve!==null;){var _=ve;switch(_.tag){case 0:case 11:case 15:Vl(8,_,h)}var y=_.child;if(y!==null)y.return=_,ve=y;else for(;ve!==null;){_=ve;var x=_.sibling,S=_.return;if(B5(_),_===v){ve=null;break}if(x!==null){x.return=S,ve=x;break}ve=S}}}var N=h.alternate;if(N!==null){var B=N.child;if(B!==null){N.child=null;do{var R=B.sibling;B.sibling=null,B=R}while(B!==null)}}ve=h}}if(h.subtreeFlags&2064&&f!==null)f.return=h,ve=f;else e:for(;ve!==null;){if(h=ve,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Vl(9,h,h.return)}var P=h.sibling;if(P!==null){P.return=h.return,ve=P;break e}ve=h.return}}var L=i.current;for(ve=L;ve!==null;){f=ve;var D=f.child;if(f.subtreeFlags&2064&&D!==null)D.return=f,ve=D;else e:for(f=L;ve!==null;){if(m=ve,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Wf(9,m)}}catch(Z){At(m,m.return,Z)}if(m===f){ve=null;break e}var W=m.sibling;if(W!==null){W.return=m.return,ve=W;break e}ve=m.return}}if(He=u,Oo(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(zf,i)}catch{}l=!0}return l}finally{et=o,gi.transition=n}}return!1}function Dx(i,n,o){n=Ka(o,n),n=y5(i,n,1),i=Co(i,n,1),n=yn(),i!==null&&(kd(i,1,n),zn(i,n))}function At(i,n,o){if(i.tag===3)Dx(i,i,o);else for(;n!==null;){if(n.tag===3){Dx(n,i,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xo===null||!xo.has(l))){i=Ka(o,i),i=C5(n,i,1),n=Co(n,i,1),i=yn(),n!==null&&(kd(n,1,i),zn(n,i));break}}n=n.return}}function j6(i,n,o){var l=i.pingCache;l!==null&&l.delete(n),n=yn(),i.pingedLanes|=i.suspendedLanes&o,Yt===i&&(tn&o)===o&&(zt===4||zt===3&&(tn&130023424)===tn&&500>xt()-bb?_s(i,0):kb|=o),zn(i,n)}function $5(i,n){n===0&&(i.mode&1?(n=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):n=1);var o=yn();i=Mr(i,n),i!==null&&(kd(i,n,o),zn(i,o))}function R6(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),$5(i,o)}function F6(i,n){var o=0;switch(i.tag){case 13:var l=i.stateNode,u=i.memoizedState;u!==null&&(o=u.retryLane);break;case 19:l=i.stateNode;break;default:throw Error(de(314))}l!==null&&l.delete(n),$5(i,o)}var W5;W5=function(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps||Pn.current)Bn=!0;else{if(!(i.lanes&o)&&!(n.flags&128))return Bn=!1,D6(i,n,o);Bn=!!(i.flags&131072)}else Bn=!1,ft&&n.flags&1048576&&YE(n,ff,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Wh(i,n),i=n.pendingProps;var u=Wa(n,hn.current);Va(n,o),u=ub(null,n,l,i,u,o);var h=hb();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ln(l)?(h=!0,uf(n)):h=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,sb(n),u.updater=Hf,n.stateNode=u,u._reactInternals=n,Kk(n,l,i,o),n=Jk(null,n,l,!0,h,o)):(n.tag=0,ft&&h&&X0(n),vn(null,n,u,o),n=n.child),n;case 16:l=n.elementType;e:{switch(Wh(i,n),i=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=U6(l),i=Ti(l,i),u){case 0:n=Qk(null,n,l,i,o);break e;case 1:n=kx(null,n,l,i,o);break e;case 11:n=px(null,n,l,i,o);break e;case 14:n=mx(null,n,l,Ti(l.type,i),o);break e}throw Error(de(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ti(l,u),Qk(i,n,l,u,o);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ti(l,u),kx(i,n,l,u,o);case 3:e:{if(S5(n),i===null)throw Error(de(387));l=n.pendingProps,h=n.memoizedState,u=h.element,JE(i,n),mf(n,l,null,o);var f=n.memoizedState;if(l=f.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){u=Ka(Error(de(423)),n),n=bx(i,n,l,o,u);break e}else if(l!==u){u=Ka(Error(de(424)),n),n=bx(i,n,l,o,u);break e}else for(Kn=yo(n.stateNode.containerInfo.firstChild),Zn=n,ft=!0,Ni=null,o=n5(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qa(),l===u){n=Nr(i,n,o);break e}vn(i,n,l,o)}n=n.child}return n;case 5:return i5(n),i===null&&qk(n),l=n.type,u=n.pendingProps,h=i!==null?i.memoizedProps:null,f=u.children,Vk(l,u)?f=null:h!==null&&Vk(l,h)&&(n.flags|=32),D5(i,n),vn(i,n,f,o),n.child;case 6:return i===null&&qk(n),null;case 13:return T5(i,n,o);case 4:return ab(n,n.stateNode.containerInfo),l=n.pendingProps,i===null?n.child=Ga(n,null,l,o):vn(i,n,l,o),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ti(l,u),px(i,n,l,u,o);case 7:return vn(i,n,n.pendingProps,o),n.child;case 8:return vn(i,n,n.pendingProps.children,o),n.child;case 12:return vn(i,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,h=n.memoizedProps,f=u.value,ct(gf,l._currentValue),l._currentValue=f,h!==null)if(zi(h.value,f)){if(h.children===u.children&&!Pn.current){n=Nr(i,n,o);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){f=h.child;for(var w=m.firstContext;w!==null;){if(w.context===l){if(h.tag===1){w=Sr(-1,o&-o),w.tag=2;var v=h.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?w.next=w:(w.next=_.next,_.next=w),v.pending=w}}h.lanes|=o,w=h.alternate,w!==null&&(w.lanes|=o),Gk(h.return,o,n),m.lanes|=o;break}w=w.next}}else if(h.tag===10)f=h.type===n.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(de(341));f.lanes|=o,m=f.alternate,m!==null&&(m.lanes|=o),Gk(f,o,n),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===n){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}vn(i,n,u.children,o),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,Va(n,o),u=pi(u),l=l(u),n.flags|=1,vn(i,n,l,o),n.child;case 14:return l=n.type,u=Ti(l,n.pendingProps),u=Ti(l.type,u),mx(i,n,l,u,o);case 15:return x5(i,n,n.type,n.pendingProps,o);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Ti(l,u),Wh(i,n),n.tag=1,Ln(l)?(i=!0,uf(n)):i=!1,Va(n,o),e5(n,l,u),Kk(n,l,u,o),Jk(null,n,l,!0,i,o);case 19:return I5(i,n,o);case 22:return E5(i,n,o)}throw Error(de(156,n.tag))};function q5(i,n){return bE(i,n)}function V6(i,n,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(i,n,o,l){return new V6(i,n,o,l)}function Ab(i){return i=i.prototype,!(!i||!i.isReactComponent)}function U6(i){if(typeof i=="function")return Ab(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V0)return 11;if(i===U0)return 14}return 2}function Do(i,n){var o=i.alternate;return o===null?(o=hi(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Yh(i,n,o,l,u,h){var f=2;if(l=i,typeof i=="function")Ab(i)&&(f=1);else if(typeof i=="string")f=5;else e:switch(i){case Ea:return As(o.children,u,h,n);case F0:f=8,u|=8;break;case wk:return i=hi(12,o,n,u|2),i.elementType=wk,i.lanes=h,i;case vk:return i=hi(13,o,n,u),i.elementType=vk,i.lanes=h,i;case _k:return i=hi(19,o,n,u),i.elementType=_k,i.lanes=h,i;case tE:return Gf(o,u,h,n);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X2:f=10;break e;case eE:f=9;break e;case V0:f=11;break e;case U0:f=14;break e;case ao:f=16,l=null;break e}throw Error(de(130,i==null?i:typeof i,""))}return n=hi(f,o,n,u),n.elementType=i,n.type=l,n.lanes=h,n}function As(i,n,o,l){return i=hi(7,i,l,n),i.lanes=o,i}function Gf(i,n,o,l){return i=hi(22,i,l,n),i.elementType=tE,i.lanes=o,i.stateNode={isHidden:!1},i}function ek(i,n,o){return i=hi(6,i,null,n),i.lanes=o,i}function tk(i,n,o){return n=hi(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}function H6(i,n,o,l,u){this.tag=n,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function yb(i,n,o,l,u,h,f,m,w){return i=new H6(i,n,o,m,w),n===1?(n=1,h===!0&&(n|=8)):n=0,h=hi(3,null,null,n),i.current=h,h.stateNode=i,h.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},sb(h),i}function $6(i,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:l==null?null:""+l,children:i,containerInfo:n,implementation:o}}function G5(i){if(!i)return Io;i=i._reactInternals;e:{if(Is(i)!==i||i.tag!==1)throw Error(de(170));var n=i;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ln(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(de(171))}if(i.tag===1){var o=i.type;if(Ln(o))return qE(i,o,n)}return n}function Y5(i,n,o,l,u,h,f,m,w){return i=yb(o,l,!0,i,u,h,f,m,w),i.context=G5(null),o=i.current,l=yn(),u=Eo(o),h=Sr(l,u),h.callback=n??null,Co(o,h,u),i.current.lanes=u,kd(i,u,l),zn(i,l),i}function Yf(i,n,o,l){var u=n.current,h=yn(),f=Eo(u);return o=G5(o),n.context===null?n.context=o:n.pendingContext=o,n=Sr(h,f),n.payload={element:i},l=l===void 0?null:l,l!==null&&(n.callback=l),i=Co(u,n,f),i!==null&&(Li(i,u,f,h),Uh(i,u,f)),f}function Cf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Sx(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function Cb(i,n){Sx(i,n),(i=i.alternate)&&Sx(i,n)}function W6(){return null}var K5=typeof reportError=="function"?reportError:function(i){console.error(i)};function xb(i){this._internalRoot=i}Kf.prototype.render=xb.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(de(409));Yf(i,n,null,null)};Kf.prototype.unmount=xb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;Ss(function(){Yf(null,i,null,null)}),n[Ir]=null}};function Kf(i){this._internalRoot=i}Kf.prototype.unstable_scheduleHydration=function(i){if(i){var n=xE();i={blockedOn:null,target:i,priority:n};for(var o=0;o<ho.length&&n!==0&&n<ho[o].priority;o++);ho.splice(o,0,i),o===0&&DE(i)}};function Eb(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Tx(){}function q6(i,n,o,l,u){if(u){if(typeof l=="function"){var h=l;l=function(){var v=Cf(f);h.call(v)}}var f=Y5(n,l,i,0,null,!1,!1,"",Tx);return i._reactRootContainer=f,i[Ir]=f.current,rd(i.nodeType===8?i.parentNode:i),Ss(),f}for(;u=i.lastChild;)i.removeChild(u);if(typeof l=="function"){var m=l;l=function(){var v=Cf(w);m.call(v)}}var w=yb(i,0,!1,null,null,!1,!1,"",Tx);return i._reactRootContainer=w,i[Ir]=w.current,rd(i.nodeType===8?i.parentNode:i),Ss(function(){Yf(n,w,o,l)}),w}function Qf(i,n,o,l,u){var h=o._reactRootContainer;if(h){var f=h;if(typeof u=="function"){var m=u;u=function(){var w=Cf(f);m.call(w)}}Yf(n,f,i,u)}else f=q6(o,n,i,u,l);return Cf(f)}yE=function(i){switch(i.tag){case 3:var n=i.stateNode;if(n.current.memoizedState.isDehydrated){var o=Tl(n.pendingLanes);o!==0&&(W0(n,o|1),zn(n,xt()),!(He&6)&&(Za=xt()+500,Oo()))}break;case 13:Ss(function(){var l=Mr(i,1);if(l!==null){var u=yn();Li(l,i,1,u)}}),Cb(i,1)}};q0=function(i){if(i.tag===13){var n=Mr(i,134217728);if(n!==null){var o=yn();Li(n,i,134217728,o)}Cb(i,134217728)}};CE=function(i){if(i.tag===13){var n=Eo(i),o=Mr(i,n);if(o!==null){var l=yn();Li(o,i,n,l)}Cb(i,n)}};xE=function(){return et};EE=function(i,n){var o=et;try{return et=i,n()}finally{et=o}};Mk=function(i,n,o){switch(n){case"input":if(Ck(i,o),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==i&&l.form===i.form){var u=Vf(l);if(!u)throw Error(de(90));iE(l),Ck(l,u)}}}break;case"textarea":oE(i,o);break;case"select":n=o.value,n!=null&&za(i,!!o.multiple,n,!1)}};hE=wb;fE=Ss;var G6={usingClientEntryPoint:!1,Events:[wd,Ia,Vf,dE,uE,wb]},yl={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y6={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=mE(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||W6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{zf=Ch.inject(Y6),or=Ch}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;Xn.createPortal=function(i,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eb(n))throw Error(de(200));return $6(i,n,null,o)};Xn.createRoot=function(i,n){if(!Eb(i))throw Error(de(299));var o=!1,l="",u=K5;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=yb(i,1,!1,null,null,o,!1,l,u),i[Ir]=n.current,rd(i.nodeType===8?i.parentNode:i),new xb(n)};Xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(de(188)):(i=Object.keys(i).join(","),Error(de(268,i)));return i=mE(n),i=i===null?null:i.stateNode,i};Xn.flushSync=function(i){return Ss(i)};Xn.hydrate=function(i,n,o){if(!Zf(n))throw Error(de(200));return Qf(null,i,n,!0,o)};Xn.hydrateRoot=function(i,n,o){if(!Eb(i))throw Error(de(405));var l=o!=null&&o.hydratedSources||null,u=!1,h="",f=K5;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),n=Y5(n,null,i,1,o??null,u,!1,h,f),i[Ir]=n.current,rd(i),l)for(i=0;i<l.length;i++)o=l[i],u=o._getVersion,u=u(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,u]:n.mutableSourceEagerHydrationData.push(o,u);return new Kf(n)};Xn.render=function(i,n,o){if(!Zf(n))throw Error(de(200));return Qf(null,i,n,!1,o)};Xn.unmountComponentAtNode=function(i){if(!Zf(i))throw Error(de(40));return i._reactRootContainer?(Ss(function(){Qf(null,null,i,!1,function(){i._reactRootContainer=null,i[Ir]=null})}),!0):!1};Xn.unstable_batchedUpdates=wb;Xn.unstable_renderSubtreeIntoContainer=function(i,n,o,l){if(!Zf(o))throw Error(de(200));if(i==null||i._reactInternals===void 0)throw Error(de(38));return Qf(i,n,o,!1,l)};Xn.version="18.2.0-next-9e3b772b8-20220608";function Z5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z5)}catch(i){console.error(i)}}Z5(),Y2.exports=Xn;var K6=Y2.exports,Ix=K6;kk.createRoot=Ix.createRoot,kk.hydrateRoot=Ix.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},fd.apply(this,arguments)}var wo;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(wo||(wo={}));const Mx="popstate";function Z6(i){i===void 0&&(i={});function n(l,u){let{pathname:h,search:f,hash:m}=l.location;return d0("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:xf(u)}return J6(n,o,null,i)}function Et(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Db(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Q6(){return Math.random().toString(36).substr(2,8)}function Nx(i,n){return{usr:i.state,key:i.key,idx:n}}function d0(i,n,o,l){return o===void 0&&(o=null),fd({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof n=="string"?tc(n):n,{state:o,key:n&&n.key||l||Q6()})}function xf(i){let{pathname:n="/",search:o="",hash:l=""}=i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function tc(i){let n={};if(i){let o=i.indexOf("#");o>=0&&(n.hash=i.substr(o),i=i.substr(0,o));let l=i.indexOf("?");l>=0&&(n.search=i.substr(l),i=i.substr(0,l)),i&&(n.pathname=i)}return n}function J6(i,n,o,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,m=wo.Pop,w=null,v=_();v==null&&(v=0,f.replaceState(fd({},f.state,{idx:v}),""));function _(){return(f.state||{idx:null}).idx}function y(){m=wo.Pop;let R=_(),P=R==null?null:R-v;v=R,w&&w({action:m,location:B.location,delta:P})}function x(R,P){m=wo.Push;let L=d0(B.location,R,P);o&&o(L,R),v=_()+1;let D=Nx(L,v),W=B.createHref(L);try{f.pushState(D,"",W)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;u.location.assign(W)}h&&w&&w({action:m,location:B.location,delta:1})}function S(R,P){m=wo.Replace;let L=d0(B.location,R,P);o&&o(L,R),v=_();let D=Nx(L,v),W=B.createHref(L);f.replaceState(D,"",W),h&&w&&w({action:m,location:B.location,delta:0})}function N(R){let P=u.location.origin!=="null"?u.location.origin:u.location.href,L=typeof R=="string"?R:xf(R);return Et(P,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,P)}let B={get action(){return m},get location(){return i(u,f)},listen(R){if(w)throw new Error("A history only accepts one active listener");return u.addEventListener(Mx,y),w=R,()=>{u.removeEventListener(Mx,y),w=null}},createHref(R){return n(u,R)},createURL:N,encodeLocation(R){let P=N(R);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:S,go(R){return f.go(R)}};return B}var Ox;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Ox||(Ox={}));function X6(i,n,o){o===void 0&&(o="/");let l=typeof n=="string"?tc(n):n,u=Sb(l.pathname||"/",o);if(u==null)return null;let h=Q5(i);eL(h);let f=null;for(let m=0;f==null&&m<h.length;++m)f=lL(h[m],hL(u));return f}function Q5(i,n,o,l){n===void 0&&(n=[]),o===void 0&&(o=[]),l===void 0&&(l="");let u=(h,f,m)=>{let w={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};w.relativePath.startsWith("/")&&(Et(w.relativePath.startsWith(l),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(l.length));let v=So([l,w.relativePath]),_=o.concat(w);h.children&&h.children.length>0&&(Et(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Q5(h.children,n,_,v)),!(h.path==null&&!h.index)&&n.push({path:v,score:aL(v,h.index),routesMeta:_})};return i.forEach((h,f)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,f);else for(let w of J5(h.path))u(h,f,w)}),n}function J5(i){let n=i.split("/");if(n.length===0)return[];let[o,...l]=n,u=o.endsWith("?"),h=o.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=J5(l.join("/")),m=[];return m.push(...f.map(w=>w===""?h:[h,w].join("/"))),u&&m.push(...f),m.map(w=>i.startsWith("/")&&w===""?"/":w)}function eL(i){i.sort((n,o)=>n.score!==o.score?o.score-n.score:cL(n.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}const tL=/^:\w+$/,nL=3,iL=2,rL=1,oL=10,sL=-2,Bx=i=>i==="*";function aL(i,n){let o=i.split("/"),l=o.length;return o.some(Bx)&&(l+=sL),n&&(l+=iL),o.filter(u=>!Bx(u)).reduce((u,h)=>u+(tL.test(h)?nL:h===""?rL:oL),l)}function cL(i,n){return i.length===n.length&&i.slice(0,-1).every((l,u)=>l===n[u])?i[i.length-1]-n[n.length-1]:0}function lL(i,n){let{routesMeta:o}=i,l={},u="/",h=[];for(let f=0;f<o.length;++f){let m=o[f],w=f===o.length-1,v=u==="/"?n:n.slice(u.length)||"/",_=dL({path:m.relativePath,caseSensitive:m.caseSensitive,end:w},v);if(!_)return null;Object.assign(l,_.params);let y=m.route;h.push({params:l,pathname:So([u,_.pathname]),pathnameBase:mL(So([u,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(u=So([u,_.pathnameBase]))}return h}function dL(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,l]=uL(i.path,i.caseSensitive,i.end),u=n.match(o);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((v,_,y)=>{let{paramName:x,isOptional:S}=_;if(x==="*"){let B=m[y]||"";f=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const N=m[y];return S&&!N?v[x]=void 0:v[x]=fL(N||"",x),v},{}),pathname:h,pathnameBase:f,pattern:i}}function uL(i,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),Db(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(f,m,w)=>(l.push({paramName:m,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function hL(i){try{return decodeURI(i)}catch(n){return Db(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),i}}function fL(i,n){try{return decodeURIComponent(i)}catch(o){return Db(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+o+").")),i}}function Sb(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,l=i.charAt(o);return l&&l!=="/"?null:i.slice(o)||"/"}function gL(i,n){n===void 0&&(n="/");let{pathname:o,search:l="",hash:u=""}=typeof i=="string"?tc(i):i;return{pathname:o?o.startsWith("/")?o:pL(o,n):n,search:kL(l),hash:bL(u)}}function pL(i,n){let o=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function nk(i,n,o,l){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tb(i){return i.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Ib(i,n,o,l){l===void 0&&(l=!1);let u;typeof i=="string"?u=tc(i):(u=fd({},i),Et(!u.pathname||!u.pathname.includes("?"),nk("?","pathname","search",u)),Et(!u.pathname||!u.pathname.includes("#"),nk("#","pathname","hash",u)),Et(!u.search||!u.search.includes("#"),nk("#","search","hash",u)));let h=i===""||u.pathname==="",f=h?"/":u.pathname,m;if(l||f==null)m=o;else{let y=n.length-1;if(f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),y-=1;u.pathname=x.join("/")}m=y>=0?n[y]:"/"}let w=gL(u,m),v=f&&f!=="/"&&f.endsWith("/"),_=(h||f===".")&&o.endsWith("/");return!w.pathname.endsWith("/")&&(v||_)&&(w.pathname+="/"),w}const So=i=>i.join("/").replace(/\/\/+/g,"/"),mL=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bL=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function wL(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const X5=["post","put","patch","delete"];new Set(X5);const vL=["get",...X5];new Set(vL);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},Ef.apply(this,arguments)}const Mb=te.createContext(null),_L=te.createContext(null),nc=te.createContext(null),Jf=te.createContext(null),zr=te.createContext({outlet:null,matches:[],isDataRoute:!1}),eD=te.createContext(null);function AL(i,n){let{relative:o}=n===void 0?{}:n;ic()||Et(!1);let{basename:l,navigator:u}=te.useContext(nc),{hash:h,pathname:f,search:m}=nD(i,{relative:o}),w=f;return l!=="/"&&(w=f==="/"?l:So([l,f])),u.createHref({pathname:w,search:m,hash:h})}function ic(){return te.useContext(Jf)!=null}function rc(){return ic()||Et(!1),te.useContext(Jf).location}function tD(i){te.useContext(nc).static||te.useLayoutEffect(i)}function jr(){let{isDataRoute:i}=te.useContext(zr);return i?PL():yL()}function yL(){ic()||Et(!1);let i=te.useContext(Mb),{basename:n,navigator:o}=te.useContext(nc),{matches:l}=te.useContext(zr),{pathname:u}=rc(),h=JSON.stringify(Tb(l).map(w=>w.pathnameBase)),f=te.useRef(!1);return tD(()=>{f.current=!0}),te.useCallback(function(w,v){if(v===void 0&&(v={}),!f.current)return;if(typeof w=="number"){o.go(w);return}let _=Ib(w,JSON.parse(h),u,v.relative==="path");i==null&&n!=="/"&&(_.pathname=_.pathname==="/"?n:So([n,_.pathname])),(v.replace?o.replace:o.push)(_,v.state,v)},[n,o,h,u,i])}function Nb(){let{matches:i}=te.useContext(zr),n=i[i.length-1];return n?n.params:{}}function nD(i,n){let{relative:o}=n===void 0?{}:n,{matches:l}=te.useContext(zr),{pathname:u}=rc(),h=JSON.stringify(Tb(l).map(f=>f.pathnameBase));return te.useMemo(()=>Ib(i,JSON.parse(h),u,o==="path"),[i,h,u,o])}function CL(i,n){return xL(i,n)}function xL(i,n,o){ic()||Et(!1);let{navigator:l}=te.useContext(nc),{matches:u}=te.useContext(zr),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let w=rc(),v;if(n){var _;let B=typeof n=="string"?tc(n):n;m==="/"||(_=B.pathname)!=null&&_.startsWith(m)||Et(!1),v=B}else v=w;let y=v.pathname||"/",x=m==="/"?y:y.slice(m.length)||"/",S=X6(i,{pathname:x}),N=IL(S&&S.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:So([m,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:So([m,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,o);return n&&N?te.createElement(Jf.Provider,{value:{location:Ef({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:wo.Pop}},N):N}function EL(){let i=BL(),n=wL(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},n),o?te.createElement("pre",{style:u},o):null,h)}const DL=te.createElement(EL,null);class SL extends te.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error?te.createElement(zr.Provider,{value:this.props.routeContext},te.createElement(eD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TL(i){let{routeContext:n,match:o,children:l}=i,u=te.useContext(Mb);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),te.createElement(zr.Provider,{value:n},l)}function IL(i,n,o){var l;if(n===void 0&&(n=[]),o===void 0&&(o=null),i==null){var u;if((u=o)!=null&&u.errors)i=o.matches;else return null}let h=i,f=(l=o)==null?void 0:l.errors;if(f!=null){let m=h.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id]));m>=0||Et(!1),h=h.slice(0,Math.min(h.length,m+1))}return h.reduceRight((m,w,v)=>{let _=w.route.id?f==null?void 0:f[w.route.id]:null,y=null;o&&(y=w.route.errorElement||DL);let x=n.concat(h.slice(0,v+1)),S=()=>{let N;return _?N=y:w.route.Component?N=te.createElement(w.route.Component,null):w.route.element?N=w.route.element:N=m,te.createElement(TL,{match:w,routeContext:{outlet:m,matches:x,isDataRoute:o!=null},children:N})};return o&&(w.route.ErrorBoundary||w.route.errorElement||v===0)?te.createElement(SL,{location:o.location,revalidation:o.revalidation,component:y,error:_,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}var iD=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(iD||{}),Df=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Df||{});function ML(i){let n=te.useContext(Mb);return n||Et(!1),n}function NL(i){let n=te.useContext(_L);return n||Et(!1),n}function OL(i){let n=te.useContext(zr);return n||Et(!1),n}function rD(i){let n=OL(),o=n.matches[n.matches.length-1];return o.route.id||Et(!1),o.route.id}function BL(){var i;let n=te.useContext(eD),o=NL(Df.UseRouteError),l=rD(Df.UseRouteError);return n||((i=o.errors)==null?void 0:i[l])}function PL(){let{router:i}=ML(iD.UseNavigateStable),n=rD(Df.UseNavigateStable),o=te.useRef(!1);return tD(()=>{o.current=!0}),te.useCallback(function(u,h){h===void 0&&(h={}),o.current&&(typeof u=="number"?i.navigate(u):i.navigate(u,Ef({fromRouteId:n},h)))},[i,n])}function LL(i){let{to:n,replace:o,state:l,relative:u}=i;ic()||Et(!1);let{matches:h}=te.useContext(zr),{pathname:f}=rc(),m=jr(),w=Ib(n,Tb(h).map(_=>_.pathnameBase),f,u==="path"),v=JSON.stringify(w);return te.useEffect(()=>m(JSON.parse(v),{replace:o,state:l,relative:u}),[m,v,u,o,l]),null}function Si(i){Et(!1)}function zL(i){let{basename:n="/",children:o=null,location:l,navigationType:u=wo.Pop,navigator:h,static:f=!1}=i;ic()&&Et(!1);let m=n.replace(/^\/*/,"/"),w=te.useMemo(()=>({basename:m,navigator:h,static:f}),[m,h,f]);typeof l=="string"&&(l=tc(l));let{pathname:v="/",search:_="",hash:y="",state:x=null,key:S="default"}=l,N=te.useMemo(()=>{let B=Sb(v,m);return B==null?null:{location:{pathname:B,search:_,hash:y,state:x,key:S},navigationType:u}},[m,v,_,y,x,S,u]);return N==null?null:te.createElement(nc.Provider,{value:w},te.createElement(Jf.Provider,{children:o,value:N}))}function jL(i){let{children:n,location:o}=i;return CL(u0(n),o)}new Promise(()=>{});function u0(i,n){n===void 0&&(n=[]);let o=[];return te.Children.forEach(i,(l,u)=>{if(!te.isValidElement(l))return;let h=[...n,u];if(l.type===te.Fragment){o.push.apply(o,u0(l.props.children,h));return}l.type!==Si&&Et(!1),!l.props.index||!l.props.children||Et(!1);let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=u0(l.props.children,h)),o.push(f)}),o}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},h0.apply(this,arguments)}function RL(i,n){if(i==null)return{};var o={},l=Object.keys(i),u,h;for(h=0;h<l.length;h++)u=l[h],!(n.indexOf(u)>=0)&&(o[u]=i[u]);return o}function FL(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function VL(i,n){return i.button===0&&(!n||n==="_self")&&!FL(i)}const UL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],HL="startTransition",Px=RB[HL];function $L(i){let{basename:n,children:o,future:l,window:u}=i,h=te.useRef();h.current==null&&(h.current=Z6({window:u,v5Compat:!0}));let f=h.current,[m,w]=te.useState({action:f.action,location:f.location}),{v7_startTransition:v}=l||{},_=te.useCallback(y=>{v&&Px?Px(()=>w(y)):w(y)},[w,v]);return te.useLayoutEffect(()=>f.listen(_),[f,_]),te.createElement(zL,{basename:n,children:o,location:m.location,navigationType:m.action,navigator:f})}const WL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=te.forwardRef(function(n,o){let{onClick:l,relative:u,reloadDocument:h,replace:f,state:m,target:w,to:v,preventScrollReset:_,unstable_viewTransition:y}=n,x=RL(n,UL),{basename:S}=te.useContext(nc),N,B=!1;if(typeof v=="string"&&qL.test(v)&&(N=v,WL))try{let D=new URL(window.location.href),W=v.startsWith("//")?new URL(D.protocol+v):new URL(v),Z=Sb(W.pathname,S);W.origin===D.origin&&Z!=null?v=Z+W.search+W.hash:B=!0}catch{}let R=AL(v,{relative:u}),P=GL(v,{replace:f,state:m,target:w,preventScrollReset:_,relative:u,unstable_viewTransition:y});function L(D){l&&l(D),D.defaultPrevented||P(D)}return te.createElement("a",h0({},x,{href:N||R,onClick:B||h?l:L,ref:o,target:w}))});var Lx;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Lx||(Lx={}));var zx;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function GL(i,n){let{target:o,replace:l,state:u,preventScrollReset:h,relative:f,unstable_viewTransition:m}=n===void 0?{}:n,w=jr(),v=rc(),_=nD(i,{relative:f});return te.useCallback(y=>{if(VL(y,o)){y.preventDefault();let x=l!==void 0?l:xf(v)===xf(_);w(i,{replace:x,state:u,preventScrollReset:h,relative:f,unstable_viewTransition:m})}},[v,w,_,l,u,o,i,h,f,m])}function Or(i){return Array.isArray?Array.isArray(i):aD(i)==="[object Array]"}const YL=1/0;function KL(i){if(typeof i=="string")return i;let n=i+"";return n=="0"&&1/i==-YL?"-0":n}function ZL(i){return i==null?"":KL(i)}function rr(i){return typeof i=="string"}function oD(i){return typeof i=="number"}function QL(i){return i===!0||i===!1||JL(i)&&aD(i)=="[object Boolean]"}function sD(i){return typeof i=="object"}function JL(i){return sD(i)&&i!==null}function Yn(i){return i!=null}function ik(i){return!i.trim().length}function aD(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const XL="Incorrect 'index' type",ez=i=>`Invalid value for key ${i}`,tz=i=>`Pattern length exceeds max of ${i}.`,nz=i=>`Missing ${i} property in key`,iz=i=>`Property 'weight' in key '${i}' must be a positive integer`,jx=Object.prototype.hasOwnProperty;class rz{constructor(n){this._keys=[],this._keyMap={};let o=0;n.forEach(l=>{let u=cD(l);this._keys.push(u),this._keyMap[u.id]=u,o+=u.weight}),this._keys.forEach(l=>{l.weight/=o})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function cD(i){let n=null,o=null,l=null,u=1,h=null;if(rr(i)||Or(i))l=i,n=Rx(i),o=f0(i);else{if(!jx.call(i,"name"))throw new Error(nz("name"));const f=i.name;if(l=f,jx.call(i,"weight")&&(u=i.weight,u<=0))throw new Error(iz(f));n=Rx(f),o=f0(f),h=i.getFn}return{path:n,id:o,weight:u,src:l,getFn:h}}function Rx(i){return Or(i)?i:i.split(".")}function f0(i){return Or(i)?i.join("."):i}function oz(i,n){let o=[],l=!1;const u=(h,f,m)=>{if(Yn(h))if(!f[m])o.push(h);else{let w=f[m];const v=h[w];if(!Yn(v))return;if(m===f.length-1&&(rr(v)||oD(v)||QL(v)))o.push(ZL(v));else if(Or(v)){l=!0;for(let _=0,y=v.length;_<y;_+=1)u(v[_],f,m+1)}else f.length&&u(v,f,m+1)}};return u(i,rr(n)?n.split("."):n,0),l?o:o[0]}const sz={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},az={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,n)=>i.score===n.score?i.idx<n.idx?-1:1:i.score<n.score?-1:1},cz={location:0,threshold:.6,distance:100},lz={useExtendedSearch:!1,getFn:oz,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Se={...az,...sz,...cz,...lz};const dz=/[^ ]+/g;function uz(i=1,n=3){const o=new Map,l=Math.pow(10,n);return{get(u){const h=u.match(dz).length;if(o.has(h))return o.get(h);const f=1/Math.pow(h,.5*i),m=parseFloat(Math.round(f*l)/l);return o.set(h,m),m},clear(){o.clear()}}}class Ob{constructor({getFn:n=Se.getFn,fieldNormWeight:o=Se.fieldNormWeight}={}){this.norm=uz(o,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((o,l)=>{this._keysMap[o.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,rr(this.docs[0])?this.docs.forEach((n,o)=>{this._addString(n,o)}):this.docs.forEach((n,o)=>{this._addObject(n,o)}),this.norm.clear())}add(n){const o=this.size();rr(n)?this._addString(n,o):this._addObject(n,o)}removeAt(n){this.records.splice(n,1);for(let o=n,l=this.size();o<l;o+=1)this.records[o].i-=1}getValueForItemAtKeyId(n,o){return n[this._keysMap[o]]}size(){return this.records.length}_addString(n,o){if(!Yn(n)||ik(n))return;let l={v:n,i:o,n:this.norm.get(n)};this.records.push(l)}_addObject(n,o){let l={i:o,$:{}};this.keys.forEach((u,h)=>{let f=u.getFn?u.getFn(n):this.getFn(n,u.path);if(Yn(f)){if(Or(f)){let m=[];const w=[{nestedArrIndex:-1,value:f}];for(;w.length;){const{nestedArrIndex:v,value:_}=w.pop();if(Yn(_))if(rr(_)&&!ik(_)){let y={v:_,i:v,n:this.norm.get(_)};m.push(y)}else Or(_)&&_.forEach((y,x)=>{w.push({nestedArrIndex:x,value:y})})}l.$[h]=m}else if(rr(f)&&!ik(f)){let m={v:f,n:this.norm.get(f)};l.$[h]=m}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function lD(i,n,{getFn:o=Se.getFn,fieldNormWeight:l=Se.fieldNormWeight}={}){const u=new Ob({getFn:o,fieldNormWeight:l});return u.setKeys(i.map(cD)),u.setSources(n),u.create(),u}function hz(i,{getFn:n=Se.getFn,fieldNormWeight:o=Se.fieldNormWeight}={}){const{keys:l,records:u}=i,h=new Ob({getFn:n,fieldNormWeight:o});return h.setKeys(l),h.setIndexRecords(u),h}function xh(i,{errors:n=0,currentLocation:o=0,expectedLocation:l=0,distance:u=Se.distance,ignoreLocation:h=Se.ignoreLocation}={}){const f=n/i.length;if(h)return f;const m=Math.abs(l-o);return u?f+m/u:m?1:f}function fz(i=[],n=Se.minMatchCharLength){let o=[],l=-1,u=-1,h=0;for(let f=i.length;h<f;h+=1){let m=i[h];m&&l===-1?l=h:!m&&l!==-1&&(u=h-1,u-l+1>=n&&o.push([l,u]),l=-1)}return i[h-1]&&h-l>=n&&o.push([l,h-1]),o}const fs=32;function gz(i,n,o,{location:l=Se.location,distance:u=Se.distance,threshold:h=Se.threshold,findAllMatches:f=Se.findAllMatches,minMatchCharLength:m=Se.minMatchCharLength,includeMatches:w=Se.includeMatches,ignoreLocation:v=Se.ignoreLocation}={}){if(n.length>fs)throw new Error(tz(fs));const _=n.length,y=i.length,x=Math.max(0,Math.min(l,y));let S=h,N=x;const B=m>1||w,R=B?Array(y):[];let P;for(;(P=i.indexOf(n,N))>-1;){let X=xh(n,{currentLocation:P,expectedLocation:x,distance:u,ignoreLocation:v});if(S=Math.min(X,S),N=P+_,B){let ae=0;for(;ae<_;)R[P+ae]=1,ae+=1}}N=-1;let L=[],D=1,W=_+y;const Z=1<<_-1;for(let X=0;X<_;X+=1){let ae=0,ue=W;for(;ae<ue;)xh(n,{errors:X,currentLocation:x+ue,expectedLocation:x,distance:u,ignoreLocation:v})<=S?ae=ue:W=ue,ue=Math.floor((W-ae)/2+ae);W=ue;let be=Math.max(1,x-ue+1),G=f?y:Math.min(x+ue,y)+_,Y=Array(G+2);Y[G+1]=(1<<X)-1;for(let U=G;U>=be;U-=1){let $=U-1,J=o[i.charAt($)];if(B&&(R[$]=+!!J),Y[U]=(Y[U+1]<<1|1)&J,X&&(Y[U]|=(L[U+1]|L[U])<<1|1|L[U+1]),Y[U]&Z&&(D=xh(n,{errors:X,currentLocation:$,expectedLocation:x,distance:u,ignoreLocation:v}),D<=S)){if(S=D,N=$,N<=x)break;be=Math.max(1,2*x-N)}}if(xh(n,{errors:X+1,currentLocation:x,expectedLocation:x,distance:u,ignoreLocation:v})>S)break;L=Y}const ee={isMatch:N>=0,score:Math.max(.001,D)};if(B){const X=fz(R,m);X.length?w&&(ee.indices=X):ee.isMatch=!1}return ee}function pz(i){let n={};for(let o=0,l=i.length;o<l;o+=1){const u=i.charAt(o);n[u]=(n[u]||0)|1<<l-o-1}return n}class dD{constructor(n,{location:o=Se.location,threshold:l=Se.threshold,distance:u=Se.distance,includeMatches:h=Se.includeMatches,findAllMatches:f=Se.findAllMatches,minMatchCharLength:m=Se.minMatchCharLength,isCaseSensitive:w=Se.isCaseSensitive,ignoreLocation:v=Se.ignoreLocation}={}){if(this.options={location:o,threshold:l,distance:u,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:w,ignoreLocation:v},this.pattern=w?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const _=(x,S)=>{this.chunks.push({pattern:x,alphabet:pz(x),startIndex:S})},y=this.pattern.length;if(y>fs){let x=0;const S=y%fs,N=y-S;for(;x<N;)_(this.pattern.substr(x,fs),x),x+=fs;if(S){const B=y-fs;_(this.pattern.substr(B),B)}}else _(this.pattern,0)}searchIn(n){const{isCaseSensitive:o,includeMatches:l}=this.options;if(o||(n=n.toLowerCase()),this.pattern===n){let N={isMatch:!0,score:0};return l&&(N.indices=[[0,n.length-1]]),N}const{location:u,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:w,ignoreLocation:v}=this.options;let _=[],y=0,x=!1;this.chunks.forEach(({pattern:N,alphabet:B,startIndex:R})=>{const{isMatch:P,score:L,indices:D}=gz(n,N,B,{location:u+R,distance:h,threshold:f,findAllMatches:m,minMatchCharLength:w,includeMatches:l,ignoreLocation:v});P&&(x=!0),y+=L,P&&D&&(_=[..._,...D])});let S={isMatch:x,score:x?y/this.chunks.length:1};return x&&l&&(S.indices=_),S}}class Bo{constructor(n){this.pattern=n}static isMultiMatch(n){return Fx(n,this.multiRegex)}static isSingleMatch(n){return Fx(n,this.singleRegex)}search(){}}function Fx(i,n){const o=i.match(n);return o?o[1]:null}class mz extends Bo{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const o=n===this.pattern;return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}class kz extends Bo{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const l=n.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,n.length-1]}}}class bz extends Bo{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const o=n.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}class wz extends Bo{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const o=!n.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class vz extends Bo{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const o=n.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class _z extends Bo{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const o=!n.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class uD extends Bo{constructor(n,{location:o=Se.location,threshold:l=Se.threshold,distance:u=Se.distance,includeMatches:h=Se.includeMatches,findAllMatches:f=Se.findAllMatches,minMatchCharLength:m=Se.minMatchCharLength,isCaseSensitive:w=Se.isCaseSensitive,ignoreLocation:v=Se.ignoreLocation}={}){super(n),this._bitapSearch=new dD(n,{location:o,threshold:l,distance:u,includeMatches:h,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:w,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class hD extends Bo{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let o=0,l;const u=[],h=this.pattern.length;for(;(l=n.indexOf(this.pattern,o))>-1;)o=l+h,u.push([l,o-1]);const f=!!u.length;return{isMatch:f,score:f?0:1,indices:u}}}const g0=[mz,hD,bz,wz,_z,vz,kz,uD],Vx=g0.length,Az=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,yz="|";function Cz(i,n={}){return i.split(yz).map(o=>{let l=o.trim().split(Az).filter(h=>h&&!!h.trim()),u=[];for(let h=0,f=l.length;h<f;h+=1){const m=l[h];let w=!1,v=-1;for(;!w&&++v<Vx;){const _=g0[v];let y=_.isMultiMatch(m);y&&(u.push(new _(y,n)),w=!0)}if(!w)for(v=-1;++v<Vx;){const _=g0[v];let y=_.isSingleMatch(m);if(y){u.push(new _(y,n));break}}}return u})}const xz=new Set([uD.type,hD.type]);class Ez{constructor(n,{isCaseSensitive:o=Se.isCaseSensitive,includeMatches:l=Se.includeMatches,minMatchCharLength:u=Se.minMatchCharLength,ignoreLocation:h=Se.ignoreLocation,findAllMatches:f=Se.findAllMatches,location:m=Se.location,threshold:w=Se.threshold,distance:v=Se.distance}={}){this.query=null,this.options={isCaseSensitive:o,includeMatches:l,minMatchCharLength:u,findAllMatches:f,ignoreLocation:h,location:m,threshold:w,distance:v},this.pattern=o?n:n.toLowerCase(),this.query=Cz(this.pattern,this.options)}static condition(n,o){return o.useExtendedSearch}searchIn(n){const o=this.query;if(!o)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:u}=this.options;n=u?n:n.toLowerCase();let h=0,f=[],m=0;for(let w=0,v=o.length;w<v;w+=1){const _=o[w];f.length=0,h=0;for(let y=0,x=_.length;y<x;y+=1){const S=_[y],{isMatch:N,indices:B,score:R}=S.search(n);if(N){if(h+=1,m+=R,l){const P=S.constructor.type;xz.has(P)?f=[...f,...B]:f.push(B)}}else{m=0,h=0,f.length=0;break}}if(h){let y={isMatch:!0,score:m/h};return l&&(y.indices=f),y}}return{isMatch:!1,score:1}}}const p0=[];function Dz(...i){p0.push(...i)}function m0(i,n){for(let o=0,l=p0.length;o<l;o+=1){let u=p0[o];if(u.condition(i,n))return new u(i,n)}return new dD(i,n)}const Sf={AND:"$and",OR:"$or"},k0={PATH:"$path",PATTERN:"$val"},b0=i=>!!(i[Sf.AND]||i[Sf.OR]),Sz=i=>!!i[k0.PATH],Tz=i=>!Or(i)&&sD(i)&&!b0(i),Ux=i=>({[Sf.AND]:Object.keys(i).map(n=>({[n]:i[n]}))});function fD(i,n,{auto:o=!0}={}){const l=u=>{let h=Object.keys(u);const f=Sz(u);if(!f&&h.length>1&&!b0(u))return l(Ux(u));if(Tz(u)){const w=f?u[k0.PATH]:h[0],v=f?u[k0.PATTERN]:u[w];if(!rr(v))throw new Error(ez(w));const _={keyId:f0(w),pattern:v};return o&&(_.searcher=m0(v,n)),_}let m={children:[],operator:h[0]};return h.forEach(w=>{const v=u[w];Or(v)&&v.forEach(_=>{m.children.push(l(_))})}),m};return b0(i)||(i=Ux(i)),l(i)}function Iz(i,{ignoreFieldNorm:n=Se.ignoreFieldNorm}){i.forEach(o=>{let l=1;o.matches.forEach(({key:u,norm:h,score:f})=>{const m=u?u.weight:null;l*=Math.pow(f===0&&m?Number.EPSILON:f,(m||1)*(n?1:h))}),o.score=l})}function Mz(i,n){const o=i.matches;n.matches=[],Yn(o)&&o.forEach(l=>{if(!Yn(l.indices)||!l.indices.length)return;const{indices:u,value:h}=l;let f={indices:u,value:h};l.key&&(f.key=l.key.src),l.idx>-1&&(f.refIndex=l.idx),n.matches.push(f)})}function Nz(i,n){n.score=i.score}function Oz(i,n,{includeMatches:o=Se.includeMatches,includeScore:l=Se.includeScore}={}){const u=[];return o&&u.push(Mz),l&&u.push(Nz),i.map(h=>{const{idx:f}=h,m={item:n[f],refIndex:f};return u.length&&u.forEach(w=>{w(h,m)}),m})}class oc{constructor(n,o={},l){this.options={...Se,...o},this.options.useExtendedSearch,this._keyStore=new rz(this.options.keys),this.setCollection(n,l)}setCollection(n,o){if(this._docs=n,o&&!(o instanceof Ob))throw new Error(XL);this._myIndex=o||lD(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Yn(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const o=[];for(let l=0,u=this._docs.length;l<u;l+=1){const h=this._docs[l];n(h,l)&&(this.removeAt(l),l-=1,u-=1,o.push(h))}return o}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:o=-1}={}){const{includeMatches:l,includeScore:u,shouldSort:h,sortFn:f,ignoreFieldNorm:m}=this.options;let w=rr(n)?rr(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return Iz(w,{ignoreFieldNorm:m}),h&&w.sort(f),oD(o)&&o>-1&&(w=w.slice(0,o)),Oz(w,this._docs,{includeMatches:l,includeScore:u})}_searchStringList(n){const o=m0(n,this.options),{records:l}=this._myIndex,u=[];return l.forEach(({v:h,i:f,n:m})=>{if(!Yn(h))return;const{isMatch:w,score:v,indices:_}=o.searchIn(h);w&&u.push({item:h,idx:f,matches:[{score:v,value:h,norm:m,indices:_}]})}),u}_searchLogical(n){const o=fD(n,this.options),l=(m,w,v)=>{if(!m.children){const{keyId:y,searcher:x}=m,S=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(w,y),searcher:x});return S&&S.length?[{idx:v,item:w,matches:S}]:[]}const _=[];for(let y=0,x=m.children.length;y<x;y+=1){const S=m.children[y],N=l(S,w,v);if(N.length)_.push(...N);else if(m.operator===Sf.AND)return[]}return _},u=this._myIndex.records,h={},f=[];return u.forEach(({$:m,i:w})=>{if(Yn(m)){let v=l(o,m,w);v.length&&(h[w]||(h[w]={idx:w,item:m,matches:[]},f.push(h[w])),v.forEach(({matches:_})=>{h[w].matches.push(..._)}))}}),f}_searchObjectList(n){const o=m0(n,this.options),{keys:l,records:u}=this._myIndex,h=[];return u.forEach(({$:f,i:m})=>{if(!Yn(f))return;let w=[];l.forEach((v,_)=>{w.push(...this._findMatches({key:v,value:f[_],searcher:o}))}),w.length&&h.push({idx:m,item:f,matches:w})}),h}_findMatches({key:n,value:o,searcher:l}){if(!Yn(o))return[];let u=[];if(Or(o))o.forEach(({v:h,i:f,n:m})=>{if(!Yn(h))return;const{isMatch:w,score:v,indices:_}=l.searchIn(h);w&&u.push({score:v,key:n,value:h,idx:f,norm:m,indices:_})});else{const{v:h,n:f}=o,{isMatch:m,score:w,indices:v}=l.searchIn(h);m&&u.push({score:w,key:n,value:h,norm:f,indices:v})}return u}}oc.version="7.0.0";oc.createIndex=lD;oc.parseIndex=hz;oc.config=Se;oc.parseQuery=fD;Dz(Ez);const Bz=(i,n,o)=>{const u=new oc(n,{keys:o}).search(i);return i?u.map(f=>f.item):n};class Ms extends Error{}class Pz extends Ms{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class Lz extends Ms{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class zz extends Ms{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Ml extends Ms{}class gD extends Ms{constructor(n){super(`Invalid unit ${n}`)}}class ui extends Ms{}class ro extends Ms{constructor(){super("Zone is an abstract class")}}const me="numeric",ji="short",Qn="long",Tf={year:me,month:me,day:me},pD={year:me,month:ji,day:me},jz={year:me,month:ji,day:me,weekday:ji},mD={year:me,month:Qn,day:me},kD={year:me,month:Qn,day:me,weekday:Qn},bD={hour:me,minute:me},wD={hour:me,minute:me,second:me},vD={hour:me,minute:me,second:me,timeZoneName:ji},_D={hour:me,minute:me,second:me,timeZoneName:Qn},AD={hour:me,minute:me,hourCycle:"h23"},yD={hour:me,minute:me,second:me,hourCycle:"h23"},CD={hour:me,minute:me,second:me,hourCycle:"h23",timeZoneName:ji},xD={hour:me,minute:me,second:me,hourCycle:"h23",timeZoneName:Qn},ED={year:me,month:me,day:me,hour:me,minute:me},DD={year:me,month:me,day:me,hour:me,minute:me,second:me},SD={year:me,month:ji,day:me,hour:me,minute:me},TD={year:me,month:ji,day:me,hour:me,minute:me,second:me},Rz={year:me,month:ji,day:me,weekday:ji,hour:me,minute:me},ID={year:me,month:Qn,day:me,hour:me,minute:me,timeZoneName:ji},MD={year:me,month:Qn,day:me,hour:me,minute:me,second:me,timeZoneName:ji},ND={year:me,month:Qn,day:me,weekday:Qn,hour:me,minute:me,timeZoneName:Qn},OD={year:me,month:Qn,day:me,weekday:Qn,hour:me,minute:me,second:me,timeZoneName:Qn};class _d{get type(){throw new ro}get name(){throw new ro}get ianaName(){return this.name}get isUniversal(){throw new ro}offsetName(n,o){throw new ro}formatOffset(n,o){throw new ro}offset(n){throw new ro}equals(n){throw new ro}get isValid(){throw new ro}}let rk=null;class Xf extends _d{static get instance(){return rk===null&&(rk=new Xf),rk}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:o,locale:l}){return PD(n,o,l)}formatOffset(n,o){return Wl(this.offset(n),o)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}let Kh={};function Fz(i){return Kh[i]||(Kh[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Kh[i]}const Vz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Uz(i,n){const o=i.format(n).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(o),[,u,h,f,m,w,v,_]=l;return[f,u,h,m,w,v,_]}function Hz(i,n){const o=i.formatToParts(n),l=[];for(let u=0;u<o.length;u++){const{type:h,value:f}=o[u],m=Vz[h];h==="era"?l[m]=f:je(m)||(l[m]=parseInt(f,10))}return l}let Eh={};class Br extends _d{static create(n){return Eh[n]||(Eh[n]=new Br(n)),Eh[n]}static resetCache(){Eh={},Kh={}}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Br.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:o,locale:l}){return PD(n,o,l,this.name)}formatOffset(n,o){return Wl(this.offset(n),o)}offset(n){const o=new Date(n);if(isNaN(o))return NaN;const l=Fz(this.name);let[u,h,f,m,w,v,_]=l.formatToParts?Hz(l,o):Uz(l,o);m==="BC"&&(u=-Math.abs(u)+1);const x=tg({year:u,month:h,day:f,hour:w===24?0:w,minute:v,second:_,millisecond:0});let S=+o;const N=S%1e3;return S-=N>=0?N:1e3+N,(x-S)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let Hx={};function $z(i,n={}){const o=JSON.stringify([i,n]);let l=Hx[o];return l||(l=new Intl.ListFormat(i,n),Hx[o]=l),l}let w0={};function v0(i,n={}){const o=JSON.stringify([i,n]);let l=w0[o];return l||(l=new Intl.DateTimeFormat(i,n),w0[o]=l),l}let _0={};function Wz(i,n={}){const o=JSON.stringify([i,n]);let l=_0[o];return l||(l=new Intl.NumberFormat(i,n),_0[o]=l),l}let A0={};function qz(i,n={}){const{base:o,...l}=n,u=JSON.stringify([i,l]);let h=A0[u];return h||(h=new Intl.RelativeTimeFormat(i,n),A0[u]=h),h}let Nl=null;function Gz(){return Nl||(Nl=new Intl.DateTimeFormat().resolvedOptions().locale,Nl)}function Yz(i){const n=i.indexOf("-x-");n!==-1&&(i=i.substring(0,n));const o=i.indexOf("-u-");if(o===-1)return[i];{let l,u;try{l=v0(i).resolvedOptions(),u=i}catch{const w=i.substring(0,o);l=v0(w).resolvedOptions(),u=w}const{numberingSystem:h,calendar:f}=l;return[u,h,f]}}function Kz(i,n,o){return(o||n)&&(i.includes("-u-")||(i+="-u"),o&&(i+=`-ca-${o}`),n&&(i+=`-nu-${n}`)),i}function Zz(i){const n=[];for(let o=1;o<=12;o++){const l=Ie.utc(2009,o,1);n.push(i(l))}return n}function Qz(i){const n=[];for(let o=1;o<=7;o++){const l=Ie.utc(2016,11,13+o);n.push(i(l))}return n}function Dh(i,n,o,l){const u=i.listingMode();return u==="error"?null:u==="en"?o(n):l(n)}function Jz(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}class Xz{constructor(n,o,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:u,floor:h,...f}=l;if(!o||Object.keys(f).length>0){const m={useGrouping:!1,...l};l.padTo>0&&(m.minimumIntegerDigits=l.padTo),this.inf=Wz(n,m)}}format(n){if(this.inf){const o=this.floor?Math.floor(n):n;return this.inf.format(o)}else{const o=this.floor?Math.floor(n):Pb(n,3);return Nt(o,this.padTo)}}}class ej{constructor(n,o,l){this.opts=l,this.originalZone=void 0;let u;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&Br.create(m).valid?(u=m,this.dt=n):(u="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,u=n.zone.name):(u="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const h={...this.opts};h.timeZone=h.timeZone||u,this.dtf=v0(o,h)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(o=>{if(o.type==="timeZoneName"){const l=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...o,value:l}}else return o}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class tj{constructor(n,o,l){this.opts={style:"long",...l},!o&&BD()&&(this.rtf=qz(n,l))}format(n,o){return this.rtf?this.rtf.format(n,o):bj(o,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,o){return this.rtf?this.rtf.formatToParts(n,o):[]}}class ut{static fromOpts(n){return ut.create(n.locale,n.numberingSystem,n.outputCalendar,n.defaultToEN)}static create(n,o,l,u=!1){const h=n||Mt.defaultLocale,f=h||(u?"en-US":Gz()),m=o||Mt.defaultNumberingSystem,w=l||Mt.defaultOutputCalendar;return new ut(f,m,w,h)}static resetCache(){Nl=null,w0={},_0={},A0={}}static fromObject({locale:n,numberingSystem:o,outputCalendar:l}={}){return ut.create(n,o,l)}constructor(n,o,l,u){const[h,f,m]=Yz(n);this.locale=h,this.numberingSystem=o||f||null,this.outputCalendar=l||m||null,this.intl=Kz(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Jz(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&o?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:ut.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,o=!1){return Dh(this,n,jD,()=>{const l=o?{month:n,day:"numeric"}:{month:n},u=o?"format":"standalone";return this.monthsCache[u][n]||(this.monthsCache[u][n]=Zz(h=>this.extract(h,l,"month"))),this.monthsCache[u][n]})}weekdays(n,o=!1){return Dh(this,n,VD,()=>{const l=o?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},u=o?"format":"standalone";return this.weekdaysCache[u][n]||(this.weekdaysCache[u][n]=Qz(h=>this.extract(h,l,"weekday"))),this.weekdaysCache[u][n]})}meridiems(){return Dh(this,void 0,()=>UD,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ie.utc(2016,11,13,9),Ie.utc(2016,11,13,19)].map(o=>this.extract(o,n,"dayperiod"))}return this.meridiemCache})}eras(n){return Dh(this,n,HD,()=>{const o={era:n};return this.eraCache[n]||(this.eraCache[n]=[Ie.utc(-40,1,1),Ie.utc(2017,1,1)].map(l=>this.extract(l,o,"era"))),this.eraCache[n]})}extract(n,o,l){const u=this.dtFormatter(n,o),h=u.formatToParts(),f=h.find(m=>m.type.toLowerCase()===l);return f?f.value:null}numberFormatter(n={}){return new Xz(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,o={}){return new ej(n,this.intl,o)}relFormatter(n={}){return new tj(this.intl,this.isEnglish(),n)}listFormatter(n={}){return $z(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}}let ok=null;class _n extends _d{static get utcInstance(){return ok===null&&(ok=new _n(0)),ok}static instance(n){return n===0?_n.utcInstance:new _n(n)}static parseSpecifier(n){if(n){const o=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new _n(ng(o[1],o[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Wl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Wl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,o){return Wl(this.fixed,o)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class nj extends _d{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function go(i,n){if(je(i)||i===null)return n;if(i instanceof _d)return i;if(ij(i)){const o=i.toLowerCase();return o==="default"?n:o==="local"||o==="system"?Xf.instance:o==="utc"||o==="gmt"?_n.utcInstance:_n.parseSpecifier(o)||Br.create(i)}else return ys(i)?_n.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new nj(i)}let $x=()=>Date.now(),Wx="system",qx=null,Gx=null,Yx=null,Kx=60,Zx;class Mt{static get now(){return $x}static set now(n){$x=n}static set defaultZone(n){Wx=n}static get defaultZone(){return go(Wx,Xf.instance)}static get defaultLocale(){return qx}static set defaultLocale(n){qx=n}static get defaultNumberingSystem(){return Gx}static set defaultNumberingSystem(n){Gx=n}static get defaultOutputCalendar(){return Yx}static set defaultOutputCalendar(n){Yx=n}static get twoDigitCutoffYear(){return Kx}static set twoDigitCutoffYear(n){Kx=n%100}static get throwOnInvalid(){return Zx}static set throwOnInvalid(n){Zx=n}static resetCaches(){ut.resetCache(),Br.resetCache()}}function je(i){return typeof i>"u"}function ys(i){return typeof i=="number"}function eg(i){return typeof i=="number"&&i%1===0}function ij(i){return typeof i=="string"}function rj(i){return Object.prototype.toString.call(i)==="[object Date]"}function BD(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oj(i){return Array.isArray(i)?i:[i]}function Qx(i,n,o){if(i.length!==0)return i.reduce((l,u)=>{const h=[n(u),u];return l&&o(l[0],h[0])===l[0]?l:h},null)[1]}function sj(i,n){return n.reduce((o,l)=>(o[l]=i[l],o),{})}function Qa(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function Dr(i,n,o){return eg(i)&&i>=n&&i<=o}function aj(i,n){return i-n*Math.floor(i/n)}function Nt(i,n=2){const o=i<0;let l;return o?l="-"+(""+-i).padStart(n,"0"):l=(""+i).padStart(n,"0"),l}function lo(i){if(!(je(i)||i===null||i===""))return parseInt(i,10)}function as(i){if(!(je(i)||i===null||i===""))return parseFloat(i)}function Bb(i){if(!(je(i)||i===null||i==="")){const n=parseFloat("0."+i)*1e3;return Math.floor(n)}}function Pb(i,n,o=!1){const l=10**n;return(o?Math.trunc:Math.round)(i*l)/l}function Ad(i){return i%4===0&&(i%100!==0||i%400===0)}function $l(i){return Ad(i)?366:365}function If(i,n){const o=aj(n-1,12)+1,l=i+(n-o)/12;return o===2?Ad(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function tg(i){let n=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(n=new Date(n),n.setUTCFullYear(i.year,i.month-1,i.day)),+n}function Mf(i){const n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7,o=i-1,l=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7;return n===4||l===3?53:52}function y0(i){return i>99?i:i>Mt.twoDigitCutoffYear?1900+i:2e3+i}function PD(i,n,o,l=null){const u=new Date(i),h={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(h.timeZone=l);const f={timeZoneName:n,...h},m=new Intl.DateTimeFormat(o,f).formatToParts(u).find(w=>w.type.toLowerCase()==="timezonename");return m?m.value:null}function ng(i,n){let o=parseInt(i,10);Number.isNaN(o)&&(o=0);const l=parseInt(n,10)||0,u=o<0||Object.is(o,-0)?-l:l;return o*60+u}function LD(i){const n=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(n))throw new ui(`Invalid unit value ${i}`);return n}function Nf(i,n){const o={};for(const l in i)if(Qa(i,l)){const u=i[l];if(u==null)continue;o[n(l)]=LD(u)}return o}function Wl(i,n){const o=Math.trunc(Math.abs(i/60)),l=Math.trunc(Math.abs(i%60)),u=i>=0?"+":"-";switch(n){case"short":return`${u}${Nt(o,2)}:${Nt(l,2)}`;case"narrow":return`${u}${o}${l>0?`:${l}`:""}`;case"techie":return`${u}${Nt(o,2)}${Nt(l,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function ig(i){return sj(i,["hour","minute","second","millisecond"])}const cj=["January","February","March","April","May","June","July","August","September","October","November","December"],zD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lj=["J","F","M","A","M","J","J","A","S","O","N","D"];function jD(i){switch(i){case"narrow":return[...lj];case"short":return[...zD];case"long":return[...cj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const RD=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],FD=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],dj=["M","T","W","T","F","S","S"];function VD(i){switch(i){case"narrow":return[...dj];case"short":return[...FD];case"long":return[...RD];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const UD=["AM","PM"],uj=["Before Christ","Anno Domini"],hj=["BC","AD"],fj=["B","A"];function HD(i){switch(i){case"narrow":return[...fj];case"short":return[...hj];case"long":return[...uj];default:return null}}function gj(i){return UD[i.hour<12?0:1]}function pj(i,n){return VD(n)[i.weekday-1]}function mj(i,n){return jD(n)[i.month-1]}function kj(i,n){return HD(n)[i.year<0?0:1]}function bj(i,n,o="always",l=!1){const u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},h=["hours","minutes","seconds"].indexOf(i)===-1;if(o==="auto"&&h){const y=i==="days";switch(n){case 1:return y?"tomorrow":`next ${u[i][0]}`;case-1:return y?"yesterday":`last ${u[i][0]}`;case 0:return y?"today":`this ${u[i][0]}`}}const f=Object.is(n,-0)||n<0,m=Math.abs(n),w=m===1,v=u[i],_=l?w?v[1]:v[2]||v[1]:w?u[i][0]:i;return f?`${m} ${_} ago`:`in ${m} ${_}`}function Jx(i,n){let o="";for(const l of i)l.literal?o+=l.val:o+=n(l.val);return o}const wj={D:Tf,DD:pD,DDD:mD,DDDD:kD,t:bD,tt:wD,ttt:vD,tttt:_D,T:AD,TT:yD,TTT:CD,TTTT:xD,f:ED,ff:SD,fff:ID,ffff:ND,F:DD,FF:TD,FFF:MD,FFFF:OD};class dn{static create(n,o={}){return new dn(n,o)}static parseFormat(n){let o=null,l="",u=!1;const h=[];for(let f=0;f<n.length;f++){const m=n.charAt(f);m==="'"?(l.length>0&&h.push({literal:u||/^\s+$/.test(l),val:l}),o=null,l="",u=!u):u||m===o?l+=m:(l.length>0&&h.push({literal:/^\s+$/.test(l),val:l}),l=m,o=m)}return l.length>0&&h.push({literal:u||/^\s+$/.test(l),val:l}),h}static macroTokenToFormatOpts(n){return wj[n]}constructor(n,o){this.opts=o,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,o){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...o}).format()}dtFormatter(n,o={}){return this.loc.dtFormatter(n,{...this.opts,...o})}formatDateTime(n,o){return this.dtFormatter(n,o).format()}formatDateTimeParts(n,o){return this.dtFormatter(n,o).formatToParts()}formatInterval(n,o){return this.dtFormatter(n.start,o).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,o){return this.dtFormatter(n,o).resolvedOptions()}num(n,o=0){if(this.opts.forceSimple)return Nt(n,o);const l={...this.opts};return o>0&&(l.padTo=o),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,o){const l=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",h=(S,N)=>this.loc.extract(n,S,N),f=S=>n.isOffsetFixed&&n.offset===0&&S.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,S.format):"",m=()=>l?gj(n):h({hour:"numeric",hourCycle:"h12"},"dayperiod"),w=(S,N)=>l?mj(n,S):h(N?{month:S}:{month:S,day:"numeric"},"month"),v=(S,N)=>l?pj(n,S):h(N?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),_=S=>{const N=dn.macroTokenToFormatOpts(S);return N?this.formatWithSystemDefault(n,N):S},y=S=>l?kj(n,S):h({era:S},"era"),x=S=>{switch(S){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return m();case"d":return u?h({day:"numeric"},"day"):this.num(n.day);case"dd":return u?h({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return v("short",!0);case"cccc":return v("long",!0);case"ccccc":return v("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return v("short",!1);case"EEEE":return v("long",!1);case"EEEEE":return v("narrow",!1);case"L":return u?h({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return u?h({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return w("short",!0);case"LLLL":return w("long",!0);case"LLLLL":return w("narrow",!0);case"M":return u?h({month:"numeric"},"month"):this.num(n.month);case"MM":return u?h({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return w("short",!1);case"MMMM":return w("long",!1);case"MMMMM":return w("narrow",!1);case"y":return u?h({year:"numeric"},"year"):this.num(n.year);case"yy":return u?h({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return u?h({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return u?h({year:"numeric"},"year"):this.num(n.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return _(S)}};return Jx(dn.parseFormat(o),x)}formatDurationFromString(n,o){const l=w=>{switch(w[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=w=>v=>{const _=l(v);return _?this.num(w.get(_),v.length):v},h=dn.parseFormat(o),f=h.reduce((w,{literal:v,val:_})=>v?w:w.concat(_),[]),m=n.shiftTo(...f.map(l).filter(w=>w));return Jx(h,u(m))}}class Bi{constructor(n,o){this.reason=n,this.explanation=o}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const $D=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function sc(...i){const n=i.reduce((o,l)=>o+l.source,"");return RegExp(`^${n}$`)}function ac(...i){return n=>i.reduce(([o,l,u],h)=>{const[f,m,w]=h(n,u);return[{...o,...f},m||l,w]},[{},null,1]).slice(0,2)}function cc(i,...n){if(i==null)return[null,null];for(const[o,l]of n){const u=o.exec(i);if(u)return l(u)}return[null,null]}function WD(...i){return(n,o)=>{const l={};let u;for(u=0;u<i.length;u++)l[i[u]]=lo(n[o+u]);return[l,null,o+u]}}const qD=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vj=`(?:${qD.source}?(?:\\[(${$D.source})\\])?)?`,Lb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,GD=RegExp(`${Lb.source}${vj}`),zb=RegExp(`(?:T${GD.source})?`),_j=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Aj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,yj=/(\d{4})-?(\d{3})/,Cj=WD("weekYear","weekNumber","weekDay"),xj=WD("year","ordinal"),Ej=/(\d{4})-(\d\d)-(\d\d)/,YD=RegExp(`${Lb.source} ?(?:${qD.source}|(${$D.source}))?`),Dj=RegExp(`(?: ${YD.source})?`);function Ha(i,n,o){const l=i[n];return je(l)?o:lo(l)}function Sj(i,n){return[{year:Ha(i,n),month:Ha(i,n+1,1),day:Ha(i,n+2,1)},null,n+3]}function lc(i,n){return[{hours:Ha(i,n,0),minutes:Ha(i,n+1,0),seconds:Ha(i,n+2,0),milliseconds:Bb(i[n+3])},null,n+4]}function yd(i,n){const o=!i[n]&&!i[n+1],l=ng(i[n+1],i[n+2]),u=o?null:_n.instance(l);return[{},u,n+3]}function Cd(i,n){const o=i[n]?Br.create(i[n]):null;return[{},o,n+1]}const Tj=RegExp(`^T?${Lb.source}$`),Ij=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Mj(i){const[n,o,l,u,h,f,m,w,v]=i,_=n[0]==="-",y=w&&w[0]==="-",x=(S,N=!1)=>S!==void 0&&(N||S&&_)?-S:S;return[{years:x(as(o)),months:x(as(l)),weeks:x(as(u)),days:x(as(h)),hours:x(as(f)),minutes:x(as(m)),seconds:x(as(w),w==="-0"),milliseconds:x(Bb(v),y)}]}const Nj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jb(i,n,o,l,u,h,f){const m={year:n.length===2?y0(lo(n)):lo(n),month:zD.indexOf(o)+1,day:lo(l),hour:lo(u),minute:lo(h)};return f&&(m.second=lo(f)),i&&(m.weekday=i.length>3?RD.indexOf(i)+1:FD.indexOf(i)+1),m}const Oj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Bj(i){const[,n,o,l,u,h,f,m,w,v,_,y]=i,x=jb(n,u,l,o,h,f,m);let S;return w?S=Nj[w]:v?S=0:S=ng(_,y),[x,new _n(S)]}function Pj(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Lj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,zj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,jj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Xx(i){const[,n,o,l,u,h,f,m]=i;return[jb(n,u,l,o,h,f,m),_n.utcInstance]}function Rj(i){const[,n,o,l,u,h,f,m]=i;return[jb(n,m,o,l,u,h,f),_n.utcInstance]}const Fj=sc(_j,zb),Vj=sc(Aj,zb),Uj=sc(yj,zb),Hj=sc(GD),KD=ac(Sj,lc,yd,Cd),$j=ac(Cj,lc,yd,Cd),Wj=ac(xj,lc,yd,Cd),qj=ac(lc,yd,Cd);function Gj(i){return cc(i,[Fj,KD],[Vj,$j],[Uj,Wj],[Hj,qj])}function Yj(i){return cc(Pj(i),[Oj,Bj])}function Kj(i){return cc(i,[Lj,Xx],[zj,Xx],[jj,Rj])}function Zj(i){return cc(i,[Ij,Mj])}const Qj=ac(lc);function Jj(i){return cc(i,[Tj,Qj])}const Xj=sc(Ej,Dj),e7=sc(YD),t7=ac(lc,yd,Cd);function n7(i){return cc(i,[Xj,KD],[e7,t7])}const e2="Invalid Duration",ZD={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},i7={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ZD},ai=146097/400,ba=146097/4800,r7={years:{quarters:4,months:12,weeks:ai/7,days:ai,hours:ai*24,minutes:ai*24*60,seconds:ai*24*60*60,milliseconds:ai*24*60*60*1e3},quarters:{months:3,weeks:ai/28,days:ai/4,hours:ai*24/4,minutes:ai*24*60/4,seconds:ai*24*60*60/4,milliseconds:ai*24*60*60*1e3/4},months:{weeks:ba/7,days:ba,hours:ba*24,minutes:ba*24*60,seconds:ba*24*60*60,milliseconds:ba*24*60*60*1e3},...ZD},vs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],o7=vs.slice(0).reverse();function oo(i,n,o=!1){const l={values:o?n.values:{...i.values,...n.values||{}},loc:i.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||i.conversionAccuracy,matrix:n.matrix||i.matrix};return new Ue(l)}function QD(i,n){let o=n.milliseconds??0;for(const l of o7.slice(1))n[l]&&(o+=n[l]*i[l].milliseconds);return o}function t2(i,n){const o=QD(i,n)<0?-1:1;vs.reduceRight((l,u)=>{if(je(n[u]))return l;if(l){const h=n[l]*o,f=i[u][l],m=Math.floor(h/f);n[u]+=m*o,n[l]-=m*f*o}return u},null),vs.reduce((l,u)=>{if(je(n[u]))return l;if(l){const h=n[l]%1;n[l]-=h,n[u]+=h*i[l][u]}return u},null)}function s7(i){const n={};for(const[o,l]of Object.entries(i))l!==0&&(n[o]=l);return n}class Ue{constructor(n){const o=n.conversionAccuracy==="longterm"||!1;let l=o?r7:i7;n.matrix&&(l=n.matrix),this.values=n.values,this.loc=n.loc||ut.create(),this.conversionAccuracy=o?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=l,this.isLuxonDuration=!0}static fromMillis(n,o){return Ue.fromObject({milliseconds:n},o)}static fromObject(n,o={}){if(n==null||typeof n!="object")throw new ui(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new Ue({values:Nf(n,Ue.normalizeUnit),loc:ut.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static fromDurationLike(n){if(ys(n))return Ue.fromMillis(n);if(Ue.isDuration(n))return n;if(typeof n=="object")return Ue.fromObject(n);throw new ui(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,o){const[l]=Zj(n);return l?Ue.fromObject(l,o):Ue.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,o){const[l]=Jj(n);return l?Ue.fromObject(l,o):Ue.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,o=null){if(!n)throw new ui("need to specify a reason the Duration is invalid");const l=n instanceof Bi?n:new Bi(n,o);if(Mt.throwOnInvalid)throw new zz(l);return new Ue({invalid:l})}static normalizeUnit(n){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!o)throw new gD(n);return o}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,o={}){const l={...o,floor:o.round!==!1&&o.floor!==!1};return this.isValid?dn.create(this.loc,l).formatDurationFromString(this,n):e2}toHuman(n={}){if(!this.isValid)return e2;const o=vs.map(l=>{const u=this.values[l];return je(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(o)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Pb(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Ie.fromMillis(o,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?QD(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const o=Ue.fromDurationLike(n),l={};for(const u of vs)(Qa(o.values,u)||Qa(this.values,u))&&(l[u]=o.get(u)+this.get(u));return oo(this,{values:l},!0)}minus(n){if(!this.isValid)return this;const o=Ue.fromDurationLike(n);return this.plus(o.negate())}mapUnits(n){if(!this.isValid)return this;const o={};for(const l of Object.keys(this.values))o[l]=LD(n(this.values[l],l));return oo(this,{values:o},!0)}get(n){return this[Ue.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const o={...this.values,...Nf(n,Ue.normalizeUnit)};return oo(this,{values:o})}reconfigure({locale:n,numberingSystem:o,conversionAccuracy:l,matrix:u}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:o}),matrix:u,conversionAccuracy:l};return oo(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return t2(this.matrix,n),oo(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=s7(this.normalize().shiftToAll().toObject());return oo(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>Ue.normalizeUnit(f));const o={},l={},u=this.toObject();let h;for(const f of vs)if(n.indexOf(f)>=0){h=f;let m=0;for(const v in l)m+=this.matrix[v][f]*l[v],l[v]=0;ys(u[f])&&(m+=u[f]);const w=Math.trunc(m);o[f]=w,l[f]=(m*1e3-w*1e3)/1e3}else ys(u[f])&&(l[f]=u[f]);for(const f in l)l[f]!==0&&(o[h]+=f===h?l[f]:l[f]/this.matrix[h][f]);return t2(this.matrix,o),oo(this,{values:o},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const o of Object.keys(this.values))n[o]=this.values[o]===0?0:-this.values[o];return oo(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function o(l,u){return l===void 0||l===0?u===void 0||u===0:l===u}for(const l of vs)if(!o(this.values[l],n.values[l]))return!1;return!0}}const wa="Invalid Interval";function a7(i,n){return!i||!i.isValid?vt.invalid("missing or invalid start"):!n||!n.isValid?vt.invalid("missing or invalid end"):n<i?vt.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${n.toISO()}`):null}class vt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,o=null){if(!n)throw new ui("need to specify a reason the Interval is invalid");const l=n instanceof Bi?n:new Bi(n,o);if(Mt.throwOnInvalid)throw new Lz(l);return new vt({invalid:l})}static fromDateTimes(n,o){const l=xl(n),u=xl(o),h=a7(l,u);return h??new vt({start:l,end:u})}static after(n,o){const l=Ue.fromDurationLike(o),u=xl(n);return vt.fromDateTimes(u,u.plus(l))}static before(n,o){const l=Ue.fromDurationLike(o),u=xl(n);return vt.fromDateTimes(u.minus(l),u)}static fromISO(n,o){const[l,u]=(n||"").split("/",2);if(l&&u){let h,f;try{h=Ie.fromISO(l,o),f=h.isValid}catch{f=!1}let m,w;try{m=Ie.fromISO(u,o),w=m.isValid}catch{w=!1}if(f&&w)return vt.fromDateTimes(h,m);if(f){const v=Ue.fromISO(u,o);if(v.isValid)return vt.after(h,v)}else if(w){const v=Ue.fromISO(l,o);if(v.isValid)return vt.before(m,v)}}return vt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds"){if(!this.isValid)return NaN;const o=this.start.startOf(n),l=this.end.startOf(n);return Math.floor(l.diff(o,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:o}={}){return this.isValid?vt.fromDateTimes(n||this.s,o||this.e):this}splitAt(...n){if(!this.isValid)return[];const o=n.map(xl).filter(f=>this.contains(f)).sort(),l=[];let{s:u}=this,h=0;for(;u<this.e;){const f=o[h]||this.e,m=+f>+this.e?this.e:f;l.push(vt.fromDateTimes(u,m)),u=m,h+=1}return l}splitBy(n){const o=Ue.fromDurationLike(n);if(!this.isValid||!o.isValid||o.as("milliseconds")===0)return[];let{s:l}=this,u=1,h;const f=[];for(;l<this.e;){const m=this.start.plus(o.mapUnits(w=>w*u));h=+m>+this.e?this.e:m,f.push(vt.fromDateTimes(l,h)),l=h,u+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const o=this.s>n.s?this.s:n.s,l=this.e<n.e?this.e:n.e;return o>=l?null:vt.fromDateTimes(o,l)}union(n){if(!this.isValid)return this;const o=this.s<n.s?this.s:n.s,l=this.e>n.e?this.e:n.e;return vt.fromDateTimes(o,l)}static merge(n){const[o,l]=n.sort((u,h)=>u.s-h.s).reduce(([u,h],f)=>h?h.overlaps(f)||h.abutsStart(f)?[u,h.union(f)]:[u.concat([h]),f]:[u,f],[[],null]);return l&&o.push(l),o}static xor(n){let o=null,l=0;const u=[],h=n.map(w=>[{time:w.s,type:"s"},{time:w.e,type:"e"}]),f=Array.prototype.concat(...h),m=f.sort((w,v)=>w.time-v.time);for(const w of m)l+=w.type==="s"?1:-1,l===1?o=w.time:(o&&+o!=+w.time&&u.push(vt.fromDateTimes(o,w.time)),o=null);return vt.merge(u)}difference(...n){return vt.xor([this].concat(n)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:wa}toLocaleString(n=Tf,o={}){return this.isValid?dn.create(this.s.loc.clone(o),n).formatInterval(this):wa}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:wa}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:wa}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:wa}toFormat(n,{separator:o=" – "}={}){return this.isValid?`${this.s.toFormat(n)}${o}${this.e.toFormat(n)}`:wa}toDuration(n,o){return this.isValid?this.e.diff(this.s,n,o):Ue.invalid(this.invalidReason)}mapEndpoints(n){return vt.fromDateTimes(n(this.s),n(this.e))}}class Sh{static hasDST(n=Mt.defaultZone){const o=Ie.now().setZone(n).set({month:12});return!n.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(n){return Br.isValidZone(n)}static normalizeZone(n){return go(n,Mt.defaultZone)}static months(n="long",{locale:o=null,numberingSystem:l=null,locObj:u=null,outputCalendar:h="gregory"}={}){return(u||ut.create(o,l,h)).months(n)}static monthsFormat(n="long",{locale:o=null,numberingSystem:l=null,locObj:u=null,outputCalendar:h="gregory"}={}){return(u||ut.create(o,l,h)).months(n,!0)}static weekdays(n="long",{locale:o=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ut.create(o,l,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:o=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ut.create(o,l,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return ut.create(n).meridiems()}static eras(n="short",{locale:o=null}={}){return ut.create(o,null,"gregory").eras(n)}static features(){return{relative:BD()}}}function n2(i,n){const o=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=o(n)-o(i);return Math.floor(Ue.fromMillis(l).as("days"))}function c7(i,n,o){const l=[["years",(w,v)=>v.year-w.year],["quarters",(w,v)=>v.quarter-w.quarter+(v.year-w.year)*4],["months",(w,v)=>v.month-w.month+(v.year-w.year)*12],["weeks",(w,v)=>{const _=n2(w,v);return(_-_%7)/7}],["days",n2]],u={},h=i;let f,m;for(const[w,v]of l)o.indexOf(w)>=0&&(f=w,u[w]=v(i,n),m=h.plus(u),m>n?(u[w]--,i=h.plus(u),i>n&&(m=i,u[w]--,i=h.plus(u))):i=m);return[i,u,m,f]}function l7(i,n,o,l){let[u,h,f,m]=c7(i,n,o);const w=n-u,v=o.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);v.length===0&&(f<n&&(f=u.plus({[m]:1})),f!==u&&(h[m]=(h[m]||0)+w/(f-u)));const _=Ue.fromObject(h,l);return v.length>0?Ue.fromMillis(w,l).shiftTo(...v).plus(_):_}const Rb={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},i2={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},d7=Rb.hanidec.replace(/[\[|\]]/g,"").split("");function u7(i){let n=parseInt(i,10);if(isNaN(n)){n="";for(let o=0;o<i.length;o++){const l=i.charCodeAt(o);if(i[o].search(Rb.hanidec)!==-1)n+=d7.indexOf(i[o]);else for(const u in i2){const[h,f]=i2[u];l>=h&&l<=f&&(n+=l-h)}}return parseInt(n,10)}else return n}function xi({numberingSystem:i},n=""){return new RegExp(`${Rb[i||"latn"]}${n}`)}const h7="missing Intl.DateTimeFormat.formatToParts support";function Qe(i,n=o=>o){return{regex:i,deser:([o])=>n(u7(o))}}const f7=String.fromCharCode(160),JD=`[ ${f7}]`,XD=new RegExp(JD,"g");function g7(i){return i.replace(/\./g,"\\.?").replace(XD,JD)}function r2(i){return i.replace(/\./g,"").replace(XD," ").toLowerCase()}function Ei(i,n){return i===null?null:{regex:RegExp(i.map(g7).join("|")),deser:([o])=>i.findIndex(l=>r2(o)===r2(l))+n}}function o2(i,n){return{regex:i,deser:([,o,l])=>ng(o,l),groups:n}}function Th(i){return{regex:i,deser:([n])=>n}}function p7(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function m7(i,n){const o=xi(n),l=xi(n,"{2}"),u=xi(n,"{3}"),h=xi(n,"{4}"),f=xi(n,"{6}"),m=xi(n,"{1,2}"),w=xi(n,"{1,3}"),v=xi(n,"{1,6}"),_=xi(n,"{1,9}"),y=xi(n,"{2,4}"),x=xi(n,"{4,6}"),S=R=>({regex:RegExp(p7(R.val)),deser:([P])=>P,literal:!0}),B=(R=>{if(i.literal)return S(R);switch(R.val){case"G":return Ei(n.eras("short"),0);case"GG":return Ei(n.eras("long"),0);case"y":return Qe(v);case"yy":return Qe(y,y0);case"yyyy":return Qe(h);case"yyyyy":return Qe(x);case"yyyyyy":return Qe(f);case"M":return Qe(m);case"MM":return Qe(l);case"MMM":return Ei(n.months("short",!0),1);case"MMMM":return Ei(n.months("long",!0),1);case"L":return Qe(m);case"LL":return Qe(l);case"LLL":return Ei(n.months("short",!1),1);case"LLLL":return Ei(n.months("long",!1),1);case"d":return Qe(m);case"dd":return Qe(l);case"o":return Qe(w);case"ooo":return Qe(u);case"HH":return Qe(l);case"H":return Qe(m);case"hh":return Qe(l);case"h":return Qe(m);case"mm":return Qe(l);case"m":return Qe(m);case"q":return Qe(m);case"qq":return Qe(l);case"s":return Qe(m);case"ss":return Qe(l);case"S":return Qe(w);case"SSS":return Qe(u);case"u":return Th(_);case"uu":return Th(m);case"uuu":return Qe(o);case"a":return Ei(n.meridiems(),0);case"kkkk":return Qe(h);case"kk":return Qe(y,y0);case"W":return Qe(m);case"WW":return Qe(l);case"E":case"c":return Qe(o);case"EEE":return Ei(n.weekdays("short",!1),1);case"EEEE":return Ei(n.weekdays("long",!1),1);case"ccc":return Ei(n.weekdays("short",!0),1);case"cccc":return Ei(n.weekdays("long",!0),1);case"Z":case"ZZ":return o2(new RegExp(`([+-]${m.source})(?::(${l.source}))?`),2);case"ZZZ":return o2(new RegExp(`([+-]${m.source})(${l.source})?`),2);case"z":return Th(/[a-z_+-/]{1,256}?/i);case" ":return Th(/[^\S\n\r]/);default:return S(R)}})(i)||{invalidReason:h7};return B.token=i,B}const k7={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function b7(i,n,o){const{type:l,value:u}=i;if(l==="literal"){const w=/^\s+$/.test(u);return{literal:!w,val:w?" ":u}}const h=n[l];let f=l;l==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=o.hour12?"hour12":"hour24");let m=k7[f];if(typeof m=="object"&&(m=m[h]),m)return{literal:!1,val:m}}function w7(i){return[`^${i.map(o=>o.regex).reduce((o,l)=>`${o}(${l.source})`,"")}$`,i]}function v7(i,n,o){const l=i.match(n);if(l){const u={};let h=1;for(const f in o)if(Qa(o,f)){const m=o[f],w=m.groups?m.groups+1:1;!m.literal&&m.token&&(u[m.token.val[0]]=m.deser(l.slice(h,h+w))),h+=w}return[l,u]}else return[l,{}]}function _7(i){const n=h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let o=null,l;return je(i.z)||(o=Br.create(i.z)),je(i.Z)||(o||(o=new _n(i.Z)),l=i.Z),je(i.q)||(i.M=(i.q-1)*3+1),je(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),je(i.u)||(i.S=Bb(i.u)),[Object.keys(i).reduce((h,f)=>{const m=n(f);return m&&(h[m]=i[f]),h},{}),o,l]}let sk=null;function A7(){return sk||(sk=Ie.fromMillis(1555555555555)),sk}function y7(i,n){if(i.literal)return i;const o=dn.macroTokenToFormatOpts(i.val),l=nS(o,n);return l==null||l.includes(void 0)?i:l}function eS(i,n){return Array.prototype.concat(...i.map(o=>y7(o,n)))}function tS(i,n,o){const l=eS(dn.parseFormat(o),i),u=l.map(f=>m7(f,i)),h=u.find(f=>f.invalidReason);if(h)return{input:n,tokens:l,invalidReason:h.invalidReason};{const[f,m]=w7(u),w=RegExp(f,"i"),[v,_]=v7(n,w,m),[y,x,S]=_?_7(_):[null,null,void 0];if(Qa(_,"a")&&Qa(_,"H"))throw new Ml("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:l,regex:w,rawMatches:v,matches:_,result:y,zone:x,specificOffset:S}}}function C7(i,n,o){const{result:l,zone:u,specificOffset:h,invalidReason:f}=tS(i,n,o);return[l,u,h,f]}function nS(i,n){if(!i)return null;const l=dn.create(n,i).dtFormatter(A7()),u=l.formatToParts(),h=l.resolvedOptions();return u.map(f=>b7(f,i,h))}const iS=[0,31,59,90,120,151,181,212,243,273,304,334],rS=[0,31,60,91,121,152,182,213,244,274,305,335];function fi(i,n){return new Bi("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${i}, which is invalid`)}function oS(i,n,o){const l=new Date(Date.UTC(i,n-1,o));i<100&&i>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const u=l.getUTCDay();return u===0?7:u}function sS(i,n,o){return o+(Ad(i)?rS:iS)[n-1]}function aS(i,n){const o=Ad(i)?rS:iS,l=o.findIndex(h=>h<n),u=n-o[l];return{month:l+1,day:u}}function C0(i){const{year:n,month:o,day:l}=i,u=sS(n,o,l),h=oS(n,o,l);let f=Math.floor((u-h+10)/7),m;return f<1?(m=n-1,f=Mf(m)):f>Mf(n)?(m=n+1,f=1):m=n,{weekYear:m,weekNumber:f,weekday:h,...ig(i)}}function s2(i){const{weekYear:n,weekNumber:o,weekday:l}=i,u=oS(n,1,4),h=$l(n);let f=o*7+l-u-3,m;f<1?(m=n-1,f+=$l(m)):f>h?(m=n+1,f-=$l(n)):m=n;const{month:w,day:v}=aS(m,f);return{year:m,month:w,day:v,...ig(i)}}function ak(i){const{year:n,month:o,day:l}=i,u=sS(n,o,l);return{year:n,ordinal:u,...ig(i)}}function a2(i){const{year:n,ordinal:o}=i,{month:l,day:u}=aS(n,o);return{year:n,month:l,day:u,...ig(i)}}function x7(i){const n=eg(i.weekYear),o=Dr(i.weekNumber,1,Mf(i.weekYear)),l=Dr(i.weekday,1,7);return n?o?l?!1:fi("weekday",i.weekday):fi("week",i.week):fi("weekYear",i.weekYear)}function E7(i){const n=eg(i.year),o=Dr(i.ordinal,1,$l(i.year));return n?o?!1:fi("ordinal",i.ordinal):fi("year",i.year)}function cS(i){const n=eg(i.year),o=Dr(i.month,1,12),l=Dr(i.day,1,If(i.year,i.month));return n?o?l?!1:fi("day",i.day):fi("month",i.month):fi("year",i.year)}function lS(i){const{hour:n,minute:o,second:l,millisecond:u}=i,h=Dr(n,0,23)||n===24&&o===0&&l===0&&u===0,f=Dr(o,0,59),m=Dr(l,0,59),w=Dr(u,0,999);return h?f?m?w?!1:fi("millisecond",u):fi("second",l):fi("minute",o):fi("hour",n)}const ck="Invalid DateTime",c2=864e13;function Ih(i){return new Bi("unsupported zone",`the zone "${i.name}" is not supported`)}function lk(i){return i.weekData===null&&(i.weekData=C0(i.c)),i.weekData}function cs(i,n){const o={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Ie({...o,...n,old:o})}function dS(i,n,o){let l=i-n*60*1e3;const u=o.offset(l);if(n===u)return[l,n];l-=(u-n)*60*1e3;const h=o.offset(l);return u===h?[l,u]:[i-Math.min(u,h)*60*1e3,Math.max(u,h)]}function Mh(i,n){i+=n*60*1e3;const o=new Date(i);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function Zh(i,n,o){return dS(tg(i),n,o)}function l2(i,n){const o=i.o,l=i.c.year+Math.trunc(n.years),u=i.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,h={...i.c,year:l,month:u,day:Math.min(i.c.day,If(l,u))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=Ue.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),m=tg(h);let[w,v]=dS(m,o,i.zone);return f!==0&&(w+=f,v=i.zone.offset(w)),{ts:w,o:v}}function Cl(i,n,o,l,u,h){const{setZone:f,zone:m}=o;if(i&&Object.keys(i).length!==0||n){const w=n||m,v=Ie.fromObject(i,{...o,zone:w,specificOffset:h});return f?v:v.setZone(m)}else return Ie.invalid(new Bi("unparsable",`the input "${u}" can't be parsed as ${l}`))}function Nh(i,n,o=!0){return i.isValid?dn.create(ut.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(i,n):null}function dk(i,n){const o=i.c.year>9999||i.c.year<0;let l="";return o&&i.c.year>=0&&(l+="+"),l+=Nt(i.c.year,o?6:4),n?(l+="-",l+=Nt(i.c.month),l+="-",l+=Nt(i.c.day)):(l+=Nt(i.c.month),l+=Nt(i.c.day)),l}function d2(i,n,o,l,u,h){let f=Nt(i.c.hour);return n?(f+=":",f+=Nt(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!o)&&(f+=":")):f+=Nt(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!o)&&(f+=Nt(i.c.second),(i.c.millisecond!==0||!l)&&(f+=".",f+=Nt(i.c.millisecond,3))),u&&(i.isOffsetFixed&&i.offset===0&&!h?f+="Z":i.o<0?(f+="-",f+=Nt(Math.trunc(-i.o/60)),f+=":",f+=Nt(Math.trunc(-i.o%60))):(f+="+",f+=Nt(Math.trunc(i.o/60)),f+=":",f+=Nt(Math.trunc(i.o%60)))),h&&(f+="["+i.zone.ianaName+"]"),f}const uS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},D7={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},S7={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hS=["year","month","day","hour","minute","second","millisecond"],T7=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],I7=["year","ordinal","hour","minute","second","millisecond"];function u2(i){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!n)throw new gD(i);return n}function h2(i,n){const o=go(n.zone,Mt.defaultZone),l=ut.fromObject(n),u=Mt.now();let h,f;if(je(i.year))h=u;else{for(const v of hS)je(i[v])&&(i[v]=uS[v]);const m=cS(i)||lS(i);if(m)return Ie.invalid(m);const w=o.offset(u);[h,f]=Zh(i,w,o)}return new Ie({ts:h,zone:o,loc:l,o:f})}function f2(i,n,o){const l=je(o.round)?!0:o.round,u=(f,m)=>(f=Pb(f,l||o.calendary?0:2,!0),n.loc.clone(o).relFormatter(o).format(f,m)),h=f=>o.calendary?n.hasSame(i,f)?0:n.startOf(f).diff(i.startOf(f),f).get(f):n.diff(i,f).get(f);if(o.unit)return u(h(o.unit),o.unit);for(const f of o.units){const m=h(f);if(Math.abs(m)>=1)return u(m,f)}return u(i>n?-0:0,o.units[o.units.length-1])}function g2(i){let n={},o;return i.length>0&&typeof i[i.length-1]=="object"?(n=i[i.length-1],o=Array.from(i).slice(0,i.length-1)):o=Array.from(i),[n,o]}class Ie{constructor(n){const o=n.zone||Mt.defaultZone;let l=n.invalid||(Number.isNaN(n.ts)?new Bi("invalid input"):null)||(o.isValid?null:Ih(o));this.ts=je(n.ts)?Mt.now():n.ts;let u=null,h=null;if(!l)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(o))[u,h]=[n.old.c,n.old.o];else{const m=o.offset(this.ts);u=Mh(this.ts,m),l=Number.isNaN(u.year)?new Bi("invalid input"):null,u=l?null:u,h=l?null:m}this._zone=o,this.loc=n.loc||ut.create(),this.invalid=l,this.weekData=null,this.c=u,this.o=h,this.isLuxonDateTime=!0}static now(){return new Ie({})}static local(){const[n,o]=g2(arguments),[l,u,h,f,m,w,v]=o;return h2({year:l,month:u,day:h,hour:f,minute:m,second:w,millisecond:v},n)}static utc(){const[n,o]=g2(arguments),[l,u,h,f,m,w,v]=o;return n.zone=_n.utcInstance,h2({year:l,month:u,day:h,hour:f,minute:m,second:w,millisecond:v},n)}static fromJSDate(n,o={}){const l=rj(n)?n.valueOf():NaN;if(Number.isNaN(l))return Ie.invalid("invalid input");const u=go(o.zone,Mt.defaultZone);return u.isValid?new Ie({ts:l,zone:u,loc:ut.fromObject(o)}):Ie.invalid(Ih(u))}static fromMillis(n,o={}){if(ys(n))return n<-c2||n>c2?Ie.invalid("Timestamp out of range"):new Ie({ts:n,zone:go(o.zone,Mt.defaultZone),loc:ut.fromObject(o)});throw new ui(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,o={}){if(ys(n))return new Ie({ts:n*1e3,zone:go(o.zone,Mt.defaultZone),loc:ut.fromObject(o)});throw new ui("fromSeconds requires a numerical input")}static fromObject(n,o={}){n=n||{};const l=go(o.zone,Mt.defaultZone);if(!l.isValid)return Ie.invalid(Ih(l));const u=Mt.now(),h=je(o.specificOffset)?l.offset(u):o.specificOffset,f=Nf(n,u2),m=!je(f.ordinal),w=!je(f.year),v=!je(f.month)||!je(f.day),_=w||v,y=f.weekYear||f.weekNumber,x=ut.fromObject(o);if((_||m)&&y)throw new Ml("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&m)throw new Ml("Can't mix ordinal dates with month/day");const S=y||f.weekday&&!_;let N,B,R=Mh(u,h);S?(N=T7,B=D7,R=C0(R)):m?(N=I7,B=S7,R=ak(R)):(N=hS,B=uS);let P=!1;for(const ae of N){const ue=f[ae];je(ue)?P?f[ae]=B[ae]:f[ae]=R[ae]:P=!0}const L=S?x7(f):m?E7(f):cS(f),D=L||lS(f);if(D)return Ie.invalid(D);const W=S?s2(f):m?a2(f):f,[Z,ee]=Zh(W,h,l),X=new Ie({ts:Z,zone:l,o:ee,loc:x});return f.weekday&&_&&n.weekday!==X.weekday?Ie.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${X.toISO()}`):X}static fromISO(n,o={}){const[l,u]=Gj(n);return Cl(l,u,o,"ISO 8601",n)}static fromRFC2822(n,o={}){const[l,u]=Yj(n);return Cl(l,u,o,"RFC 2822",n)}static fromHTTP(n,o={}){const[l,u]=Kj(n);return Cl(l,u,o,"HTTP",o)}static fromFormat(n,o,l={}){if(je(n)||je(o))throw new ui("fromFormat requires an input string and a format");const{locale:u=null,numberingSystem:h=null}=l,f=ut.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),[m,w,v,_]=C7(f,n,o);return _?Ie.invalid(_):Cl(m,w,l,`format ${o}`,n,v)}static fromString(n,o,l={}){return Ie.fromFormat(n,o,l)}static fromSQL(n,o={}){const[l,u]=n7(n);return Cl(l,u,o,"SQL",n)}static invalid(n,o=null){if(!n)throw new ui("need to specify a reason the DateTime is invalid");const l=n instanceof Bi?n:new Bi(n,o);if(Mt.throwOnInvalid)throw new Pz(l);return new Ie({invalid:l})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,o={}){const l=nS(n,ut.fromObject(o));return l?l.map(u=>u?u.val:null).join(""):null}static expandFormat(n,o={}){return eS(dn.parseFormat(n),ut.fromObject(o)).map(u=>u.val).join("")}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?lk(this).weekYear:NaN}get weekNumber(){return this.isValid?lk(this).weekNumber:NaN}get weekday(){return this.isValid?lk(this).weekday:NaN}get ordinal(){return this.isValid?ak(this.c).ordinal:NaN}get monthShort(){return this.isValid?Sh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Sh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Sh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Sh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,o=6e4,l=tg(this.c),u=this.zone.offset(l-n),h=this.zone.offset(l+n),f=this.zone.offset(l-u*o),m=this.zone.offset(l-h*o);if(f===m)return[this];const w=l-f*o,v=l-m*o,_=Mh(w,f),y=Mh(v,m);return _.hour===y.hour&&_.minute===y.minute&&_.second===y.second&&_.millisecond===y.millisecond?[cs(this,{ts:w}),cs(this,{ts:v})]:[this]}get isInLeapYear(){return Ad(this.year)}get daysInMonth(){return If(this.year,this.month)}get daysInYear(){return this.isValid?$l(this.year):NaN}get weeksInWeekYear(){return this.isValid?Mf(this.weekYear):NaN}resolvedLocaleOptions(n={}){const{locale:o,numberingSystem:l,calendar:u}=dn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:o,numberingSystem:l,outputCalendar:u}}toUTC(n=0,o={}){return this.setZone(_n.instance(n),o)}toLocal(){return this.setZone(Mt.defaultZone)}setZone(n,{keepLocalTime:o=!1,keepCalendarTime:l=!1}={}){if(n=go(n,Mt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let u=this.ts;if(o||l){const h=n.offset(this.ts),f=this.toObject();[u]=Zh(f,h,n)}return cs(this,{ts:u,zone:n})}else return Ie.invalid(Ih(n))}reconfigure({locale:n,numberingSystem:o,outputCalendar:l}={}){const u=this.loc.clone({locale:n,numberingSystem:o,outputCalendar:l});return cs(this,{loc:u})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const o=Nf(n,u2),l=!je(o.weekYear)||!je(o.weekNumber)||!je(o.weekday),u=!je(o.ordinal),h=!je(o.year),f=!je(o.month)||!je(o.day),m=h||f,w=o.weekYear||o.weekNumber;if((m||u)&&w)throw new Ml("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new Ml("Can't mix ordinal dates with month/day");let v;l?v=s2({...C0(this.c),...o}):je(o.ordinal)?(v={...this.toObject(),...o},je(o.day)&&(v.day=Math.min(If(v.year,v.month),v.day))):v=a2({...ak(this.c),...o});const[_,y]=Zh(v,this.o,this.zone);return cs(this,{ts:_,o:y})}plus(n){if(!this.isValid)return this;const o=Ue.fromDurationLike(n);return cs(this,l2(this,o))}minus(n){if(!this.isValid)return this;const o=Ue.fromDurationLike(n).negate();return cs(this,l2(this,o))}startOf(n){if(!this.isValid)return this;const o={},l=Ue.normalizeUnit(n);switch(l){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(l==="weeks"&&(o.weekday=1),l==="quarters"){const u=Math.ceil(this.month/3);o.month=(u-1)*3+1}return this.set(o)}endOf(n){return this.isValid?this.plus({[n]:1}).startOf(n).minus(1):this}toFormat(n,o={}){return this.isValid?dn.create(this.loc.redefaultToEN(o)).formatDateTimeFromString(this,n):ck}toLocaleString(n=Tf,o={}){return this.isValid?dn.create(this.loc.clone(o),n).formatDateTime(this):ck}toLocaleParts(n={}){return this.isValid?dn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:o=!1,suppressMilliseconds:l=!1,includeOffset:u=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const f=n==="extended";let m=dk(this,f);return m+="T",m+=d2(this,f,o,l,u,h),m}toISODate({format:n="extended"}={}){return this.isValid?dk(this,n==="extended"):null}toISOWeekDate(){return Nh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:o=!1,includeOffset:l=!0,includePrefix:u=!1,extendedZone:h=!1,format:f="extended"}={}){return this.isValid?(u?"T":"")+d2(this,f==="extended",o,n,l,h):null}toRFC2822(){return Nh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Nh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?dk(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:o=!1,includeOffsetSpace:l=!0}={}){let u="HH:mm:ss.SSS";return(o||n)&&(l&&(u+=" "),o?u+="z":n&&(u+="ZZ")),Nh(this,u,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():ck}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const o={...this.c};return n.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this.loc.numberingSystem,o.locale=this.loc.locale),o}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,o="milliseconds",l={}){if(!this.isValid||!n.isValid)return Ue.invalid("created by diffing an invalid DateTime");const u={locale:this.locale,numberingSystem:this.numberingSystem,...l},h=oj(o).map(Ue.normalizeUnit),f=n.valueOf()>this.valueOf(),m=f?this:n,w=f?n:this,v=l7(m,w,h,u);return f?v.negate():v}diffNow(n="milliseconds",o={}){return this.diff(Ie.now(),n,o)}until(n){return this.isValid?vt.fromDateTimes(this,n):this}hasSame(n,o){if(!this.isValid)return!1;const l=n.valueOf(),u=this.setZone(n.zone,{keepLocalTime:!0});return u.startOf(o)<=l&&l<=u.endOf(o)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const o=n.base||Ie.fromObject({},{zone:this.zone}),l=n.padding?this<o?-n.padding:n.padding:0;let u=["years","months","days","hours","minutes","seconds"],h=n.unit;return Array.isArray(n.unit)&&(u=n.unit,h=void 0),f2(o,this.plus(l),{...n,numeric:"always",units:u,unit:h})}toRelativeCalendar(n={}){return this.isValid?f2(n.base||Ie.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Ie.isDateTime))throw new ui("min requires all arguments be DateTimes");return Qx(n,o=>o.valueOf(),Math.min)}static max(...n){if(!n.every(Ie.isDateTime))throw new ui("max requires all arguments be DateTimes");return Qx(n,o=>o.valueOf(),Math.max)}static fromFormatExplain(n,o,l={}){const{locale:u=null,numberingSystem:h=null}=l,f=ut.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0});return tS(f,n,o)}static fromStringExplain(n,o,l={}){return Ie.fromFormatExplain(n,o,l)}static get DATE_SHORT(){return Tf}static get DATE_MED(){return pD}static get DATE_MED_WITH_WEEKDAY(){return jz}static get DATE_FULL(){return mD}static get DATE_HUGE(){return kD}static get TIME_SIMPLE(){return bD}static get TIME_WITH_SECONDS(){return wD}static get TIME_WITH_SHORT_OFFSET(){return vD}static get TIME_WITH_LONG_OFFSET(){return _D}static get TIME_24_SIMPLE(){return AD}static get TIME_24_WITH_SECONDS(){return yD}static get TIME_24_WITH_SHORT_OFFSET(){return CD}static get TIME_24_WITH_LONG_OFFSET(){return xD}static get DATETIME_SHORT(){return ED}static get DATETIME_SHORT_WITH_SECONDS(){return DD}static get DATETIME_MED(){return SD}static get DATETIME_MED_WITH_SECONDS(){return TD}static get DATETIME_MED_WITH_WEEKDAY(){return Rz}static get DATETIME_FULL(){return ID}static get DATETIME_FULL_WITH_SECONDS(){return MD}static get DATETIME_HUGE(){return ND}static get DATETIME_HUGE_WITH_SECONDS(){return OD}}function xl(i){if(Ie.isDateTime(i))return i;if(i&&i.valueOf&&ys(i.valueOf()))return Ie.fromJSDate(i);if(i&&typeof i=="object")return Ie.fromObject(i);throw new ui(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const p2=["year","month","week","day","hour","minute","second"],Of=i=>{const o=Ie.fromISO(i).diffNow().shiftTo(...p2),l=p2.find(h=>o.get(h)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(o.as(l)),l)},fS="/Book-Chronicles/assets/like-21544d1e.png",M7=i=>{const n=/<oembed[^>]*>/g,o=i.match(n);if(o){const u=`<iframe src="${o[0].match(/url="([^"]*)"/)[1]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;i=i.replace(n,u)}return i};function N7(i){return{__html:M7(i||"")}}function gS(i){return F.jsx("div",{dangerouslySetInnerHTML:N7(i)})}function pS({id:i,title:n,created_at:o,vote:l,category:u,username:h,img_url:f,content:m,currentUserLiked:w}){let v="back-pastel-green pastel-green";u=="review"?v="back-pastel-purple pastel-purple":u=="recommend"&&(v="back-pastel-red pastel-red");const _=m.length>=300?m.substring(0,300)+"...":m,y=gS(_);return F.jsxs(Oi,{className:"post-preview",to:`/Book-Chronicles/post/${i}`,children:[F.jsxs("div",{className:"post-preview-top",children:[F.jsxs("p",{className:"time-ago",children:["Posted ",o?Of(o):" "]}),F.jsxs("p",{className:`post-category ${v}`,children:["#",u]})]}),F.jsxs("div",{className:"post-preview-middle",children:[F.jsx("h2",{className:"pastel-black",children:n}),F.jsxs("div",{className:"post-preview-img-content",children:[f?F.jsx("img",{className:"post-preview-image",src:f}):"",F.jsxs("div",{className:"post-preview-content",children:[y," "]})]})]}),F.jsxs("div",{className:"post-preview-bot",children:[F.jsxs("div",{className:"vote-image",children:[F.jsx("img",{src:fS,className:"upvotes pastel-red"}),F.jsx("span",{className:"",children:F.jsxs("b",{className:w?"pastel-orange":"",children:[l," "]})})]}),F.jsx("p",{children:h?"~ "+h:""})]})]})}let O7={data:""},B7=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||O7,P7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,L7=/\/\*[^]*?\*\/|  +/g,m2=/\n+/g,po=(i,n)=>{let o="",l="",u="";for(let h in i){let f=i[h];h[0]=="@"?h[1]=="i"?o=h+" "+f+";":l+=h[1]=="f"?po(f,h):h+"{"+po(f,h[1]=="k"?"":n)+"}":typeof f=="object"?l+=po(f,n?n.replace(/([^,])+/g,m=>h.replace(/(^:.*)|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,m):m?m+" "+w:w)):h):f!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=po.p?po.p(h,f):h+":"+f+";")}return o+(n&&u?n+"{"+u+"}":u)+l},_r={},mS=i=>{if(typeof i=="object"){let n="";for(let o in i)n+=o+mS(i[o]);return n}return i},z7=(i,n,o,l,u)=>{let h=mS(i),f=_r[h]||(_r[h]=(w=>{let v=0,_=11;for(;v<w.length;)_=101*_+w.charCodeAt(v++)>>>0;return"go"+_})(h));if(!_r[f]){let w=h!==i?i:(v=>{let _,y,x=[{}];for(;_=P7.exec(v.replace(L7,""));)_[4]?x.shift():_[3]?(y=_[3].replace(m2," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][_[1]]=_[2].replace(m2," ").trim();return x[0]})(i);_r[f]=po(u?{["@keyframes "+f]:w}:w,o?"":"."+f)}let m=o&&_r.g?_r.g:null;return o&&(_r.g=_r[f]),((w,v,_,y)=>{y?v.data=v.data.replace(y,w):v.data.indexOf(w)===-1&&(v.data=_?w+v.data:v.data+w)})(_r[f],n,l,m),f},j7=(i,n,o)=>i.reduce((l,u,h)=>{let f=n[h];if(f&&f.call){let m=f(o),w=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=w?"."+w:m&&typeof m=="object"?m.props?"":po(m,""):m===!1?"":m}return l+u+(f??"")},"");function rg(i){let n=this||{},o=i.call?i(n.p):i;return z7(o.unshift?o.raw?j7(o,[].slice.call(arguments,1),n.p):o.reduce((l,u)=>Object.assign(l,u&&u.call?u(n.p):u),{}):o,B7(n.target),n.g,n.o,n.k)}let kS,x0,E0;rg.bind({g:1});let Pr=rg.bind({k:1});function R7(i,n,o,l){po.p=n,kS=i,x0=o,E0=l}function Po(i,n){let o=this||{};return function(){let l=arguments;function u(h,f){let m=Object.assign({},h),w=m.className||u.className;o.p=Object.assign({theme:x0&&x0()},m),o.o=/ *go\d+/.test(w),m.className=rg.apply(o,l)+(w?" "+w:""),n&&(m.ref=f);let v=i;return i[0]&&(v=m.as||i,delete m.as),E0&&v[0]&&E0(m),kS(v,m)}return n?n(u):u}}var F7=i=>typeof i=="function",Bf=(i,n)=>F7(i)?i(n):i,V7=(()=>{let i=0;return()=>(++i).toString()})(),bS=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");i=!n||n.matches}return i}})(),U7=20,Qh=new Map,H7=1e3,k2=i=>{if(Qh.has(i))return;let n=setTimeout(()=>{Qh.delete(i),Ns({type:4,toastId:i})},H7);Qh.set(i,n)},$7=i=>{let n=Qh.get(i);n&&clearTimeout(n)},D0=(i,n)=>{switch(n.type){case 0:return{...i,toasts:[n.toast,...i.toasts].slice(0,U7)};case 1:return n.toast.id&&$7(n.toast.id),{...i,toasts:i.toasts.map(h=>h.id===n.toast.id?{...h,...n.toast}:h)};case 2:let{toast:o}=n;return i.toasts.find(h=>h.id===o.id)?D0(i,{type:1,toast:o}):D0(i,{type:0,toast:o});case 3:let{toastId:l}=n;return l?k2(l):i.toasts.forEach(h=>{k2(h.id)}),{...i,toasts:i.toasts.map(h=>h.id===l||l===void 0?{...h,visible:!1}:h)};case 4:return n.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==n.toastId)};case 5:return{...i,pausedAt:n.time};case 6:let u=n.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Jh=[],Xh={toasts:[],pausedAt:void 0},Ns=i=>{Xh=D0(Xh,i),Jh.forEach(n=>{n(Xh)})},W7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},q7=(i={})=>{let[n,o]=te.useState(Xh);te.useEffect(()=>(Jh.push(o),()=>{let u=Jh.indexOf(o);u>-1&&Jh.splice(u,1)}),[n]);let l=n.toasts.map(u=>{var h,f;return{...i,...i[u.type],...u,duration:u.duration||((h=i[u.type])==null?void 0:h.duration)||(i==null?void 0:i.duration)||W7[u.type],style:{...i.style,...(f=i[u.type])==null?void 0:f.style,...u.style}}});return{...n,toasts:l}},G7=(i,n="blank",o)=>({createdAt:Date.now(),visible:!0,type:n,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...o,id:(o==null?void 0:o.id)||V7()}),xd=i=>(n,o)=>{let l=G7(n,i,o);return Ns({type:2,toast:l}),l.id},un=(i,n)=>xd("blank")(i,n);un.error=xd("error");un.success=xd("success");un.loading=xd("loading");un.custom=xd("custom");un.dismiss=i=>{Ns({type:3,toastId:i})};un.remove=i=>Ns({type:4,toastId:i});un.promise=(i,n,o)=>{let l=un.loading(n.loading,{...o,...o==null?void 0:o.loading});return i.then(u=>(un.success(Bf(n.success,u),{id:l,...o,...o==null?void 0:o.success}),u)).catch(u=>{un.error(Bf(n.error,u),{id:l,...o,...o==null?void 0:o.error})}),i};var Y7=(i,n)=>{Ns({type:1,toast:{id:i,height:n}})},K7=()=>{Ns({type:5,time:Date.now()})},Z7=i=>{let{toasts:n,pausedAt:o}=q7(i);te.useEffect(()=>{if(o)return;let h=Date.now(),f=n.map(m=>{if(m.duration===1/0)return;let w=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(w<0){m.visible&&un.dismiss(m.id);return}return setTimeout(()=>un.dismiss(m.id),w)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[n,o]);let l=te.useCallback(()=>{o&&Ns({type:6,time:Date.now()})},[o]),u=te.useCallback((h,f)=>{let{reverseOrder:m=!1,gutter:w=8,defaultPosition:v}=f||{},_=n.filter(S=>(S.position||v)===(h.position||v)&&S.height),y=_.findIndex(S=>S.id===h.id),x=_.filter((S,N)=>N<y&&S.visible).length;return _.filter(S=>S.visible).slice(...m?[x+1]:[0,x]).reduce((S,N)=>S+(N.height||0)+w,0)},[n]);return{toasts:n,handlers:{updateHeight:Y7,startPause:K7,endPause:l,calculateOffset:u}}},Q7=Pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,J7=Pr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X7=Pr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eR=Po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Q7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${J7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${X7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tR=Pr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nR=Po("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${tR} 1s linear infinite;
`,iR=Pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rR=Pr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oR=Po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sR=Po("div")`
  position: absolute;
`,aR=Po("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cR=Pr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lR=Po("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dR=({toast:i})=>{let{icon:n,type:o,iconTheme:l}=i;return n!==void 0?typeof n=="string"?te.createElement(lR,null,n):n:o==="blank"?null:te.createElement(aR,null,te.createElement(nR,{...l}),o!=="loading"&&te.createElement(sR,null,o==="error"?te.createElement(eR,{...l}):te.createElement(oR,{...l})))},uR=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hR=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,fR="0%{opacity:0;} 100%{opacity:1;}",gR="0%{opacity:1;} 100%{opacity:0;}",pR=Po("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mR=Po("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kR=(i,n)=>{let o=i.includes("top")?1:-1,[l,u]=bS()?[fR,gR]:[uR(o),hR(o)];return{animation:n?`${Pr(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pr(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bR=te.memo(({toast:i,position:n,style:o,children:l})=>{let u=i.height?kR(i.position||n||"top-center",i.visible):{opacity:0},h=te.createElement(dR,{toast:i}),f=te.createElement(mR,{...i.ariaProps},Bf(i.message,i));return te.createElement(pR,{className:i.className,style:{...u,...o,...i.style}},typeof l=="function"?l({icon:h,message:f}):te.createElement(te.Fragment,null,h,f))});R7(te.createElement);var wR=({id:i,className:n,style:o,onHeightUpdate:l,children:u})=>{let h=te.useCallback(f=>{if(f){let m=()=>{let w=f.getBoundingClientRect().height;l(i,w)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,l]);return te.createElement("div",{ref:h,className:n,style:o},u)},vR=(i,n)=>{let o=i.includes("top"),l=o?{top:0}:{bottom:0},u=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(o?1:-1)}px)`,...l,...u}},_R=rg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,AR=({reverseOrder:i,position:n="top-center",toastOptions:o,gutter:l,children:u,containerStyle:h,containerClassName:f})=>{let{toasts:m,handlers:w}=Z7(o);return te.createElement("div",{style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...h},className:f,onMouseEnter:w.startPause,onMouseLeave:w.endPause},m.map(v=>{let _=v.position||n,y=w.calculateOffset(v,{reverseOrder:i,gutter:l,defaultPosition:n}),x=vR(_,y);return te.createElement(wR,{id:v.id,key:v.id,onHeightUpdate:w.updateHeight,className:v.visible?_R:"",style:x},v.type==="custom"?Bf(v.message,v):u?u(v):te.createElement(bR,{toast:v,position:_}))}))},An=un;function yR({supabase:i,session:n}){const[o,l]=te.useState([]),[u,h]=te.useState({created_at:!1,vote:!0}),[f,m]=te.useState(""),v=(n?n.user:{user_metadata:{}}).id,_=async()=>{const{data:N,error:B}=await i.from("posts").select().order("created_at",{ascending:!1});l(N)};te.useEffect(()=>{const N=_();An.promise(N,{loading:"Loading your posts...",success:"Bookshelf Loaded",error:"Error when fetching"})},[]);const y=N=>{m(N.target.value)},x=()=>Bz(f,o,["title","category","username"]).map(B=>{const R=B.user_likes[v];return F.jsx(pS,{id:B.id,title:B.title,created_at:B.created_at,vote:B.vote,category:B.category,username:B.username,img_url:B.img,content:B.content,currentUserLiked:R},B.id)}),S=N=>{const B=JSON.parse(JSON.stringify(o));N==="vote"?(u.vote?B.sort((R,P)=>P.vote-R.vote):B.sort((R,P)=>R.vote-P.vote),h(R=>({...R,vote:!u.vote}))):(u.created_at?B.sort((R,P)=>new Date(P.created_at)-new Date(R.created_at)):B.sort((R,P)=>new Date(R.created_at)-new Date(P.created_at)),h(R=>({...R,created_at:!u.created_at}))),l(B)};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"home-title-outside-container",children:F.jsxs("div",{className:"home-title-container",children:[F.jsxs("h1",{className:"home-title",children:[F.jsx("span",{className:"pastel-black",children:"Home"})," ",F.jsx("span",{className:"accent",children:"Feed"})]}),F.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),F.jsx("div",{className:"input-outside-container",children:F.jsxs("div",{className:"input-container",children:[F.jsx("input",{className:"search-input",onChange:y,placeholder:"Search",type:"text"}),F.jsxs("div",{className:"sort-posts-container",children:[F.jsx("span",{children:"Order by: "}),F.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{S("created_at")},children:"Newest"}),F.jsx("button",{className:"btn sort-button",onClick:()=>{S("vote")},children:"Most Popular"})]})]})}),F.jsx("div",{className:"post-preview-container",children:x()})]})}function CR(){const i=jr();return te.useEffect(()=>{i("/")},[]),F.jsx("div",{children:"NotFound"})}var Pf={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Pf.exports;(function(i,n){(function(o,l){i.exports=l(te)})(self,o=>(()=>{var l={703:(m,w,v)=>{var _=v(414);function y(){}function x(){}x.resetWarningCache=y,m.exports=function(){function S(R,P,L,D,W,Z){if(Z!==_){var ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ee.name="Invariant Violation",ee}}function N(){return S}S.isRequired=S;var B={array:S,bigint:S,bool:S,func:S,number:S,object:S,string:S,symbol:S,any:S,arrayOf:N,element:S,elementType:S,instanceOf:N,node:S,objectOf:N,oneOf:N,oneOfType:N,shape:N,exact:N,checkPropTypes:x,resetWarningCache:y};return B.PropTypes=B,B}},697:(m,w,v)=>{m.exports=v(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=o}},u={};function h(m){var w=u[m];if(w!==void 0)return w.exports;var v=u[m]={exports:{}};return l[m](v,v.exports,h),v.exports}h.n=m=>{var w=m&&m.__esModule?()=>m.default:()=>m;return h.d(w,{a:w}),w},h.d=(m,w)=>{for(var v in w)h.o(w,v)&&!h.o(m,v)&&Object.defineProperty(m,v,{enumerable:!0,get:w[v]})},h.o=(m,w)=>Object.prototype.hasOwnProperty.call(m,w),h.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var f={};return(()=>{h.r(f),h.d(f,{CKEditor:()=>gr,CKEditorContext:()=>Qs,useMultiRootEditor:()=>Zg});var m=h(787),w=h.n(m),v=h(697),_=h.n(v);const y=new Array(256).fill("").map((T,I)=>("0"+I.toString(16)).slice(-2));class x{constructor(I){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof I.crashNumberLimit=="number"?I.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof I.minimumNonErrorTimePeriod=="number"?I.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=j=>{const q="error"in j?j.error:j.reason;q instanceof Error&&this._handleError(q,j)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(I,j){this._listeners[I]||(this._listeners[I]=[]),this._listeners[I].push(j)}off(I,j){this._listeners[I]=this._listeners[I].filter(q=>q!==j)}_fire(I,...j){const q=this._listeners[I]||[];for(const re of q)re.apply(this,[null,...j])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(I,j){if(this._shouldReactToError(I)){this.crashes.push({message:I.message,stack:I.stack,filename:j instanceof ErrorEvent?j.filename:void 0,lineno:j instanceof ErrorEvent?j.lineno:void 0,colno:j instanceof ErrorEvent?j.colno:void 0,date:this._now()});const q=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:I,causesRestart:q}),q?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(I){return I.is&&I.is("CKEditorError")&&I.context!==void 0&&I.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(I)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function S(T,I=new Set){const j=[T],q=new Set;let re=0;for(;j.length>re;){const we=j[re++];if(!q.has(we)&&N(we)&&!I.has(we))if(q.add(we),Symbol.iterator in we)try{for(const le of we)j.push(le)}catch{}else for(const le in we)le!=="defaultValue"&&j.push(we[le])}return q}function N(T){const I=Object.prototype.toString.call(T),j=typeof T;return!(j==="number"||j==="boolean"||j==="string"||j==="symbol"||j==="function"||I==="[object Date]"||I==="[object RegExp]"||I==="[object Module]"||T==null||T._watchdogExcluded||T instanceof EventTarget||T instanceof Event)}function B(T,I,j=new Set){if(T===I&&typeof(q=T)=="object"&&q!==null)return!0;var q;const re=S(T,j),we=S(I,j);for(const le of re)if(we.has(le))return!0;return!1}const R=function(T){var I=typeof T;return T!=null&&(I=="object"||I=="function")},P=typeof ms=="object"&&ms&&ms.Object===Object&&ms;var L=typeof self=="object"&&self&&self.Object===Object&&self;const D=P||L||Function("return this")(),W=function(){return D.Date.now()};var Z=/\s/;const ee=function(T){for(var I=T.length;I--&&Z.test(T.charAt(I)););return I};var X=/^\s+/;const ae=function(T){return T&&T.slice(0,ee(T)+1).replace(X,"")},ue=D.Symbol;var be=Object.prototype,G=be.hasOwnProperty,Y=be.toString,H=ue?ue.toStringTag:void 0;const U=function(T){var I=G.call(T,H),j=T[H];try{T[H]=void 0;var q=!0}catch{}var re=Y.call(T);return q&&(I?T[H]=j:delete T[H]),re};var $=Object.prototype.toString;const J=function(T){return $.call(T)};var he=ue?ue.toStringTag:void 0;const ne=function(T){return T==null?T===void 0?"[object Undefined]":"[object Null]":he&&he in Object(T)?U(T):J(T)},ie=function(T){return T!=null&&typeof T=="object"},ge=function(T){return typeof T=="symbol"||ie(T)&&ne(T)=="[object Symbol]"};var pe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,gt=/^0o[0-7]+$/i,Dt=parseInt;const St=function(T){if(typeof T=="number")return T;if(ge(T))return NaN;if(R(T)){var I=typeof T.valueOf=="function"?T.valueOf():T;T=R(I)?I+"":I}if(typeof T!="string")return T===0?T:+T;T=ae(T);var j=xe.test(T);return j||gt.test(T)?Dt(T.slice(2),j?2:8):pe.test(T)?NaN:+T};var Ge=Math.max,ar=Math.min;const Ye=function(T,I,j){var q,re,we,le,ke,Me,Ee=0,pn=!1,Zt=!1,Bt=!0;if(typeof T!="function")throw new TypeError("Expected a function");function Rt(Ft){var kn=q,Ae=re;return q=re=void 0,Ee=Ft,le=T.apply(Ae,kn)}function ni(Ft){var kn=Ft-Me;return Me===void 0||kn>=I||kn<0||Zt&&Ft-Ee>=we}function Fn(){var Ft=W();if(ni(Ft))return tt(Ft);ke=setTimeout(Fn,function(kn){var Ae=I-(kn-Me);return Zt?ar(Ae,we-(kn-Ee)):Ae}(Ft))}function tt(Ft){return ke=void 0,Bt&&q?Rt(Ft):(q=re=void 0,le)}function mn(){var Ft=W(),kn=ni(Ft);if(q=arguments,re=this,Me=Ft,kn){if(ke===void 0)return function(Ae){return Ee=Ae,ke=setTimeout(Fn,I),pn?Rt(Ae):le}(Me);if(Zt)return clearTimeout(ke),ke=setTimeout(Fn,I),Rt(Me)}return ke===void 0&&(ke=setTimeout(Fn,I)),le}return I=St(I)||0,R(j)&&(pn=!!j.leading,we=(Zt="maxWait"in j)?Ge(St(j.maxWait)||0,I):we,Bt="trailing"in j?!!j.trailing:Bt),mn.cancel=function(){ke!==void 0&&clearTimeout(ke),Ee=0,q=Me=re=ke=void 0},mn.flush=function(){return ke===void 0?le:tt(W())},mn},hc=function(T,I,j){var q=!0,re=!0;if(typeof T!="function")throw new TypeError("Expected a function");return R(j)&&(q="leading"in j?!!j.leading:q,re="trailing"in j?!!j.trailing:re),Ye(T,I,{leading:q,maxWait:I,trailing:re})},Sd=function(T,I){return function(j){return T(I(j))}},fc=Sd(Object.getPrototypeOf,Object);var Td=Function.prototype,Id=Object.prototype,Os=Td.toString,jt=Id.hasOwnProperty,fn=Os.call(Object);const Md=function(T){if(!ie(T)||ne(T)!="[object Object]")return!1;var I=fc(T);if(I===null)return!0;var j=jt.call(I,"constructor")&&I.constructor;return typeof j=="function"&&j instanceof j&&Os.call(j)==fn},Nd=function(T){return ie(T)&&T.nodeType===1&&!Md(T)},jn=function(){this.__data__=[],this.size=0},Rn=function(T,I){return T===I||T!=T&&I!=I},Lo=function(T,I){for(var j=T.length;j--;)if(Rn(T[j][0],I))return j;return-1};var ag=Array.prototype.splice;const cg=function(T){var I=this.__data__,j=Lo(I,T);return!(j<0)&&(j==I.length-1?I.pop():ag.call(I,j,1),--this.size,!0)},zo=function(T){var I=this.__data__,j=Lo(I,T);return j<0?void 0:I[j][1]},lg=function(T){return Lo(this.__data__,T)>-1},dg=function(T,I){var j=this.__data__,q=Lo(j,T);return q<0?(++this.size,j.push([T,I])):j[q][1]=I,this};function Rr(T){var I=-1,j=T==null?0:T.length;for(this.clear();++I<j;){var q=T[I];this.set(q[0],q[1])}}Rr.prototype.clear=jn,Rr.prototype.delete=cg,Rr.prototype.get=zo,Rr.prototype.has=lg,Rr.prototype.set=dg;const jo=Rr,Ri=function(){this.__data__=new jo,this.size=0},Kt=function(T){var I=this.__data__,j=I.delete(T);return this.size=I.size,j},En=function(T){return this.__data__.get(T)},Od=function(T){return this.__data__.has(T)},Bs=function(T){if(!R(T))return!1;var I=ne(T);return I=="[object Function]"||I=="[object GeneratorFunction]"||I=="[object AsyncFunction]"||I=="[object Proxy]"},Ps=D["__core-js_shared__"];var Ls=function(){var T=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}();const ug=function(T){return!!Ls&&Ls in T};var hg=Function.prototype.toString;const Fi=function(T){if(T!=null){try{return hg.call(T)}catch{}try{return T+""}catch{}}return""};var fg=/^\[object .+?Constructor\]$/,gg=Function.prototype,gn=Object.prototype,pg=gg.toString,Ro=gn.hasOwnProperty,zs=RegExp("^"+pg.call(Ro).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const mg=function(T){return!(!R(T)||ug(T))&&(Bs(T)?zs:fg).test(Fi(T))},kg=function(T,I){return T==null?void 0:T[I]},cr=function(T,I){var j=kg(T,I);return mg(j)?j:void 0},Fo=cr(D,"Map"),Vo=cr(Object,"create"),Fr=function(){this.__data__=Vo?Vo(null):{},this.size=0},js=function(T){var I=this.has(T)&&delete this.__data__[T];return this.size-=I?1:0,I};var bg=Object.prototype.hasOwnProperty;const wg=function(T){var I=this.__data__;if(Vo){var j=I[T];return j==="__lodash_hash_undefined__"?void 0:j}return bg.call(I,T)?I[T]:void 0};var vg=Object.prototype.hasOwnProperty;const _g=function(T){var I=this.__data__;return Vo?I[T]!==void 0:vg.call(I,T)},lr=function(T,I){var j=this.__data__;return this.size+=this.has(T)?0:1,j[T]=Vo&&I===void 0?"__lodash_hash_undefined__":I,this};function Vi(T){var I=-1,j=T==null?0:T.length;for(this.clear();++I<j;){var q=T[I];this.set(q[0],q[1])}}Vi.prototype.clear=Fr,Vi.prototype.delete=js,Vi.prototype.get=wg,Vi.prototype.has=_g,Vi.prototype.set=lr;const gc=Vi,Ag=function(){this.size=0,this.__data__={hash:new gc,map:new(Fo||jo),string:new gc}},yg=function(T){var I=typeof T;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?T!=="__proto__":T===null},ti=function(T,I){var j=T.__data__;return yg(I)?j[typeof I=="string"?"string":"hash"]:j.map},Cg=function(T){var I=ti(this,T).delete(T);return this.size-=I?1:0,I},xg=function(T){return ti(this,T).get(T)},Eg=function(T){return ti(this,T).has(T)},Dg=function(T,I){var j=ti(this,T),q=j.size;return j.set(T,I),this.size+=j.size==q?0:1,this};function Vr(T){var I=-1,j=T==null?0:T.length;for(this.clear();++I<j;){var q=T[I];this.set(q[0],q[1])}}Vr.prototype.clear=Ag,Vr.prototype.delete=Cg,Vr.prototype.get=xg,Vr.prototype.has=Eg,Vr.prototype.set=Dg;const Sg=Vr,Tg=function(T,I){var j=this.__data__;if(j instanceof jo){var q=j.__data__;if(!Fo||q.length<199)return q.push([T,I]),this.size=++j.size,this;j=this.__data__=new Sg(q)}return j.set(T,I),this.size=j.size,this};function Ur(T){var I=this.__data__=new jo(T);this.size=I.size}Ur.prototype.clear=Ri,Ur.prototype.delete=Kt,Ur.prototype.get=En,Ur.prototype.has=Od,Ur.prototype.set=Tg;const dr=Ur,Uo=function(T,I){for(var j=-1,q=T==null?0:T.length;++j<q&&I(T[j],j,T)!==!1;);return T},Hr=function(){try{var T=cr(Object,"defineProperty");return T({},"",{}),T}catch{}}(),Bd=function(T,I,j){I=="__proto__"&&Hr?Hr(T,I,{configurable:!0,enumerable:!0,value:j,writable:!0}):T[I]=j};var Ig=Object.prototype.hasOwnProperty;const Pd=function(T,I,j){var q=T[I];Ig.call(T,I)&&Rn(q,j)&&(j!==void 0||I in T)||Bd(T,I,j)},Rs=function(T,I,j,q){var re=!j;j||(j={});for(var we=-1,le=I.length;++we<le;){var ke=I[we],Me=q?q(j[ke],T[ke],ke,j,T):void 0;Me===void 0&&(Me=T[ke]),re?Bd(j,ke,Me):Pd(j,ke,Me)}return j},Mg=function(T,I){for(var j=-1,q=Array(T);++j<T;)q[j]=I(j);return q},Ld=function(T){return ie(T)&&ne(T)=="[object Arguments]"};var zd=Object.prototype,$r=zd.hasOwnProperty,jd=zd.propertyIsEnumerable;const Ng=Ld(function(){return arguments}())?Ld:function(T){return ie(T)&&$r.call(T,"callee")&&!jd.call(T,"callee")},pc=Array.isArray,Fs=function(){return!1};var Rd=n&&!n.nodeType&&n,Fd=Rd&&!0&&i&&!i.nodeType&&i,Vd=Fd&&Fd.exports===Rd?D.Buffer:void 0;const Ud=(Vd?Vd.isBuffer:void 0)||Fs;var Wr=/^(?:0|[1-9]\d*)$/;const Vs=function(T,I){var j=typeof T;return!!(I=I??9007199254740991)&&(j=="number"||j!="symbol"&&Wr.test(T))&&T>-1&&T%1==0&&T<I},Hd=function(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=9007199254740991};var $e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;const Ho=function(T){return ie(T)&&Hd(T.length)&&!!$e[ne(T)]},mc=function(T){return function(I){return T(I)}};var $o=n&&!n.nodeType&&n,ur=$o&&!0&&i&&!i.nodeType&&i,kc=ur&&ur.exports===$o&&P.process;const Ui=function(){try{var T=ur&&ur.require&&ur.require("util").types;return T||kc&&kc.binding&&kc.binding("util")}catch{}}();var hr=Ui&&Ui.isTypedArray;const Og=hr?mc(hr):Ho;var $d=Object.prototype.hasOwnProperty;const bc=function(T,I){var j=pc(T),q=!j&&Ng(T),re=!j&&!q&&Ud(T),we=!j&&!q&&!re&&Og(T),le=j||q||re||we,ke=le?Mg(T.length,String):[],Me=ke.length;for(var Ee in T)!I&&!$d.call(T,Ee)||le&&(Ee=="length"||re&&(Ee=="offset"||Ee=="parent")||we&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||Vs(Ee,Me))||ke.push(Ee);return ke};var Bg=Object.prototype;const wc=function(T){var I=T&&T.constructor;return T===(typeof I=="function"&&I.prototype||Bg)},vc=Sd(Object.keys,Object);var Pg=Object.prototype.hasOwnProperty;const Wd=function(T){if(!wc(T))return vc(T);var I=[];for(var j in Object(T))Pg.call(T,j)&&j!="constructor"&&I.push(j);return I},_c=function(T){return T!=null&&Hd(T.length)&&!Bs(T)},Us=function(T){return _c(T)?bc(T):Wd(T)},Wo=function(T,I){return T&&Rs(I,Us(I),T)},Lg=function(T){var I=[];if(T!=null)for(var j in Object(T))I.push(j);return I};var Ac=Object.prototype.hasOwnProperty;const qd=function(T){if(!R(T))return Lg(T);var I=wc(T),j=[];for(var q in T)(q!="constructor"||!I&&Ac.call(T,q))&&j.push(q);return j},Je=function(T){return _c(T)?bc(T,!0):qd(T)},zg=function(T,I){return T&&Rs(I,Je(I),T)};var Hs=n&&!n.nodeType&&n,yc=Hs&&!0&&i&&!i.nodeType&&i,qr=yc&&yc.exports===Hs?D.Buffer:void 0,$s=qr?qr.allocUnsafe:void 0;const Gr=function(T,I){if(I)return T.slice();var j=T.length,q=$s?$s(j):new T.constructor(j);return T.copy(q),q},Gd=function(T,I){var j=-1,q=T.length;for(I||(I=Array(q));++j<q;)I[j]=T[j];return I},Cc=function(T,I){for(var j=-1,q=T==null?0:T.length,re=0,we=[];++j<q;){var le=T[j];I(le,j,T)&&(we[re++]=le)}return we},Yd=function(){return[]};var Kd=Object.prototype.propertyIsEnumerable,Zd=Object.getOwnPropertySymbols;const qo=Zd?function(T){return T==null?[]:(T=Object(T),Cc(Zd(T),function(I){return Kd.call(T,I)}))}:Yd,jg=function(T,I){return Rs(T,qo(T),I)},Qd=function(T,I){for(var j=-1,q=I.length,re=T.length;++j<q;)T[re+j]=I[j];return T},Jd=Object.getOwnPropertySymbols?function(T){for(var I=[];T;)Qd(I,qo(T)),T=fc(T);return I}:Yd,Ws=function(T,I){return Rs(T,Jd(T),I)},qs=function(T,I,j){var q=I(T);return pc(T)?q:Qd(q,j(T))},Rg=function(T){return qs(T,Us,qo)},Fg=function(T){return qs(T,Je,Jd)},xc=cr(D,"DataView"),Ec=cr(D,"Promise"),Hi=cr(D,"Set"),Dc=cr(D,"WeakMap");var Sc="[object Map]",Tc="[object Promise]",Ic="[object Set]",Mc="[object WeakMap]",Nc="[object DataView]",Xd=Fi(xc),Vg=Fi(Fo),eu=Fi(Ec),Ug=Fi(Hi),tu=Fi(Dc),ki=ne;(xc&&ki(new xc(new ArrayBuffer(1)))!=Nc||Fo&&ki(new Fo)!=Sc||Ec&&ki(Ec.resolve())!=Tc||Hi&&ki(new Hi)!=Ic||Dc&&ki(new Dc)!=Mc)&&(ki=function(T){var I=ne(T),j=I=="[object Object]"?T.constructor:void 0,q=j?Fi(j):"";if(q)switch(q){case Xd:return Nc;case Vg:return Sc;case eu:return Tc;case Ug:return Ic;case tu:return Mc}return I});const Oc=ki;var nu=Object.prototype.hasOwnProperty;const iu=function(T){var I=T.length,j=new T.constructor(I);return I&&typeof T[0]=="string"&&nu.call(T,"index")&&(j.index=T.index,j.input=T.input),j},ru=D.Uint8Array,Gs=function(T){var I=new T.constructor(T.byteLength);return new ru(I).set(new ru(T)),I},Bc=function(T,I){var j=I?Gs(T.buffer):T.buffer;return new T.constructor(j,T.byteOffset,T.byteLength)};var Hg=/\w*$/;const Pc=function(T){var I=new T.constructor(T.source,Hg.exec(T));return I.lastIndex=T.lastIndex,I};var Ys=ue?ue.prototype:void 0,Ks=Ys?Ys.valueOf:void 0;const Lc=function(T){return Ks?Object(Ks.call(T)):{}},ou=function(T,I){var j=I?Gs(T.buffer):T.buffer;return new T.constructor(j,T.byteOffset,T.length)},su=function(T,I,j){var q=T.constructor;switch(I){case"[object ArrayBuffer]":return Gs(T);case"[object Boolean]":case"[object Date]":return new q(+T);case"[object DataView]":return Bc(T,j);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ou(T,j);case"[object Map]":case"[object Set]":return new q;case"[object Number]":case"[object String]":return new q(T);case"[object RegExp]":return Pc(T);case"[object Symbol]":return Lc(T)}};var zc=Object.create;const au=function(){function T(){}return function(I){if(!R(I))return{};if(zc)return zc(I);T.prototype=I;var j=new T;return T.prototype=void 0,j}}(),cu=function(T){return typeof T.constructor!="function"||wc(T)?{}:au(fc(T))},$g=function(T){return ie(T)&&Oc(T)=="[object Map]"};var lu=Ui&&Ui.isMap;const Wg=lu?mc(lu):$g,qg=function(T){return ie(T)&&Oc(T)=="[object Set]"};var du=Ui&&Ui.isSet;const fr=du?mc(du):qg;var Yr="[object Arguments]",uu="[object Function]",hu="[object Object]",Ke={};Ke[Yr]=Ke["[object Array]"]=Ke["[object ArrayBuffer]"]=Ke["[object DataView]"]=Ke["[object Boolean]"]=Ke["[object Date]"]=Ke["[object Float32Array]"]=Ke["[object Float64Array]"]=Ke["[object Int8Array]"]=Ke["[object Int16Array]"]=Ke["[object Int32Array]"]=Ke["[object Map]"]=Ke["[object Number]"]=Ke[hu]=Ke["[object RegExp]"]=Ke["[object Set]"]=Ke["[object String]"]=Ke["[object Symbol]"]=Ke["[object Uint8Array]"]=Ke["[object Uint8ClampedArray]"]=Ke["[object Uint16Array]"]=Ke["[object Uint32Array]"]=!0,Ke["[object Error]"]=Ke[uu]=Ke["[object WeakMap]"]=!1;const jc=function T(I,j,q,re,we,le){var ke,Me=1&j,Ee=2&j,pn=4&j;if(q&&(ke=we?q(I,re,we,le):q(I)),ke!==void 0)return ke;if(!R(I))return I;var Zt=pc(I);if(Zt){if(ke=iu(I),!Me)return Gd(I,ke)}else{var Bt=Oc(I),Rt=Bt==uu||Bt=="[object GeneratorFunction]";if(Ud(I))return Gr(I,Me);if(Bt==hu||Bt==Yr||Rt&&!we){if(ke=Ee||Rt?{}:cu(I),!Me)return Ee?Ws(I,zg(ke,I)):jg(I,Wo(ke,I))}else{if(!Ke[Bt])return we?I:{};ke=su(I,Bt,Me)}}le||(le=new dr);var ni=le.get(I);if(ni)return ni;le.set(I,ke),fr(I)?I.forEach(function(tt){ke.add(T(tt,j,q,tt,I,le))}):Wg(I)&&I.forEach(function(tt,mn){ke.set(mn,T(tt,j,q,mn,I,le))});var Fn=Zt?void 0:(pn?Ee?Fg:Rg:Ee?Je:Us)(I);return Uo(Fn||I,function(tt,mn){Fn&&(tt=I[mn=tt]),Pd(ke,mn,T(tt,j,q,mn,I,le))}),ke},Gg=function(T,I){return jc(T,5,I=typeof I=="function"?I:void 0)};class Rc extends x{constructor(I,j={}){super(j),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=hc(this._save.bind(this),typeof j.saveInterval=="number"?j.saveInterval:5e3),I&&(this._creator=(q,re)=>I.create(q,re)),this._destructor=q=>q.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(I){this._creator=I}setDestructor(I){this._destructor=I}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(I=>{console.error("An error happened during the editor destroying.",I)}).then(()=>{const I={},j=[],q=this._config.rootsAttributes||{},re={};for(const[le,ke]of Object.entries(this._data.roots))ke.isLoaded?(I[le]="",re[le]=q[le]||{}):j.push(le);const we={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:j,rootsAttributes:re,_watchdogInitialData:this._data};return delete we.initialData,we.extraPlugins.push(Yg),this._initUsingData?this.create(I,we,we.context):Nd(this._elementOrData)?this.create(this._elementOrData,we,we.context):this.create(this._editables,we,we.context)}).then(()=>{this._fire("restart")})}create(I=this._elementOrData,j=this._config,q){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=I,this._initUsingData=typeof I=="string"||Object.keys(I).length>0&&typeof Object.values(I)[0]=="string",this._config=this._cloneEditorConfiguration(j)||{},this._config.context=q,this._creator(I,this._config))).then(re=>{this._editor=re,re.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=re.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const I=this._editor;return this._editor=null,I.model.document.off("change:data",this._throttledSave),this._destructor(I)})}_save(){const I=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=I}catch(j){console.error(j,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(I){this._excludedProps=I}_getData(){const I=this._editor,j=I.model.document.roots.filter(ke=>ke.isAttached()&&ke.rootName!="$graveyard"),{plugins:q}=I,re=q.has("CommentsRepository")&&q.get("CommentsRepository"),we=q.has("TrackChanges")&&q.get("TrackChanges"),le={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};j.forEach(ke=>{le.roots[ke.rootName]={content:JSON.stringify(Array.from(ke.getChildren())),attributes:JSON.stringify(Array.from(ke.getAttributes())),isLoaded:ke._isLoaded}});for(const ke of I.model.markers)ke._affectsData&&(le.markers[ke.name]={rangeJSON:ke.getRange().toJSON(),usingOperation:ke._managedUsingOperations,affectsData:ke._affectsData});return re&&(le.commentThreads=JSON.stringify(re.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),we&&(le.suggestions=JSON.stringify(we.getSuggestions({toJSON:!0,skipNotAttached:!0}))),le}_getEditables(){const I={};for(const j of this.editor.model.document.getRootNames()){const q=this.editor.ui.getEditableElement(j);q&&(I[j]=q)}return I}_isErrorComingFromThisItem(I){return B(this._editor,I.context,this._excludedProps)}_cloneEditorConfiguration(I){return Gg(I,(j,q)=>Nd(j)||q==="context"?j:void 0)}}class Yg{constructor(I){this.editor=I,this._data=I.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",I=>{I.stop(),this.editor.model.enqueueChange({isUndoable:!1},j=>{this._restoreCollaborationData(),this._restoreEditorData(j)}),this.editor.data.fire("ready")},{priority:999})}_createNode(I,j){if("name"in j){const q=I.createElement(j.name,j.attributes);if(j.children)for(const re of j.children)q._appendChild(this._createNode(I,re));return q}return I.createText(j.data,j.attributes)}_restoreEditorData(I){const j=this.editor;Object.entries(this._data.roots).forEach(([q,{content:re,attributes:we}])=>{const le=JSON.parse(re),ke=JSON.parse(we),Me=j.model.document.getRoot(q);for(const[Ee,pn]of ke)I.setAttribute(Ee,pn,Me);for(const Ee of le){const pn=this._createNode(I,Ee);I.insert(pn,Me,"end")}}),Object.entries(this._data.markers).forEach(([q,re])=>{const{document:we}=j.model,{rangeJSON:{start:le,end:ke},...Me}=re,Ee=we.getRoot(le.root),pn=I.createPositionFromPath(Ee,le.path,le.stickiness),Zt=I.createPositionFromPath(Ee,ke.path,ke.stickiness),Bt=I.createRange(pn,Zt);I.addMarker(q,{range:Bt,...Me})})}_restoreCollaborationData(){const I=JSON.parse(this._data.commentThreads),j=JSON.parse(this._data.suggestions);I.forEach(q=>{const re=this.editor.config.get("collaboration.channelId"),we=this.editor.plugins.get("CommentsRepository");we.hasCommentThread(q.threadId)&&we.getCommentThread(q.threadId).remove(),we.addCommentThread({channelId:re,...q})}),j.forEach(q=>{const re=this.editor.plugins.get("TrackChangesEditing");re.hasSuggestion(q.id)?re.getSuggestion(q.id).attributes=q.attributes:re.addSuggestionData(q)})}}const Kr=Symbol("MainQueueId");class Zs extends x{constructor(I,j={}){super(j),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Kg,this._watchdogConfig=j,this._creator=q=>I.create(q),this._destructor=q=>q.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(I){this._creator=I}setDestructor(I){this._destructor=I}get context(){return this._context}create(I={}){return this._actionQueues.enqueue(Kr,()=>(this._contextConfig=I,this._create()))}getItem(I){return this._getWatchdog(I)._item}getItemState(I){return this._getWatchdog(I).state}add(I){const j=Fc(I);return Promise.all(j.map(q=>this._actionQueues.enqueue(q.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let re;if(this._watchdogs.has(q.id))throw new Error(`Item with the given id is already added: '${q.id}'.`);if(q.type==="editor")return re=new Rc(null,this._watchdogConfig),re.setCreator(q.creator),re._setExcludedProperties(this._contextProps),q.destructor&&re.setDestructor(q.destructor),this._watchdogs.set(q.id,re),re.on("error",(we,{error:le,causesRestart:ke})=>{this._fire("itemError",{itemId:q.id,error:le}),ke&&this._actionQueues.enqueue(q.id,()=>new Promise(Me=>{const Ee=()=>{re.off("restart",Ee),this._fire("itemRestart",{itemId:q.id}),Me()};re.on("restart",Ee)}))}),re.create(q.sourceElementOrData,q.config,this._context);throw new Error(`Not supported item type: '${q.type}'.`)})))}remove(I){const j=Fc(I);return Promise.all(j.map(q=>this._actionQueues.enqueue(q,()=>{const re=this._getWatchdog(q);return this._watchdogs.delete(q),re.destroy()})))}destroy(){return this._actionQueues.enqueue(Kr,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Kr,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(I=>{console.error("An error happened during destroying the context or items.",I)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(I=>(this._context=I,this._contextProps=S(this._context),Promise.all(Array.from(this._watchdogs.values()).map(j=>(j._setExcludedProperties(this._contextProps),j.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const I=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(j=>j.destroy())).then(()=>this._destructor(I))})}_getWatchdog(I){const j=this._watchdogs.get(I);if(!j)throw new Error(`Item with the given id was not registered: ${I}.`);return j}_isErrorComingFromThisItem(I){for(const j of this._watchdogs.values())if(j._isErrorComingFromThisItem(I))return!1;return B(this._context,I.context)}}class Kg{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(I){this._onEmptyCallbacks.push(I)}enqueue(I,j){const q=I===Kr;this._activeActions++,this._queues.get(I)||this._queues.set(I,Promise.resolve());const re=(q?Promise.all(this._queues.values()):Promise.all([this._queues.get(Kr),this._queues.get(I)])).then(j),we=re.catch(()=>{});return this._queues.set(I,we),re.finally(()=>{this._activeActions--,this._queues.get(I)===we&&this._activeActions===0&&this._onEmptyCallbacks.forEach(le=>le())})}}function Fc(T){return Array.isArray(T)?T:[T]}const Vc=w().createContext("contextWatchdog");class Qs extends w().Component{constructor(I,j){super(I,j),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(I){return this._shouldComponentUpdate(I)}async _shouldComponentUpdate(I){return I.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(I.config)),I.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(I.config),!0):this.props.children!==I.children}render(){return w().createElement(Vc.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(I){this.contextWatchdog=new Zs(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(j,q)=>{this.props.onError(q.error,{phase:"runtime",willContextRestart:q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(I).catch(j=>{this.props.onError(j,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Qs.defaultProps={isLayoutReady:!0,onError:(T,I)=>console.error(T,I)},Qs.propTypes={id:_().string,isLayoutReady:_().bool,context:_().func,watchdogConfig:_().object,config:_().object,onReady:_().func,onError:_().func};const Uc="Lock from React integration (@ckeditor/ckeditor5-react)";class gr extends w().Component{constructor(I){super(I),this.editorDestructionInProgress=null,this.domContainer=w().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:j}=window;if(j){const[q]=j.split(".").map(Number);q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(I){return!!this.editor&&(I.id!==this.props.id||I.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(I)&&this.editor.data.set(I.data),"disabled"in I&&(I.disabled?this.editor.enableReadOnlyMode(Uc):this.editor.disableReadOnlyMode(Uc)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return w().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Zs?this.watchdog=new fu(this.context):this.watchdog=new gr._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((I,j)=>this._createEditor(I,j)),this.watchdog.on("error",(I,{error:j,causesRestart:q})=>{(this.props.onError||console.error)(j,{phase:"runtime",willEditorRestart:q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(I=>{(this.props.onError||console.error)(I,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(I,j){return this.props.editor.create(I,j).then(q=>{"disabled"in this.props&&this.props.disabled&&q.enableReadOnlyMode(Uc);const re=q.model.document,we=q.editing.view.document;return re.on("change:data",le=>{this.props.onChange&&this.props.onChange(le,q)}),we.on("focus",le=>{this.props.onFocus&&this.props.onFocus(le,q)}),we.on("blur",le=>{this.props.onBlur&&this.props.onBlur(le,q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(q)}),q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(I=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,I()):this.instance?(await this.instance.destroy(),this.instance=null,I()):void I())})}_shouldUpdateEditor(I){return this.props.data!==I.data&&this.editor.data.get()!==I.data}_getConfig(){const I=this.props.config||{};return this.props.data&&I.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...I,initialData:I.initialData||this.props.data||""}}}gr.contextType=Vc,gr.propTypes={editor:_().func.isRequired,data:_().string,config:_().object,disableWatchdog:_().bool,watchdogConfig:_().object,onChange:_().func,onReady:_().func,onFocus:_().func,onBlur:_().func,onError:_().func,disabled:_().bool,id:_().any},gr._EditorWatchdog=Rc;class fu{constructor(I){this._contextWatchdog=I,this._id=function(){const j=4294967296*Math.random()>>>0,q=4294967296*Math.random()>>>0,re=4294967296*Math.random()>>>0,we=4294967296*Math.random()>>>0;return"e"+y[j>>0&255]+y[j>>8&255]+y[j>>16&255]+y[j>>24&255]+y[q>>0&255]+y[q>>8&255]+y[q>>16&255]+y[q>>24&255]+y[re>>0&255]+y[re>>8&255]+y[re>>16&255]+y[re>>24&255]+y[we>>0&255]+y[we>>8&255]+y[we>>16&255]+y[we>>24&255]}()}setCreator(I){this._creator=I}create(I,j){return this._contextWatchdog.add({sourceElementOrData:I,config:j,creator:this._creator,id:this._id,type:"editor"})}on(I,j){this._contextWatchdog.on("itemError",(q,{itemId:re,error:we})=>{re===this._id&&j(null,{error:we,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Js="Lock from React integration (@ckeditor/ckeditor5-react)",Zg=T=>{let I=null;const j=(0,m.useRef)(null),q=(0,m.useContext)(Vc),[re,we]=(0,m.useState)(null),[le,ke]=(0,m.useState)(T.data),[Me,Ee]=(0,m.useState)(T.rootsAttributes||{}),[pn,Zt]=(0,m.useState)([]),Bt=(0,m.useRef)(!0),Rt=(0,m.useRef)(null),ni=w().createElement("div",{ref:Rt});(0,m.useEffect)(()=>((async()=>(await j.current,T.isLayoutReady!==!1&&kn()))(),()=>{Ft().then(()=>{j.current=null})}),[T.isLayoutReady]),(0,m.useEffect)(()=>{re&&(T.disabled?re.enableReadOnlyMode(Js):re.disableReadOnlyMode(Js))},[T.disabled]),(0,m.useEffect)(()=>{const De=Rt.current;if(re&&!j.current){const nt=re.getFullData();ke({...nt}),Ee({...re.getRootsAttributes()}),Zt([...Object.keys(nt).map(Oe=>tt(re,Oe))]),De&&De.appendChild(re.ui.view.toolbar.element)}return()=>{De&&De.firstChild&&De.removeChild(De.firstChild)}},[re&&re.id]);const Fn=()=>{const De=T.config||{};return T.data&&De.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...De,rootsAttributes:Me}},tt=(De,nt)=>w().createElement("div",{id:nt,key:nt,ref:Oe=>{if(Oe){const Vn=De.ui.view.createEditable(nt,Oe);De.ui.addEditable(Vn),De.editing.view.forceRender()}}}),mn=(De,nt)=>T.editor.create(De,nt).then(Oe=>{T.disabled&&T.disabled&&Oe.enableReadOnlyMode(Js);const Vn=Oe.model.document,Be=Oe.editing.view.document;return Vn.on("change:data",bi=>((rn,bn)=>{const Vt=rn.model.document,on={},yt={};Vt.differ.getChanges().forEach(lt=>{let Pt;if(Pt=lt.type=="insert"||lt.type=="remove"?lt.position.root:lt.range.root,!Pt.isAttached())return;const{rootName:pr}=Pt;on[pr]=rn.getData({rootName:pr})}),Vt.differ.getChangedRoots().forEach(lt=>{if(lt.state)return void(on[lt.name]!==void 0&&delete on[lt.name]);const Pt=lt.name;yt[Pt]=rn.getRootAttributes(Pt)}),Object.keys(on).length&&ke(lt=>({...lt,...on})),Object.keys(yt).length&&Ee(lt=>({...lt,...yt})),T.onChange&&T.onChange(bn,rn)})(Oe,bi)),Oe.on("addRoot",(bi,rn)=>((bn,Vt,on)=>{const yt=on.rootName,lt=tt(bn,yt);ke(Pt=>({...Pt,[yt]:bn.getData({rootName:yt})})),Ee(Pt=>({...Pt,[yt]:bn.getRootAttributes(yt)})),Zt(Pt=>[...Pt,lt])})(Oe,0,rn)),Oe.on("detachRoot",(bi,rn)=>((bn,Vt,on)=>{const yt=on.rootName;Zt(lt=>lt.filter(Pt=>Pt.props.id!==yt)),ke(lt=>{const{[yt]:Pt,...pr}=lt;return{...pr}}),Ee(lt=>{const{[yt]:Pt,...pr}=lt;return{...pr}}),bn.detachEditable(on)})(Oe,0,rn)),Be.on("focus",bi=>{T.onFocus&&T.onFocus(bi,Oe)}),Be.on("blur",bi=>{T.onBlur&&T.onBlur(bi,Oe)}),we(Oe),T.onReady&&T.onReady(Oe),Oe}),Ft=async()=>{we(null),ke({}),Ee({}),Zt([]),j.current=new Promise(De=>{setTimeout(async()=>I?(await I.destroy(),I=null,De()):re?(await re.destroy(),De()):void De())})},kn=async()=>{T.disableWatchdog?await mn(T.data,Fn()):I||(I=q instanceof Zs?new fu(q):new Rc(T.editor,T.watchdogConfig),I.setCreator((De,nt)=>mn(De,nt)),I.on("error",(De,{error:nt,causesRestart:Oe})=>{(T.onError||console.error)(nt,{phase:"runtime",willEditorRestart:Oe})}),await I.create(le,Fn()).catch(De=>{(T.onError||console.error)(De,{phase:"initialization",willEditorRestart:!1})}))};(0,m.useEffect)(()=>{if(re&&Bt.current){Bt.current=!1;const De=Object.keys(le),nt=Object.keys(Me);if(!De.every(Vt=>nt.includes(Vt)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Oe=re.getFullData(),Vn=re.getRootsAttributes(),{addedKeys:Be,removedKeys:bi}=Ae(Oe,le||{}),rn=De.some(Vt=>Oe[Vt]!==void 0&&JSON.stringify(Oe[Vt])!==JSON.stringify(le[Vt])),bn=nt.filter(Vt=>JSON.stringify(Vn[Vt])!==JSON.stringify(Me[Vt]));re.model.change(Vt=>{bt(Be),Xs(bi),rn&&gu(),bn.length&&pu(Vt,bn)})}},[le,Me]);const Ae=(De,nt)=>{const Oe=Object.keys(De),Vn=Object.keys(nt);return{addedKeys:Vn.filter(Be=>!Oe.includes(Be)),removedKeys:Oe.filter(Be=>!Vn.includes(Be))}},bt=De=>{De.forEach(nt=>{re.addRoot(nt,{data:le[nt]||"",attributes:(Me==null?void 0:Me[nt])||{},isUndoable:!0})})},Xs=De=>{De.forEach(nt=>{re.detachRoot(nt,!0)})},gu=()=>{re.data.set(le,{suppressErrorInCollaboration:!0})},pu=(De,nt)=>{nt.forEach(Oe=>{Object.keys(Me[Oe]).forEach(Vn=>{re.registerRootAttribute(Vn)}),De.clearAttributes(re.model.document.getRoot(Oe)),De.setAttributes(Me[Oe],re.model.document.getRoot(Oe))})},mu=(0,m.useCallback)(De=>{Bt.current=!0,ke(De)},[ke]),Ne=(0,m.useCallback)(De=>{Bt.current=!0,Ee(De)},[Ee]);return{editor:re,editableElements:pn,toolbarElement:ni,data:le,setData:mu,attributes:Me,setAttributes:Ne}}})(),f})())})(Pf,Pf.exports);var xR=Pf.exports,_t={exports:{}},Xt=_t.exports;(function(i){const n=i.en=i.en||{};n.dictionary=Object.assign(n.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Dim grey":"Dim grey",Disc:"Disc",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal line":"Horizontal line","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Save:"Save","Select all":"Select all","Show more items":"Show more items","Side image":"Side image",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,n){typeof Xt=="object"&&typeof _t=="object"?_t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Xt=="object"?Xt.InlineEditor=n():i.InlineEditor=n()}(self,()=>(()=>{var i={8168:(u,h,f)=>{const m=f(8874),w={};for(const _ of Object.keys(m))w[m[_]]=_;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=v;for(const _ of Object.keys(v)){if(!("channels"in v[_]))throw new Error("missing channels property: "+_);if(!("labels"in v[_]))throw new Error("missing channel labels property: "+_);if(v[_].labels.length!==v[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:y,labels:x}=v[_];delete v[_].channels,delete v[_].labels,Object.defineProperty(v[_],"channels",{value:y}),Object.defineProperty(v[_],"labels",{value:x})}v.rgb.hsl=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,N=Math.min(y,x,S),B=Math.max(y,x,S),R=B-N;let P,L;B===N?P=0:y===B?P=(x-S)/R:x===B?P=2+(S-y)/R:S===B&&(P=4+(y-x)/R),P=Math.min(60*P,360),P<0&&(P+=360);const D=(N+B)/2;return L=B===N?0:D<=.5?R/(B+N):R/(2-B-N),[P,100*L,100*D]},v.rgb.hsv=function(_){let y,x,S,N,B;const R=_[0]/255,P=_[1]/255,L=_[2]/255,D=Math.max(R,P,L),W=D-Math.min(R,P,L),Z=function(ee){return(D-ee)/6/W+.5};return W===0?(N=0,B=0):(B=W/D,y=Z(R),x=Z(P),S=Z(L),R===D?N=S-x:P===D?N=.3333333333333333+y-S:L===D&&(N=.6666666666666666+x-y),N<0?N+=1:N>1&&(N-=1)),[360*N,100*B,100*D]},v.rgb.hwb=function(_){const y=_[0],x=_[1];let S=_[2];const N=v.rgb.hsl(_)[0],B=1/255*Math.min(y,Math.min(x,S));return S=1-.00392156862745098*Math.max(y,Math.max(x,S)),[N,100*B,100*S]},v.rgb.cmyk=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,N=Math.min(1-y,1-x,1-S);return[100*((1-y-N)/(1-N)||0),100*((1-x-N)/(1-N)||0),100*((1-S-N)/(1-N)||0),100*N]},v.rgb.keyword=function(_){const y=w[_];if(y)return y;let x,S=1/0;for(const R of Object.keys(m)){const P=m[R],L=(B=P,((N=_)[0]-B[0])**2+(N[1]-B[1])**2+(N[2]-B[2])**2);L<S&&(S=L,x=R)}var N,B;return x},v.keyword.rgb=function(_){return m[_]},v.rgb.xyz=function(_){let y=_[0]/255,x=_[1]/255,S=_[2]/255;return y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*y+.3576*x+.1805*S),100*(.2126*y+.7152*x+.0722*S),100*(.0193*y+.1192*x+.9505*S)]},v.rgb.lab=function(_){const y=v.rgb.xyz(_);let x=y[0],S=y[1],N=y[2];return x/=95.047,S/=100,N/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,N=N>.008856?N**.3333333333333333:7.787*N+.13793103448275862,[116*S-16,500*(x-S),200*(S-N)]},v.hsl.rgb=function(_){const y=_[0]/360,x=_[1]/100,S=_[2]/100;let N,B,R;if(x===0)return R=255*S,[R,R,R];N=S<.5?S*(1+x):S+x-S*x;const P=2*S-N,L=[0,0,0];for(let D=0;D<3;D++)B=y+.3333333333333333*-(D-1),B<0&&B++,B>1&&B--,R=6*B<1?P+6*(N-P)*B:2*B<1?N:3*B<2?P+(N-P)*(.6666666666666666-B)*6:P,L[D]=255*R;return L},v.hsl.hsv=function(_){const y=_[0];let x=_[1]/100,S=_[2]/100,N=x;const B=Math.max(S,.01);return S*=2,x*=S<=1?S:2-S,N*=B<=1?B:2-B,[y,100*(S===0?2*N/(B+N):2*x/(S+x)),100*((S+x)/2)]},v.hsv.rgb=function(_){const y=_[0]/60,x=_[1]/100;let S=_[2]/100;const N=Math.floor(y)%6,B=y-Math.floor(y),R=255*S*(1-x),P=255*S*(1-x*B),L=255*S*(1-x*(1-B));switch(S*=255,N){case 0:return[S,L,R];case 1:return[P,S,R];case 2:return[R,S,L];case 3:return[R,P,S];case 4:return[L,R,S];case 5:return[S,R,P]}},v.hsv.hsl=function(_){const y=_[0],x=_[1]/100,S=_[2]/100,N=Math.max(S,.01);let B,R;R=(2-x)*S;const P=(2-x)*N;return B=x*N,B/=P<=1?P:2-P,B=B||0,R/=2,[y,100*B,100*R]},v.hwb.rgb=function(_){const y=_[0]/360;let x=_[1]/100,S=_[2]/100;const N=x+S;let B;N>1&&(x/=N,S/=N);const R=Math.floor(6*y),P=1-S;B=6*y-R,1&R&&(B=1-B);const L=x+B*(P-x);let D,W,Z;switch(R){default:case 6:case 0:D=P,W=L,Z=x;break;case 1:D=L,W=P,Z=x;break;case 2:D=x,W=P,Z=L;break;case 3:D=x,W=L,Z=P;break;case 4:D=L,W=x,Z=P;break;case 5:D=P,W=x,Z=L}return[255*D,255*W,255*Z]},v.cmyk.rgb=function(_){const y=_[0]/100,x=_[1]/100,S=_[2]/100,N=_[3]/100;return[255*(1-Math.min(1,y*(1-N)+N)),255*(1-Math.min(1,x*(1-N)+N)),255*(1-Math.min(1,S*(1-N)+N))]},v.xyz.rgb=function(_){const y=_[0]/100,x=_[1]/100,S=_[2]/100;let N,B,R;return N=3.2406*y+-1.5372*x+-.4986*S,B=-.9689*y+1.8758*x+.0415*S,R=.0557*y+-.204*x+1.057*S,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,N=Math.min(Math.max(0,N),1),B=Math.min(Math.max(0,B),1),R=Math.min(Math.max(0,R),1),[255*N,255*B,255*R]},v.xyz.lab=function(_){let y=_[0],x=_[1],S=_[2];return y/=95.047,x/=100,S/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*x-16,500*(y-x),200*(x-S)]},v.lab.xyz=function(_){let y,x,S;x=(_[0]+16)/116,y=_[1]/500+x,S=x-_[2]/200;const N=x**3,B=y**3,R=S**3;return x=N>.008856?N:(x-.13793103448275862)/7.787,y=B>.008856?B:(y-.13793103448275862)/7.787,S=R>.008856?R:(S-.13793103448275862)/7.787,y*=95.047,x*=100,S*=108.883,[y,x,S]},v.lab.lch=function(_){const y=_[0],x=_[1],S=_[2];let N;return N=360*Math.atan2(S,x)/2/Math.PI,N<0&&(N+=360),[y,Math.sqrt(x*x+S*S),N]},v.lch.lab=function(_){const y=_[0],x=_[1],S=_[2]/360*2*Math.PI;return[y,x*Math.cos(S),x*Math.sin(S)]},v.rgb.ansi16=function(_,y=null){const[x,S,N]=_;let B=y===null?v.rgb.hsv(_)[2]:y;if(B=Math.round(B/50),B===0)return 30;let R=30+(Math.round(N/255)<<2|Math.round(S/255)<<1|Math.round(x/255));return B===2&&(R+=60),R},v.hsv.ansi16=function(_){return v.rgb.ansi16(v.hsv.rgb(_),_[2])},v.rgb.ansi256=function(_){const y=_[0],x=_[1],S=_[2];return y===x&&x===S?y<8?16:y>248?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(x/255*5)+Math.round(S/255*5)},v.ansi16.rgb=function(_){let y=_%10;if(y===0||y===7)return _>50&&(y+=3.5),y=y/10.5*255,[y,y,y];const x=.5*(1+~~(_>50));return[(1&y)*x*255,(y>>1&1)*x*255,(y>>2&1)*x*255]},v.ansi256.rgb=function(_){if(_>=232){const x=10*(_-232)+8;return[x,x,x]}let y;return _-=16,[Math.floor(_/36)/5*255,Math.floor((y=_%36)/6)/5*255,y%6/5*255]},v.rgb.hex=function(_){const y=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(y.length)+y},v.hex.rgb=function(_){const y=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!y)return[0,0,0];let x=y[0];y[0].length===3&&(x=x.split("").map(N=>N+N).join(""));const S=parseInt(x,16);return[S>>16&255,S>>8&255,255&S]},v.rgb.hcg=function(_){const y=_[0]/255,x=_[1]/255,S=_[2]/255,N=Math.max(Math.max(y,x),S),B=Math.min(Math.min(y,x),S),R=N-B;let P,L;return P=R<1?B/(1-R):0,L=R<=0?0:N===y?(x-S)/R%6:N===x?2+(S-y)/R:4+(y-x)/R,L/=6,L%=1,[360*L,100*R,100*P]},v.hsl.hcg=function(_){const y=_[1]/100,x=_[2]/100,S=x<.5?2*y*x:2*y*(1-x);let N=0;return S<1&&(N=(x-.5*S)/(1-S)),[_[0],100*S,100*N]},v.hsv.hcg=function(_){const y=_[1]/100,x=_[2]/100,S=y*x;let N=0;return S<1&&(N=(x-S)/(1-S)),[_[0],100*S,100*N]},v.hcg.rgb=function(_){const y=_[0]/360,x=_[1]/100,S=_[2]/100;if(x===0)return[255*S,255*S,255*S];const N=[0,0,0],B=y%1*6,R=B%1,P=1-R;let L=0;switch(Math.floor(B)){case 0:N[0]=1,N[1]=R,N[2]=0;break;case 1:N[0]=P,N[1]=1,N[2]=0;break;case 2:N[0]=0,N[1]=1,N[2]=R;break;case 3:N[0]=0,N[1]=P,N[2]=1;break;case 4:N[0]=R,N[1]=0,N[2]=1;break;default:N[0]=1,N[1]=0,N[2]=P}return L=(1-x)*S,[255*(x*N[0]+L),255*(x*N[1]+L),255*(x*N[2]+L)]},v.hcg.hsv=function(_){const y=_[1]/100,x=y+_[2]/100*(1-y);let S=0;return x>0&&(S=y/x),[_[0],100*S,100*x]},v.hcg.hsl=function(_){const y=_[1]/100,x=_[2]/100*(1-y)+.5*y;let S=0;return x>0&&x<.5?S=y/(2*x):x>=.5&&x<1&&(S=y/(2*(1-x))),[_[0],100*S,100*x]},v.hcg.hwb=function(_){const y=_[1]/100,x=y+_[2]/100*(1-y);return[_[0],100*(x-y),100*(1-x)]},v.hwb.hcg=function(_){const y=_[1]/100,x=1-_[2]/100,S=x-y;let N=0;return S<1&&(N=(x-S)/(1-S)),[_[0],100*S,100*N]},v.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},v.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},v.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},v.gray.hsl=function(_){return[0,0,_[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(_){return[0,100,_[0]]},v.gray.cmyk=function(_){return[0,0,0,_[0]]},v.gray.lab=function(_){return[_[0],0,0]},v.gray.hex=function(_){const y=255&Math.round(_[0]/100*255),x=((y<<16)+(y<<8)+y).toString(16).toUpperCase();return"000000".substring(x.length)+x},v.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},2085:(u,h,f)=>{const m=f(8168),w=f(4111),v={};Object.keys(m).forEach(_=>{v[_]={},Object.defineProperty(v[_],"channels",{value:m[_].channels}),Object.defineProperty(v[_],"labels",{value:m[_].labels});const y=w(_);Object.keys(y).forEach(x=>{const S=y[x];v[_][x]=function(N){const B=function(...R){const P=R[0];if(P==null)return P;P.length>1&&(R=P);const L=N(R);if(typeof L=="object")for(let D=L.length,W=0;W<D;W++)L[W]=Math.round(L[W]);return L};return"conversion"in N&&(B.conversion=N.conversion),B}(S),v[_][x].raw=function(N){const B=function(...R){const P=R[0];return P==null?P:(P.length>1&&(R=P),N(R))};return"conversion"in N&&(B.conversion=N.conversion),B}(S)})}),u.exports=v},4111:(u,h,f)=>{const m=f(8168);function w(y){const x=function(){const N={},B=Object.keys(m);for(let R=B.length,P=0;P<R;P++)N[B[P]]={distance:-1,parent:null};return N}(),S=[y];for(x[y].distance=0;S.length;){const N=S.pop(),B=Object.keys(m[N]);for(let R=B.length,P=0;P<R;P++){const L=B[P],D=x[L];D.distance===-1&&(D.distance=x[N].distance+1,D.parent=N,S.unshift(L))}}return x}function v(y,x){return function(S){return x(y(S))}}function _(y,x){const S=[x[y].parent,y];let N=m[x[y].parent][y],B=x[y].parent;for(;x[B].parent;)S.unshift(x[B].parent),N=v(m[x[B].parent][B],N),B=x[B].parent;return N.conversion=S,N}u.exports=function(y){const x=w(y),S={},N=Object.keys(x);for(let B=N.length,R=0;R<B;R++){const P=N[R];x[P].parent!==null&&(S[P]=_(P,x))}return S}},8874:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const y=_},3789:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const y=_},799:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const y=_},7372:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const y=_},5037:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const y=_},4249:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const y=_},9893:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const y=_},2430:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const y=_},2423:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const y=_},8879:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD,CCfA,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const y=_},8340:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const y=_},2400:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const y=_},3534:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},1547:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const y=_},6618:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const y=_},2926:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const y=_},5269:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},3925:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const y=_},7536:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CCtDD,oCD0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CCzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4874:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},4330:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const y=_},5782:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`],sourceRoot:""}]);const y=_},3190:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const y=_},4784:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},9938:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const y=_},2591:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const y=_},9292:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const y=_},8705:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const y=_},1922:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},7138:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4029:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},4971:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=_},7258:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=_},4923:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const y=_},4257:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const y=_},6306:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const y=_},5062:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},1883:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4791:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},2704:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const y=_},9847:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},1874:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCXD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAkBD,CAbC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const y=_},4746:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const y=_},1977:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const y=_},2470:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},3525:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const y=_},2933:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,4WAGE,+HAYF,CAfA,4WAOE,wIAQF,CAfA,wVAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},179:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,oJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAgED,CA9DC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA6CD,CA/CA,uCAME,eAyCF,CA/CA,uCAUE,gBAqCF,CA/CA,6BAgBC,qCA+BD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},4460:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},7592:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const y=_},6356:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},3707:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},6603:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CCvBD,oCDMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CCpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},9332:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const y=_},6446:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const y=_},5224:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const y=_},4176:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const y=_},4768:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=_},3888:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const y=_},5167:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CC3GhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJ2GD,CIrGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const y=_},7153:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=_},4875:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const y=_},2347:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const y=_},5948:(u,h,f)=>{f.d(h,{Z:()=>y});var m=f(4015),w=f.n(m),v=f(3645),_=f.n(v)()(w());_.push([u.id,".ck-editor.ck-plugin-full-screen{align-items:center;background-color:#fff;display:flex;flex-direction:column;height:100vh;left:0;position:fixed;top:0;width:100%;z-index:100}.ck-editor.ck-plugin-full-screen .ck-editor__main,.ck-editor.ck-plugin-full-screen .ck-editor__top{max-width:1000px;width:100%}.ck-editor.ck-plugin-full-screen .ck-editor__top{margin-top:2em}.ck-editor.ck-plugin-full-screen .ck-editor__main{flex-grow:1;margin-bottom:2em;overflow-y:hidden}.ck-editor.ck-plugin-full-screen .ck-source-editing-area{height:100%}.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea{overflow-y:scroll}","",{version:3,sources:["webpack://./plugins/fullscreen/theme/fullscreen.css"],names:[],mappings:"AAAA,iCASE,kBAAmB,CACnB,qBAAsB,CAHtB,YAAa,CACb,qBAAsB,CAFtB,YAAa,CAHb,MAAO,CAFP,cAAe,CACf,KAAM,CAGN,UAAW,CADX,WAOF,CAEA,mGAGE,gBAAiB,CADjB,UAEF,CAEA,iDACE,cACF,CAEA,kDAEE,WAAY,CAEZ,iBAAkB,CADlB,iBAEF,CAGA,yDACE,WACF,CAEA,kEACE,iBACF",sourcesContent:[`.ck-editor.ck-plugin-full-screen {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #fff;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top,
.ck-editor.ck-plugin-full-screen .ck-editor__main {
  width: 100%;
  max-width: 1000px;
}

.ck-editor.ck-plugin-full-screen .ck-editor__top {
  margin-top: 2em;
}

.ck-editor.ck-plugin-full-screen .ck-editor__main {
  /* Fill the rest of the height of the parent */
  flex-grow: 1;
  overflow-y: hidden;
  margin-bottom: 2em;
}

/* Make source view also cover the whole viewport */
.ck-editor.ck-plugin-full-screen .ck-source-editing-area {
  height: 100%;
}

.ck-editor.ck-plugin-full-screen .ck-source-editing-area textarea {
  overflow-y: scroll;
}
`],sourceRoot:""}]);const y=_},3645:u=>{u.exports=function(h){var f=[];return f.toString=function(){return this.map(function(m){var w=h(m);return m[2]?"@media ".concat(m[2]," {").concat(w,"}"):w}).join("")},f.i=function(m,w,v){typeof m=="string"&&(m=[[null,m,""]]);var _={};if(v)for(var y=0;y<this.length;y++){var x=this[y][0];x!=null&&(_[x]=!0)}for(var S=0;S<m.length;S++){var N=[].concat(m[S]);v&&_[N[0]]||(w&&(N[2]?N[2]="".concat(w," and ").concat(N[2]):N[2]=w),f.push(N))}},f}},4015:u=>{function h(m,w){return function(v){if(Array.isArray(v))return v}(m)||function(v,_){var y=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(y!=null){var x,S,N=[],B=!0,R=!1;try{for(y=y.call(v);!(B=(x=y.next()).done)&&(N.push(x.value),!_||N.length!==_);B=!0);}catch(P){R=!0,S=P}finally{try{B||y.return==null||y.return()}finally{if(R)throw S}}return N}}(m,w)||function(v,_){if(v){if(typeof v=="string")return f(v,_);var y=Object.prototype.toString.call(v).slice(8,-1);if(y==="Object"&&v.constructor&&(y=v.constructor.name),y==="Map"||y==="Set")return Array.from(v);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return f(v,_)}}(m,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(m,w){(w==null||w>m.length)&&(w=m.length);for(var v=0,_=new Array(w);v<w;v++)_[v]=m[v];return _}u.exports=function(m){var w=h(m,4),v=w[1],_=w[3];if(!_)return v;if(typeof btoa=="function"){var y=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),S="/*# ".concat(x," */"),N=_.sources.map(function(B){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(B," */")});return[v].concat(N).concat([S]).join(`
`)}return[v].join(`
`)}},3379:(u,h,f)=>{var m,w=function(){return m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m},v=function(){var Z={};return function(ee){if(Z[ee]===void 0){var X=document.querySelector(ee);if(window.HTMLIFrameElement&&X instanceof window.HTMLIFrameElement)try{X=X.contentDocument.head}catch{X=null}Z[ee]=X}return Z[ee]}}(),_=[];function y(Z){for(var ee=-1,X=0;X<_.length;X++)if(_[X].identifier===Z){ee=X;break}return ee}function x(Z,ee){for(var X={},ae=[],ue=0;ue<Z.length;ue++){var be=Z[ue],G=ee.base?be[0]+ee.base:be[0],Y=X[G]||0,H="".concat(G," ").concat(Y);X[G]=Y+1;var U=y(H),$={css:be[1],media:be[2],sourceMap:be[3]};U!==-1?(_[U].references++,_[U].updater($)):_.push({identifier:H,updater:W($,ee),references:1}),ae.push(H)}return ae}function S(Z){var ee=document.createElement("style"),X=Z.attributes||{};if(X.nonce===void 0){var ae=f.nc;ae&&(X.nonce=ae)}if(Object.keys(X).forEach(function(be){ee.setAttribute(be,X[be])}),typeof Z.insert=="function")Z.insert(ee);else{var ue=v(Z.insert||"head");if(!ue)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ue.appendChild(ee)}return ee}var N,B=(N=[],function(Z,ee){return N[Z]=ee,N.filter(Boolean).join(`
`)});function R(Z,ee,X,ae){var ue=X?"":ae.media?"@media ".concat(ae.media," {").concat(ae.css,"}"):ae.css;if(Z.styleSheet)Z.styleSheet.cssText=B(ee,ue);else{var be=document.createTextNode(ue),G=Z.childNodes;G[ee]&&Z.removeChild(G[ee]),G.length?Z.insertBefore(be,G[ee]):Z.appendChild(be)}}function P(Z,ee,X){var ae=X.css,ue=X.media,be=X.sourceMap;if(ue?Z.setAttribute("media",ue):Z.removeAttribute("media"),be&&typeof btoa<"u"&&(ae+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(be))))," */")),Z.styleSheet)Z.styleSheet.cssText=ae;else{for(;Z.firstChild;)Z.removeChild(Z.firstChild);Z.appendChild(document.createTextNode(ae))}}var L=null,D=0;function W(Z,ee){var X,ae,ue;if(ee.singleton){var be=D++;X=L||(L=S(ee)),ae=R.bind(null,X,be,!1),ue=R.bind(null,X,be,!0)}else X=S(ee),ae=P.bind(null,X,ee),ue=function(){(function(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G)})(X)};return ae(Z),function(G){if(G){if(G.css===Z.css&&G.media===Z.media&&G.sourceMap===Z.sourceMap)return;ae(Z=G)}else ue()}}u.exports=function(Z,ee){(ee=ee||{}).singleton||typeof ee.singleton=="boolean"||(ee.singleton=w());var X=x(Z=Z||[],ee);return function(ae){if(ae=ae||[],Object.prototype.toString.call(ae)==="[object Array]"){for(var ue=0;ue<X.length;ue++){var be=y(X[ue]);_[be].references--}for(var G=x(ae,ee),Y=0;Y<X.length;Y++){var H=y(X[Y]);_[H].references===0&&(_[H].updater(),_.splice(H,1))}X=G}}}}},n={};function o(u){var h=n[u];if(h!==void 0)return h.exports;var f=n[u]={id:u,exports:{}};return i[u](f,f.exports,o),f.exports}o.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return o.d(h,{a:h}),h},o.d=(u,h)=>{for(var f in h)o.o(h,f)&&!o.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:h[f]})},o.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),o.nc=void 0;var l={};return(()=>{o.d(l,{default:()=>vB});const u=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),h={isMac:m(u),isWindows:function(a){return a.indexOf("windows")>-1}(u),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(u),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(u),isiOS:function(a){return!!a.match(/iphone|ipad/i)||m(a)&&navigator.maxTouchPoints>0}(u),isAndroid:function(a){return a.indexOf("android")>-1}(u),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(u),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}},f=h;function m(a){return a.indexOf("macintosh")>-1}function w(a,e,t,r){t=t||function(p,k){return p===k};const s=Array.isArray(a)?a:Array.prototype.slice.call(a),c=Array.isArray(e)?e:Array.prototype.slice.call(e),d=function(p,k,b){const A=v(p,k,b);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const C=_(p,A),E=_(k,A),M=v(C,E,b),O=p.length-M,z=k.length-M;return{firstIndex:A,lastIndexOld:O,lastIndexNew:z}}(s,c,t);return r?function(p,k){const{firstIndex:b,lastIndexOld:A,lastIndexNew:C}=p;if(b===-1)return Array(k).fill("equal");let E=[];return b>0&&(E=E.concat(Array(b).fill("equal"))),C-b>0&&(E=E.concat(Array(C-b).fill("insert"))),A-b>0&&(E=E.concat(Array(A-b).fill("delete"))),C<k&&(E=E.concat(Array(k-C).fill("equal"))),E}(d,c.length):function(p,k){const b=[],{firstIndex:A,lastIndexOld:C,lastIndexNew:E}=k;return E-A>0&&b.push({index:A,type:"insert",values:p.slice(A,E)}),C-A>0&&b.push({index:A+(E-A),type:"delete",howMany:C-A}),b}(c,d)}function v(a,e,t){for(let r=0;r<Math.max(a.length,e.length);r++)if(a[r]===void 0||e[r]===void 0||!t(a[r],e[r]))return r;return-1}function _(a,e){return a.slice(e).reverse()}function y(a,e,t){t=t||function(O,z){return O===z};const r=a.length,s=e.length;if(r>200||s>200||r+s>300)return y.fastDiff(a,e,t,!0);let c,d;if(s<r){const O=a;a=e,e=O,c="delete",d="insert"}else c="insert",d="delete";const g=a.length,p=e.length,k=p-g,b={},A={};function C(O){const z=(A[O-1]!==void 0?A[O-1]:-1)+1,V=A[O+1]!==void 0?A[O+1]:-1,K=z>V?-1:1;b[O+K]&&(b[O]=b[O+K].slice(0)),b[O]||(b[O]=[]),b[O].push(z>V?c:d);let se=Math.max(z,V),ye=se-O;for(;ye<g&&se<p&&t(a[ye],e[se]);)ye++,se++,b[O].push("equal");return se}let E,M=0;do{for(E=-M;E<k;E++)A[E]=C(E);for(E=k+M;E>k;E--)A[E]=C(E);A[k]=C(k),M++}while(A[k]!==p);return b[k].slice(1)}y.fastDiff=w;const x=function(){return function a(){a.called=!0}};class S{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=x(),this.off=x()}}const N=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function B(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+N[a>>0&255]+N[a>>8&255]+N[a>>16&255]+N[a>>24&255]+N[e>>0&255]+N[e>>8&255]+N[e>>16&255]+N[e>>24&255]+N[t>>0&255]+N[t>>8&255]+N[t>>16&255]+N[t>>24&255]+N[r>>0&255]+N[r>>8&255]+N[r>>16&255]+N[r>>24&255]}const R={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function P(a,e){const t=R.get(e.priority);for(let r=0;r<a.length;r++)if(R.get(a[r].priority)<t)return void a.splice(r,0,e);a.push(e)}const L="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class D extends Error{constructor(e,t,r){super(function(s,c){const d=new WeakSet,g=(b,A)=>{if(typeof A=="object"&&A!==null){if(d.has(A))return`[object ${A.constructor.name}]`;d.add(A)}return A},p=c?` ${JSON.stringify(c,g)}`:"",k=Z(s);return s+p+k}(e,r)),this.name="CKEditorError",this.context=t,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const r=new D(e.message,t);throw r.stack=e.stack,r}}function W(a,e){console.warn(...ee(a,e))}function Z(a){return`
Read more: ${L}#error-${a}`}function ee(a,e){const t=Z(a);return e?[a,e,t]:[a,t]}const X="40.0.0",ae=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new D("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=X;const ue=Symbol("listeningTo"),be=Symbol("emitterId"),G=Symbol("delegations"),Y=H(Object);function H(a){return a?class extends a{on(e,t,r){this.listenTo(this,e,t,r)}once(e,t,r){let s=!1;this.listenTo(this,e,(c,...d)=>{s||(s=!0,c.off(),t.call(this,c,...d))},r)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,r,s={}){let c,d;this[ue]||(this[ue]={});const g=this[ue];$(e)||U(e);const p=$(e);(c=g[p])||(c=g[p]={emitter:e,callbacks:{}}),(d=c.callbacks[t])||(d=c.callbacks[t]=[]),d.push(r),function(k,b,A,C,E){b._addEventListener?b._addEventListener(A,C,E):k._addEventListener.call(b,A,C,E)}(this,e,t,r,s)}stopListening(e,t,r){const s=this[ue];let c=e&&$(e);const d=s&&c?s[c]:void 0,g=d&&t?d.callbacks[t]:void 0;if(!(!s||e&&!d||t&&!g))if(r)ge(this,e,t,r),g.indexOf(r)!==-1&&(g.length===1?delete d.callbacks[t]:ge(this,e,t,r));else if(g){for(;r=g.pop();)ge(this,e,t,r);delete d.callbacks[t]}else if(d){for(t in d.callbacks)this.stopListening(e,t);delete s[c]}else{for(c in s)this.stopListening(s[c].emitter);delete this[ue]}}fire(e,...t){try{const r=e instanceof S?e:new S(this,e),s=r.name;let c=ne(this,s);if(r.path.push(this),c){const g=[r,...t];c=Array.from(c);for(let p=0;p<c.length&&(c[p].callback.apply(this,g),r.off.called&&(delete r.off.called,this._removeEventListener(s,c[p].callback)),!r.stop.called);p++);}const d=this[G];if(d){const g=d.get(s),p=d.get("*");g&&ie(g,r,t),p&&ie(p,r,t)}return r.return}catch(r){D.rethrowUnexpectedError(r,this)}}delegate(...e){return{to:(t,r)=>{this[G]||(this[G]=new Map),e.forEach(s=>{const c=this[G].get(s);c?c.set(t,r):this[G].set(s,new Map([[t,r]]))})}}}stopDelegating(e,t){if(this[G])if(e)if(t){const r=this[G].get(e);r&&r.delete(t)}else this[G].delete(e);else this[G].clear()}_addEventListener(e,t,r){(function(d,g){const p=J(d);if(p[g])return;let k=g,b=null;const A=[];for(;k!==""&&!p[k];)p[k]={callbacks:[],childEvents:[]},A.push(p[k]),b&&p[k].childEvents.push(b),b=k,k=k.substr(0,k.lastIndexOf(":"));if(k!==""){for(const C of A)C.callbacks=p[k].callbacks.slice();p[k].childEvents.push(b)}})(this,e);const s=he(this,e),c={callback:t,priority:R.get(r.priority)};for(const d of s)P(d,c)}_removeEventListener(e,t){const r=he(this,e);for(const s of r)for(let c=0;c<s.length;c++)s[c].callback==t&&(s.splice(c,1),c--)}}:Y}function U(a,e){a[be]||(a[be]=e||B())}function $(a){return a[be]}function J(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function he(a,e){const t=J(a)[e];if(!t)return[];let r=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const c=he(a,t.childEvents[s]);r=r.concat(c)}return r}function ne(a,e){let t;return a._events&&(t=a._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?ne(a,e.substr(0,e.lastIndexOf(":"))):null}function ie(a,e,t){for(let[r,s]of a){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const c=new S(e.source,s);c.path=[...e.path],r.fire(c,...t)}}function ge(a,e,t,r){e._removeEventListener?e._removeEventListener(t,r):a._removeEventListener.call(e,t,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{H[a]=Y.prototype[a]});const pe=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},xe=Symbol("observableProperties"),gt=Symbol("boundObservables"),Dt=Symbol("boundProperties"),St=Symbol("decoratedMethods"),Ge=Symbol("decoratedOriginal"),ar=Ye(H());function Ye(a){return a?class extends a{set(e,t){if(pe(e))return void Object.keys(e).forEach(s=>{this.set(s,e[s])},this);hc(this);const r=this[xe];if(e in this&&!r.has(e))throw new D("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>r.get(e),set(s){const c=r.get(e);let d=this.fire(`set:${e}`,e,s,c);d===void 0&&(d=s),c===d&&r.has(e)||(r.set(e,d),this.fire(`change:${e}`,e,d,c))}}),this[e]=t}bind(...e){if(!e.length||!Td(e))throw new D("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new D("observable-bind-duplicate-properties",this);hc(this);const t=this[Dt];e.forEach(s=>{if(t.has(s))throw new D("observable-bind-rebind",this)});const r=new Map;return e.forEach(s=>{const c={property:s,to:[]};t.set(s,c),r.set(s,c)}),{to:Sd,toMany:fc,_observable:this,_bindProperties:e,_to:[],_bindings:r}}unbind(...e){if(!this[xe])return;const t=this[Dt],r=this[gt];if(e.length){if(!Td(e))throw new D("observable-unbind-wrong-properties",this);e.forEach(s=>{const c=t.get(s);c&&(c.to.forEach(([d,g])=>{const p=r.get(d),k=p[g];k.delete(c),k.size||delete p[g],Object.keys(p).length||(r.delete(d),this.stopListening(d,"change"))}),t.delete(s))})}else r.forEach((s,c)=>{this.stopListening(c,"change")}),r.clear(),t.clear()}decorate(e){hc(this);const t=this[e];if(!t)throw new D("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(r,s)=>{r.return=t.apply(this,s)}),this[e]=function(...r){return this.fire(e,r)},this[e][Ge]=t,this[St]||(this[St]=[]),this[St].push(e)}stopListening(e,t,r){if(!e&&this[St]){for(const s of this[St])this[s]=this[s][Ge];delete this[St]}super.stopListening(e,t,r)}}:ar}function hc(a){a[xe]||(Object.defineProperty(a,xe,{value:new Map}),Object.defineProperty(a,gt,{value:new Map}),Object.defineProperty(a,Dt,{value:new Map}))}function Sd(...a){const e=function(...c){if(!c.length)throw new D("observable-bind-to-parse-error",null);const d={to:[]};let g;return typeof c[c.length-1]=="function"&&(d.callback=c.pop()),c.forEach(p=>{if(typeof p=="string")g.properties.push(p);else{if(typeof p!="object")throw new D("observable-bind-to-parse-error",null);g={observable:p,properties:[]},d.to.push(g)}}),d}(...a),t=Array.from(this._bindings.keys()),r=t.length;if(!e.callback&&e.to.length>1)throw new D("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new D("observable-bind-to-extra-callback",this);var s;e.to.forEach(c=>{if(c.properties.length&&c.properties.length!==r)throw new D("observable-bind-to-properties-length",this);c.properties.length||(c.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),s=this._observable,this._to.forEach(c=>{const d=s[gt];let g;d.get(c.observable)||s.listenTo(c.observable,"change",(p,k)=>{g=d.get(c.observable)[k],g&&g.forEach(b=>{Id(s,b.property)})})}),function(c){let d;c._bindings.forEach((g,p)=>{c._to.forEach(k=>{d=k.properties[g.callback?0:c._bindProperties.indexOf(p)],g.to.push([k.observable,d]),function(b,A,C,E){const M=b[gt],O=M.get(C),z=O||{};z[E]||(z[E]=new Set),z[E].add(A),O||M.set(C,z)}(c._observable,g,k.observable,d)})})}(this),this._bindProperties.forEach(c=>{Id(this._observable,c)})}function fc(a,e,t){if(this._bindings.size>1)throw new D("observable-bind-to-many-not-one-binding",this);this.to(...function(r,s){const c=r.map(d=>[d,s]);return Array.prototype.concat.apply([],c)}(a,e),t)}function Td(a){return a.every(e=>typeof e=="string")}function Id(a,e){const t=a[Dt].get(e);let r;t.callback?r=t.callback.apply(a,t.to.map(s=>s[0][s[1]])):(r=t.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=r:a.set(e,r)}function Os(a){let e=0;for(const t of a)e++;return e}function jt(a,e){const t=Math.min(a.length,e.length);for(let r=0;r<t;r++)if(a[r]!=e[r])return r;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function fn(a){return!(!a||!a[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Ye[a]=ar.prototype[a]});const Md=typeof global=="object"&&global&&global.Object===Object&&global;var Nd=typeof self=="object"&&self&&self.Object===Object&&self;const jn=Md||Nd||Function("return this")(),Rn=jn.Symbol;var Lo=Object.prototype,ag=Lo.hasOwnProperty,cg=Lo.toString,zo=Rn?Rn.toStringTag:void 0;const lg=function(a){var e=ag.call(a,zo),t=a[zo];try{a[zo]=void 0;var r=!0}catch{}var s=cg.call(a);return r&&(e?a[zo]=t:delete a[zo]),s};var dg=Object.prototype.toString;const Rr=function(a){return dg.call(a)};var jo=Rn?Rn.toStringTag:void 0;const Ri=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":jo&&jo in Object(a)?lg(a):Rr(a)},Kt=Array.isArray,En=function(a){return a!=null&&typeof a=="object"},Od=function(a){return typeof a=="string"||!Kt(a)&&En(a)&&Ri(a)=="[object String]"};function Bs(a,e,t={},r=[]){const s=t&&t.xmlns,c=s?a.createElementNS(s,e):a.createElement(e);for(const d in t)c.setAttribute(d,t[d]);!Od(r)&&fn(r)||(r=[r]);for(let d of r)Od(d)&&(d=a.createTextNode(d)),c.appendChild(d);return c}const Ps=function(a,e){return function(t){return a(e(t))}},Ls=Ps(Object.getPrototypeOf,Object);var ug=Function.prototype,hg=Object.prototype,Fi=ug.toString,fg=hg.hasOwnProperty,gg=Fi.call(Object);const gn=function(a){if(!En(a)||Ri(a)!="[object Object]")return!1;var e=Ls(a);if(e===null)return!0;var t=fg.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Fi.call(t)==gg},pg=function(){this.__data__=[],this.size=0},Ro=function(a,e){return a===e||a!=a&&e!=e},zs=function(a,e){for(var t=a.length;t--;)if(Ro(a[t][0],e))return t;return-1};var mg=Array.prototype.splice;const kg=function(a){var e=this.__data__,t=zs(e,a);return!(t<0)&&(t==e.length-1?e.pop():mg.call(e,t,1),--this.size,!0)},cr=function(a){var e=this.__data__,t=zs(e,a);return t<0?void 0:e[t][1]},Fo=function(a){return zs(this.__data__,a)>-1},Vo=function(a,e){var t=this.__data__,r=zs(t,a);return r<0?(++this.size,t.push([a,e])):t[r][1]=e,this};function Fr(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Fr.prototype.clear=pg,Fr.prototype.delete=kg,Fr.prototype.get=cr,Fr.prototype.has=Fo,Fr.prototype.set=Vo;const js=Fr,bg=function(){this.__data__=new js,this.size=0},wg=function(a){var e=this.__data__,t=e.delete(a);return this.size=e.size,t},vg=function(a){return this.__data__.get(a)},_g=function(a){return this.__data__.has(a)},lr=function(a){if(!pe(a))return!1;var e=Ri(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Vi=jn["__core-js_shared__"];var gc=function(){var a=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const Ag=function(a){return!!gc&&gc in a};var yg=Function.prototype.toString;const ti=function(a){if(a!=null){try{return yg.call(a)}catch{}try{return a+""}catch{}}return""};var Cg=/^\[object .+?Constructor\]$/,xg=Function.prototype,Eg=Object.prototype,Dg=xg.toString,Vr=Eg.hasOwnProperty,Sg=RegExp("^"+Dg.call(Vr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Tg=function(a){return!(!pe(a)||Ag(a))&&(lr(a)?Sg:Cg).test(ti(a))},Ur=function(a,e){return a==null?void 0:a[e]},dr=function(a,e){var t=Ur(a,e);return Tg(t)?t:void 0},Uo=dr(jn,"Map"),Hr=dr(Object,"create"),Bd=function(){this.__data__=Hr?Hr(null):{},this.size=0},Ig=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var Pd=Object.prototype.hasOwnProperty;const Rs=function(a){var e=this.__data__;if(Hr){var t=e[a];return t==="__lodash_hash_undefined__"?void 0:t}return Pd.call(e,a)?e[a]:void 0};var Mg=Object.prototype.hasOwnProperty;const Ld=function(a){var e=this.__data__;return Hr?e[a]!==void 0:Mg.call(e,a)},zd=function(a,e){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=Hr&&e===void 0?"__lodash_hash_undefined__":e,this};function $r(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}$r.prototype.clear=Bd,$r.prototype.delete=Ig,$r.prototype.get=Rs,$r.prototype.has=Ld,$r.prototype.set=zd;const jd=$r,Ng=function(){this.size=0,this.__data__={hash:new jd,map:new(Uo||js),string:new jd}},pc=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},Fs=function(a,e){var t=a.__data__;return pc(e)?t[typeof e=="string"?"string":"hash"]:t.map},Rd=function(a){var e=Fs(this,a).delete(a);return this.size-=e?1:0,e},Fd=function(a){return Fs(this,a).get(a)},Vd=function(a){return Fs(this,a).has(a)},Ud=function(a,e){var t=Fs(this,a),r=t.size;return t.set(a,e),this.size+=t.size==r?0:1,this};function Wr(a){var e=-1,t=a==null?0:a.length;for(this.clear();++e<t;){var r=a[e];this.set(r[0],r[1])}}Wr.prototype.clear=Ng,Wr.prototype.delete=Rd,Wr.prototype.get=Fd,Wr.prototype.has=Vd,Wr.prototype.set=Ud;const Vs=Wr,Hd=function(a,e){var t=this.__data__;if(t instanceof js){var r=t.__data__;if(!Uo||r.length<199)return r.push([a,e]),this.size=++t.size,this;t=this.__data__=new Vs(r)}return t.set(a,e),this.size=t.size,this};function $e(a){var e=this.__data__=new js(a);this.size=e.size}$e.prototype.clear=bg,$e.prototype.delete=wg,$e.prototype.get=vg,$e.prototype.has=_g,$e.prototype.set=Hd;const Ho=$e,mc=function(a,e){for(var t=-1,r=a==null?0:a.length;++t<r&&e(a[t],t,a)!==!1;);return a},$o=function(){try{var a=dr(Object,"defineProperty");return a({},"",{}),a}catch{}}(),ur=function(a,e,t){e=="__proto__"&&$o?$o(a,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):a[e]=t};var kc=Object.prototype.hasOwnProperty;const Ui=function(a,e,t){var r=a[e];kc.call(a,e)&&Ro(r,t)&&(t!==void 0||e in a)||ur(a,e,t)},hr=function(a,e,t,r){var s=!t;t||(t={});for(var c=-1,d=e.length;++c<d;){var g=e[c],p=r?r(t[g],a[g],g,t,a):void 0;p===void 0&&(p=a[g]),s?ur(t,g,p):Ui(t,g,p)}return t},Og=function(a,e){for(var t=-1,r=Array(a);++t<a;)r[t]=e(t);return r},$d=function(a){return En(a)&&Ri(a)=="[object Arguments]"};var bc=Object.prototype,Bg=bc.hasOwnProperty,wc=bc.propertyIsEnumerable;const vc=$d(function(){return arguments}())?$d:function(a){return En(a)&&Bg.call(a,"callee")&&!wc.call(a,"callee")},Pg=function(){return!1};var Wd=typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,_c=Wd&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,Us=_c&&_c.exports===Wd?jn.Buffer:void 0;const Wo=(Us?Us.isBuffer:void 0)||Pg;var Lg=/^(?:0|[1-9]\d*)$/;const Ac=function(a,e){var t=typeof a;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&Lg.test(a))&&a>-1&&a%1==0&&a<e},qd=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var Je={};Je["[object Float32Array]"]=Je["[object Float64Array]"]=Je["[object Int8Array]"]=Je["[object Int16Array]"]=Je["[object Int32Array]"]=Je["[object Uint8Array]"]=Je["[object Uint8ClampedArray]"]=Je["[object Uint16Array]"]=Je["[object Uint32Array]"]=!0,Je["[object Arguments]"]=Je["[object Array]"]=Je["[object ArrayBuffer]"]=Je["[object Boolean]"]=Je["[object DataView]"]=Je["[object Date]"]=Je["[object Error]"]=Je["[object Function]"]=Je["[object Map]"]=Je["[object Number]"]=Je["[object Object]"]=Je["[object RegExp]"]=Je["[object Set]"]=Je["[object String]"]=Je["[object WeakMap]"]=!1;const zg=function(a){return En(a)&&qd(a.length)&&!!Je[Ri(a)]},Hs=function(a){return function(e){return a(e)}};var yc=typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,qr=yc&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,$s=qr&&qr.exports===yc&&Md.process;const Gr=function(){try{var a=qr&&qr.require&&qr.require("util").types;return a||$s&&$s.binding&&$s.binding("util")}catch{}}();var Gd=Gr&&Gr.isTypedArray;const Cc=Gd?Hs(Gd):zg;var Yd=Object.prototype.hasOwnProperty;const Kd=function(a,e){var t=Kt(a),r=!t&&vc(a),s=!t&&!r&&Wo(a),c=!t&&!r&&!s&&Cc(a),d=t||r||s||c,g=d?Og(a.length,String):[],p=g.length;for(var k in a)!e&&!Yd.call(a,k)||d&&(k=="length"||s&&(k=="offset"||k=="parent")||c&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Ac(k,p))||g.push(k);return g};var Zd=Object.prototype;const qo=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||Zd)},jg=Ps(Object.keys,Object);var Qd=Object.prototype.hasOwnProperty;const Jd=function(a){if(!qo(a))return jg(a);var e=[];for(var t in Object(a))Qd.call(a,t)&&t!="constructor"&&e.push(t);return e},Ws=function(a){return a!=null&&qd(a.length)&&!lr(a)},qs=function(a){return Ws(a)?Kd(a):Jd(a)},Rg=function(a,e){return a&&hr(e,qs(e),a)},Fg=function(a){var e=[];if(a!=null)for(var t in Object(a))e.push(t);return e};var xc=Object.prototype.hasOwnProperty;const Ec=function(a){if(!pe(a))return Fg(a);var e=qo(a),t=[];for(var r in a)(r!="constructor"||!e&&xc.call(a,r))&&t.push(r);return t},Hi=function(a){return Ws(a)?Kd(a,!0):Ec(a)},Dc=function(a,e){return a&&hr(e,Hi(e),a)};var Sc=typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,Tc=Sc&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,Ic=Tc&&Tc.exports===Sc?jn.Buffer:void 0,Mc=Ic?Ic.allocUnsafe:void 0;const Nc=function(a,e){if(e)return a.slice();var t=a.length,r=Mc?Mc(t):new a.constructor(t);return a.copy(r),r},Xd=function(a,e){var t=-1,r=a.length;for(e||(e=Array(r));++t<r;)e[t]=a[t];return e},Vg=function(a,e){for(var t=-1,r=a==null?0:a.length,s=0,c=[];++t<r;){var d=a[t];e(d,t,a)&&(c[s++]=d)}return c},eu=function(){return[]};var Ug=Object.prototype.propertyIsEnumerable,tu=Object.getOwnPropertySymbols;const ki=tu?function(a){return a==null?[]:(a=Object(a),Vg(tu(a),function(e){return Ug.call(a,e)}))}:eu,Oc=function(a,e){return hr(a,ki(a),e)},nu=function(a,e){for(var t=-1,r=e.length,s=a.length;++t<r;)a[s+t]=e[t];return a},iu=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)nu(e,ki(a)),a=Ls(a);return e}:eu,ru=function(a,e){return hr(a,iu(a),e)},Gs=function(a,e,t){var r=e(a);return Kt(a)?r:nu(r,t(a))},Bc=function(a){return Gs(a,qs,ki)},Hg=function(a){return Gs(a,Hi,iu)},Pc=dr(jn,"DataView"),Ys=dr(jn,"Promise"),Ks=dr(jn,"Set"),Lc=dr(jn,"WeakMap");var ou="[object Map]",su="[object Promise]",zc="[object Set]",au="[object WeakMap]",cu="[object DataView]",$g=ti(Pc),lu=ti(Uo),Wg=ti(Ys),qg=ti(Ks),du=ti(Lc),fr=Ri;(Pc&&fr(new Pc(new ArrayBuffer(1)))!=cu||Uo&&fr(new Uo)!=ou||Ys&&fr(Ys.resolve())!=su||Ks&&fr(new Ks)!=zc||Lc&&fr(new Lc)!=au)&&(fr=function(a){var e=Ri(a),t=e=="[object Object]"?a.constructor:void 0,r=t?ti(t):"";if(r)switch(r){case $g:return cu;case lu:return ou;case Wg:return su;case qg:return zc;case du:return au}return e});const Yr=fr;var uu=Object.prototype.hasOwnProperty;const hu=function(a){var e=a.length,t=new a.constructor(e);return e&&typeof a[0]=="string"&&uu.call(a,"index")&&(t.index=a.index,t.input=a.input),t},Ke=jn.Uint8Array,jc=function(a){var e=new a.constructor(a.byteLength);return new Ke(e).set(new Ke(a)),e},Gg=function(a,e){var t=e?jc(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.byteLength)};var Rc=/\w*$/;const Yg=function(a){var e=new a.constructor(a.source,Rc.exec(a));return e.lastIndex=a.lastIndex,e};var Kr=Rn?Rn.prototype:void 0,Zs=Kr?Kr.valueOf:void 0;const Kg=function(a){return Zs?Object(Zs.call(a)):{}},Fc=function(a,e){var t=e?jc(a.buffer):a.buffer;return new a.constructor(t,a.byteOffset,a.length)},Vc=function(a,e,t){var r=a.constructor;switch(e){case"[object ArrayBuffer]":return jc(a);case"[object Boolean]":case"[object Date]":return new r(+a);case"[object DataView]":return Gg(a,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Fc(a,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(a);case"[object RegExp]":return Yg(a);case"[object Symbol]":return Kg(a)}};var Qs=Object.create;const Uc=function(){function a(){}return function(e){if(!pe(e))return{};if(Qs)return Qs(e);a.prototype=e;var t=new a;return a.prototype=void 0,t}}(),gr=function(a){return typeof a.constructor!="function"||qo(a)?{}:Uc(Ls(a))},fu=function(a){return En(a)&&Yr(a)=="[object Map]"};var Js=Gr&&Gr.isMap;const Zg=Js?Hs(Js):fu,T=function(a){return En(a)&&Yr(a)=="[object Set]"};var I=Gr&&Gr.isSet;const j=I?Hs(I):T;var q="[object Arguments]",re="[object Function]",we="[object Object]",le={};le[q]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object DataView]"]=le["[object Boolean]"]=le["[object Date]"]=le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Map]"]=le["[object Number]"]=le[we]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object Symbol]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Error]"]=le[re]=le["[object WeakMap]"]=!1;const ke=function a(e,t,r,s,c,d){var g,p=1&t,k=2&t,b=4&t;if(r&&(g=c?r(e,s,c,d):r(e)),g!==void 0)return g;if(!pe(e))return e;var A=Kt(e);if(A){if(g=hu(e),!p)return Xd(e,g)}else{var C=Yr(e),E=C==re||C=="[object GeneratorFunction]";if(Wo(e))return Nc(e,p);if(C==we||C==q||E&&!c){if(g=k||E?{}:gr(e),!p)return k?ru(e,Dc(g,e)):Oc(e,Rg(g,e))}else{if(!le[C])return c?e:{};g=Vc(e,C,p)}}d||(d=new Ho);var M=d.get(e);if(M)return M;d.set(e,g),j(e)?e.forEach(function(z){g.add(a(z,t,r,z,e,d))}):Zg(e)&&e.forEach(function(z,V){g.set(V,a(z,t,r,V,e,d))});var O=A?void 0:(b?k?Hg:Bc:k?Hi:qs)(e);return mc(O||e,function(z,V){O&&(z=e[V=z]),Ui(g,V,a(z,t,r,V,e,d))}),g},Me=function(a,e){return ke(a,5,e=typeof e=="function"?e:void 0)},Ee=function(a){return En(a)&&a.nodeType===1&&!gn(a)};class pn{constructor(e,t){this._config={},t&&this.define(Zt(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,r,s=!1){if(gn(t))return void this._setObjectToTarget(e,t,s);const c=t.split(".");t=c.pop();for(const d of c)gn(e[d])||(e[d]={}),e=e[d];if(gn(r))return gn(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,r,s);s&&e[t]!==void 0||(e[t]=r)}_getFromSource(e,t){const r=t.split(".");t=r.pop();for(const s of r){if(!gn(e[s])){e=null;break}e=e[s]}return e?Zt(e[t]):void 0}_setObjectToTarget(e,t,r){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],r)})}}function Zt(a){return Me(a,Bt)}function Bt(a){return Ee(a)?a:void 0}function Rt(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function ni(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const Fn=tt(H());function tt(a){return a?class extends a{listenTo(e,t,r,s={}){if(Rt(e)||ni(e)){const c={capture:!!s.useCapture,passive:!!s.usePassive},d=this._getProxyEmitter(e,c)||new mn(e,c);this.listenTo(d,t,r,s)}else super.listenTo(e,t,r,s)}stopListening(e,t,r){if(Rt(e)||ni(e)){const s=this._getAllProxyEmitters(e);for(const c of s)this.stopListening(c,t,r)}else super.stopListening(e,t,r)}_getProxyEmitter(e,t){return function(r,s){const c=r[ue];return c&&c[s]?c[s].emitter:null}(this,Ft(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Fn}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{tt[a]=Fn.prototype[a]});class mn extends H(){constructor(e,t){super(),U(this,Ft(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,r){this.attach(e),H().prototype._addEventListener.call(this,e,t,r)}_removeEventListener(e,t){H().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=r=>{this.fire(e,r)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Ft(a,e){let t=function(r){return r["data-ck-expando"]||(r["data-ck-expando"]=B())}(a);for(const r of Object.keys(e).sort())e[r]&&(t+="-"+r);return t}let kn;try{kn={window,document}}catch{kn={window:{},document:{}}}const Ae=kn;function bt(a){return Object.prototype.toString.call(a)=="[object Text]"}function Xs(a){return Object.prototype.toString.apply(a)=="[object Range]"}function gu(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function pu(a){return a&&a.parentNode?a.offsetParent===Ae.document.body?null:a.offsetParent:null}const mu=["top","right","bottom","left","width","height"];class Ne{constructor(e){const t=Xs(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Oe(e)||t)if(t){const r=Ne.getDomRangeRects(e);De(this,Ne.getBoundingRect(r))}else De(this,e.getBoundingClientRect());else if(ni(e)){const{innerWidth:r,innerHeight:s}=e;De(this,{top:0,right:r,bottom:s,left:0,width:r,height:s})}else De(this,e)}clone(){return new Ne(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const r=new Ne(t);return r._source=this._source,r}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(nt(e))return t;let r,s=e,c=e.parentNode||e.commonAncestorContainer;for(;c&&!nt(c);){const g=((d=c)instanceof HTMLElement?d.ownerDocument.defaultView.getComputedStyle(d).overflow:"visible")==="visible";s instanceof HTMLElement&&Vn(s)==="absolute"&&(r=s);const p=Vn(c);if(g||r&&(p==="relative"&&g||p!=="relative")){s=c,c=c.parentNode;continue}const k=new Ne(c),b=t.getIntersection(k);if(!b)return null;b.getArea()<t.getArea()&&(t=b),s=c,c=c.parentNode}var d;return t}isEqual(e){for(const t of mu)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Ae.window,r=this.clone().moveBy(e,t);if(Oe(r._source)){const s=pu(r._source);s&&function(c,d){const g=new Ne(d),p=gu(d);let k=0,b=0;k-=g.left,b-=g.top,k+=d.scrollLeft,b+=d.scrollTop,k-=p.left,b-=p.top,c.moveBy(k,b)}(r,s)}return r}excludeScrollbarsAndBorders(){const e=this._source;let t,r,s;if(ni(e))t=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const c=gu(e);t=e.offsetWidth-e.clientWidth-c.left-c.right,r=e.offsetHeight-e.clientHeight-c.top-c.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const t=[],r=Array.from(e.getClientRects());if(r.length)for(const s of r)t.push(new Ne(s));else{let s=e.startContainer;bt(s)&&(s=s.parentNode);const c=new Ne(s.getBoundingClientRect());c.right=c.left,c.width=0,t.push(c)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const s of e)r++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return r==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Ne(t))}}function De(a,e){for(const t of mu)a[t]=e[t]}function nt(a){return!!Oe(a)&&a===a.ownerDocument.body}function Oe(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function Vn(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}class Be{constructor(e,t){Be._observerInstance||Be._createObserver(),this._element=e,this._callback=t,Be._addElementCallback(e,t),Be._observerInstance.observe(e)}get element(){return this._element}destroy(){Be._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Be._elementCallbacks||(Be._elementCallbacks=new Map);let r=Be._elementCallbacks.get(e);r||(r=new Set,Be._elementCallbacks.set(e,r)),r.add(t)}static _deleteElementCallback(e,t){const r=Be._getElementCallbacks(e);r&&(r.delete(t),r.size||(Be._elementCallbacks.delete(e),Be._observerInstance.unobserve(e))),Be._elementCallbacks&&!Be._elementCallbacks.size&&(Be._observerInstance=null,Be._elementCallbacks=null)}static _getElementCallbacks(e){return Be._elementCallbacks?Be._elementCallbacks.get(e):null}static _createObserver(){Be._observerInstance=new Ae.window.ResizeObserver(e=>{for(const t of e){const r=Be._getElementCallbacks(t.target);if(r)for(const s of r)s(t)}})}}function bi(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function rn(a){return e=>e+a}function bn(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function Vt(a,e,t){a.insertBefore(t,a.childNodes[e]||null)}function on(a){return a&&a.nodeType===Node.COMMENT_NODE}function yt(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}function lt({element:a,target:e,positions:t,limiter:r,fitInViewport:s,viewportOffsetConfig:c}){lr(e)&&(e=e()),lr(r)&&(r=r());const d=pu(a),g=function(C){C=Object.assign({top:0,bottom:0,left:0,right:0},C);const E=new Ne(Ae.window);return E.top+=C.top,E.height-=C.top,E.bottom-=C.bottom,E.height-=C.bottom,E}(c),p=new Ne(a),k=Pt(e,g);let b;if(!k||!g.getIntersection(k))return null;const A={targetRect:k,elementRect:p,positionedElementAncestor:d,viewportRect:g};if(r||s){if(r){const C=Pt(r,g);C&&(A.limiterRect=C)}b=function(C,E){const{elementRect:M}=E,O=M.getArea(),z=C.map(se=>new pr(se,E)).filter(se=>!!se.name);let V=0,K=null;for(const se of z){const{limiterIntersectionArea:ye,viewportIntersectionArea:ze}=se;if(ye===O)return se;const Nn=ze**2+ye**2;Nn>V&&(V=Nn,K=se)}return K}(t,A)}else b=new pr(t[0],A);return b}function Pt(a,e){const t=new Ne(a).getVisible();return t?t.getIntersection(e):null}Be._observerInstance=null,Be._elementCallbacks=null;class pr{constructor(e,t){const r=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!r)return;const{left:s,top:c,name:d,config:g}=r;this.name=d,this.config=g,this._positioningFunctionCoordinates={left:s,top:c},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Yb(a){const e=a.parentNode;e&&e.removeChild(a)}function IS({window:a,rect:e,alignToTop:t,forceScroll:r,viewportOffset:s}){const c=e.clone().moveBy(0,s.bottom),d=e.clone().moveBy(0,-s.top),g=new Ne(a).excludeScrollbarsAndBorders(),p=t&&r,k=[d,c].every(M=>g.contains(M));let{scrollX:b,scrollY:A}=a;const C=b,E=A;p?A-=g.top-e.top+s.top:k||(Zb(d,g)?A-=g.top-e.top+s.top:Kb(c,g)&&(A+=t?e.top-g.top-s.top:e.bottom-g.bottom+s.bottom)),k||(Qb(e,g)?b-=g.left-e.left+s.left:Jb(e,g)&&(b+=e.right-g.right+s.right)),b==C&&A===E||a.scrollTo(b,A)}function MS({parent:a,getRect:e,alignToTop:t,forceScroll:r,ancestorOffset:s=0,limiterElement:c}){const d=Qg(a),g=t&&r;let p,k,b;const A=c||d.document.body;for(;a!=A;)k=e(),p=new Ne(a).excludeScrollbarsAndBorders(),b=p.contains(k),g?a.scrollTop-=p.top-k.top+s:b||(Zb(k,p)?a.scrollTop-=p.top-k.top+s:Kb(k,p)&&(a.scrollTop+=t?k.top-p.top-s:k.bottom-p.bottom+s)),b||(Qb(k,p)?a.scrollLeft-=p.left-k.left+s:Jb(k,p)&&(a.scrollLeft+=k.right-p.right+s)),a=a.parentNode}function Kb(a,e){return a.bottom>e.bottom}function Zb(a,e){return a.top<e.top}function Qb(a,e){return a.left<e.left}function Jb(a,e){return a.right>e.right}function Qg(a){return Xs(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function NS(a){if(Xs(a)){let e=a.commonAncestorContainer;return bt(e)&&(e=e.parentNode),e}return a.parentNode}function Xb(a,e){const t=Qg(a),r=new Ne(a);if(t===e)return r;{let s=t;for(;s!=e;){const c=s.frameElement,d=new Ne(c).excludeScrollbarsAndBorders();r.moveBy(d.left,d.top),s=s.parent}}return r}const OS={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},BS={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Re=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),PS=Object.fromEntries(Object.entries(Re).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function ea(a){let e;if(typeof a=="string"){if(e=Re[a.toLowerCase()],!e)throw new D("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?Re.alt:0)+(a.ctrlKey?Re.ctrl:0)+(a.shiftKey?Re.shift:0)+(a.metaKey?Re.cmd:0);return e}function Hc(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(t=>t.trim())}(a)),a.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return ea(t.slice(0,-1));const r=ea(t);return(f.isMac||f.isiOS)&&r==Re.ctrl?Re.cmd:r}(e):e).reduce((e,t)=>t+e,0)}function ew(a){let e=Hc(a);return Object.entries(f.isMac||f.isiOS?OS:BS).reduce((t,[r,s])=>(e&Re[r]&&(e&=~Re[r],t+=s),t),"")+(e?PS[e]:"")}function tw(a,e){const t=e==="ltr";switch(a){case Re.arrowleft:return t?"left":"right";case Re.arrowright:return t?"right":"left";case Re.arrowup:return"up";case Re.arrowdown:return"down"}}function Ut(a){return Array.isArray(a)?a:[a]}function LS(a,e,t=1){if(typeof t!="number")throw new D("translation-service-quantity-not-a-number",null,{quantity:t});const r=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS).length;r===1&&(a=Object.keys(Ae.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(r===0||!function(p,k){return!!Ae.window.CKEDITOR_TRANSLATIONS[p]&&!!Ae.window.CKEDITOR_TRANSLATIONS[p].dictionary[k]}(a,s))return t!==1?e.plural:e.string;const c=Ae.window.CKEDITOR_TRANSLATIONS[a].dictionary,d=Ae.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(p=>p===1?0:1),g=c[s];return typeof g=="string"?g:g[Number(d(t))]}Ae.window.CKEDITOR_TRANSLATIONS||(Ae.window.CKEDITOR_TRANSLATIONS={});const zS=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function nw(a){return zS.includes(a)?"rtl":"ltr"}class jS{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=nw(this.uiLanguage),this.contentLanguageDirection=nw(this.contentLanguage),this.t=(r,s)=>this._t(r,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Ut(t),typeof e=="string"&&(e={string:e});const r=e.plural?t[0]:1;return function(s,c){return s.replace(/%(\d+)/g,(d,g)=>g<c.length?c[g]:d)}(LS(this.uiLanguage,e,r),t)}}class ii extends H(){constructor(e={},t={}){super();const r=fn(e);if(r||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new D("collection-add-item-invalid-index",this);let r=0;for(const s of e){const c=this._getItemIdBeforeAdding(s),d=t+r;this._items.splice(d,0,s),this._itemMap.set(c,s),this.fire("add",s,d),r++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new D("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,r]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:r}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new D("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(r=>new t(r))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(r=>r[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,r=(s,c,d)=>{const g=t._bindToCollection==this,p=t._bindToInternalToExternalMap.get(c);if(g&&p)this._bindToExternalToInternalMap.set(c,p),this._bindToInternalToExternalMap.set(p,c);else{const k=e(c);if(!k)return void this._skippedIndexesFromExternal.push(d);let b=d;for(const A of this._skippedIndexesFromExternal)d>A&&b--;for(const A of t._skippedIndexesFromExternal)b>=A&&b++;this._bindToExternalToInternalMap.set(c,k),this._bindToInternalToExternalMap.set(k,c),this.add(k,b);for(let A=0;A<t._skippedIndexesFromExternal.length;A++)b<=t._skippedIndexesFromExternal[A]&&t._skippedIndexesFromExternal[A]++}};for(const s of t)r(0,s,t.getIndex(s));this.listenTo(t,"add",r),this.listenTo(t,"remove",(s,c,d)=>{const g=this._bindToExternalToInternalMap.get(c);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((p,k)=>(d<k&&p.push(k-1),d>k&&p.push(k),p),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let r;if(t in e){if(r=e[t],typeof r!="string")throw new D("collection-add-invalid-id",this);if(this.get(r))throw new D("collection-add-item-already-exists",this)}else e[t]=r=B();return r}_remove(e){let t,r,s,c=!1;const d=this._idProperty;if(typeof e=="string"?(r=e,s=this._itemMap.get(r),c=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],c=!s,s&&(r=s[d])):(s=e,r=s[d],t=this._items.indexOf(s),c=t==-1||!this._itemMap.get(r)),c)throw new D("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(r);const g=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(g),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ht(a){const e=a.next();return e.done?null:e.value}class Dn extends tt(Ye()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new D("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class wi{constructor(){this._listener=new(tt())}listenTo(e){this._listener.listenTo(e,"keydown",(t,r)=>{this._listener.fire("_keydown:"+ea(r),r)})}set(e,t,r={}){const s=Hc(e),c=r.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(d,g)=>{t(g,()=>{g.preventDefault(),g.stopPropagation(),d.stop()}),d.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+ea(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function $i(a){return fn(a)?new Map(a):function(e){const t=new Map;for(const r in e)t.set(r,e[r]);return t}(a)}function Jg(a,e){let t;function r(...s){r.cancel(),t=setTimeout(()=>a(...s),e)}return r.cancel=()=>{clearTimeout(t)},r}function Xg(a,e){return!!(t=a.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(a.charAt(e));var t}function ep(a,e){return!!(t=a.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const RS=function(){const a=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${a}|${e}(?:‍${e})*`,"ug")}();function iw(a,e){const t=String(a).matchAll(RS);return Array.from(t).some(r=>r.index<e&&e<r.index+r[0].length)}class ce extends Ye(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",rw,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",rw),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function rw(a){a.return=!1,a.stop()}class st extends Ye(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const r=e.model.document.selection,s=r.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",ow,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",ow),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function ow(a){a.return=!1,a.stop()}class sw extends st{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){P(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class aw extends H(){constructor(e,t=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,c]of r)this._contextPlugins.set(s,c),this._contextPlugins.set(c,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new D("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return t}has(e){return this._plugins.has(e)}init(e,t=[],r=[]){const s=this,c=this._context;(function M(O,z=new Set){O.forEach(V=>{p(V)&&(z.has(V)||(z.add(V),V.pluginName&&!s._availablePlugins.has(V.pluginName)&&s._availablePlugins.set(V.pluginName,V),V.requires&&M(V.requires,z)))})})(e),C(e);const d=[...function M(O,z=new Set){return O.map(V=>p(V)?V:s._availablePlugins.get(V)).reduce((V,K)=>z.has(K)?V:(z.add(K),K.requires&&(C(K.requires,K),M(K.requires,z).forEach(se=>V.add(se))),V.add(K)),new Set)}(e.filter(M=>!b(M,t)))];(function(M,O){for(const z of O){if(typeof z!="function")throw new D("plugincollection-replace-plugin-invalid-type",null,{pluginItem:z});const V=z.pluginName;if(!V)throw new D("plugincollection-replace-plugin-missing-name",null,{pluginItem:z});if(z.requires&&z.requires.length)throw new D("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:V});const K=s._availablePlugins.get(V);if(!K)throw new D("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:V});const se=M.indexOf(K);if(se===-1){if(s._contextPlugins.has(K))return;throw new D("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:V})}if(K.requires&&K.requires.length)throw new D("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:V});M.splice(se,1,z),s._availablePlugins.set(V,z)}})(d,r);const g=function(M){return M.map(O=>{let z=s._contextPlugins.get(O);return z=z||new O(c),s._add(O,z),z})}(d);return E(g,"init").then(()=>E(g,"afterInit")).then(()=>g);function p(M){return typeof M=="function"}function k(M){return p(M)&&!!M.isContextPlugin}function b(M,O){return O.some(z=>z===M||A(M)===z||A(z)===M)}function A(M){return p(M)?M.pluginName||M.name:M}function C(M,O=null){M.map(z=>p(z)?z:s._availablePlugins.get(z)||z).forEach(z=>{(function(V,K){if(!p(V))throw K?new D("plugincollection-soft-required",c,{missingPlugin:V,requiredBy:A(K)}):new D("plugincollection-plugin-not-found",c,{plugin:V})})(z,O),function(V,K){if(k(K)&&!k(V))throw new D("plugincollection-context-required",c,{plugin:A(V),requiredBy:A(K)})}(z,O),function(V,K){if(K&&b(V,t))throw new D("plugincollection-required",c,{plugin:A(V),requiredBy:A(K)})}(z,O)})}function E(M,O){return M.reduce((z,V)=>V[O]?s._contextPlugins.has(V)?z:z.then(V[O].bind(V)):z,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new D("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,t)}}}class cw{constructor(e){this._contextOwner=null,this.config=new pn(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new aw(this,t);const r=this.config.get("language")||{};this.locale=new jS({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ii}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const r of e.concat(t)){if(typeof r!="function")throw new D("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new D("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new D("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const r=new this(e);t(r.initPlugins().then(()=>r))})}}class lw extends Ye(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var FS=o(3379),_e=o.n(FS),dw=o(7372),VS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(dw.Z,VS),dw.Z.locals;const ku=new WeakMap;let uw=!1;function hw({view:a,element:e,text:t,isDirectHost:r=!0,keepOnFocus:s=!1}){const c=a.document;function d(g){ku.get(c).set(e,{text:g,isDirectHost:r,keepOnFocus:s,hostElement:r?e:null}),a.change(p=>tp(c,p))}ku.has(c)||(ku.set(c,new Map),c.registerPostFixer(g=>tp(c,g)),c.on("change:isComposing",()=>{a.change(g=>tp(c,g))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(g,p,k)=>{d(k)}),e.placeholder?d(e.placeholder):t&&d(t),t&&function(){uw||W("enableplaceholder-deprecated-text-option"),uw=!0}()}function US(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function tp(a,e){const t=ku.get(a),r=[];let s=!1;for(const[c,d]of t)d.isDirectHost&&(r.push(c),fw(e,c,d)&&(s=!0));for(const[c,d]of t){if(d.isDirectHost)continue;const g=HS(c);g&&(r.includes(g)||(d.hostElement=g,fw(e,c,d)&&(s=!0)))}return s}function fw(a,e,t){const{text:r,isDirectHost:s,hostElement:c}=t;let d=!1;return c.getAttribute("data-placeholder")!==r&&(a.setAttribute("data-placeholder",r,c),d=!0),(s||e.childCount==1)&&function(g,p){if(!g.isAttached()||Array.from(g.getChildren()).some(C=>!C.is("uiElement")))return!1;const b=g.document,A=b.selection.anchor;return!(b.isComposing&&A&&A.parent===g||!p&&b.isFocused&&(!A||A.parent===g))}(c,t.keepOnFocus)?function(g,p){return!p.hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",p),!0)}(a,c)&&(d=!0):US(a,c)&&(d=!0),d}function HS(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Go{is(){throw new Error("is() method is abstract")}}const gw=function(a){return ke(a,4)};class Yo extends H(Go){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new D("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;r[c]==s[c]&&r[c];)c++;return c===0?null:r[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),s=jt(t,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<r[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=gw(this);return delete e.parent,e}}Yo.prototype.is=function(a){return a==="node"||a==="view:node"};class it extends Yo{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof it&&(this===e||this.data===e.data)}_clone(){return new it(this.document,this.data)}}it.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class Wi extends Go{constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.data.length)throw new D("view-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.data.length)throw new D("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}}Wi.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class ri{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const r of this._patterns){const s=pw(t,r);if(s)return{element:t,pattern:r,match:s}}return null}matchAll(...e){const t=[];for(const r of e)for(const s of this._patterns){const c=pw(r,s);c&&t.push({element:r,pattern:s,match:c})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function pw(a,e){if(typeof e=="function")return e(a);const t={};return e.name&&(t.name=function(r,s){return r instanceof RegExp?!!s.match(r):r===s}(e.name,a.name),!t.name)||e.attributes&&(t.attributes=function(r,s){const c=new Set(s.getAttributeKeys());return gn(r)?(r.style!==void 0&&W("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&W("matcher-pattern-deprecated-attributes-class-key",r)):(c.delete("style"),c.delete("class")),np(r,c,d=>s.getAttribute(d))}(e.attributes,a),!t.attributes)||e.classes&&(t.classes=function(r,s){return np(r,s.getClassNames(),()=>{})}(e.classes,a),!t.classes)||e.styles&&(t.styles=function(r,s){return np(r,s.getStyleNames(!0),c=>s.getStyle(c))}(e.styles,a),!t.styles)?null:t}function np(a,e,t){const r=function(d){return Array.isArray(d)?d.map(g=>gn(g)?(g.key!==void 0&&g.value!==void 0||W("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):gn(d)?Object.entries(d):[[d,!0]]}(a),s=Array.from(e),c=[];if(r.forEach(([d,g])=>{s.forEach(p=>{(function(k,b){return k===!0||k===b||k instanceof RegExp&&b.match(k)})(d,p)&&function(k,b,A){if(k===!0)return!0;const C=A(b);return k===C||k instanceof RegExp&&!!String(C).match(k)}(g,p,t)&&c.push(p)})}),r.length&&!(c.length<r.length))return c}const bu=function(a){return typeof a=="symbol"||En(a)&&Ri(a)=="[object Symbol]"};var $S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WS=/^\w*$/;const qS=function(a,e){if(Kt(a))return!1;var t=typeof a;return!(t!="number"&&t!="symbol"&&t!="boolean"&&a!=null&&!bu(a))||WS.test(a)||!$S.test(a)||e!=null&&a in Object(e)};function ip(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],c=t.cache;if(c.has(s))return c.get(s);var d=a.apply(this,r);return t.cache=c.set(s,d)||c,d};return t.cache=new(ip.Cache||Vs),t}ip.Cache=Vs;const GS=ip,YS=function(a){var e=GS(a,function(r){return t.size===500&&t.clear(),r}),t=e.cache;return e};var KS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZS=/\\(\\)?/g,QS=YS(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(KS,function(t,r,s,c){e.push(s?c.replace(ZS,"$1"):r||t)}),e});const JS=QS,XS=function(a,e){for(var t=-1,r=a==null?0:a.length,s=Array(r);++t<r;)s[t]=e(a[t],t,a);return s};var mw=Rn?Rn.prototype:void 0,kw=mw?mw.toString:void 0;const eT=function a(e){if(typeof e=="string")return e;if(Kt(e))return XS(e,a)+"";if(bu(e))return kw?kw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},rp=function(a){return a==null?"":eT(a)},op=function(a,e){return Kt(a)?a:qS(a,e)?[a]:JS(rp(a))},tT=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},sp=function(a){if(typeof a=="string"||bu(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},bw=function(a,e){for(var t=0,r=(e=op(e,a)).length;a!=null&&t<r;)a=a[sp(e[t++])];return t&&t==r?a:void 0},ww=function(a,e,t){var r=-1,s=a.length;e<0&&(e=-e>s?0:s+e),(t=t>s?s:t)<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var c=Array(s);++r<s;)c[r]=a[r+e];return c},nT=function(a,e){return e.length<2?a:bw(a,ww(e,0,-1))},iT=function(a,e){return e=op(e,a),(a=nT(a,e))==null||delete a[sp(tT(e))]},rT=function(a,e){return a==null||iT(a,e)},wu=function(a,e,t){var r=a==null?void 0:bw(a,e);return r===void 0?t:r},ap=function(a,e,t){(t!==void 0&&!Ro(a[e],t)||t===void 0&&!(e in a))&&ur(a,e,t)},oT=function(a){return function(e,t,r){for(var s=-1,c=Object(e),d=r(e),g=d.length;g--;){var p=d[a?g:++s];if(t(c[p],p,c)===!1)break}return e}}(),sT=function(a){return En(a)&&Ws(a)},cp=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},aT=function(a){return hr(a,Hi(a))},cT=function(a,e,t,r,s,c,d){var g=cp(a,t),p=cp(e,t),k=d.get(p);if(k)ap(a,t,k);else{var b=c?c(g,p,t+"",a,e,d):void 0,A=b===void 0;if(A){var C=Kt(p),E=!C&&Wo(p),M=!C&&!E&&Cc(p);b=p,C||E||M?Kt(g)?b=g:sT(g)?b=Xd(g):E?(A=!1,b=Nc(p,!0)):M?(A=!1,b=Fc(p,!0)):b=[]:gn(p)||vc(p)?(b=g,vc(g)?b=aT(g):pe(g)&&!lr(g)||(b=gr(p))):A=!1}A&&(d.set(p,b),s(b,p,r,c,d),d.delete(p)),ap(a,t,b)}},lT=function a(e,t,r,s,c){e!==t&&oT(t,function(d,g){if(c||(c=new Ho),pe(d))cT(e,t,g,r,a,s,c);else{var p=s?s(cp(e,g),d,g+"",e,t,c):void 0;p===void 0&&(p=d),ap(e,g,p)}},Hi)},Ko=function(a){return a},dT=function(a,e,t){switch(t.length){case 0:return a.call(e);case 1:return a.call(e,t[0]);case 2:return a.call(e,t[0],t[1]);case 3:return a.call(e,t[0],t[1],t[2])}return a.apply(e,t)};var vw=Math.max;const uT=function(a,e,t){return e=vw(e===void 0?a.length-1:e,0),function(){for(var r=arguments,s=-1,c=vw(r.length-e,0),d=Array(c);++s<c;)d[s]=r[e+s];s=-1;for(var g=Array(e+1);++s<e;)g[s]=r[s];return g[e]=t(d),dT(a,this,g)}},hT=function(a){return function(){return a}},fT=$o?function(a,e){return $o(a,"toString",{configurable:!0,enumerable:!1,value:hT(e),writable:!0})}:Ko;var gT=Date.now;const pT=function(a){var e=0,t=0;return function(){var r=gT(),s=16-(r-t);if(t=r,s>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(fT),mT=function(a,e){return pT(uT(a,e,Ko),a+"")},kT=function(a,e,t){if(!pe(t))return!1;var r=typeof e;return!!(r=="number"?Ws(t)&&Ac(e,t.length):r=="string"&&e in t)&&Ro(t[e],a)},_w=function(a){return mT(function(e,t){var r=-1,s=t.length,c=s>1?t[s-1]:void 0,d=s>2?t[2]:void 0;for(c=a.length>3&&typeof c=="function"?(s--,c):void 0,d&&kT(t[0],t[1],d)&&(c=s<3?void 0:c,s=1),e=Object(e);++r<s;){var g=t[r];g&&a(e,g,r,c)}return e})},Aw=_w(function(a,e,t){lT(a,e,t)}),bT=function(a,e,t,r){if(!pe(a))return a;for(var s=-1,c=(e=op(e,a)).length,d=c-1,g=a;g!=null&&++s<c;){var p=sp(e[s]),k=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(s!=d){var b=g[p];(k=r?r(b,p,g):void 0)===void 0&&(k=pe(b)?b:Ac(e[s+1])?[]:{})}Ui(g,p,k),g=g[p]}return a},wT=function(a,e,t){return a==null?a:bT(a,e,t)};class vT{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(r){let s=null,c=0,d=0,g=null;const p=new Map;if(r==="")return p;r.charAt(r.length-1)!=";"&&(r+=";");for(let k=0;k<r.length;k++){const b=r.charAt(k);if(s===null)switch(b){case":":g||(g=r.substr(c,k-c),d=k+1);break;case'"':case"'":s=b;break;case";":{const A=r.substr(d,k-d);g&&p.set(g.trim(),A.trim()),g=null,c=k+1;break}}else b===s&&(s=null)}return p}(e).entries());for(const[r,s]of t)this._styleProcessor.toNormalizedForm(r,s,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(t)}set(e,t){if(pe(e))for(const[r,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=lp(e);rT(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!pe(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const r of t)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const r=t.splice(0,t.length-1).join("."),s=wu(this._styles,r);s&&!Array.from(Object.keys(s)).length&&this.remove(r)}}class _T{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,r){if(pe(t))dp(r,lp(e),t);else if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:c,value:d}=s(t);dp(r,c,d)}else dp(r,e,t)}getNormalized(e,t){if(!e)return Aw({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return wu(t,r);const s=r(e,t);if(s)return s}return wu(t,lp(e))}getReducedForm(e,t){const r=this.getNormalized(e,t);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const c=this.getNormalized(s,e);return c&&typeof c=="object"?Object.keys(c).length:c}),r=new Set([...t,...Object.keys(e)]);return Array.from(r.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const r of t)this._mapStyleNames(r,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function lp(a){return a.replace("-",".")}function dp(a,e,t){let r=t;pe(t)&&(r=Aw({},wu(a,e),t)),wT(a,e,r)}class Un extends Yo{constructor(e,t,r,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(c){const d=$i(c);for(const[g,p]of d)p===null?d.delete(g):typeof p!="string"&&d.set(g,String(p));return d}(r),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");yw(this._classes,c),this._attrs.delete("class")}this._styles=new vT(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Un))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,r]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==r)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new ri(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(t.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),r=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,t);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let r=0;const s=function(c,d){return typeof d=="string"?[new it(c,d)]:(fn(d)||(d=[d]),Array.from(d).map(g=>typeof g=="string"?new it(c,g):g instanceof Wi?new it(c,g.data):g))}(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const r=String(t);this._fireChange("attributes",this),e=="class"?yw(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Ut(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Ut(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Ut(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function yw(a,e){const t=e.split(/\s+/);a.clear(),t.forEach(r=>a.add(r))}Un.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class $c extends Un{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=Cw}}function Cw(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of a)if(!t.is("uiElement"))return null;return this.childCount}$c.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class vu extends Ye($c){constructor(e,t,r,s){super(e,t,r,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}vu.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const xw=Symbol("rootName");class Ew extends vu{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(xw)}set rootName(e){this._setCustomProperty(xw,e)}set _name(e){this.name=e}}Ew.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Zo{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new D("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new D("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=fe._createAt(e.startPosition):this._position=fe._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r;do r=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(r instanceof it){if(e.isAtEnd)return this._position=fe._createAfter(r),this._next();s=r.data[e.offset]}else s=r.getChild(e.offset);if(s instanceof Un){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new fe(s,0);return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof it){if(this.singleCharacters)return e=new fe(s,0),this._position=e,this._next();let c,d=s.data.length;return s==this._boundaryEndParent?(d=this.boundaries.end.offset,c=new Wi(s,0,d),e=fe._createAfter(c)):(c=new Wi(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",c,t,e,d)}if(typeof s=="string"){let c;this.singleCharacters?c=1:c=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const d=new Wi(r,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=fe._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,t,e)}_previous(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(r instanceof it){if(e.isAtStart)return this._position=fe._createBefore(r),this._previous();s=r.data[e.offset-1]}else s=r.getChild(e.offset-1);if(s instanceof Un)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new fe(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof it){if(this.singleCharacters)return e=new fe(s,s.data.length),this._position=e,this._previous();let c,d=s.data.length;if(s==this._boundaryStartParent){const g=this.boundaries.start.offset;c=new Wi(s,g,s.data.length-g),d=c.data.length,e=fe._createBefore(c)}else c=new Wi(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",c,t,e,d)}if(typeof s=="string"){let c;if(this.singleCharacters)c=1;else{const g=r===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-g}e.offset-=c;const d=new Wi(r,e.offset,c);return this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=fe._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}_formatReturnValue(e,t,r,s,c){return t instanceof Wi&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?r=fe._createAfter(t.textNode):(s=fe._createAfter(t.textNode),this._position=s)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?r=fe._createBefore(t.textNode):(s=fe._createBefore(t.textNode),this._position=s))),{done:!1,value:{type:e,item:t,previousPosition:r,nextPosition:s,length:c}}}}class fe extends Go{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof vu);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=fe._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Zo(t);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let s=0;for(;t[s]==r[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),r.push(e.offset);const s=jt(t,r);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<r[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Zo(e)}clone(){return new fe(this.parent,this.offset)}static _createAt(e,t){if(e instanceof fe)return new this(e.parent,e.offset);{const r=e;if(t=="end")t=r.is("$text")?r.data.length:r.childCount;else{if(t=="before")return this._createBefore(r);if(t=="after")return this._createAfter(r);if(t!==0&&!t)throw new D("view-createpositionat-offset-required",r)}return new fe(r,t)}}static _createAfter(e){if(e.is("$textProxy"))return new fe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new D("view-position-after-root",e,{root:e});return new fe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new fe(e.textNode,e.offsetInText);if(!e.parent)throw new D("view-position-before-root",e,{root:e});return new fe(e.parent,e.index)}}fe.prototype.is=function(a){return a==="position"||a==="view:position"};class Ce extends Go{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Zo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(_u,{direction:"backward"}),t=this.end.getLastMatchingPosition(_u);return e.parent.is("$text")&&e.isAtStart&&(e=fe._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=fe._createAfter(t.parent)),new Ce(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(_u);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ce(e,e);let t=this.end.getLastMatchingPosition(_u,{direction:"backward"});const r=e.nodeAfter,s=t.nodeBefore;return r&&r.is("$text")&&(e=new fe(r,0)),s&&s.is("$text")&&(t=new fe(s,s.data.length)),new Ce(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Ce(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Ce(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new Ce(t,r)}return null}getWalker(e={}){return e.boundaries=this,new Zo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Ce(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Zo(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Zo(e);yield t.position;for(const r of t)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,r,s){return new this(new fe(e,t),new fe(r,s))}static _createFromPositionAndShift(e,t){const r=e,s=e.getShiftedBy(t);return t>0?new this(r,s):new this(s,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(fe._createBefore(e),t)}}function _u(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Ce.prototype.is=function(a){return a==="range"||a==="view:range"};class vi extends H(Go){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const s of e._ranges)if(t.isEqual(s)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Os(this.getRanges());if(t!=Os(e.getRanges()))return!1;if(t==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let s=!1;for(let c of e.getRanges())if(c=c.getTrimmed(),r.start.isEqual(c.start)&&r.end.isEqual(c.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof vi||t instanceof up)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Ce)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof fe)this._setRanges([new Ce(t)]),this._setFakeOptions(s);else if(t instanceof Yo){const c=!!s&&!!s.backward;let d;if(r===void 0)throw new D("view-selection-setto-required-second-parameter",this);d=r=="in"?Ce._createIn(t):r=="on"?Ce._createOn(t):new Ce(fe._createAt(t,r)),this._setRanges([d],c),this._setFakeOptions(s)}else{if(!fn(t))throw new D("view-selection-setto-not-selectable",this);this._setRanges(t,s&&s.backward),this._setFakeOptions(s)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new D("view-selection-setfocus-no-ranges",this);const r=fe._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),r.compareWith(s)=="before"?this._addRange(new Ce(r,s),!0):this._addRange(new Ce(s,r)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Ce))throw new D("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new D("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Ce(e.start,e.end))}}vi.prototype.is=function(a){return a==="selection"||a==="view:selection"};class up extends H(Go){constructor(...e){super(),this._selection=new vi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}up.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class ta extends S{constructor(e,t,r){super(e,t),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const hp=Symbol("bubbling contexts");function fp(a){return class extends a{fire(e,...t){try{const r=e instanceof S?e:new S(this,e),s=gp(this);if(!s.size)return;if(Wc(r,"capturing",this),na(s,"$capture",r,...t))return r.return;const c=r.startRange||this.selection.getFirstRange(),d=c?c.getContainedElement():null,g=!!d&&!!Dw(s,d);let p=d||function(k){if(!k)return null;const b=k.start.parent,A=k.end.parent,C=b.getPath(),E=A.getPath();return C.length>E.length?b:A}(c);if(Wc(r,"atTarget",p),!g){if(na(s,"$text",r,...t))return r.return;Wc(r,"bubbling",p)}for(;p;){if(p.is("rootElement")){if(na(s,"$root",r,...t))return r.return}else if(p.is("element")&&na(s,p.name,r,...t))return r.return;if(na(s,p,r,...t))return r.return;p=p.parent,Wc(r,"bubbling",p)}return Wc(r,"bubbling",this),na(s,"$document",r,...t),r.return}catch(r){D.rethrowUnexpectedError(r,this)}}_addEventListener(e,t,r){const s=Ut(r.context||"$document"),c=gp(this);for(const d of s){let g=c.get(d);g||(g=new(H()),c.set(d,g)),this.listenTo(g,e,t,r)}}_removeEventListener(e,t){const r=gp(this);for(const s of r.values())this.stopListening(s,e,t)}}}{const a=fp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{fp[e]=a.prototype[e]})}function Wc(a,e,t){a instanceof ta&&(a._eventPhase=e,a._currentTarget=t)}function na(a,e,t,...r){const s=typeof e=="string"?a.get(e):Dw(a,e);return!!s&&(s.fire(t,...r),t.stop.called)}function Dw(a,e){for(const[t,r]of a)if(typeof t=="function"&&t(e))return r;return null}function gp(a){return a[hp]||(a[hp]=new Map),a[hp]}class Au extends fp(Ye()){constructor(e){super(),this._postFixers=new Set,this.selection=new up,this.roots=new ii({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(t=r(e),t)break;while(t)}}class Qo extends Un{constructor(e,t,r,s){super(e,t,r,s),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=AT}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new D("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function AT(){if(pp(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(pp(a)>1)return null;a=a.parent}return!a||pp(a)>1?null:this.childCount}function pp(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Qo.DEFAULT_PRIORITY=10,Qo.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class mp extends Un{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=yT}_insertChild(e,t){if(t&&(t instanceof Yo||Array.from(t).length>0))throw new D("view-emptyelement-cannot-add",[this,t]);return 0}}function yT(){return null}mp.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class yu extends Un{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=xT}_insertChild(e,t){if(t&&(t instanceof Yo||Array.from(t).length>0))throw new D("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const r of this.getAttributeKeys())t.setAttribute(r,this.getAttribute(r));return t}}function CT(a){a.document.on("arrowKey",(e,t)=>function(r,s,c){if(s.keyCode==Re.arrowright){const d=s.domTarget.ownerDocument.defaultView.getSelection(),g=d.rangeCount==1&&d.getRangeAt(0).collapsed;if(g||s.shiftKey){const p=d.focusNode,k=d.focusOffset,b=c.domPositionToView(p,k);if(b===null)return;let A=!1;const C=b.getLastMatchingPosition(E=>(E.item.is("uiElement")&&(A=!0),!(!E.item.is("uiElement")&&!E.item.is("attributeElement"))));if(A){const E=c.viewPositionToDom(C);g?d.collapse(E.parent,E.offset):d.extend(E.parent,E.offset)}}}}(0,t,a.domConverter),{priority:"low"})}function xT(){return null}yu.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class kp extends Un{constructor(e,t,r,s){super(e,t,r,s),this.getFillerOffset=ET}_insertChild(e,t){if(t&&(t instanceof Yo||Array.from(t).length>0))throw new D("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function ET(){return null}kp.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Jo extends H(Go){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let r=0;const s=function(c,d){return typeof d=="string"?[new it(c,d)]:(fn(d)||(d=[d]),Array.from(d).map(g=>typeof g=="string"?new it(c,g):g instanceof Wi?new it(c,g.data):g))}(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Jo.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class Sw{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Jo(this.document,e)}createText(e){return new it(this.document,e)}createAttributeElement(e,t,r={}){const s=new Qo(this.document,e,t);return typeof r.priority=="number"&&(s._priority=r.priority),r.id&&(s._id=r.id),r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createContainerElement(e,t,r={},s={}){let c=null;gn(r)?s=r:c=r;const d=new $c(this.document,e,t,c);return s.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),d}createEditableElement(e,t,r={}){const s=new vu(this.document,e,t);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createEmptyElement(e,t,r={}){const s=new mp(this.document,e,t);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createUIElement(e,t,r){const s=new yu(this.document,e,t);return r&&(s.render=r),s}createRawElement(e,t,r,s={}){const c=new kp(this.document,e,t);return r&&(c.render=r),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){gn(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof fe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new D("view-writer-break-non-container-element",this.document);if(!t.parent)throw new D("view-writer-break-root",this.document);if(e.isAtStart)return fe._createBefore(t);if(!e.isAtEnd){const r=t._clone(!1);this.insert(fe._createAfter(t),r);const s=new Ce(e,fe._createAt(t,"end")),c=new fe(r,0);this.move(s,c)}return fe._createAfter(t)}mergeAttributes(e){const t=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const d=r.parent,g=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new fe(d,g))}const s=r.getChild(t-1),c=r.getChild(t);if(!s||!c)return e;if(s.is("$text")&&c.is("$text"))return Iw(s,c);if(s.is("attributeElement")&&c.is("attributeElement")&&s.isSimilar(c)){const d=s.childCount;return s._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new fe(s,d))}return e}mergeContainers(e){const t=e.nodeBefore,r=e.nodeAfter;if(!(t&&r&&t.is("containerElement")&&r.is("containerElement")))throw new D("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),c=s instanceof it?fe._createAt(s,"end"):fe._createAt(t,"end");return this.move(Ce._createIn(r),fe._createAt(t,"end")),this.remove(Ce._createOn(r)),c}insert(e,t){Mw(t=fn(t)?[...t]:[t],this.document);const r=t.reduce((d,g)=>{const p=d[d.length-1],k=!g.is("uiElement");return p&&p.breakAttributes==k?p.nodes.push(g):d.push({breakAttributes:k,nodes:[g]}),d},[]);let s=null,c=e;for(const{nodes:d,breakAttributes:g}of r){const p=this._insertNodes(c,d,g);s||(s=p.start),c=p.end}return s?new Ce(s,c):new Ce(e)}remove(e){const t=e instanceof Ce?e:Ce._createOn(e);if(qc(t,this.document),t.isCollapsed)return new Jo(this.document);const{start:r,end:s}=this._breakAttributesRange(t,!0),c=r.parent,d=s.offset-r.offset,g=c._removeChildren(r.offset,d);for(const k of g)this._removeFromClonedElementsGroup(k);const p=this.mergeAttributes(r);return t.start=p,t.end=p.clone(),new Jo(this.document,g)}clear(e,t){qc(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of r){const c=s.item;let d;if(c.is("element")&&t.isSimilar(c))d=Ce._createOn(c);else if(!s.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const g=c.getAncestors().find(p=>p.is("element")&&t.isSimilar(p));g&&(d=Ce._createIn(g))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,t){let r;if(t.isAfter(e.end)){const s=(t=this._breakAttributes(t,!0)).parent,c=s.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),t.offset+=s.childCount-c}else r=this.remove(e);return this.insert(t,r)}wrap(e,t){if(!(t instanceof Qo))throw new D("view-writer-wrap-invalid-attribute",this.document);if(qc(e,this.document),e.isCollapsed){let s=e.start;s.parent.is("element")&&(r=s.parent,!Array.from(r.getChildren()).some(d=>!d.is("uiElement")))&&(s=s.getLastMatchingPosition(d=>d.item.is("uiElement"))),s=this._wrapPosition(s,t);const c=this.document.selection;return c.isCollapsed&&c.getFirstPosition().isEqual(e.start)&&this.setSelection(s),new Ce(s)}return this._wrapRange(e,t);var r}unwrap(e,t){if(!(t instanceof Qo))throw new D("view-writer-unwrap-invalid-attribute",this.document);if(qc(e,this.document),e.isCollapsed)return e;const{start:r,end:s}=this._breakAttributesRange(e,!0),c=r.parent,d=this._unwrapChildren(c,r.offset,s.offset,t),g=this.mergeAttributes(d.start);g.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new Ce(g,p)}rename(e,t){const r=new $c(this.document,e,t.getAttributes());return this.insert(fe._createAfter(t),r),this.move(Ce._createIn(t),fe._createAt(r,0)),this.remove(Ce._createOn(t)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new vi(...e)}createSlot(e="children"){if(!this._slotFactory)throw new D("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,r){let s,c;if(s=r?bp(e):e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new D("view-writer-invalid-position-container",this.document);c=r?this._breakAttributes(e,!0):e.parent.is("$text")?wp(e):e;const d=s._insertChild(c.offset,t);for(const b of t)this._addToClonedElementsGroup(b);const g=c.getShiftedBy(d),p=this.mergeAttributes(c);p.isEqual(c)||g.offset--;const k=this.mergeAttributes(g);return new Ce(p,k)}_wrapChildren(e,t,r,s){let c=t;const d=[];for(;c<r;){const p=e.getChild(c),k=p.is("$text"),b=p.is("attributeElement");if(b&&this._wrapAttributeElement(s,p))d.push(new fe(e,c));else if(k||!b||DT(s,p)){const A=s._clone();p._remove(),A._appendChild(p),e._insertChild(c,A),this._addToClonedElementsGroup(A),d.push(new fe(e,c))}else this._wrapChildren(p,0,p.childCount,s);c++}let g=0;for(const p of d)p.offset-=g,p.offset!=t&&(this.mergeAttributes(p).isEqual(p)||(g++,r--));return Ce._createFromParentsAndOffsets(e,t,e,r)}_unwrapChildren(e,t,r,s){let c=t;const d=[];for(;c<r;){const p=e.getChild(c);if(p.is("attributeElement"))if(p.isSimilar(s)){const k=p.getChildren(),b=p.childCount;p._remove(),e._insertChild(c,k),this._removeFromClonedElementsGroup(p),d.push(new fe(e,c),new fe(e,c+b)),c+=b,r+=b-1}else this._unwrapAttributeElement(s,p)?(d.push(new fe(e,c),new fe(e,c+1)),c++):(this._unwrapChildren(p,0,p.childCount,s),c++);else c++}let g=0;for(const p of d)p.offset-=g,!(p.offset==t||p.offset==r)&&(this.mergeAttributes(p).isEqual(p)||(g++,r--));return Ce._createFromParentsAndOffsets(e,t,e,r)}_wrapRange(e,t){const{start:r,end:s}=this._breakAttributesRange(e,!0),c=r.parent,d=this._wrapChildren(c,r.offset,s.offset,t),g=this.mergeAttributes(d.start);g.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new Ce(g,p)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Tw(e.clone());e.parent.is("$text")&&(e=wp(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const s=new Ce(e,e.getShiftedBy(1));this.wrap(s,t);const c=new fe(r.parent,r.index);r._remove();const d=c.nodeBefore,g=c.nodeAfter;return d instanceof it&&g instanceof it?Iw(d,g):Tw(c)}_wrapAttributeElement(e,t){if(!Nw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&t.hasAttribute(r)&&t.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(t.hasStyle(r)&&t.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&(t.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),t));for(const r of e.getStyleNames())t.hasStyle(r)||this.setStyle(r,e.getStyle(r),t);for(const r of e.getClassNames())t.hasClass(r)||this.addClass(r,t);return!0}_unwrapAttributeElement(e,t){if(!Nw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&(!t.hasAttribute(r)||t.getAttribute(r)!==e.getAttribute(r)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!t.hasStyle(r)||t.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&this.removeAttribute(r,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const r=e.start,s=e.end;if(qc(e,this.document),e.isCollapsed){const p=this._breakAttributes(e.start,t);return new Ce(p,p)}const c=this._breakAttributes(s,t),d=c.parent.childCount,g=this._breakAttributes(r,t);return c.offset+=c.parent.childCount-d,new Ce(g,c)}_breakAttributes(e,t=!1){const r=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new D("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new D("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new D("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&vp(s.parent)||vp(s))return e.clone();if(s.is("$text"))return this._breakAttributes(wp(e),t);if(r==s.childCount){const c=new fe(s.parent,s.index+1);return this._breakAttributes(c,t)}if(r===0){const c=new fe(s.parent,s.index);return this._breakAttributes(c,t)}{const c=s.index+1,d=s._clone();s.parent._insertChild(c,d),this._addToClonedElementsGroup(d);const g=s.childCount-r,p=s._removeChildren(r,g);d._appendChild(p);const k=new fe(s.parent,c);return this._breakAttributes(k,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let r=this._cloneGroups.get(t);r||(r=new Set,this._cloneGroups.set(t,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const r=this._cloneGroups.get(t);r&&r.delete(e)}}function bp(a){let e=a.parent;for(;!vp(e);){if(!e)return;e=e.parent}return e}function DT(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function Tw(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new fe(e,e.data.length);const t=a.nodeAfter;return t&&t.is("$text")?new fe(t,0):a}function wp(a){if(a.offset==a.parent.data.length)return new fe(a.parent.parent,a.parent.index+1);if(a.offset===0)return new fe(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new it(a.root.document,e)),new fe(a.parent.parent,a.parent.index+1)}function Iw(a,e){const t=a.data.length;return a._data+=e.data,e._remove(),new fe(a,t)}const ST=[it,Qo,$c,mp,kp,yu];function Mw(a,e){for(const t of a){if(!ST.some(r=>t instanceof r))throw new D("view-writer-insert-invalid-node-type",e);t.is("$text")||Mw(t.getChildren(),e)}}function vp(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function qc(a,e){const t=bp(a.start),r=bp(a.end);if(!t||!r||t!==r)throw new D("view-writer-invalid-range-container",e)}function Nw(a,e){return a.id===null&&e.id===null}const Ow=a=>a.createTextNode(" "),Bw=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Pw=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},_i=7,Gc="⁠".repeat(_i);function Hn(a){return typeof a=="string"?a.substr(0,_i)===Gc:bt(a)&&a.data.substr(0,_i)===Gc}function Yc(a){return a.data.length==_i&&Hn(a)}function Lw(a){const e=typeof a=="string"?a:a.data;return Hn(a)?e.slice(_i):e}function TT(a,e){if(e.keyCode==Re.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const r=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Hn(r)&&s<=_i&&t.collapse(r,0)}}}var zw=o(5037),IT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(zw.Z,IT),zw.Z.locals;class MT extends Ye(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),f.isBlink&&!f.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new D("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!f.isAndroid)return;let e=null;const t=!(f.isBlink&&!f.isAndroid)||!this.isSelecting;for(const r of this.markedChildren)this._updateChildrenMappings(r);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=fe._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(t)if(e){const r=this.domConverter.viewPositionToDom(e),s=r.parent.ownerDocument;Hn(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=jw(s,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),c=this._diffNodeLists(r,s),d=this._findUpdateActions(c,r,s,NT);if(d.indexOf("update")!==-1){const g={equal:0,insert:0,delete:0};for(const p of d)if(p==="update"){const k=g.equal+g.insert,b=g.equal+g.delete,A=e.getChild(k);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,r[b]),Yb(s[k]),g.equal++}else g[p]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?fe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&bt(t.parent)&&Hn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Hn(e))throw new D("view-renderer-filler-was-lost",this);Yc(e)?e.remove():e.data=e.data.substr(_i),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(d){if(d.getAttribute("contenteditable")=="false")return!1;const g=d.findAncestor(p=>p.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(t)||r===t.getFillerOffset())return!1;const s=e.nodeBefore,c=e.nodeAfter;return!(s instanceof it||c instanceof it)&&(!f.isAndroid||!s&&!c)}_updateText(e,t){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const c=t.inlineFillerPosition;c&&c.parent==e.parent&&c.offset==e.index&&(s=Gc+s),Rw(r,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.attributes).map(c=>c.name),s=e.getAttributeKeys();for(const c of s)this.domConverter.setDomElementAttribute(t,c,e.getAttribute(c),e);for(const c of r)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}_updateChildren(e,t){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(f.isAndroid){let A=null;for(const C of Array.from(r.childNodes)){if(A&&bt(A)&&bt(C)){r.normalize();break}A=C}}const s=t.inlineFillerPosition,c=r.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&jw(r.ownerDocument,d,s.offset);const g=this._diffNodeLists(c,d),p=this._findUpdateActions(g,c,d,OT);let k=0;const b=new Set;for(const A of p)A==="delete"?(b.add(c[k]),Yb(c[k])):A!=="equal"&&A!=="update"||k++;k=0;for(const A of p)A==="insert"?(Vt(r,k,d[k]),k++):A==="update"?(Rw(c[k],d[k].data),k++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[k])),k++);for(const A of b)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(e,t){return e=function(r,s){const c=Array.from(r);return c.length==0||!s||c[c.length-1]==s&&c.pop(),c}(e,this._fakeSelectionContainer),y(e,t,BT.bind(null,this.domConverter))}_findUpdateActions(e,t,r,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],d=[],g=[];const p={equal:0,insert:0,delete:0};for(const k of e)k==="insert"?g.push(r[p.equal+p.insert]):k==="delete"?d.push(t[p.equal+p.delete]):(c=c.concat(y(d,g,s).map(b=>b==="equal"?"update":b)),c.push("equal"),d=[],g=[]),p[k]++;return c.concat(y(d,g,s).map(k=>k==="equal"?"update":k))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(f.isBlink&&!f.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&f.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(d){const g=d.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent=" ",g}(t));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;r.parentElement&&r.parentElement==e||e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||" ";const s=t.getSelection(),c=t.createRange();s.removeAllRanges(),c.selectNodeContents(r),s.addRange(c)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(r.parent,r.offset,s.parent,s.offset),f.isGecko&&function(c,d){const g=c.parent;if(g.nodeType!=Node.ELEMENT_NODE||c.offset!=g.childNodes.length-1)return;const p=g.childNodes[c.offset];p&&p.tagName=="BR"&&d.addRange(d.getRangeAt(0))}(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!t||t.parentElement!==e||r.anchorNode!==t&&!t.contains(r.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const r=e.activeElement,s=this.domConverter.mapDomToView(r);r&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function jw(a,e,t){const r=e instanceof Array?e:e.childNodes,s=r[t];if(bt(s))return s.data=Gc+s.data,s;{const c=a.createTextNode(Gc);return Array.isArray(e)?r.splice(t,0,c):Vt(e,t,c),c}}function NT(a,e){return Rt(a)&&Rt(e)&&!bt(a)&&!bt(e)&&!on(a)&&!on(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function OT(a,e){return Rt(a)&&Rt(e)&&bt(a)&&bt(e)}function BT(a,e,t){return e===t||(bt(e)&&bt(t)?e.data===t.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(t)))}function Rw(a,e){const t=a.data;if(t==e)return;const r=w(t,e);for(const s of r)s.type==="insert"?a.insertData(s.index,s.values.join("")):a.deleteData(s.index,s.howMany)}const PT=Pw(Ae.document),LT=Ow(Ae.document),zT=Bw(Ae.document),Cu="data-ck-unsafe-attribute-",Fw="data-ck-unsafe-element";class xu{constructor(e,{blockFillerMode:t,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ri,this._inlineObjectElementMatcher=new ri,this.document=e,this.renderingMode=r,this.blockFillerMode=t||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ae.document:Ae.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new vi(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,r){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const r=new DOMParser().parseFromString(t,"text/html"),s=r.createDocumentFragment(),c=r.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);const d=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),g=[];let p;for(;p=d.nextNode();)g.push(p);for(const k of g){for(const A of k.getAttributeNames())this.setDomElementAttribute(k,A,k.getAttribute(A));const b=k.tagName.toLowerCase();this._shouldRenameElement(b)&&(Hw(b),k.replaceWith(this._createReplacementDomElement(b,k)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let r;if(e.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,e);else{if(e.is("uiElement"))return r=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(r,e),r;this._shouldRenameElement(e.name)?(Hw(e.name),r=this._createReplacementDomElement(e.name)):r=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(r,this),t.bind&&this.bindElements(r,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(r,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))r.appendChild(s);return r}}setDomElementAttribute(e,t,r,s){const c=this.shouldRenderAttribute(t,r,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);c||W("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:r}),function(d){try{Ae.document.createAttribute(d)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!c?e.removeAttribute(t):e.hasAttribute(Cu+t)&&c&&e.removeAttribute(Cu+t),e.setAttribute(c?t:Cu+t,r)):W("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:r})}removeDomElementAttribute(e,t){t!=Fw&&(e.removeAttribute(t),e.removeAttribute(Cu+t))}*viewChildrenToDom(e,t={}){const r=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const c of e.getChildren()){r===s&&(yield this._getBlockFiller());const d=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!Ht(c.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,t):(d&&W("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,t)),s++}r===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(r.parent,r.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const r=this.findCorrespondingDomText(t);if(!r)return null;let s=e.offset;return Hn(r)&&(s+=_i),{parent:r,offset:s}}{let r,s,c;if(e.offset===0){if(r=this.mapViewToDom(t),!r)return null;c=r.childNodes[0]}else{const d=e.nodeBefore;if(s=d.is("$text")?this.findCorrespondingDomText(d):this.mapViewToDom(d),!s)return null;r=s.parentNode,c=s.nextSibling}return bt(c)&&Hn(c)?{parent:c,offset:_i}:{parent:r,offset:s?bn(s)+1:0}}}domToView(e,t={}){const r=[],s=this._domToView(e,t,r),c=s.next().value;return c?(s.next(),this._processDomInlineNodes(null,r,t),c.is("$text")&&c.data.length==0?null:c):null}*domChildrenToView(e,t={},r=[]){for(let s=0;s<e.childNodes.length;s++){const c=e.childNodes[s],d=this._domToView(c,t,r),g=d.next().value;g!==null&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(e,r,t),yield g,d.next())}this._processDomInlineNodes(e,r,t)}domSelectionToView(e){if(function(s){if(!f.isGecko||!s.rangeCount)return!1;const c=s.getRangeAt(0).startContainer;try{Object.prototype.toString.call(c)}catch{return!0}return!1}(e))return new vi([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;bt(s)&&(s=s.parentNode);const c=this.fakeSelectionToView(s);if(c)return c}const t=this.isDomSelectionBackward(e),r=[];for(let s=0;s<e.rangeCount;s++){const c=e.getRangeAt(s),d=this.domRangeToView(c);d&&r.push(d)}return new vi(r,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return t&&r?new Ce(t,r):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,bn(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return fe._createBefore(r);if(bt(e)){if(Yc(e))return this.domPositionToView(e.parentNode,bn(e));const s=this.findCorrespondingViewText(e);let c=t;return s?(Hn(e)&&(c-=_i,c=c<0?0:c),new fe(s,c)):null}if(t===0){const s=this.mapDomToView(e);if(s)return new fe(s,0)}else{const s=e.childNodes[t-1];if(bt(s)&&Yc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,bn(s));const c=bt(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(c&&c.parent)return new fe(c.parent,c.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Yc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const s=this.mapDomToView(r);if(s){const c=s.nextSibling;return c instanceof it?c:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const c=s.getChild(0);return c instanceof it?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:r,scrollY:s}=Ae.window,c=[];Vw(t,d=>{const{scrollLeft:g,scrollTop:p}=d;c.push([g,p])}),t.focus(),Vw(t,d=>{const[g,p]=c.shift();d.scrollLeft=g,d.scrollTop=p}),Ae.window.scrollTo(r,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(t);r&&r.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(PT):!(e.tagName!=="BR"||!Uw(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(zT)||function(t,r){return t.isEqualNode(LT)&&Uw(t,r)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=t.collapsed;return t.detach(),r}getHostViewElement(e){const t=function(r){const s=[];let c=r;for(;c&&c.nodeType!=Node.DOCUMENT_NODE;)s.unshift(c),c=c.parentNode;return s}(e);for(t.pop();t.length;){const r=t.pop(),s=this._domToViewMapping.get(r);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Ow(this._domDocument);case"markedNbsp":return Bw(this._domDocument);case"br":return Pw(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(bt(e)&&Hn(e)&&t<_i||this.isElement(e)&&Hn(e.childNodes[t]))return!1;const r=this.mapDomToView(e);return!r||!r.is("uiElement")&&!r.is("rawElement")}*_domToView(e,t,r){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(on(e)&&t.skipComments)return null;if(bt(e)){if(Yc(e))return null;{const c=e.data;if(c==="")return null;const d=new it(this.document,c);return r.push(d),d}}{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&r.push(c),c;if(this.isDocumentFragment(e))c=new Jo(this.document),t.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,t),t.bind&&this.bindElements(e,c);const g=e.attributes;if(g)for(let p=g.length,k=0;k<p;k++)c._setAttribute(g[k].name,g[k].value);if(this._isViewElementWithRawContent(c,t))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||r.push(c),c;if(on(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const d=[];if(t.withChildren!==!1)for(const g of this.domChildrenToView(e,t,d))c._appendChild(g);if(this._isInlineObjectElement(c))r.push(c);else for(const g of d)r.push(g)}}_processDomInlineNodes(e,t,r){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let c=0;c<t.length;c++){const d=t[c];if(!d.is("$text")){s=!1;continue}let g,p=!1;if(jT(d,this.preElements))g=Lw(d.data);else{g=d.data.replace(/[ \n\t\r]{1,}/g," "),p=/[^\S\u00A0]/.test(g.charAt(g.length-1));const k=c>0?t[c-1]:null,b=c+1<t.length?t[c+1]:null,A=!k||k.is("element")&&k.name=="br"||s,C=!b&&!Hn(d.data);r.withChildren!==!1&&(A&&(g=g.replace(/^ /,"")),C&&(g=g.replace(/ $/,""))),g=Lw(g),g=g.replace(/ \u00A0/g,"  ");const E=b&&b.is("element")&&b.name!="br",M=b&&b.is("$text")&&b.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!b||E||M)&&(g=g.replace(/\u00A0$/," ")),(A||k&&k.is("element")&&k.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&d.parent?(d._remove(),t.splice(c,1),c--):(d._data=g,s=p)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return t;if(t.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),s=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&r&&!s||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const r=new Zo({startPosition:t?fe._createAfter(e):fe._createBefore(e),direction:t?"forward":"backward"});for(const s of r){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(on(e))return new yu(this.document,"$comment");const r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Un(this.document,r)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const r=this._domDocument.createElement("span");if(r.setAttribute(Fw,e),t){for(;t.firstChild;)r.appendChild(t.firstChild);for(const s of t.getAttributeNames())r.setAttribute(s,t.getAttribute(s))}return r}}function jT(a,e){return a.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function Vw(a,e){let t=a;for(;t;)e(t),t=t.parentElement}function Uw(a,e){const t=a.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Hw(a){a==="script"&&W("domconverter-unsafe-script-element-detected"),a==="style"&&W("domconverter-unsafe-style-element-detected")}class qi extends tt(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const $w=_w(function(a,e){hr(e,Hi(e),a)});class ia{constructor(e,t,r){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,$w(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Xo extends qi{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(r,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,r){this.isEnabled&&this.document.fire(e,new ia(this.view,t,r))}}class RT extends Xo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ea(this)}};this.fire(e.type,e,t)}}const _p=function(){return jn.Date.now()};var FT=/\s/;const VT=function(a){for(var e=a.length;e--&&FT.test(a.charAt(e)););return e};var UT=/^\s+/;const HT=function(a){return a&&a.slice(0,VT(a)+1).replace(UT,"")};var $T=/^[-+]0x[0-9a-f]+$/i,WT=/^0b[01]+$/i,qT=/^0o[0-7]+$/i,GT=parseInt;const Ww=function(a){if(typeof a=="number")return a;if(bu(a))return NaN;if(pe(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=pe(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=HT(a);var t=WT.test(a);return t||qT.test(a)?GT(a.slice(2),t?2:8):$T.test(a)?NaN:+a};var YT=Math.max,KT=Math.min;const Kc=function(a,e,t){var r,s,c,d,g,p,k=0,b=!1,A=!1,C=!0;if(typeof a!="function")throw new TypeError("Expected a function");function E(K){var se=r,ye=s;return r=s=void 0,k=K,d=a.apply(ye,se)}function M(K){var se=K-p;return p===void 0||se>=e||se<0||A&&K-k>=c}function O(){var K=_p();if(M(K))return z(K);g=setTimeout(O,function(se){var ye=e-(se-p);return A?KT(ye,c-(se-k)):ye}(K))}function z(K){return g=void 0,C&&r?E(K):(r=s=void 0,d)}function V(){var K=_p(),se=M(K);if(r=arguments,s=this,p=K,se){if(g===void 0)return function(ye){return k=ye,g=setTimeout(O,e),b?E(ye):d}(p);if(A)return clearTimeout(g),g=setTimeout(O,e),E(p)}return g===void 0&&(g=setTimeout(O,e)),d}return e=Ww(e)||0,pe(t)&&(b=!!t.leading,c=(A="maxWait"in t)?YT(Ww(t.maxWait)||0,e):c,C="trailing"in t?!!t.trailing:C),V.cancel=function(){g!==void 0&&clearTimeout(g),k=0,r=p=s=g=void 0},V.flush=function(){return g===void 0?d:z(_p())},V};class ZT extends qi{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Kc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,r=new vi(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Re.arrowleft&&e!=Re.arrowup||r.setTo(r.getFirstPosition()),e!=Re.arrowright&&e!=Re.arrowdown||r.setTo(r.getLastPosition());const s={oldSelection:t,newSelection:r,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}const QT=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},JT=function(a){return this.__data__.has(a)};function Eu(a){var e=-1,t=a==null?0:a.length;for(this.__data__=new Vs;++e<t;)this.add(a[e])}Eu.prototype.add=Eu.prototype.push=QT,Eu.prototype.has=JT;const XT=Eu,e4=function(a,e){for(var t=-1,r=a==null?0:a.length;++t<r;)if(e(a[t],t,a))return!0;return!1},t4=function(a,e){return a.has(e)},qw=function(a,e,t,r,s,c){var d=1&t,g=a.length,p=e.length;if(g!=p&&!(d&&p>g))return!1;var k=c.get(a),b=c.get(e);if(k&&b)return k==e&&b==a;var A=-1,C=!0,E=2&t?new XT:void 0;for(c.set(a,e),c.set(e,a);++A<g;){var M=a[A],O=e[A];if(r)var z=d?r(O,M,A,e,a,c):r(M,O,A,a,e,c);if(z!==void 0){if(z)continue;C=!1;break}if(E){if(!e4(e,function(V,K){if(!t4(E,K)&&(M===V||s(M,V,t,r,c)))return E.push(K)})){C=!1;break}}else if(M!==O&&!s(M,O,t,r,c)){C=!1;break}}return c.delete(a),c.delete(e),C},n4=function(a){var e=-1,t=Array(a.size);return a.forEach(function(r,s){t[++e]=[s,r]}),t},i4=function(a){var e=-1,t=Array(a.size);return a.forEach(function(r){t[++e]=r}),t};var Gw=Rn?Rn.prototype:void 0,Ap=Gw?Gw.valueOf:void 0;const r4=function(a,e,t,r,s,c,d){switch(t){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!c(new Ke(a),new Ke(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ro(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var g=n4;case"[object Set]":var p=1&r;if(g||(g=i4),a.size!=e.size&&!p)return!1;var k=d.get(a);if(k)return k==e;r|=2,d.set(a,e);var b=qw(g(a),g(e),r,s,c,d);return d.delete(a),b;case"[object Symbol]":if(Ap)return Ap.call(a)==Ap.call(e)}return!1};var o4=Object.prototype.hasOwnProperty;const s4=function(a,e,t,r,s,c){var d=1&t,g=Bc(a),p=g.length;if(p!=Bc(e).length&&!d)return!1;for(var k=p;k--;){var b=g[k];if(!(d?b in e:o4.call(e,b)))return!1}var A=c.get(a),C=c.get(e);if(A&&C)return A==e&&C==a;var E=!0;c.set(a,e),c.set(e,a);for(var M=d;++k<p;){var O=a[b=g[k]],z=e[b];if(r)var V=d?r(z,O,b,e,a,c):r(O,z,b,a,e,c);if(!(V===void 0?O===z||s(O,z,t,r,c):V)){E=!1;break}M||(M=b=="constructor")}if(E&&!M){var K=a.constructor,se=e.constructor;K==se||!("constructor"in a)||!("constructor"in e)||typeof K=="function"&&K instanceof K&&typeof se=="function"&&se instanceof se||(E=!1)}return c.delete(a),c.delete(e),E};var Yw="[object Arguments]",Kw="[object Array]",Du="[object Object]",Zw=Object.prototype.hasOwnProperty;const a4=function(a,e,t,r,s,c){var d=Kt(a),g=Kt(e),p=d?Kw:Yr(a),k=g?Kw:Yr(e),b=(p=p==Yw?Du:p)==Du,A=(k=k==Yw?Du:k)==Du,C=p==k;if(C&&Wo(a)){if(!Wo(e))return!1;d=!0,b=!1}if(C&&!b)return c||(c=new Ho),d||Cc(a)?qw(a,e,t,r,s,c):r4(a,e,p,t,r,s,c);if(!(1&t)){var E=b&&Zw.call(a,"__wrapped__"),M=A&&Zw.call(e,"__wrapped__");if(E||M){var O=E?a.value():a,z=M?e.value():e;return c||(c=new Ho),s(O,z,t,r,c)}}return!!C&&(c||(c=new Ho),s4(a,e,t,r,s,c))},Qw=function a(e,t,r,s,c){return e===t||(e==null||t==null||!En(e)&&!En(t)?e!=e&&t!=t:a4(e,t,r,s,a,c))},c4=function(a,e,t){var r=(t=typeof t=="function"?t:void 0)?t(a,e):void 0;return r===void 0?Qw(a,e,void 0,t):!!r};class Jw extends qi{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,r=new Set,s=new Set;for(const d of e){const g=t.mapDomToView(d.target);g&&(g.is("uiElement")||g.is("rawElement")||d.type!=="childList"||this._isBogusBrMutation(d)||s.add(g))}for(const d of e){const g=t.mapDomToView(d.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&d.type==="characterData"){const p=t.findCorrespondingViewText(d.target);p&&!s.has(p.parent)?r.add(p):!p&&Hn(d.target)&&s.add(t.mapDomToView(d.target.parentNode))}}let c=!1;for(const d of r)c=!0,this.renderer.markToSync("text",d);for(const d of s){const g=t.mapViewToDom(d),p=Array.from(d.getChildren()),k=Array.from(t.domChildrenToView(g,{withChildren:!1}));c4(p,k,l4)||(c=!0,this.renderer.markToSync("children",d))}c&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function l4(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class Su extends Xo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(r,s)=>{const c=t.selection.editableElement;c!==null&&c!==s.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class d4 extends qi{constructor(e){super(e),this.mutationObserver=e.getObserver(Jw),this.focusObserver=e.getObserver(Su),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Kc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Kc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,r=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(s,c)=>{this.document.isComposing&&!f.isAndroid||(this._handleSelectionChange(c,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const r=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(r);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(s)||!this.domConverter.isDomSelectionCorrect(r))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(s))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:s,domSelection:r};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class u4 extends Xo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Xw{constructor(e,t={}){this._files=t.cacheFiles?ev(e):null,this._native=e}get files(){return this._files||(this._files=ev(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,r){this._native.setDragImage(e,t,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ev(a){const e=Array.from(a.files||[]),t=Array.from(a.items||[]);return e.length?e:t.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class h4 extends Xo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),r=this.view,s=r.document;let c=null,d=null,g=[];if(e.dataTransfer&&(c=new Xw(e.dataTransfer)),e.data!==null?d=e.data:c&&(d=c.getData("text/plain")),s.selection.isFake)g=Array.from(s.selection.getRanges());else if(t.length)g=t.map(p=>{const k=r.domConverter.domPositionToView(p.startContainer,p.startOffset),b=r.domConverter.domPositionToView(p.endContainer,p.endOffset);return k?r.createRange(k,b):b?r.createRange(b):void 0}).filter(p=>!!p);else if(f.isAndroid){const p=e.target.ownerDocument.defaultView.getSelection();g=Array.from(r.domConverter.domSelectionToView(p).getRanges())}if(f.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(g[0].end)]});else if(e.inputType=="insertText"&&d&&d.includes(`
`)){const p=d.split(/\n{1,2}/g);let k=g;for(let b=0;b<p.length;b++){const A=p[b];A!=""&&(this.fire(e.type,e,{data:A,dataTransfer:c,targetRanges:k,inputType:e.inputType,isComposing:e.isComposing}),k=[s.selection.getFirstRange()]),b+1<p.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:k}),k=[s.selection.getFirstRange()])}}else this.fire(e.type,e,{data:d,dataTransfer:c,targetRanges:g,inputType:e.inputType,isComposing:e.isComposing})}}class f4 extends qi{constructor(e){super(e),this.document.on("keydown",(t,r)=>{if(this.isEnabled&&((s=r.keyCode)==Re.arrowright||s==Re.arrowleft||s==Re.arrowup||s==Re.arrowdown)){const c=new ta(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(c,r),c.stop.called&&t.stop()}var s})}observe(){}stopObserving(){}}class g4 extends qi{constructor(e){super(e);const t=this.document;t.on("keydown",(r,s)=>{if(!this.isEnabled||s.keyCode!=Re.tab||s.ctrlKey)return;const c=new ta(t,"tab",t.selection.getFirstRange());t.fire(c,s),c.stop.called&&r.stop()})}observe(){}stopObserving(){}}const Zr=function(a){return ke(a,5)};class p4 extends Ye(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Au(e),this.domConverter=new xu(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new MT(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Sw(this.document),this.addObserver(Jw),this.addObserver(Su),this.addObserver(d4),this.addObserver(RT),this.addObserver(ZT),this.addObserver(u4),this.addObserver(f4),this.addObserver(h4),this.addObserver(g4),this.document.on("arrowKey",TT,{priority:"low"}),CT(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),f.isiOS&&this.listenTo(this.document,"blur",(t,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();const s={};for(const{name:d,value:g}of Array.from(e.attributes))s[d]=g,d==="class"?this._writer.addClass(g.split(" "),r):this._writer.setAttribute(d,g,r);this._initialDomRootAttributes.set(e,s);const c=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(d,g)=>this._renderer.markToSync("children",g)),r.on("change:attributes",(d,g)=>this._renderer.markToSync("attributes",g)),r.on("change:text",(d,g)=>this._renderer.markToSync("text",g)),r.on("change:isReadOnly",()=>this.change(c)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const r=this._initialDomRootAttributes.get(t);for(const s in r)t.setAttribute(s,r[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[r,s]of this.domRoots)t.observe(s,r);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:r=20,ancestorOffset:s=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const d=Zr({alignToTop:e,forceScroll:t,viewportOffset:r,ancestorOffset:s});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const g={target:this.domConverter.viewRangeToDom(c),viewportOffset:r,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",g,d),function({target:p,viewportOffset:k=0,ancestorOffset:b=0,alignToTop:A,forceScroll:C}){const E=Qg(p);let M=E,O=null;for(k=function(z){return typeof z=="number"?{top:z,bottom:z,left:z,right:z}:z}(k);M;){let z;z=NS(M==E?p:O),MS({parent:z,getRect:()=>Xb(p,M),alignToTop:A,ancestorOffset:b,forceScroll:C});const V=Xb(p,M);if(IS({window:M,rect:V,viewportOffset:k,alignToTop:A,forceScroll:C}),M.parent!=M){if(O=M.frameElement,M=M.parent,!O)return}else M=null}}(g)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new D("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){D.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Su).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new vi(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Qr{is(){throw new Error("is() method is abstract")}}class es extends Qr{constructor(e){super(),this.parent=null,this._attrs=$i(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new D("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new D("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;r[c]==s[c]&&r[c];)c++;return c===0?null:r[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),s=jt(t,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<r[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,r)=>(t[r[0]]=r[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=$i(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}es.prototype.is=function(a){return a==="node"||a==="model:node"};class Zc{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((r,s)=>r+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new D("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const r of this._nodes){if(e>=t&&e<t+r.offsetSize)return this.getNodeIndex(r);t+=r.offsetSize}if(t!=e)throw new D("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const r of t)if(!(r instanceof es))throw new D("model-nodelist-insertnodes-not-node",this);this._nodes=function(r,s,c,d){if(Math.max(s.length,r.length)>1e4)return r.slice(0,c).concat(s).concat(r.slice(c+d,r.length));{const g=Array.from(r);return g.splice(c,d,...s),g}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class rt extends es{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new rt(this.data,this.getAttributes())}static fromJSON(e){return new rt(e.data,e.attributes)}}rt.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class Ai extends Qr{constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new D("model-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.offsetSize)throw new D("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ai.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class Xe extends es{constructor(e,t,r){super(t),this._children=new Zc,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}findAncestor(e,t={}){let r=t.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new Xe(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=function(s){return typeof s=="string"?[new rt(s)]:(fn(s)||(s=[s]),Array.from(s).map(c=>typeof c=="string"?new rt(c):c instanceof Ai?new rt(c.data,c.getAttributes()):c))}(t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const s of r)s.parent=null;return r}static fromJSON(e){let t;if(e.children){t=[];for(const r of e.children)r.name?t.push(Xe.fromJSON(r)):t.push(rt.fromJSON(r))}return new Xe(e.name,e.attributes,t)}}Xe.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Gi{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new D("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new D("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=oe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r,s,c;do s=this.position,c=this._visitedParent,{done:t,value:r}=this.next();while(!t&&e(r));t||(this._position=s,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Qc(t,r),c=s||tv(t,r,s);if(c instanceof Xe){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=c;return this._position=t,ts("elementStart",c,e,t,1)}if(c instanceof rt){let d;if(this.singleCharacters)d=1;else{let k=c.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<k&&(k=this.boundaries.end.offset),d=k-t.offset}const g=t.offset-c.startOffset,p=new Ai(c,g,d);return t.offset+=d,this._position=t,ts("text",p,e,t,d)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():ts("elementEnd",r,e,t)}_previous(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,c=Qc(t,s),d=c||nv(t,s,c);if(d instanceof Xe)return t.offset--,this.shallow?(this._position=t,ts("elementStart",d,e,t,1)):(t.path.push(d.maxOffset),this._position=t,this._visitedParent=d,this.ignoreElementEnd?this._previous():ts("elementEnd",d,e,t));if(d instanceof rt){let g;if(this.singleCharacters)g=1;else{let b=d.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>b&&(b=this.boundaries.start.offset),g=t.offset-b}const p=t.offset-d.startOffset,k=new Ai(d,p-g,g);return t.offset-=g,this._position=t,ts("text",k,e,t,g)}return t.path.pop(),this._position=t,this._visitedParent=r.parent,ts("elementStart",r,e,t,1)}}function ts(a,e,t,r,s){return{done:!1,value:{type:a,item:e,previousPosition:t,nextPosition:r,length:s}}}class oe extends Qr{constructor(e,t,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new D("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new D("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new D("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new D("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Qc(this,this.parent)}get nodeAfter(){const e=this.parent;return tv(this,e,Qc(this,e))}get nodeBefore(){const e=this.parent;return nv(this,e,Qc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=jt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Gi(t);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=jt(this.path,e.path),r=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,r)}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let s=0;for(;t[s]==r[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),r=t.offset+e;return t.offset=r<0?0:r,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let r=0;r<t;r++){const s=this.path[r]-e.path[r];if(s<-1||s>1)return!1;if(s===1)return iv(e,this,r);if(s===-1)return iv(this,e,r)}return this.path.length===e.path.length||(this.path.length>e.path.length?yp(this.path,t):yp(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:jt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=oe._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let r;return t.containsPosition(this)||t.start.isEqual(this)?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):r=this.isEqual(e.deletionPosition)?oe._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,t){const r=oe._createAt(this);if(this.root!=e.root)return r;if(jt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if(jt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;r.path[s]-=t}}return r}_getTransformedByInsertion(e,t){const r=oe._createAt(this);if(this.root!=e.root)return r;if(jt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=t);else if(jt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(r.path[s]+=t)}return r}_getTransformedByMove(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return oe._createAt(this);const s=this._getTransformedByDeletion(e,r);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,r)}_getCombined(e,t){const r=e.path.length-1,s=oe._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[r]-e.offset,s.path=[...s.path,...this.path.slice(r+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,r="toNone"){if(e instanceof oe)return new oe(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,r);if(t=="after")return this._createAfter(s,r);if(t!==0&&!t)throw new D("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new D("model-position-parent-incorrect",[this,e]);const c=s.getPath();return c.push(t),new this(s.root,c,r)}}static _createAfter(e,t){if(!e.parent)throw new D("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new D("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const r=new oe(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new D("model-position-fromjson-no-root",t,{rootName:e.root});return new oe(t.getRoot(e.root),e.path,e.stickiness)}}function Qc(a,e){const t=e.getChild(e.offsetToIndex(a.offset));return t&&t.is("$text")&&t.startOffset<a.offset?t:null}function tv(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset))}function nv(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function iv(a,e,t){return t+1!==a.path.length&&!!yp(e.path,t+1)&&!!function(r,s){let c=r.parent,d=r.path.length-1,g=0;for(;d>=s;){if(r.path[d]+g!==c.maxOffset)return!1;g=1,d--,c=c.parent}return!0}(a,t+1)}function yp(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}oe.prototype.is=function(a){return a==="position"||a==="model:position"};class Q extends Qr{constructor(e,t){super(),this.start=oe._createAt(e),this.end=t?oe._createAt(t):oe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Gi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return jt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&s}containsItem(e){const t=oe._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Q(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Q(e.end,this.end))):t.push(new Q(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new Q(t,r)}return null}getJoined(e,t=!1){let r=this.isIntersecting(e);if(r||(r=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let s=this.start,c=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(c)&&(c=e.end),new Q(s,c)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,r=oe._createAt(this.start);let s=r.parent;for(;r.path.length>t+1;){const c=s.maxOffset-r.offset;c!==0&&e.push(new Q(r,r.getShiftedBy(c))),r.path=r.path.slice(0,-1),r.offset++,s=s.parent}for(;r.path.length<=this.end.path.length;){const c=this.end.path[r.path.length-1],d=c-r.offset;d!==0&&e.push(new Q(r,r.getShiftedBy(d))),r.offset=c,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Gi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Gi(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Gi(e);yield t.position;for(const r of t)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Q(this.start,this.end)]}getTransformedByOperations(e){const t=[new Q(this.start,this.end)];for(const r of e)for(let s=0;s<t.length;s++){const c=t[s].getTransformedByOperation(r);t.splice(s,1,...c),s+=c.length-1}for(let r=0;r<t.length;r++){const s=t[r];for(let c=r+1;c<t.length;c++){const d=t[c];(s.containsRange(d)||d.containsRange(s)||s.isEqual(d))&&t.splice(c,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const r=e.sourcePosition,s=e.howMany,c=e.targetPosition;return this._getTransformedByMove(r,c,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),t.root!=r.root&&(r=this.end.getShiftedBy(-1)),new Q(t,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Q(this.start);let t=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return t.root!=r.root&&(r=this.end.getShiftedBy(-1)),t.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(t=oe._createAt(r),t.offset=0):(e.deletionPosition.isEqual(t)||(r=e.deletionPosition),t=e.targetPosition),new Q(t,r)):new Q(t,r)}_getTransformedByInsertion(e,t,r=!1){if(r&&this.containsPosition(e))return[new Q(this.start,e),new Q(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new Q(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,r,s=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(e,t,r);return[new Q(A)]}const c=Q._createFromPositionAndShift(e,r),d=t._getTransformedByDeletion(e,r);if(this.containsPosition(t)&&!s&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const A=this.start._getTransformedByMove(e,t,r),C=this.end._getTransformedByMove(e,t,r);return[new Q(A,C)]}let g;const p=this.getDifference(c);let k=null;const b=this.getIntersection(c);if(p.length==1?k=new Q(p[0].start._getTransformedByDeletion(e,r),p[0].end._getTransformedByDeletion(e,r)):p.length==2&&(k=new Q(this.start,this.end._getTransformedByDeletion(e,r))),g=k?k._getTransformedByInsertion(d,r,b!==null||s):[],b){const A=new Q(b.start._getCombined(c.start,d),b.end._getCombined(c.start,d));g.length==2?g.splice(1,0,A):g.push(A)}return g}_getTransformedByDeletion(e,t){let r=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return r==null&&s==null?null:(r==null&&(r=e),s==null&&(s=e),new Q(r,s))}static _createFromPositionAndShift(e,t){const r=e,s=e.getShiftedBy(t);return t>0?new this(r,s):new this(s,r)}static _createIn(e){return new this(oe._createAt(e,0),oe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(oe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new D("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((c,d)=>c.start.isAfter(d.start)?1:-1);const r=e.indexOf(t),s=new this(t.start,t.end);if(r>0)for(let c=r-1;e[c].end.isEqual(s.start);c++)s.start=oe._createAt(e[c].start);for(let c=r+1;c<e.length&&e[c].start.isEqual(s.end);c++)s.end=oe._createAt(e[c].end);return s}static fromJSON(e,t){return new this(oe.fromJSON(e.start,t),oe.fromJSON(e.end,t))}}Q.prototype.is=function(a){return a==="range"||a==="model:range"};class rv extends H(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const r=this._modelToViewMapping.get(t.modelPosition.parent);if(!r)throw new D("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(r,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const r=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(r),c=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r);t.modelPosition=oe._createAt(s,c)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const r=this._markerNameToElements.get(t)||new Set;r.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,r),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const r=this._markerNameToElements.get(t);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Q(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ce(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const r={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const r=new Set;for(const s of t)if(s.is("attributeElement"))for(const c of s.getElementsWithSameId())r.add(c);else r.add(s);return r}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,r){if(r!=e)return this._toModelOffset(e.parent,e.index,r)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let s=0;for(let c=0;c<t;c++)s+=this.getModelLength(e.getChild(c));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const r of e.getChildren())t+=this.getModelLength(r);return t}}findPositionIn(e,t){let r,s=0,c=0,d=0;if(e.is("$text"))return new fe(e,t);for(;c<t;)r=e.getChild(d),s=this.getModelLength(r),c+=s,d++;return c==t?this._moveViewPositionToTextNode(new fe(e,d)):this.findPositionIn(r,t-(c-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,r=e.nodeAfter;return t instanceof it?new fe(t,t.data.length):r instanceof it?new fe(r,0):e}}class m4{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Tu(t),e instanceof Ai&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Tu(t),e instanceof Ai&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Tu(t),e instanceof Ai&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const s=r.get(t);return s===void 0?null:s}revert(e,t){t=Tu(t),e instanceof Ai&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,t);return r===!1?(this._consumable.get(e).set(t,!0),!0):r!==!0&&null}verifyAllConsumed(e){const t=[];for(const[r,s]of this._consumable)for(const[c,d]of s){const g=c.split(":")[0];d&&e==g&&t.push({event:c,item:r.name||r.description})}if(t.length)throw new D("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const s=r.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,r=e.endOffset,s=e.parent,c=Symbol("$textProxy:"+e.data);let d,g;return d=this._textProxyRegistry.get(t),d||(d=new Map,this._textProxyRegistry.set(t,d)),g=d.get(r),g||(g=new Map,d.set(r,g)),g.set(s,c),c}}function Tu(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}class ov extends H(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,r){const s=this._createConversionApi(r,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,s);const c=this._reduceChanges(e.getChanges());for(const d of c)d.type==="insert"?this._convertInsert(Q._createFromPositionAndShift(d.position,d.length),s):d.type==="reinsert"?this._convertReinsert(Q._createFromPositionAndShift(d.position,d.length),s):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,s):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,s);for(const d of s.mapper.flushUnboundMarkerNames()){const g=t.get(d).getRange();this._convertMarkerRemove(d,g,s),this._convertMarkerAdd(d,g,s)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,r,s={}){const c=this._createConversionApi(r,void 0,s);this._convertInsert(e,c);for(const[d,g]of t)this._convertMarkerAdd(d,g,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,t,r){const s=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},s);const c=e.getFirstPosition().root;if(!s.mapper.toViewElement(c))return;const d=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,d),this.fire("selection",{selection:e},s),e.isCollapsed){for(const g of d)if(s.consumable.test(e,"addMarker:"+g.name)){const p=g.getRange();if(!k4(e.getFirstPosition(),g,s.mapper))continue;const k={item:e,markerName:g.name,markerRange:p};this.fire(`addMarker:${g.name}`,k,s)}for(const g of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+g)){const p={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};this.fire(`attribute:${g}:$text`,p,s)}}}_convertInsert(e,t,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(sv))this._testAndFire("insert",s,t)}_convertRemove(e,t,r,s){this.fire(`remove:${r}`,{position:e,length:t},s)}_convertAttribute(e,t,r,s,c){this._addConsumablesForRange(c.consumable,e,`attribute:${t}`);for(const d of e){const g={item:d.item,range:Q._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:t,attributeOldValue:r,attributeNewValue:s};this._testAndFire(`attribute:${t}`,g,c)}}_convertReinsert(e,t){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,r);for(const s of r.map(sv))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,r){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(r.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},r),r.consumable.consume(t,s)){this._addConsumablesForRange(r.consumable,t,s);for(const c of t.getItems()){if(!r.consumable.test(c,s))continue;const d={item:c,range:Q._createOn(c),markerName:e,markerRange:t};this.fire(s,d,r)}}}_convertMarkerRemove(e,t,r){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},r)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const r of t){const s=r.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const c of s.getAttributeKeys())e.add(s,"attribute:"+c)}}return e}_addConsumablesForRange(e,t,r){for(const s of t.getItems())e.add(s,r);return e}_addConsumablesForSelection(e,t,r){e.add(t,"selection");for(const s of r)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,r){const s=function(p,k){const b=k.item.is("element")?k.item.name:"$text";return`${p}:${b}`}(e,t),c=t.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(t.item):t.item,d=this._firedEventsMap.get(r),g=d.get(c);if(g){if(g.has(s))return;g.add(s)}else d.set(c,new Set([s]));this.fire(s,t,r)}_testAndFireAddAttributes(e,t){const r={item:e,range:Q._createOn(e)};for(const s of r.item.getAttributeKeys())r.attributeKey=s,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(s),this._testAndFire(`attribute:${s}`,r,t)}_createConversionApi(e,t=new Set,r={}){const s={...this._conversionApi,consumable:new m4,writer:e,options:r,convertItem:c=>this._convertInsert(Q._createOn(c),s),convertChildren:c=>this._convertInsert(Q._createIn(c),s,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,s),canReuseView:c=>!t.has(s.mapper.toModelElement(c))};return this._firedEventsMap.set(s,new Map),s}}function k4(a,e,t){const r=e.getRange(),s=Array.from(a.getAncestors());return s.shift(),s.reverse(),!s.some(c=>{if(r.containsItem(c))return!!t.toViewElement(c).getCustomProperty("addHighlight")})}function sv(a){return{item:a.item,range:Q._createFromPositionAndShift(a.previousPosition,a.length)}}class $n extends H(Qr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const s of e._ranges)if(t.isEqual(s)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Q(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Q(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Q(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),t===null)this._setRanges([]);else if(t instanceof $n)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Q)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof oe)this._setRanges([new Q(t)]);else if(t instanceof es){const c=!!s&&!!s.backward;let d;if(r=="in")d=Q._createIn(t);else if(r=="on")d=Q._createOn(t);else{if(r===void 0)throw new D("model-selection-setto-required-second-parameter",[this,t]);d=new Q(oe._createAt(t,r))}this._setRanges([d],c)}else{if(!fn(t))throw new D("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,s&&!!s.backward)}}_setRanges(e,t=!1){const r=Array.from(e),s=r.some(c=>{if(!(c instanceof Q))throw new D("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(c))});(r.length!==this._ranges.length||s)&&(this._replaceAllRanges(r),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new D("model-selection-setfocus-no-ranges",[this,e]);const r=oe._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(s)=="before"?(this._pushRange(new Q(r,s)),this._lastRangeBackward=!0):(this._pushRange(new Q(s,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const r=cv(t.start,e);w4(r,t)&&(yield r);for(const c of t.getWalker()){const d=c.item;c.type=="elementEnd"&&b4(d,e,t)&&(yield d)}const s=cv(t.end,e);v4(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=oe._createAt(e,0),r=oe._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Q(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new D("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function av(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function b4(a,e,t){return av(a,e)&&Cp(a,t)}function cv(a,e){const t=a.parent.root.document.model.schema,r=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const c=r.find(d=>!s&&(s=t.isLimit(d),!s&&av(d,e)));return r.forEach(d=>e.add(d)),c}function Cp(a,e){const t=function(r){const s=r.root.document.model.schema;let c=r.parent;for(;c;){if(s.isBlock(c))return c;c=c.parent}}(a);return t?!e.containsRange(Q._createOn(t),!0):!0}function w4(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(oe._createAt(a,a.maxOffset))&&Cp(a,e))}function v4(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(oe._createAt(a,0))&&Cp(a,e))}$n.prototype.is=function(a){return a==="selection"||a==="model:selection"};class Sn extends H(Q){constructor(e,t){super(e,t),_4.call(this)}detach(){this.stopListening()}toRange(){return new Q(this.start,this.end)}static fromRange(e){return new Sn(e.start,e.end)}}function _4(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&A4.call(this,t)},{priority:"low"})}function A4(a){const e=this.getTransformedByOperation(a),t=Q._createFromRanges(e),r=!t.isEqual(this),s=function(d,g){switch(g.type){case"insert":return d.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return d.containsPosition(g.sourcePosition)||d.start.isEqual(g.sourcePosition)||d.containsPosition(g.targetPosition);case"split":return d.containsPosition(g.splitPosition)||d.containsPosition(g.insertionPosition)}return!1}(this,a);let c=null;if(r){t.root.rootName=="$graveyard"&&(c=a.type=="remove"?a.sourcePosition:a.deletionPosition);const d=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",d,{deletionPosition:c})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:c})}Sn.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const Iu="selection:";class yi extends H(Qr){constructor(e){super(),this._selection=new y4(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Iu+e}static _isStoreAttributeKey(e){return e.startsWith(Iu)}}yi.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class y4 extends $n{constructor(e){super(),this.markers=new ii({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,r,s,c)=>{this._updateMarker(r,c)}),this.listenTo(this._document,"change",(t,r)=>{(function(s,c){const d=s.document.differ;for(const g of d.getChanges()){if(g.type!="insert")continue;const p=g.position.parent;g.length===p.maxOffset&&s.enqueueChange(c,k=>{const b=Array.from(p.getAttributeKeys()).filter(A=>A.startsWith(Iu));for(const A of b)k.removeAttribute(A,p)})}})(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=B();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new D("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new D("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Sn.fromRange(e);return t.on("change:range",(r,s,c)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const d=this._ranges.indexOf(t);this._ranges.splice(d,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const c=s.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const d=s.getRange();for(const g of this.getRanges())d.containsRange(g,!g.isCollapsed)&&e.push(s)}const r=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,t){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let s=!1;const c=Array.from(this.markers),d=this.markers.has(e);if(t){let g=!1;for(const p of this.getRanges())if(t.containsRange(p,!p.isCollapsed)){g=!0;break}g&&!d?(this.markers.add(e),s=!0):!g&&d&&(this.markers.remove(e),s=!0)}else d&&(this.markers.remove(e),s=!0);s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const t=$i(this._getSurroundingAttributes()),r=$i(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,d]of this._attributePriority)d=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(t);const s=[];for(const[c,d]of this.getAttributes())r.has(c)&&r.get(c)===d||s.push(c);for(const[c]of r)this.hasAttribute(c)||s.push(c);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,r=!0){const s=r?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const r=t?"normal":"low";return(r!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,r),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[r,s]of this.getAttributes())e.get(r)!==s&&this._removeAttribute(r,!1);for(const[r,s]of e)this._setAttribute(r,s,!1)&&t.add(r);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Iu)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Jc(s,t)),r||(r=Jc(c,t)),!this.isGravityOverridden&&!r){let d=s;for(;d&&!r;)d=d.previousSibling,r=Jc(d,t)}if(!r){let d=c;for(;d&&!r;)d=d.nextSibling,r=Jc(d,t)}r||(r=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const c of s){if(c.item.is("element")&&t.isObject(c.item)){r=Jc(c.item,t);break}if(c.type=="text"){r=c.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Jc(a,e){if(!a)return null;if(a instanceof Ai||a instanceof rt)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const t=[];for(const[r,s]of a.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&t.push([r,s]);return t}class lv{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class C4 extends lv{elementToElement(e){return this.add(function(t){const r=hv(t.model),s=Xc(t.view,"container");return r.attributes.length&&(r.children=!0),c=>{c.on(`insert:${r.name}`,function(d,g=E4){return(p,k,b)=>{if(!g(k.item,b.consumable,{preflight:!0}))return;const A=d(k.item,b,k);if(!A)return;g(k.item,b.consumable);const C=b.mapper.toViewPosition(k.range.start);b.mapper.bindElements(k.item,A),b.writer.insert(C,A),b.convertAttributes(k.item),kv(A,k.item.getChildren(),b,{reconversion:k.reconversion})}}(s,mv(r)),{priority:t.converterPriority||"normal"}),(r.children||r.attributes.length)&&c.on("reduceChanges",pv(r),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const r=hv(t.model),s=Xc(t.view,"container");return r.children=!0,c=>{if(c._conversionApi.schema.checkChild(r.name,"$text"))throw new D("conversion-element-to-structure-disallowed-text",c,{elementName:r.name});var d,g;c.on(`insert:${r.name}`,(d=s,g=mv(r),(p,k,b)=>{if(!g(k.item,b.consumable,{preflight:!0}))return;const A=new Map;b.writer._registerSlotFactory(function(M,O,z){return(V,K)=>{const se=V.createContainerElement("$slot");let ye=null;if(K==="children")ye=Array.from(M.getChildren());else{if(typeof K!="function")throw new D("conversion-slot-mode-unknown",z.dispatcher,{modeOrFilter:K});ye=Array.from(M.getChildren()).filter(ze=>K(ze))}return O.set(se,ye),se}}(k.item,A,b));const C=d(k.item,b,k);if(b.writer._clearSlotFactory(),!C)return;(function(M,O,z){const V=Array.from(O.values()).flat(),K=new Set(V);if(K.size!=V.length)throw new D("conversion-slot-filter-overlap",z.dispatcher,{element:M});if(K.size!=M.childCount)throw new D("conversion-slot-filter-incomplete",z.dispatcher,{element:M})})(k.item,A,b),g(k.item,b.consumable);const E=b.mapper.toViewPosition(k.range.start);b.mapper.bindElements(k.item,C),b.writer.insert(E,C),b.convertAttributes(k.item),function(M,O,z,V){z.mapper.on("modelToViewPosition",ye,{priority:"highest"});let K=null,se=null;for([K,se]of O)kv(M,se,z,V),z.writer.move(z.writer.createRangeIn(K),z.writer.createPositionBefore(K)),z.writer.remove(K);function ye(ze,Nn){const er=Nn.modelPosition.nodeAfter,wn=se.indexOf(er);wn<0||(Nn.viewPosition=Nn.mapper.findPositionIn(K,wn))}z.mapper.off("modelToViewPosition",ye)}(C,A,b,{reconversion:k.reconversion})}),{priority:t.converterPriority||"normal"}),c.on("reduceChanges",pv(r),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Zr(t);let r=t.model;typeof r=="string"&&(r={key:r});let s=`attribute:${r.key}`;if(r.name&&(s+=":"+r.name),r.values)for(const d of r.values)t.view[d]=Xc(t.view[d],"attribute");else t.view=Xc(t.view,"attribute");const c=fv(t);return d=>{d.on(s,function(g){return(p,k,b)=>{if(!b.consumable.test(k.item,p.name))return;const A=g(k.attributeOldValue,b,k),C=g(k.attributeNewValue,b,k);if(!A&&!C)return;b.consumable.consume(k.item,p.name);const E=b.writer,M=E.document.selection;if(k.item instanceof $n||k.item instanceof yi)E.wrap(M.getFirstRange(),C);else{let O=b.mapper.toViewRange(k.range);k.attributeOldValue!==null&&A&&(O=E.unwrap(O,A)),k.attributeNewValue!==null&&C&&E.wrap(O,C)}}}(c),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Zr(t);let r=t.model;typeof r=="string"&&(r={key:r});let s=`attribute:${r.key}`;if(r.name&&(s+=":"+r.name),r.values)for(const d of r.values)t.view[d]=gv(t.view[d]);else t.view=gv(t.view);const c=fv(t);return d=>{var g;d.on(s,(g=c,(p,k,b)=>{if(!b.consumable.test(k.item,p.name))return;const A=g(k.attributeOldValue,b,k),C=g(k.attributeNewValue,b,k);if(!A&&!C)return;b.consumable.consume(k.item,p.name);const E=b.mapper.toViewElement(k.item),M=b.writer;if(!E)throw new D("conversion-attribute-to-attribute-on-text",b.dispatcher,k);if(k.attributeOldValue!==null&&A)if(A.key=="class"){const O=Ut(A.value);for(const z of O)M.removeClass(z,E)}else if(A.key=="style"){const O=Object.keys(A.value);for(const z of O)M.removeStyle(z,E)}else M.removeAttribute(A.key,E);if(k.attributeNewValue!==null&&C)if(C.key=="class"){const O=Ut(C.value);for(const z of O)M.addClass(z,E)}else if(C.key=="style"){const O=Object.keys(C.value);for(const z of O)M.setStyle(z,C.value[z],E)}else M.setAttribute(C.key,C.value,E)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const r=Xc(t.view,"ui");return s=>{var c;s.on(`addMarker:${t.model}`,(c=r,(d,g,p)=>{g.isOpening=!0;const k=c(g,p);g.isOpening=!1;const b=c(g,p);if(!k||!b)return;const A=g.markerRange;if(A.isCollapsed&&!p.consumable.consume(A,d.name))return;for(const M of A)if(!p.consumable.consume(M.item,d.name))return;const C=p.mapper,E=p.writer;E.insert(C.toViewPosition(A.start),k),p.mapper.bindElementToMarker(k,g.markerName),A.isCollapsed||(E.insert(C.toViewPosition(A.end),b),p.mapper.bindElementToMarker(b,g.markerName)),d.stop()}),{priority:t.converterPriority||"normal"}),s.on(`removeMarker:${t.model}`,(d,g,p)=>{const k=p.mapper.markerNameToElements(g.markerName);if(k){for(const b of k)p.mapper.unbindElementFromMarkerName(b,g.markerName),p.writer.clear(p.writer.createRangeOn(b),b);p.writer.clearClonedElementsGroup(g.markerName),d.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return r=>{var s;r.on(`addMarker:${t.model}`,(s=t.view,(c,d,g)=>{if(!d.item||!(d.item instanceof $n||d.item instanceof yi||d.item.is("$textProxy")))return;const p=xp(s,d,g);if(!p||!g.consumable.consume(d.item,c.name))return;const k=g.writer,b=dv(k,p),A=k.document.selection;if(d.item instanceof $n||d.item instanceof yi)k.wrap(A.getFirstRange(),b);else{const C=g.mapper.toViewRange(d.range),E=k.wrap(C,b);for(const M of E.getItems())if(M.is("attributeElement")&&M.isSimilar(b)){g.mapper.bindElementToMarker(M,d.markerName);break}}}),{priority:t.converterPriority||"normal"}),r.on(`addMarker:${t.model}`,function(c){return(d,g,p)=>{if(!g.item||!(g.item instanceof Xe))return;const k=xp(c,g,p);if(!k||!p.consumable.test(g.item,d.name))return;const b=p.mapper.toViewElement(g.item);if(b&&b.getCustomProperty("addHighlight")){p.consumable.consume(g.item,d.name);for(const A of Q._createIn(g.item))p.consumable.consume(A.item,d.name);b.getCustomProperty("addHighlight")(b,k,p.writer),p.mapper.bindElementToMarker(b,g.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${t.model}`,function(c){return(d,g,p)=>{if(g.markerRange.isCollapsed)return;const k=xp(c,g,p);if(!k)return;const b=dv(p.writer,k),A=p.mapper.markerNameToElements(g.markerName);if(A){for(const C of A)p.mapper.unbindElementFromMarkerName(C,g.markerName),C.is("attributeElement")?p.writer.unwrap(p.writer.createRangeOn(C),b):C.getCustomProperty("removeHighlight")(C,k.id,p.writer);p.writer.clearClonedElementsGroup(g.markerName),d.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Zr(t);const r=t.model;let s=t.view;return s||(s=c=>({group:r,name:c.substr(t.model.length+1)})),c=>{var d;c.on(`addMarker:${r}`,(d=s,(g,p,k)=>{const b=d(p.markerName,k);if(!b)return;const A=p.markerRange;k.consumable.consume(A,g.name)&&(uv(A,!1,k,p,b),uv(A,!0,k,p,b),g.stop())}),{priority:t.converterPriority||"normal"}),c.on(`removeMarker:${r}`,function(g){return(p,k,b)=>{const A=g(k.markerName,b);if(!A)return;const C=b.mapper.markerNameToElements(k.markerName);if(C){for(const M of C)b.mapper.unbindElementFromMarkerName(M,k.markerName),M.is("containerElement")?(E(`data-${A.group}-start-before`,M),E(`data-${A.group}-start-after`,M),E(`data-${A.group}-end-before`,M),E(`data-${A.group}-end-after`,M)):b.writer.clear(b.writer.createRangeOn(M),M);b.writer.clearClonedElementsGroup(k.markerName),p.stop()}function E(M,O){if(O.hasAttribute(M)){const z=new Set(O.getAttribute(M).split(","));z.delete(A.name),z.size==0?b.writer.removeAttribute(M,O):b.writer.setAttribute(M,Array.from(z).join(","),O)}}}}(s),{priority:t.converterPriority||"normal"})}}(e))}}function dv(a,e){const t=a.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function uv(a,e,t,r,s){const c=e?a.start:a.end,d=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,g=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(d||g){let p,k;e&&d||!e&&!g?(p=d,k=!0):(p=g,k=!1);const b=t.mapper.toViewElement(p);if(b)return void function(A,C,E,M,O,z){const V=`data-${z.group}-${C?"start":"end"}-${E?"before":"after"}`,K=A.hasAttribute(V)?A.getAttribute(V).split(","):[];K.unshift(z.name),M.writer.setAttribute(V,K.join(","),A),M.mapper.bindElementToMarker(A,O.markerName)}(b,e,k,t,r,s)}(function(p,k,b,A,C){const E=`${C.group}-${k?"start":"end"}`,M=C.name?{name:C.name}:null,O=b.writer.createUIElement(E,M);b.writer.insert(p,O),b.mapper.bindElementToMarker(O,A.markerName)})(t.mapper.toViewPosition(c),e,t,r,s)}function hv(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function Xc(a,e){return typeof a=="function"?a:(t,r)=>function(s,c,d){typeof s=="string"&&(s={name:s});let g;const p=c.writer,k=Object.assign({},s.attributes);if(d=="container")g=p.createContainerElement(s.name,k);else if(d=="attribute"){const b={priority:s.priority||Qo.DEFAULT_PRIORITY};g=p.createAttributeElement(s.name,k,b)}else g=p.createUIElement(s.name,k);if(s.styles){const b=Object.keys(s.styles);for(const A of b)p.setStyle(A,s.styles[A],g)}if(s.classes){const b=s.classes;if(typeof b=="string")p.addClass(b,g);else for(const A of b)p.addClass(A,g)}return g}(a,r,e)}function fv(a){return a.model.values?(e,t,r)=>{const s=a.view[e];return s?s(e,t,r):null}:a.view}function gv(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function xp(a,e,t){const r=typeof a=="function"?a(e,t):a;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function pv(a){const e=function(t){return(r,s)=>{if(!r.is("element",t.name))return!1;if(s.type=="attribute"){if(t.attributes.includes(s.attributeKey))return!0}else if(t.children)return!0;return!1}}(a);return(t,r)=>{const s=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const c of r.changes){const d=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(d&&e(d,c)){if(!r.reconvertedElements.has(d)){r.reconvertedElements.add(d);const g=oe._createBefore(d);let p=s.length;for(let k=s.length-1;k>=0;k--){const b=s[k],A=(b.type=="attribute"?b.range.start:b.position).compareWith(g);if(A=="before"||b.type=="remove"&&A=="same")break;p=k}s.splice(p,0,{type:"remove",name:d.name,position:g,length:1},{type:"reinsert",name:d.name,position:g,length:1})}}else s.push(c)}r.changes=s}}function mv(a){return(e,t,r={})=>{const s=["insert"];for(const c of a.attributes)e.hasAttribute(c)&&s.push(`attribute:${c}`);return!!s.every(c=>t.test(e,c))&&(r.preflight||s.forEach(c=>t.consume(e,c)),!0)}}function kv(a,e,t,r){for(const s of e)x4(a.root,s,t,r)||t.convertItem(s)}function x4(a,e,t,r){const{writer:s,mapper:c}=t;if(!r.reconversion)return!1;const d=c.toViewElement(e);return!(!d||d.root==a)&&!!t.canReuseView(d)&&(s.move(s.createRangeOn(d),c.toViewPosition(oe._createBefore(e))),!0)}function E4(a,e,{preflight:t}={}){return t?e.test(a,"insert"):e.consume(a,"insert")}function bv(a){const{schema:e,document:t}=a.model;for(const r of t.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return a.insertElement("paragraph",r),!0;return!1}function wv(a,e,t){const r=t.createContext(a);return!!t.checkChild(r,"paragraph")&&!!t.checkChild(r.push("paragraph"),e)}function vv(a,e){const t=e.createElement("paragraph");return e.insert(t,a),e.createPositionAt(t,0)}class D4 extends lv{elementToElement(e){return this.add(_v(e))}elementToAttribute(e){return this.add(function(t){t=Zr(t),Av(t);const r=yv(t,!1),s=Ep(t.view),c=s?`element:${s}`:"element";return d=>{d.on(c,r,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Zr(t);let r=null;(typeof t.view=="string"||t.view.key)&&(r=function(c){typeof c.view=="string"&&(c.view={key:c.view});const d=c.view.key;let g;return d=="class"||d=="style"?g={[d=="class"?"classes":"styles"]:c.view.value}:g={attributes:{[d]:c.view.value===void 0?/[\s\S]*/:c.view.value}},c.view.name&&(g.name=c.view.name),c.view=g,d}(t)),Av(t,r);const s=yv(t,!0);return c=>{c.on("element",s,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const r=function(s){return(c,d)=>{const g=typeof s=="string"?s:s(c,d);return d.writer.createElement("$marker",{"data-name":g})}}(t.model);return _v({...t,model:r})}(e))}dataToMarker(e){return this.add(function(t){t=Zr(t),t.model||(t.model=d=>d?t.view+":"+d:t.view);const r={view:t.view,model:t.model},s=Dp(Cv(r,"start")),c=Dp(Cv(r,"end"));return d=>{d.on(`element:${t.view}-start`,s,{priority:t.converterPriority||"normal"}),d.on(`element:${t.view}-end`,c,{priority:t.converterPriority||"normal"});const g=R.low,p=R.highest,k=R.get(t.converterPriority)/p;d.on("element",function(b){return(A,C,E)=>{const M=`data-${b.view}`;function O(z,V){for(const K of V){const se=b.model(K,E),ye=E.writer.createElement("$marker",{"data-name":se});E.writer.insert(ye,z),C.modelCursor.isEqual(z)?C.modelCursor=C.modelCursor.getShiftedBy(1):C.modelCursor=C.modelCursor._getTransformedByInsertion(z,1),C.modelRange=C.modelRange._getTransformedByInsertion(z,1)[0]}}(E.consumable.test(C.viewItem,{attributes:M+"-end-after"})||E.consumable.test(C.viewItem,{attributes:M+"-start-after"})||E.consumable.test(C.viewItem,{attributes:M+"-end-before"})||E.consumable.test(C.viewItem,{attributes:M+"-start-before"}))&&(C.modelRange||Object.assign(C,E.convertChildren(C.viewItem,C.modelCursor)),E.consumable.consume(C.viewItem,{attributes:M+"-end-after"})&&O(C.modelRange.end,C.viewItem.getAttribute(M+"-end-after").split(",")),E.consumable.consume(C.viewItem,{attributes:M+"-start-after"})&&O(C.modelRange.end,C.viewItem.getAttribute(M+"-start-after").split(",")),E.consumable.consume(C.viewItem,{attributes:M+"-end-before"})&&O(C.modelRange.start,C.viewItem.getAttribute(M+"-end-before").split(",")),E.consumable.consume(C.viewItem,{attributes:M+"-start-before"})&&O(C.modelRange.start,C.viewItem.getAttribute(M+"-start-before").split(",")))}}(r),{priority:g+k})}}(e))}}function _v(a){const e=Dp(a=Zr(a)),t=Ep(a.view),r=t?`element:${t}`:"element";return s=>{s.on(r,e,{priority:a.converterPriority||"normal"})}}function Ep(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function Dp(a){const e=new ri(a.view);return(t,r,s)=>{const c=e.match(r.viewItem);if(!c)return;const d=c.match;if(d.name=!0,!s.consumable.test(r.viewItem,d))return;const g=function(p,k,b){return p instanceof Function?p(k,b):b.writer.createElement(p)}(a.model,r.viewItem,s);g&&s.safeInsert(g,r.modelCursor)&&(s.consumable.consume(r.viewItem,d),s.convertChildren(r.viewItem,g),s.updateConversionResult(g,r))}}function Av(a,e=null){const t=e===null||(c=>c.getAttribute(e)),r=typeof a.model!="object"?a.model:a.model.key,s=typeof a.model!="object"||a.model.value===void 0?t:a.model.value;a.model={key:r,value:s}}function yv(a,e){const t=new ri(a.view);return(r,s,c)=>{if(!s.modelRange&&e)return;const d=t.match(s.viewItem);if(!d||(function(b,A){const C=typeof b=="function"?b(A):b;return typeof C=="object"&&!Ep(C)?!1:!C.classes&&!C.attributes&&!C.styles}(a.view,s.viewItem)?d.match.name=!0:delete d.match.name,!c.consumable.test(s.viewItem,d.match)))return;const g=a.model.key,p=typeof a.model.value=="function"?a.model.value(s.viewItem,c):a.model.value;if(p===null)return;s.modelRange||Object.assign(s,c.convertChildren(s.viewItem,s.modelCursor)),function(b,A,C,E){let M=!1;for(const O of Array.from(b.getItems({shallow:C})))E.schema.checkAttribute(O,A.key)&&(M=!0,O.hasAttribute(A.key)||E.writer.setAttribute(A.key,A.value,O));return M}(s.modelRange,{key:g,value:p},e,c)&&(c.consumable.test(s.viewItem,{name:!0})&&(d.match.name=!0),c.consumable.consume(s.viewItem,d.match))}}function Cv(a,e){return{view:`${a.view}-${e}`,model:(t,r)=>{const s=t.getAttribute("name"),c=a.model(s,r);return r.writer.createElement("$marker",{"data-name":c})}}}function S4(a){a.document.registerPostFixer(e=>function(t,r){const s=r.document.selection,c=r.schema,d=[];let g=!1;for(const p of s.getRanges()){const k=xv(p,c);k&&!k.isEqual(p)?(d.push(k),g=!0):d.push(p)}return g&&t.setSelection(function(p){const k=[...p],b=new Set;let A=1;for(;A<k.length;){const C=k[A],E=k.slice(0,A);for(const[M,O]of E.entries())if(!b.has(M)){if(C.isEqual(O))b.add(M);else if(C.isIntersecting(O)){b.add(M),b.add(A);const z=C.getJoined(O);k.push(z)}}A++}return k.filter((C,E)=>!b.has(E))}(d),{backward:s.isBackward}),!1}(e,a))}function xv(a,e){return a.isCollapsed?function(t,r){const s=t.start,c=r.getNearestSelectionRange(s);if(!c){const g=s.getAncestors().reverse().find(p=>r.isObject(p));return g?Q._createOn(g):null}if(!c.isCollapsed)return c;const d=c.start;return s.isEqual(d)?null:new Q(d)}(a,e):function(t,r){const{start:s,end:c}=t,d=r.checkChild(s,"$text"),g=r.checkChild(c,"$text"),p=r.getLimitElement(s),k=r.getLimitElement(c);if(p===k){if(d&&g)return null;if(function(C,E,M){const O=C.nodeAfter&&!M.isLimit(C.nodeAfter)||M.checkChild(C,"$text"),z=E.nodeBefore&&!M.isLimit(E.nodeBefore)||M.checkChild(E,"$text");return O||z}(s,c,r)){const C=s.nodeAfter&&r.isSelectable(s.nodeAfter)?null:r.getNearestSelectionRange(s,"forward"),E=c.nodeBefore&&r.isSelectable(c.nodeBefore)?null:r.getNearestSelectionRange(c,"backward"),M=C?C.start:s,O=E?E.end:c;return new Q(M,O)}}const b=p&&!p.is("rootElement"),A=k&&!k.is("rootElement");if(b||A){const C=s.nodeAfter&&c.nodeBefore&&s.nodeAfter.parent===c.nodeBefore.parent,E=b&&(!C||!Dv(s.nodeAfter,r)),M=A&&(!C||!Dv(c.nodeBefore,r));let O=s,z=c;return E&&(O=oe._createBefore(Ev(p,r))),M&&(z=oe._createAfter(Ev(k,r))),new Q(O,z)}return null}(a,e)}function Ev(a,e){let t=a,r=t;for(;e.isLimit(r)&&r.parent;)t=r,r=r.parent;return t}function Dv(a,e){return a&&e.isSelectable(a)}class T4 extends Ye(){constructor(e,t){super(),this.model=e,this.view=new p4(t),this.mapper=new rv,this.downcastDispatcher=new ov({mapper:this.mapper,schema:e.schema});const r=this.model.document,s=r.selection,c=this.model.markers;var d,g,p;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(k=>{this.downcastDispatcher.convertChanges(r.differ,c,k),this.downcastDispatcher.convertSelection(s,c,k)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(k,b){return(A,C)=>{const E=C.newSelection,M=[];for(const z of E.getRanges())M.push(b.toModelRange(z));const O=k.createSelection(M,{backward:E.isBackward});O.isEqual(k.document.selection)||k.change(z=>{z.setSelection(O)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(d=this.mapper,g=this.model.schema,p=this.view,(k,b)=>{if(!p.document.isComposing||f.isAndroid)for(let A=0;A<b.targetRanges.length;A++){const C=b.targetRanges[A],E=d.toModelRange(C),M=xv(E,g);M&&!M.isEqual(E)&&(b.targetRanges[A]=d.toViewRange(M))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(k,b,A)=>{if(!A.consumable.consume(b.item,k.name))return;const C=A.writer,E=A.mapper.toViewPosition(b.range.start),M=C.createText(b.item.data);C.insert(E,M)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(k,b,A)=>{A.convertAttributes(b.item),b.reconversion||!b.item.is("element")||b.item.isEmpty||A.convertChildren(b.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(k,b,A)=>{const C=A.mapper.toViewPosition(b.position),E=b.position.getShiftedBy(b.length),M=A.mapper.toViewPosition(E,{isPhantom:!0}),O=A.writer.createRange(C,M),z=A.writer.remove(O.getTrimmed());for(const V of A.writer.createRangeIn(z).getItems())A.mapper.unbindViewElement(V,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(k,b,A)=>{const C=A.writer,E=C.document.selection;for(const M of E.getRanges())M.isCollapsed&&M.end.parent.isAttached()&&A.writer.mergeAttributes(M.start);C.setSelection(null)}),this.downcastDispatcher.on("selection",(k,b,A)=>{const C=b.selection;if(C.isCollapsed||!A.consumable.consume(C,"selection"))return;const E=[];for(const M of C.getRanges())E.push(A.mapper.toViewRange(M));A.writer.setSelection(E,{backward:C.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(k,b,A)=>{const C=b.selection;if(!C.isCollapsed||!A.consumable.consume(C,"selection"))return;const E=A.writer,M=C.getFirstPosition(),O=A.mapper.toViewPosition(M),z=E.breakAttributes(O);E.setSelection(z)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(k=>{if(k.rootName=="$graveyard")return null;const b=new Ew(this.view.document,k.name);return b.rootName=k.rootName,this.mapper.bindElements(k,b),b})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,r=this.model.markers.get(t);if(!r)throw new D("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class el{constructor(){this._consumables=new Map}add(e,t){let r;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?r=this._consumables.get(e):(r=new I4(e),this._consumables.set(e,r)),r.add(t))}test(e,t){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const d of r)d!="style"&&d!="class"&&t.attributes.push(d);const s=e.getClassNames();for(const d of s)t.classes.push(d);const c=e.getStyleNames();for(const d of c)t.styles.push(d);return t}static createFrom(e,t){if(t||(t=new el),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,el.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const r of e.getChildren())t=el.createFrom(r,t);return t}}const Mu=["attributes","classes","styles"];class I4{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Mu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Mu)if(t in e){const r=this._test(t,e[t]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Mu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Mu)t in e&&this._revert(t,e[t])}_add(e,t){const r=Kt(t)?t:[t],s=this._consumables[e];for(const c of r){if(e==="attributes"&&(c==="class"||c==="style"))throw new D("viewconsumable-invalid-attribute",this);if(s.set(c,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!0)}}_test(e,t){const r=Kt(t)?t:[t],s=this._consumables[e];for(const c of r)if(e!=="attributes"||c!=="class"&&c!=="style"){const d=s.get(c);if(d===void 0)return null;if(!d)return!1}else{const d=c=="class"?"classes":"styles",g=this._test(d,[...this._consumables[d].keys()]);if(g!==!0)return g}return!0}_consume(e,t){const r=Kt(t)?t:[t],s=this._consumables[e];for(const c of r)if(e!=="attributes"||c!=="class"&&c!=="style"){if(s.set(c,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!1)}else{const d=c=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}}_revert(e,t){const r=Kt(t)?t:[t],s=this._consumables[e];for(const c of r)if(e!=="attributes"||c!=="class"&&c!=="style")s.get(c)===!1&&s.set(c,!0);else{const d=c=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}}}class M4 extends Ye(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new ns(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new ns(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new D("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new D("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const r=this.getDefinition(e.last);return!!r&&r.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof oe){const r=e.nodeBefore,s=e.nodeAfter;if(!(r instanceof Xe))throw new D("schema-check-merge-no-element-before",this);if(!(s instanceof Xe))throw new D("schema-check-merge-no-element-after",this);return this.checkMerge(r,s)}for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[r,s])=>{if(!s)return;const c=e(r,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[r,s])=>{const c=e(r,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof oe?t=e.parent:t=(e instanceof Q?[e]:Array.from(e.getRanges())).reduce((r,s)=>{const c=s.getCommonAncestor();return r?r.getCommonAncestor(c,{includeSelf:!0}):c},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new rt("",e.getAttributes())];return this.checkAttribute(r,t)}{const r=e.getRanges();for(const s of r)for(const c of s)if(this.checkAttribute(c.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(r){for(const s of r)yield*s.getMinimalFlatRanges()}(e);for(const r of e)yield*this._getValidRangesForRange(r,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Q(e);let r,s;const c=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;t!="both"&&t!="backward"||(r=new Gi({boundaries:Q._createIn(c),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(s=new Gi({boundaries:Q._createIn(c),startPosition:e}));for(const d of function*(g,p){let k=!1;for(;!k;){if(k=!0,g){const b=g.next();b.done||(k=!1,yield{walker:g,value:b.value})}if(p){const b=p.next();b.done||(k=!1,yield{walker:p,value:b.value})}}}(r,s)){const g=d.walker==r?"elementEnd":"elementStart",p=d.value;if(p.type==g&&this.isObject(p.item))return Q._createOn(p.item);if(this.checkChild(p.nextPosition,"$text"))return new Q(p.nextPosition)}return null}findAllowedParent(e,t){let r=e.parent;for(;r;){if(this.checkChild(r,t))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,t,r){const s=r.model;for(const[c,d]of Object.entries(t))s.schema.checkAttribute(e,c)&&r.setAttribute(c,d,e)}removeDisallowedAttributes(e,t){for(const r of e)if(r.is("$text"))Sv(this,r,t);else{const s=Q._createIn(r).getPositions();for(const c of s)Sv(this,c.nodeBefore||c.parent,t)}}getAttributesWithProperty(e,t,r){const s={};for(const[c,d]of e.getAttributes()){const g=this.getAttributeProperties(c);g[t]!==void 0&&(r!==void 0&&r!==g[t]||(s[c]=d))}return s}createContext(e){return new ns(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,r=Object.keys(t);for(const s of r)e[s]=N4(t[s],s);for(const s of r)O4(e,s);for(const s of r)B4(e,s);for(const s of r)P4(e,s);for(const s of r)L4(e,s),z4(e,s);for(const s of r)j4(e,s),R4(e,s),F4(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,r=t.length-1){const s=t.getItem(r);if(e.allowIn.includes(s.name)){if(r==0)return!0;{const c=this.getDefinition(s);return this._checkContextMatch(c,t,r-1)}}return!1}*_getValidRangesForRange(e,t){let r=e.start,s=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(Q._createIn(c),t)),this.checkAttribute(c,t)||(r.isEqual(s)||(yield new Q(r,s)),r=oe._createAfter(c)),s=oe._createAfter(c);r.isEqual(s)||(yield new Q(r,s))}}class ns{constructor(e){if(e instanceof ns)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(U4)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ns([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function N4(a,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(r,s){for(const c of r){const d=Object.keys(c).filter(g=>g.startsWith("is"));for(const g of d)s[g]=!!c[g]}}(a,t),is(a,t,"allowIn"),is(a,t,"allowContentOf"),is(a,t,"allowWhere"),is(a,t,"allowAttributes"),is(a,t,"allowAttributesOf"),is(a,t,"allowChildren"),is(a,t,"inheritTypesFrom"),function(r,s){for(const c of r){const d=c.inheritAllFrom;d&&(s.allowContentOf.push(d),s.allowWhere.push(d),s.allowAttributesOf.push(d),s.inheritTypesFrom.push(d))}}(a,t),t}function O4(a,e){const t=a[e];for(const r of t.allowChildren){const s=a[r];s&&s.allowIn.push(e)}t.allowChildren.length=0}function B4(a,e){for(const t of a[e].allowContentOf)a[t]&&V4(a,t).forEach(r=>{r.allowIn.push(e)});delete a[e].allowContentOf}function P4(a,e){for(const t of a[e].allowWhere){const r=a[t];if(r){const s=r.allowIn;a[e].allowIn.push(...s)}}delete a[e].allowWhere}function L4(a,e){for(const t of a[e].allowAttributesOf){const r=a[t];if(r){const s=r.allowAttributes;a[e].allowAttributes.push(...s)}}delete a[e].allowAttributesOf}function z4(a,e){const t=a[e];for(const r of t.inheritTypesFrom){const s=a[r];if(s){const c=Object.keys(s).filter(d=>d.startsWith("is"));for(const d of c)d in t||(t[d]=s[d])}}delete t.inheritTypesFrom}function j4(a,e){const t=a[e],r=t.allowIn.filter(s=>a[s]);t.allowIn=Array.from(new Set(r))}function R4(a,e){const t=a[e];for(const r of t.allowIn)a[r].allowChildren.push(e)}function F4(a,e){const t=a[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function is(a,e,t){for(const r of a){const s=r[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function V4(a,e){const t=a[e];return(r=a,Object.keys(r).map(s=>r[s])).filter(s=>s.allowIn.includes(t.name));var r}function U4(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function Sv(a,e,t){for(const r of e.getAttributeKeys())a.checkAttribute(e,r)||t.removeAttribute(r,e)}class H4 extends H(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,r)=>this._convertItem(t,r),convertChildren:(t,r)=>this._convertChildren(t,r),safeInsert:(t,r)=>this._safeInsert(t,r),updateConversionResult:(t,r)=>this._updateConversionResult(t,r),splitToAllowedParent:(t,r)=>this._splitToAllowedParent(t,r),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(d,g){let p;for(const k of new ns(d)){const b={};for(const C of k.getAttributeKeys())b[C]=k.getAttribute(C);const A=g.createElement(k.name,b);p&&g.insert(A,p),p=oe._createAt(A,0)}return p}(r,t),this.conversionApi.writer=t,this.conversionApi.consumable=el.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),c=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))t.append(d,c);c.markers=function(d,g){const p=new Set,k=new Map,b=Q._createIn(d).getItems();for(const A of b)A.is("element","$marker")&&p.add(A);for(const A of p){const C=A.getAttribute("data-name"),E=g.createPositionBefore(A);k.has(C)?k.get(C).end=E.clone():k.set(C,new Q(E.clone())),g.remove(A)}return k}(c,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,t){const r={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof Q))throw new D("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,t){let r=t.is("position")?t:oe._createAt(t,0);const s=new Q(r);for(const c of Array.from(e.getChildren())){const d=this._convertItem(c,r);d.modelRange instanceof Q&&(s.end=d.modelRange.end,r=d.modelCursor)}return{modelRange:s,modelCursor:r}}_safeInsert(e,t){const r=this._splitToAllowedParent(e,t);return!!r&&(this.conversionApi.writer.insert(e,r.position),!0)}_updateConversionResult(e,t){const r=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(r[r.length-1])));const c=this._cursorParents.get(e);t.modelCursor=c?s.createPositionAt(c,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:r,writer:s}=this.conversionApi;let c=r.findAllowedParent(t,e);if(c){if(c===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return wv(t,e,r)?{position:vv(t,s)}:null;const d=this.conversionApi.writer.split(t,c),g=[];for(const k of d.range.getWalker())if(k.type=="elementEnd")g.push(k.item);else{const b=g.pop(),A=k.item;this._registerSplitPair(b,A)}const p=d.range.end.parent;return this._cursorParents.set(e,p),{position:d.position,cursorParent:p}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(t,r),r.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class $4{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class W4{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new xu(e,{renderingMode:"data"}),this.htmlWriter=new $4}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),r=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);return r}}class q4 extends H(){constructor(e,t){super(),this.model=e,this.mapper=new rv,this.downcastDispatcher=new ov({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(r,s,c)=>{if(!c.consumable.consume(s.item,r.name))return;const d=c.writer,g=c.mapper.toViewPosition(s.range.start),p=d.createText(s.item.data);d.insert(g,p)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(r,s,c)=>{c.convertAttributes(s.item),s.reconversion||!s.item.is("element")||s.item.isEmpty||c.convertChildren(s.item)},{priority:"lowest"}),this.upcastDispatcher=new H4({schema:e.schema}),this.viewDocument=new Au(t),this.stylesProcessor=t,this.htmlProcessor=new W4(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Sw(this.viewDocument),this.upcastDispatcher.on("text",(r,s,{schema:c,consumable:d,writer:g})=>{let p=s.modelCursor;if(!d.test(s.viewItem))return;if(!c.checkChild(p,"$text")){if(!wv(p,"$text",c)||s.viewItem.data.trim().length==0)return;const b=p.nodeBefore;p=vv(p,g),b&&b.is("element","$marker")&&(g.move(g.createRangeOn(b),p),p=g.createPositionAfter(b))}d.consume(s.viewItem);const k=g.createText(s.viewItem.data);g.insert(k,p),s.modelRange=g.createRange(p,p.getShiftedBy(k.offsetSize)),s.modelCursor=s.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(r,s,c)=>{if(!s.modelRange&&c.consumable.consume(s.viewItem,{name:!0})){const{modelRange:d,modelCursor:g}=c.convertChildren(s.viewItem,s.modelCursor);s.modelRange=d,s.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(r,s,c)=>{if(!s.modelRange&&c.consumable.consume(s.viewItem,{name:!0})){const{modelRange:d,modelCursor:g}=c.convertChildren(s.viewItem,s.modelCursor);s.modelRange=d,s.modelCursor=g}},{priority:"lowest"}),Ye().prototype.decorate.call(this,"init"),Ye().prototype.decorate.call(this,"set"),Ye().prototype.decorate.call(this,"get"),Ye().prototype.decorate.call(this,"toView"),Ye().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},bv)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([t]))throw new D("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||W("datacontroller-get-detached-root",this),r!=="empty"||this.model.hasContent(s,{ignoreWhitespaces:!0})?this.stringify(s,e):""}stringify(e,t={}){const r=this.toView(e,t);return this.processor.toData(r)}toView(e,t={}){const r=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const c=Q._createIn(e),d=new Jo(r);this.mapper.bindElements(e,d);const g=e.is("documentFragment")?e.markers:function(p){const k=[],b=p.root.document;if(!b)return new Map;const A=Q._createIn(p);for(const C of b.model.markers){const E=C.getRange(),M=E.isCollapsed,O=E.start.isEqual(A.start)||E.end.isEqual(A.end);if(M&&O)k.push([C.name,E]);else{const z=A.getIntersection(E);z&&k.push([C.name,z])}}return k.sort(([C,E],[M,O])=>{if(E.end.compareWith(O.start)!=="after")return 1;if(E.start.compareWith(O.end)!=="before")return-1;switch(E.start.compareWith(O.start)){case"before":return 1;case"after":return-1;default:switch(E.end.compareWith(O.end)){case"before":return 1;case"after":return-1;default:return M.localeCompare(C)}}}),new Map(k)}(e);return this.downcastDispatcher.convert(c,g,s,t),d}init(e){if(this.model.document.version)throw new D("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new D("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const s of Object.keys(t)){const c=this.model.document.getRoot(s);r.insert(this.parse(t[s],c),c,0)}}),Promise.resolve()}set(e,t={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new D("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(r)){const d=this.model.document.getRoot(c);s.remove(s.createRangeIn(d)),s.insert(this.parse(r[c],d),d,0)}})}parse(e,t="$root"){const r=this.processor.toView(e);return this.toModel(r,t)}toModel(e,t="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class G4{constructor(e,t){this._helpers=new Map,this._downcast=Ut(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ut(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const r=this._downcast.includes(t);if(!this._upcast.includes(t)&&!r)throw new D("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new D("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:r}of Sp(e))this.for("upcast").elementToElement({model:t,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:r}of Sp(e))this.for("upcast").elementToAttribute({view:r,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:r}of Sp(e))this.for("upcast").attributeToAttribute({view:r,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:r}){if(this._helpers.has(e))throw new D("conversion-group-exists",this);const s=r?new C4(t):new D4(t);this._helpers.set(e,s)}}function*Sp(a){if(a.model.values)for(const e of a.model.values){const t={key:a.model.key,value:e},r=a.view[e],s=a.upcastAlso?a.upcastAlso[e]:void 0;yield*Tv(t,r,s)}else yield*Tv(a.model,a.view,a.upcastAlso)}function*Tv(a,e,t){if(yield{model:a,view:e},t)for(const r of Ut(t))yield{model:a,view:r}}class Wn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Tp(a,e){const t=Mv(e),r=t.reduce((d,g)=>d+g.offsetSize,0),s=a.parent;il(a);const c=a.index;return s._insertChild(c,t),nl(s,c+t.length),nl(s,c),new Q(a,a.getShiftedBy(r))}function Iv(a){if(!a.isFlat)throw new D("operation-utils-remove-range-not-flat",this);const e=a.start.parent;il(a.start),il(a.end);const t=e._removeChildren(a.start.index,a.end.index-a.start.index);return nl(e,a.start.index),t}function tl(a,e){if(!a.isFlat)throw new D("operation-utils-move-range-not-flat",this);const t=Iv(a);return Tp(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),t)}function Mv(a){const e=[];(function t(r){if(typeof r=="string")e.push(new rt(r));else if(r instanceof Ai)e.push(new rt(r.data,r.getAttributes()));else if(r instanceof es)e.push(r);else if(fn(r))for(const s of r)t(s)})(a);for(let t=1;t<e.length;t++){const r=e[t],s=e[t-1];r instanceof rt&&s instanceof rt&&Nv(r,s)&&(e.splice(t-1,2,new rt(s.data+r.data,s.getAttributes())),t--)}return e}function nl(a,e){const t=a.getChild(e-1),r=a.getChild(e);if(t&&r&&t.is("$text")&&r.is("$text")&&Nv(t,r)){const s=new rt(t.data+r.data,t.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,s)}}function il(a){const e=a.textNode,t=a.parent;if(e){const r=a.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const c=new rt(e.data.substr(0,r),e.getAttributes()),d=new rt(e.data.substr(r),e.getAttributes());t._insertChild(s,[c,d])}}function Nv(a,e){const t=a.getAttributes(),r=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;r.next()}return r.next().done}class We extends Wn{constructor(e,t,r,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Q._createFromPositionAndShift(this.sourcePosition,this.howMany),Q._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new We(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new We(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,r=this.sourcePosition.offset,s=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new D("move-operation-nodes-do-not-exist",this);if(e===t&&r<s&&s<r+this.howMany)throw new D("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&jt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=r&&this.targetPosition.path[c]<r+this.howMany)throw new D("move-operation-node-into-itself",this)}}_execute(){tl(Q._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const r=oe.fromJSON(e.sourcePosition,t),s=oe.fromJSON(e.targetPosition,t);return new this(r,e.howMany,s,e.baseVersion)}}class $t extends Wn{constructor(e,t,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Zc(Mv(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Zc([...this.nodes].map(r=>r._clone(!0))),t=new $t(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new oe(e,[0]);return new We(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new D("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Zc([...e].map(t=>t._clone(!0))),Tp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const r=[];for(const c of e.nodes)c.name?r.push(Xe.fromJSON(c)):r.push(rt.fromJSON(c));const s=new $t(oe.fromJSON(e.position,t),r,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class ot extends Wn{constructor(e,t,r,s,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=r,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new oe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Q(this.splitPosition,e)}get affectedSelectable(){const e=[Q._createFromPositionAndShift(this.splitPosition,0),Q._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Q._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new ot(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new oe(e,[0]);return new wt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new D("split-operation-position-invalid",this);if(!e.parent)throw new D("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new D("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new D("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)tl(Q._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Tp(this.insertionPosition,t)}tl(new Q(oe._createAt(e,this.splitPosition.offset),oe._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new oe(e.root,t,"toPrevious")}static fromJSON(e,t){const r=oe.fromJSON(e.splitPosition,t),s=oe.fromJSON(e.insertionPosition,t),c=e.graveyardPosition?oe.fromJSON(e.graveyardPosition,t):null;return new this(r,e.howMany,s,c,e.baseVersion)}}class wt extends Wn{constructor(e,t,r,s,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new oe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Q(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Q._createOn(e),Q._createFromPositionAndShift(this.targetPosition,0),Q._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new wt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),r=new oe(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new ot(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new D("merge-operation-source-position-invalid",this);if(!t.parent)throw new D("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new D("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;tl(Q._createIn(e),this.targetPosition),tl(Q._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const r=oe.fromJSON(e.sourcePosition,t),s=oe.fromJSON(e.targetPosition,t),c=oe.fromJSON(e.graveyardPosition,t);return new this(r,e.howMany,s,c,e.baseVersion)}}class Tn extends Wn{constructor(e,t,r,s,c,d){super(d),this.name=e,this.oldRange=t?t.clone():null,this.newRange=r?r.clone():null,this.affectsData=c,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Tn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Tn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Tn(e.name,e.oldRange?Q.fromJSON(e.oldRange,t):null,e.newRange?Q.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Ov=function(a,e){return Qw(a,e)};class Ct extends Wn{constructor(e,t,r,s,c){super(c),this.range=e.clone(),this.key=t,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ct(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ct(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new D("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Ov(e.getAttribute(this.key),this.oldValue))throw new D("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new D("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Ov(this.oldValue,this.newValue)||function(e,t,r){il(e.start),il(e.end);for(const s of e.getItems({shallow:!0})){const c=s.is("$textProxy")?s.textNode:s;r!==null?c._setAttribute(t,r):c._removeAttribute(t),nl(c.parent,c.index)}nl(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Ct(Q.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Tt extends Wn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Tt(this.baseVersion)}getReversed(){return new Tt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class In extends Wn{constructor(e,t,r,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new In(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new In(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Xe))throw new D("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new D("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new In(oe.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class mr extends Wn{constructor(e,t,r,s,c){super(c),this.root=e,this.key=t,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new mr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new D("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new D("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new D("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new D("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new mr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Yi extends Wn{constructor(e,t,r,s,c){super(c),this.rootName=e,this.elementName=t,this.isAdd=r,this._document=s,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Yi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Yi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Yi(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const oi={};oi[Ct.className]=Ct,oi[$t.className]=$t,oi[Tn.className]=Tn,oi[We.className]=We,oi[Tt.className]=Tt,oi[Wn.className]=Wn,oi[In.className]=In,oi[mr.className]=mr,oi[Yi.className]=Yi,oi[ot.className]=ot,oi[wt.className]=wt;class Y4{static fromJSON(e,t){return oi[e.__className].fromJSON(e,t)}}const Ip=new Map;function Fe(a,e,t){let r=Ip.get(a);r||(r=new Map,Ip.set(a,r)),r.set(e,t)}function K4(a){return[a]}function Bv(a,e,t={}){const r=function(s,c){const d=Ip.get(s);return d&&d.has(c)?d.get(c):K4}(a.constructor,e.constructor);try{return r(a=a.clone(),e,t)}catch(s){throw s}}function Z4(a,e,t){a=a.slice(),e=e.slice();const r=new Q4(t.document,t.useRelations,t.forceWeakRemove);r.setOriginalOperations(a),r.setOriginalOperations(e);const s=r.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:s};const c=new WeakMap;for(const p of a)c.set(p,0);const d={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let g=0;for(;g<a.length;){const p=a[g],k=c.get(p);if(k==e.length){g++;continue}const b=e[k],A=Bv(p,b,r.getContext(p,b,!0)),C=Bv(b,p,r.getContext(b,p,!1));r.updateRelation(p,b),r.setOriginalOperations(A,p),r.setOriginalOperations(C,b);for(const E of A)c.set(E,k+C.length);a.splice(g,1,...A),e.splice(k,1,...C)}if(t.padWithNoOps){const p=a.length-d.originalOperationsACount,k=e.length-d.originalOperationsBCount;Lv(a,k-p),Lv(e,p-k)}return Pv(a,d.nextBaseVersionB),Pv(e,d.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:s}}class Q4{constructor(e,t,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,t=null){const r=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,r||s)}updateRelation(e,t){if(e instanceof We)t instanceof wt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof We&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof ot){if(t instanceof wt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof We)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const r=Q._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const s=r.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-r.start.offset;this._setRelation(e,t,{howMany:s,offset:c})}}}else if(e instanceof wt)t instanceof wt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof ot&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Tn){const r=e.newRange;if(!r)return;if(t instanceof We){const s=Q._createFromPositionAndShift(t.sourcePosition,t.howMany),c=s.containsPosition(r.start)||s.start.isEqual(r.start),d=s.containsPosition(r.end)||s.end.isEqual(r.end);!c&&!d||s.containsRange(r)||this._setRelation(e,t,{side:c?"left":"right",path:c?r.start.path.slice():r.end.path.slice()})}else if(t instanceof wt){const s=r.start.isEqual(t.targetPosition),c=r.start.isEqual(t.deletionPosition),d=r.end.isEqual(t.deletionPosition),g=r.end.isEqual(t.sourcePosition);(s||c||d||g)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:d,wasInRightElement:g})}}}getContext(e,t,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const r=this.originalOperations.get(t),s=this._history.getUndoneOperation(r);if(!s)return null;const c=this.originalOperations.get(e),d=this._relations.get(c);return d&&d.get(s)||null}_setRelation(e,t,r){const s=this.originalOperations.get(e),c=this.originalOperations.get(t);let d=this._relations.get(s);d||(d=new Map,this._relations.set(s,d)),d.set(c,r)}}function Pv(a,e){for(const t of a)t.baseVersion=e++}function Lv(a,e){for(let t=0;t<e;t++)a.push(new Tt(0))}function zv(a,e,t){const r=a.nodes.getNode(0).getAttribute(e);if(r==t)return null;const s=new Q(a.position,a.position.getShiftedBy(a.howMany));return new Ct(s,e,r,t,0)}function jv(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function ra(a,e){const t=[];for(let r=0;r<a.length;r++){const s=a[r],c=new We(s.start,s.end.offset-s.start.offset,e,0);t.push(c);for(let d=r+1;d<a.length;d++)a[d]=a[d]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return t}Fe(Ct,Ct,(a,e,t)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const r=a.range.getDifference(e.range).map(c=>new Ct(c,a.key,a.oldValue,a.newValue,0)),s=a.range.getIntersection(e.range);return s&&t.aIsStrong&&r.push(new Ct(s,e.key,e.newValue,a.newValue,0)),r.length==0?[new Tt(0)]:r}return[a]}),Fe(Ct,$t,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const t=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new Ct(r,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const r=zv(e,a.key,a.oldValue);r&&t.unshift(r)}return t}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),Fe(Ct,wt,(a,e)=>{const t=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&t.push(Q._createFromPositionAndShift(e.graveyardPosition,1));const r=a.range._getTransformedByMergeOperation(e);return r.isCollapsed||t.push(r),t.map(s=>new Ct(s,a.key,a.oldValue,a.newValue,a.baseVersion))}),Fe(Ct,We,(a,e)=>function(r,s){const c=Q._createFromPositionAndShift(s.sourcePosition,s.howMany);let d=null,g=[];c.containsRange(r,!0)?d=r:r.start.hasSameParentAs(c.start)?(g=r.getDifference(c),d=r.getIntersection(c)):g=[r];const p=[];for(let k of g){k=k._getTransformedByDeletion(s.sourcePosition,s.howMany);const b=s.getMovedRangeStart(),A=k.start.hasSameParentAs(b),C=k._getTransformedByInsertion(b,s.howMany,A);p.push(...C)}return d&&p.push(d._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany,!1)[0]),p}(a.range,e).map(r=>new Ct(r,a.key,a.oldValue,a.newValue,a.baseVersion))),Fe(Ct,ot,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const t=a.clone();return t.range=new Q(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,t]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),Fe($t,Ct,(a,e)=>{const t=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const r=zv(a,e.key,e.newValue);r&&t.push(r)}return t}),Fe($t,$t,(a,e,t)=>(a.position.isEqual(e.position)&&t.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),Fe($t,We,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Fe($t,ot,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),Fe($t,wt,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),Fe(Tn,$t,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),Fe(Tn,Tn,(a,e,t)=>{if(a.name==e.name){if(!t.aIsStrong)return[new Tt(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),Fe(Tn,wt,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),Fe(Tn,We,(a,e,t)=>{if(a.oldRange&&(a.oldRange=Q._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(t.abRelation){const r=Q._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=r.end,a.newRange.start.path=t.abRelation.path,[a];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=r.start,a.newRange.end.path=t.abRelation.path,[a]}a.newRange=Q._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),Fe(Tn,ot,(a,e,t)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(t.abRelation){const r=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?a.newRange.start=oe._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(a.newRange.start=oe._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?a.newRange.end=oe._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?a.newRange.end=oe._createAt(e.insertionPosition):a.newRange.end=r.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),Fe(wt,$t,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),Fe(wt,wt,(a,e,t)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),a.sourcePosition=new oe(e.graveyardPosition.root,r),a.howMany=0,[a]}return[new Tt(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const r=a.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&t.aIsStrong){const c=e.targetPosition._getTransformedByMergeOperation(e),d=a.targetPosition._getTransformedByMergeOperation(e);return[new We(c,a.howMany,d,0)]}return[new Tt(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Fe(wt,We,(a,e,t)=>{const r=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.sourcePosition)?[new Tt(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),Fe(wt,ot,(a,e,t)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,s=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(r||s||t.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(t.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),Fe(We,$t,(a,e)=>{const t=Q._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=t.start,a.howMany=t.end.offset-t.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),Fe(We,We,(a,e,t)=>{const r=Q._createFromPositionAndShift(a.sourcePosition,a.howMany),s=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);let c,d=t.aIsStrong,g=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?g=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(g=!1),c=a.targetPosition.isEqual(e.targetPosition)&&g?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jv(a,e)&&jv(e,a))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(s,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ra([r],c);if(s.containsPosition(a.targetPosition)&&s.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ra([r],c);const p=jt(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(p=="prefix"||p=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ra([r],c);a.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?a.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(d=!1):d=!0;const k=[],b=r.getDifference(s);for(const C of b){C.start=C.start._getTransformedByDeletion(e.sourcePosition,e.howMany),C.end=C.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const E=jt(C.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",M=C._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,E);k.push(...M)}const A=r.getIntersection(s);return A!==null&&d&&(A.start=A.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.end=A.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),k.length===0?k.push(A):k.length==1?s.start.isBefore(r.start)||s.start.isEqual(r.start)?k.unshift(A):k.push(A):k.splice(1,0,A)),k.length===0?[new Tt(a.baseVersion)]:ra(k,c)}),Fe(We,ot,(a,e,t)=>{let r=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(r=a.targetPosition._getTransformedBySplitOperation(e));const s=Q._createFromPositionAndShift(a.sourcePosition,a.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=r,[a];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let d=new Q(e.splitPosition,s.end);return d=d._getTransformedBySplitOperation(e),ra([new Q(s.start,e.splitPosition),d],r)}a.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(r=a.targetPosition);const c=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const d=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);a.howMany>1&&d&&!t.aWasUndone&&c.push(Q._createFromPositionAndShift(e.insertionPosition,1))}return ra(c,r)}),Fe(We,wt,(a,e,t)=>{const r=Q._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(a.type!="remove"||t.forceWeakRemove){if(a.howMany==1)return t.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Tt(0)]}else if(!t.aWasUndone){const c=[];let d=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(c.push(new We(a.sourcePosition,a.howMany-1,a.targetPosition,0)),d=d._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),g=g._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const p=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),k=new We(d,1,p,0),b=k.getMovedRangeStart().path.slice();b.push(0);const A=new oe(k.targetPosition.root,b);g=g._getTransformedByMove(d,p,1);const C=new We(g,e.howMany,A,0);return c.push(k),c.push(C),c}}const s=Q._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=s.start,a.howMany=s.end.offset-s.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),Fe(In,$t,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),Fe(In,wt,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),Fe(In,We,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),Fe(In,In,(a,e,t)=>{if(a.position.isEqual(e.position)){if(!t.aIsStrong)return[new Tt(0)];a.oldName=e.newName}return[a]}),Fe(In,ot,(a,e)=>{if(jt(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new In(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,t]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),Fe(mr,mr,(a,e,t)=>{if(a.root===e.root&&a.key===e.key){if(!t.aIsStrong||a.newValue===e.newValue)return[new Tt(0)];a.oldValue=e.newValue}return[a]}),Fe(Yi,Yi,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new Tt(0)]:[a]),Fe(ot,$t,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),Fe(ot,wt,(a,e,t)=>{if(!a.graveyardPosition&&!t.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const s=new oe(e.graveyardPosition.root,r),c=ot.getInsertionPosition(new oe(e.graveyardPosition.root,r)),d=new ot(s,0,c,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ot.getInsertionPosition(a.splitPosition),a.graveyardPosition=d.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[d,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ot.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),Fe(ot,We,(a,e,t)=>{const r=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const c=r.start.isEqual(a.graveyardPosition)||r.containsPosition(a.graveyardPosition);if(!t.bWasUndone&&c){const d=a.splitPosition._getTransformedByMoveOperation(e),g=a.graveyardPosition._getTransformedByMoveOperation(e),p=g.path.slice();p.push(0);const k=new oe(g.root,p);return[new We(d,a.howMany,k,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const s=a.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=ot.getInsertionPosition(a.splitPosition),[a];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:c,offset:d}=t.abRelation;return a.howMany+=c,a.splitPosition=a.splitPosition.getShiftedBy(d),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.splitPosition)){const c=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=c,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=ot.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=ot.getInsertionPosition(a.splitPosition),[a]}),Fe(ot,ot,(a,e,t)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Tt(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Tt(0)];if(t.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const r=a.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&t.aIsStrong){const c=[];return e.howMany&&c.push(new We(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&c.push(new We(a.splitPosition,a.howMany,a.moveTargetPosition,0)),c}return[new Tt(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&t.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const s=new oe(e.insertionPosition.root,r);return[a,new We(a.insertionPosition,1,s,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=ot.getInsertionPosition(a.splitPosition),[a]});class It extends H(oe){constructor(e,t,r="toNone"){if(super(e,t,r),!this.root.is("rootElement"))throw new D("model-liveposition-root-not-rootelement",e);J4.call(this)}detach(){this.stopListening()}toPosition(){return new oe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function J4(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&X4.call(this,t)},{priority:"low"})}function X4(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}It.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class oa{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},W("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:r=!0,isUndo:s=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=r,this.isUndo=s,this.isTyping=c}get type(){return W("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class eI{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const r of t.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const r=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);r||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const r=Q._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(r)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}break}case"split":{const r=t.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const r=t.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const c=t.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,t.targetPosition.offset,r.maxOffset);break}case"detachRoot":case"addRoot":{const r=t.affectedSelectable;if(!r._isLoaded||r.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const r=t.root.rootName;this._bufferRootAttributeChange(r,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,r){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=r:(s={newMarkerData:r,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:t,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:t,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const r=e.range&&!t.range,s=!e.range&&t.range,c=e.range&&t.range&&!e.range.isEqual(t.range);if(r||s||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const r of this._changesInElement.keys()){const s=this._changesInElement.get(r).sort((b,A)=>b.offset===A.offset?b.type!=A.type?b.type=="remove"?-1:1:0:b.offset<A.offset?-1:1),c=this._elementSnapshots.get(r),d=Rv(r.getChildren()),g=tI(c.length,s);let p=0,k=0;for(const b of g)if(b==="i")t.push(this._getInsertDiff(r,p,d[p])),p++;else if(b==="r")t.push(this._getRemoveDiff(r,p,c[k])),k++;else if(b==="a"){const A=d[p].attributes,C=c[k].attributes;let E;if(d[p].name=="$text")E=new Q(oe._createAt(r,p),oe._createAt(r,p+1));else{const M=r.offsetToIndex(p);E=new Q(oe._createAt(r,p),oe._createAt(r.getChild(M),0))}t.push(...this._getAttributesDiff(E,C,A)),p++,k++}else p++,k++}t.sort((r,s)=>r.position.root!=s.position.root?r.position.root.rootName<s.position.root.rootName?-1:1:r.position.isEqual(s.position)?r.changeCount-s.changeCount:r.position.isBefore(s.position)?-1:1);for(let r=1,s=0;r<t.length;r++){const c=t[s],d=t[r],g=c.type=="remove"&&d.type=="remove"&&c.name=="$text"&&d.name=="$text"&&c.position.isEqual(d.position),p=c.type=="insert"&&d.type=="insert"&&c.name=="$text"&&d.name=="$text"&&c.position.parent==d.position.parent&&c.position.offset+c.length==d.position.offset,k=c.type=="attribute"&&d.type=="attribute"&&c.position.parent==d.position.parent&&c.range.isFlat&&d.range.isFlat&&c.position.offset+c.length==d.position.offset&&c.attributeKey==d.attributeKey&&c.attributeOldValue==d.attributeOldValue&&c.attributeNewValue==d.attributeNewValue;g||p||k?(c.length++,k&&(c.range.end=c.range.end.getShiftedBy(1)),t[r]=null):s=r}t=t.filter(r=>r);for(const r of t)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(nI),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,r,s){const c=this._changedRoots.get(e)||{name:e},d=c.attributes||{};if(d[t]){const g=d[t];s===g.oldValue?delete d[t]:g.newValue=s}else d[t]={oldValue:r,newValue:s};Object.entries(d).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=d,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Q._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(t)){const s=r.getData();this.bufferMarkerChange(r.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const r=t.getData();this.bufferMarkerChange(t.name,{...r,range:null},r)}}}_markInsert(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const r=this._getChangesForElement(e);this._handleChange(t,r),r.push(t);for(let s=0;s<r.length;s++)r[s].howMany<1&&(r.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Rv(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const r of t){const s=e.offset+e.howMany,c=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<c&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<c){const d=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:s,howMany:d-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(s<=r.offset)r.offset-=e.howMany;else if(s<=c)if(e.offset<r.offset){const d=s-r.offset;r.offset=e.offset,r.howMany-=d,e.nodesToHandle-=d}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<c){const d=c-e.offset;r.howMany-=d,e.nodesToHandle-=d}}if(r.type=="remove"&&(s<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(s<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const d=s-r.offset;r.offset=e.offset,r.howMany-=d}else if(e.offset<c)if(s<=c){const d=r.howMany;r.howMany=e.offset-r.offset;const g=d-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:g,count:this._changeCount++})}else r.howMany-=c-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&s>r.offset){if(s>c){const d={type:"attribute",offset:c,howMany:s-c,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<c&&(s>c?(e.nodesToHandle=s-c,e.offset=c):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&s>r.offset){const d={type:"attribute",offset:r.offset,howMany:s-r.offset,count:this._changeCount++};this._handleChange(d,t),t.push(d),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&s<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&s>=c&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,r){return{type:"insert",position:oe._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,r){return{type:"remove",position:oe._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,r){const s=[];r=new Map(r);for(const[c,d]of t){const g=r.has(c)?r.get(c):null;g!==d&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:g,changeCount:this._changeCount++}),r.delete(c)}for(const[c,d]of r)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const r=this._changesInElement.get(t),s=e.startOffset;if(r){for(const c of r)if(c.type=="insert"&&s>=c.offset&&s<c.offset+c.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,r){const s=new Q(oe._createAt(e,t),oe._createAt(e,t+r));for(const c of s.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function Rv(a){const e=[];for(const t of a)if(t.is("$text"))for(let r=0;r<t.data.length;r++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function tI(a,e){const t=[];let r=0,s=0;for(const c of e){if(c.offset>r){for(let d=0;d<c.offset-r;d++)t.push("e");s+=c.offset-r}if(c.type=="insert"){for(let d=0;d<c.howMany;d++)t.push("i");r=c.offset+c.howMany}else if(c.type=="remove"){for(let d=0;d<c.howMany;d++)t.push("r");r=c.offset,s+=c.howMany}else t.push(..."a".repeat(c.howMany).split("")),r=c.offset+c.howMany,s+=c.howMany}if(s<a)for(let c=0;c<a-s-r;c++)t.push("e");return t}function nI(a){const e="position"in a&&a.position.root.rootName=="$graveyard",t="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!t}class iI{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new D("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let s=t-1;for(const[g,p]of this._gaps)e>g&&e<p&&(e=p),s>g&&s<p&&(s=g-1);if(s<r.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let d=this._baseVersionToOperationIndex.get(s);return d===void 0&&(d=this._operations.length-1),this._operations.slice(c,d+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Nu extends Xe{constructor(e,t,r="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Nu.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};const Fv="$graveyard";class rI extends H(){constructor(e){super(),this.model=e,this.history=new iI,this.selection=new yi(this),this.roots=new ii({idProperty:"rootName"}),this.differ=new eI(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Fv),this.listenTo(e,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,r)=>{const s=r[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,r,s,c,d)=>{const g={...r.getData(),range:c};this.differ.bufferMarkerChange(r.name,d,g),s===null&&r.on("change",(p,k)=>{const b=r.getData();this.differ.bufferMarkerChange(r.name,{...b,range:k},b)})}),this.registerPostFixer(t=>{let r=!1;for(const s of this.roots)s.isAttached()||s.isEmpty||(t.remove(t.createRangeIn(s)),r=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Fv)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new D("model-document-createroot-name-exists",this,{name:t});const r=new Nu(this,e,t);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=gw(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,r=t.schema,s=t.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return Vv(e.start)&&Vv(e.end)}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(this.selection.refresh(),t=r(e),t)break;while(t)}}function Vv(a){const e=a.textNode;if(e){const t=e.data,r=a.offset-e.startOffset;return!Xg(t,r)&&!ep(t,r)}return!0}class oI extends H(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof sa?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,r=!1,s=!1){const c=e instanceof sa?e.name:e;if(c.includes(","))throw new D("markercollection-incorrect-marker-name",this);const d=this._markers.get(c);if(d){const k=d.getData(),b=d.getRange();let A=!1;return b.isEqual(t)||(d._attachLiveRange(Sn.fromRange(t)),A=!0),r!=d.managedUsingOperations&&(d._managedUsingOperations=r,A=!0),typeof s=="boolean"&&s!=d.affectsData&&(d._affectsData=s,A=!0),A&&this.fire(`update:${c}`,d,b,t,k),d}const g=Sn.fromRange(t),p=new sa(c,g,r,s);return this._markers.set(c,p),this.fire(`update:${c}`,p,null,t,{...p.getData(),range:null}),p}_remove(e){const t=e instanceof sa?e.name:e,r=this._markers.get(t);return!!r&&(this._markers.delete(t),this.fire(`update:${t}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0)}_refresh(e){const t=e instanceof sa?e.name:e,r=this._markers.get(t);if(!r)throw new D("markercollection-refresh-marker-not-exists",this);const s=r.getRange();this.fire(`update:${t}`,r,s,s,r.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class sa extends H(Qr){constructor(e,t,r,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=r,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new D("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new D("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new D("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new D("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new D("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}sa.prototype.is=function(a){return a==="marker"||a==="model:marker"};class sI extends Wn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new D("detach-operation-on-document-node",this)}_execute(){Iv(Q._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class kr extends Qr{constructor(e){super(),this.markers=new Map,this._children=new Zc,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const r of e)r.name?t.push(Xe.fromJSON(r)):t.push(rt.fromJSON(r));return new kr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=function(s){return typeof s=="string"?[new rt(s)]:(fn(s)||(s=[s]),Array.from(s).map(c=>typeof c=="string"?new rt(c):c instanceof Ai?new rt(c.data,c.getAttributes()):c))}(t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const s of r)s.parent=null;return r}}kr.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class aI{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new rt(e,t)}createElement(e,t){return new Xe(e,t)}createDocumentFragment(){return new kr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,r=0){if(this._assertWriterUsedCorrectly(),e instanceof rt&&e.data=="")return;const s=oe._createAt(t,r);if(e.parent){if($v(e.root,s.root))return void this.move(Q._createOn(e),s);if(e.root.document)throw new D("model-writer-insert-forbidden-move",this);this.remove(e)}const c=s.root.document?s.root.document.version:null,d=new $t(s,e,c);if(e instanceof rt&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof kr)for(const[g,p]of e.markers){const k=oe._createAt(p.root,0),b={range:new Q(p.start._getCombined(k,s),p.end._getCombined(k,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,b):this.addMarker(g,b)}}insertText(e,t,r,s){t instanceof kr||t instanceof Xe||t instanceof oe?this.insert(this.createText(e),t,r):this.insert(this.createText(e,t),r,s)}insertElement(e,t,r,s){t instanceof kr||t instanceof Xe||t instanceof oe?this.insert(this.createElement(e),t,r):this.insert(this.createElement(e,t),r,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,r){t instanceof kr||t instanceof Xe?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),r,"end")}appendElement(e,t,r){t instanceof kr||t instanceof Xe?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),r,"end")}setAttribute(e,t,r){if(this._assertWriterUsedCorrectly(),r instanceof Q){const s=r.getMinimalFlatRanges();for(const c of s)Uv(this,e,t,c)}else Hv(this,e,t,r)}setAttributes(e,t){for(const[r,s]of $i(e))this.setAttribute(r,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Q){const r=t.getMinimalFlatRanges();for(const s of r)Uv(this,e,null,s)}else Hv(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=r=>{for(const s of r.getAttributeKeys())this.removeAttribute(s,r)};if(e instanceof Q)for(const r of e.getItems())t(r);else t(e)}move(e,t,r){if(this._assertWriterUsedCorrectly(),!(e instanceof Q))throw new D("writer-move-invalid-range",this);if(!e.isFlat)throw new D("writer-move-range-not-flat",this);const s=oe._createAt(t,r);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!$v(e.root,s.root))throw new D("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,d=new We(e.start,e.end.offset-e.start.offset,s,c);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Q?e:Q._createOn(e)).getMinimalFlatRanges().reverse();for(const r of t)this._addOperationForAffectedMarkers("move",r),cI(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Xe))throw new D("writer-merge-no-element-before",this);if(!(r instanceof Xe))throw new D("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,r){return this.model.createPositionFromPath(e,t,r)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,r=e.nodeAfter;this.move(Q._createIn(r),oe._createAt(t,"end")),this.remove(r)}_merge(e){const t=oe._createAt(e.nodeBefore,"end"),r=oe._createAt(e.nodeAfter,0),s=e.root.document.graveyard,c=new oe(s,[0]),d=e.root.document.version,g=new wt(r,e.nodeAfter.maxOffset,t,c,d);this.batch.addOperation(g),this.model.applyOperation(g)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Xe))throw new D("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,s=new In(oe._createBefore(e),e.name,t,r);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let r,s,c=e.parent;if(!c.parent)throw new D("writer-split-element-no-parent",this);if(t||(t=c.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new D("writer-split-invalid-limit-element",this);do{const d=c.root.document?c.root.document.version:null,g=c.maxOffset-e.offset,p=ot.getInsertionPosition(e),k=new ot(e,g,p,null,d);this.batch.addOperation(k),this.model.applyOperation(k),r||s||(r=c,s=e.parent.nextSibling),c=(e=this.createPositionAfter(e.parent)).parent}while(c!==t);return{position:e,range:new Q(oe._createAt(r,"end"),oe._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new D("writer-wrap-range-not-flat",this);const r=t instanceof Xe?t:new Xe(t);if(r.childCount>0)throw new D("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new D("writer-wrap-element-attached",this);this.insert(r,e.start);const s=new Q(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,oe._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new D("writer-unwrap-element-no-parent",this);this.move(Q._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new D("writer-addmarker-no-usingoperation",this);const r=t.usingOperation,s=t.range,c=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new D("writer-addmarker-marker-exists",this);if(!s)throw new D("writer-addmarker-no-range",this);return r?(rl(this,e,null,s,c),this.model.markers.get(e)):this.model.markers._set(e,s,r,c)}updateMarker(e,t){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,s=this.model.markers.get(r);if(!s)throw new D("writer-updatemarker-marker-not-exists",this);if(!t)return W("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),void this.model.markers._refresh(s);const c=typeof t.usingOperation=="boolean",d=typeof t.affectsData=="boolean",g=d?t.affectsData:s.affectsData;if(!c&&!t.range&&!d)throw new D("writer-updatemarker-wrong-options",this);const p=s.getRange(),k=t.range?t.range:p;c&&t.usingOperation!==s.managedUsingOperations?t.usingOperation?rl(this,r,null,k,g):(rl(this,r,p,null,g),this.model.markers._set(r,k,void 0,g)):s.managedUsingOperations?rl(this,r,p,k,g):this.model.markers._set(r,k,void 0,g)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new D("writer-removemarker-no-marker",this);const r=this.model.markers.get(t);if(!r.managedUsingOperations)return void this.model.markers._remove(t);rl(this,t,r.getRange(),null,r.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new D("writer-addroot-root-exists",this);const s=this.model.document,c=new Yi(e,t,!0,s,s.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new D("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===t&&this.removeMarker(c);for(const c of t.getAttributeKeys())this.removeAttribute(c,t);this.remove(this.createRangeIn(t));const r=this.model.document,s=new Yi(t.rootName,t.name,!1,r,r.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[r,s]of $i(e))this._setSelectionAttribute(r,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const s=yi._getStoreAttributeKey(e);this.setAttribute(s,t,r.anchor.parent)}r._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const r=yi._getStoreAttributeKey(e);this.removeAttribute(r,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new D("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const s=r.getRange();let c=!1;if(e==="move"){const d=t;c=d.containsPosition(s.start)||d.start.isEqual(s.start)||d.containsPosition(s.end)||d.end.isEqual(s.end)}else{const d=t,g=d.nodeBefore,p=d.nodeAfter,k=s.start.parent==g&&s.start.isAtEnd,b=s.end.parent==p&&s.end.offset==0,A=s.end.nodeAfter==p,C=s.start.nodeAfter==p;c=k||b||A||C}c&&this.updateMarker(r.name,{range:s})}}}function Uv(a,e,t,r){const s=a.model,c=s.document;let d,g,p,k=r.start;for(const A of r.getWalker({shallow:!0}))p=A.item.getAttribute(e),d&&g!=p&&(g!=t&&b(),k=d),d=A.nextPosition,g=p;function b(){const A=new Q(k,d),C=A.root.document?c.version:null,E=new Ct(A,e,g,t,C);a.batch.addOperation(E),s.applyOperation(E)}d instanceof oe&&d!=k&&g!=t&&b()}function Hv(a,e,t,r){const s=a.model,c=s.document,d=r.getAttribute(e);let g,p;if(d!=t){if(r.root===r){const k=r.document?c.version:null;p=new mr(r,e,d,t,k)}else{g=new Q(oe._createBefore(r),a.createPositionAfter(r));const k=g.root.document?c.version:null;p=new Ct(g,e,d,t,k)}a.batch.addOperation(p),s.applyOperation(p)}}function rl(a,e,t,r,s){const c=a.model,d=c.document,g=new Tn(e,t,r,c.markers,!!s,d.version);a.batch.addOperation(g),c.applyOperation(g)}function cI(a,e,t,r){let s;if(a.root.document){const c=r.document,d=new oe(c.graveyard,[0]);s=new We(a,e,d,c.version)}else s=new sI(a,e);t.addOperation(s),r.applyOperation(s)}function $v(a,e){return a===e||a instanceof Nu&&e instanceof Nu}function lI(a,e,t={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const s=a.schema;a.change(c=>{if(!t.doNotResetEntireContent&&function(k,b){const A=k.getLimitElement(b);if(!b.containsEntireContent(A))return!1;const C=b.getFirstRange();return C.start.parent==C.end.parent?!1:k.checkChild(A,"paragraph")}(s,e))return void function(k,b){const A=k.model.schema.getLimitElement(b);k.remove(k.createRangeIn(A)),Gv(k,k.createPositionAt(A,0),b)}(c,e);const d={};if(!t.doNotAutoparagraph){const k=e.getSelectedElement();k&&Object.assign(d,s.getAttributesWithProperty(k,"copyOnReplace",!0))}const[g,p]=function(k){const b=k.root.document.model,A=k.start;let C=k.end;if(b.hasContent(k,{ignoreMarkers:!0})){const E=function(M){const O=M.parent,z=O.root.document.model.schema,V=O.getAncestors({parentFirst:!0,includeSelf:!0});for(const K of V){if(z.isLimit(K))return null;if(z.isBlock(K))return K}}(C);if(E&&C.isTouching(b.createPositionAt(E,0))){const M=b.createSelection(k);b.modifySelection(M,{direction:"backward"});const O=M.getLastPosition(),z=b.createRange(O,C);b.hasContent(z,{ignoreMarkers:!0})||(C=O)}}return[It.fromPosition(A,"toPrevious"),It.fromPosition(C,"toNext")]}(r);g.isTouching(p)||c.remove(c.createRange(g,p)),t.leaveUnmerged||(function(k,b,A){const C=k.model;if(!Mp(k.model.schema,b,A))return;const[E,M]=function(O,z){const V=O.getAncestors(),K=z.getAncestors();let se=0;for(;V[se]&&V[se]==K[se];)se++;return[V[se],K[se]]}(b,A);!E||!M||(!C.hasContent(E,{ignoreMarkers:!0})&&C.hasContent(M,{ignoreMarkers:!0})?qv(k,b,A,E.parent):Wv(k,b,A,E.parent))}(c,g,p),s.removeDisallowedAttributes(g.parent.getChildren(),c)),Yv(c,e,g),!t.doNotAutoparagraph&&function(k,b){const A=k.checkChild(b,"$text"),C=k.checkChild(b,"paragraph");return!A&&C}(s,g)&&Gv(c,g,e,d),g.detach(),p.detach()})}function Wv(a,e,t,r){const s=e.parent,c=t.parent;if(s!=r&&c!=r){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(c)).isEqual(e)||a.insert(c,e),a.merge(e);t.parent.isEmpty;){const d=t.parent;t=a.createPositionBefore(d),a.remove(d)}Mp(a.model.schema,e,t)&&Wv(a,e,t,r)}}function qv(a,e,t,r){const s=e.parent,c=t.parent;if(s!=r&&c!=r){for(e=a.createPositionAfter(s),(t=a.createPositionBefore(c)).isEqual(e)||a.insert(s,t);e.parent.isEmpty;){const d=e.parent;e=a.createPositionBefore(d),a.remove(d)}t=a.createPositionBefore(c),function(d,g){const p=g.nodeBefore,k=g.nodeAfter;p.name!=k.name&&d.rename(p,k.name),d.clearAttributes(p),d.setAttributes(Object.fromEntries(k.getAttributes()),p),d.merge(g)}(a,t),Mp(a.model.schema,e,t)&&qv(a,e,t,r)}}function Mp(a,e,t){const r=e.parent,s=t.parent;return r!=s&&!a.isLimit(r)&&!a.isLimit(s)&&function(c,d,g){const p=new Q(c,d);for(const k of p.getWalker())if(g.isLimit(k.item))return!1;return!0}(e,t,a)}function Gv(a,e,t,r={}){const s=a.createElement("paragraph");a.model.schema.setAllowedAttributes(s,r,a),a.insert(s,e),Yv(a,t,a.createPositionAt(s,0))}function Yv(a,e,t){e instanceof yi?a.setSelection(t):e.setTo(t)}function Kv(a,e){const t=[];Array.from(a.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(a.start)||r.start.isEqual(a.start))&&(r.end.isBefore(a.end)||r.end.isEqual(a.end))).forEach(r=>{t.push(r.start.parent),e.remove(r)}),t.forEach(r=>{let s=r;for(;s.parent&&s.isEmpty;){const c=e.createRangeOn(s);s=s.parent,e.remove(c)}})}class dI{constructor(e,t,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new D("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Q._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Q(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=It.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new D("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=It.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=It.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Xe)||!this._canMergeLeft(e))return;const t=It._createBefore(e);t.stickiness="toNext";const r=It.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=It._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=It._createAt(t.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Xe)||!this._canMergeRight(e))return;const t=It._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new D("insertcontent-invalid-insertion-position",this);this.position=oe._createAt(t.nodeBefore,"end");const r=It.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=It._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=It._createAt(t.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Xe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Xe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===t&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Zv(a,e,t="auto"){const r=a.getSelectedElement();if(r&&e.schema.isObject(r)&&!e.schema.isInline(r))return t=="before"||t=="after"?e.createRange(e.createPositionAt(r,t)):e.createRangeOn(r);const s=Ht(a.getSelectedBlocks());if(!s)return e.createRange(a.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const c=e.createPositionAfter(s);return a.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(s))}function uI(a,e,t,r={}){if(!a.schema.isObject(e))throw new D("insertobject-element-not-an-object",a,{object:e});const s=t||a.document.selection;let c=s;r.findOptimalPosition&&a.schema.isBlock(e)&&(c=a.createSelection(Zv(s,a,r.findOptimalPosition)));const d=Ht(s.getSelectedBlocks()),g={};return d&&Object.assign(g,a.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),a.change(p=>{c.isCollapsed||a.deleteContent(c,{doNotAutoparagraph:!0});let k=e;const b=c.anchor.parent;!a.schema.checkChild(b,e)&&a.schema.checkChild(b,"paragraph")&&a.schema.checkChild("paragraph",e)&&(k=p.createElement("paragraph"),p.insert(e,k)),a.schema.setAllowedAttributes(k,g,p);const A=a.insertContent(k,c);return A.isCollapsed||r.setSelection&&function(C,E,M,O){const z=C.model;if(M=="on")return void C.setSelection(E,"on");if(M!="after")throw new D("insertobject-invalid-place-parameter-value",z);let V=E.nextSibling;if(z.schema.isInline(E))return void C.setSelection(E,"after");!(V&&z.schema.checkChild(V,"$text"))&&z.schema.checkChild(E.parent,"paragraph")&&(V=C.createElement("paragraph"),z.schema.setAllowedAttributes(V,O,C),z.insertContent(V,C.createPositionAfter(E))),V&&C.setSelection(V,0)}(p,e,r.setSelection,g),A})}const hI=' ,.?!:;"-()';function fI(a,e){const{isForward:t,walker:r,unit:s,schema:c,treatEmojiAsSingleUnit:d}=a,{type:g,item:p,nextPosition:k}=e;if(g=="text")return a.unit==="word"?function(b,A){let C=b.position.textNode;for(C||(C=A?b.position.nodeAfter:b.position.nodeBefore);C&&C.is("$text");){const E=b.position.offset-C.startOffset;if(mI(C,E,A))C=A?b.position.nodeAfter:b.position.nodeBefore;else{if(pI(C.data,E,A))break;b.next()}}return b.position}(r,t):function(b,A,C){const E=b.position.textNode;if(E){const M=E.data;let O=b.position.offset-E.startOffset;for(;Xg(M,O)||A=="character"&&ep(M,O)||C&&iw(M,O);)b.next(),O=b.position.offset-E.startOffset}return b.position}(r,s,d);if(g==(t?"elementStart":"elementEnd")){if(c.isSelectable(p))return oe._createAt(p,t?"after":"before");if(c.checkChild(k,"$text"))return k}else{if(c.isLimit(p))return void r.skip(()=>!0);if(c.checkChild(k,"$text"))return k}}function gI(a,e){const t=a.root,r=oe._createAt(t,e?"end":0);return e?new Q(a,r):new Q(r,a)}function pI(a,e,t){const r=e+(t?0:-1);return hI.includes(a.charAt(r))}function mI(a,e,t){return e===(t?a.offsetSize:0)}class kI extends Ye(){constructor(){super(),this.markers=new oI,this.document=new rI(this),this.schema=new M4,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),S4(this),this.document.registerPostFixer(bv),this.on("insertContent",(e,[t,r])=>{e.return=function(s,c,d){return s.change(g=>{const p=d||s.document.selection;p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0});const k=new dI(s,g,p.anchor),b=[];let A;if(c.is("documentFragment")){if(c.markers.size){const M=[];for(const[O,z]of c.markers){const{start:V,end:K}=z,se=V.isEqual(K);M.push({position:V,name:O,isCollapsed:se},{position:K,name:O,isCollapsed:se})}M.sort(({position:O},{position:z})=>O.isBefore(z)?1:-1);for(const{position:O,name:z,isCollapsed:V}of M){let K=null,se=null;const ye=O.parent===c&&O.isAtStart,ze=O.parent===c&&O.isAtEnd;ye||ze?V&&(se=ye?"start":"end"):(K=g.createElement("$marker"),g.insert(K,O)),b.push({name:z,element:K,collapsed:se})}}A=c.getChildren()}else A=[c];k.handleNodes(A);let C=k.getSelectionRange();if(c.is("documentFragment")&&b.length){const M=C?Sn.fromRange(C):null,O={};for(let z=b.length-1;z>=0;z--){const{name:V,element:K,collapsed:se}=b[z],ye=!O[V];if(ye&&(O[V]=[]),K){const ze=g.createPositionAt(K,"before");O[V].push(ze),g.remove(K)}else{const ze=k.getAffectedRange();if(!ze){se&&O[V].push(k.position);continue}se?O[V].push(ze[se]):O[V].push(ye?ze.start:ze.end)}}for(const[z,[V,K]]of Object.entries(O))V&&K&&V.root===K.root&&g.addMarker(z,{usingOperation:!0,affectsData:!0,range:new Q(V,K)});M&&(C=M.toRange(),M.detach())}C&&(p instanceof yi?g.setSelection(C):p.setTo(C));const E=k.getAffectedRange()||s.createRange(p.anchor);return k.destroy(),E})}(this,t,r)}),this.on("insertObject",(e,[t,r,s])=>{e.return=uI(this,t,r,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new oa,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){D.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new oa):e instanceof oa||(e=new oa(e)):e=new oa,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){D.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,t,r,...s){const c=Np(t,r);return this.fire("insertContent",[e,c,r,...s])}insertObject(e,t,r,s,...c){const d=Np(t,r);return this.fire("insertObject",[e,d,s,s,...c])}deleteContent(e,t){lI(this,e,t)}modifySelection(e,t){(function(r,s,c={}){const d=r.schema,g=c.direction!="backward",p=c.unit?c.unit:"character",k=!!c.treatEmojiAsSingleUnit,b=s.focus,A=new Gi({boundaries:gI(b,g),singleCharacters:!0,direction:g?"forward":"backward"}),C={walker:A,schema:d,isForward:g,unit:p,treatEmojiAsSingleUnit:k};let E;for(;E=A.next();){if(E.done)return;const M=fI(C,E.value);if(M)return void(s instanceof yi?r.change(O=>{O.setSelectionFocus(M)}):s.setFocus(M))}})(this,e,t)}getSelectedContent(e){return function(t,r){return t.change(s=>{const c=s.createDocumentFragment(),d=r.getFirstRange();if(!d||d.isCollapsed)return c;const g=d.start.root,p=d.start.getCommonPath(d.end),k=g.getNodeByPath(p);let b;b=d.start.parent==d.end.parent?d:s.createRange(s.createPositionAt(k,d.start.path[p.length]),s.createPositionAt(k,d.end.path[p.length]+1));const A=b.end.offset-b.start.offset;for(const C of b.getItems({shallow:!0}))C.is("$textProxy")?s.appendText(C.data,C.getAttributes(),c):s.append(s.cloneElement(C,!0),c);if(b!=d){const C=d._getTransformedByMove(b.start,s.createPositionAt(c,0),A)[0],E=s.createRange(s.createPositionAt(c,0),C.start);Kv(s.createRange(C.end,s.createPositionAt(c,"end")),s),Kv(E,s)}return c})}(this,e)}hasContent(e,t={}){const r=e instanceof Q?e:Q._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:c=!1}=t;if(!c){for(const d of this.markers.getMarkersIntersectingRange(r))if(d.affectsData)return!0}for(const d of r.getItems())if(this.schema.isContent(d)&&(!d.is("$textProxy")||!s||d.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Np(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,r){return new oe(e,t,r)}createPositionAt(e,t){return oe._createAt(e,t)}createPositionAfter(e){return oe._createAfter(e)}createPositionBefore(e){return oe._createBefore(e)}createRange(e,t){return new Q(e,t)}createRangeIn(e){return Q._createIn(e)}createRangeOn(e){return Q._createOn(e)}createSelection(...e){return new $n(...e)}createBatch(e){return new oa(e)}createOperationFromJSON(e){return Y4.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new aI(this,t);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Np(a,e){if(a)return a instanceof $n||a instanceof yi?a:a instanceof es?e||e===0?new $n(a,e):a.is("rootElement")?new $n(a,"in"):new $n(a,"on"):new $n(a)}class bI extends Xo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ou extends Xo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class rs{constructor(e){this.document=e}createDocumentFragment(e){return new Jo(this.document,e)}createElement(e,t,r){return new Un(this.document,e,t,r)}createText(e){return new it(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,r){return r._insertChild(e,t)}removeChildren(e,t,r){return r._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const r=e.parent;if(r){const s=r.getChildIndex(e);return this.removeChildren(s,1,r),this.insertChild(s,t,r),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const r=t.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),t)}}rename(e,t){const r=new Un(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,r)?r:null}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){gn(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return fe._createAt(e,t)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new vi(...e)}}class wI{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const r=this.get(e);if(!r)throw new D("commandcollection-command-not-found",this,{commandName:e});return r.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class vI extends wi{constructor(e){super(),this.editor=e}set(e,t,r={}){if(typeof t=="string"){const s=t;t=(c,d)=>{this.editor.execute(s),d()}}super.set(e,t,r)}}class _I extends Ye(){constructor(e={}){super();const t=this.constructor,r=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new cw({language:r}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new pn(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new aw(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new wI,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new kI,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new _T;this.data=new q4(this.model,c),this.editing=new T4(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new G4([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new vI(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new D("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new D("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new D("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),r=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),r,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(r){D.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Bu(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=Bu(Object);Bu.setData=a.prototype.setData,Bu.getData=a.prototype.getData}function Op(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new D("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;bi(this.sourceElement,t||r?e:"")}}}Op.updateSourceElement=Op(Object).prototype.updateSourceElement;class Qv extends lw{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ii({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new D("pendingactions-add-invalid-message",this);const t=new(Ye());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Pe={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class Jv{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r="error"in t?t.error:t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(r=>r!==t)}_fire(e,...t){const r=this._listeners[e]||[];for(const s of r)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Bp(a,e=new Set){const t=[a],r=new Set;let s=0;for(;t.length>s;){const c=t[s++];if(!r.has(c)&&AI(c)&&!e.has(c))if(r.add(c),Symbol.iterator in c)try{for(const d of c)t.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&t.push(c[d])}return r}function AI(a){const e=Object.prototype.toString.call(a),t=typeof a;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function Xv(a,e,t=new Set){if(a===e&&typeof(r=a)=="object"&&r!==null)return!0;var r;const s=Bp(a,t),c=Bp(e,t);for(const d of s)if(c.has(d))return!0;return!1}const ol=function(a,e,t){var r=!0,s=!0;if(typeof a!="function")throw new TypeError("Expected a function");return pe(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),Kc(a,e,{leading:r,maxWait:e,trailing:s})};class e_ extends Jv{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=ol(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(r,s)=>e.create(r,s)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],r=this._config.rootsAttributes||{},s={};for(const[d,g]of Object.entries(this._data.roots))g.isLoaded?(e[d]="",s[d]=r[d]||{}):t.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(yI),this._initUsingData?this.create(e,c,c.context):Ee(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:r}=e,s=r.has("CommentsRepository")&&r.get("CommentsRepository"),c=r.has("TrackChanges")&&r.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(g=>{d.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of e.model.markers)g._affectsData&&(d.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(t);r&&(e[t]=r)}return e}_isErrorComingFromThisItem(e){return Xv(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Me(e,(t,r)=>Ee(t)||r==="context"?t:void 0)}}class yI{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const r=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)r._appendChild(this._createNode(e,s));return r}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([r,{content:s,attributes:c}])=>{const d=JSON.parse(s),g=JSON.parse(c),p=t.model.document.getRoot(r);for(const[k,b]of g)e.setAttribute(k,b,p);for(const k of d){const b=this._createNode(e,k);e.insert(b,p,"end")}}),Object.entries(this._data.markers).forEach(([r,s])=>{const{document:c}=t.model,{rangeJSON:{start:d,end:g},...p}=s,k=c.getRoot(d.root),b=e.createPositionFromPath(k,d.path,d.stickiness),A=e.createPositionFromPath(k,g.path,g.stickiness),C=e.createRange(b,A);e.addMarker(r,{range:C,...p})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(r=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(r.threadId)&&c.getCommentThread(r.threadId).remove(),c.addCommentThread({channelId:s,...r})}),t.forEach(r=>{const s=this.editor.plugins.get("TrackChangesEditing");s.hasSuggestion(r.id)?s.getSuggestion(r.id).attributes=r.attributes:s.addSuggestionData(r)})}}const sl=Symbol("MainQueueId");class CI{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const r=e===sl;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(sl),this._queues.get(e)])).then(t),c=s.catch(()=>{});return this._queues.set(e,c),s.finally(()=>{this._activeActions--,this._queues.get(e)===c&&this._activeActions===0&&this._onEmptyCallbacks.forEach(d=>d())})}}function t_(a){return Array.isArray(a)?a:[a]}function Pp({emitter:a,activator:e,callback:t,contextElements:r}){a.listenTo(document,"mousedown",(s,c)=>{if(!e())return;const d=typeof c.composedPath=="function"?c.composedPath():[],g=typeof r=="function"?r():r;for(const p of g)if(p.contains(c.target)||d.includes(p))return;t()})}function Lp(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Pu({view:a}){a.listenTo(a.element,"submit",(e,t)=>{t.preventDefault(),a.fire("submit")},{useCapture:!0})}class Ki extends ii{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,r,s)=>{this._renderViewIntoCollectionParent(r,s)}),this.on("remove",(t,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new D("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const r of this)for(const s of e)r.delegate(s).to(t);this.on("add",(r,s)=>{for(const c of e)s.delegate(c).to(t)}),this.on("remove",(r,s)=>{for(const c of e)s.stopDelegating(c,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}var n_=o(5167),xI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(n_.Z,xI),n_.Z.locals;class Te extends tt(Ye()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ii,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Zi.bind(this,this)}createCollection(e){const t=new Ki(e);return this._viewCollections.add(t),t}registerChild(e){fn(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){fn(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Zi(e)}extendTemplate(e){Zi.extend(this.template,e)}render(){if(this.isRendered)throw new D("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Zi extends H(){constructor(e){super(),Object.assign(this,s_(o_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new D("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const r of t.children)zu(r)?yield r:zp(r)&&(yield*e(r))}(this)}static bind(e,t){return{to:(r,s)=>new EI({eventNameOrFunction:r,attribute:r,observable:e,emitter:t,callback:s}),if:(r,s,c)=>new i_({observable:e,emitter:t,attribute:r,valueIfTrue:s,callback:c})}}static extend(e,t){if(e._isRendered)throw new D("template-extend-render",[this,e]);d_(e,s_(o_(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new D("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Lu(this.text)?this._bindToObservable({schema:this.text,updater:DI(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,r=e.revertData;for(const s in this.attributes){const c=t.getAttribute(s),d=this.attributes[s];r&&(r.attributes[s]=c);const g=u_(d)?d[0].ns:null;if(Lu(d)){const p=u_(d)?d[0].value:d;r&&h_(s)&&p.unshift(c),this._bindToObservable({schema:p,updater:SI(t,s,g),data:e})}else if(s=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{r&&c&&h_(s)&&d.unshift(c);const p=d.map(k=>k&&k.value||k).reduce((k,b)=>k.concat(b),[]).reduce(c_,"");aa(p)||t.setAttributeNS(g,s,p)}}}_renderStyleAttribute(e,t){const r=t.node;for(const s in e){const c=e[s];Lu(c)?this._bindToObservable({schema:[c],updater:TI(r,s),data:t}):r.style[s]=c}}_renderElementChildren(e){const t=e.node,r=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let c=0;for(const d of this.children)if(jp(d)){if(!s){d.setParent(t);for(const g of d)r.appendChild(g.element)}}else if(zu(d))s||(d.isRendered||d.render(),r.appendChild(d.element));else if(Rt(d))r.appendChild(d);else if(s){const g={children:[],bindings:[],attributes:{}};e.revertData.children.push(g),d._renderNode({intoFragment:!1,node:r.childNodes[c++],isApplying:!0,revertData:g})}else r.appendChild(d.render());e.intoFragment&&t.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const r=this.eventListeners[t].map(s=>{const[c,d]=t.split("@");return s.activateDomEventListener(c,d,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:t,data:r}){const s=r.revertData;r_(e,t,r);const c=e.filter(d=>!aa(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,t,r));s&&s.bindings.push(c)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const c of s)c();if(t.text)return void(e.textContent=t.text);const r=e;for(const s in t.attributes){const c=t.attributes[s];c===null?r.removeAttribute(s):r.setAttribute(s,c)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(r.childNodes[s],t.children[s])}}class al{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,r){const s=()=>r_(e,t,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class EI extends al{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,r){const s=(c,d)=>{t&&!d.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(r.node,e,s),()=>{this.emitter.stopListening(r.node,e,s)}}}class i_ extends al{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!aa(super.getValue(e))&&(this.valueIfTrue||!0)}}function Lu(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Lu):a instanceof al)}function r_(a,e,{node:t}){const r=function(c,d){return c.map(g=>g instanceof al?g.getValue(d):g)}(a,t);let s;s=a.length==1&&a[0]instanceof i_?r[0]:r.reduce(c_,""),aa(s)?e.remove():e.set(s)}function DI(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function SI(a,e,t){return{set(r){a.setAttributeNS(t,e,r)},remove(){a.removeAttributeNS(t,e)}}}function TI(a,e){return{set(t){a.style[e]=t},remove(){a.style[e]=null}}}function o_(a){return Me(a,e=>{if(e&&(e instanceof al||zp(e)||zu(e)||jp(e)))return e})}function s_(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=Ut(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const t in e)a_(e,t);return e}(a.on),delete a.on),!a.text){a.attributes&&function(t){for(const r in t)t[r].value&&(t[r].value=Ut(t[r].value)),a_(t,r)}(a.attributes);const e=[];if(a.children)if(jp(a.children))e.push(a.children);else for(const t of a.children)zp(t)||zu(t)||Rt(t)?e.push(t):e.push(new Zi(t));a.children=e}return a}function a_(a,e){a[e]=Ut(a[e])}function c_(a,e){return aa(e)?a:aa(a)?e:`${a} ${e}`}function l_(a,e){for(const t in e)a[t]?a[t].push(...e[t]):a[t]=e[t]}function d_(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),l_(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),l_(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new D("ui-template-extend-children-mismatch",a);let t=0;for(const r of e.children)d_(a.children[t++],r)}}function aa(a){return!a&&a!==0}function zu(a){return a instanceof Te}function zp(a){return a instanceof Zi}function jp(a){return a instanceof Ki}function u_(a){return pe(a[0])&&a[0].ns}function h_(a){return a=="class"||a=="style"}class II extends Ki{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Zi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Bs(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var f_=o(1977),MI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(f_.Z,MI),f_.Z.locals;class br extends Te{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:r,value:s}of Array.from(e.attributes))br.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}br.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class NI extends Te{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var g_=o(4971),OI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(g_.Z,OI),g_.Z.locals;class Ze extends Te{constructor(e,t=new NI){super(e),this._focusDelayed=null;const r=this.bindTemplate,s=B();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new br,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",d=>!d),r.if("isVisible","ck-hidden",d=>!d),r.to("isOn",d=>d?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",d=>d||"button"),tabindex:r.to("tabindex"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,d=>!d),"aria-checked":r.to("isOn"),"aria-pressed":r.to("isOn",d=>!!this.isToggleable&&String(!!d)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};f.isSafari&&(this._focusDelayed||(this._focusDelayed=Jg(()=>this.focus(),0)),c.on.mousedown=r.to(()=>{this._focusDelayed()}),c.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Te;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>ew(t))}]}),e}_getTooltipString(e,t,r){return e?typeof e=="string"?e:(r&&(r=ew(r)),e instanceof Function?e(t,r):`${t}${r?` (${r})`:""}`):""}}var p_=o(7258),BI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(p_.Z,BI),p_.Z.locals;class Rp extends Ze{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Te;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var m_=o(4923),PI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(m_.Z,PI),m_.Z.locals,o(8874),o(2085);var k_=o(3525),LI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(k_.Z,LI),k_.Z.locals;class zI extends Te{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${B()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var b_=o(2933),jI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(b_.Z,jI),b_.Z.locals;class cl extends Te{constructor(e,t){super(e);const r=`ck-labeled-field-view-${B()}`,s=`ck-labeled-field-view-status-${B()}`;this.fieldView=t(this,r,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,g)=>d||g);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",d=>!d),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new zI(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Te(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",s=>!s)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class RI extends Te{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Dn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var w_=o(2470),FI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(w_.Z,FI),w_.Z.locals;class VI extends RI{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class UI extends VI{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var v_=o(5224),HI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(v_.Z,HI),v_.Z.locals;class $I extends Te{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",r=>`ck-dropdown__panel_${r}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():W("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var __=o(5062),WI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(__.Z,WI),__.Z.locals;class ca extends Te{constructor(e,t,r){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new wi,this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,r,s)=>{if(s)if(this.panelPosition==="auto"){const c=ca._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:r,southWest:s,northEast:c,northWest:d,southMiddleEast:g,southMiddleWest:p,northMiddleEast:k,northMiddleWest:b}=ca.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,s,g,p,e,c,d,k,b,t]:[s,r,p,g,e,d,c,b,k,t]}}ca.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},ca._getOptimalPosition=lt;const A_='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class y_ extends Ze{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new br;return e.content=A_,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class wr extends H(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let r=e.actions[t];typeof r=="string"&&(r=[r]);for(const s of r)e.keystrokeHandler.set(s,(c,d)=>{this[t](),d()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Fp)||null}get last(){return this.focusables.filter(Fp).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,r)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=r),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,r=this.focusables.length;if(!r)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+r+e)%r;do{const c=this.focusables.get(s);if(Fp(c))return c;s=(s+r+e)%r}while(s!==t);return null}}function Fp(a){return!(!("focus"in a)||!yt(a.element))}class C_ extends Te{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class qI extends Te{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function x_(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}var E_=o(4768),GI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(E_.Z,GI),E_.Z.locals;const{threeVerticalDots:D_}=Pe,YI={alignLeft:Pe.alignLeft,bold:Pe.bold,importExport:Pe.importExport,paragraph:Pe.paragraph,plus:Pe.plus,text:Pe.text,threeVerticalDots:Pe.threeVerticalDots,pilcrow:Pe.pilcrow,dragIndicator:Pe.dragIndicator};class Vp extends Te{constructor(e,t){super(e);const r=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Dn,this.keystrokes=new wi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new KI(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new wr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(p=>{p.target===g.element&&p.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new QI(this):new ZI(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,r){this.items.addMany(this._buildItemsFromConfig(e,t,r))}_buildItemsFromConfig(e,t,r){const s=x_(e),c=r||s.removeItems;return this._cleanItemsConfiguration(s.items,t,c).map(d=>pe(d)?this._createNestedToolbarDropdown(d,t,c):d==="|"?new C_:d==="-"?new qI:t.create(d)).filter(d=>!!d)}_cleanItemsConfiguration(e,t,r){const s=e.filter((c,d,g)=>c==="|"||r.indexOf(c)===-1&&(c==="-"?!this.options.shouldGroupWhenFull||(W("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!pe(c)&&!t.has(c))||(W("toolbarview-item-unavailable",{item:c}),!1)));return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=d=>d!=="-"&&d!=="|",r=e.length,s=e.findIndex(t);if(s===-1)return[];const c=r-e.slice().reverse().findIndex(t);return e.slice(s,c).filter((d,g,p)=>t(d)?!0:!(g>0&&p[g-1]===d))}_createNestedToolbarDropdown(e,t,r){let{label:s,icon:c,items:d,tooltip:g=!0,withText:p=!1}=e;if(d=this._cleanItemsConfiguration(d,t,r),!d.length)return null;const k=Jr(this.locale);return s||W("toolbarview-nested-toolbar-dropdown-missing-label",e),k.class="ck-toolbar__nested-toolbar-dropdown",k.buttonView.set({label:s,tooltip:g,withText:!!p}),c!==!1?k.buttonView.icon=YI[c]||c||D_:k.buttonView.withText=!0,Ru(k,()=>k.toolbarView._buildItemsFromConfig(d,t,r)),k}}class KI extends Te{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ZI{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>r),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class QI{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,r)=>{const s=r.index,c=Array.from(r.added);for(const d of r.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=s;d<s+c.length;d++){const g=c[d-s];d>this.ungroupedItems.length?this.groupedItems.add(g,d-this.ungroupedItems.length):this.ungroupedItems.add(g,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!yt(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,r=new Ne(e.lastChild),s=new Ne(e);if(!this.cachedPadding){const c=Ae.window.getComputedStyle(e),d=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[d])}return t==="ltr"?r.right>s.right-this.cachedPadding:r.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Be(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new C_),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,r=Jr(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Ru(r,this.groupedItems),r.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:D_}),r}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class ju extends Te{constructor(e){super(e);const t=this.bindTemplate,r=`ck-editor__label_${B()}`,s=new T_(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(r),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:r}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",c=>!c)]},children:this.children})}_createLabel(e){const t=new Te(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:r.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var S_=o(179),JI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(S_.Z,JI),S_.Z.locals;class T_ extends Te{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Ki,this.items=this.createCollection(),this.focusTracker=new Dn,this.keystrokes=new wi,this._focusCycler=new wr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof ju?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const r of t.removed)r instanceof ju?this._deregisterFocusableItemsGroup(r):this._deregisterFocusableListItem(r);for(const r of Array.from(t.added).reverse())r instanceof ju?this._registerFocusableItemsGroup(r,t.index):this._registerFocusableListItem(r,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,r)=>{for(const s of r.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(r.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,c)=>{const d=t!==void 0?t+c:void 0;this._registerFocusableListItem(s,d)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class I_ extends Te{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class XI extends Te{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var M_=o(4791),eM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(M_.Z,eM),M_.Z.locals;class Up extends Te{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new wi,this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Ze;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Ze,t=e.bindTemplate;return e.icon=A_,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var N_=o(2704),tM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(N_.Z,tM),N_.Z.locals;var O_=o(1883),nM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(O_.Z,nM),O_.Z.locals;function Jr(a,e=y_){const t=new e(a),r=new $I(a),s=new ca(a,t,r);return t.bind("isEnabled").to(s),t instanceof Up?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),function(c){(function(d){d.on("render",()=>{Pp({emitter:d,activator:()=>d.isOpen,callback:()=>{d.isOpen=!1},contextElements:()=>[d.element,...d.focusTracker._elements]})})})(c),function(d){d.on("execute",g=>{g.source instanceof Rp||(d.isOpen=!1)})}(c),function(d){d.focusTracker.on("change:isFocused",(g,p,k)=>{d.isOpen&&!k&&(d.isOpen=!1)})}(c),function(d){d.keystrokes.set("arrowdown",(g,p)=>{d.isOpen&&(d.panelView.focus(),p())}),d.keystrokes.set("arrowup",(g,p)=>{d.isOpen&&(d.panelView.focusLast(),p())})}(c),function(d){d.on("change:isOpen",(g,p,k)=>{if(k)return;const b=d.panelView.element;b&&b.contains(Ae.document.activeElement)&&d.buttonView.focus()})}(c),function(d){d.on("change:isOpen",(g,p,k)=>{k&&d.panelView.focus()},{priority:"low"})}(c)}(s),s}function Ru(a,e,t={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?B_(a,e,t):a.once("change:isOpen",()=>B_(a,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&z_(a,()=>a.toolbarView.items.find(r=>r.isOn))}function B_(a,e,t){const r=a.locale,s=r.t,c=a.toolbarView=new Vp(r),d=typeof e=="function"?e():e;c.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(c.maxWidth=t.maxWidth),t.class&&(c.class=t.class),t.isCompact&&(c.isCompact=t.isCompact),t.isVertical&&(c.isVertical=!0),d instanceof Ki?c.items.bindTo(d).using(g=>g):c.items.addMany(d),a.panelView.children.add(c),c.items.delegate("execute").to(a)}function P_(a,e,t={}){a.isOpen?L_(a,e,t):a.once("change:isOpen",()=>L_(a,e,t),{priority:"highest"}),z_(a,()=>a.listView.items.find(r=>r instanceof I_&&r.children.first.isOn))}function L_(a,e,t){const r=a.locale,s=a.listView=new T_(r),c=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,j_(a,s.items,c,r),a.panelView.children.add(s),s.items.delegate("execute").to(a)}function z_(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():W("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:R.low-10})}function j_(a,e,t,r){e.bindTo(t).using(s=>{if(s.type==="separator")return new XI(r);if(s.type==="group"){const c=new ju(r);return c.set({label:s.label}),j_(a,c.items,s.items,r),c.items.delegate("execute").to(a),c}if(s.type==="button"||s.type==="switchbutton"){const c=new I_(r);let d;return d=s.type==="button"?new Ze(r):new Rp(r),d.bind(...Object.keys(s.model)).to(s.model),d.delegate("execute").to(c),c.children.add(d),c}return null})}const ll=(a,e,t)=>{const r=new UI(a.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isReadOnly").to(a,"isEnabled",s=>!s),r.bind("hasError").to(a,"errorText",s=>!!s),r.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(r),r},dl=(a,e=0,t=1)=>a>t?t:a<e?e:a,Qt=(a,e=0,t=Math.pow(10,e))=>Math.round(t*a)/t,Hp=a=>(a[0]==="#"&&(a=a.substring(1)),a.length<6?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?Qt(parseInt(a[3]+a[3],16)/255,2):1}:{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16),a:a.length===8?Qt(parseInt(a.substring(6,8),16)/255,2):1}),iM=({h:a,s:e,v:t,a:r})=>{const s=(200-e)*t/100;return{h:Qt(a),s:Qt(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:Qt(s/2),a:Qt(r,2)}},$p=a=>{const{h:e,s:t,l:r}=iM(a);return`hsl(${e}, ${t}%, ${r}%)`},rM=({h:a,s:e,v:t,a:r})=>{a=a/360*6,e/=100,t/=100;const s=Math.floor(a),c=t*(1-e),d=t*(1-(a-s)*e),g=t*(1-(1-a+s)*e),p=s%6;return{r:Qt(255*[t,d,c,c,g,t][p]),g:Qt(255*[g,t,t,d,c,c][p]),b:Qt(255*[c,c,g,t,t,d][p]),a:Qt(r,2)}},Fu=a=>{const e=a.toString(16);return e.length<2?"0"+e:e},oM=({r:a,g:e,b:t,a:r})=>{const s=r<1?Fu(Qt(255*r)):"";return"#"+Fu(a)+Fu(e)+Fu(t)+s},sM=({r:a,g:e,b:t,a:r})=>{const s=Math.max(a,e,t),c=s-Math.min(a,e,t),d=c?s===a?(e-t)/c:s===e?2+(t-a)/c:4+(a-e)/c:0;return{h:Qt(60*(d<0?d+6:d)),s:Qt(s?c/s*100:0),v:Qt(s/255*100),a:r}},R_=(a,e)=>{if(a===e)return!0;for(const t in a)if(a[t]!==e[t])return!1;return!0},F_={},V_=a=>{let e=F_[a];return e||(e=document.createElement("template"),e.innerHTML=a,F_[a]=e),e},Wp=(a,e,t)=>{a.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let la=!1;const qp=a=>"touches"in a,U_=(a,e)=>{const t=qp(e)?e.touches[0]:e,r=a.el.getBoundingClientRect();Wp(a.el,"move",a.getMove({x:dl((t.pageX-(r.left+window.pageXOffset))/r.width),y:dl((t.pageY-(r.top+window.pageYOffset))/r.height)}))};class H_{constructor(e,t,r,s){const c=V_(`<div role="slider" tabindex="0" part="${t}" ${r}><div part="${t}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const d=e.querySelector(`[part=${t}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=s,this.nodes=[d.firstChild,d]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(la?"touchmove":"mousemove",this),t(la?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(t=>!(la&&!qp(t)||(la||(la=qp(t)),0)))(e)||!la&&e.button!=0)return;this.el.focus(),U_(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),U_(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,r)=>{const s=r.keyCode;s>40||t.xy&&s<37||s<33||(r.preventDefault(),Wp(t.el,"move",t.getMove({x:s===39?.01:s===37?-.01:s===34?.05:s===33?-.05:s===35?1:s===36?-1:0,y:s===40?.01:s===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((t,r)=>{for(const s in t)this.nodes[r].style.setProperty(s,t[s])})}}class aM extends H_{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:$p({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Qt(e)}`)}getMove(e,t){return{h:t?dl(this.h+360*e.x,0,360):360*e.x}}}class cM extends H_{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:$p(e)},{"background-color":$p({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Qt(e.s)}%, Brightness ${Qt(e.v)}%`)}getMove(e,t){return{s:t?dl(this.hsva.s+100*e.x,0,100):100*e.x,v:t?dl(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const Vu=Symbol("same"),Gp=Symbol("color"),$_=Symbol("hsva"),Yp=Symbol("update"),W_=Symbol("parts"),q_=Symbol("css"),G_=Symbol("sliders");class lM extends HTMLElement{static get observedAttributes(){return["color"]}get[q_](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[G_](){return[cM,aM]}get color(){return this[Gp]}set color(e){if(!this[Vu](e)){const t=this.colorModel.toHsva(e);this[Yp](t),this[Gp]=e}}constructor(){super();const e=V_(`<style>${this[q_].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[W_]=this[G_].map(r=>new r(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,r){const s=this.colorModel.fromAttr(r);this[Vu](s)||(this.color=s)}handleEvent(e){const t=this[$_],r={...t,...e.detail};let s;this[Yp](r),R_(r,t)||this[Vu](s=this.colorModel.fromHsva(r))||(this[Gp]=s,Wp(this,"color-changed",{value:s}))}[Vu](e){return this.color&&this.colorModel.equal(e,this.color)}[Yp](e){this[$_]=e,this[W_].forEach(t=>t.update(e))}}const dM={defaultColor:"#000",toHsva:a=>sM(Hp(a)),fromHsva:({h:a,s:e,v:t})=>oM(rM({h:a,s:e,v:t,a:1})),equal:(a,e)=>a.toLowerCase()===e.toLowerCase()||R_(Hp(a),Hp(e)),fromAttr:a=>a};class uM extends lM{get colorModel(){return dM}}customElements.define("hex-color-picker",class extends uM{});var Y_=o(4257),hM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Y_.Z,hM),Y_.Z.locals;var K_=o(6306),fM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(K_.Z,fM),K_.Z.locals;class gM{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Kp(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new D("componentfactory-item-missing",this,{name:e});return this._components.get(Kp(e)).callback(this.editor.locale)}has(e){return this._components.has(Kp(e))}}function Kp(a){return String(a).toLowerCase()}var Z_=o(4460),pM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Z_.Z,pM),Z_.Z.locals;const Q_=rn("px"),J_=Ae.document.body,mM={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Jt extends Te{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Q_),left:t.to("left",Q_)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Jt.defaultPositions,r=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:J_,fitInViewport:!0},e),s=Jt._getOptimalPosition(r)||mM,c=parseInt(s.left),d=parseInt(s.top),g=s.name,p=s.config||{},{withArrow:k=!0}=p;this.top=d,this.left=c,this.position=g,this.withArrow=k}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Zp(e.target),r=e.limiter?Zp(e.limiter):J_;this.listenTo(Ae.document,"scroll",(s,c)=>{const d=c.target,g=t&&d.contains(t),p=r&&d.contains(r);!g&&!p&&t&&r||this.attachTo(e)},{useCapture:!0}),this.listenTo(Ae.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Ae.document,"scroll"),this.stopListening(Ae.window,"resize")}}function Zp(a){return Ee(a)?a:Xs(a)?a.commonAncestorContainer:typeof a=="function"?Zp(a()):null}function X_(a={}){const{sideOffset:e=Jt.arrowSideOffset,heightOffset:t=Jt.arrowHeightOffset,stickyVerticalOffset:r=Jt.stickyVerticalOffset,config:s}=a;return{northWestArrowSouthWest:(g,p)=>({top:c(g,p),left:g.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(g,p)=>({top:c(g,p),left:g.left-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(g,p)=>({top:c(g,p),left:g.left-p.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(g,p)=>({top:c(g,p),left:g.left-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(g,p)=>({top:c(g,p),left:g.left-p.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(g,p)=>({top:c(g,p),left:g.left+g.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(g,p)=>({top:c(g,p),left:g.left+g.width/2-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(g,p)=>({top:c(g,p),left:g.left+g.width/2-p.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(g,p)=>({top:c(g,p),left:g.left+g.width/2-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(g,p)=>({top:c(g,p),left:g.left+g.width/2-p.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(g,p)=>({top:c(g,p),left:g.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(g,p)=>({top:c(g,p),left:g.right-.25*p.width-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(g,p)=>({top:c(g,p),left:g.right-p.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(g,p)=>({top:c(g,p),left:g.right-.75*p.width+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(g,p)=>({top:c(g,p),left:g.right-p.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:g=>({top:d(g),left:g.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.left-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(g,p)=>({top:d(g),left:g.left-p.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.left-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(g,p)=>({top:d(g),left:g.left-p.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:g=>({top:d(g),left:g.left+g.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.left+g.width/2-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(g,p)=>({top:d(g),left:g.left+g.width/2-p.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.left+g.width/2-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(g,p)=>({top:d(g),left:g.left+g.width/2-p.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:g=>({top:d(g),left:g.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(g,p)=>({top:d(g),left:g.right-.25*p.width-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(g,p)=>({top:d(g),left:g.right-p.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(g,p)=>({top:d(g),left:g.right-.75*p.width+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(g,p)=>({top:d(g),left:g.right-p.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(g,p)=>({top:g.top+g.height/2-p.height/2,left:g.left-p.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(g,p)=>({top:g.top+g.height/2-p.height/2,left:g.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(g,p,k,b)=>{const A=b||k;return g.getIntersection(A)?A.height-g.height>r?null:{top:A.top+r,left:g.left+g.width/2-p.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null}};function c(g,p){return g.top-p.height-t}function d(g){return g.bottom+t}}Jt.arrowSideOffset=25,Jt.arrowHeightOffset=10,Jt.stickyVerticalOffset=20,Jt._getOptimalPosition=lt,Jt.defaultPositions=X_();var eA=o(3888),kM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(eA.Z,kM),eA.Z.locals;const tA="ck-tooltip";class Wt extends tt(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Wt._editors.add(e),Wt._instance)return Wt._instance;Wt._instance=this,this.tooltipTextView=new Te(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Jt(e.locale),this.balloonPanelView.class=tA,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Kc(this._pinTooltip,600),this.listenTo(Ae.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ae.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Wt._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Wt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wt._instance=null)}static getPositioningFunctions(e){const t=Wt.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const r=Qp(t);var s;r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,{text:(s=r).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:t,relatedTarget:r}){if(e.name==="mouseleave"){if(!Ee(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Qp(t),c=Qp(r);s&&s!==c&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:r,cssClass:s}){const c=Ht(Wt._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Wt.getPositioningFunctions(r)}),this._resizeObserver=new Be(e,()=>{yt(e)||this._unpinTooltip()}),this.balloonPanelView.class=[tA,s].filter(d=>d).join(" ");for(const d of Wt._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Wt._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){yt(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wt.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function Qp(a){return Ee(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Wt.defaultBalloonPositions=X_({heightOffset:5,sideOffset:13}),Wt._editors=new Set,Wt._instance=null;const bM=50,wM=350,vM="Powered by";class _M extends tt(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=ol(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function r(E){return E.length>=40&&E.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let s="";try{s=atob(t)}catch{return"INVALID"}const c=s.split("-"),d=c[0],g=c[1];if(!g)return r(t);try{atob(g)}catch{try{if(atob(d),!atob(d).length)return r(t)}catch{return r(t)}}if(d.length<40||d.length>255)return"INVALID";let p="";try{atob(d),p=atob(g)}catch{return"INVALID"}if(p.length!==8)return"INVALID";const k=Number(p.substring(0,4)),b=Number(p.substring(4,6))-1,A=Number(p.substring(6,8)),C=new Date(k,b,A);return C<ae||isNaN(Number(C))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,r,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,r,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Jt,r=iA(e),s=new AM(e.locale,r.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,r){const s=iA(t),c=s.side==="right"?function(d,g){return nA(d,g,(p,k)=>p.left+p.width-k.width-g.horizontalOffset)}(r,s):function(d,g){return nA(d,g,p=>p.left+g.horizontalOffset)}(r,s);return{target:r,positions:[c]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!t||!r)return void(this._lastFocusedEditableElement=null);const s=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));s.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=s[0]}}class AM extends Te{constructor(e,t){super(e);const r=new br,s=this.bindTemplate;r.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],r],on:{dragstart:s.to(c=>c.preventDefault())}}]})}}function nA(a,e,t){return(r,s)=>{const c=new Ne(a);if(c.width<wM||c.height<bM)return null;let d;d=e.position==="inside"?c.bottom-s.height:c.bottom-s.height/2,d-=e.verticalOffset;const g=t(c,s),p=r.clone().moveTo(g,d).getIntersection(s.clone().moveTo(g,d)).getVisible();return!p||p.getArea()<s.getArea()?null:{top:d,left:g,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function iA(a){const e=a.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:vM,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class yM extends Ye(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new gM(e),this.focusTracker=new Dn,this.tooltipManager=new Wt(e),this.poweredBy=new _M(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let r,s;e.keystrokes.set("Alt+F10",(c,d)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(t.domRoots.values()).includes(g)&&(r=g);const p=this._getCurrentFocusedToolbarDefinition();p&&s||(s=this._getFocusableCandidateToolbarDefinitions());for(let k=0;k<s.length;k++){const b=s.shift();if(s.push(b),b!==p&&this._focusFocusableCandidateToolbar(b)){p&&p.options.afterBlur&&p.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(c,d)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(r?(r.focus(),r=null):e.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:r,options:s}=t;(yt(r.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,r)=>rA(t)-rA(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:r}}=e;return r&&r(),!!yt(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=r.top,t.viewportOffset.bottom+=r.bottom,t.viewportOffset.left+=r.left,t.viewportOffset.right+=r.right}}function rA(a){const{toolbarView:e,options:t}=a;let r=10;return yt(e.element)&&r--,t.isContextual&&r--,r}var oA=o(9847),CM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(oA.Z,CM),oA.Z.locals;class xM extends Te{constructor(e){super(e),this.body=new II(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class EM extends Te{constructor(e,t,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(r){e.change(s=>{const c=e.document.getRoot(r.name);s.addClass(r.isFocused?"ck-focused":"ck-blurred",c),s.removeClass(r.isFocused?"ck-blurred":"ck-focused",c)})}e.isRenderingInProgress?function r(s){e.once("change:isRenderingInProgress",(c,d,g)=>{g?r(s):t(s)})}(this):t(this)}}class DM extends EM{constructor(e,t,r,s={}){super(e,t,r);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const r=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),r)})}}var sA=o(1874),SM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(sA.Z,SM),sA.Z.locals;class aA extends lw{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class cA extends Ye(){constructor(e,t){super(),t&&$w(this,t),e&&this.set(e)}}var lA=o(7592),TM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(lA.Z,TM),lA.Z.locals;var dA=o(6356),IM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(dA.Z,IM),dA.Z.locals;const Uu=rn("px");class Hu extends ce{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,r=t.document.selection.editableElement;return r?t.domConverter.mapViewToDom(r.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new D("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const r=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new D("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new D("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Jt(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new MM(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,s)=>{if(s<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[c,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new NM(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,r)=>!r&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:r=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class MM extends Te{constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Dn,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const r=new Ze(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r}}class NM extends Te{constructor(e,t){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:r.to("top",Uu),left:r.to("left",Uu),width:r.to("width",Uu),height:r.to("height",Uu)}},children:this.content}),this.on("change:numberOfPanels",(s,c,d,g)=>{d>g?this._addPanels(d-g):this._removePanels(g-d),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Te;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:r,height:s}=new Ne(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:r,height:s})}}}var uA=o(3707),OM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(uA.Z,OM),uA.Z.locals;class BM extends cl{constructor(e,t){const r=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:ll},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new br,this.iconView.content=Pe.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Ze(e),this.resetButtonView.set({label:r("Clear"),icon:Pe.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",c=>!c),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class PM extends Te{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class LM extends Te{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new wr({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var hA=/[\\^$.*+?()[\]{}|]/g,zM=RegExp(hA.source);const fA=function(a){return(a=rp(a))&&zM.test(a)?a.replace(hA,"\\$&"):a};var gA=o(9332),jM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(gA.Z,jM),gA.Z.locals;class RM extends Te{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Dn,this.keystrokes=new wi,this.resultsView=new LM(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new PM,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new wr({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(r,{resultsCount:s,totalItemsCount:c})=>{this.resultsCount=s,this.totalItemsCount=c}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(fA(e),"ig"):null,r=this.filteredView.filter(t);this.fire("search",{query:e,...r})}_createSearchTextQueryView(){const e=new BM(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function r(s,{query:c,resultsCount:d,totalItemsCount:g}){return typeof s=="function"?s(c,d,g):s}this.on("search",(s,c)=>{if(c.resultsCount)t.set({isVisible:!1});else{const d=this._config.infoView&&this._config.infoView.text;let g,p;c.totalItemsCount?d&&d.notFound?(g=d.notFound.primary,p=d.notFound.secondary):(g=e("No results found"),p=""):d&&d.noSearchableItems?(g=d.noSearchableItems.primary,p=d.noSearchableItems.secondary):(g=e("No searchable items"),p=""),t.set({primaryText:r(g,c),secondaryText:r(p,c),isVisible:!0})}})}}var pA=o(4029),FM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(pA.Z,FM),pA.Z.locals;class ul extends RM{constructor(e,t){super(e,t),this._config=t;const r=rn("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",c=>!c),s.to("_position",c=>`ck-search__results_${c}`)],style:{width:s.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(c,d,g)=>{this._updateResultsVisibility(),g?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(Ae.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ne(this.queryView.fieldView.element).width;const e=ul._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ul.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=this._config.queryMinChars===void 0?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}ul.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,e)=>({top:a.top-e.height,left:a.left,name:"n"})],ul._getOptimalPosition=lt;var mA=o(4746),VM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(mA.Z,VM),mA.Z.locals;var kA=o(6446),UM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(kA.Z,UM),kA.Z.locals;var bA=o(4176),HM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(bA.Z,HM),bA.Z.locals;class $M extends yM{constructor(e,t){super(e),this.view=t,this._toolbarConfig=x_(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,r=e.editing.view,s=t.editable,c=r.document.getRoot();s.name=c.rootName,t.render();const d=s.element;this.setEditableElement(s.name,d),s.bind("isFocused").to(this.focusTracker),r.attachDomRoot(d),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,r=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:c})=>c||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:r,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,r=t.document.getRoot(),s=e.config.get("placeholder");if(s){const c=typeof s=="string"?s:s[r.rootName];c&&(r.placeholder=c)}hw({view:t,element:r,isDirectHost:!1,keepOnFocus:!0})}}const WM=rn("px");class qM extends xM{constructor(e,t,r,s={}){super(e);const c=e.t;this.toolbar=new Vp(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new Jt(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new DM(e,t,r,{label:d=>c("Rich Text Editor. Editing area: %0",d.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const e=this.editable.element;this._resizeObserver=new Be(e,()=>{this.toolbar.maxWidth=WM(new Ne(e).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let r;return r=e.top>t.height+this.viewportTopOffset?e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?this.viewportTopOffset:e.bottom,r}_getPanelPositions(){const e=[(t,r)=>({top:this._getPanelPositionTop(t,r),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,r)=>({top:this._getPanelPositionTop(t,r),left:t.left+t.width-r.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class $u extends Bu(Op(_I)){constructor(e,t={}){if(!Wu(e)&&t.initialData!==void 0)throw new D("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",function(c){return Wu(c)?(d=c,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):c;var d}(e)),this.model.document.createRoot(),Wu(e)&&(this.sourceElement=e,function(c,d){if(d.ckeditorInstance)throw new D("editor-source-element-already-used",c);d.ckeditorInstance=c,c.once("destroy",()=>{delete d.ckeditorInstance})}(this,e));const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new qM(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:r});this.ui=new $M(this,s),function(c){if(!lr(c.updateSourceElement))throw new D("attachtoform-missing-elementapi-interface",c);const d=c.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(d)&&d.form){let g;const p=d.form,k=()=>c.updateSourceElement();lr(p.submit)&&(g=p.submit,p.submit=()=>{k(),g.apply(p)}),p.addEventListener("submit",k),c.on("destroy",()=>{p.removeEventListener("submit",k),g&&(p.submit=g)})}}(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(r=>{if(Wu(e)&&e.tagName==="TEXTAREA")throw new D("editor-wrong-element",null);const s=new this(e,t);r(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function Wu(a){return Ee(a)}$u.Context=cw,$u.EditorWatchdog=e_,$u.ContextWatchdog=class extends Jv{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new CI,this._watchdogConfig=e,this._creator=t=>a.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(sl,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=t_(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return r=new e_(null,this._watchdogConfig),r.setCreator(t.creator),r._setExcludedProperties(this._contextProps),t.destructor&&r.setDestructor(t.destructor),this._watchdogs.set(t.id,r),r.on("error",(s,{error:c,causesRestart:d})=>{this._fire("itemError",{itemId:t.id,error:c}),d&&this._actionQueues.enqueue(t.id,()=>new Promise(g=>{const p=()=>{r.off("restart",p),this._fire("itemRestart",{itemId:t.id}),g()};r.on("restart",p)}))}),r.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(a){const e=t_(a);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const r=this._getWatchdog(t);return this._watchdogs.delete(t),r.destroy()})))}destroy(){return this._actionQueues.enqueue(sl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(sl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=Bp(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return Xv(this._context,a.context)}};const Jp=["left","right","center","justify"];function wA(a){return Jp.includes(a)}function vA(a,e){return e.contentLanguageDirection=="rtl"?a==="right":a==="left"}function _A(a){const e=a.map(r=>{let s;return s=typeof r=="string"?{name:r}:r,s}).filter(r=>{const s=Jp.includes(r.name);return s||W("alignment-config-name-not-recognized",{option:r}),s}),t=e.filter(r=>!!r.className).length;if(t&&t<e.length)throw new D("alignment-config-classnames-are-missing",{configuredOptions:a});return e.forEach((r,s,c)=>{const d=c.slice(s+1);if(d.some(g=>g.name==r.name))throw new D("alignment-config-name-already-defined",{option:r,configuredOptions:a});if(r.className&&d.some(g=>g.className==r.className))throw new D("alignment-config-classname-already-defined",{option:r,configuredOptions:a})}),e}const Xp="alignment";class GM extends st{refresh(){const e=this.editor.locale,t=Ht(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,r=t.locale,s=t.model,c=s.document,d=e.value;s.change(g=>{const p=Array.from(c.selection.getSelectedBlocks()).filter(b=>this._canBeAligned(b)),k=p[0].getAttribute("alignment");vA(d,r)||k===d||!d?function(b,A){for(const C of b)A.removeAttribute(Xp,C)}(p,g):function(b,A,C){for(const E of b)A.setAttribute(Xp,C,E)}(p,g,d)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Xp)}}class YM extends ce{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Jp.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,r=e.model.schema,s=_A(e.config.get("alignment.options")).filter(p=>wA(p.name)&&!vA(p.name,t)),c=s.some(p=>!!p.className);r.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),c?e.conversion.attributeToAttribute(function(p){const k={};for(const A of p)k[A.name]={key:"class",value:A.className};return{model:{key:"alignment",values:p.map(A=>A.name)},view:k}}(s)):e.conversion.for("downcast").attributeToAttribute(function(p){const k={};for(const{name:A}of p)k[A]={key:"style",value:{"text-align":A}};return{model:{key:"alignment",values:p.map(A=>A.name)},view:k}}(s));const d=function(p){const k=[];for(const{name:b}of p)k.push({view:{key:"style",value:{"text-align":b}},model:{key:"alignment",value:b}});return k}(s);for(const p of d)e.conversion.for("upcast").attributeToAttribute(p);const g=function(p){const k=[];for(const{name:b}of p)k.push({view:{key:"align",value:b},model:{key:"alignment",value:b}});return k}(s);for(const p of g)e.conversion.for("upcast").attributeToAttribute(p);e.commands.add("alignment",new GM(e))}}const qu=new Map([["left",Pe.alignLeft],["right",Pe.alignRight],["center",Pe.alignCenter],["justify",Pe.alignJustify]]);class KM extends ce{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,r=e.t,s=_A(e.config.get("alignment.options"));s.map(c=>c.name).filter(wA).forEach(c=>this._addButton(c)),t.add("alignment",c=>{const d=Jr(c);Ru(d,()=>s.map(k=>t.create(`alignment:${k.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:r("Text alignment toolbar")}),d.buttonView.set({label:r("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const g=c.contentLanguageDirection==="rtl"?qu.get("right"):qu.get("left"),p=e.commands.get("alignment");return d.buttonView.bind("icon").to(p,"value",k=>qu.get(k)||g),d.bind("isEnabled").to(p,"isEnabled"),this.listenTo(d,"execute",()=>{e.editing.view.focus()}),d})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,r=>{const s=t.commands.get("alignment"),c=new Ze(r);return c.set({label:this.localizedOptionTitles[e],icon:qu.get(e),tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s),c.bind("isOn").to(s,"value",d=>d===e),this.listenTo(c,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),c})}}class AA{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(r,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class ZM extends st{constructor(e,t){super(e),this._buffer=new AA(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,r=t.document,s=e.text||"",c=s.length;let d=r.selection;if(e.selection?d=e.selection:e.range&&(d=t.createSelection(e.range)),!t.canEditAt(d))return;const g=e.resultRange;t.enqueueChange(this._buffer.batch,p=>{this._buffer.lock(),t.deleteContent(d),s&&t.insertContent(p.createText(s,r.selection.getAttributes()),d),g?p.setSelection(g):d.is("documentSelection")||p.setSelection(d),this._buffer.unlock(),this._buffer.input(c)})}}const yA=["insertText","insertReplacementText"];class QM extends qi{constructor(e){super(e),this.focusObserver=e.getObserver(Su),f.isAndroid&&yA.push("insertCompositionText");const t=e.document;t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{data:c,targetRanges:d,inputType:g,domEvent:p}=s;if(!yA.includes(g))return;this.focusObserver.flush();const k=new S(t,"insertText");t.fire(k,new ia(e,p,{text:c,selection:e.createSelection(d)})),k.stop.called&&r.stop()}),t.on("compositionend",(r,{data:s,domEvent:c})=>{this.isEnabled&&!f.isAndroid&&s&&t.fire("insertText",new ia(e,c,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class CA extends ce{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,r=e.editing.view,s=t.document.selection;r.addObserver(QM);const c=new ZM(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(r.document,"insertText",(d,g)=>{r.document.isComposing||g.preventDefault();const{text:p,selection:k,resultRange:b}=g,A=Array.from(k.getRanges()).map(M=>e.editing.mapper.toModelRange(M));let C=p;if(f.isAndroid){const M=Array.from(A[0].getItems()).reduce((O,z)=>O+(z.is("$textProxy")?z.data:""),"");M&&(M.length<=C.length?C.startsWith(M)&&(C=C.substring(M.length),A[0].start=A[0].start.getShiftedBy(M.length)):M.startsWith(C)&&(A[0].start=A[0].start.getShiftedBy(C.length),C=""))}const E={text:C,selection:t.createSelection(A)};b&&(E.resultRange=e.editing.mapper.toModelRange(b)),e.execute("insertText",E),r.scrollToTheSelection()}),f.isAndroid?this.listenTo(r.document,"keydown",(d,g)=>{!s.isCollapsed&&g.keyCode==229&&r.document.isComposing&&xA(t,c)}):this.listenTo(r.document,"compositionstart",()=>{s.isCollapsed||xA(t,c)})}}function xA(a,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),a.enqueueChange(t.batch,()=>{a.deleteContent(a.document.selection)}),t.unlock()}class EA extends st{constructor(e,t){super(e),this.direction=t,this._buffer=new AA(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,r=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const c=s.createSelection(e.selection||r.selection);if(!t.canEditAt(c))return;const d=e.sequence||1,g=c.isCollapsed;if(c.isCollapsed&&t.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d))return void this._replaceEntireContentWithParagraph(s);if(this._shouldReplaceFirstBlockWithParagraph(c,d))return void this.editor.execute("paragraph",{selection:c});if(c.isCollapsed)return;let p=0;c.getFirstRange().getMinimalFlatRanges().forEach(k=>{p+=Os(k.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(c,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(p),s.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const c=s.getChild(0);return!c||!c.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r),c=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(c,s),e.setSelection(c,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const r=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),c=r.schema.getLimitElement(s),d=c.getChild(0);return s.parent==d&&!!e.containsEntireContent(d)&&!!r.schema.checkChild(c,"paragraph")&&d.name!="paragraph"}}const DA="word",Xr="selection",da="backward",hl="forward",SA={deleteContent:{unit:Xr,direction:da},deleteContentBackward:{unit:"codePoint",direction:da},deleteWordBackward:{unit:DA,direction:da},deleteHardLineBackward:{unit:Xr,direction:da},deleteSoftLineBackward:{unit:Xr,direction:da},deleteContentForward:{unit:"character",direction:hl},deleteWordForward:{unit:DA,direction:hl},deleteHardLineForward:{unit:Xr,direction:hl},deleteSoftLineForward:{unit:Xr,direction:hl}};class JM extends qi{constructor(e){super(e);const t=e.document;let r=0;t.on("keydown",()=>{r++}),t.on("keyup",()=>{r=0}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:g,inputType:p}=c,k=SA[p];if(!k)return;const b={direction:k.direction,unit:k.unit,sequence:r};b.unit==Xr&&(b.selectionToRemove=e.createSelection(d[0])),p==="deleteContentBackward"&&(f.isAndroid&&(b.sequence=1),function(C){if(C.length!=1||C[0].isCollapsed)return!1;const E=C[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let M=0;for(const{nextPosition:O}of E){if(O.parent.is("$text")){const z=O.parent.data,V=O.offset;if(Xg(z,V)||ep(z,V)||iw(z,V))continue;M++}else M++;if(M>1)return!0}return!1}(d)&&(b.unit=Xr,b.selectionToRemove=e.createSelection(d)));const A=new ta(t,"delete",d[0]);t.fire(A,new ia(e,g,b)),A.stop.called&&s.stop()}),f.isBlink&&function(s){const c=s.view,d=c.document;let g=null,p=!1;function k(A){return A==Re.backspace||A==Re.delete}function b(A){return A==Re.backspace?da:hl}d.on("keydown",(A,{keyCode:C})=>{g=C,p=!1}),d.on("keyup",(A,{keyCode:C,domEvent:E})=>{const M=d.selection,O=s.isEnabled&&C==g&&k(C)&&!M.isCollapsed&&!p;if(g=null,O){const z=M.getFirstRange(),V=new ta(d,"delete",z),K={unit:Xr,direction:b(C),selectionToRemove:M};d.fire(V,new ia(c,E,K))}}),d.on("beforeinput",(A,{inputType:C})=>{const E=SA[C];k(g)&&E&&E.direction==b(g)&&(p=!0)},{priority:"high"}),d.on("beforeinput",(A,{inputType:C,data:E})=>{g==Re.delete&&C=="insertText"&&E==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Qi extends ce{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,r=t.document,s=e.model.document;t.addObserver(JM),this._undoOnBackspace=!1;const c=new EA(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new EA(e,"backward")),this.listenTo(r,"delete",(d,g)=>{r.isComposing||g.preventDefault();const{direction:p,sequence:k,selectionToRemove:b,unit:A}=g,C=p==="forward"?"deleteForward":"delete",E={sequence:k};if(A=="selection"){const M=Array.from(b.getRanges()).map(O=>e.editing.mapper.toModelRange(O));E.selection=e.model.createSelection(M)}else E.unit=A;e.execute(C,E),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(d,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),g.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class XM extends ce{static get requires(){return[CA,Qi]}static get pluginName(){return"Typing"}}function TA(a,e){let t=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((r,{item:s})=>s.is("$text")||s.is("$textProxy")?r+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,a.end)}}class IA extends Ye(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:r})=>{r&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,r)=>{!r.isUndo&&r.isLocal&&this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,t={}){const r=this.model,s=r.document.selection,c=r.createRange(r.createPositionAt(s.focus.parent,0),s.focus),{text:d,range:g}=TA(c,r),p=this.testCallback(d);if(!p&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!p,p){const k=Object.assign(t,{text:d,range:g});typeof p=="object"&&Object.assign(k,p),this.fire(`matched:${e}`,k)}}}class MA extends ce{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,r=e.editing.view,s=e.locale,c=t.document.selection;this.listenTo(r.document,"arrowKey",(d,g)=>{if(!c.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const p=g.keyCode==Re.arrowright,k=g.keyCode==Re.arrowleft;if(!p&&!k)return;const b=s.contentLanguageDirection;let A=!1;A=b==="ltr"&&p||b==="rtl"&&k?this._handleForwardMovement(g):this._handleBackwardMovement(g),A===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(d,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&Yu(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,r=this.editor.model.document.selection,s=r.getFirstPosition();return!this._isGravityOverridden&&(!s.isAtStart||!em(r,t))&&!!Yu(s,t)&&(Gu(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,r=this.editor.model,s=r.document.selection,c=s.getFirstPosition();return this._isGravityOverridden?(Gu(e),this._restoreGravity(),tm(r,t,c),!0):c.isAtStart?!!em(s,t)&&(Gu(e),tm(r,t,c),!0):!!function(d,g){const p=d.getShiftedBy(-1);return Yu(p,g)}(c,t)&&(c.isAtEnd&&!em(s,t)&&Yu(c,t)?(Gu(e),tm(r,t,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function em(a,e){for(const t of e)if(a.hasAttribute(t))return!0;return!1}function tm(a,e,t){const r=t.nodeBefore;a.change(s=>{if(r){const c=[],d=a.schema.isObject(r)&&a.schema.isInline(r);for(const[g,p]of r.getAttributes())!a.schema.checkAttribute("$text",g)||d&&a.schema.getAttributeProperties(g).copyFromObject===!1||c.push([g,p]);s.setSelectionAttribute(c)}else s.removeSelectionAttribute(e)})}function Gu(a){a.preventDefault()}function Yu(a,e){const{nodeBefore:t,nodeAfter:r}=a;for(const s of e){const c=t?t.getAttribute(s):void 0;if((r?r.getAttribute(s):void 0)!==c)return!0}return!1}const NA={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:ua('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:ua("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:ua("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:ua('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:ua('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:ua("'"),to:[null,"‚",null,"’"]}},OA={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},e3=["symbols","mathematical","typography","quotes"];function t3(a){return typeof a=="string"?new RegExp(`(${fA(a)})$`):a}function n3(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function i3(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function ua(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function ha(a,e,t,r){return r.createRange(BA(a,e,t,!0,r),BA(a,e,t,!1,r))}function BA(a,e,t,r,s){let c=a.textNode||(r?a.nodeBefore:a.nodeAfter),d=null;for(;c&&c.getAttribute(e)==t;)d=c,c=r?c.previousSibling:c.nextSibling;return d?s.createPositionAt(d,r?"before":"after"):a}function eo(a,e,t,r){let s,c=null;typeof r=="function"?s=r:(c=a.commands.get(r),s=()=>{a.execute(r)}),a.model.document.on("change:data",(d,g)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const p=Ht(a.model.document.selection.getRanges());if(!p.isCollapsed||g.isUndo||!g.isLocal)return;const k=Array.from(a.model.document.differ.getChanges()),b=k[0];if(k.length!=1||b.type!=="insert"||b.name!="$text"||b.length!=1)return;const A=b.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||c&&c.value===!0)return;const C=A.getChild(0),E=a.model.createRangeOn(C);if(!E.containsRange(p)&&!p.end.isEqual(E.end))return;const M=t.exec(C.data.substr(0,p.end.offset));M&&a.model.enqueueChange(O=>{const z=O.createPositionAt(A,0),V=O.createPositionAt(A,M[0].length),K=new Sn(z,V);if(s({match:M})!==!1){O.remove(K);const se=a.model.document.selection.getFirstRange(),ye=O.createRangeIn(A);!A.isEmpty||ye.isEqual(se)||ye.containsRange(se,!0)||O.remove(A)}K.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function fa(a,e,t,r){let s,c;t instanceof RegExp?s=t:c=t,c=c||(d=>{let g;const p=[],k=[];for(;(g=s.exec(d))!==null&&!(g&&g.length<4);){let{index:b,1:A,2:C,3:E}=g;const M=A+C+E;b+=g[0].length-M.length;const O=[b,b+A.length],z=[b+A.length+C.length,b+A.length+C.length+E.length];p.push(O),p.push(z),k.push([b+A.length,b+A.length+C.length])}return{remove:p,format:k}}),a.model.document.on("change:data",(d,g)=>{if(g.isUndo||!g.isLocal||!e.isEnabled)return;const p=a.model,k=p.document.selection;if(!k.isCollapsed)return;const b=Array.from(p.document.differ.getChanges()),A=b[0];if(b.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const C=k.focus,E=C.parent,{text:M,range:O}=function(se,ye){let ze=se.start;return{text:Array.from(se.getItems()).reduce((er,wn)=>!wn.is("$text")&&!wn.is("$textProxy")||wn.getAttribute("code")?(ze=ye.createPositionAfter(wn),""):er+wn.data,""),range:ye.createRange(ze,se.end)}}(p.createRange(p.createPositionAt(E,0),C),p),z=c(M),V=PA(O.start,z.format,p),K=PA(O.start,z.remove,p);V.length&&K.length&&p.enqueueChange(se=>{if(r(se,V)!==!1){for(const ye of K.reverse())se.remove(ye);p.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function PA(a,e,t){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>t.createRange(a.getShiftedBy(r[0]),a.getShiftedBy(r[1])))}function Ku(a,e){return(t,r)=>{if(!a.commands.get(e).isEnabled)return!1;const s=a.model.schema.getValidRanges(r,e);for(const c of s)t.setAttribute(e,!0,c);t.removeSelectionAttribute(e)}}class LA extends st{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(c=>{if(r.isCollapsed)s?c.setSelectionAttribute(this.attributeKey,!0):c.removeSelectionAttribute(this.attributeKey);else{const d=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const g of d)s?c.setAttribute(this.attributeKey,s,g):c.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const s of r.getRanges())for(const c of s.getItems())if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const ga="bold";class r3 extends ce{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ga}),e.model.schema.setAttributeProperties(ga,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ga,view:"strong",upcastAlso:["b",t=>{const r=t.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(ga,new LA(e,ga)),e.keystrokes.set("CTRL+B",ga)}}const nm="bold";class o3 extends ce{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(nm,r=>{const s=e.commands.get(nm),c=new Ze(r);return c.set({label:t("Bold"),icon:Pe.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(nm),e.editing.view.focus()}),c})}}var zA=o(5363),s3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(zA.Z,s3),zA.Z.locals;const pa="italic";class a3 extends ce{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:pa}),e.model.schema.setAttributeProperties(pa,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:pa,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(pa,new LA(e,pa)),e.keystrokes.set("CTRL+I",pa)}}const im="italic";class c3 extends ce{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(im,r=>{const s=e.commands.get(im),c=new Ze(r);return c.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(im),e.editing.view.focus()}),c})}}function*jA(a,e){for(const t of e)t&&a.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class l3 extends st{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,r=t.document.selection,s=t.schema,c=r.isCollapsed,d=r.getFirstRange(),g=d.start.parent,p=d.end.parent;if(s.isLimit(g)||s.isLimit(p))return c||g!=p||t.deleteContent(r),!1;if(c){const k=jA(e.model.schema,r.getAttributes());return RA(e,d.start),e.setSelectionAttribute(k),!0}{const k=!(d.start.isAtStart&&d.end.isAtEnd),b=g==p;if(t.deleteContent(r,{leaveUnmerged:k}),k){if(b)return RA(e,r.focus),!0;e.setSelection(p,0)}}return!1}}function RA(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const d3={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class FA extends qi{constructor(e){super(e);const t=this.document;let r=!1;t.on("keydown",(s,c)=>{r=c.shiftKey}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;let d=c.inputType;f.isSafari&&r&&d=="insertParagraph"&&(d="insertLineBreak");const g=c.domEvent,p=d3[d];if(!p)return;const k=new ta(t,"enter",c.targetRanges[0]);t.fire(k,new ia(e,g,{isSoft:p.isSoft})),k.stop.called&&s.stop()})}observe(){}stopObserving(){}}class Zu extends ce{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,r=t.document;t.addObserver(FA),e.commands.add("enter",new l3(e)),this.listenTo(r,"enter",(s,c)=>{r.isComposing||c.preventDefault(),c.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class u3 extends st{execute(){const e=this.editor.model,t=e.document;e.change(r=>{(function(s,c,d){const g=d.isCollapsed,p=d.getFirstRange(),k=p.start.parent,b=p.end.parent,A=k==b;if(g){const C=jA(s.schema,d.getAttributes());VA(s,c,p.end),c.removeSelectionAttribute(d.getAttributeKeys()),c.setSelectionAttribute(C)}else{const C=!(p.start.isAtStart&&p.end.isAtEnd);s.deleteContent(d,{leaveUnmerged:C}),A?VA(s,c,d.focus):C&&c.setSelection(b,0)}})(e,r,t.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(r,s){if(s.rangeCount>1)return!1;const c=s.anchor;if(!c||!r.checkChild(c,"softBreak"))return!1;const d=s.getFirstRange(),g=d.start.parent,p=d.end.parent;return!((rm(g,r)||rm(p,r))&&g!==p)}(e.schema,t.selection)}}function VA(a,e,t){const r=e.createElement("softBreak");a.insertContent(r,t),e.setSelection(r,"after")}function rm(a,e){return!a.is("rootElement")&&(e.isLimit(a)||rm(a.parent,e))}class h3 extends ce{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,r=e.conversion,s=e.editing.view,c=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:g})=>g.createEmptyElement("br")}),s.addObserver(FA),e.commands.add("shiftEnter",new u3(e)),this.listenTo(c,"enter",(d,g)=>{c.isComposing||g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class f3 extends st{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.schema,s=t.document.selection,c=Array.from(s.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;t.change(g=>{if(d){const p=c.filter(k=>Qu(k)||HA(r,k));this._applyQuote(g,p)}else this._removeQuote(g,c.filter(Qu))})}_getValue(){const e=Ht(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Qu(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=Ht(e.getSelectedBlocks());return!!r&&HA(t,r)}_removeQuote(e,t){UA(e,t).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd)return void e.unwrap(r.start.parent);if(r.start.isAtStart){const c=e.createPositionBefore(r.start.parent);return void e.move(r,c)}r.end.isAtEnd||e.split(r.end);const s=e.createPositionAfter(r.end.parent);e.move(r,s)})}_applyQuote(e,t){const r=[];UA(e,t).reverse().forEach(s=>{let c=Qu(s.start);c||(c=e.createElement("blockQuote"),e.wrap(s,c)),r.push(c)}),r.reverse().reduce((s,c)=>s.nextSibling==c?(e.merge(e.createPositionAfter(s)),s):c)}}function Qu(a){return a.parent.name=="blockQuote"?a.parent:null}function UA(a,e){let t,r=0;const s=[];for(;r<e.length;){const c=e[r],d=e[r+1];t||(t=a.createPositionBefore(c)),d&&c.nextSibling==d||(s.push(a.createRange(t,a.createPositionAfter(c))),t=null),r++}return s}function HA(a,e){const t=a.checkChild(e.parent,"blockQuote"),r=a.checkChild(["$root","blockQuote"],e);return t&&r}class g3 extends ce{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Zu,Qi]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new f3(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const g=e.model.document.differ.getChanges();for(const p of g)if(p.type=="insert"){const k=p.position.nodeAfter;if(!k)continue;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0;if(k.is("element","blockQuote")&&!t.checkChild(p.position,k))return d.unwrap(k),!0;if(k.is("element")){const b=d.createRangeIn(k);for(const A of b.getItems())if(A.is("element","blockQuote")&&!t.checkChild(d.createPositionBefore(A),A))return d.unwrap(A),!0}}else if(p.type=="remove"){const k=p.position.parent;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0}return!1});const r=this.editor.editing.view.document,s=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(r,"enter",(d,g)=>{!s.isCollapsed||!c.value||s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(d,g)=>{if(g.direction!="backward"||!s.isCollapsed||!c.value)return;const p=s.getLastPosition().parent;p.isEmpty&&!p.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),d.stop())},{context:"blockquote"})}}var $A=o(3789),p3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()($A.Z,p3),$A.Z.locals;class m3 extends ce{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",r=>{const s=e.commands.get("blockQuote"),c=new Ze(r);return c.set({label:t("Block quote"),icon:Pe.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class fl extends Xo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function r(s){return(c,d)=>{d.preventDefault();const g=d.dropRange?[d.dropRange]:null,p=new S(t,s);t.fire(p,{dataTransfer:d.dataTransfer,method:c.name,targetRanges:g,target:d.target,domEvent:d.domEvent}),p.stop.called&&d.stopPropagation()}}this.listenTo(t,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",r("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",s={dataTransfer:new Xw(t,{cacheFiles:r})};e.type!="drop"&&e.type!="dragover"||(s.dropRange=function(c,d){const g=d.target.ownerDocument,p=d.clientX,k=d.clientY;let b;return g.caretRangeFromPoint&&g.caretRangeFromPoint(p,k)?b=g.caretRangeFromPoint(p,k):d.rangeParent&&(b=g.createRange(),b.setStart(d.rangeParent,d.rangeOffset),b.collapse(!0)),b?c.domConverter.domRangeToView(b):null}(this.view,e)),this.fire(e.type,e,s)}}const WA=["figcaption","li"];function qA(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let t=null;for(const r of a.getChildren()){const s=qA(r);t&&(t.is("containerElement")||r.is("containerElement"))&&(WA.includes(t.name)||WA.includes(r.name)?e+=`
`:e+=`

`),e+=s,t=r}}return e}class Ji extends ce{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(fl),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,r){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:r})}_setupPasteDrop(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document;this.listenTo(s,"clipboardInput",(c,d)=>{d.method!="paste"||e.model.canEditAt(e.model.document.selection)||c.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(c,d)=>{const g=d.dataTransfer;let p;if(d.content)p=d.content;else{let A="";g.getData("text/html")?A=function(C){return C.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(E,M)=>M.length==1?" ":M).replace(/<!--[\s\S]*?-->/g,"")}(g.getData("text/html")):g.getData("text/plain")&&(((k=(k=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||k.includes("<br>"))&&(k=`<p>${k}</p>`),A=k),p=this.editor.data.htmlProcessor.toView(A)}var k;const b=new S(this,"inputTransformation");this.fire(b,{content:p,dataTransfer:g,targetRanges:d.targetRanges,method:d.method}),b.stop.called&&c.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const g=this.editor.data.toModel(d.content,"$clipboardHolder");g.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:g,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=t.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,r=e.editing.view.document,s=(c,d)=>{const g=d.dataTransfer;d.preventDefault(),this._fireOutputTransformationEvent(g,t.selection,c.name)};this.listenTo(r,"copy",s,{priority:"low"}),this.listenTo(r,"cut",(c,d)=>{e.model.canEditAt(e.model.document.selection)?s(c,d):d.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(c,d)=>{const g=e.data.toView(d.content);r.fire("clipboardOutput",{dataTransfer:d.dataTransfer,content:g,method:d.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(c,d)=>{d.content.isEmpty||(d.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",qA(d.content))),d.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class k3 extends H(){constructor(){super(...arguments),this._stack=[]}add(e,t){const r=this._stack,s=r[0];this._insertDescriptor(e);const c=r[0];s===c||om(s,c)||this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}remove(e,t){const r=this._stack,s=r[0];this._removeDescriptor(e);const c=r[0];s===c||om(s,c)||this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}_insertDescriptor(e){const t=this._stack,r=t.findIndex(c=>c.id===e.id);if(om(e,t[r]))return;r>-1&&t.splice(r,1);let s=0;for(;t[s]&&b3(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,r=t.findIndex(s=>s.id===e);r>-1&&t.splice(r,1)}}function om(a,e){return a&&e&&a.priority==e.priority&&Ju(a.classes)==Ju(e.classes)}function b3(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&Ju(a.classes)>Ju(e.classes)}function Ju(a){return Array.isArray(a)?a.sort().join(","):a}const w3='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',v3="ck-widget",GA="ck-widget_selected";function qt(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function sm(a,e,t={}){if(!a.is("containerElement"))throw new D("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(v3,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=y3,e.setCustomProperty("widgetLabel",[],a),t.label&&function(r,s){r.getCustomProperty("widgetLabel").push(s)}(a,t.label),t.hasSelectionHandle&&function(r,s){const c=s.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(d){const g=this.toDomElement(d),p=new br;return p.set("content",w3),p.render(),g.appendChild(p.element),g});s.insert(s.createPositionAt(r,0),c),s.addClass(["ck-widget_with-selection-handle"],r)}(a,e),YA(a,e),a}function _3(a,e,t){if(e.classes&&t.addClass(Ut(e.classes),a),e.attributes)for(const r in e.attributes)t.setAttribute(r,e.attributes[r],a)}function A3(a,e,t){if(e.classes&&t.removeClass(Ut(e.classes),a),e.attributes)for(const r in e.attributes)t.removeAttribute(r,a)}function YA(a,e,t=_3,r=A3){const s=new k3;s.on("change:top",(c,d)=>{d.oldDescriptor&&r(a,d.oldDescriptor,d.writer),d.newDescriptor&&t(a,d.newDescriptor,d.writer)}),e.setCustomProperty("addHighlight",(c,d,g)=>s.add(d,g),a),e.setCustomProperty("removeHighlight",(c,d,g)=>s.remove(d,g),a)}function am(a,e){const t=a.getSelectedElement();if(t){const r=to(a);if(r)return e.createRange(e.createPositionAt(t,r))}return Zv(a,e)}function y3(){return null}const vr="widget-type-around";function os(a,e,t){return!!a&&qt(a)&&!t.isInline(e)}function to(a){return a.getAttribute(vr)}var KA=o(2347),C3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(KA.Z,C3),KA.Z.locals;const ZA=["before","after"],x3=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,QA="ck-widget__type-around_disabled";class E3 extends ce{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Zu,Qi]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(r,s,c)=>{t.change(d=>{for(const g of t.document.roots)c?d.removeClass(QA,g):d.addClass(QA,g)}),c||e.model.change(d=>{d.removeSelectionAttribute(vr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const r=this.editor,s=r.editing.view,c=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,t),attributes:c}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,r,s){this.listenTo(e,t,(...c)=>{this.isEnabled&&r(...c)},s)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=to(e);if(!t)return!1;const r=e.getSelectedElement();return this._insertParagraph(r,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,r=e.locale.t,s={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,d,g)=>{const p=g.mapper.toViewElement(d.item);p&&os(p,d.item,t)&&(function(k,b,A){const C=k.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(E){const M=this.toDomElement(E);return function(O,z){for(const V of ZA){const K=new Zi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${V}`],title:z[V],"aria-hidden":"true"},children:[O.ownerDocument.importNode(x3,!0)]});O.appendChild(K.render())}}(M,b),function(O){const z=new Zi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});O.appendChild(z.render())}(M),M});k.insert(k.createPositionAt(A,"end"),C)}(g.writer,s,p),p.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,r=t.document.selection,s=t.schema,c=e.editing.view;function d(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(c.document,"arrowKey",(g,p)=>{this._handleArrowKeyPress(g,p)},{context:[qt,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(g,p)=>{p.directChange&&e.model.change(k=>{k.removeSelectionAttribute(vr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const g=r.getSelectedElement();g&&os(e.editing.mapper.toViewElement(g),g,s)||e.model.change(p=>{p.removeSelectionAttribute(vr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(g,p,k)=>{const b=k.writer;if(this._currentFakeCaretModelElement){const M=k.mapper.toViewElement(this._currentFakeCaretModelElement);M&&(b.removeClass(ZA.map(d),M),this._currentFakeCaretModelElement=null)}const A=p.selection.getSelectedElement();if(!A)return;const C=k.mapper.toViewElement(A);if(!os(C,A,s))return;const E=to(p.selection);E&&(b.addClass(d(E),C),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(g,p,k)=>{k||e.model.change(b=>{b.removeSelectionAttribute(vr)})})}_handleArrowKeyPress(e,t){const r=this.editor,s=r.model,c=s.document.selection,d=s.schema,g=r.editing.view,p=function(A,C){const E=tw(A,C);return E==="down"||E==="right"}(t.keyCode,r.locale.contentLanguageDirection),k=g.document.selection.getSelectedElement();let b;os(k,r.editing.mapper.toModelElement(k),d)?b=this._handleArrowKeyPressOnSelectedWidget(p):c.isCollapsed?b=this._handleArrowKeyPressWhenSelectionNextToAWidget(p):t.shiftKey||(b=this._handleArrowKeyPressWhenNonCollapsedSelection(p)),b&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,r=to(t.document.selection);return t.change(s=>r?r!==(e?"after":"before")?(s.removeSelectionAttribute(vr),!0):!1:(s.setSelectionAttribute(vr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,r=t.model,s=r.schema,c=t.plugins.get("Widget"),d=c._getObjectElementNextToSelection(e);return!!os(t.editing.mapper.toViewElement(d),d,s)&&(r.change(g=>{c._setSelectionOverElement(d),g.setSelectionAttribute(vr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,r=t.model,s=r.schema,c=t.editing.mapper,d=r.document.selection,g=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter;return!!os(c.toViewElement(g),g,s)&&(r.change(p=>{p.setSelection(g,"on"),p.setSelectionAttribute(vr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(r,s)=>{const c=s.domTarget.closest(".ck-widget__type-around__button");if(!c)return;const d=function(k){return k.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(c),g=function(k,b){const A=k.closest(".ck-widget");return b.mapDomToView(A)}(c,t.domConverter),p=e.editing.mapper.toModelElement(g);this._insertParagraph(p,d),s.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(s,c)=>{if(s.eventPhase!="atTarget")return;const d=t.getSelectedElement(),g=e.editing.mapper.toViewElement(d),p=e.model.schema;let k;this._insertParagraphAccordingToFakeCaretPosition()?k=!0:os(g,d,p)&&(this._insertParagraph(d,c.isSoft?"before":"after"),k=!0),k&&(c.preventDefault(),s.stop())},{context:qt})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=e.selection)},{priority:"high"}),f.isAndroid?this._listenToIfEnabled(e,"keydown",(t,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,r=e.model,s=r.schema;this._listenToIfEnabled(t.document,"delete",(c,d)=>{if(c.eventPhase!="atTarget")return;const g=to(r.document.selection);if(!g)return;const p=d.direction,k=r.document.selection.getSelectedElement(),b=p=="forward";if(g==="before"===b)e.execute("delete",{selection:r.createSelection(k,"on")});else{const A=s.getNearestSelectionRange(r.createPositionAt(k,g),p);if(A)if(A.isCollapsed){const C=r.createSelection(A.start);if(r.modifySelection(C,{direction:p}),C.focus.isEqual(A.start)){const E=function(M,O){let z=O;for(const V of O.getAncestors({parentFirst:!0})){if(V.childCount>1||M.isLimit(V))break;z=V}return z}(s,A.start.parent);r.deleteContent(r.createSelection(E,"on"),{doNotAutoparagraph:!0})}else r.change(E=>{E.setSelection(A),e.execute(b?"deleteForward":"delete")})}else r.change(C=>{C.setSelection(A),e.execute(b?"deleteForward":"delete")})}d.preventDefault(),c.stop()},{context:qt})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,r=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[c,d])=>{if(d&&!d.is("documentSelection"))return;const g=to(r);return g?(s.stop(),t.change(p=>{const k=r.getSelectedElement(),b=t.createPositionAt(k,g),A=p.createSelection(b),C=t.insertContent(c,A);return p.setSelection(A),C})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,s)=>{const[,c,d={}]=s;if(c&&!c.is("documentSelection"))return;const g=to(t);g&&(d.findOptimalPosition=g,s[3]=d)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[s])=>{s&&!s.is("documentSelection")||to(t)&&r.stop()},{priority:"high"})}}function D3(a){const e=a.model;return(t,r)=>{const s=r.keyCode==Re.arrowup,c=r.keyCode==Re.arrowdown,d=r.shiftKey,g=e.document.selection;if(!s&&!c)return;const p=c;if(d&&function(b,A){return!b.isCollapsed&&b.isBackward==A}(g,p))return;const k=function(b,A,C){const E=b.model;if(C){const M=A.isCollapsed?A.focus:A.getLastPosition(),O=JA(E,M,"forward");if(!O)return null;const z=E.createRange(M,O),V=XA(E.schema,z,"backward");return V?E.createRange(M,V):null}{const M=A.isCollapsed?A.focus:A.getFirstPosition(),O=JA(E,M,"backward");if(!O)return null;const z=E.createRange(O,M),V=XA(E.schema,z,"forward");return V?E.createRange(V,M):null}}(a,g,p);if(k){if(k.isCollapsed&&(g.isCollapsed||d))return;(k.isCollapsed||function(b,A,C){const E=b.model,M=b.view.domConverter;if(C){const se=E.createSelection(A.start);E.modifySelection(se),se.focus.isAtEnd||A.start.isEqual(se.focus)||(A=E.createRange(se.focus,A.end))}const O=b.mapper.toViewRange(A),z=M.viewRangeToDom(O),V=Ne.getDomRangeRects(z);let K;for(const se of V)if(K!==void 0){if(Math.round(se.top)>=K)return!1;K=Math.max(K,Math.round(se.bottom))}else K=Math.round(se.bottom);return!0}(a,k,p))&&(e.change(b=>{const A=p?k.end:k.start;if(d){const C=e.createSelection(g.anchor);C.setFocus(A),b.setSelection(C)}else b.setSelection(A)}),t.stop(),r.preventDefault(),r.stopPropagation())}}}function JA(a,e,t){const r=a.schema,s=a.createRangeIn(e.root),c=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:g,type:p}of s.getWalker({startPosition:e,direction:t})){if(r.isLimit(g)&&!r.isInline(g))return d;if(p==c&&r.isBlock(g))return null}return null}function XA(a,e,t){const r=t=="backward"?e.end:e.start;if(a.checkChild(r,"$text"))return r;for(const{nextPosition:s}of e.getWalker({direction:t}))if(a.checkChild(s,"$text"))return s;return null}var ey=o(7153),S3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(ey.Z,S3),ey.Z.locals;class gl extends ce{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[E3,Qi]}init(){const e=this.editor,t=e.editing.view,r=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{const g=d.writer,p=c.selection;if(p.isCollapsed)return;const k=p.getSelectedElement();if(!k)return;const b=e.editing.mapper.toViewElement(k);var A;qt(b)&&d.consumable.consume(p,"selection")&&g.setSelection(g.createRangeOn(b),{fake:!0,label:(A=b,A.getCustomProperty("widgetLabel").reduce((C,E)=>typeof E=="function"?C?C+". "+E():E():C?C+". "+E:E,""))})}),this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const g=d.writer,p=g.document.selection;let k=null;for(const b of p.getRanges())for(const A of b){const C=A.item;qt(C)&&!T3(C,k)&&(g.addClass(GA,C),this._previouslySelected.add(C),k=C)}},{priority:"low"}),t.addObserver(Ou),this.listenTo(r,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(r,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[qt,"$text"]}),this.listenTo(r,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(r,"arrowKey",D3(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(s,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const r=this.editor,s=r.editing.view,c=s.document;let d=t.target;if(function(p){let k=p;for(;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(qt(k))return!1;k=k.parent}return!1}(d)){if((f.isSafari||f.isGecko)&&t.domEvent.detail>=3){const p=r.editing.mapper,k=d.is("attributeElement")?d.findAncestor(A=>!A.is("attributeElement")):d,b=p.toModelElement(k);t.preventDefault(),this.editor.model.change(A=>{A.setSelection(b,"in")})}return}if(!qt(d)&&(d=d.findAncestor(qt),!d))return;f.isAndroid&&t.preventDefault(),c.isFocused||s.focus();const g=r.editing.mapper.toModelElement(d);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(e,t){const r=t.keyCode,s=this.editor.model,c=s.schema,d=s.document.selection,g=d.getSelectedElement(),p=tw(r,this.editor.locale.contentLanguageDirection),k=p=="down"||p=="right",b=p=="up"||p=="down";if(g&&c.isObject(g)){const C=k?d.getLastPosition():d.getFirstPosition(),E=c.getNearestSelectionRange(C,k?"forward":"backward");return void(E&&(s.change(M=>{M.setSelection(E)}),t.preventDefault(),e.stop()))}if(!d.isCollapsed&&!t.shiftKey){const C=d.getFirstPosition(),E=d.getLastPosition(),M=C.nodeAfter,O=E.nodeBefore;return void((M&&c.isObject(M)||O&&c.isObject(O))&&(s.change(z=>{z.setSelection(k?E:C)}),t.preventDefault(),e.stop()))}if(!d.isCollapsed)return;const A=this._getObjectElementNextToSelection(k);if(A&&c.isObject(A)){if(c.isInline(A)&&b)return;this._setSelectionOverElement(A),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const r=this.editor.model,s=r.schema,c=r.document.selection.getSelectedElement();c&&s.isObject(c)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change(s=>{let c=t.anchor.parent;for(;c.isEmpty;){const d=c;c=d.parent,s.remove(d)}this._setSelectionOverElement(r)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,r=t.schema,s=t.document.selection,c=t.createSelection(s);if(t.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(s))return null;const d=e?c.focus.nodeBefore:c.focus.nodeAfter;return d&&r.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(GA,t);this._previouslySelected.clear()}}function T3(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class ty extends ce{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Hu]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",r=>{(function(s){const c=s.getSelectedElement();return!(!c||!qt(c))})(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:r,getRelatedElement:s,balloonClassName:c="ck-toolbar-container"}){if(!r.length)return void W("widget-toolbar-no-items",{toolbarId:e});const d=this.editor,g=d.t,p=new Vp(d.locale);if(p.ariaLabel=t||g("Widget toolbar"),this._toolbarDefinitions.has(e))throw new D("widget-toolbar-duplicated",this,{toolbarId:e});const k={view:p,getRelatedElement:s,balloonClassName:c,itemsConfig:r,initialized:!1};d.ui.addToolbar(p,{isContextual:!0,beforeFocus:()=>{const b=s(d.editing.view.document.selection);b&&this._showToolbar(k,b)},afterBlur:()=>{this._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}_updateToolbarsVisibility(){let e=0,t=null,r=null;for(const s of this._toolbarDefinitions.values()){const c=s.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&c)if(this.editor.ui.focusTracker.isFocused){const d=c.getAncestors().length;d>e&&(e=d,t=c,r=s)}else this._isToolbarVisible(s)&&this._hideToolbar(s);else this._isToolbarInBalloon(s)&&this._hideToolbar(s)}r&&this._showToolbar(r,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?ny(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:iy(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const s=r.getRelatedElement(this.editor.editing.view.document.selection);ny(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function ny(a,e){const t=a.plugins.get("ContextualBalloon"),r=iy(a,e);t.updatePosition(r)}function iy(a,e){const t=a.editing.view,r=Jt.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class I3 extends Ye(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,r){const s=new Ne(t);this.activeHandlePosition=function(d){const g=["top-left","top-right","bottom-right","bottom-left"];for(const p of g)if(d.classList.contains(M3(p)))return p}(e),this._referenceCoordinates=function(d,g){const p=new Ne(d),k=g.split("-"),b={x:k[1]=="right"?p.right:p.left,y:k[0]=="bottom"?p.bottom:p.top};return b.x+=d.ownerDocument.defaultView.scrollX,b.y+=d.ownerDocument.defaultView.scrollY,b}(t,function(d){const g=d.split("-"),p={top:"bottom",bottom:"top",left:"right",right:"left"};return`${p[g[0]]}-${p[g[1]]}`}(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const c=r.style.width;c&&c.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(c):this._originalWidthPercents=function(d,g){const p=d.parentElement;let k=parseFloat(p.ownerDocument.defaultView.getComputedStyle(p).width);const b=5;let A=0,C=p;for(;isNaN(k);){if(C=C.parentElement,++A>b)return 0;k=parseFloat(p.ownerDocument.defaultView.getComputedStyle(C).width)}return g.width/k*100}(r,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function M3(a){return`ck-widget__resizer__handle-${a}`}class N3 extends Te{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(r,s)=>r!==null&&s!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(r,s,c)=>e.unit==="px"?`${r}×${s}`:`${c}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(r,s,c)=>s<50||c<50?"above-center":r)}_dismiss(){this.unbind(),this._isVisible=!1}}class ry extends Ye(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,r)=>t&&r),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(e=>{e.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(r=>{const s=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(c){const d=this.toDomElement(c);return e._appendHandles(d),e._appendSizeUI(d),d});r.insert(r.createPositionAt(t,"end"),s),r.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new I3(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(p=>{const k=this._options.unit||"%",b=(k==="%"?t.widthPercents:t.width)+k;p.setStyle("width",b,this._options.viewElement)});const r=this._getHandleHost(),s=new Ne(r),c=Math.round(s.width),d=Math.round(s.height),g=new Ne(r);t.width=Math.round(g.width),t.height=Math.round(g.height),this.redraw(s),this.state.update({...t,handleHostWidth:c,handleHostHeight:d})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!((r=t)&&r.ownerDocument&&r.ownerDocument.contains(r)))return;var r;const s=t.parentElement,c=this._getHandleHost(),d=this._viewResizerWrapper,g=[d.getStyle("width"),d.getStyle("height"),d.getStyle("left"),d.getStyle("top")];let p;if(s.isSameNode(c)){const k=e||new Ne(c);p=[k.width+"px",k.height+"px",void 0,void 0]}else p=[c.offsetWidth+"px",c.offsetHeight+"px",c.offsetLeft+"px",c.offsetTop+"px"];jt(g,p)!=="same"&&this._options.editor.editing.view.change(k=>{k.setStyle({width:p[0],height:p[1],left:p[2],top:p[3]},d)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,r={x:(s=e).pageX,y:s.pageY};var s;const c=!this._options.isCentered||this._options.isCentered(this),d={x:t._referenceCoordinates.x-(r.x+t.originalWidth),y:r.y-t.originalHeight-t._referenceCoordinates.y};c&&t.activeHandlePosition.endsWith("-right")&&(d.x=r.x-(t._referenceCoordinates.x+t.originalWidth)),c&&(d.x*=2);let g=Math.abs(t.originalWidth+d.x),p=Math.abs(t.originalHeight+d.y);return(g/t.aspectRatio>p?"width":"height")=="width"?p=g/t.aspectRatio:g=p*t.aspectRatio,{width:Math.round(g),height:Math.round(p),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*g*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const s of t)e.appendChild(new Zi({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(r=s,`ck-widget__resizer__handle-${r}`)}}).render());var r}_appendSizeUI(e){this._sizeView=new N3,this._sizeView.render(),e.appendChild(this._sizeView.element)}}var oy=o(4875),O3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(oy.Z,O3),oy.Z.locals;class cm extends ce{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Ae.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(Ou),this._observer=new(tt()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=ol(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,c]of this._resizers)s.isAttached()||(this._resizers.delete(s),c.destroy())},{priority:"lowest"}),this._observer.listenTo(Ae.window,"resize",this._redrawSelectedResizerThrottled);const r=this.editor.editing.view.document.selection;r.on("change",()=>{const s=r.getSelectedElement(),c=this.getResizerByViewElement(s)||null;c?this.select(c):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new ry(e),r=this.editor.plugins;if(t.attach(),r.has("WidgetToolbarRepository")){const c=r.get("WidgetToolbarRepository");t.on("begin",()=>{c.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{c.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{c.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const r=t.domTarget;ry.isResizeHandle(r)&&(this._activeResizer=this._getResizerByHandle(r)||null,this._activeResizer&&(this._activeResizer.begin(r),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const lm=rn("px");class B3 extends Te{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>lm(t)),top:e.to("top",t=>lm(t)),width:e.to("width",t=>lm(t))}}})}}class Xu extends ce{constructor(){super(...arguments),this.removeDropMarkerDelayed=Jg(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=ol(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=ol(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new B3,this._domEmitter=new(tt()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,r,s,c){this.removeDropMarkerDelayed.cancel();const d=sy(this.editor,e,t,r,s,c);d&&this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,r,s,c){const d=sy(this.editor,e,t,r,s,c);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:r})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,r=t.model.markers;t.model.change(s=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const r=this.toDomElement(t);return r.append("⁠",t.createElement("span"),"⁠"),r})}_updateDropTargetLine(e){const t=this.editor.editing,r=e.start.nodeBefore,s=e.start.nodeAfter,c=e.start.parent,d=r?t.mapper.toViewElement(r):null,g=d?t.view.domConverter.mapViewToDom(d):null,p=s?t.mapper.toViewElement(s):null,k=p?t.view.domConverter.mapViewToDom(p):null,b=t.mapper.toViewElement(c),A=t.view.domConverter.mapViewToDom(b),C=this._getScrollableRect(b),{scrollX:E,scrollY:M}=Ae.window,O=g?new Ne(g):null,z=k?new Ne(k):null,V=new Ne(A).excludeScrollbarsAndBorders(),K=O?O.bottom:V.top,se=z?z.top:V.bottom,ye=Ae.window.getComputedStyle(A),ze=K<=se?(K+se)/2:se;if(C.top<ze&&ze<C.bottom){const Nn=V.left+parseFloat(ye.paddingLeft),er=V.right-parseFloat(ye.paddingRight),wn=Math.max(Nn+E,C.left),no=Math.min(er+E,C.right);this._dropTargetLineView.set({isVisible:!0,left:wn,top:ze+M,width:no-wn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let r;if(this._scrollables.has(t))r=this._scrollables.get(t).domElement;else{r=function(c){let d=c;do{d=d.parentElement;const g=Ae.window.getComputedStyle(d).overflowY;if(g=="auto"||g=="scroll")break}while(d.tagName!="BODY");return d}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Be(r,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:r,resizeObserver:s})}return new Ne(r).excludeScrollbarsAndBorders()}}function sy(a,e,t,r,s,c){const d=a.model,g=a.editing.mapper;let p=cy(a,e);for(;p;){if(!c){if(d.schema.checkChild(p,"$text")){const k=t?t[0].start:null,b=k?g.toModelPosition(k):null;if(b){if(d.schema.checkChild(b,"$text"))return d.createRange(b);if(k)return eh(a,cy(a,k.parent),r,s)}}else if(d.schema.isInline(p))return eh(a,p,r,s)}if(d.schema.isBlock(p))return eh(a,p,r,s);if(d.schema.checkChild(p,"$block")){const k=Array.from(p.getChildren()).filter(C=>C.is("element")&&!P3(a,C));let b=0,A=k.length;if(A==0)return d.createRange(d.createPositionAt(p,"end"));for(;b<A-1;){const C=Math.floor((b+A)/2);ay(a,k[C],r,s)=="before"?A=C:b=C}return eh(a,k[b],r,s)}p=p.parent}return null}function P3(a,e){const t=a.editing.mapper,r=a.editing.view.domConverter,s=t.toViewElement(e),c=r.mapViewToDom(s);return Ae.window.getComputedStyle(c).float!="none"}function eh(a,e,t,r){const s=a.model;return s.createRange(s.createPositionAt(e,ay(a,e,t,r)))}function ay(a,e,t,r){const s=a.editing.mapper,c=a.editing.view.domConverter,d=s.toViewElement(e),g=c.mapViewToDom(d),p=new Ne(g);return a.model.schema.isInline(e)?t<(p.left+p.right)/2?"before":"after":r<(p.top+p.bottom)/2?"before":"after"}function cy(a,e){const t=a.editing.mapper,r=a.editing.view,s=t.toModelElement(e);if(s)return s;const c=r.createPositionBefore(e),d=t.findMappedViewAncestor(c);return t.toModelElement(d)}class L3 extends ce{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(tt())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,r,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),f.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(r,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(Ae.document,"dragover",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"drop",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Ae.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(r,s,c)=>{t.setAttribute("draggable",c?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,r=t.document.selection,s=this.editor.editing.view,c=Array.from(r.getSelectedBlocks()),d=t.createRange(t.createPositionBefore(c[0]),t.createPositionAfter(c[c.length-1]));t.change(g=>g.setSelection(d)),this._isBlockDragging=!0,s.focus(),s.getObserver(fl).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,s=document.elementFromPoint(t,r),c=this.editor.editing.view;s&&s.closest(".ck-editor__editable")&&c.getObserver(fl).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var ly=o(799),z3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(ly.Z,z3),ly.Z.locals;class j3 extends ce{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Jg(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(tt())}static get pluginName(){return"DragDrop"}static get requires(){return[Ji,gl,Xu,L3]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(fl),t.addObserver(Ou),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,s,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,s,c)=>{c||this._finalizeDragging(!1)}),f.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document,c=e.plugins.get(Xu);this.listenTo(s,"dragstart",(d,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=B(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const p=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,p,"dragstart");const{dataTransfer:k,domTarget:b,domEvent:A}=g,{clientX:C}=A;this._updatePreview({dataTransfer:k,domTarget:b,clientX:C}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(d,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Ae.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(s,"dragleave",()=>{c.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(d,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:p,clientY:k}=g.domEvent;c.updateDropMarker(g.target,g.targetRanges,p,k,this._blockMode),this._draggedRange||(g.dataTransfer.dropEffect="copy"),f.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),d.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,r=e.plugins.get(Xu);this.listenTo(t,"clipboardInput",(s,c)=>{if(c.method!="drop")return;const{clientX:d,clientY:g}=c.domEvent,p=r.getFinalDropRange(c.target,c.targetRanges,d,g,this._blockMode);if(!p)return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=c.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),dy(c.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0))return this._finalizeDragging(!1),void s.stop();c.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ji);e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=r.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=dy(r.dataTransfer)=="move",c=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(c&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,r=t.document;this.listenTo(r,"mousedown",(s,c)=>{if(f.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let d=uy(c.target);if(f.isBlink&&!e.isReadOnly&&!d&&!r.selection.isCollapsed){const g=r.selection.getSelectedElement();g&&qt(g)||(d=r.selection.editableElement)}d&&(t.change(g=>{g.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(r,"mouseup",()=>{f.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,r=t.model;t.plugins.get(Xu).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(s=>{const c=r.createSelection(this._draggedRange);r.deleteContent(c,{doNotAutoparagraph:!0});const d=c.getFirstPosition().parent;d.isEmpty&&!r.schema.checkChild(d,"$text")&&r.schema.checkChild(d,"paragraph")&&s.insertElement("paragraph",d,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,r=t.model,s=r.document.selection,c=e?uy(e):null;if(c){const k=t.editing.mapper.toModelElement(c);this._draggedRange=Sn.fromRange(r.createRangeOn(k)),this._blockMode=r.schema.isBlock(k),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const d=Array.from(s.getSelectedBlocks()),g=s.getFirstRange();if(d.length==0)return void(this._draggedRange=Sn.fromRange(g));const p=hy(r,d);if(d.length>1)this._draggedRange=Sn.fromRange(p),this._blockMode=!0;else if(d.length==1){const k=g.start.isTouching(p.start)&&g.end.isTouching(p.end);this._draggedRange=Sn.fromRange(k?p:g),this._blockMode=k}r.change(k=>k.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:r}){const s=this.editor.editing.view,c=s.document.selection.editableElement,d=s.domConverter.mapViewToDom(c),g=Ae.window.getComputedStyle(d);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Bs(Ae.document,"div",{style:"position: fixed; left: -999999px;"}),Ae.document.body.appendChild(this._previewContainer));const p=new Ne(d);if(d.contains(t))return;const k=parseFloat(g.paddingLeft),b=Bs(Ae.document,"div");b.className="ck ck-content",b.style.width=g.width,b.style.paddingLeft=`${p.left-r+k}px`,f.isiOS&&(b.style.backgroundColor="white"),b.innerHTML=e.getData("text/html"),e.setDragImage(b,0,0),this._previewContainer.appendChild(b)}}function dy(a){return f.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function uy(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(qt);if(qt(a))return a;const e=a.findAncestor(t=>qt(t)||t.is("editableElement"));return qt(e)?e:null}function hy(a,e){const t=e[0],r=e[e.length-1],s=t.getCommonAncestor(r),c=a.createPositionBefore(t),d=a.createPositionAfter(r);if(s&&s.is("element")&&!a.schema.isLimit(s)){const g=a.createRangeOn(s),p=c.isTouching(g.start),k=d.isTouching(g.end);if(p&&k)return hy(a,[s])}return a.createRange(c,d)}class R3 extends ce{static get pluginName(){return"PastePlainText"}static get requires(){return[Ji]}init(){const e=this.editor,t=e.model,r=e.editing.view,s=r.document,c=t.document.selection;let d=!1;r.addObserver(fl),this.listenTo(s,"keydown",(g,p)=>{d=p.shiftKey}),e.plugins.get(Ji).on("contentInsertion",(g,p)=>{(d||function(k,b){if(k.childCount>1)return!1;const A=k.getChild(0);return b.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(p.content,t.schema))&&t.change(k=>{const b=Array.from(c.getAttributes()).filter(([C])=>t.schema.getAttributeProperties(C).isFormatting);c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),b.push(...c.getAttributes());const A=k.createRangeIn(p.content);for(const C of A.getItems())C.is("$textProxy")&&k.setAttributes(b,C)})})}}class dm extends ce{static get pluginName(){return"Clipboard"}static get requires(){return[Ji,j3,R3]}}class F3 extends st{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let r=e.schema.getLimitElement(t);if(t.containsEntireContent(r)||!fy(e.schema,r))do if(r=r.parent,!r)return;while(!fy(e.schema,r));e.change(s=>{s.setSelection(r,"in")})}}function fy(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const V3=Hc("Ctrl+A");class U3 extends ce{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new F3(e)),this.listenTo(t,"keydown",(r,s)=>{ea(s)===V3&&(e.execute("selectAll"),s.preventDefault())})}}class H3 extends ce{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const r=e.commands.get("selectAll"),s=new Ze(t),c=t.t;return s.set({label:c("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class $3 extends ce{static get requires(){return[U3,H3]}static get pluginName(){return"SelectAll"}}class gy extends st{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,r)=>{r[1]={...r[1]};const s=r[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,r={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,r){const s=this.editor.model,c=s.document,d=[],g=e.map(k=>k.getTransformedByOperations(r)),p=g.flat();for(const k of g){const b=k.filter(A=>A.root!=c.graveyard).filter(A=>!q3(A,p));b.length&&(W3(b),d.push(b[0]))}d.length&&s.change(k=>{k.setSelection(d,{backward:t})})}_undo(e,t){const r=this.editor.model,s=r.document;this._createdBatches.add(t);const c=e.operations.slice().filter(d=>d.isDocumentOperation);c.reverse();for(const d of c){const g=d.baseVersion+1,p=Array.from(s.history.getOperations(g)),k=Z4([d.getReversed()],p,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let b of k){const A=b.affectedSelectable;A&&!r.canEditAt(A)&&(b=new Tt(b.baseVersion)),t.addOperation(b),r.applyOperation(b),s.history.setOperationAsUndone(d,b)}}}}function W3(a){a.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<a.length;e++){const t=a[e-1].getJoined(a[e],!0);t&&(e--,a.splice(e,2,t))}}function q3(a,e){return e.some(t=>t!==a&&t.containsRange(a,!0))}class G3 extends gy{execute(e=null){const t=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,r=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(r.batch,s);const c=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,c)}),this.fire("revert",r.batch,s),this.refresh()}}class Y3 extends gy{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}class K3 extends ce{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new G3(e),this._redoCommand=new Y3(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,r)=>{const s=r[0];if(!s.isDocumentOperation)return;const c=s.batch,d=this._redoCommand.createdBatches.has(c),g=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):g||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,r,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const py='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',my='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Z3 extends ce{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,r=e.t,s=t.uiLanguageDirection=="ltr"?py:my,c=t.uiLanguageDirection=="ltr"?my:py;this._addButton("undo",r("Undo"),"CTRL+Z",s),this._addButton("redo",r("Redo"),"CTRL+Y",c)}_addButton(e,t,r,s){const c=this.editor;c.ui.componentFactory.add(e,d=>{const g=c.commands.get(e),p=new Ze(d);return p.set({label:t,icon:s,keystroke:r,tooltip:!0}),p.bind("isEnabled").to(g,"isEnabled"),this.listenTo(p,"execute",()=>{c.execute(e),c.editing.view.focus()}),p})}}class um extends ce{static get requires(){return[K3,Z3]}static get pluginName(){return"Undo"}}class Q3 extends st{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Ht(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&ky(t,e.schema)}execute(e={}){const t=this.editor.model,r=t.document,s=e.selection||r.selection;t.canEditAt(s)&&t.change(c=>{const d=s.getSelectedBlocks();for(const g of d)!g.is("element","paragraph")&&ky(g,t.schema)&&c.rename(g,"paragraph")})}}function ky(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class J3 extends st{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,r=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(c=>{if(s=this._findPositionToInsertParagraph(s,c),!s)return;const d=c.createElement("paragraph");r&&t.schema.setAllowedAttributes(d,r,c),t.insertContent(d,s),c.setSelection(d,"in")})}_findPositionToInsertParagraph(e,t){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const s=r.schema.findAllowedParent(e,"paragraph");if(!s)return null;const c=e.parent,d=r.schema.checkChild(c,"$text");return c.isEmpty||d&&e.isAtEnd?r.createPositionAfter(c):!c.isEmpty&&d&&e.isAtStart?r.createPositionBefore(c):t.split(e,s).position}}class pl extends ce{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new Q3(e)),e.commands.add("insertParagraph",new J3(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:s})=>pl.paragraphLikeElements.has(r.name)?r.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}pl.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class X3 extends st{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Ht(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>by(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,r=t.document,s=e.value;t.change(c=>{const d=Array.from(r.selection.getSelectedBlocks()).filter(g=>by(g,s,t.schema));for(const g of d)g.is("element",s)||c.rename(g,s)})}}function by(a,e,t){return t.checkChild(a.parent,e)&&!t.isObject(a)}const wy="paragraph";class eN extends ce{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[pl]}init(){const e=this.editor,t=e.config.get("heading.options"),r=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),r.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new X3(e,r))}afterInit(){const e=this.editor,t=e.commands.get("enter"),r=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,c)=>{const d=e.model.document.selection.getFirstPosition().parent;r.some(g=>d.is("element",g.model))&&!d.is("element",wy)&&d.childCount===0&&c.writer.rename(d,wy)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:R.low+1})}}var vy=o(4249),tN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(vy.Z,tN),vy.Z.locals;class nN extends ce{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,r=function(d){const g=d.t,p={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return d.config.get("heading.options").map(k=>{const b=p[k.title];return b&&b!=k.title&&(k.title=b),k})}(e),s=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",d=>{const g={},p=new ii,k=e.commands.get("heading"),b=e.commands.get("paragraph"),A=[k];for(const E of r){const M={type:"button",model:new cA({label:E.title,class:E.class,role:"menuitemradio",withText:!0})};E.model==="paragraph"?(M.model.bind("isOn").to(b,"value"),M.model.set("commandName","paragraph"),A.push(b)):(M.model.bind("isOn").to(k,"value",O=>O===E.model),M.model.set({commandName:"heading",commandValue:E.model})),p.add(M),g[E.model]=E.title}const C=Jr(d);return P_(C,p,{ariaLabel:c,role:"menu"}),C.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),C.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),C.bind("isEnabled").toMany(A,"isEnabled",(...E)=>E.some(M=>M)),C.buttonView.bind("label").to(k,"value",b,"value",(E,M)=>{const O=E||M&&"paragraph";return typeof O=="boolean"?s:g[O]?g[O]:s}),this.listenTo(C,"execute",E=>{const{commandName:M,commandValue:O}=E.source;e.execute(M,O?{value:O}:void 0),e.editing.view.focus()}),C})}}class iN extends st{refresh(){const e=this.editor.model,t=e.schema,r=e.document.selection;this.isEnabled=function(s,c,d){const g=function(p,k){const b=am(p,k),A=b.start.parent;return A.isEmpty&&!A.is("element","$root")?A.parent:A}(s,d);return c.checkChild(g,"horizontalLine")}(r,t,e)}execute(){const e=this.editor.model;e.change(t=>{const r=t.createElement("horizontalLine");e.insertObject(r,null,null,{setSelection:"after"})})}}var _y=o(9893),rN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(_y.Z,rN),_y.Z.locals;class oN extends ce{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,r=e.t,s=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(c,{writer:d})=>d.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(c,{writer:d})=>{const g=r("Horizontal line"),p=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",p),d.setCustomProperty("hr",!0,p),function(k,b,A){return b.setCustomProperty("horizontalLine",!0,k),sm(k,b,{label:A})}(p,d,g)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new iN(e))}}class sN extends ce{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",r=>{const s=e.commands.get("horizontalLine"),c=new Ze(r);return c.set({label:t("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),this.listenTo(c,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),c})}}function Ay(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function yy(a,e){const t=a.plugins.get("ImageUtils"),r=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return c=>t.isInlineImageView(c)?r&&(c.getStyle("display")=="block"||c.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(c):null;function s(c){const d={name:!0};return c.hasAttribute("src")&&(d.attributes=["src"]),d}}function hm(a,e){const t=Ht(e.getSelectedBlocks());return!t||a.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function th(a){return a&&a.endsWith("px")?parseInt(a):null}function nh(a){const e=th(a.getStyle("width")),t=th(a.getStyle("height"));return!(!e||!t)}const aN=/^(image|image-inline)$/;class Mn extends ce{constructor(){super(...arguments),this._domEmitter=new(tt())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,r=null,s={}){const c=this.editor,d=c.model,g=d.document.selection;r=Cy(c,t||g,r),e={...Object.fromEntries(g.getAttributes()),...e};for(const p in e)d.schema.checkAttribute(r,p)||delete e[p];return d.change(p=>{const{setImageSizes:k=!0}=s,b=p.createElement(r,e);return d.insertObject(b,t,null,{setSelection:"on",findOptimalPosition:t||r=="imageInline"?void 0:"auto"}),b.parent?(k&&this.setImageNaturalSizeAttributes(b),b):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const s=new Ae.window.Image;this._domEmitter.listenTo(s,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(r.batch,c=>{c.setAttribute("width",s.naturalWidth,e),c.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:aN})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,r){if(Cy(t,r,null)=="imageBlock"){const c=function(d,g){const p=am(d,g),k=p.start.parent;return k.isEmpty&&!k.is("element","$root")?k.parent:k}(r,t.model);if(t.model.schema.checkChild(c,"imageBlock"))return!0}else if(t.model.schema.checkChild(r.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(r=>!r.is("element","imageBlock"))}(e)}toImageWidget(e,t,r){return t.setCustomProperty("image",!0,e),sm(e,t,{label:()=>{const s=this.findViewImgElement(e).getAttribute("alt");return s?`${s} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&qt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:r}of t.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function Cy(a,e,t){const r=a.model.schema,s=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?hm(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const cN=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class lN extends st{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,r=t.plugins.get("ImageUtils"),s=t.model,c=r.getClosestSelectedImageElement(s.document.selection);s.change(d=>{d.setAttribute("alt",e.newValue,c)})}}class dN extends ce{static get requires(){return[Mn]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new lN(this.editor))}}var xy=o(5269),uN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(xy.Z,uN),xy.Z.locals;var Ey=o(6603),hN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Ey.Z,hN),Ey.Z.locals;class fN extends Te{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Dn,this.keystrokes=new wi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Pe.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Pe.cancel,"ck-button-cancel","cancel"),this._focusables=new Ki,this._focusCycler=new wr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Pu({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,r,s){const c=new Ze(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:r}}),s&&c.delegate("execute").to(this,s),c}_createLabeledInputView(){const e=this.locale.t,t=new cl(this.locale,ll);return t.label=e("Text alternative"),t}}function Dy(a){const e=a.editing.view,t=Jt.defaultPositions,r=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class gN extends ce{static get requires(){return[Hu]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const s=e.commands.get("imageTextAlternative"),c=new Ze(r);return c.set({label:t("Change image text alternative"),icon:Pe.lowVision,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>!!d),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,t=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Lp(fN))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,c)=>{this._hideForm(!0),c()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(s){const c=s.plugins.get("ContextualBalloon");if(s.plugins.get("ImageUtils").getClosestSelectedImageWidget(s.editing.view.document.selection)){const d=Dy(s);c.updatePosition(d)}}(e):this._hideForm(!0)}),Pp({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Dy(e)}),r.fieldView.value=r.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Sy extends ce{static get requires(){return[dN,gN]}static get pluginName(){return"ImageTextAlternative"}}function Ty(a,e){const t=(r,s,c)=>{if(!c.consumable.consume(s.item,r.name))return;const d=c.writer,g=c.mapper.toViewElement(s.item),p=a.findViewImgElement(g);s.attributeNewValue===null?(d.removeAttribute("srcset",p),d.removeAttribute("sizes",p)):s.attributeNewValue&&(d.setAttribute("srcset",s.attributeNewValue,p),d.setAttribute("sizes","100vw",p))};return r=>{r.on(`attribute:srcset:${e}`,t)}}function ih(a,e,t){const r=(s,c,d)=>{if(!d.consumable.consume(c.item,s.name))return;const g=d.writer,p=d.mapper.toViewElement(c.item),k=a.findViewImgElement(p);g.setAttribute(c.attributeKey,c.attributeNewValue||"",k)};return s=>{s.on(`attribute:${t}:${e}`,r)}}class Iy extends qi{observe(e){this.listenTo(e,"load",(t,r)=>{const s=r.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class pN extends st{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&W("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&W("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Ut(e.source),r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(r.getAttributes());t.forEach((d,g)=>{const p=r.getSelectedElement();if(typeof d=="string"&&(d={src:d}),g&&p&&s.isImage(p)){const k=this.editor.model.createPositionAfter(p);s.insertImage({...d,...c},k)}else s.insertImage({...d,...c})})}}class mN extends st{refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(r=>{r.setAttribute("src",e.source,t),r.removeAttribute("srcset",t),r.removeAttribute("sizes",t)})}}class My extends ce{static get requires(){return[Mn]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(Iy),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new pN(e),s=new mN(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",r)}}class Ny extends ce{static get requires(){return[Mn]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";function c(d,g,p,k){d.on(`attribute:${g}:${e}`,(b,A,C)=>{if(!C.consumable.consume(A.item,b.name))return;const E=C.writer,M=C.mapper.toViewElement(A.item),O=r.findViewImgElement(M);if(A.attributeNewValue!==null?E.setAttribute(p,A.attributeNewValue,O):E.removeAttribute(p,O),A.item.hasAttribute("sources"))return;const z=A.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!z&&!k)return;const V=A.item.getAttribute("width"),K=A.item.getAttribute("height"),se=O.getStyle("aspect-ratio");V&&K&&!se&&E.setStyle("aspect-ratio",`${V}/${K}`,O)})}t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:d=>nh(d)?th(d.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:d=>nh(d)?th(d.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(d=>{c(d,"width","width",!0),c(d,"height","height",!0)}),t.conversion.for("dataDowncast").add(d=>{c(d,"width","width",!1),c(d,"height","height",!1)})}}class Oy extends st{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,r=this.editor.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(r.document.selection),d=Object.fromEntries(c.getAttributes());return d.src||d.uploadId?r.change(g=>{const{setImageSizes:p=!0}=e,k=Array.from(r.markers).filter(C=>C.getRange().containsItem(c)),b=s.insertImage(d,r.createSelection(c,"on"),this._modelElementName,{setImageSizes:p});if(!b)return null;const A=g.createRangeOn(b);for(const C of k){const E=C.getRange(),M=E.root.rootName!="$graveyard"?E.getJoined(A,!0):A;g.updateMarker(C,{range:M})}return{oldElement:c,newElement:b}}):null}}class By extends ce{static get requires(){return[My,Ny,Mn,Ji]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Oy(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>Ay(d)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>s.toImageWidget(Ay(d),d,t("image widget"))}),r.for("downcast").add(ih(s,"imageBlock","src")).add(ih(s,"imageBlock","alt")).add(Ty(s,"imageBlock")),r.for("upcast").elementToElement({view:yy(e,"imageBlock"),model:(c,{writer:d})=>d.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(function(c){const d=(g,p,k)=>{if(!k.consumable.test(p.viewItem,{name:!0,classes:"image"}))return;const b=c.findViewImgElement(p.viewItem);if(!b||!k.consumable.test(b,{name:!0}))return;k.consumable.consume(p.viewItem,{name:!0,classes:"image"});const A=Ht(k.convertItem(b,p.modelCursor).modelRange.getItems());A?(k.convertChildren(p.viewItem,A),k.updateConversionResult(A,p)):k.consumable.revert(p.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",d)}}(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,g)=>{const p=Array.from(g.content.getChildren());let k;if(!p.every(s.isInlineImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const b=t.createSelection(k);if(hm(t.schema,b)==="imageBlock"){const A=new rs(r.document),C=p.map(E=>A.createElement("figure",{class:"image"},E));g.content=A.createDocumentFragment(C)}}),this.listenTo(c,"contentInsertion",(d,g)=>{g.method==="paste"&&t.change(p=>{const k=p.createRangeIn(g.content);for(const b of k.getItems())b.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(b)})})}}var Py=o(2430),kN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Py.Z,kN),Py.Z.locals;class bN extends ce{static get requires(){return[By,gl,Sy]}static get pluginName(){return"ImageBlock"}}class wN extends ce{static get requires(){return[My,Ny,Mn,Ji]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((r,s)=>{if(r.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Oy(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:d})=>d.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:d})=>s.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(d),d,t("image widget"))}),r.for("downcast").add(ih(s,"imageInline","src")).add(ih(s,"imageInline","alt")).add(Ty(s,"imageInline")),r.for("upcast").elementToElement({view:yy(e,"imageInline"),model:(c,{writer:d})=>d.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,g)=>{const p=Array.from(g.content.getChildren());let k;if(!p.every(s.isBlockImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const b=t.createSelection(k);if(hm(t.schema,b)==="imageInline"){const A=new rs(r.document),C=p.map(E=>E.childCount===1?(Array.from(E.getAttributes()).forEach(M=>A.setAttribute(...M,s.findViewImgElement(E))),E.getChild(0)):E);g.content=A.createDocumentFragment(C)}}),this.listenTo(c,"contentInsertion",(d,g)=>{g.method==="paste"&&t.change(p=>{const k=p.createRangeIn(g.content);for(const b of k.getItems())b.is("element","imageInline")&&s.setImageNaturalSizeAttributes(b)})})}}class vN extends ce{static get requires(){return[wN,gl,Sy]}static get pluginName(){return"ImageInline"}}class Ly extends ce{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Mn]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&t.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class _N extends st{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(By))return this.isEnabled=!1,void(this.value=!1);const s=e.model.document.selection,c=s.getSelectedElement();if(!c){const d=t.getCaptionFromModelSelection(s);return this.isEnabled=!!d,void(this.value=!!d)}this.isEnabled=r.isImage(c),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,t)})}_showImageCaption(e,t){const r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),c=this.editor.plugins.get("ImageUtils");let d=r.getSelectedElement();const g=s._getSavedCaption(d);c.isInlineImage(d)&&(this.editor.execute("imageTypeBlock"),d=r.getSelectedElement());const p=g||e.createElement("caption");e.append(p,d),t&&e.setSelection(p,"in")}_hideImageCaption(e){const t=this.editor,r=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),c=t.plugins.get("ImageCaptionUtils");let d,g=r.getSelectedElement();g?d=c.getCaptionFromImageModelElement(g):(d=c.getCaptionFromModelSelection(r),g=d.parent),s._saveCaption(g,d),e.setSelection(g,"on"),e.remove(d)}}class AN extends ce{static get requires(){return[Mn,Ly]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new _N(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:d=>s.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:g})=>r.isBlockImage(d.parent)?g.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:g})=>{if(!r.isBlockImage(d.parent))return null;const p=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,p),p.placeholder=c("Enter image caption"),hw({view:t,element:p,keepOnFocus:!0});const k=d.parent.getAttribute("alt");return function(b,A,C={}){return A.addClass(["ck-editor__editable","ck-editor__nested-editable"],b),A.setAttribute("role","textbox",b),C.label&&A.setAttribute("aria-label",C.label,b),A.setAttribute("contenteditable",b.isReadOnly?"false":"true",b),b.on("change:isReadOnly",(E,M,O)=>{A.setAttribute("contenteditable",O?"false":"true",b)}),b.on("change:isFocused",(E,M,O)=>{O?A.addClass("ck-editor__nested-editable_focused",b):A.removeClass("ck-editor__nested-editable_focused",b)}),YA(b,A),b}(p,g,{label:k?c("Caption for image: %0",[k]):c("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),d=g=>{if(!g.return)return;const{oldElement:p,newElement:k}=g.return;if(!p)return;if(t.isBlockImage(p)){const A=r.getCaptionFromImageModelElement(p);if(A)return void this._saveCaption(k,A)}const b=this._getSavedCaption(p);b&&this._saveCaption(k,b)};s&&this.listenTo(s,"execute",d,{priority:"low"}),c&&this.listenTo(c,"execute",d,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Xe.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const c=t.document.differ.getChanges();for(const d of c){if(d.attributeKey!=="alt")continue;const g=d.range.start.nodeAfter;if(r.isBlockImage(g)){const p=s.getCaptionFromImageModelElement(g);if(!p)return;e.editing.reconvertItem(p)}}})}}class yN extends ce{static get requires(){return[Ly]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const d=e.commands.get("toggleImageCaption"),g=new Ze(c);return g.set({icon:Pe.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(d,"value","isEnabled"),g.bind("label").to(d,"value",p=>s(p?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const p=r.getCaptionFromModelSelection(e.model.document.selection);if(p){const k=e.editing.mapper.toViewElement(p);t.scrollToTheSelection(),t.change(b=>{b.addClass("image__caption_highlighted",k)})}e.editing.view.focus()}),g})}}var zy=o(2423),CN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(zy.Z,CN),zy.Z.locals;class xN extends Ye(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((r,s)=>{t.onload=()=>{const c=t.result;this._data=c,r(c)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class ss extends ce{constructor(){super(...arguments),this.loaders=new ii,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Qv]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return W("filerepository-no-upload-adapter"),null;const t=new jy(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(r=>{this._loadersMap.set(r,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let r=0;for(const s of this.loaders)r+=s.uploaded;this.uploaded=r}),t.on("change:uploadTotal",()=>{let r=0;for(const s of this.loaders)s.uploadTotal&&(r+=s.uploadTotal);this.uploadTotal=r}),t}destroyLoader(e){const t=e instanceof jy?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((r,s)=>{r===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(Qv);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,r=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class jy extends Ye(){constructor(e,t){super(),this.id=B(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new xN,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,s)=>s?r/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new D("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new D("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((r,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(c=>{t.isFulfilled=!0,r(c)}).catch(c=>{t.isFulfilled=!0,s(c)})}),t}}class EN extends Te{constructor(e){super(e),this.buttonView=new Ze(e),this._fileInputView=new DN(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class DN extends Te{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class SN{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const r=this.reader=new window.FileReader;r.addEventListener("load",()=>{e({default:r.result})}),r.addEventListener("error",s=>{t(s)}),r.addEventListener("abort",()=>{t()}),this.loader.file.then(s=>{r.readAsDataURL(s)})})}abort(){this.reader.abort()}}function Ry(a){const e=a.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function TN(a){return new Promise((e,t)=>{const r=a.getAttribute("src");fetch(r).then(s=>s.blob()).then(s=>{const c=Fy(s,r),d=c.replace("image/",""),g=new File([s],`image.${d}`,{type:c});e(g)}).catch(s=>s&&s.name==="TypeError"?function(c){return function(d){return new Promise((g,p)=>{const k=Ae.document.createElement("img");k.addEventListener("load",()=>{const b=Ae.document.createElement("canvas");b.width=k.width,b.height=k.height,b.getContext("2d").drawImage(k,0,0),b.toBlob(A=>A?g(A):p())}),k.addEventListener("error",()=>p()),k.src=d})}(c).then(d=>{const g=Fy(d,c),p=g.replace("image/","");return new File([d],`image.${p}`,{type:g})})}(r).then(e).catch(t):t(s))})}function Fy(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class IN extends ce{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,r=s=>{const c=new EN(s),d=e.commands.get("uploadImage"),g=e.config.get("image.upload.types"),p=Ry(g);return c.set({acceptedType:g.map(k=>`image/${k}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:t("Insert image"),icon:Pe.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(d),c.on("done",(k,b)=>{const A=Array.from(b).filter(C=>p.test(C.type));A.length&&(e.execute("uploadImage",{file:A}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",r),e.ui.componentFactory.add("imageUpload",r)}}var Vy=o(2926),MN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Vy.Z,MN),Vy.Z.locals;var Uy=o(1547),NN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Uy.Z,NN),Uy.Z.locals;var Hy=o(6618),ON={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Hy.Z,ON),Hy.Z.locals;class BN extends ce{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,r,s)=>{const c=this.editor,d=r.item,g=d.getAttribute("uploadId");if(!s.consumable.consume(r.item,t.name))return;const p=c.plugins.get("ImageUtils"),k=c.plugins.get(ss),b=g?r.attributeNewValue:null,A=this.placeholder,C=c.editing.mapper.toViewElement(d),E=s.writer;if(b=="reading")return $y(C,E),void Wy(p,A,C,E);if(b=="uploading"){const M=k.loaders.get(g);return $y(C,E),void(M?(qy(C,E),function(O,z,V,K){const se=function(ye){const ze=ye.createUIElement("div",{class:"ck-progress-bar"});return ye.setCustomProperty("progressBar",!0,ze),ze}(z);z.insert(z.createPositionAt(O,"end"),se),V.on("change:uploadedPercent",(ye,ze,Nn)=>{K.change(er=>{er.setStyle("width",Nn+"%",se)})})}(C,E,M,c.editing.view),function(O,z,V,K){if(K.data){const se=O.findViewImgElement(z);V.setAttribute("src",K.data,se)}}(p,C,E,M)):Wy(p,A,C,E))}b=="complete"&&k.loaders.get(g)&&function(M,O,z){const V=O.createUIElement("div",{class:"ck-image-upload-complete-icon"});O.insert(O.createPositionAt(M,"end"),V),setTimeout(()=>{z.change(K=>K.remove(K.createRangeOn(V)))},3e3)}(C,E,c.editing.view),function(M,O){Yy(M,O,"progressBar")}(C,E),qy(C,E),function(M,O){O.removeClass("ck-appear",M)}(C,E)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function $y(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function Wy(a,e,t,r){t.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",t);const s=a.findViewImgElement(t);s.getAttribute("src")!==e&&r.setAttribute("src",e,s),Gy(t,"placeholder")||r.insert(r.createPositionAfter(s),function(c){const d=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,d),d}(r))}function qy(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),Yy(a,e,"placeholder")}function Gy(a,e){for(const t of a.getChildren())if(t.getCustomProperty(e))return t}function Yy(a,e,t){const r=Gy(a,t);r&&e.remove(e.createRangeOn(r))}class PN extends st{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(r)}execute(e){const t=Ut(e.file),r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(r.getAttributes());t.forEach((d,g)=>{const p=r.getSelectedElement();if(g&&p&&s.isImage(p)){const k=this.editor.model.createPositionAfter(p);this._uploadImage(d,c,k)}else this._uploadImage(d,c)})}_uploadImage(e,t,r){const s=this.editor,c=s.plugins.get(ss).createLoader(e),d=s.plugins.get("ImageUtils");c&&d.insertImage({...t,uploadId:c.id},r)}}class LN extends ce{static get requires(){return[ss,aA,Ji,Mn]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,r=e.conversion,s=e.plugins.get(ss),c=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),g=Ry(e.config.get("image.upload.types")),p=new PN(e);e.commands.add("uploadImage",p),e.commands.add("imageUpload",p),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,b)=>{if(A=b.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const C=Array.from(b.dataTransfer.files).filter(E=>!!E&&g.test(E.type));C.length&&(k.stop(),e.model.change(E=>{b.targetRanges&&E.setSelection(b.targetRanges.map(M=>e.editing.mapper.toModelRange(M))),e.execute("uploadImage",{file:C})}))}),this.listenTo(d,"inputTransformation",(k,b)=>{const A=Array.from(e.editing.view.createRangeIn(b.content)).map(E=>E.item).filter(E=>function(M,O){return!(!M.isInlineImageView(O)||!O.getAttribute("src")||!O.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!O.getAttribute("src").match(/^blob:/g))}(c,E)&&!E.getAttribute("uploadProcessed")).map(E=>({promise:TN(E),imageElement:E}));if(!A.length)return;const C=new rs(e.editing.view.document);for(const E of A){C.setAttribute("uploadProcessed",!0,E.imageElement);const M=s.createLoader(E.promise);M&&(C.setAttribute("src","",E.imageElement),C.setAttribute("uploadId",M.id,E.imageElement))}}),e.editing.view.document.on("dragover",(k,b)=>{b.preventDefault()}),t.on("change",()=>{const k=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),b=new Set;for(const A of k)if(A.type=="insert"&&A.name!="$text"){const C=A.position.nodeAfter,E=A.position.root.rootName=="$graveyard";for(const M of zN(e,C)){const O=M.getAttribute("uploadId");if(!O)continue;const z=s.loaders.get(O);z&&(E?b.has(O)||z.abort():(b.add(O),this._uploadImageElements.set(O,M),z.status=="idle"&&this._readAndUpload(z)))}}}),this.on("uploadComplete",(k,{imageElement:b,data:A})=>{const C=A.urls?A.urls:A;this.editor.model.change(E=>{E.setAttribute("src",C.default,b),this._parseAndSetSrcsetAttributeOnImage(C,b,E),c.setImageNaturalSizeAttributes(b)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,r=t.model,s=t.locale.t,c=t.plugins.get(ss),d=t.plugins.get(aA),g=t.plugins.get("ImageUtils"),p=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},b=>{b.setAttribute("uploadStatus","reading",p.get(e.id))}),e.read().then(()=>{const b=e.upload(),A=p.get(e.id);if(f.isSafari){const C=t.editing.mapper.toViewElement(A),E=g.findViewImgElement(C);t.editing.view.once("render",()=>{if(!E.parent)return;const M=t.editing.view.domConverter.mapViewToDom(E.parent);if(!M)return;const O=M.style.display;M.style.display="none",M._ckHack=M.offsetHeight,M.style.display=O})}return r.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","uploading",A)}),b}).then(b=>{r.enqueueChange({isUndoable:!1},A=>{const C=p.get(e.id);A.setAttribute("uploadStatus","complete",C),this.fire("uploadComplete",{data:b,imageElement:C})}),k()}).catch(b=>{if(e.status!=="error"&&e.status!=="aborted")throw b;e.status=="error"&&b&&d.showWarning(b,{title:s("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},A=>{A.remove(p.get(e.id))}),k()});function k(){r.enqueueChange({isUndoable:!1},b=>{const A=p.get(e.id);b.removeAttribute("uploadId",A),b.removeAttribute("uploadStatus",A),p.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,r){let s=0;const c=Object.keys(e).filter(d=>{const g=parseInt(d,10);if(!isNaN(g))return s=Math.max(s,g),!0}).map(d=>`${e[d]} ${d}w`).join(", ");if(c!=""){const d={srcset:c};t.hasAttribute("width")||t.hasAttribute("height")||(d.width=s),r.setAttributes(d,t)}}}function zN(a,e){const t=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(r=>t.isImage(r.item)).map(r=>r.item)}class Ky extends ce{static get pluginName(){return"ImageUpload"}static get requires(){return[LN,IN,BN]}}var Zy=o(8340),jN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Zy.Z,jN),Zy.Z.locals;class RN extends Te{constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",r.to("class")],role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}var Qy=o(8879),FN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Qy.Z,FN),Qy.Z.locals;class VN extends Te{constructor(e,t={}){super(e);const{insertButtonView:r,cancelButtonView:s}=this._createActionButtons(e);this.insertButtonView=r,this.cancelButtonView=s,this.set("imageURLInputValue",""),this.focusTracker=new Dn,this.keystrokes=new wi,this._focusables=new Ki,this._focusCycler=new wr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new ii);for(const[c,d]of Object.entries(t))c==="insertImageViaUrl"&&(d.fieldView.bind("value").to(this,"imageURLInputValue",g=>g||""),d.fieldView.on("input",()=>{this.imageURLInputValue=d.fieldView.element.value.trim()})),d.name=c,this._integrations.add(d);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new RN(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),Pu({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(e){return this._integrations.find(t=>t.name===e)}_createActionButtons(e){const t=e.t,r=new Ze(e),s=new Ze(e);return r.set({label:t("Insert"),icon:Pe.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),s.set({label:t("Cancel"),icon:Pe.cancel,class:"ck-button-cancel",withText:!0}),r.bind("isEnabled").to(this,"imageURLInputValue",c=>!!c),r.delegate("execute").to(this,"submit"),s.delegate("execute").to(this,"cancel"),{insertButtonView:r,cancelButtonView:s}}focus(){this._focusCycler.focusFirst()}}function UN(a){const e=a.t,t=new cl(a,ll);return t.set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t}class Jy extends ce{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=r=>this._createDropdownView(r);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,r=e.t,s=t.commands.get("uploadImage"),c=t.commands.get("insertImage");this.dropdownView=Jr(e,s?Up:void 0);const d=this.dropdownView.buttonView,g=this.dropdownView.panelView;if(d.set({label:r("Insert image"),icon:Pe.image,tooltip:!0}),g.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),s){const p=this.dropdownView.buttonView;p.actionView=t.ui.componentFactory.create("uploadImage"),p.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(s||c)}_setUpDropdown(e){const t=this.editor,r=t.t,s=this.dropdownView,c=s.panelView,d=this.editor.plugins.get("ImageUtils"),g=t.commands.get("replaceImageSource");let p;function k(){t.editing.view.focus(),s.isOpen=!1}return s.bind("isEnabled").to(e),s.once("change:isOpen",()=>{p=new VN(t.locale,function(b){const A=b.config.get("image.insert.integrations"),C=b.plugins.get("ImageInsertUI"),E={insertImageViaUrl:UN(b.locale)};if(!A)return E;if(A.find(M=>M==="openCKFinder")&&b.ui.componentFactory.has("ckfinder")){const M=b.ui.componentFactory.create("ckfinder");M.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),M.delegate("execute").to(C,"cancel"),E.openCKFinder=M}return A.reduce((M,O)=>(E[O]?M[O]=E[O]:b.ui.componentFactory.has(O)&&(M[O]=b.ui.componentFactory.create(O)),M),{})}(t)),p.delegate("submit","cancel").to(s),c.children.add(p)}),s.on("change:isOpen",()=>{const b=t.model.document.selection.getSelectedElement(),A=p.insertButtonView,C=p.getIntegration("insertImageViaUrl");s.isOpen&&(d.isImage(b)?(p.imageURLInputValue=g.value,A.label=r("Update"),C.label=r("Update image URL")):(p.imageURLInputValue="",A.label=r("Insert"),C.label=r("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",()=>{k(),function(){const b=t.model.document.selection.getSelectedElement();d.isImage(b)?t.execute("replaceImageSource",{source:p.imageURLInputValue}):t.execute("insertImage",{source:p.imageURLInputValue})}()}),s.on("cancel",()=>{k()}),s}}class HN extends ce{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[Jy]}}class $N extends st{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("resizedWidth")?this.value={width:t.getAttribute("resizedWidth"),height:null}:this.value=null}execute(e){const t=this.editor,r=t.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(r.document.selection);this.value={width:e.width,height:null},c&&r.change(d=>{d.setAttribute("resizedWidth",e.width,c),d.removeAttribute("resizedHeight",c),s.setImageNaturalSizeAttributes(c)})}}class Xy extends ce{static get requires(){return[Mn]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new $N(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${e}`,(c,d,g)=>{if(!g.consumable.consume(d.item,c.name))return;const p=g.writer,k=g.mapper.toViewElement(d.item);d.attributeNewValue!==null?(p.setStyle("width",d.attributeNewValue,k),p.addClass("image_resized",k)):(p.removeStyle("width",k),p.removeClass("image_resized",k))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),t.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${e}`,(c,d,g)=>{if(!g.consumable.consume(d.item,c.name))return;const p=g.writer,k=g.mapper.toViewElement(d.item),b=e==="imageInline"?r.findViewImgElement(k):k;d.attributeNewValue!==null?p.setStyle("height",d.attributeNewValue,b):p.removeStyle("height",b)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>nh(s)?null:s.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>nh(s)?null:s.getStyle("height")}})}}const fm={small:Pe.objectSizeSmall,medium:Pe.objectSizeMedium,large:Pe.objectSizeLarge,original:Pe.objectSizeFull};class WN extends ce{static get requires(){return[Xy]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),r=e.commands.get("resizeImage");this.bind("isEnabled").to(r);for(const s of t)this._registerImageResizeButton(s);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:r,value:s,icon:c}=e,d=s?s+this._resizeUnit:null;t.ui.componentFactory.add(r,g=>{const p=new Ze(g),k=t.commands.get("resizeImage"),b=this._getOptionLabelValue(e,!0);if(!fm[c])throw new D("imageresizebuttons-missing-icon",t,e);return p.set({label:b,icon:fm[c],tooltip:b,isToggleable:!0}),p.bind("isEnabled").to(this),p.bind("isOn").to(k,"value",eC(d)),this.listenTo(p,"execute",()=>{t.execute("resizeImage",{width:d})}),p})}_registerImageResizeDropdown(e){const t=this.editor,r=t.t,s=e.find(d=>!d.value),c=d=>{const g=t.commands.get("resizeImage"),p=Jr(d,y_),k=p.buttonView,b=r("Resize image");return k.set({tooltip:b,commandValue:s.value,icon:fm.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:b,ariaLabelledBy:void 0}),k.bind("label").to(g,"value",A=>A&&A.width?A.width:this._getOptionLabelValue(s)),p.bind("isEnabled").to(this),P_(p,()=>this._getResizeDropdownListItemDefinitions(e,g),{ariaLabel:r("Image resize list"),role:"menu"}),this.listenTo(p,"execute",A=>{t.execute(A.source.commandName,{width:A.source.commandValue}),t.editing.view.focus()}),p};t.ui.componentFactory.add("resizeImage",c),t.ui.componentFactory.add("imageResize",c)}_getOptionLabelValue(e,t=!1){const r=this.editor.t;return e.label?e.label:t?e.value?r("Resize image to %0",e.value+this._resizeUnit):r("Resize image to the original size"):e.value?e.value+this._resizeUnit:r("Original")}_getResizeDropdownListItemDefinitions(e,t){const r=new ii;return e.map(s=>{const c=s.value?s.value+this._resizeUnit:null,d={type:"button",model:new cA({commandName:"resizeImage",commandValue:c,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};d.model.bind("isOn").to(t,"value",eC(c)),r.add(d)}),r}}function eC(a){return e=>a===null&&e===a||e!==null&&e.width===a}const gm="image_resized";class qN extends ce{static get requires(){return[cm,Mn]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils");t.addObserver(Iy),this.listenTo(t.document,"imageLoaded",(s,c)=>{if(!c.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const d=e.editing.view.domConverter,g=d.domToView(c.target),p=r.getImageWidgetFromImageView(g);let k=this.editor.plugins.get(cm).getResizerByViewElement(p);if(k)return void k.redraw();const b=e.editing.mapper,A=b.toModelElement(p);k=e.plugins.get(cm).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:A,viewElement:p,editor:e,getHandleHost:C=>C.querySelector("img"),getResizeHost:()=>d.mapViewToDom(b.toViewElement(A.parent)),isCentered(){const C=A.getAttribute("imageStyle");return!C||C=="block"||C=="alignCenter"},onCommit(C){t.change(E=>{E.removeClass(gm,p)}),e.execute("resizeImage",{width:C})}}),k.on("updateSize",()=>{p.hasClass(gm)||t.change(E=>{E.addClass(gm,p)});const C=A.name==="imageInline"?g:p;C.getStyle("height")&&t.change(E=>{E.removeStyle("height",C)})}),k.bind("isEnabled").to(this)})}}var tC=o(2400),GN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(tC.Z,GN),tC.Z.locals;class YN extends st{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(r=>{if(r.isDefault)for(const s of r.modelElements)this._defaultStyles[s]=r.name;return[r.name,r]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,r=t.model,s=t.plugins.get("ImageUtils");r.change(c=>{const d=e.value,{setImageSizes:g=!0}=e;let p=s.getClosestSelectedImageElement(r.document.selection);d&&this.shouldConvertImageType(d,p)&&(this.editor.execute(s.isBlockImage(p)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),p=s.getClosestSelectedImageElement(r.document.selection)),!d||this._styles.get(d).isDefault?c.removeAttribute("imageStyle",p):c.setAttribute("imageStyle",d,p),g&&s.setImageNaturalSizeAttributes(p)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:KN,objectInline:nC,objectLeft:iC,objectRight:pm,objectCenter:mm,objectBlockLeft:rC,objectBlockRight:oC}=Pe,rh={get inline(){return{name:"inline",title:"In line",icon:nC,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:iC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:rC,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:mm,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:pm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:oC,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:mm,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:pm,modelElements:["imageBlock"],className:"image-style-side"}}},sC={full:KN,left:rC,right:oC,center:mm,inlineLeft:iC,inlineRight:pm,inline:nC},aC=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function cC(a){W("image-style-configuration-definition-invalid",a)}const km={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?rh[t]?{...rh[t]}:{name:t}:function(r,s){const c={...s};for(const d in r)Object.prototype.hasOwnProperty.call(s,d)||(c[d]=r[d]);return c}(rh[t.name],t),typeof t.icon=="string"&&(t.icon=sC[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:r,isInlinePluginLoaded:s}){const{modelElements:c,name:d}=t;if(!(c&&c.length&&d))return cC({style:t}),!1;{const g=[r?"imageBlock":null,s?"imageInline":null];if(!c.some(p=>g.includes(p)))return W("image-style-missing-dependency",{style:t,missingPlugins:c.map(p=>p==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...aC]:[]},warnInvalidStyle:cC,DEFAULT_OPTIONS:rh,DEFAULT_ICONS:sC,DEFAULT_DROPDOWN_DEFINITIONS:aC};function lC(a,e){for(const t of e)if(t.name===a)return t}class dC extends ce{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Mn]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=km,r=this.editor,s=r.plugins.has("ImageBlockEditing"),c=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",t(s,c)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:c}),this._setupConversion(s,c),this._setupPostFixer(),r.commands.add("imageStyle",new YN(r,this.normalizedStyles))}_setupConversion(e,t){const r=this.editor,s=r.model.schema,c=(d=this.normalizedStyles,(p,k,b)=>{if(!b.consumable.consume(k.item,p.name))return;const A=lC(k.attributeNewValue,d),C=lC(k.attributeOldValue,d),E=b.mapper.toViewElement(k.item),M=b.writer;C&&M.removeClass(C.className,E),A&&M.addClass(A.className,E)});var d;const g=function(p){const k={imageInline:p.filter(b=>!b.isDefault&&b.modelElements.includes("imageInline")),imageBlock:p.filter(b=>!b.isDefault&&b.modelElements.includes("imageBlock"))};return(b,A,C)=>{if(!A.modelRange)return;const E=A.viewItem,M=Ht(A.modelRange.getItems());if(M&&C.schema.checkAttribute(M,"imageStyle"))for(const O of k[M.name])C.consumable.consume(E,{classes:O.className})&&C.writer.setAttribute("imageStyle",O.name,M)}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",c),r.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,r=e.plugins.get(Mn),s=new Map(this.normalizedStyles.map(c=>[c.name,c]));t.registerPostFixer(c=>{let d=!1;for(const g of t.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let p=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(p&&p.is("element","paragraph")&&p.childCount>0&&(p=p.getChild(0)),!r.isImage(p))continue;const k=p.getAttribute("imageStyle");if(!k)continue;const b=s.get(k);b&&b.modelElements.includes(p.name)||(c.removeAttribute("imageStyle",p),d=!0)}return d})}}var uC=o(3534),ZN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(uC.Z,ZN),uC.Z.locals;class QN extends ce{static get requires(){return[dC]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],r=hC(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const c of r)this._createButton(c);const s=hC([...t.filter(pe),...km.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const c of s)this._createDropdown(c,r)}_createDropdown(e,t){const r=this.editor.ui.componentFactory;r.add(e.name,s=>{let c;const{defaultItem:d,items:g,title:p}=e,k=g.filter(E=>t.find(({name:M})=>fC(M)===E)).map(E=>{const M=r.create(E);return E===d&&(c=M),M});g.length!==k.length&&km.warnInvalidStyle({dropdown:e});const b=Jr(s,Up),A=b.buttonView,C=A.arrowView;return Ru(b,k,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:gC(p,c.label),class:null,tooltip:!0}),C.unbind("label"),C.set({label:p}),A.bind("icon").toMany(k,"isOn",(...E)=>{const M=E.findIndex(Ko);return M<0?c.icon:k[M].icon}),A.bind("label").toMany(k,"isOn",(...E)=>{const M=E.findIndex(Ko);return gC(p,M<0?c.label:k[M].label)}),A.bind("isOn").toMany(k,"isOn",(...E)=>E.some(Ko)),A.bind("class").toMany(k,"isOn",(...E)=>E.some(Ko)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{k.some(({isOn:E})=>E)?b.isOpen=!b.isOpen:c.fire("execute")}),b.bind("isEnabled").toMany(k,"isEnabled",(...E)=>E.some(Ko)),this.listenTo(b,"execute",()=>{this.editor.editing.view.focus()}),b})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(fC(t),r=>{const s=this.editor.commands.get("imageStyle"),c=new Ze(r);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>d===t),c.on("execute",this._executeCommand.bind(this,t)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function hC(a,e){for(const t of a)e[t.title]&&(t.title=e[t.title]);return a}function fC(a){return`imageStyle:${a}`}function gC(a,e){return(a?a+": ":"")+e}class JN extends ce{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new sw(e)),e.commands.add("outdent",new sw(e))}}const pC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',mC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class XN extends ce{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,r=e.t,s=t.uiLanguageDirection=="ltr"?pC:mC,c=t.uiLanguageDirection=="ltr"?mC:pC;this._defineButton("indent",r("Increase indent"),s),this._defineButton("outdent",r("Decrease indent"),c)}_defineButton(e,t,r){const s=this.editor;s.ui.componentFactory.add(e,c=>{const d=s.commands.get(e),g=new Ze(c);return g.set({label:t,icon:r,tooltip:!0}),g.bind("isEnabled").to(d,"isEnabled"),this.listenTo(g,"execute",()=>{s.execute(e),s.editing.view.focus()}),g})}}class eO{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,r,s)=>{if(!s.consumable.test(r.item,"attribute:linkHref")||!r.item.is("selection")&&!s.schema.isInline(r.item))return;const c=s.writer,d=c.document.selection;for(const g of this._definitions){const p=c.createAttributeElement("a",g.attributes,{priority:5});g.classes&&c.addClass(g.classes,p);for(const k in g.styles)c.setStyle(k,g.styles[k],p);c.setCustomProperty("link",!0,p),g.callback(r.attributeNewValue)?r.item.is("selection")?c.wrap(d.getFirstRange(),p):c.wrap(s.mapper.toViewRange(r.range),p):c.unwrap(s.mapper.toViewRange(r.range),p)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,r,{writer:s,mapper:c})=>{const d=c.toViewElement(r.item),g=Array.from(d.getChildren()).find(p=>p.is("element","a"));for(const p of this._definitions){const k=$i(p.attributes);if(p.callback(r.attributeNewValue)){for(const[b,A]of k)b==="class"?s.addClass(A,g):s.setAttribute(b,A,g);p.classes&&s.addClass(p.classes,g);for(const b in p.styles)s.setStyle(b,p.styles[b],g)}else{for(const[b,A]of k)b==="class"?s.removeClass(A,g):s.removeAttribute(b,g);p.classes&&s.removeClass(p.classes,g);for(const b in p.styles)s.removeStyle(b,g)}}})}}}const tO=function(a,e,t){var r=a.length;return t=t===void 0?r:t,!e&&t>=r?a:ww(a,e,t)};var nO=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const kC=function(a){return nO.test(a)},iO=function(a){return a.split("")};var bC="\\ud800-\\udfff",rO="["+bC+"]",bm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wm="\\ud83c[\\udffb-\\udfff]",wC="[^"+bC+"]",vC="(?:\\ud83c[\\udde6-\\uddff]){2}",_C="[\\ud800-\\udbff][\\udc00-\\udfff]",AC="(?:"+bm+"|"+wm+")?",yC="[\\ufe0e\\ufe0f]?",oO=yC+AC+("(?:\\u200d(?:"+[wC,vC,_C].join("|")+")"+yC+AC+")*"),sO="(?:"+[wC+bm+"?",bm,vC,_C,rO].join("|")+")",aO=RegExp(wm+"(?="+wm+")|"+sO+oO,"g");const cO=function(a){return a.match(aO)||[]},lO=function(a){return kC(a)?cO(a):iO(a)},dO=function(a){return function(e){e=rp(e);var t=kC(e)?lO(e):void 0,r=t?t[0]:e.charAt(0),s=t?tO(t,1).join(""):e.slice(1);return r[a]()+s}}("toUpperCase"),uO=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,hO=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,fO=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,gO=/^((\w+:(\/{2,})?)|(\W))/i,oh="Ctrl+K";function CC(a,{writer:e}){const t=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,t),t}function xC(a){const e=String(a);return function(t){return!!t.replace(uO,"").match(hO)}(e)?e:"#"}function vm(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function _m(a,e){const t=(r=a,fO.test(r)?"mailto:":e);var r;const s=!!t&&!EC(a);return a&&s?t+a:a}function EC(a){return gO.test(a)}function DC(a){window.open(a,"_blank","noopener")}class pO extends st{constructor(){super(...arguments),this.manualDecorators=new ii,this.automaticDecorators=new eO}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement()||Ht(t.getSelectedBlocks());vm(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const r=this.editor.model,s=r.document.selection,c=[],d=[];for(const g in t)t[g]?c.push(g):d.push(g);r.change(g=>{if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const k=SC(s);let b=ha(p,"linkHref",s.getAttribute("linkHref"),r);s.getAttribute("linkHref")===k&&(b=this._updateLinkContent(r,g,b,e)),g.setAttribute("linkHref",e,b),c.forEach(A=>{g.setAttribute(A,!0,b)}),d.forEach(A=>{g.removeAttribute(A,b)}),g.setSelection(g.createPositionAfter(b.end.nodeBefore))}else if(e!==""){const k=$i(s.getAttributes());k.set("linkHref",e),c.forEach(A=>{k.set(A,!0)});const{end:b}=r.insertContent(g.createText(e,k),p);g.setSelection(b)}["linkHref",...c,...d].forEach(k=>{g.removeSelectionAttribute(k)})}else{const p=r.schema.getValidRanges(s.getRanges(),"linkHref"),k=[];for(const A of s.getSelectedBlocks())r.schema.checkAttribute(A,"linkHref")&&k.push(g.createRangeOn(A));const b=k.slice();for(const A of p)this._isRangeToUpdate(A,k)&&b.push(A);for(const A of b){let C=A;if(b.length===1){const E=SC(s);s.getAttribute("linkHref")===E&&(C=this._updateLinkContent(r,g,A,e),g.setSelection(g.createSelection(C)))}g.setAttribute("linkHref",e,C),c.forEach(E=>{g.setAttribute(E,!0,C)}),d.forEach(E=>{g.removeAttribute(E,C)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,r=t.document.selection,s=r.getSelectedElement();return vm(s,t.schema)?s.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,t){for(const r of t)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,t,r,s){const c=t.createText(s,{linkHref:s});return e.insertContent(c,r)}}function SC(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class mO extends st{refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement();vm(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,r=t.document.selection,s=e.commands.get("link");t.change(c=>{const d=r.isCollapsed?[ha(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),t)]:t.schema.getValidRanges(r.getRanges(),"linkHref");for(const g of d)if(c.removeAttribute("linkHref",g),s)for(const p of s.manualDecorators)c.removeAttribute(p.id,g)})}}class kO extends Ye(){constructor({id:e,label:t,attributes:r,classes:s,styles:c,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=t,this.attributes=r,this.classes=s,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var TC=o(3925),bO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(TC.Z,bO),TC.Z.locals;const IC="automatic",wO=/^(https?:)?\/\//;class Am extends ce{static get pluginName(){return"LinkEditing"}static get requires(){return[MA,CA,Ji]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:CC}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(r,s)=>CC(xC(r),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:r=>r.getAttribute("href")}}),e.commands.add("link",new pO(e)),e.commands.add("unlink",new mO(e));const t=function(r,s){const c={"Open in a new tab":r("Open in a new tab"),Downloadable:r("Downloadable")};return s.forEach(d=>("label"in d&&c[d.label]&&(d.label=c[d.label]),d)),s}(e.t,function(r){const s=[];if(r)for(const[c,d]of Object.entries(r)){const g=Object.assign({},d,{id:`link${dO(c)}`});s.push(g)}return s}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(r=>r.mode===IC)),this._enableManualDecorators(t.filter(r=>r.mode==="manual")),e.plugins.get(MA).registerAttribute("linkHref"),function(r,s,c,d){const g=r.editing.view,p=new Set;g.document.registerPostFixer(k=>{const b=r.model.document.selection;let A=!1;if(b.hasAttribute(s)){const C=ha(b.getFirstPosition(),s,b.getAttribute(s),r.model),E=r.editing.mapper.toViewRange(C);for(const M of E.getItems())M.is("element",c)&&!M.hasClass(d)&&(k.addClass(d,M),p.add(M),A=!0)}return A}),r.conversion.for("editingDowncast").add(k=>{function b(){g.change(A=>{for(const C of p.values())A.removeClass(d,C),p.delete(C)})}k.on("insert",b,{priority:"highest"}),k.on("remove",b,{priority:"highest"}),k.on("attribute",b,{priority:"highest"}),k.on("selection",b,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,r=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:IC,callback:s=>!!s&&wO.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&t.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,r=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const c=new kO(s);r.add(c),t.conversion.for("downcast").attributeToElement({model:c.id,view:(d,{writer:g,schema:p},{item:k})=>{if((k.is("selection")||p.isInline(k))&&d){const b=g.createAttributeElement("a",c.attributes,{priority:5});c.classes&&g.addClass(c.classes,b);for(const A in c.styles)g.setStyle(A,c.styles[A],b);return g.setCustomProperty("link",!0,b),b}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...c._createPattern()},model:{key:c.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,s)=>{if(!(f.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let c=s.domTarget;if(c.tagName.toLowerCase()!="a"&&(c=c.closest("a")),!c)return;const d=c.getAttribute("href");d&&(r.stop(),s.preventDefault(),DC(d))},{context:"$capture"}),this.listenTo(t,"keydown",(r,s)=>{const c=e.commands.get("link").value;c&&s.keyCode===Re.enter&&s.altKey&&(r.stop(),DC(c))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const r=t.anchor.nodeBefore,s=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&r&&r.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||e.change(c=>{ym(c,Cm(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Ou);let r=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{r=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!r)return;r=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const c=s.getFirstPosition(),d=ha(c,"linkHref",s.getAttribute("linkHref"),t);(c.isTouching(d.start)||c.isTouching(d.end))&&t.change(g=>{ym(g,Cm(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let r=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;c.isCollapsed||(s?s=!1:MC(e)&&function(d){const g=d.document.selection,p=g.getFirstPosition(),k=g.getLastPosition(),b=p.nodeAfter;if(!b||!b.is("$text")||!b.hasAttribute("linkHref"))return!1;const A=k.textNode||k.nodeBefore;return b===A?!0:ha(p,"linkHref",b.getAttribute("linkHref"),d).containsRange(d.createRange(p,k),!0)}(e.model)&&(r=c.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[d])=>{s=!1,MC(e)&&r&&(e.model.change(g=>{for(const[p,k]of r)g.setAttribute(p,k,d)}),r=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,r=t.document.selection,s=e.editing.view;let c=!1,d=!1;this.listenTo(s.document,"delete",(g,p)=>{d=p.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{c=!1;const g=r.getFirstPosition(),p=r.getAttribute("linkHref");if(!p)return;const k=ha(g,"linkHref",p,t);c=k.containsPosition(g)||k.end.isEqual(g)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d&&(d=!1,c||e.model.enqueueChange(g=>{ym(g,Cm(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,c)=>{t.change(d=>{const g=d.createRangeIn(c.content);for(const p of g.getItems())if(p.hasAttribute("linkHref")){const k=_m(p.getAttribute("linkHref"),r);d.setAttribute("linkHref",k,p)}})})}}function ym(a,e){a.removeSelectionAttribute("linkHref");for(const t of e)a.removeSelectionAttribute(t)}function MC(a){return a.model.change(e=>e.batch).isTyping}function Cm(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var NC=o(4874),vO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(NC.Z,vO),NC.Z.locals;class _O extends Te{constructor(e,t){super(e),this.focusTracker=new Dn,this.keystrokes=new wi,this._focusables=new Ki;const r=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Pe.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Pe.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new wr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Pu({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new cl(this.locale,ll);return t.label=e("Link URL"),t}_createButton(e,t,r,s){const c=new Ze(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:r}}),s&&c.delegate("execute").to(this,s),c}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const r of e.manualDecorators){const s=new Rp(this.locale);s.set({name:r.id,label:r.label,withText:!0}),s.bind("isOn").toMany([r,e],"value",(c,d)=>d===void 0&&c===void 0?!!r.defaultValue:!!c),s.on("execute",()=>{r.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const r=new Te;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(r)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var OC=o(7536),AO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(OC.Z,AO),OC.Z.locals;class yO extends Te{constructor(e){super(e),this.focusTracker=new Dn,this.keystrokes=new wi,this._focusables=new Ki;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Pe.pencil,"edit"),this.set("href",void 0),this._focusCycler=new wr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,r){const s=new Ze(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,r),s}_createPreviewButton(){const e=new Ze(this.locale),t=this.bindTemplate,r=this.t;return e.set({withText:!0,tooltip:r("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&xC(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||r("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const BC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Xi="link-ui";class PC extends ce{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Hu]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(bI),this._balloon=e.plugins.get(Hu),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Xi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Xi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new yO(e.locale),r=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(r,"value"),t.editButtonView.bind("isEnabled").to(r),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(c,d)=>{this._hideUI(),d()}),t.keystrokes.set(oh,(c,d)=>{this._addFormView(),d()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),s=new(Lp(_O))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:c}=s.urlInputView.fieldView.element,d=_m(c,r);e.execute("link",d,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(c,d)=>{this._closeFormView(),d()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),r=e.t;e.ui.componentFactory.add("link",s=>{const c=new Ze(s);return c.isEnabled=!0,c.label=r("Link"),c.icon=BC,c.keystroke=oh,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(t,"isEnabled"),c.bind("isOn").to(t,"value",d=>!!d),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(oh,(r,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Pp({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let r=this._getSelectedLinkElement(),s=d();const c=()=>{const g=this._getSelectedLinkElement(),p=d();r&&!g||!r&&p!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=g,s=p};function d(){return t.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,r=e.document;let s;if(t.markers.has(Xi)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(Xi)),d=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));s=e.domConverter.viewRangeToDom(d)}else s=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,r=t.getSelectedElement();if(t.isCollapsed||r&&qt(r))return xm(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),c=xm(s.start),d=xm(s.end);return c&&c==d&&e.createRangeIn(c).getTrimmed().isEqual(s)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const r=e.document.selection.getFirstRange();if(e.markers.has(Xi))t.updateMarker(Xi,{range:r});else if(r.start.isAtEnd){const s=r.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:r});t.addMarker(Xi,{usingOperation:!1,affectsData:!1,range:t.createRange(s,r.end)})}else t.addMarker(Xi,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Xi)&&e.change(t=>{t.removeMarker(Xi)})}}function xm(a){return a.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const CO=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class LC extends ce{static get requires(){return[Qi]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new IA(e.model,r=>{if(!function(c){return c.length>4&&c[c.length-1]===" "&&c[c.length-2]!==" "}(r))return;const s=zC(r.substr(0,r.length-1));return s?{url:s}:void 0});t.on("matched:data",(r,s)=>{const{batch:c,range:d,url:g}=s;if(!c.isTyping)return;const p=d.end.getShiftedBy(-1),k=p.getShiftedBy(-g.length),b=e.model.createRange(k,p);this._applyAutoLink(g,b)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const c=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const s=t.document.selection.getFirstPosition(),c=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:r,range:s}=TA(e,t),c=zC(r);if(c){const d=t.createRange(s.end.getShiftedBy(-c.length),s.end);this._applyAutoLink(c,d)}}_applyAutoLink(e,t){const r=this.editor.model,s=_m(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(c,d){return d.schema.checkAttributeInSelection(d.createSelection(c),"linkHref")}(t,r)&&EC(s)&&!function(c){const d=c.start.nodeAfter;return!!d&&d.hasAttribute("linkHref")}(t)&&this._persistAutoLink(s,t)}_persistAutoLink(e,t){const r=this.editor.model,s=this.editor.plugins.get("Delete");r.enqueueChange(c=>{c.setAttribute("linkHref",e,t),r.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function zC(a){const e=CO.exec(a);return e?e[2]:null}class xO extends ce{static get requires(){return["ImageEditing","ImageUtils",Am]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(r){const s=r.plugins.has("ImageInlineEditing"),c=r.plugins.get("ImageUtils");return d=>{d.on("element:a",(g,p,k)=>{const b=p.viewItem,A=c.findViewImgElement(b);if(!A)return;const C=A.findAncestor(z=>c.isBlockImageView(z));if(s&&!C)return;const E={attributes:["href"]};if(!k.consumable.consume(b,E))return;const M=b.getAttribute("href");if(!M)return;let O=p.modelCursor.parent;if(!O.is("element","imageBlock")){const z=k.convertItem(A,p.modelCursor);p.modelRange=z.modelRange,p.modelCursor=z.modelCursor,O=p.modelCursor.nodeBefore}O&&O.is("element","imageBlock")&&k.writer.setAttribute("linkHref",M,O)},{priority:"high"})}}(e)),e.conversion.for("downcast").add(function(r){const s=r.plugins.get("ImageUtils");return c=>{c.on("attribute:linkHref:imageBlock",(d,g,p)=>{if(!p.consumable.consume(g.item,d.name))return;const k=p.mapper.toViewElement(g.item),b=p.writer,A=Array.from(k.getChildren()).find(M=>M.is("element","a")),C=s.findViewImgElement(k),E=C.parent.is("element","picture")?C.parent:C;if(A)g.attributeNewValue?b.setAttribute("href",g.attributeNewValue,A):(b.move(b.createRangeOn(E),b.createPositionAt(k,0)),b.remove(A));else{const M=b.createContainerElement("a",{href:g.attributeNewValue});b.insert(b.createPositionAt(k,0),M),b.move(b.createRangeOn(E),b.createPositionAt(M,0))}},{priority:"high"})}}(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const r of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:r.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:r.id}),e.conversion.for("downcast").add(EO(r)),e.conversion.for("upcast").add(DO(e,r))}}function EO(a){return e=>{e.on(`attribute:${a.id}:imageBlock`,(t,r,s)=>{const c=s.mapper.toViewElement(r.item),d=Array.from(c.getChildren()).find(g=>g.is("element","a"));if(d){for(const[g,p]of $i(a.attributes))s.writer.setAttribute(g,p,d);a.classes&&s.writer.addClass(a.classes,d);for(const g in a.styles)s.writer.setStyle(g,a.styles[g],d)}})}}function DO(a,e){const t=a.plugins.has("ImageInlineEditing"),r=a.plugins.get("ImageUtils");return s=>{s.on("element:a",(c,d,g)=>{const p=d.viewItem,k=r.findViewImgElement(p);if(!k)return;const b=k.findAncestor(E=>r.isBlockImageView(E));if(t&&!b)return;const A=new ri(e._createPattern()).match(p);if(!A||!g.consumable.consume(p,A.match))return;const C=d.modelCursor.nodeBefore||d.modelCursor.parent;g.writer.setAttribute(e.id,!0,C)},{priority:"high"})}}class SO extends ce{static get requires(){return[Am,PC,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,s)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(s.preventDefault(),r.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",r=>{const s=new Ze(r),c=e.plugins.get("LinkUI"),d=e.commands.get("link");return s.set({isEnabled:!0,label:t("Link image"),icon:BC,keystroke:oh,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(d,"isEnabled"),s.bind("isOn").to(d,"value",g=>!!g),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?c._addActionsView():c._showUI(!0)}),s})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}var jC=o(4330),TO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(jC.Z,TO),jC.Z.locals;var RC=o(3190),IO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(RC.Z,IO),RC.Z.locals;var FC=o(4784),MO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(FC.Z,MO),FC.Z.locals;function NO(a,e){const t=e.mapper,r=e.writer,s=a.getAttribute("listType")=="numbered"?"ol":"ul",c=function(g){const p=g.createContainerElement("li");return p.getFillerOffset=PO,p}(r),d=r.createContainerElement(s,null);return r.insert(r.createPositionAt(d,0),c),t.bindElements(a,c),c}function VC(a,e,t,r){const s=e.parent,c=t.mapper,d=t.writer;let g=c.toViewPosition(r.createPositionBefore(a));const p=HC(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),k=a.previousSibling;if(p&&p.getAttribute("listIndent")==a.getAttribute("listIndent")){const b=c.toViewElement(p);g=d.breakContainer(d.createPositionAfter(b))}else if(k&&k.name=="listItem"){g=c.toViewPosition(r.createPositionAt(k,"end"));const b=c.findMappedViewAncestor(g),A=function(C){for(const E of C.getChildren())if(E.name=="ul"||E.name=="ol")return E;return null}(b);g=A?d.createPositionBefore(A):d.createPositionAt(b,"end")}else g=c.toViewPosition(r.createPositionBefore(a));if(g=UC(g),d.insert(g,s),k&&k.name=="listItem"){const b=c.toViewElement(k),A=d.createRange(d.createPositionAt(b,0),g).getWalker({ignoreElementEnd:!0});for(const C of A)if(C.item.is("element","li")){const E=d.breakContainer(d.createPositionBefore(C.item)),M=C.item.parent,O=d.createPositionAt(e,"end");si(d,O.nodeBefore,O.nodeAfter),d.move(d.createRangeOn(M),O),A._position=E}}else{const b=s.nextSibling;if(b&&(b.is("element","ul")||b.is("element","ol"))){let A=null;for(const C of b.getChildren()){const E=c.toModelElement(C);if(!(E&&E.getAttribute("listIndent")>a.getAttribute("listIndent")))break;A=C}A&&(d.breakContainer(d.createPositionAfter(A)),d.move(d.createRangeOn(A.parent),d.createPositionAt(e,"end")))}}si(d,s,s.nextSibling),si(d,s.previousSibling,s)}function si(a,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function UC(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function HC(a,e){const t=!!e.sameIndent,r=!!e.smallerIndent,s=e.listIndent;let c=a;for(;c&&c.name=="listItem";){const d=c.getAttribute("listIndent");if(t&&s==d||r&&s>d)return c;c=e.direction==="forward"?c.nextSibling:c.previousSibling}return null}function $C(a,e,t,r){a.ui.componentFactory.add(e,s=>{const c=a.commands.get(e),d=new Ze(s);return d.set({label:t,icon:r,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.on("execute",()=>{a.execute(e),a.editing.view.focus()}),d})}function Em(a,e){const t=[],r=a.parent,s={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},c=r.getAttribute("listIndent"),d=[...new Gi(s)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of d){if(!g.is("element","listItem")||g.getAttribute("listIndent")<c)break;if(!(g.getAttribute("listIndent")>c)){if(g.getAttribute("listType")!==r.getAttribute("listType")||g.getAttribute("listStyle")!==r.getAttribute("listStyle")||g.getAttribute("listReversed")!==r.getAttribute("listReversed")||g.getAttribute("listStart")!==r.getAttribute("listStart"))break;e==="backward"?t.unshift(g):t.push(g)}}return t}const OO=["disc","circle","square"],BO=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function PO(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:Cw.call(this)}class LO extends ce{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;$C(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),$C(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const zO=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:t}of zO);var WC=o(5782),jO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(WC.Z,jO),WC.Z.locals;var qC=o(9938),RO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(qC.Z,RO),qC.Z.locals;var GC=o(2591),FO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(GC.Z,FO),GC.Z.locals;class YC extends st{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let r=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const c=r[r.length-1];let d=c.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>c.getAttribute("listIndent");)r.push(d),d=d.nextSibling;this._indentBy<0&&(r=r.reverse());for(const g of r){const p=g.getAttribute("listIndent")+this._indentBy;p<0?s.rename(g,"paragraph"):s.setAttribute("listIndent",p,g)}this.fire("_executeCleanup",r)})}_checkEnabled(){const e=Ht(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),r=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==r;s=s.previousSibling}return!1}return!0}}class KC extends st{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document,s=Array.from(r.selection.getSelectedBlocks()).filter(d=>QC(d,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(c){let g=s[s.length-1].nextSibling,p=Number.POSITIVE_INFINITY,k=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const b=g.getAttribute("listIndent");b<p&&(p=b);const A=b-p;k.push({element:g,listIndent:A}),g=g.nextSibling}k=k.reverse();for(const b of k)d.setAttribute("listIndent",b.listIndent,b.element)}if(!c){let g=Number.POSITIVE_INFINITY;for(const p of s)p.is("element","listItem")&&p.getAttribute("listIndent")<g&&(g=p.getAttribute("listIndent"));g=g===0?1:g,ZC(s,!0,g),ZC(s,!1,g)}for(const g of s.reverse())c&&g.name=="listItem"?d.rename(g,"paragraph"):c||g.name=="listItem"?c||g.name!="listItem"||g.getAttribute("listType")==this.type||d.setAttribute("listType",this.type,g):(d.setAttributes({listType:this.type,listIndent:0},g),d.rename(g,"listItem"));this.fire("_executeCleanup",s)})}_getValue(){const e=Ht(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=Ht(e.getSelectedBlocks());return!!r&&QC(r,t)}}function ZC(a,e,t){const r=e?a[0]:a[a.length-1];if(r.is("element","listItem")){let s=r[e?"previousSibling":"nextSibling"],c=r.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)c>s.getAttribute("listIndent")&&(c=s.getAttribute("listIndent")),s.getAttribute("listIndent")==c&&a[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function QC(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class VO extends ce{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return OO.includes(t)?"bulleted":BO.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let r=[...t.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const c=t.change(d=>d.createPositionAt(s,0));return[...Em(c,"backward"),...Em(c,"forward")]}).flat();return r=[...new Set(r)],r}(e)}getSiblingNodes(e,t){return Em(e,t)}}function JC(a){return(e,t,r)=>{const s=r.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const c=t.item;VC(c,NO(c,r),r,a)}}const UO=(a,e,t)=>{if(!t.consumable.test(e.item,a.name))return;const r=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(r)),s.breakContainer(s.createPositionAfter(r));const c=r.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(d,c)},HO=(a,e,t)=>{t.consumable.consume(e.item,a.name);const r=t.mapper.toViewElement(e.item).parent,s=t.writer;si(s,r,r.nextSibling),si(s,r.previousSibling,r)},XC=(a,e,t)=>{if(t.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let r=t.mapper.toViewPosition(e.range.start);const s=t.writer,c=[];for(;(r.parent.name=="ul"||r.parent.name=="ol")&&(r=s.breakContainer(r),r.parent.name=="li");){const d=r,g=s.createPositionAt(r.parent,"end");if(!d.isEqual(g)){const p=s.remove(s.createRange(d,g));c.push(p)}r=s.createPositionAfter(r.parent)}if(c.length>0){for(let d=0;d<c.length;d++){const g=r.nodeBefore;if(r=s.insert(r,c[d]).end,d>0){const p=si(s,g,g.nextSibling);p&&p.parent==g&&r.offset--}}si(s,r.nodeBefore,r.nodeAfter)}}},$O=(a,e,t)=>{const r=t.mapper.toViewPosition(e.position),s=r.nodeBefore,c=r.nodeAfter;si(t.writer,s,c)},WO=(a,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const r=t.writer,s=r.createElement("listItem"),c=function(p){let k=0,b=p.parent;for(;b;){if(b.is("element","li"))k++;else{const A=b.previousSibling;A&&A.is("element","li")&&k++}b=b.parent}return k}(e.viewItem);r.setAttribute("listIndent",c,s);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(r.setAttribute("listType",d,s),!t.safeInsert(s,e.modelCursor))return;const g=function(p,k,b){const{writer:A,schema:C}=b;let E=A.createPositionAfter(p);for(const M of k)if(M.name=="ul"||M.name=="ol")E=b.convertItem(M,E).modelCursor;else{const O=b.convertItem(M,A.createPositionAt(p,"end")),z=O.modelRange.start.nodeAfter;z&&z.is("element")&&!C.checkChild(p,z.name)&&(p=O.modelCursor.parent.is("element","listItem")?O.modelCursor.parent:YO(O.modelCursor),E=A.createPositionAfter(p))}return E}(s,e.viewItem.getChildren(),t);e.modelRange=r.createRange(e.modelCursor,g),t.updateConversionResult(s,e)}},e1=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const r=Array.from(e.viewItem.getChildren());for(const s of r)!(s.is("element","li")||ma(s))&&s._remove()}},qO=(a,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const r=[...e.viewItem.getChildren()];let s=!1;for(const c of r)s&&!ma(c)&&c._remove(),ma(c)&&(s=!0)}};function t1(a){return(e,t)=>{if(t.isPhantom)return;const r=t.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){const s=t.mapper.toViewElement(r),c=s.getAncestors().find(ma),d=a.createPositionAt(s,0).getWalker();for(const g of d){if(g.type=="elementStart"&&g.item.is("element","li")){t.viewPosition=g.previousPosition;break}if(g.type=="elementEnd"&&g.item==c){t.viewPosition=g.nextPosition;break}}}}}const GO=function(a,[e,t]){const r=this;let s,c=e.is("documentFragment")?e.getChild(0):e;if(s=t?r.createSelection(t):r.document.selection,c&&c.is("element","listItem")){const d=s.getFirstPosition();let g=null;if(d.parent.is("element","listItem")?g=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(g=d.nodeBefore),g){const p=g.getAttribute("listIndent");if(p>0)for(;c&&c.is("element","listItem");)c._setAttribute("listIndent",c.getAttribute("listIndent")+p),c=c.nextSibling}}};function YO(a){const e=new Gi({startPosition:a});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function n1(a,e,t,r,s,c){const d=HC(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),g=s.mapper,p=s.writer,k=d?d.getAttribute("listIndent"):null;let b;if(d)if(k==a){const A=g.toViewElement(d).parent;b=p.createPositionAfter(A)}else{const A=c.createPositionAt(d,"end");b=g.toViewPosition(A)}else b=t;b=UC(b);for(const A of[...r.getChildren()])ma(A)&&(b=p.move(p.createRangeOn(A),b).end,si(p,A,A.nextSibling),si(p,A.previousSibling,A))}function ma(a){return a.is("element","ol")||a.is("element","ul")}class KO extends ce{static get pluginName(){return"ListEditing"}static get requires(){return[Zu,Qi,VO]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,r=e.editing;var s;e.model.document.registerPostFixer(d=>function(g,p){const k=g.document.differ.getChanges(),b=new Map;let A=!1;for(const O of k)if(O.type=="insert"&&O.name=="listItem")C(O.position);else if(O.type=="insert"&&O.name!="listItem"){if(O.name!="$text"){const z=O.position.nodeAfter;z.hasAttribute("listIndent")&&(p.removeAttribute("listIndent",z),A=!0),z.hasAttribute("listType")&&(p.removeAttribute("listType",z),A=!0),z.hasAttribute("listStyle")&&(p.removeAttribute("listStyle",z),A=!0),z.hasAttribute("listReversed")&&(p.removeAttribute("listReversed",z),A=!0),z.hasAttribute("listStart")&&(p.removeAttribute("listStart",z),A=!0);for(const V of Array.from(g.createRangeIn(z)).filter(K=>K.item.is("element","listItem")))C(V.previousPosition)}C(O.position.getShiftedBy(O.length))}else O.type=="remove"&&O.name=="listItem"?C(O.position):(O.type=="attribute"&&O.attributeKey=="listIndent"||O.type=="attribute"&&O.attributeKey=="listType")&&C(O.range.start);for(const O of b.values())E(O),M(O);return A;function C(O){const z=O.nodeBefore;if(z&&z.is("element","listItem")){let V=z;if(b.has(V))return;for(let K=V.previousSibling;K&&K.is("element","listItem");K=V.previousSibling)if(V=K,b.has(V))return;b.set(z,V)}else{const V=O.nodeAfter;V&&V.is("element","listItem")&&b.set(V,V)}}function E(O){let z=0,V=null;for(;O&&O.is("element","listItem");){const K=O.getAttribute("listIndent");if(K>z){let se;V===null?(V=K-z,se=z):(V>K&&(V=K),se=K-V),p.setAttribute("listIndent",se,O),A=!0}else V=null,z=O.getAttribute("listIndent")+1;O=O.nextSibling}}function M(O){let z=[],V=null;for(;O&&O.is("element","listItem");){const K=O.getAttribute("listIndent");if(V&&V.getAttribute("listIndent")>K&&(z=z.slice(0,K+1)),K!=0)if(z[K]){const se=z[K];O.getAttribute("listType")!=se&&(p.setAttribute("listType",se,O),A=!0)}else z[K]=O.getAttribute("listType");V=O,O=O.nextSibling}}}(e.model,d)),r.mapper.registerViewToModelLength("li",Dm),t.mapper.registerViewToModelLength("li",Dm),r.mapper.on("modelToViewPosition",t1(r.view)),r.mapper.on("viewToModelPosition",(s=e.model,(d,g)=>{const p=g.viewPosition,k=p.parent,b=g.mapper;if(k.name=="ul"||k.name=="ol"){if(p.isAtEnd){const A=b.toModelElement(p.nodeBefore),C=b.getModelLength(p.nodeBefore);g.modelPosition=s.createPositionBefore(A).getShiftedBy(C)}else{const A=b.toModelElement(p.nodeAfter);g.modelPosition=s.createPositionBefore(A)}d.stop()}else if(k.name=="li"&&p.nodeBefore&&(p.nodeBefore.name=="ul"||p.nodeBefore.name=="ol")){const A=b.toModelElement(k);let C=1,E=p.nodeBefore;for(;E&&ma(E);)C+=b.getModelLength(E),E=E.previousSibling;g.modelPosition=s.createPositionBefore(A).getShiftedBy(C),d.stop()}})),t.mapper.on("modelToViewPosition",t1(r.view)),e.conversion.for("editingDowncast").add(d=>{d.on("insert",XC,{priority:"high"}),d.on("insert:listItem",JC(e.model)),d.on("attribute:listType:listItem",UO,{priority:"high"}),d.on("attribute:listType:listItem",HO,{priority:"low"}),d.on("attribute:listIndent:listItem",function(g){return(p,k,b)=>{if(!b.consumable.consume(k.item,"attribute:listIndent"))return;const A=b.mapper.toViewElement(k.item),C=b.writer;C.breakContainer(C.createPositionBefore(A)),C.breakContainer(C.createPositionAfter(A));const E=A.parent,M=E.previousSibling,O=C.createRangeOn(E);C.remove(O),M&&M.nextSibling&&si(C,M,M.nextSibling),n1(k.attributeOldValue+1,k.range.start,O.start,A,b,g),VC(k.item,A,b,g);for(const z of k.item.getChildren())b.consumable.consume(z,"insert")}}(e.model)),d.on("remove:listItem",function(g){return(p,k,b)=>{const A=b.mapper.toViewPosition(k.position).getLastMatchingPosition(V=>!V.item.is("element","li")).nodeAfter,C=b.writer;C.breakContainer(C.createPositionBefore(A)),C.breakContainer(C.createPositionAfter(A));const E=A.parent,M=E.previousSibling,O=C.createRangeOn(E),z=C.remove(O);M&&M.nextSibling&&si(C,M,M.nextSibling),n1(b.mapper.toModelElement(A).getAttribute("listIndent")+1,k.position,O.start,A,b,g);for(const V of C.createRangeIn(z).getItems())b.mapper.unbindViewElement(V);p.stop()}}(e.model)),d.on("remove",$O,{priority:"low"})}),e.conversion.for("dataDowncast").add(d=>{d.on("insert",XC,{priority:"high"}),d.on("insert:listItem",JC(e.model))}),e.conversion.for("upcast").add(d=>{d.on("element:ul",e1,{priority:"high"}),d.on("element:ol",e1,{priority:"high"}),d.on("element:li",qO,{priority:"high"}),d.on("element:li",WO)}),e.model.on("insertContent",GO,{priority:"high"}),e.commands.add("numberedList",new KC(e,"numbered")),e.commands.add("bulletedList",new KC(e,"bulleted")),e.commands.add("indentList",new YC(e,"forward")),e.commands.add("outdentList",new YC(e,"backward"));const c=r.view.document;this.listenTo(c,"enter",(d,g)=>{const p=this.editor.model.document,k=p.selection.getLastPosition().parent;p.selection.isCollapsed&&k.name=="listItem"&&k.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),d.stop())},{context:"li"}),this.listenTo(c,"delete",(d,g)=>{if(g.direction!=="backward")return;const p=this.editor.model.document.selection;if(!p.isCollapsed)return;const k=p.getFirstPosition();if(!k.isAtStart)return;const b=k.parent;b.name==="listItem"&&(b.previousSibling&&b.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),g.preventDefault(),d.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(d,g)=>{const p=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(p).isEnabled&&(e.execute(p),g.stopPropagation(),g.preventDefault(),d.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),r=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),r&&r.registerChildCommand(e.get("outdentList"))}}function Dm(a){let e=1;for(const t of a.getChildren())if(t.name=="ul"||t.name=="ol")for(const r of t.getChildren())e+=Dm(r);return e}Hc("Ctrl+Enter");var i1=o(9292),ZO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(i1.Z,ZO),i1.Z.locals,Hc("Ctrl+Enter");function r1(a,e){const t=(r,s,c)=>{if(!c.consumable.consume(s.item,r.name))return;const d=s.attributeNewValue,g=c.writer,p=c.mapper.toViewElement(s.item),k=[...p.getChildren()].find(A=>A.getCustomProperty("media-content"));g.remove(k);const b=a.getMediaViewElement(g,d,e);g.insert(g.createPositionAt(p,0),b)};return r=>{r.on("attribute:url:media",t)}}function o1(a,e,t,r){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,t,r),a.createSlot()])}function s1(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function a1(a,e,t,r){a.change(s=>{const c=s.createElement("media",{url:e});a.insertObject(c,t,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})})}class QO extends st{refresh(){const e=this.editor.model,t=e.document.selection,r=s1(t);this.value=r?r.getAttribute("url"):void 0,this.isEnabled=function(s){const c=s.getSelectedElement();return!!c&&c.name==="media"}(t)||function(s,c){let g=am(s,c).start.parent;return g.isEmpty&&!c.schema.isLimit(g)&&(g=g.parent),c.schema.checkChild(g,"media")}(t,e)}execute(e){const t=this.editor.model,r=t.document.selection,s=s1(r);s?t.change(c=>{c.setAttribute("url",e,s)}):a1(t,e,r,!0)}}class JO{constructor(e,t){const r=t.providers,s=t.extraProviders||[],c=new Set(t.removeProviders),d=r.concat(s).filter(g=>{const p=g.name;return p?!c.has(p):(W("media-embed-no-provider-name",{provider:g}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,r){return this._getMedia(t).getViewElement(e,r)}_getMedia(e){if(!e)return new c1(this.locale);e=e.trim();for(const t of this.providerDefinitions){const r=t.html,s=Ut(t.url);for(const c of s){const d=this._getUrlMatches(e,c);if(d)return new c1(this.locale,e,d,r)}}return null}_getUrlMatches(e,t){let r=e.match(t);if(r)return r;let s=e.replace(/^https?:\/\//,"");return r=s.match(t),r||(s=s.replace(/^www\./,""),r=s.match(t),r||null)}}class c1{constructor(e,t,r,s){this.url=this._getValidUrl(t),this._locale=e,this._match=r,this._previewRenderer=s}getViewElement(e,t){const r={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),t.renderForEditingView&&(r.class="ck-media__wrapper");const c=this._getPreviewHtml(t);s=e.createRawElement("div",r,(d,g)=>{g.setContentOf(d,c)})}else this.url&&(r.url=this.url),s=e.createEmptyElement(t.elementName,r);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new br,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Zi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var l1=o(1922),XO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(l1.Z,XO),l1.Z.locals;class sh extends ce{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const r=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new JO(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,r=e.t,s=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),g=this.registry;e.commands.add("mediaEmbed",new QO(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(p,{writer:k})=>{const b=p.getAttribute("url");return o1(k,g,b,{elementName:d,renderMediaPreview:!!b&&c})}}),s.for("dataDowncast").add(r1(g,{elementName:d,renderMediaPreview:c})),s.for("editingDowncast").elementToStructure({model:"media",view:(p,{writer:k})=>{const b=p.getAttribute("url");return function(A,C,E){return C.setCustomProperty("media",!0,A),sm(A,C,{label:E})}(o1(k,g,b,{elementName:d,renderForEditingView:!0}),k,r("media widget"))}}),s.for("editingDowncast").add(r1(g,{elementName:d,renderForEditingView:!0})),s.for("upcast").elementToElement({view:p=>["oembed",d].includes(p.name)&&p.getAttribute("url")?{name:!0}:null,model:(p,{writer:k})=>{const b=p.getAttribute("url");return g.hasMedia(b)?k.createElement("media",{url:b}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(p,{writer:k})=>{const b=p.getAttribute("data-oembed-url");return g.hasMedia(b)?k.createElement("media",{url:b}):null}}).add(p=>{p.on("element:figure",(k,b,A)=>{if(!A.consumable.consume(b.viewItem,{name:!0,classes:"media"}))return;const{modelRange:C,modelCursor:E}=A.convertChildren(b.viewItem,b.modelCursor);b.modelRange=C,b.modelCursor=E,Ht(C.getItems())||A.consumable.revert(b.viewItem,{name:!0,classes:"media"})})})}}const eB=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class tB extends ce{static get requires(){return[dm,Qi,um]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const s=t.selection.getFirstRange(),c=It.fromPosition(s.start);c.stickiness="toPrevious";const d=It.fromPosition(s.end);d.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(c,d),c.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const r=this.editor,s=r.plugins.get(sh).registry,c=new Sn(e,t),d=c.getWalker({ignoreElementEnd:!0});let g="";for(const p of d)p.item.is("$textProxy")&&(g+=p.item.data);if(g=g.trim(),!g.match(eB)||!s.hasMedia(g))return void c.detach();r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=It.fromPosition(e),this._timeoutId=Ae.window.setTimeout(()=>{r.model.change(p=>{this._timeoutId=null,p.remove(c),c.detach();let k=null;this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert),a1(r.model,g,k,!1),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get(Qi).requestUndoOnBackspace()},100)):c.detach()}}var d1=o(7138),nB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(d1.Z,nB),d1.Z.locals;class iB extends Te{constructor(e,t){super(t);const r=t.t;this.focusTracker=new Dn,this.keystrokes=new wi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Pe.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(r("Cancel"),Pe.cancel,"ck-button-cancel","cancel"),this._focusables=new Ki,this._focusCycler=new wr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Pu({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new cl(this.locale,ll),r=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,r.on("input",()=>{t.infoText=r.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=r.element.value.trim()}),t}_createButton(e,t,r,s){const c=new Ze(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:r}}),s&&c.delegate("execute").to(this,s),c}}class rB extends ce{static get requires(){return[sh]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",r=>{const s=Jr(r);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const r=this.editor,s=r.t,c=e.buttonView,d=r.plugins.get(sh).registry;e.once("change:isOpen",()=>{const g=new(Lp(iB))(function(p,k){return[b=>{if(!b.url.length)return p("The URL must not be empty.")},b=>{if(!k.hasMedia(b.url))return p("This media URL is not supported.")}]}(r.t,d),r.locale);e.panelView.children.add(g),c.on("open",()=>{g.disableCssTransitions(),g.url=t.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{g.isValid()&&(r.execute("mediaEmbed",g.url),r.editing.view.focus())}),e.on("change:isOpen",()=>g.resetFormStatus()),e.on("cancel",()=>{r.editing.view.focus()}),g.delegate("submit","cancel").to(e),g.urlInputView.fieldView.bind("value").to(t,"value"),g.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),c.set({label:s("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var u1=o(8705),oB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(u1.Z,oB),u1.Z.locals;function sB(a,e){if(!a.childCount)return;const t=new rs(a.document),r=function(d,g){const p=g.createRangeIn(d),k=new ri({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),b=[];for(const A of p)if(A.type==="elementStart"&&k.match(A.item)){const C=cB(A.item);b.push({element:A.item,id:C.id,order:C.order,indent:C.indent})}return b}(a,t);if(!r.length)return;let s=null,c=1;r.forEach((d,g)=>{const p=function(M,O){if(!M)return!0;if(M.id!==O.id)return O.indent-M.indent!=1;const z=O.element.previousSibling;if(!z)return!0;return V=z,!(V.is("element","ol")||V.is("element","ul"));var V}(r[g-1],d),k=p?null:r[g-1],b=(C=d,(A=k)?C.indent-A.indent:C.indent-1);var A,C;if(p&&(s=null,c=1),!s||b!==0){const M=function(O,z){const V=new RegExp(`@list l${O.id}:level${O.indent}\\s*({[^}]*)`,"gi"),K=/mso-level-number-format:([^;]{0,100});/gi,se=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,ye=V.exec(z);let ze="decimal",Nn="ol",er=null;if(ye&&ye[1]){const wn=K.exec(ye[1]);if(wn&&wn[1]&&(ze=wn[1].trim(),Nn=ze!=="bullet"&&ze!=="image"?"ol":"ul"),ze==="bullet"){const no=function(_B){const w1=function(v1){if(v1.getChild(0).is("$text"))return null;for(const _1 of v1.getChildren()){if(!_1.is("element","span"))continue;const ah=_1.getChild(0);if(ah)return ah.is("$text")?ah:ah.getChild(0)}return null}(_B);if(!w1)return null;const Tm=w1._data;return Tm==="o"?"circle":Tm==="·"?"disc":Tm==="§"?"square":null}(O.element);no&&(ze=no)}else{const no=se.exec(ye[1]);no&&no[1]&&(er=parseInt(no[1]))}}return{type:Nn,startIndex:er,style:aB(ze)}}(d,e);if(s){if(d.indent>c){const O=s.getChild(s.childCount-1),z=O.getChild(O.childCount-1);s=h1(M,z,t),c+=1}else if(d.indent<c){const O=c-d.indent;s=function(z,V){const K=z.getAncestors({parentFirst:!0});let se=null,ye=0;for(const ze of K)if((ze.is("element","ul")||ze.is("element","ol"))&&ye++,ye===V){se=ze;break}return se}(s,O),c=d.indent}}else s=h1(M,d.element,t);d.indent<=c&&(s.is("element",M.type)||(s=t.rename(M.type,s)))}const E=function(M,O){return function(z,V){const K=new ri({name:"span",styles:{"mso-list":"Ignore"}}),se=V.createRangeIn(z);for(const ye of se)ye.type==="elementStart"&&K.match(ye.item)&&V.remove(ye.item)}(M,O),O.removeStyle("text-indent",M),O.rename("li",M)}(d.element,t);t.appendChild(E,s)})}function aB(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function h1(a,e,t){const r=e.parent,s=t.createElement(a.type),c=r.getChildIndex(e)+1;return t.insertChild(c,s,r),a.style&&t.setStyle("list-style-type",a.style,s),a.startIndex&&a.startIndex>1&&t.setAttribute("start",a.startIndex,s),s}function cB(a){const e={},t=a.getStyle("mso-list");if(t){const r=t.match(/(^|\s{1,100})l(\d+)/i),s=t.match(/\s{0,100}lfo(\d+)/i),c=t.match(/\s{0,100}level(\d+)/i);r&&s&&c&&(e.id=r[2],e.order=s[1],e.indent=parseInt(c[1]))}return e}function lB(a,e){if(!a.childCount)return;const t=new rs(a.document),r=function(c,d){const g=d.createRangeIn(c),p=new ri({name:/v:(.+)/}),k=[];for(const b of g){if(b.type!="elementStart")continue;const A=b.item,C=A.previousSibling,E=C&&C.is("element")?C.name:null;p.match(A)&&A.getAttribute("o:gfxdata")&&E!=="v:shapetype"&&k.push(b.item.getAttribute("id"))}return k}(a,t);(function(c,d,g){const p=g.createRangeIn(d),k=new ri({name:"img"}),b=[];for(const A of p)if(A.item.is("element")&&k.match(A.item)){const C=A.item,E=C.getAttribute("v:shapes")?C.getAttribute("v:shapes").split(" "):[];E.length&&E.every(M=>c.indexOf(M)>-1)?b.push(C):C.getAttribute("src")||b.push(C)}for(const A of b)g.remove(A)})(r,a,t),function(c,d,g){const p=g.createRangeIn(d),k=[];for(const C of p)if(C.type=="elementStart"&&C.item.is("element","v:shape")){const E=C.item.getAttribute("id");if(c.includes(E))continue;b(C.item.parent.getChildren(),E)||k.push(C.item)}for(const C of k){const E={src:A(C)};C.hasAttribute("alt")&&(E.alt=C.getAttribute("alt"));const M=g.createElement("img",E);g.insertChild(C.index+1,M,C.parent)}function b(C,E){for(const M of C)if(M.is("element")&&(M.name=="img"&&M.getAttribute("v:shapes")==E||b(M.getChildren(),E)))return!0;return!1}function A(C){for(const E of C.getChildren())if(E.is("element")&&E.getAttribute("src"))return E.getAttribute("src")}}(r,a,t),function(c,d){const g=d.createRangeIn(c),p=new ri({name:/v:(.+)/}),k=[];for(const b of g)b.type=="elementStart"&&p.match(b.item)&&k.push(b.item);for(const b of k)d.remove(b)}(a,t);const s=function(c,d){const g=d.createRangeIn(c),p=new ri({name:"img"}),k=[];for(const b of g)b.item.is("element")&&p.match(b.item)&&b.item.getAttribute("src").startsWith("file://")&&k.push(b.item);return k}(a,t);s.length&&function(c,d,g){if(c.length===d.length)for(let p=0;p<c.length;p++){const k=`data:${d[p].type};base64,${dB(d[p].hex)}`;g.setAttribute("src",k,c[p])}}(s,function(c){if(!c)return[];const d=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+d.source+"))([\\da-fA-F\\s]+)\\}","g"),p=c.match(g),k=[];if(p)for(const b of p){let A=!1;b.includes("\\pngblip")?A="image/png":b.includes("\\jpegblip")&&(A="image/jpeg"),A&&k.push({hex:b.replace(d,"").replace(/[^\da-fA-F]/g,""),type:A})}return k}(e),t)}function dB(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const uB=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,hB=/xmlns:o="urn:schemas-microsoft-com/i;class fB{constructor(e){this.document=e}isActive(e){return uB.test(e)||hB.test(e)}execute(e){const{body:t,stylesString:r}=e._parsedData;sB(t,r),lB(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function f1(a,e,t,{blockElements:r,inlineObjectElements:s}){let c=t.createPositionAt(a,e=="forward"?"after":"before");return c=c.getLastMatchingPosition(({item:d})=>d.is("element")&&!r.includes(d.name)&&!s.includes(d.name),{direction:e}),e=="forward"?c.nodeAfter:c.nodeBefore}function g1(a,e){return!!a&&a.is("element")&&e.includes(a.name)}const gB=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class pB{constructor(e){this.document=e}isActive(e){return gB.test(e)}execute(e){const t=new rs(this.document),{body:r}=e._parsedData;(function(s,c){for(const d of s.getChildren())if(d.is("element","b")&&d.getStyle("font-weight")==="normal"){const g=s.getChildIndex(d);c.remove(d),c.insertChild(g,d.getChildren(),s)}})(r,t),function(s,c){for(const d of c.createRangeIn(s)){const g=d.item;if(g.is("element","li")){const p=g.getChild(0);p&&p.is("element","p")&&c.unwrapElement(p)}}}(r,t),function(s,c){const d=new Au(c.document.stylesProcessor),g=new xu(d,{renderingMode:"data"}),p=g.blockElements,k=g.inlineObjectElements,b=[];for(const A of c.createRangeIn(s)){const C=A.item;if(C.is("element","br")){const E=f1(C,"forward",c,{blockElements:p,inlineObjectElements:k}),M=f1(C,"backward",c,{blockElements:p,inlineObjectElements:k}),O=g1(E,p);(g1(M,p)||O)&&b.push(C)}}for(const A of b)A.hasClass("Apple-interchange-newline")?c.remove(A):c.replace(A,c.createElement("p"))}(r,t),e.content=r}}const mB=/<google-sheets-html-origin/i;class kB{constructor(e){this.document=e}isActive(e){return mB.test(e)}execute(e){const t=new rs(this.document),{body:r}=e._parsedData;(function(s,c){for(const d of s.getChildren())if(d.is("element","google-sheets-html-origin")){const g=s.getChildIndex(d);c.remove(d),c.insertChild(g,d.getChildren(),s)}})(r,t),function(s,c){for(const d of s.getChildren())d.is("element","table")&&d.hasAttribute("xmlns")&&c.removeAttribute("xmlns",d)}(r,t),function(s,c){for(const d of s.getChildren())d.is("element","table")&&d.getStyle("width")==="0px"&&c.removeStyle("width",d)}(r,t),function(s,c){for(const d of Array.from(s.getChildren()))d.is("element","style")&&c.remove(d)}(r,t),e.content=r}}function p1(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function bB(a,e){const t=new DOMParser,r=function(p){return p1(p1(p)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(p){const k="</body>",b="</html>",A=p.indexOf(k);if(A<0)return p;const C=p.indexOf(b,A+k.length);return p.substring(0,A+k.length)+(C>=0?p.substring(C):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),s=t.parseFromString(r,"text/html");(function(p){p.querySelectorAll("span[style*=spacerun]").forEach(k=>{const b=k,A=b.innerText.length||0;b.innerText=Array(A+1).join("  ").substr(0,A)})})(s);const c=s.body.innerHTML,d=function(p,k){const b=new Au(k),A=new xu(b,{renderingMode:"data"}),C=p.createDocumentFragment(),E=p.body.childNodes;for(;E.length>0;)C.appendChild(E[0]);return A.domToView(C,{skipComments:!0})}(s,e),g=function(p){const k=[],b=[],A=Array.from(p.getElementsByTagName("style"));for(const C of A)C.sheet&&C.sheet.cssRules&&C.sheet.cssRules.length&&(k.push(C.sheet),b.push(C.innerHTML));return{styles:k,stylesString:b.join(" ")}}(s);return{body:d,bodyString:c,styles:g.styles,stylesString:g.stylesString}}const m1="fullscreen.closeOnEscape",k1="fullscreen.closeOnClick";var b1=o(5948),wB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(b1.Z,wB),b1.Z.locals;class Sm extends $u{}Sm.builtinPlugins=[class extends ce{static get requires(){return[YM,KM]}static get pluginName(){return"Alignment"}},class extends ce{static get requires(){return[dm,Mn,um,Qi]}static get pluginName(){return"AutoImage"}constructor(a){super(a),this._timeoutId=null,this._positionToInsert=null}init(){const a=this.editor,e=a.model.document,t=a.plugins.get("ClipboardPipeline");this.listenTo(t,"inputTransformation",()=>{const r=e.selection.getFirstRange(),s=It.fromPosition(r.start);s.stickiness="toPrevious";const c=It.fromPosition(r.end);c.stickiness="toNext",e.once("change:data",()=>{this._embedImageBetweenPositions(s,c),s.detach(),c.detach()},{priority:"high"})}),a.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(a,e){const t=this.editor,r=new Sn(a,e),s=r.getWalker({ignoreElementEnd:!0}),c=Object.fromEntries(t.model.document.selection.getAttributes()),d=this.editor.plugins.get("ImageUtils");let g="";for(const p of s)p.item.is("$textProxy")&&(g+=p.item.data);g=g.trim(),g.match(cN)?(this._positionToInsert=It.fromPosition(a),this._timeoutId=setTimeout(()=>{if(!t.commands.get("insertImage").isEnabled)return void r.detach();t.model.change(p=>{let k;this._timeoutId=null,p.remove(r),r.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert.toPosition()),d.insertImage({...c,src:g},k),this._positionToInsert.detach(),this._positionToInsert=null}),t.plugins.get("Delete").requestUndoOnBackspace()},100)):r.detach()}},LC,class extends ce{static get requires(){return[Qi]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&eo(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&eo(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&eo(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&eo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=Ku(this.editor,"bold");fa(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),fa(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=Ku(this.editor,"italic");fa(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),fa(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=Ku(this.editor,"code");fa(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=Ku(this.editor,"strikethrough");fa(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],r=new RegExp(`^(#{${t}})\\s$`);eo(this.editor,this,r,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&eo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&eo(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&eo(this.editor,this,/^---$/,"horizontalLine")}},class extends ce{static get requires(){return[ss]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(ss).createUploadAdapter=a=>new SN(a)}},class extends ce{static get requires(){return[g3,m3]}static get pluginName(){return"BlockQuote"}},class extends ce{static get requires(){return[r3,o3]}static get pluginName(){return"Bold"}},class extends ce{static get requires(){return[dm,Zu,$3,h3,XM,um]}static get pluginName(){return"Essentials"}},class extends ce{static get requires(){return[eN,nN]}static get pluginName(){return"Heading"}},class extends ce{static get requires(){return[oN,sN,gl]}static get pluginName(){return"HorizontalLine"}},class extends ce{static get requires(){return[bN,vN]}static get pluginName(){return"Image"}},class extends ce{static get requires(){return[AN,yN]}static get pluginName(){return"ImageCaption"}},class extends ce{static get pluginName(){return"ImageInsert"}static get requires(){return[Ky,HN,Jy]}},class extends ce{static get requires(){return[Xy,qN,WN]}static get pluginName(){return"ImageResize"}},class extends ce{static get requires(){return[dC,QN]}static get pluginName(){return"ImageStyle"}},class extends ce{static get requires(){return[ty,Mn]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,t=a.plugins.get(ty),r=a.plugins.get("ImageUtils");var s;t.register("image",{ariaLabel:e("Image toolbar"),items:(s=a.config.get("image.toolbar")||[],s.map(c=>pe(c)?c.name:c)),getRelatedElement:c=>r.getClosestSelectedImageWidget(c)})}},Ky,class extends ce{static get pluginName(){return"Indent"}static get requires(){return[JN,XN]}},class extends ce{static get requires(){return[a3,c3]}static get pluginName(){return"Italic"}},class extends ce{static get requires(){return[Am,PC,LC]}static get pluginName(){return"Link"}},class extends ce{static get requires(){return[xO,SO]}static get pluginName(){return"LinkImage"}},class extends ce{static get requires(){return[KO,LO]}static get pluginName(){return"List"}},class extends ce{static get requires(){return[sh,rB,tB,gl]}static get pluginName(){return"MediaEmbed"}},pl,class extends ce{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ji]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),t=a.editing.view.document,r=[];r.push(new fB(t)),r.push(new pB(t)),r.push(new kB(t)),e.on("inputTransformation",(s,c)=>{if(c._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=c.dataTransfer.getData("text/html"),g=r.find(p=>p.isActive(d));g&&(c._parsedData||(c._parsedData=bB(d,t.stylesProcessor)),g.execute(c),c._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ce{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:e3}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,t=a.plugins.get("Delete"),r=function(c){const d=c.extra||[],g=c.remove||[],p=k=>!g.includes(k);return function(k){const b=new Set;for(const A of k)if(typeof A=="string"&&OA[A])for(const C of OA[A])b.add(C);else b.add(A);return Array.from(b)}(c.include.concat(d).filter(p)).filter(p).map(k=>typeof k=="string"&&NA[k]?NA[k]:k).filter(k=>typeof k=="object").map(k=>({from:t3(k.from),to:n3(k.to)}))}(a.config.get("typing.transformations")),s=new IA(a.model,c=>{for(const d of r)if(d.from.test(c))return{normalizedTransformation:d}});s.on("matched:data",(c,d)=>{if(!d.batch.isTyping)return;const{from:g,to:p}=d.normalizedTransformation,k=g.exec(d.text),b=p(k.slice(1)),A=d.range;let C=k.index;e.enqueueChange(E=>{for(let M=1;M<k.length;M++){const O=k[M],z=b[M-1];if(z==null){C+=O.length;continue}const V=A.start.getShiftedBy(C),K=e.createRange(V,V.getShiftedBy(O.length)),se=i3(V);e.insertContent(E.createText(z,se),K),C+=z.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}},class extends ce{static get pluginName(){return"FullScreen"}constructor(a){super(a),this.set("isFullScreen",!1),this.styles={}}init(){const a=this.editor,e=a.t;a.editing.view.document.getRoot(),a.config.define(m1,!0),a.config.define(k1,!0),a.ui.componentFactory.add("fullscreen",()=>{a.ui.view.element;const t=new Ze;return t.set({label:e("Full screen"),icon:`<!-- https://github.com/astrit/css.gg/blob/master/icons/svg/maximize-alt.svg -->
<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 3H9V5H6.46173L11.3047 9.84298L9.8905 11.2572L5 6.3667V9H3V3Z" fill="black"/>
<path d="M3 21H9V19H6.3764L11.3046 14.0718L9.89038 12.6576L5 17.548V15H3V21Z" fill="black"/>
<path d="M15 21H21V15H19V17.5244L14.1332 12.6576L12.719 14.0718L17.6472 19H15V21Z" fill="black"/>
<path d="M21 3H15V5H17.5619L12.7189 9.84301L14.1331 11.2572L19 6.39032V9H21V3Z" fill="black"/>
</svg>
`,tooltip:!0}),t.bind("isOn").to(this,"isFullScreen"),a.config.get(m1),a.config.get(k1),t.on("execute",()=>{(r=>{const s=r.ui.view.editable.element;s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()})(this.editor)}),t})}_restoreStyle(a,e,t,r){t!==void 0?a.setStyle(e,t,r):a.removeStyle(e,r)}_restoreStyles(a,e){this._restoreStyle(a,"height",this.styles.height,e),this._restoreStyle(a,"overflow-y",this.styles["overflow-y"],e)}}],Sm.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","alignment","|","imageInsert","blockQuote","mediaEmbed","undo","redo","fullscreen"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}};const vB=Sm})(),l=l.default})());const ER=(_t.exports==null?{}:_t.exports).default||_t.exports;(_t.exports==null?{}:_t.exports).InlineEditor;function wS({handleChange:i,post:n}){const o=l=>{console.log("hello")};return F.jsxs("form",{children:[F.jsxs("div",{className:"input",children:[F.jsx("label",{htmlFor:"title"}),F.jsx("input",{placeholder:"Title",onChange:i,value:n.title,type:"text",id:"title",name:"title"})]}),F.jsxs("div",{className:"input",children:[F.jsxs("div",{className:"input",children:[F.jsx("label",{htmlFor:"img"}),F.jsx("input",{placeholder:"Cover image url (optional)",onChange:i,value:n.img,type:"text",id:"img_url",name:"img"})]}),F.jsx("div",{className:"ckeditor-container",children:F.jsx(xR.CKEditor,{config:{mediaEmbed:{previewsInData:!0},placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0},fullscreen:{closeOnEscape:!0,closeOnClick:!1}},editor:ER,data:n.content?n.content:"",onReady:l=>{console.log("Editor is ready to use!",l),l.editing.view.document.on("click",(u,h)=>{o()})},onChange:(l,u)=>{u.getData(),i(u)}})})]}),F.jsxs("div",{className:"radio-container",children:[F.jsx("input",{onChange:i,type:"radio",id:"general",name:"category",value:"general"}),F.jsx("label",{className:"radio",htmlFor:"general",children:"General (default)"}),F.jsx("br",{}),F.jsx("input",{onChange:i,type:"radio",id:"review",name:"category",value:"review"}),F.jsx("label",{className:"radio",onChange:i,htmlFor:"review",children:"Review"}),F.jsx("br",{}),F.jsx("input",{onChange:i,type:"radio",id:"recommend",name:"category",value:"recommend"}),F.jsx("label",{className:"radio",htmlFor:"recommend",children:"Recommend"}),F.jsx("br",{})]})]})}function DR({supabase:i,session:n}){const[o,l]=te.useState({title:"",content:"",img:""}),u=jr(),{state:h}=rc(),f=n?n.user:{user_metadata:""},m=f.user_metadata.name,w=f.id;te.useEffect(()=>{h&&l({title:`${h.title} ~ ${h.author}`,content:h.description,img:h.cover_key?h.cover_url:""})},[]);const v=y=>{let x,S;y.target?(x=y.target.name,S=y.target.value):(x="content",S=y.getData()),l(N=>({...N,[x]:S}))},_=async()=>{await i.from("posts").insert({title:o.title,content:o.content,img:o.img,category:o.category,username:m,user_id:w}),un.success("Post inserted into database!"),u("/Book-Chronicles")};return F.jsx(F.Fragment,{children:F.jsxs("div",{className:"create-container",children:[F.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",F.jsx("span",{className:"pastel-orange",children:"Post"})]}),F.jsx(wS,{handleChange:v,post:o}),F.jsx("button",{className:"btn red-button darkAccent create-button",onClick:_,post:o,children:"Create Post"}),F.jsx(Oi,{to:"/Book-Chronicles/getBookInfo",children:F.jsx("button",{className:"btn create-button orange-button",children:"Get Book Info"})})]})})}const vS=(i,n)=>{(i.keyCode||i.which)===13&&n()};function SR({title:i,author:n,cover_url:o,cover_key:l,description:u}){const h=jr(),f=()=>{h("/Book-Chronicles/create",{state:{title:i,author:n,cover_url:o,description:u,cover_key:l}})};return F.jsxs("div",{onClick:f,className:"book",children:[F.jsxs("div",{children:[F.jsx("h4",{className:"pastel-black",children:i}),F.jsxs("h5",{children:["By: ",n]}),F.jsx("p",{children:u})]}),F.jsx("img",{src:l?o:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}function TR(){const[i,n]=te.useState(""),[o,l]=te.useState([]),u=v=>{n(v.target.value)},h=async v=>{const y=await(await fetch(`https://openlibrary.org${v.key}.json`)).json();let x;y.description&&(x=y.description,typeof x!="string"&&(x=y.description.value));const S=await fetch(`https://covers.openlibrary.org/b/olid/${v.cover_edition_key}-M.jpg`),N={key:y.key,title:y.title,author:v.author_name?v.author_name[0]:"",cover_url:S.url,description:x,cover_key:v.cover_edition_key};l(B=>[...B,N])},f=async()=>{const _=await(await fetch(`https://openlibrary.org/search.json?q=${i}`)).json();l([]),n("");let y=0;for(const x of _.docs){if(y<15)await h(x);else break;y++}},m=()=>o.map((_,y)=>F.jsx(SR,{title:_.title,author:_.author,cover_url:_.cover_url,cover_key:_.cover_key,description:_.description},y)),w=()=>{const v=f();An.promise(v,{loading:"loading",success:"got all data",error:"error when fetching"})};return F.jsxs("article",{children:[F.jsx("h1",{className:"book-info-title pastel-black",children:F.jsxs("b",{children:["Grab a ",F.jsx("span",{className:"pastel-orange",children:"Book"})]})}),F.jsxs("div",{className:"search-bar",children:[F.jsx("label",{htmlFor:"title"}),F.jsx("input",{value:i,placeholder:"Search for a book...",className:"book-input",onKeyUp:v=>{vS(v,w)},onChange:u,type:"text",name:"title"}),F.jsx("button",{className:"btn orange-button",onClick:w,children:"Search"})]}),F.jsx("div",{className:"books-container",children:m()}),F.jsx("div",{className:"push"})]})}const IR="/Book-Chronicles/assets/cross-ab383046.png";function MR(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NR={exports:{}};const OR={},BR=Object.freeze(Object.defineProperty({__proto__:null,default:OR},Symbol.toStringTag,{value:"Module"})),PR=yB(BR);(function(i){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(n,o){typeof MR=="function"&&i&&i.exports?i.exports=o():(n.dcodeIO=n.dcodeIO||{}).bcrypt=o()})(ms,function(){var n={},o=null;function l(G){if(i&&i.exports)try{return PR.randomBytes(G)}catch{}try{var Y;return(self.crypto||self.msCrypto).getRandomValues(Y=new Uint32Array(G)),Array.prototype.slice.call(Y)}catch{}if(!o)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return o(G)}var u=!1;try{l(1),u=!0}catch{}o=null,n.setRandomFallback=function(G){o=G},n.genSaltSync=function(G,Y){if(G=G||B,typeof G!="number")throw Error("Illegal arguments: "+typeof G+", "+typeof Y);G<4?G=4:G>31&&(G=31);var H=[];return H.push("$2a$"),G<10&&H.push("0"),H.push(G.toString()),H.push("$"),H.push(y(l(N),N)),H.join("")},n.genSalt=function(G,Y,H){if(typeof Y=="function"&&(H=Y,Y=void 0),typeof G=="function"&&(H=G,G=void 0),typeof G>"u")G=B;else if(typeof G!="number")throw Error("illegal arguments: "+typeof G);function U($){f(function(){try{$(null,n.genSaltSync(G))}catch(J){$(J)}})}if(H){if(typeof H!="function")throw Error("Illegal callback: "+typeof H);U(H)}else return new Promise(function($,J){U(function(he,ne){if(he){J(he);return}$(ne)})})},n.hashSync=function(G,Y){if(typeof Y>"u"&&(Y=B),typeof Y=="number"&&(Y=n.genSaltSync(Y)),typeof G!="string"||typeof Y!="string")throw Error("Illegal arguments: "+typeof G+", "+typeof Y);return be(G,Y)},n.hash=function(G,Y,H,U){function $(J){typeof G=="string"&&typeof Y=="number"?n.genSalt(Y,function(he,ne){be(G,ne,J,U)}):typeof G=="string"&&typeof Y=="string"?be(G,Y,J,U):f(J.bind(this,Error("Illegal arguments: "+typeof G+", "+typeof Y)))}if(H){if(typeof H!="function")throw Error("Illegal callback: "+typeof H);$(H)}else return new Promise(function(J,he){$(function(ne,ie){if(ne){he(ne);return}J(ie)})})};function h(G,Y){for(var H=0,U=0,$=0,J=G.length;$<J;++$)G.charCodeAt($)===Y.charCodeAt($)?++H:++U;return H<0?!1:U===0}n.compareSync=function(G,Y){if(typeof G!="string"||typeof Y!="string")throw Error("Illegal arguments: "+typeof G+", "+typeof Y);return Y.length!==60?!1:h(n.hashSync(G,Y.substr(0,Y.length-31)),Y)},n.compare=function(G,Y,H,U){function $(J){if(typeof G!="string"||typeof Y!="string"){f(J.bind(this,Error("Illegal arguments: "+typeof G+", "+typeof Y)));return}if(Y.length!==60){f(J.bind(this,null,!1));return}n.hash(G,Y.substr(0,29),function(he,ne){he?J(he):J(null,h(ne,Y))},U)}if(H){if(typeof H!="function")throw Error("Illegal callback: "+typeof H);$(H)}else return new Promise(function(J,he){$(function(ne,ie){if(ne){he(ne);return}J(ie)})})},n.getRounds=function(G){if(typeof G!="string")throw Error("Illegal arguments: "+typeof G);return parseInt(G.split("$")[2],10)},n.getSalt=function(G){if(typeof G!="string")throw Error("Illegal arguments: "+typeof G);if(G.length!==60)throw Error("Illegal hash length: "+G.length+" != 60");return G.substring(0,29)};var f=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function m(G){var Y=[],H=0;return S.encodeUTF16toUTF8(function(){return H>=G.length?null:G.charCodeAt(H++)},function(U){Y.push(U)}),Y}var w="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),v=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],_=String.fromCharCode;function y(G,Y){var H=0,U=[],$,J;if(Y<=0||Y>G.length)throw Error("Illegal len: "+Y);for(;H<Y;){if($=G[H++]&255,U.push(w[$>>2&63]),$=($&3)<<4,H>=Y){U.push(w[$&63]);break}if(J=G[H++]&255,$|=J>>4&15,U.push(w[$&63]),$=(J&15)<<2,H>=Y){U.push(w[$&63]);break}J=G[H++]&255,$|=J>>6&3,U.push(w[$&63]),U.push(w[J&63])}return U.join("")}function x(G,Y){var H=0,U=G.length,$=0,J=[],he,ne,ie,ge,pe,xe;if(Y<=0)throw Error("Illegal len: "+Y);for(;H<U-1&&$<Y&&(xe=G.charCodeAt(H++),he=xe<v.length?v[xe]:-1,xe=G.charCodeAt(H++),ne=xe<v.length?v[xe]:-1,!(he==-1||ne==-1||(pe=he<<2>>>0,pe|=(ne&48)>>4,J.push(_(pe)),++$>=Y||H>=U)||(xe=G.charCodeAt(H++),ie=xe<v.length?v[xe]:-1,ie==-1)||(pe=(ne&15)<<4>>>0,pe|=(ie&60)>>2,J.push(_(pe)),++$>=Y||H>=U)));)xe=G.charCodeAt(H++),ge=xe<v.length?v[xe]:-1,pe=(ie&3)<<6>>>0,pe|=ge,J.push(_(pe)),++$;var gt=[];for(H=0;H<$;H++)gt.push(J[H].charCodeAt(0));return gt}var S=function(){var G={};return G.MAX_CODEPOINT=1114111,G.encodeUTF8=function(Y,H){var U=null;for(typeof Y=="number"&&(U=Y,Y=function(){return null});U!==null||(U=Y())!==null;)U<128?H(U&127):U<2048?(H(U>>6&31|192),H(U&63|128)):U<65536?(H(U>>12&15|224),H(U>>6&63|128),H(U&63|128)):(H(U>>18&7|240),H(U>>12&63|128),H(U>>6&63|128),H(U&63|128)),U=null},G.decodeUTF8=function(Y,H){for(var U,$,J,he,ne=function(ie){ie=ie.slice(0,ie.indexOf(null));var ge=Error(ie.toString());throw ge.name="TruncatedError",ge.bytes=ie,ge};(U=Y())!==null;)if(!(U&128))H(U);else if((U&224)===192)($=Y())===null&&ne([U,$]),H((U&31)<<6|$&63);else if((U&240)===224)(($=Y())===null||(J=Y())===null)&&ne([U,$,J]),H((U&15)<<12|($&63)<<6|J&63);else if((U&248)===240)(($=Y())===null||(J=Y())===null||(he=Y())===null)&&ne([U,$,J,he]),H((U&7)<<18|($&63)<<12|(J&63)<<6|he&63);else throw RangeError("Illegal starting byte: "+U)},G.UTF16toUTF8=function(Y,H){for(var U,$=null;(U=$!==null?$:Y())!==null;){if(U>=55296&&U<=57343&&($=Y())!==null&&$>=56320&&$<=57343){H((U-55296)*1024+$-56320+65536),$=null;continue}H(U)}$!==null&&H($)},G.UTF8toUTF16=function(Y,H){var U=null;for(typeof Y=="number"&&(U=Y,Y=function(){return null});U!==null||(U=Y())!==null;)U<=65535?H(U):(U-=65536,H((U>>10)+55296),H(U%1024+56320)),U=null},G.encodeUTF16toUTF8=function(Y,H){G.UTF16toUTF8(Y,function(U){G.encodeUTF8(U,H)})},G.decodeUTF8toUTF16=function(Y,H){G.decodeUTF8(Y,function(U){G.UTF8toUTF16(U,H)})},G.calculateCodePoint=function(Y){return Y<128?1:Y<2048?2:Y<65536?3:4},G.calculateUTF8=function(Y){for(var H,U=0;(H=Y())!==null;)U+=G.calculateCodePoint(H);return U},G.calculateUTF16asUTF8=function(Y){var H=0,U=0;return G.UTF16toUTF8(Y,function($){++H,U+=G.calculateCodePoint($)}),[H,U]},G}();Date.now=Date.now||function(){return+new Date};var N=16,B=10,R=16,P=100,L=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],D=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],W=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Z(G,Y,H,U){var $,J=G[Y],he=G[Y+1];return J^=H[0],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[1],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[2],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[3],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[4],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[5],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[6],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[7],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[8],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[9],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[10],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[11],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[12],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[13],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[14],$=U[J>>>24],$+=U[256|J>>16&255],$^=U[512|J>>8&255],$+=U[768|J&255],he^=$^H[15],$=U[he>>>24],$+=U[256|he>>16&255],$^=U[512|he>>8&255],$+=U[768|he&255],J^=$^H[16],G[Y]=he^H[R+1],G[Y+1]=J,G}function ee(G,Y){for(var H=0,U=0;H<4;++H)U=U<<8|G[Y]&255,Y=(Y+1)%G.length;return{key:U,offp:Y}}function X(G,Y,H){for(var U=0,$=[0,0],J=Y.length,he=H.length,ne,ie=0;ie<J;ie++)ne=ee(G,U),U=ne.offp,Y[ie]=Y[ie]^ne.key;for(ie=0;ie<J;ie+=2)$=Z($,0,Y,H),Y[ie]=$[0],Y[ie+1]=$[1];for(ie=0;ie<he;ie+=2)$=Z($,0,Y,H),H[ie]=$[0],H[ie+1]=$[1]}function ae(G,Y,H,U){for(var $=0,J=[0,0],he=H.length,ne=U.length,ie,ge=0;ge<he;ge++)ie=ee(Y,$),$=ie.offp,H[ge]=H[ge]^ie.key;for($=0,ge=0;ge<he;ge+=2)ie=ee(G,$),$=ie.offp,J[0]^=ie.key,ie=ee(G,$),$=ie.offp,J[1]^=ie.key,J=Z(J,0,H,U),H[ge]=J[0],H[ge+1]=J[1];for(ge=0;ge<ne;ge+=2)ie=ee(G,$),$=ie.offp,J[0]^=ie.key,ie=ee(G,$),$=ie.offp,J[1]^=ie.key,J=Z(J,0,H,U),U[ge]=J[0],U[ge+1]=J[1]}function ue(G,Y,H,U,$){var J=W.slice(),he=J.length,ne;if(H<4||H>31)if(ne=Error("Illegal number of rounds (4-31): "+H),U){f(U.bind(this,ne));return}else throw ne;if(Y.length!==N)if(ne=Error("Illegal salt length: "+Y.length+" != "+N),U){f(U.bind(this,ne));return}else throw ne;H=1<<H>>>0;var ie,ge,pe=0,xe;Int32Array?(ie=new Int32Array(L),ge=new Int32Array(D)):(ie=L.slice(),ge=D.slice()),ae(Y,G,ie,ge);function gt(){if($&&$(pe/H),pe<H)for(var St=Date.now();pe<H&&(pe=pe+1,X(G,ie,ge),X(Y,ie,ge),!(Date.now()-St>P)););else{for(pe=0;pe<64;pe++)for(xe=0;xe<he>>1;xe++)Z(J,xe<<1,ie,ge);var Ge=[];for(pe=0;pe<he;pe++)Ge.push((J[pe]>>24&255)>>>0),Ge.push((J[pe]>>16&255)>>>0),Ge.push((J[pe]>>8&255)>>>0),Ge.push((J[pe]&255)>>>0);if(U){U(null,Ge);return}else return Ge}U&&f(gt)}if(typeof U<"u")gt();else for(var Dt;;)if(typeof(Dt=gt())<"u")return Dt||[]}function be(G,Y,H,U){var $;if(typeof G!="string"||typeof Y!="string")if($=Error("Invalid string / salt: Not a string"),H){f(H.bind(this,$));return}else throw $;var J,he;if(Y.charAt(0)!=="$"||Y.charAt(1)!=="2")if($=Error("Invalid salt version: "+Y.substring(0,2)),H){f(H.bind(this,$));return}else throw $;if(Y.charAt(2)==="$")J=String.fromCharCode(0),he=3;else{if(J=Y.charAt(2),J!=="a"&&J!=="b"&&J!=="y"||Y.charAt(3)!=="$")if($=Error("Invalid salt revision: "+Y.substring(2,4)),H){f(H.bind(this,$));return}else throw $;he=4}if(Y.charAt(he+2)>"$")if($=Error("Missing salt rounds"),H){f(H.bind(this,$));return}else throw $;var ne=parseInt(Y.substring(he,he+1),10)*10,ie=parseInt(Y.substring(he+1,he+2),10),ge=ne+ie,pe=Y.substring(he+3,he+25);G+=J>="a"?"\0":"";var xe=m(G),gt=x(pe,N);function Dt(St){var Ge=[];return Ge.push("$2"),J>="a"&&Ge.push(J),Ge.push("$"),ge<10&&Ge.push("0"),Ge.push(ge.toString()),Ge.push("$"),Ge.push(y(gt,gt.length)),Ge.push(y(St,W.length*4-1)),Ge.join("")}if(typeof H>"u")return Dt(ue(xe,gt,ge));ue(xe,gt,ge,function(St,Ge){St?H(St,null):H(null,Dt(Ge))},U)}return n.encodeBase64=y,n.decodeBase64=x,n})})(NR);function LR({date:i,comment:n,id:o,supabase:l,reloadComments:u,username:h,user_id:f,session_user_id:m}){const w=f===m,v=async()=>{w?confirm("Are you sure you want to delete this comment?")?(await l.from("comments").delete().eq("id",o),u()):console.log("delete is cancelled"):alert("You can't delete this comment! It's not yours!")};return F.jsxs("div",{className:"comment",children:[F.jsxs("div",{className:"comment-header",children:[F.jsxs("small",{children:[h," ",F.jsxs("span",{className:"time-ago",children:["• ",Of(i)?Of(i):""]})]}),w?F.jsx("img",{onClick:v,src:IR}):""]}),F.jsx("p",{children:n})]})}const zR="/Book-Chronicles/assets/trash-2415bf1a.png",jR="/Book-Chronicles/assets/edit-727f5020.png";function RR({supabase:i,session:n}){const[o,l]=te.useState({user_likes:""}),[u,h]=te.useState(!1),[f,m]=te.useState([]),[w,v]=te.useState(""),{id:_}=Nb(),y=jr(),x=n?n.user:{user_metadata:{}},S=x.user_metadata.name,N=x.id,B=N===o.user_id,R=async()=>{const{data:ue,error:be}=await i.from("posts").select().eq("id",_);l(ue[0])},P=async()=>{const{data:ue,error:be}=await i.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",_);m(ue)};te.useEffect(()=>{const ue=R();An.promise(ue,{loading:"Loading your post...",success:"Post loaded!",error:"Couldn't get your post!"}),P(),window.scroll(0,0)},[]);const L=async()=>{if(n)if(!o.user_likes[N]&&!u){const ue={...o.user_likes,[N]:!0};await i.from("posts").update({vote:o.vote+1,user_likes:ue}).eq("id",_),console.log("vote has been updated..."),h(!0),l({...o,vote:o.vote+1})}else console.log("Can't like a post more than once...");else An.error("You must be logged in to like a post!")},D=ue=>{v(ue.target.value)},W=async()=>{B?confirm("Are you sure you want to delete this post?")?(await i.from("posts").delete().eq("id",_),y("/Book-Chronicles")):console.log("delete is cancelled"):An.error("You can't delete this post!'")},Z=async()=>{B?y(`/Book-Chronicles/post/${_}/edit`):An.error("You can't access this!")},ee=async()=>{await i.from("comments").insert({post_id:_,comment:w,username:S,user_id:N}),console.log("Comment is inserted into database..."),P(),v("")},X=f.map(ue=>F.jsx(LR,{date:ue.created_at,comment:ue.comment,id:ue.id,supabase:i,reloadComments:P,username:ue.username,user_id:ue.user_id,session_user_id:N},ue.id));let ae="back-pastel-green pastel-green";return o.category=="review"?ae="back-pastel-purple pastel-purple":o.category=="recommend"&&(ae="back-pastel-red pastel-red"),F.jsx("div",{className:"post-container",children:F.jsxs("div",{className:"post",children:[F.jsxs("div",{className:"post-tags",children:[F.jsxs("p",{children:["Posted ",o.created_at?Of(o.created_at):" "]}),F.jsxs("p",{className:`post-category ${ae}`,children:["#",o.category]})]}),F.jsx("h2",{className:"pastel-black",children:o.title}),F.jsx("img",{className:"post-image",src:o.img}),F.jsx("div",{children:gS(o.content)}),F.jsx("p",{children:F.jsx("b",{children:o.username?"~ "+o.username:""})}),F.jsxs("div",{className:"action-images",children:[F.jsxs("div",{onClick:L,className:`${o.user_likes[N]||u?"pastel-red":""} like-image`,children:[F.jsx("img",{src:fS})," ",F.jsxs("b",{children:[o.vote," ",o.vote!==1?"likes":"like"]})]}),n&&B?F.jsxs("div",{children:[F.jsx("img",{onClick:Z,className:"edit-image",src:jR}),F.jsx("img",{onClick:W,className:"delete-image",src:zR})]}):""]}),F.jsxs("div",{className:"comments-section",children:[F.jsx("div",{className:"insert-comment-container",children:n?F.jsx("input",{onKeyUp:ue=>{vS(ue,ee)},value:w,onChange:D,placeholder:"Leave a comment...",type:"text"}):F.jsx("input",{disabled:!0,placeholder:"Sign in to leave a comment...",type:"text"})}),F.jsx("div",{className:"comments-container",children:X})]})]})})}function FR({supabase:i}){const[n,o]=te.useState({title:"",content:"",img:""}),l=jr(),{id:u}=Nb(),h=async()=>{const{data:w,error:v}=await i.from("posts").select().eq("id",u);o(w[0])};te.useEffect(()=>{h()},[]);const f=w=>{let v,_;w.target?(v=w.target.name,_=w.target.value):(v="content",_=w.getData()),o(y=>({...y,[v]:_}))},m=async()=>{await i.from("posts").update({title:n.title,content:n.content,img:n.img,category:n.category}).eq("id",u),un.success("successfully updated!"),l(`/Book-Chronicles/post/${u}`)};return F.jsx("div",{children:F.jsxs("div",{className:"create-container",children:[F.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",F.jsx("span",{className:"pastel-orange",children:"Post"})]}),F.jsx(wS,{handleChange:f,post:n}),F.jsx("button",{className:"btn orange-button create-button",onClick:m,children:"Update Post"})]})})}const Fb=i=>({async signupUser(n,o,l){const{data:u,error:h}=await i.auth.signUp({email:n,password:o,options:{data:{name:l}}});return[u,h]},async signIn(n,o){const{data:l,error:u}=await i.auth.signInWithPassword({email:n,password:o});return[l,u]},async getSession(){const{data:n,error:o}=await i.auth.getSession();return n},async logout(){await i.auth.signOut()},eventListener(){i.auth.onAuthStateChange((n,o)=>{console.log(n,o)})}}),ql=(i,n)=>{const{name:o,value:l}=i.target;n(u=>({...u,[o]:l}))};function VR({supabase:i}){const n=Fb(i),[o,l]=te.useState({}),u=jr(),h=async m=>{const{data:w,error:v}=await i.from("users").select().eq("name",m);return w.length!==0},f=async()=>{if(o.name&&o.password&&o.email)if(await h(o.name))An.error("Display name taken.");else{const[w,v]=await n.signupUser(o.email,o.password,o.name),{user:_,session:y}=w;_?(await i.from("users").insert({user_id:_.id,name:_.user_metadata.name}),An.success("Signed up successfully!"),u("/Book-Chronicles")):An.error(v.message)}else An.error("You need to fill in all the fields!")};return F.jsx("div",{className:"outer-sign-container",children:F.jsxs("div",{className:"sign-container",children:[F.jsx("h1",{className:"sign-title",children:"Sign Up"}),F.jsxs("form",{onSubmit:m=>m.preventDefault(),children:[F.jsx("label",{htmlFor:"email"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>ql(m,l),placeholder:"Email",id:"email",name:"email",type:"email"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"password"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>ql(m,l),placeholder:"Password",id:"password",name:"password",type:"password"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"name"}),F.jsx("input",{className:"search-input sign-input",onChange:m=>ql(m,l),placeholder:"Display Name",id:"name",name:"name",type:"text"}),F.jsx("div",{}),F.jsx("button",{onClick:f,type:"submit",className:"red-button sign-button",children:"Signup"}),F.jsx("div",{className:"sign-link",children:F.jsx(Oi,{to:"/Book-Chronicles/signin",children:"Have an account? Sign in!"})})]})]})})}function UR({supabase:i}){const n=Fb(i),[o,l]=te.useState({}),u=jr(),h=async()=>{if(!o.email||!o.password)An.error("You need to fill in all the fields!");else{const[f,m]=await n.signIn(o.email,o.password),{user:w,session:v}=f;w||v?(An.success("Logged in."),setTimeout(()=>{u("/Book-Chronicles")},1e3)):An.error(m.message)}};return F.jsx("article",{className:"outer-sign-container",children:F.jsxs("div",{className:"sign-container",children:[F.jsx("h1",{className:"sign-title",children:"Sign In"}),F.jsxs("form",{onSubmit:f=>f.preventDefault(),children:[F.jsx("label",{htmlFor:"email"}),F.jsx("input",{className:"search-input sign-input",onChange:f=>ql(f,l),placeholder:"Email",id:"email",name:"email",type:"email"}),F.jsx("div",{}),F.jsx("label",{htmlFor:"password"}),F.jsx("input",{className:"search-input sign-input",onChange:f=>ql(f,l),placeholder:"Password",id:"password",name:"password",type:"password"}),F.jsx("div",{}),F.jsx("button",{onClick:h,type:"submit",className:"sign-button red-button",children:"Signin"}),F.jsx("div",{className:"sign-link",children:F.jsx(Oi,{to:"/Book-Chronicles/signup",children:"Not a member? Signup!"})})]})]})})}function HR({supabase:i}){const[n,o]=te.useState([]),l=async()=>{const{data:f,error:m}=await i.from("users").select().order("name");for(let w=0;w<f.length;w++){const v=f[w],_=await u(v);f[w].posts=_}f.sort((w,v)=>w.posts.length<v.posts.length?1:w.posts.length>v.posts.length?-1:0),o(f)},u=async f=>{const{data:m,error:w}=await i.from("posts").select().eq("user_id",f.user_id);return m};te.useEffect(()=>{const f=l();An.promise(f,{loading:"Grabbing all users...",success:"Click on a user to see their posts!",error:"Error while getting users..."})},[]);const h=()=>n.map(f=>F.jsx("li",{children:F.jsxs(Oi,{to:`/Book-Chronicles/users/${f.user_id}`,children:[f.name," ~ ",f.posts.length]})},f.id));return F.jsx("div",{children:h()})}function $R({supabase:i,session:n}){const[o,l]=te.useState([]),h=(n?n.user:{user_metadata:{}}).id,{id:f}=Nb(),m=async()=>{const{data:v,error:_}=await i.from("posts").select().order("created_at",{ascending:!1}).eq("user_id",f);l(v)};te.useEffect(()=>{m()},[]);const w=()=>o.length===0?F.jsx("h2",{children:"This user has not posted anything yet!"}):o.map(v=>{const _=v.user_likes[h];return F.jsx(pS,{id:v.id,title:v.title,created_at:v.created_at,vote:v.vote,category:v.category,username:v.username,img_url:v.img,content:v.content,currentUserLiked:_},v.id)});return F.jsx("div",{className:"post-preview-container",children:w()})}const WR="/Book-Chronicles/assets/arrow-up-0fb140ce.png",qR=()=>{const[i,n]=te.useState(!1);te.useEffect(()=>{const l=()=>{window.scrollY>200?n(!0):n(!1)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return F.jsx("div",{children:F.jsx("img",{className:`back-to-top-button ${i?"show-back-to-top":""}`,onClick:o,src:WR})})};function GR({supabase:i,session:n}){const o=Fb(i),l=()=>{o.logout(),An("Logged out.",{icon:"👋"})};return F.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-md navbar-light",children:[F.jsx(Oi,{to:"/Book-Chronicles",children:F.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),F.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto",children:n?F.jsx("h3",{children:n.user.user_metadata.name+"'s Bookshelf"}):F.jsx("h3",{children:"Bookshelf Chronicles"})}),F.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:F.jsx("span",{className:"navbar-toggler-icon"})}),F.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:F.jsxs("div",{className:"navbar-nav",children:[F.jsxs(Oi,{to:"/Book-Chronicles",className:"nav-item nav-link",href:"#",children:["Home ",F.jsx("span",{className:"sr-only",children:"(current)"})]}),F.jsx(Oi,{to:"/Book-Chronicles/create",className:"nav-item nav-link",href:"#",children:"Create"}),F.jsx(Oi,{to:"/Book-Chronicles/getBookInfo",className:"nav-item nav-link",href:"#",children:"Get Book"}),F.jsx(Oi,{to:"/Book-Chronicles/userposts",className:"nav-item nav-link",href:"#",children:"User Posts"}),n?"":F.jsx(Oi,{to:"/Book-Chronicles/signin",className:"nav-item nav-link",href:"#",children:"Signin"}),n?F.jsx("a",{onClick:l,className:"nav-item nav-link",href:"#",children:"Logout"}):""]})}),F.jsx(qR,{})]})}const b2=({session:i,children:n})=>i?n:(un.error("You need to sign-in to get access to this!"),F.jsx(LL,{to:"/Book-Chronicles/signin?denied=true",replace:!0})),YR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZtQTFRFAAAAPK/lBAsNBREWETBABxMYAgYIAggKAgkMF0NYAAAABAYHBQYHBQcJBQgJBggJBwkJBxAUCAsMCQoLCgsMCw0OCxASCz1VDBIVDxMVEBQWEhMUEhcZExQVExYXEx0iFBcZFiUtGB4hGC03Go7FGyoxHCAiHCIlHDI8HJrWHR8fHjpHHjxKHyAhHyUoH05lIFRsISwxIVdwIkpdIlFnIzQ8I0NSI2B+JCouJDhBJDxIJEBNJSYnJZXLJaDaJiotJjxHKCkpKCorKKLcK0VRK36lLYOsL4awMIu3MIy4MY67MY+9Mzo+M5TCM5TDM5bFNJbGNJfGNJjINJnJNTo8Np/QNzk6N6DSN6HTN6HUOKLVOKPXOKXYOafbOafcOqjdOqrgO6vhO6zhPK7lPK/mP1BXSE1PSV1mU1dZVFRUenp6jIyMj4+PkJCQlZeXnJycn5+fpKSkra2tsLCwsN/1tbW1tra2z8/P2NjY2tra3Nzc39/f4ODg5eXl5+fn6Ojo6enp7Ozs8PDw8vLy9PT09vb2+fn5/v7+////5ti/UAAAAAp0Uk5TEYCNlcjn8/b4+muPeusAAAFKSURBVDjLY2BgZufCCdiYGBiYxW1TcIJITiYGDhXnFDwq2Bi4NPEpSOGCKYjAr8BdVVLDG6sCFogCw+KOfG2sChjBCiKkGzpahZKwKWCFmGCaXZNlhs8N3g4iLoH4fZGE3xcebm5uQF+EAym32JSURO9gVAW+wmE+PrxRKVaOIT5qBq6K3HpKEuaJSAq8nOo6OqRCUywLWzpyBOVKmzo6qtOUk9AUpMaBFeSKlneAQHuGCZqCkhSwgvqKDghoFEtGVZAeD1bQ0dFWVNYGUqHuh9UNHXkyOvI2Ve0dHRZeWBVU8gSkJBtnNuNUUKADFPbUrcOpIEcfKBwqW9s+5BT4CzhZWPBFp1hr2VsoGAGFo0EC/P6I9ODv5eUVlJISA6S8EkBxFARk+MMiyw5/xuFQ0bRzxgls2YGZV0UTJ1ARZwZmbw7c2Z+DmQEAE6ZAafVav5EAAAAASUVORK5CYII=",KR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAL5SURBVFiF7dZPaBxlGMfxz8zs7iTZNLRNq8VAaTAXodQ/EYlV9KDUmGAJ9hIRxIsgIubs0VOPPQo5KHgqsahIlSIoRcSEKmJLIJAIESsxNm1akmyS7e7MeNiNhCJ2d6O9tD94YYb3/b3P93mGed+He7rbFTSwZjfWkeIFdGyba0eCm/X3VVTrzytYwp91/20BuvBKzPGAx2PKNzg5wJuDXBni+jFeqhIGBG2khRqUNXIpMrIShVuD5NgscDXhYpnPcboO+DfA4Zhvuuh6mcIAwaN4uJ5e1ECZbtVGPf2FbWX4gewTKqvcKPMcpiEf8+sw1RWy7H8eK2RDVGPmkYeRNiqLdyD41viDLKaC4yGOPkNyfwtlblUH8HTt6z4VtjPQT9yo+Tdc+A8gniBu58kwZN++JozvYwCvk1zdAUA3QrrDjGJnE8YUfb29yVRvb9oXBNUPkLUA0FnzFcOUjmKT5t6DB5Pp2dn8e6dO5d7O55OjVKab3KNYA+gIE9qbBYBcLmdsbMzc/Hx0YHjYI0GQvUO21gRAlfYwoa0VgC319PT49OzZ/MSZM8HHe/cmDwVB5VKDAAltIY1dCLfdsFgUFwpZmaDSwPqtmGFEudGy/ZMWFxe9OjpaHRocdGxxMfoly3L9DfjWELEZRqyXWgicpqnx8XF9hw4llyYmsu8xTtjVoL9UA9jIBS0AXF5YiPqPHKnMzcyEJ9M0eouo2QurhJCNXEipGYAAM3Nz0QmyL4geaDLwdoCAtVzK8rUmjG/gRTxLrsXYYBkpy+EGUz9SbtT4YC34jnWBmxtMhpj8lnAn53qzWsJ3hJiEOOb3EyTrd6AXKJGN1BqSyyhsnQeP5fl6P+2jxP1qd/Z92F8f4Q4ynsVFTOE05SXWKzyPn7Yfgt14rY0RHC6zO9sWNybJkQQEnSQhWVSfT+rNKVTIvuL8OXadY895Puzi3U0KET9v8hk+wjX+/RQO6slvFSLCnvpcpNZF36pVtRb8S7W/ZBeuNFane7pb9ReW2Hiatm4A7gAAAABJRU5ErkJggg==",ZR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAdVSURBVFiFzZd7UFT3Fcc/e/fNsrDAwvLWqMECVqIgJviYKiUYdbQ11qCxVsTGjDU6jm3NWNLEmlA1YzKJr2SsM1aMsfjOGHHU6CgaRSqGJhEbH0VBkJfAvvfu4/YPYQssaMhMpz0zd+7M+Z7vPd/f73d+v3t+8D822Q/gxAHpQJJCpTECXo/obATqgDKg+b8hIESjD10mCEKBXBAiB41IlxyWjqDW+nsKgMi4wR59RKTt9rXLiKLroUd0fuh2uXYCloGI6dM2XJD0YbGDO0b/fKF37dErUvEdn7T2SLkUEZMgFZVWSUWlVVJ4dLz0p06sqLRKmjxviUOt05uVau0KQHjc9x83A9GDnnm2OP+vZRNFr6SK0gpEqAUePqhj3ZyJLNu8j6FpmQDc/qqcLcvn8seSMsKi4wBob2pgx+oC661rl27azR3TgIa+ksj7ST5cF2b8R3resuSolAw5QHSQgFwmY+vyeWTNmEvmCy/6g8Oj40GSOLlrM1kz5wGg0ekZ97OXVZqgYON3FRfyPW7xM6C1d6K+pidSbzRdnrTizyGj57z6SKUMlIKMsgO78LhFcvNXBJBy81cgST4uHNrdw5+zYJlyYdHHRm2w/iwQ3ZvXewmEkKjYamtrU5JKp+8RJMjAabOiUKlQKFV9TpvHLeIRRTS64ADMYbWg0QV/ZTe3pwO+Lr+ie5DWEP5abOqYYbM27e9B1isFKna+jd3czsuF7/WZvMv2rFuJPiyCmcsKA7CNC6cMu3Hp3BK327W9++D8eYLCjE2L9l7RhJjiexCDJBfvT0/hrcOXMUTFPFZAW2M9a2c9x8YvbqDSaHtgrfX3WJ07ot1lsybSuUX9NaANMRSk5Lyo7p0c4NvTR0jKGP/E5ABhplieTs+i8tTRACwiNpGxU2erlWrtr7p8XUswTKHWrAkKN8mqTx0MIFbu207yqEyuHN8fgPVlhqgYTu3eiiAP3GTGuMFahUq5yu1ynABuyaKj9L9TKYV3JmQOVioUjz0zAk2tRZIPkAOITlE8e7baabOLf5CFhWocFZ/9WhNh6LledQ1m4mNCsNhERLeXCIPW7+t6O3QqZHIBg0FLbV07CfEG/7u11YZSpSBEr/b7ultLi43kZzZ2CG6PT9E7OcCUhZ/Q0mZnw/aLvL7hC5wuD9nzi3E43WTPL8ZqE3lj3UkK157AYnUxIXsbdoebCdnbcDo9rHr9GO9sOE1Li43JUz4K+L7RqMPj9akVAUinTZv0NPs/v87hkzdwu70cLK0ma3Q8Wo2SnHFD2H/8OsdKqwFIGxlLbk4SQVol47IGU3KwijPnbqFSykmIMzBjWmq/y9GvgDnTU5m1pIQxabGYjDrWvHuGj4umdWIp/HLlEbJ/MgzkMt546wT7iucDMO+lURQsKWHG9FQaGy28vf40xw4tGriA9BExmCKDyZueSpRRx8nzd8geNwSA8RmJ6INV5M38MYJORcXfa5k4/hH2fHYSSpWceS+NorHJwt17bWSkJ/QrQBYeqnWUHy3QGMOCAsC6BjMxJj1yQca9+g4SY0P9WG2DmbiYEDSxodQ1mElM+E+R3b3XxqDEMLxeH/UN5oACBGhutpIy6t0OWXSU/rdKhaxo4tinBr4NAeRyJJVmQL2V6BTFM2euO+0O95ou2tBgo+ni6NlLTBFPJQcQKj7dTGxKBnFpzyEDIjQCmv5+5MDNykvcqaogN395AHb/VjXHd2yqcdos2cCdrhq47RVd620tDe+Nf6UwYCw+r4db54+RnPOoB5DLYJBejlroe9gVJw6Rs+A3ZE79RQC24/cFdq9H/AC4A93+BQ5z+87q04ec5sa6ANLwSTOovXYRa/OjpsYrQY3Fi90jBcS2PbjPzatfMjpnZgDW2lBLRekBl9vl2tXl6z6RoqBQmh/W3MhNyZ3TY2iCQonbaaOm/AxDsp4HQALMooQEBClk/hI4+P6bDM+cQGrW5AABW5fnWZtqbr/p83nPdfkCG5LImG+tD5t/1L0h8Su0W5ErVch7NSSyzsfreWJDUmk3t48FPP0JAIgODo+s/umqTYaUF/J6AF8f28M3n3/C3G3HQdaLKknsWzqVzJnzmTR7AVq5zB9SfvyA9JfVi5qcNmsa0Nid1lctW0WH/XDttbIFSm2QJjZ1jB8wJY3k+sn92NuaiBv5bA/Slb0f0vGglvGvFdEhSjwUfVjdElXnT/h2r17Y4rBasnh0eelh/W3872xtLcmXdq7/58FVs31dxQcwtXA7FXs3U//NFb/v/tflVHy6hamF/k4LS8sDWu/XuBUazVK7pSONzqofqAlqXchKjd5gz5jzqm/x365KaypFKb/4S0lvipMWl1RKi0sqJb0pTsrfc0laUylKi0sqpTF5S3268EhHmClh7pMSfN/zS6/VG15RaDSrBIUqImHkWHlH4315W92/AAhLGIohOt57t7LMKyBrdtktWxyWjq18j6vZD7mcGoFxQKJaFxoPPpnLZmkAbgJX6ecG9H9r/waQp9P2A7RDvgAAAABJRU5ErkJggg==",QR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAByhJREFUWIXNl3tQVOcVwH/fvbt3F3blsW4iDxcURLShpaJpzVgTR6FYo3HywEdGTUYzkHFsO81MjNM2jdPOmEw6kzZ1prE4UYqPqqiNpj6i0GAwVgMaKwKGyJsg7+e+YO/e2z8MqwvYKulMe/663/nO/c7vO993zzkX/sci7tcwM2uDzW8QyxWjMd1oNHzf51OjfKrPAiCE0IQQXkmISp+q5asm387ivDzvfwUg4/mcJFniV5Iknk1JTupf8NijE5Omxhsm2SdiUox0dPfS0t5ObUMz50uv6LUNjbrfr6ELTvulwXVF+fld4wbQdV1kv/ZG0dy01NQVyxbbJFMo1U740gU9PhhQwe0HswShMkSbwREC7dcukrfvoH/A5RK6xLYze3a+/sAAK1/+2arli9M3r16+ZFbXEPy9E6oGQP9PIQMkAclW8JSdZf+hAl0W8iVPc9T84uKt6n0B6LoeB5xQNT2lsFNQ2gva/XgeAyTe1cjh7W9rqupvsnq7EgsKCvxBNiOBfrQ250TZtesfu/yk7GkWFNe0M+h2PrBzn8eJq6udutA4Ml99S5INksNptn060k6+e5C5JnuTIyZq3eoVWTG7mwS1TV9R8f42Wi8V4a6rxBBhxxwxEQDV68Hn7Mfv9QACyWAEoK+hmsYPd9FQeJT2K+eITE7FZ7UT/0iqqLtUHJv4nTnmmvLLRYEdDz9krFofo5hNN957c+uEwqGHafRAy8WzzNQ62LRuJZ+Wfs6fDvwVTQnB29+D3+cj1BIKOrjdbmSjEXO4DXnITc6qp5k3J4138/ZTrUQT/b1FADivFFF+4qDmVtSokt27OwAMwwAGo/JK5uPztArptnMA1e0kerINgyzzxNw5PDY7letf3CQuNhp7ZERQKDu7e2hsaSUleRqK8XY0Yh6yUXlrIGBjTVuE+dxJoTude4FM+PoOLMjaaJUlkZOxeHF4ae+dRY1hkTS3dQbGitFIWsrMUc4B7LZI0lJmBpwDNLd3Y7AG28YvWSd0XctYtiw7NACgKL4FUxyxg+X6xKDbPnirDqPRwHhFMcoMttYH6WzJqcgGAx6L9moAwGwyPvno7LSIqjvRwtXaiLOuipzVz4wbIHvVMzhrK3C1NgXprbEJwmCUswIAsmx4IiwuSb77U++q+IylC+djUpRxA5hNJpYunE935WdB+sjkVBAkBgBUv/pQjxIZZKR23WJGQvy4nQ/L9Knx+LpuBelC7TFofs0UAPB6h+xugyX4TV1DlmW+qRhkGfxByQ9r1GR0dBEAAOjzBldPyWyh3/ngGXCk9A0MIIVag5XiTgWQbo+F1tMdXDWN9hhu1DZ8Y4AbtQ0Y7bFBOndHKwKhBwAkSXi8LXVBRhGJ36ak9CrqiPA9iKiqSknZVSISU4L0ztYGJFkaDADoOjW9tZVB9c4S5UC2TeLghx+NG2DfsVMo9lgskyYH6XurryHgRgDAr+kFXXXVoxaIX/oiR4o+4c+Hj6Oqo0r5PcXnU3n/0AccK75A3JPrRs0PNNfqquorgK+r4bTohZd1k/vn4VNnCFkxU77jDbqvliCFWIhLX8E/L11g/4FDNLe209/fT2iImQnW4K+m+VYr50uv8MHZc/xu917adDOJz21EsYYF2XVWltFZUUqEr39JZWWlXwaoqbngS0ydvXig6ebk6LkZOOur0Pq7GGqtQzOacKRnETFjNi3OQT4pPMPNmlrSfzA3aOHfbM+l8HIFvsQ5OBY9i/2785EV06jdV+19B/zq6WN/yc8PHAGAJomVns42vbv6GtNWbMIUO42ZCfG0nv8bnddLUcJtPJw6D6H5yR4jPW9cuxJJ8xGVNh9TmG3Mo2m5eIZB14DmM2urh3UBgML83EZgz5dHc3XV7cTxw5WUlVexOfsFei8cp/Ttn1D625/yrYR4EuIcoxaf6ohF9XhQvZ4xnbvamqgvPIKmab8uzM3tG9aP7AlF5trsGsUSNmXWpm2i9R8fITeU8/qPX2KCxUKI2Ywsj+zi7kjWpteY/sIWlLDgtD7kcvL59i3oaCWn8957/O65kbVWH5SH0nD211/5w5aw1JytolM28PIvt2FSFDRNIzIijJ3b7tFl66M7V1dbM+W730RA/dwpkxacHjE/qtgX5+X1PrV+vWPQ47pW9vvN8UlPbxCzXnmHof4ehgb6aDjyx3tGAEC/K802nT9J08fHMBilkpN5O544NUZXP2a3cXzXrgEgIXPNS3lfHM5da7VHialL1qCERyKkex+BEALdr9J29QKNRYdRPS5NkvnFybwdb93znX+7HSDj+ReTJEnZp+naHEnI4pEZ01mf9RR2WyS28HDcXi89fX20dXSxq+AY9Y3NgK7LknzUGqJtKLjrwo0LYFjSs7PDJaf2XKjFkqmYzAs9Hne41+s1KEajZjKFqBPCJnR4vd4Dfd0dp7xfOc6N9Rf0fyn/AvfY4NZv5wiYAAAAAElFTkSuQmCC";function JR(){return F.jsx("div",{className:"footer-container",children:F.jsx("div",{className:"container",children:F.jsxs("footer",{className:"text-center text-lg-start",children:[F.jsxs("div",{className:"container d-flex justify-content-center py-4",children:[F.jsx("a",{href:"https://davidcao.xyz",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:ZR})})}),F.jsx("a",{href:"https://github.com/dave-cao/Book-Chronicles",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:QR})})}),F.jsx("a",{href:"https://www.linkedin.com/in/david-cao99/",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:YR})})}),F.jsx("a",{href:"https://www.youtube.com/@sirdavidcao",target:"_blank",children:F.jsx("button",{type:"button",className:"btn btn-lg btn-floating mx-2",children:F.jsx("img",{src:KR})})})]}),F.jsx("div",{className:"footer-name",children:"Made by David Cao © 2024"})]})})})}const XR="modulepreload",e8=function(i){return"/Book-Chronicles/"+i},w2={},Ed=function(n,o,l){if(!o||o.length===0)return n();const u=document.getElementsByTagName("link");return Promise.all(o.map(h=>{if(h=e8(h),h in w2)return;w2[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!l)for(let _=u.length-1;_>=0;_--){const y=u[_];if(y.href===h&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":XR,f||(v.as="script",v.crossOrigin=""),v.href=h,document.head.appendChild(v),f)return new Promise((_,y)=>{v.addEventListener("load",_),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})})).then(()=>n()).catch(h=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h})},t8=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Ed(()=>Promise.resolve().then(()=>Dd),void 0).then(({default:l})=>l(...o)):n=fetch,(...o)=>n(...o)};class Vb extends Error{constructor(n,o="FunctionsError",l){super(n),this.name=o,this.context=l}}class n8 extends Vb{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class i8 extends Vb{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class r8 extends Vb{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var o8=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};class s8{constructor(n,{headers:o={},customFetch:l}={}){this.url=n,this.headers=o,this.fetch=t8(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,o={}){var l;return o8(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f}=o;let m={},w;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(m["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(m["Content-Type"]="application/json",w=JSON.stringify(f)));const v=yield this.fetch(`${this.url}/${n}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:w}).catch(S=>{throw new n8(S)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new i8(v);if(!v.ok)throw new r8(v);let y=((l=v.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield v.json():y==="application/octet-stream"?x=yield v.blob():y==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null}}catch(u){return{data:null,error:u}}})}}var S0={exports:{}};(function(i,n){var o=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ms<"u")return ms;throw new Error("unable to locate global object")},l=o();i.exports=n=l.fetch,l.fetch&&(n.default=l.fetch.bind(l)),n.Headers=l.Headers,n.Request=l.Request,n.Response=l.Response})(S0,S0.exports);var Ub=S0.exports;const Hb=L2(Ub),Dd=P2({__proto__:null,default:Hb},[Ub]);class a8{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Hb:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,w;let v=null,_=null,y=null,x=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const P=await h.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=P:_=JSON.parse(P))}const B=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");B&&R&&R.length>1&&(y=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,y=null,x=406,S="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const B=await h.text();try{v=JSON.parse(B),Array.isArray(v)&&h.status===404&&(_=[],v=null,x=200,S="OK")}catch{h.status===404&&B===""?(x=204,S="No Content"):v={message:B}}if(v&&this.isMaybeSingle&&(!((w=v==null?void 0:v.details)===null||w===void 0)&&w.includes("0 rows"))&&(v=null,x=200,S="OK"),v&&this.shouldThrowOnError)throw v}return{error:v,data:_,count:y,status:x,statusText:S}});return this.shouldThrowOnError||(u=u.catch(h=>{var f,m,w;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(m=h==null?void 0:h.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(w=h==null?void 0:h.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),u.then(n,o)}}class c8 extends a8{select(n){let o=!1;const l=(n??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:o=!0,nullsFirst:l,foreignTable:u}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,o,{foreignTable:l}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(h,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){const m=[n?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${m};`,f==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ca extends c8{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const l=o.map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(n,`in.(${l})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(n,`${h}fts${f}.${o}`),this}match(n){return Object.entries(n).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(n,o,l){return this.url.searchParams.append(n,`not.${o}.${l}`),this}or(n,{foreignTable:o}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,o,l){return this.url.searchParams.append(n,`${o}.${l}`),this}}class l8{constructor(n,{headers:o={},schema:l,fetch:u}){this.url=n,this.headers=o,this.schema=l,this.fetch=u}select(n,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new Ca({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((m,w)=>m.concat(Object.keys(w)),[]);if(f.length>0){const m=[...new Set(f)].map(w=>`"${w}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ca({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const f="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(n)){const w=n.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(w.length>0){const v=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new Ca({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new Ca({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const o="DELETE",l=[];return n&&l.push(`count=${n}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Ca({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const d8="1.8.5",u8={"X-Client-Info":`postgrest-js/${d8}`};class $b{constructor(n,{headers:o={},schema:l,fetch:u}={}){this.url=n,this.headers=Object.assign(Object.assign({},u8),o),this.schemaName=l,this.fetch=u}from(n){const o=new URL(`${this.url}/${n}`);return new l8(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new $b(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,o={},{head:l=!1,count:u}={}){let h;const f=new URL(`${this.url}/rpc/${n}`);let m;l?(h="HEAD",Object.entries(o).forEach(([v,_])=>{f.searchParams.append(v,`${_}`)})):(h="POST",m=o);const w=Object.assign({},this.headers);return u&&(w.Prefer=`count=${u}`),new Ca({method:h,url:f,headers:w,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var uk,v2;function h8(){if(v2)return uk;v2=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return uk=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),uk}const f8="websocket",g8="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",p8=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],m8="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",k8=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],b8="1.0.34",w8={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},v8="https://github.com/theturtle32/WebSocket-Node",_8={node:">=4.0.0"},A8={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},y8={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},C8={verbose:!1},x8={test:"tape test/unit/*.js",gulp:"gulp"},E8="index",D8={lib:"./lib"},S8="lib/browser.js",T8="Apache-2.0",I8={name:f8,description:g8,keywords:p8,author:m8,contributors:k8,version:b8,repository:w8,homepage:v8,engines:_8,dependencies:A8,devDependencies:y8,config:C8,scripts:x8,main:E8,directories:D8,browser:S8,license:T8};var M8=I8.version,gs;if(typeof globalThis=="object")gs=globalThis;else try{gs=h8()}catch{}finally{if(!gs&&typeof window<"u"&&(gs=window),!gs)throw new Error("Could not determine global this")}var gd=gs.WebSocket||gs.MozWebSocket,N8=M8;function _S(i,n){var o;return n?o=new gd(i,n):o=new gd(i),o}gd&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(_S,i,{get:function(){return gd[i]}})});var O8={w3cwebsocket:gd?_S:null,version:N8};const B8="2.8.4",P8={"X-Client-Info":`realtime-js/${B8}`},L8="1.0.0",AS=1e4,z8=1e3;var Gl;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Gl||(Gl={}));var qn;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(qn||(qn={}));var Mi;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Mi||(Mi={}));var T0;(function(i){i.websocket="websocket"})(T0||(T0={}));var ps;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ps||(ps={}));class yS{constructor(n,o){this.callback=n,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class j8{constructor(){this.HEADER_LENGTH=1}decode(n,o){return n.constructor===ArrayBuffer?o(this._binaryDecode(n)):o(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const o=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,o,l)}_decodeBroadcast(n,o,l){const u=o.getUint8(1),h=o.getUint8(2);let f=this.HEADER_LENGTH+2;const m=l.decode(n.slice(f,f+u));f=f+u;const w=l.decode(n.slice(f,f+h));f=f+h;const v=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:w,payload:v}}}class hk{constructor(n,o,l={},u=AS){this.channel=n,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,o){var l;return this._hasReceived(n)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:o}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(o))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _2;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(_2||(_2={}));class Yl{constructor(n,o){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,u,h,f),this.pendingDiffs.forEach(w=>{this.state=Yl.syncDiff(this.state,w,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Yl.syncDiff(this.state,u,h,f),m())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,o,l,u){const h=this.cloneDeep(n),f=this.transformState(o),m={},w={};return this.map(h,(v,_)=>{f[v]||(w[v]=_)}),this.map(f,(v,_)=>{const y=h[v];if(y){const x=_.map(R=>R.presence_ref),S=y.map(R=>R.presence_ref),N=_.filter(R=>S.indexOf(R.presence_ref)<0),B=y.filter(R=>x.indexOf(R.presence_ref)<0);N.length>0&&(m[v]=N),B.length>0&&(w[v]=B)}else m[v]=_}),this.syncDiff(h,{joins:m,leaves:w},l,u)}static syncDiff(n,o,l,u){const{joins:h,leaves:f}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(m,w)=>{var v;const _=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(w),_.length>0){const y=n[m].map(S=>S.presence_ref),x=_.filter(S=>y.indexOf(S.presence_ref)<0);n[m].unshift(...x)}l(m,_,w)}),this.map(f,(m,w)=>{let v=n[m];if(!v)return;const _=w.map(y=>y.presence_ref);v=v.filter(y=>_.indexOf(y.presence_ref)<0),n[m]=v,u(m,v,w),v.length===0&&delete n[m]}),n}static map(n,o){return Object.getOwnPropertyNames(n).map(l=>o(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((o,l)=>{const u=n[l];return"metas"in u?o[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[l]=u,o},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var at;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(at||(at={}));const A2=(i,n,o={})=>{var l;const u=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((h,f)=>(h[f]=R8(f,i,n,u),h),{})},R8=(i,n,o,l)=>{const u=n.find(m=>m.name===i),h=u==null?void 0:u.type,f=o[i];return h&&!l.includes(h)?CS(h,f):I0(f)},CS=(i,n)=>{if(i.charAt(0)==="_"){const o=i.slice(1,i.length);return H8(n,o)}switch(i){case at.bool:return F8(n);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return V8(n);case at.json:case at.jsonb:return U8(n);case at.timestamp:return $8(n);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return I0(n);default:return I0(n)}},I0=i=>i,F8=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},V8=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},U8=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},H8=(i,n)=>{if(typeof i!="string")return i;const o=i.length-1,l=i[o];if(i[0]==="{"&&l==="}"){let h;const f=i.slice(1,o);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>CS(n,m))}return i},$8=i=>typeof i=="string"?i.replace(" ","T"):i;var y2;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(y2||(y2={}));var C2;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(C2||(C2={}));var x2;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(x2||(x2={}));class Wb{constructor(n,o={config:{}},l){this.topic=n,this.params=o,this.socket=l,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},o.config),this.timeout=this.socket.timeout,this.joinPush=new hk(this,Mi.join,this.params,this.timeout),this.rejoinTimer=new yS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mi.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Yl(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(n,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:h,presence:f}}=this.params;this._onError(v=>n&&n("CHANNEL_ERROR",v)),this._onClose(()=>n&&n("CLOSED"));const m={},w={broadcast:h,presence:f,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(v=>v.filter))!==null&&u!==void 0?u:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:w},m)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",({postgres_changes:v})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),v===void 0){n&&n("SUBSCRIBED");return}else{const y=this.bindings.postgres_changes,x=(_=y==null?void 0:y.length)!==null&&_!==void 0?_:0,S=[];for(let N=0;N<x;N++){const B=y[N],{filter:{event:R,schema:P,table:L,filter:D}}=B,W=v&&v[N];if(W&&W.event===R&&W.schema===P&&W.table===L&&W.filter===D)S.push(Object.assign(Object.assign({},B),{id:W.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,n&&n("SUBSCRIBED");return}}).receive("error",v=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(n,o={}){return await this.send({type:"presence",event:"track",payload:n},o.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,o,l){return this._on(n,o,l)}async send(n,o={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){const{event:h,payload:f}=n,m={method:"POST",headers:{apikey:(l=this.socket.accessToken)!==null&&l!==void 0?l:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=o.timeout)!==null&&u!==void 0?u:this.timeout)).ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,w;const v=this._push(n.type,n,o.timeout||this.timeout);n.type==="broadcast"&&!(!((w=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||w===void 0)&&w.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=qn.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new hk(this,Mi.leave,{},n);u.receive("ok",()=>{o(),l("ok")}).receive("timeout",()=>{o(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let n=this.socket.endPoint;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(n,o,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),f}_push(n,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new hk(this,n,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(n,o,l){return o}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,o,l){var u,h;const f=n.toLocaleLowerCase(),{close:m,error:w,leave:v,join:_}=Mi;if(l&&[m,w,v,_].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,o,l);if(o&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var N,B,R;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((R=(B=S.filter)===null||B===void 0?void 0:B.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(S=>S.callback(x,l)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var N,B,R,P,L,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const W=S.id,Z=(N=S.filter)===null||N===void 0?void 0:N.event;return W&&((B=o.ids)===null||B===void 0?void 0:B.includes(W))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((R=o.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const W=(L=(P=S==null?void 0:S.filter)===null||P===void 0?void 0:P.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return W==="*"||W===((D=o==null?void 0:o.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:B,table:R,commit_timestamp:P,type:L,errors:D}=N;x=Object.assign(Object.assign({},{schema:B,table:R,commit_timestamp:P,eventType:L,new:{},old:{},errors:D}),this._getPayloadRecords(N))}S.callback(x,l)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,o,l){const u=n.toLocaleLowerCase(),h={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,o){const l=n.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Wb.isEqual(u.filter,o))}),this}static isEqual(n,o){if(Object.keys(n).length!==Object.keys(o).length)return!1;for(const l in n)if(n[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Mi.close,{},n)}_onError(n){this._on(Mi.error,{},o=>n(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const o={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(o.new=A2(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(o.old=A2(n.columns,n.old_record)),o}}const W8=()=>{};class q8{constructor(n,o){var l;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=P8,this.params={},this.timeout=AS,this.transport=O8.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=W8,this.conn=null,this.sendBuffer=[],this.serializer=new j8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=h=>{let f;return h?f=h:typeof fetch>"u"?f=(...m)=>Ed(()=>Promise.resolve().then(()=>Dd),void 0).then(({default:w})=>w(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${n}/${T0.websocket}`,o!=null&&o.params&&(this.params=o.params),o!=null&&o.headers&&(this.headers=Object.assign(Object.assign({},this.headers),o.headers)),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),o!=null&&o.transport&&(this.transport=o.transport),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const u=(l=o==null?void 0:o.params)===null||l===void 0?void 0:l.apikey;u&&(this.accessToken=u),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,f)=>f(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,o){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const o=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const n=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.disconnect(),n}log(n,o,l){this.logger(n,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Gl.connecting:return ps.Connecting;case Gl.open:return ps.Open;case Gl.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(n,o={config:{}}){const l=new Wb(`realtime:${n}`,o,this);return this.channels.push(l),l}push(n){const{topic:o,event:l,payload:u,ref:h}=n,f=()=>{this.encode(n,m=>{var w;(w=this.conn)===null||w===void 0||w.send(m)})};this.log("push",`${o} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(n){this.accessToken=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(Mi.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let o=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${n}"`),o.unsubscribe())}_remove(n){this.channels=this.channels.filter(o=>o._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L8}))}_onConnMessage(n){this.decode(n.data,o=>{let{topic:l,event:u,payload:h,ref:f}=o;(f&&f===this.pendingHeartbeatRef||u===(h==null?void 0:h.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${l} ${u} ${f&&"("+f+")"||""}`,h),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,h,f)),this.stateChangeCallbacks.message.forEach(m=>m(o))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Mi.error))}_appendParams(n,o){if(Object.keys(o).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${n}${l}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(z8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class qb extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function cn(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class G8 extends qb{constructor(n,o){super(n),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class E2 extends qb{constructor(n,o){super(n),this.name="StorageUnknownError",this.originalError=o}}var Y8=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};const xS=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Ed(()=>Promise.resolve().then(()=>Dd),void 0).then(({default:l})=>l(...o)):n=fetch,(...o)=>n(...o)},K8=()=>Y8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ed(()=>Promise.resolve().then(()=>Dd),void 0)).Response:Response});var dc=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};const fk=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Z8=(i,n)=>dc(void 0,void 0,void 0,function*(){const o=yield K8();i instanceof o?i.json().then(l=>{n(new G8(fk(l),i.status||500))}).catch(l=>{n(new E2(fk(l),l))}):n(new E2(fk(i),i))}),Q8=(i,n,o,l)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function og(i,n,o,l,u,h){return dc(this,void 0,void 0,function*(){return new Promise((f,m)=>{i(o,Q8(n,l,u,h)).then(w=>{if(!w.ok)throw w;return l!=null&&l.noResolveJson?w:w.json()}).then(w=>f(w)).catch(w=>Z8(w,m))})})}function M0(i,n,o,l){return dc(this,void 0,void 0,function*(){return og(i,"GET",n,o,l)})}function uo(i,n,o,l,u){return dc(this,void 0,void 0,function*(){return og(i,"POST",n,l,u,o)})}function J8(i,n,o,l,u){return dc(this,void 0,void 0,function*(){return og(i,"PUT",n,l,u,o)})}function ES(i,n,o,l,u){return dc(this,void 0,void 0,function*(){return og(i,"DELETE",n,l,u,o)})}var ci=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};const X8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e9{constructor(n,o={},l,u){this.url=n,this.headers=o,this.bucketId=l,this.fetch=xS(u)}uploadOrUpdate(n,o,l,u){return ci(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},D2),u),m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",f.cacheControl)):(h=l,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const w=this._removeEmptyFolders(o),v=this._getFinalPath(w),_=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:n,body:h,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return _.ok?{data:{path:w},error:null}:{data:null,error:yield _.json()}}catch(h){if(cn(h))return{data:null,error:h};throw h}})}upload(n,o,l){return ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,o,l)})}uploadToSignedUrl(n,o,l,u){return ci(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",o);try{let w;const v=Object.assign({upsert:D2.upsert},u),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&l instanceof Blob?(w=new FormData,w.append("cacheControl",v.cacheControl),w.append("",l)):typeof FormData<"u"&&l instanceof FormData?(w=l,w.append("cacheControl",v.cacheControl)):(w=l,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType);const y=yield this.fetch(m.toString(),{method:"PUT",body:w,headers:_});return y.ok?{data:{path:h},error:null}:{data:null,error:yield y.json()}}catch(w){if(cn(w))return{data:null,error:w};throw w}})}createSignedUploadUrl(n){return ci(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const l=yield uo(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:this.headers}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new qb("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:h},error:null}}catch(o){if(cn(o))return{data:null,error:o};throw o}})}update(n,o,l){return ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,o,l)})}move(n,o){return ci(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o},{headers:this.headers}),error:null}}catch(l){if(cn(l))return{data:null,error:l};throw l}})}copy(n,o){return ci(this,void 0,void 0,function*(){try{return{data:{path:(yield uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o},{headers:this.headers})).Key},error:null}}catch(l){if(cn(l))return{data:null,error:l};throw l}})}createSignedUrl(n,o,l){return ci(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),h=yield uo(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(cn(u))return{data:null,error:u};throw u}})}createSignedUrls(n,o,l){return ci(this,void 0,void 0,function*(){try{const u=yield uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:n},{headers:this.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(cn(u))return{data:null,error:u};throw u}})}download(n,o){return ci(this,void 0,void 0,function*(){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),f=h?`?${h}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield M0(this.fetch,`${this.url}/${u}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(cn(m))return{data:null,error:m};throw m}})}getPublicUrl(n,o){const l=this._getFinalPath(n),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const m=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",w=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});w!==""&&u.push(w);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${v}`)}}}remove(n){return ci(this,void 0,void 0,function*(){try{return{data:yield ES(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(o){if(cn(o))return{data:null,error:o};throw o}})}list(n,o,l){return ci(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},X8),o),{prefix:n||""});return{data:yield uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(cn(u))return{data:null,error:u};throw u}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const o=[];return n.width&&o.push(`width=${n.width}`),n.height&&o.push(`height=${n.height}`),n.resize&&o.push(`resize=${n.resize}`),n.format&&o.push(`format=${n.format}`),n.quality&&o.push(`quality=${n.quality}`),o.join("&")}}const t9="2.5.4",n9={"X-Client-Info":`storage-js/${t9}`};var va=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};class i9{constructor(n,o={},l){this.url=n,this.headers=Object.assign(Object.assign({},n9),o),this.fetch=xS(l)}listBuckets(){return va(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(cn(n))return{data:null,error:n};throw n}})}getBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(o){if(cn(o))return{data:null,error:o};throw o}})}createBucket(n,o={public:!1}){return va(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(cn(l))return{data:null,error:l};throw l}})}updateBucket(n,o){return va(this,void 0,void 0,function*(){try{return{data:yield J8(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(cn(l))return{data:null,error:l};throw l}})}emptyBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(cn(o))return{data:null,error:o};throw o}})}deleteBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield ES(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(o){if(cn(o))return{data:null,error:o};throw o}})}}class r9 extends i9{constructor(n,o={},l){super(n,o,l)}from(n){return new e9(this.url,this.headers,n,this.fetch)}}const o9="2.38.4";let Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";const s9={"X-Client-Info":`supabase-js-${Ol}/${o9}`};var a9=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};const c9=i=>{let n;return i?n=i:typeof fetch>"u"?n=Hb:n=fetch,(...o)=>n(...o)},l9=()=>typeof Headers>"u"?Ub.Headers:Headers,d9=(i,n,o)=>{const l=c9(o),u=l9();return(h,f)=>a9(void 0,void 0,void 0,function*(){var m;const w=(m=yield n())!==null&&m!==void 0?m:i;let v=new u(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${w}`),l(h,Object.assign(Object.assign({},f),{headers:v}))})};function u9(i){return i.replace(/\/$/,"")}function h9(i,n){const{db:o,auth:l,realtime:u,global:h}=i,{db:f,auth:m,realtime:w,global:v}=n;return{db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},w),u),global:Object.assign(Object.assign({},v),h)}}function f9(i){return Math.round(Date.now()/1e3)+i}function g9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Ar=()=>typeof document<"u",ls={tested:!1,writable:!1},Kl=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function gk(i){const n={},o=new URL(i);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return o.searchParams.forEach((l,u)=>{n[u]=l}),n}const DS=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...o)=>Ed(()=>Promise.resolve().then(()=>Dd),void 0).then(({default:l})=>l(...o)):n=fetch,(...o)=>n(...o)},p9=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",ds=async(i,n,o)=>{await i.setItem(n,JSON.stringify(o))},Bh=async(i,n)=>{const o=await i.getItem(n);if(!o)return null;try{return JSON.parse(o)}catch{return o}},pk=async(i,n)=>{await i.removeItem(n)};function m9(i){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",l,u,h,f,m,w,v,_=0;for(i=i.replace("-","+").replace("_","/");_<i.length;)f=n.indexOf(i.charAt(_++)),m=n.indexOf(i.charAt(_++)),w=n.indexOf(i.charAt(_++)),v=n.indexOf(i.charAt(_++)),l=f<<2|m>>4,u=(m&15)<<4|w>>2,h=(w&3)<<6|v,o=o+String.fromCharCode(l),w!=64&&u!=0&&(o=o+String.fromCharCode(u)),v!=64&&h!=0&&(o=o+String.fromCharCode(h));return o}class sg{constructor(){this.promise=new sg.promiseConstructor((n,o)=>{this.resolve=n,this.reject=o})}}sg.promiseConstructor=Promise;function S2(i){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,o=i.split(".");if(o.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(o[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=o[1];return JSON.parse(m9(l))}async function k9(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function b9(i,n){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function w9(i){return("0"+i.toString(16)).substr(-2)}function _a(){const n=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,w9).join("")}async function v9(i){const o=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}function _9(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Aa(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const o=await v9(i);return _9(o)}class Gb extends Error{constructor(n,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=o}}function Ve(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class A9 extends Gb{constructor(n,o){super(n,o),this.name="AuthApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function y9(i){return Ve(i)&&i.name==="AuthApiError"}class SS extends Gb{constructor(n,o){super(n),this.name="AuthUnknownError",this.originalError=o}}class uc extends Gb{constructor(n,o,l){super(n),this.name=o,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ya extends uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class mk extends uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ph extends uc{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class Lh extends uc{constructor(n,o=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class T2 extends uc{constructor(n,o=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N0 extends uc{constructor(n,o){super(n,"AuthRetryableFetchError",o)}}function I2(i){return Ve(i)&&i.name==="AuthRetryableFetchError"}var C9=globalThis&&globalThis.__rest||function(i,n){var o={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(o[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(o[l[u]]=i[l[u]]);return o};const Bl=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),x9=[502,503,504];async function M2(i){if(!p9(i))throw new N0(Bl(i),0);if(x9.includes(i.status))throw new N0(Bl(i),i.status);let n;try{n=await i.json()}catch(o){throw new SS(Bl(o),o)}throw new A9(Bl(n),i.status||500)}const E9=(i,n,o,l)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};async function qe(i,n,o,l){var u;const h=Object.assign({},l==null?void 0:l.headers);l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",w=await D9(i,n,o+m,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(w):{data:Object.assign({},w),error:null}}async function D9(i,n,o,l,u,h){const f=E9(n,l,u,h);let m;try{m=await i(o,f)}catch(w){throw console.error(w),new N0(Bl(w),0)}if(m.ok||await M2(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(w){await M2(w)}}function so(i){var n;let o=null;M9(i)&&(o=Object.assign({},i),i.expires_at||(o.expires_at=f9(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:o,user:l},error:null}}function mo(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function S9(i){return{data:i,error:null}}function T9(i){const{action_link:n,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h}=i,f=C9(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h},w=Object.assign({},f);return{data:{properties:m,user:w},error:null}}function I9(i){return i}function M9(i){return i.access_token&&i.refresh_token&&i.expires_in}var N9=globalThis&&globalThis.__rest||function(i,n){var o={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(o[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(o[l[u]]=i[l[u]]);return o};class O9{constructor({url:n="",headers:o={},fetch:l}){this.url=n,this.headers=o,this.fetch=DS(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,o="global"){try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Ve(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,o={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:mo})}catch(l){if(Ve(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:o}=n,l=N9(n,["options"]),u=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:T9,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(Ve(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(n){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:mo})}catch(o){if(Ve(o))return{data:{user:null},error:o};throw o}}async listUsers(n){var o,l,u,h,f,m,w;try{const v={nextPage:null,lastPage:0,total:0},_=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=n==null?void 0:n.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:I9});if(_.error)throw _.error;const y=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(w=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&w!==void 0?w:[];return S.length>0&&(S.forEach(N=>{const B=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(N.split(";")[1].split("=")[1]);v[`${R}Page`]=B}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},y),v),error:null}}catch(v){if(Ve(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:mo})}catch(o){if(Ve(o))return{data:{user:null},error:o};throw o}}async updateUserById(n,o){try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:o,headers:this.headers,xform:mo})}catch(l){if(Ve(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,o=!1){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:o},xform:mo})}catch(l){if(Ve(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){try{const{data:o,error:l}=await qe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:l}}catch(o){if(Ve(o))return{data:null,error:o};throw o}}async _deleteFactor(n){try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}}}const TS="2.57.0",B9="http://localhost:9999",P9="supabase.auth.token",L9={"X-Client-Info":`gotrue-js/${TS}`},N2=10,z9={getItem:i=>Kl()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{Kl()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{Kl()&&globalThis.localStorage.removeItem(i)}};function O2(i={}){return{getItem:n=>i[n]||null,setItem:(n,o)=>{i[n]=o},removeItem:n=>{delete i[n]}}}function j9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&Kl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class R9 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}j9();const F9={url:B9,storageKey:P9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L9,flowType:"implicit",debug:!1},El=30*1e3,B2=3;async function V9(i,n,o){return await o()}class pd{constructor(n){var o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&Ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},F9),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new O9({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=DS(l.fetch),this.lock=l.lock||V9,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:Kl()?this.storage=z9:(this.memoryStorage={},this.storage=O2(this.memoryStorage)):(this.memoryStorage={},this.storage=O2(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TS}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const n=Ar()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:o,error:l}=await this._getSessionFromURL(n);if(l)return this._debug("#_initialize()","error detecting session from URL",l),await this._removeSession(),{error:l};const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?{error:n}:{error:new SS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(n){var o,l,u;try{await this._removeSession();let h;if("email"in n){const{email:_,password:y,options:x}=n;let S=null,N=null;if(this.flowType==="pkce"){const B=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,B),S=await Aa(B),N=B===S?"plain":"s256"}h=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:_,password:y,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:N},xform:so})}else if("phone"in n){const{phone:_,password:y,options:x}=n;h=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:y,data:(l=x==null?void 0:x.data)!==null&&l!==void 0?l:{},channel:(u=x==null?void 0:x.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:so})}else throw new Ph("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return{data:{user:null,session:null},error:m};const w=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",w)),{data:{user:v,session:w},error:null}}catch(h){if(Ve(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(n){try{await this._removeSession();let o;if("email"in n){const{email:h,password:f,options:m}=n;o=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:so})}else if("phone"in n){const{phone:h,password:f,options:m}=n;o=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:so})}else throw new Ph("You must provide either an email or phone number and a password");const{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:{user:l.user,session:l.session},error:u})}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(n){var o,l,u,h;return await this._removeSession(),await this._handleProviderSignIn(n.provider,{redirectTo:(o=n.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const o=await Bh(this.storage,`${this.storageKey}-code-verifier`),{data:l,error:u}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:so});return await pk(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}async signInWithIdToken(n){await this._removeSession();try{const{options:o,provider:l,token:u,access_token:h,nonce:f}=n,m=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:so}),{data:w,error:v}=m;return v?{data:{user:null,session:null},error:v}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new mk}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:w,error:v})}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(n){var o,l,u,h,f;try{if(await this._removeSession(),"email"in n){const{email:m,options:w}=n;let v=null,_=null;if(this.flowType==="pkce"){const x=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,x),v=await Aa(x),_=x===v?"plain":"s256"}const{error:y}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},create_user:(l=w==null?void 0:w.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:w==null?void 0:w.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:m,options:w}=n,{data:v,error:_}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=w==null?void 0:w.data)!==null&&u!==void 0?u:{},create_user:(h=w==null?void 0:w.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},channel:(f=w==null?void 0:w.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:_}}throw new Ph("You must provide either an email or phone number.")}catch(m){if(Ve(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var o,l;try{n.type!=="email_change"&&n.type!=="phone_change"&&await this._removeSession();let u,h;"options"in n&&(u=(o=n.options)===null||o===void 0?void 0:o.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:so});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const w=f.session,v=f.user;return w!=null&&w.access_token&&(await this._saveSession(w),await this._notifyAllSubscribers("SIGNED_IN",w)),{data:{user:v,session:w},error:null}}catch(u){if(Ve(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var o,l,u;try{await this._removeSession();let h=null,f=null;if(this.flowType==="pkce"){const m=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,m),h=await Aa(m),f=m===h?"plain":"s256"}return await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(o=n.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:S9})}catch(h){if(Ve(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)throw l;if(!o)throw new ya;const{error:u}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{n.type!="email_change"&&n.type!="phone_change"&&await this._removeSession();const o=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:h}=n,{error:f}=await qe(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:u,options:h}=n,{data:f,error:m}=await qe(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Ph("You must provide either an email or phone number and a type")}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(n,o){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await n(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const o=await Bh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?n=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l)return{data:{session:n},error:null};const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:mo}):await this._useSession(async o=>{var l,u;const{data:h,error:f}=o;if(f)throw f;return await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:mo})})}catch(o){if(Ve(o))return{data:{user:null},error:o};throw o}}async updateUser(n,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,o))}async _updateUser(n,o={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new ya;const f=u.session;let m=null,w=null;if(this.flowType==="pkce"&&n.email!=null){const y=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,y),m=await Aa(y),w=y===m?"plain":"s256"}const{data:v,error:_}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:w}),jwt:f.access_token,xform:mo});if(_)throw _;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(Ve(l))return{data:{user:null},error:l};throw l}}_decodeJWT(n){return S2(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ya;const o=Date.now()/1e3;let l=o,u=!0,h=null;const f=S2(n.access_token);if(f.exp&&(l=f.exp,u=l<=o),u){const{session:m,error:w}=await this._callRefreshToken(n.refresh_token);if(w)return{data:{user:null,session:null},error:w};if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:w}=await this._getUser(n.access_token);if(w)throw w;h={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(Ve(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async o=>{var l;if(!n){const{data:f,error:m}=o;if(m)throw m;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new ya;const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(n){try{if(!Ar())throw new Lh("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Lh("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new T2("Not a valid PKCE flow url.");const o=gk(window.location.href);if(n){if(!o.code)throw new T2("No code detected.");const{data:L,error:D}=await this._exchangeCodeForSession(o.code);if(D)throw D;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:L.session,redirectType:null},error:null}}if(o.error||o.error_description||o.error_code)throw new Lh(o.error_description||"Error in URL with unspecified error_description",{error:o.error||"unspecified_error",code:o.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:m,expires_at:w,token_type:v}=o;if(!h||!m||!f||!v)throw new Lh("No session defined in URL");const _=Math.round(Date.now()/1e3),y=parseInt(m);let x=_+y;w&&(x=parseInt(w));const S=x-_;S*1e3<=El&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const N=x-y;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",N,x,_);const{data:B,error:R}=await this._getUser(h);if(R)throw R;const P={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:y,expires_at:x,refresh_token:f,token_type:v,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:o.type},error:null}}catch(o){if(Ve(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantFlow(){const n=gk(window.location.href);return!!(Ar()&&(n.access_token||n.error_description))}async _isPKCEFlow(){const n=gk(window.location.href),o=await Bh(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&o)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{error:h};const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(y9(m)&&(m.status===404||m.status===401)))return{error:m}}return n!=="others"&&(await this._removeSession(),await pk(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){const o=g9(),l={id:o,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async o=>{var l,u;try{const{data:{session:h},error:f}=o;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,o={}){let l=null,u=null;if(this.flowType==="pkce"){const h=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,h),l=await Aa(h),u=h===l?"plain":"s256"}try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(Ve(h))return{data:null,error:h};throw h}}async _refreshAccessToken(n){const o=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await b9(async u=>(await k9(u*200),this._debug(o,"refreshing attempt",u),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:so})),(u,h,f)=>f&&f.error&&I2(f.error)&&Date.now()+(u+1)*200-l<El)}catch(l){if(this._debug(o,"error",l),Ve(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,o){const l=await this._getUrlForProvider(n,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",o,"url",l),Ar()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Bh(this.storage,this.storageKey);if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),h=((n=l.expires_at)!==null&&n!==void 0?n:1/0)<u+N2;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${N2}s`),h){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),I2(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var o,l;if(!n)throw new ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new sg;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new ya;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={session:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(u,"error",h),Ve(h)){const f={session:null,error:h};return(o=this.refreshingDeferred)===null||o===void 0||o.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,o,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:o});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,o)}catch(w){h.push(w)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),await this._persistSession(n)}_persistSession(n){return this._debug("#_persistSession()",n),ds(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await pk(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),El);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/El);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${El}ms, refresh threshold is ${B2} ticks`),u<=B2&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof R9)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const o=`#_onVisibilityChanged(${n})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const u=_a();await ds(this.storage,`${this.storageKey}-code-verifier`,u);const h=await Aa(u),f=u===h?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",h,"method",f);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(m.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return`${this.url}/authorize?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await qe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Ve(o))return{data:null,error:o};throw o}}async _enroll(n){try{return await this._useSession(async o=>{var l,u;const{data:h,error:f}=o;if(f)return{data:null,error:f};const{data:m,error:w}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(o){if(Ve(o))return{data:null,error:o};throw o}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:f,error:m}=await qe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await qe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(n){const{data:o,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:o.id,code:n.code})}async _listFactors(){const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=(n==null?void 0:n.factors)||[],u=l.filter(h=>h.factor_type==="totp"&&h.status==="verified");return{data:{all:l,totp:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var o,l;const{data:{session:u},error:h}=n;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(u.access_token);let m=null;f.aal&&(m=f.aal);let w=m;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(y=>y.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(w="aal2");const _=f.amr||[];return{data:{currentLevel:m,nextLevel:w,currentAuthenticationMethods:_},error:null}}))}}pd.nextInstanceID=0;class U9 extends pd{constructor(n){super(n)}}var H9=globalThis&&globalThis.__awaiter||function(i,n,o,l){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function m(_){try{v(l.next(_))}catch(y){f(y)}}function w(_){try{v(l.throw(_))}catch(y){f(y)}}function v(_){_.done?h(_.value):u(_.value).then(m,w)}v((l=l.apply(i,n||[])).next())})};const $9={headers:s9},W9={schema:"public"},q9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G9={};class Y9{constructor(n,o,l){var u,h,f,m,w,v,_,y;if(this.supabaseUrl=n,this.supabaseKey=o,!n)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const x=u9(n);this.realtimeUrl=`${x}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${x}/auth/v1`,this.storageUrl=`${x}/storage/v1`,this.functionsUrl=`${x}/functions/v1`;const S=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,N={db:W9,realtime:G9,auth:Object.assign(Object.assign({},q9),{storageKey:S}),global:$9},B=h9(l??{},N);this.storageKey=(h=(u=B.auth)===null||u===void 0?void 0:u.storageKey)!==null&&h!==void 0?h:"",this.headers=(m=(f=B.global)===null||f===void 0?void 0:f.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((w=B.auth)!==null&&w!==void 0?w:{},this.headers,(v=B.global)===null||v===void 0?void 0:v.fetch),this.fetch=d9(o,this._getAccessToken.bind(this),(_=B.global)===null||_===void 0?void 0:_.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},B.realtime)),this.rest=new $b(`${x}/rest/v1`,{headers:this.headers,schema:(y=B.db)===null||y===void 0?void 0:y.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new s8(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new r9(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,o={},l){return this.rest.rpc(n,o,l)}channel(n,o={config:{}}){return this.realtime.channel(n,o)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,o;return H9(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:h,flowType:f,debug:m},w,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U9({url:this.authUrl,headers:Object.assign(Object.assign({},_),w),storageKey:h,autoRefreshToken:n,persistSession:o,detectSessionInUrl:l,storage:u,flowType:f,debug:m,fetch:v})}_initRealtimeClient(n){return new q8(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,o,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K9=(i,n,o)=>new Y9(i,n,o),Z9="https://wfmzmjdkdoryaeunljkv.supabase.co",Q9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",Di=K9(Z9,Q9);function J9(){const[i,n]=te.useState(null);return te.useEffect(()=>{Di.auth.getSession().then(({data:{session:l}})=>{n(l)});const{data:{subscription:o}}=Di.auth.onAuthStateChange((l,u)=>{n(u)});return()=>o.unsubscribe()},[]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"main-content",children:[F.jsx(GR,{supabase:Di,session:i}),F.jsxs(jL,{children:[F.jsx(Si,{path:"/Book-Chronicles/",element:F.jsx(yR,{supabase:Di,session:i})}),F.jsx(Si,{path:"/Book-Chronicles/create",element:F.jsx(b2,{session:i,children:F.jsx(DR,{supabase:Di,session:i})})}),F.jsx(Si,{path:"/Book-Chronicles/post/:id",element:F.jsx(RR,{supabase:Di,session:i})}),F.jsx(Si,{path:"/Book-Chronicles/post/:id/edit",element:F.jsx(b2,{session:i,children:F.jsx(FR,{supabase:Di,session:i})})}),F.jsx(Si,{path:"/Book-Chronicles/users/:id",element:F.jsx($R,{supabase:Di,session:i})}),F.jsx(Si,{path:"/Book-Chronicles/getBookInfo",element:F.jsx(TR,{})}),F.jsx(Si,{path:"Book-Chronicles/userposts",element:F.jsx(HR,{supabase:Di})}),F.jsx(Si,{path:"Book-Chronicles/signup",element:F.jsx(VR,{supabase:Di})}),F.jsx(Si,{path:"Book-Chronicles/signin",element:F.jsx(UR,{supabase:Di})}),F.jsx(Si,{path:"*",element:F.jsx(CR,{})})]}),F.jsx(AR,{})]}),F.jsx(JR,{})]})}kk.createRoot(document.getElementById("root")).render(F.jsx(q2.StrictMode,{children:F.jsx($L,{children:F.jsx(J9,{})})}))});export default X9();
