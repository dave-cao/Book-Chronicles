var LU=(o,i)=>()=>(i||o((i={exports:{}}).exports,i),i.exports);var pQ=LU((Zt,Ct)=>{function L5(o,i){for(var a=0;a<i.length;a++){const l=i[a];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in o)){const f=Object.getOwnPropertyDescriptor(l,u);f&&Object.defineProperty(o,u,f.get?f:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function jU(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var a=function l(){return this instanceof l?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),a}var j5={exports:{}},nf={},R5={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),RU=Symbol.for("react.portal"),FU=Symbol.for("react.fragment"),VU=Symbol.for("react.strict_mode"),UU=Symbol.for("react.profiler"),HU=Symbol.for("react.provider"),$U=Symbol.for("react.context"),WU=Symbol.for("react.forward_ref"),qU=Symbol.for("react.suspense"),GU=Symbol.for("react.memo"),YU=Symbol.for("react.lazy"),x2=Symbol.iterator;function ZU(o){return o===null||typeof o!="object"?null:(o=x2&&o[x2]||o["@@iterator"],typeof o=="function"?o:null)}var F5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V5=Object.assign,U5={};function Aa(o,i,a){this.props=o,this.context=i,this.refs=U5,this.updater=a||F5}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};Aa.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function H5(){}H5.prototype=Aa.prototype;function q0(o,i,a){this.props=o,this.context=i,this.refs=U5,this.updater=a||F5}var G0=q0.prototype=new H5;G0.constructor=q0;V5(G0,Aa.prototype);G0.isPureReactComponent=!0;var E2=Array.isArray,$5=Object.prototype.hasOwnProperty,Y0={current:null},W5={key:!0,ref:!0,__self:!0,__source:!0};function q5(o,i,a){var l,u={},f=null,g=null;if(i!=null)for(l in i.ref!==void 0&&(g=i.ref),i.key!==void 0&&(f=""+i.key),i)$5.call(i,l)&&!W5.hasOwnProperty(l)&&(u[l]=i[l]);var m=arguments.length-2;if(m===1)u.children=a;else if(1<m){for(var k=Array(m),b=0;b<m;b++)k[b]=arguments[b+2];u.children=k}if(o&&o.defaultProps)for(l in m=o.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:Ll,type:o,key:f,ref:g,props:u,_owner:Y0.current}}function KU(o,i){return{$$typeof:Ll,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function Z0(o){return typeof o=="object"&&o!==null&&o.$$typeof===Ll}function QU(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return i[a]})}var D2=/\/+/g;function $k(o,i){return typeof o=="object"&&o!==null&&o.key!=null?QU(""+o.key):i.toString(36)}function ch(o,i,a,l,u){var f=typeof o;(f==="undefined"||f==="boolean")&&(o=null);var g=!1;if(o===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(o.$$typeof){case Ll:case RU:g=!0}}if(g)return g=o,u=u(g),o=l===""?"."+$k(g,0):l,E2(u)?(a="",o!=null&&(a=o.replace(D2,"$&/")+"/"),ch(u,i,a,"",function(b){return b})):u!=null&&(Z0(u)&&(u=KU(u,a+(!u.key||g&&g.key===u.key?"":(""+u.key).replace(D2,"$&/")+"/")+o)),i.push(u)),1;if(g=0,l=l===""?".":l+":",E2(o))for(var m=0;m<o.length;m++){f=o[m];var k=l+$k(f,m);g+=ch(f,i,a,k,u)}else if(k=ZU(o),typeof k=="function")for(o=k.call(o),m=0;!(f=o.next()).done;)f=f.value,k=l+$k(f,m++),g+=ch(f,i,a,k,u);else if(f==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return g}function Ou(o,i,a){if(o==null)return o;var l=[],u=0;return ch(o,l,"","",function(f){return i.call(a,f,u++)}),l}function JU(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var hn={current:null},lh={transition:null},XU={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:lh,ReactCurrentOwner:Y0};Ie.Children={map:Ou,forEach:function(o,i,a){Ou(o,function(){i.apply(this,arguments)},a)},count:function(o){var i=0;return Ou(o,function(){i++}),i},toArray:function(o){return Ou(o,function(i){return i})||[]},only:function(o){if(!Z0(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};Ie.Component=Aa;Ie.Fragment=FU;Ie.Profiler=UU;Ie.PureComponent=q0;Ie.StrictMode=VU;Ie.Suspense=qU;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XU;Ie.cloneElement=function(o,i,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var l=V5({},o.props),u=o.key,f=o.ref,g=o._owner;if(i!=null){if(i.ref!==void 0&&(f=i.ref,g=Y0.current),i.key!==void 0&&(u=""+i.key),o.type&&o.type.defaultProps)var m=o.type.defaultProps;for(k in i)$5.call(i,k)&&!W5.hasOwnProperty(k)&&(l[k]=i[k]===void 0&&m!==void 0?m[k]:i[k])}var k=arguments.length-2;if(k===1)l.children=a;else if(1<k){m=Array(k);for(var b=0;b<k;b++)m[b]=arguments[b+2];l.children=m}return{$$typeof:Ll,type:o.type,key:u,ref:f,props:l,_owner:g}};Ie.createContext=function(o){return o={$$typeof:$U,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:HU,_context:o},o.Consumer=o};Ie.createElement=q5;Ie.createFactory=function(o){var i=q5.bind(null,o);return i.type=o,i};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(o){return{$$typeof:WU,render:o}};Ie.isValidElement=Z0;Ie.lazy=function(o){return{$$typeof:YU,_payload:{_status:-1,_result:o},_init:JU}};Ie.memo=function(o,i){return{$$typeof:GU,type:o,compare:i===void 0?null:i}};Ie.startTransition=function(o){var i=lh.transition;lh.transition={};try{o()}finally{lh.transition=i}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(o,i){return hn.current.useCallback(o,i)};Ie.useContext=function(o){return hn.current.useContext(o)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(o){return hn.current.useDeferredValue(o)};Ie.useEffect=function(o,i){return hn.current.useEffect(o,i)};Ie.useId=function(){return hn.current.useId()};Ie.useImperativeHandle=function(o,i,a){return hn.current.useImperativeHandle(o,i,a)};Ie.useInsertionEffect=function(o,i){return hn.current.useInsertionEffect(o,i)};Ie.useLayoutEffect=function(o,i){return hn.current.useLayoutEffect(o,i)};Ie.useMemo=function(o,i){return hn.current.useMemo(o,i)};Ie.useReducer=function(o,i,a){return hn.current.useReducer(o,i,a)};Ie.useRef=function(o){return hn.current.useRef(o)};Ie.useState=function(o){return hn.current.useState(o)};Ie.useSyncExternalStore=function(o,i,a){return hn.current.useSyncExternalStore(o,i,a)};Ie.useTransition=function(){return hn.current.useTransition()};Ie.version="18.2.0";R5.exports=Ie;var se=R5.exports;const G5=W0(se),eH=L5({__proto__:null,default:G5},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH=se,nH=Symbol.for("react.element"),iH=Symbol.for("react.fragment"),rH=Object.prototype.hasOwnProperty,oH=tH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sH={key:!0,ref:!0,__self:!0,__source:!0};function Y5(o,i,a){var l,u={},f=null,g=null;a!==void 0&&(f=""+a),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(g=i.ref);for(l in i)rH.call(i,l)&&!sH.hasOwnProperty(l)&&(u[l]=i[l]);if(o&&o.defaultProps)for(l in i=o.defaultProps,i)u[l]===void 0&&(u[l]=i[l]);return{$$typeof:nH,type:o,key:f,ref:g,props:u,_owner:oH.current}}nf.Fragment=iH;nf.jsx=Y5;nf.jsxs=Y5;j5.exports=nf;var G=j5.exports,Nb={},Z5={exports:{}},Rn={},K5={exports:{}},Q5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(X,ee){var le=X.length;X.push(ee);e:for(;0<le;){var ke=le-1>>>1,Ce=X[ke];if(0<u(Ce,ee))X[ke]=ee,X[le]=Ce,le=ke;else break e}}function a(X){return X.length===0?null:X[0]}function l(X){if(X.length===0)return null;var ee=X[0],le=X.pop();if(le!==ee){X[0]=le;e:for(var ke=0,Ce=X.length,at=Ce>>>1;ke<at;){var Bt=2*(ke+1)-1,gt=X[Bt],Ve=Bt+1,Me=X[Ve];if(0>u(gt,le))Ve<Ce&&0>u(Me,gt)?(X[ke]=Me,X[Ve]=le,ke=Ve):(X[ke]=gt,X[Bt]=le,ke=Bt);else if(Ve<Ce&&0>u(Me,le))X[ke]=Me,X[Ve]=le,ke=Ve;else break e}}return ee}function u(X,ee){var le=X.sortIndex-ee.sortIndex;return le!==0?le:X.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();o.unstable_now=function(){return g.now()-m}}var k=[],b=[],A=1,v=null,y=3,x=!1,E=!1,T=!1,B=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(X){for(var ee=a(b);ee!==null;){if(ee.callback===null)l(b);else if(ee.startTime<=X)l(b),ee.sortIndex=ee.expirationTime,i(k,ee);else break;ee=a(b)}}function j(X){if(T=!1,P(X),!E)if(a(k)!==null)E=!0,M(q);else{var ee=a(b);ee!==null&&J(j,ee.startTime-X)}}function q(X,ee){E=!1,T&&(T=!1,I(Z),Z=-1),x=!0;var le=y;try{for(P(ee),v=a(k);v!==null&&(!(v.expirationTime>ee)||X&&!H());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,y=v.priorityLevel;var Ce=ke(v.expirationTime<=ee);ee=o.unstable_now(),typeof Ce=="function"?v.callback=Ce:v===a(k)&&l(k),P(ee)}else l(k);v=a(k)}if(v!==null)var at=!0;else{var Bt=a(b);Bt!==null&&J(j,Bt.startTime-ee),at=!1}return at}finally{v=null,y=le,x=!1}}var K=!1,Q=null,Z=-1,ae=5,ce=-1;function H(){return!(o.unstable_now()-ce<ae)}function $(){if(Q!==null){var X=o.unstable_now();ce=X;var ee=!0;try{ee=Q(!0,X)}finally{ee?V():(K=!1,Q=null)}}else K=!1}var V;if(typeof N=="function")V=function(){N($)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=$,V=function(){F.postMessage(null)}}else V=function(){B($,0)};function M(X){Q=X,K||(K=!0,V())}function J(X,ee){Z=B(function(){X(o.unstable_now())},ee)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(X){X.callback=null},o.unstable_continueExecution=function(){E||x||(E=!0,M(q))},o.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<X?Math.floor(1e3/X):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_getFirstCallbackNode=function(){return a(k)},o.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var le=y;y=ee;try{return X()}finally{y=le}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var le=y;y=X;try{return ee()}finally{y=le}},o.unstable_scheduleCallback=function(X,ee,le){var ke=o.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ke+le:ke):le=ke,X){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=le+Ce,X={id:A++,callback:ee,priorityLevel:X,startTime:le,expirationTime:Ce,sortIndex:-1},le>ke?(X.sortIndex=le,i(b,X),a(k)===null&&X===a(b)&&(T?(I(Z),Z=-1):T=!0,J(j,le-ke))):(X.sortIndex=Ce,i(k,X),E||x||(E=!0,M(q))),X},o.unstable_shouldYield=H,o.unstable_wrapCallback=function(X){var ee=y;return function(){var le=y;y=ee;try{return X.apply(this,arguments)}finally{y=le}}}})(Q5);K5.exports=Q5;var aH=K5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=se,jn=aH;function re(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X5=new Set,ml={};function ls(o,i){pa(o,i),pa(o+"Capture",i)}function pa(o,i){for(ml[o]=i,o=0;o<i.length;o++)X5.add(i[o])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ob=Object.prototype.hasOwnProperty,cH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S2={},T2={};function lH(o){return Ob.call(T2,o)?!0:Ob.call(S2,o)?!1:cH.test(o)?T2[o]=!0:(S2[o]=!0,!1)}function dH(o,i,a,l){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function uH(o,i,a,l){if(i===null||typeof i>"u"||dH(o,i,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function fn(o,i,a,l,u,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=o,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){Jt[o]=new fn(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];Jt[i]=new fn(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){Jt[o]=new fn(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){Jt[o]=new fn(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){Jt[o]=new fn(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){Jt[o]=new fn(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){Jt[o]=new fn(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){Jt[o]=new fn(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){Jt[o]=new fn(o,5,!1,o.toLowerCase(),null,!1,!1)});var K0=/[\-:]([a-z])/g;function Q0(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(K0,Q0);Jt[i]=new fn(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(K0,Q0);Jt[i]=new fn(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(K0,Q0);Jt[i]=new fn(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){Jt[o]=new fn(o,1,!1,o.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){Jt[o]=new fn(o,1,!1,o.toLowerCase(),null,!0,!0)});function J0(o,i,a,l){var u=Jt.hasOwnProperty(i)?Jt[i]:null;(u!==null?u.type!==0:l||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(uH(i,a,u,l)&&(a=null),l||u===null?lH(i)&&(a===null?o.removeAttribute(i):o.setAttribute(i,""+a)):u.mustUseProperty?o[u.propertyName]=a===null?u.type===3?!1:"":a:(i=u.attributeName,l=u.attributeNamespace,a===null?o.removeAttribute(i):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,l?o.setAttributeNS(l,i,a):o.setAttribute(i,a))))}var br=J5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Pb=Symbol.for("react.profiler"),eD=Symbol.for("react.provider"),tD=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),zb=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),nD=Symbol.for("react.offscreen"),I2=Symbol.iterator;function Lc(o){return o===null||typeof o!="object"?null:(o=I2&&o[I2]||o["@@iterator"],typeof o=="function"?o:null)}var wt=Object.assign,Wk;function Yc(o){if(Wk===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wk=i&&i[1]||""}return`
`+Wk+o}var qk=!1;function Gk(o,i){if(!o||qk)return"";qk=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(b){var l=b}Reflect.construct(o,[],i)}else{try{i.call()}catch(b){l=b}o.call(i.prototype)}else{try{throw Error()}catch(b){l=b}o()}}catch(b){if(b&&l&&typeof b.stack=="string"){for(var u=b.stack.split(`
`),f=l.stack.split(`
`),g=u.length-1,m=f.length-1;1<=g&&0<=m&&u[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(u[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||u[g]!==f[m]){var k=`
`+u[g].replace(" at new "," at ");return o.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",o.displayName)),k}while(1<=g&&0<=m);break}}}finally{qk=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Yc(o):""}function hH(o){switch(o.tag){case 5:return Yc(o.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return o=Gk(o.type,!1),o;case 11:return o=Gk(o.type.render,!1),o;case 1:return o=Gk(o.type,!0),o;default:return""}}function Lb(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ks:return"Fragment";case Zs:return"Portal";case Pb:return"Profiler";case X0:return"StrictMode";case Bb:return"Suspense";case zb:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case tD:return(o.displayName||"Context")+".Consumer";case eD:return(o._context.displayName||"Context")+".Provider";case ew:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case tw:return i=o.displayName||null,i!==null?i:Lb(o.type)||"Memo";case Fr:i=o._payload,o=o._init;try{return Lb(o(i))}catch{}}return null}function fH(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lb(i);case 8:return i===X0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function so(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function iD(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gH(o){var i=iD(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),l=""+o[i];if(!o.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(o,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Bu(o){o._valueTracker||(o._valueTracker=gH(o))}function rD(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return o&&(l=iD(o)?o.checked?"true":"false":o.value),o=l,o!==a?(i.setValue(o),!0):!1}function yh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function jb(o,i){var a=i.checked;return wt({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function M2(o,i){var a=i.defaultValue==null?"":i.defaultValue,l=i.checked!=null?i.checked:i.defaultChecked;a=so(i.value!=null?i.value:a),o._wrapperState={initialChecked:l,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function oD(o,i){i=i.checked,i!=null&&J0(o,"checked",i,!1)}function Rb(o,i){oD(o,i);var a=so(i.value),l=i.type;if(a!=null)l==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(l==="submit"||l==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?Fb(o,i.type,a):i.hasOwnProperty("defaultValue")&&Fb(o,i.type,so(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function N2(o,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var l=i.type;if(!(l!=="submit"&&l!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,a||i===o.value||(o.value=i),o.defaultValue=i}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function Fb(o,i,a){(i!=="number"||yh(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var Zc=Array.isArray;function ca(o,i,a,l){if(o=o.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<o.length;a++)u=i.hasOwnProperty("$"+o[a].value),o[a].selected!==u&&(o[a].selected=u),u&&l&&(o[a].defaultSelected=!0)}else{for(a=""+so(a),i=null,u=0;u<o.length;u++){if(o[u].value===a){o[u].selected=!0,l&&(o[u].defaultSelected=!0);return}i!==null||o[u].disabled||(i=o[u])}i!==null&&(i.selected=!0)}}function Vb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(re(91));return wt({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function O2(o,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(re(92));if(Zc(a)){if(1<a.length)throw Error(re(93));a=a[0]}i=a}i==null&&(i=""),a=i}o._wrapperState={initialValue:so(a)}}function sD(o,i){var a=so(i.value),l=so(i.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),i.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),l!=null&&(o.defaultValue=""+l)}function P2(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function aD(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?aD(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var zu,cD=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,l,u){MSApp.execUnsafeLocalFunction(function(){return o(i,a,l,u)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function kl(o,i){if(i){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=i;return}}o.textContent=i}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pH=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(o){pH.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),nl[i]=nl[o]})});function lD(o,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||nl.hasOwnProperty(o)&&nl[o]?(""+i).trim():i+"px"}function dD(o,i){o=o.style;for(var a in i)if(i.hasOwnProperty(a)){var l=a.indexOf("--")===0,u=lD(a,i[a],l);a==="float"&&(a="cssFloat"),l?o.setProperty(a,u):o[a]=u}}var mH=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hb(o,i){if(i){if(mH[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(re(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(re(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(re(61))}if(i.style!=null&&typeof i.style!="object")throw Error(re(62))}}function $b(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=null;function nw(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qb=null,la=null,da=null;function B2(o){if(o=Fl(o)){if(typeof qb!="function")throw Error(re(280));var i=o.stateNode;i&&(i=cf(i),qb(o.stateNode,o.type,i))}}function uD(o){la?da?da.push(o):da=[o]:la=o}function hD(){if(la){var o=la,i=da;if(da=la=null,B2(o),i)for(o=0;o<i.length;o++)B2(i[o])}}function fD(o,i){return o(i)}function gD(){}var Yk=!1;function pD(o,i,a){if(Yk)return o(i,a);Yk=!0;try{return fD(o,i,a)}finally{Yk=!1,(la!==null||da!==null)&&(gD(),hD())}}function bl(o,i){var a=o.stateNode;if(a===null)return null;var l=cf(a);if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(o=o.type,l=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!l;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(re(231,i,typeof a));return a}var Gb=!1;if(hr)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Gb=!1}function kH(o,i,a,l,u,f,g,m,k){var b=Array.prototype.slice.call(arguments,3);try{i.apply(a,b)}catch(A){this.onError(A)}}var il=!1,Ah=null,Ch=!1,Yb=null,bH={onError:function(o){il=!0,Ah=o}};function wH(o,i,a,l,u,f,g,m,k){il=!1,Ah=null,kH.apply(bH,arguments)}function vH(o,i,a,l,u,f,g,m,k){if(wH.apply(this,arguments),il){if(il){var b=Ah;il=!1,Ah=null}else throw Error(re(198));Ch||(Ch=!0,Yb=b)}}function ds(o){var i=o,a=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(a=i.return),o=i.return;while(o)}return i.tag===3?a:null}function mD(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function z2(o){if(ds(o)!==o)throw Error(re(188))}function _H(o){var i=o.alternate;if(!i){if(i=ds(o),i===null)throw Error(re(188));return i!==o?null:o}for(var a=o,l=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return z2(u),o;if(f===l)return z2(u),i;f=f.sibling}throw Error(re(188))}if(a.return!==l.return)a=u,l=f;else{for(var g=!1,m=u.child;m;){if(m===a){g=!0,a=u,l=f;break}if(m===l){g=!0,l=u,a=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===a){g=!0,a=f,l=u;break}if(m===l){g=!0,l=f,a=u;break}m=m.sibling}if(!g)throw Error(re(189))}}if(a.alternate!==l)throw Error(re(190))}if(a.tag!==3)throw Error(re(188));return a.stateNode.current===a?o:i}function kD(o){return o=_H(o),o!==null?bD(o):null}function bD(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=bD(o);if(i!==null)return i;o=o.sibling}return null}var wD=jn.unstable_scheduleCallback,L2=jn.unstable_cancelCallback,yH=jn.unstable_shouldYield,AH=jn.unstable_requestPaint,Dt=jn.unstable_now,CH=jn.unstable_getCurrentPriorityLevel,iw=jn.unstable_ImmediatePriority,vD=jn.unstable_UserBlockingPriority,xh=jn.unstable_NormalPriority,xH=jn.unstable_LowPriority,_D=jn.unstable_IdlePriority,rf=null,Vi=null;function EH(o){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(rf,o,void 0,(o.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:TH,DH=Math.log,SH=Math.LN2;function TH(o){return o>>>=0,o===0?32:31-(DH(o)/SH|0)|0}var Lu=64,ju=4194304;function Kc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Eh(o,i){var a=o.pendingLanes;if(a===0)return 0;var l=0,u=o.suspendedLanes,f=o.pingedLanes,g=a&268435455;if(g!==0){var m=g&~u;m!==0?l=Kc(m):(f&=g,f!==0&&(l=Kc(f)))}else g=a&~u,g!==0?l=Kc(g):f!==0&&(l=Kc(f));if(l===0)return 0;if(i!==0&&i!==l&&!(i&u)&&(u=l&-l,f=i&-i,u>=f||u===16&&(f&4194240)!==0))return i;if(l&4&&(l|=a&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=l;0<i;)a=31-wi(i),u=1<<a,l|=o[a],i&=~u;return l}function IH(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MH(o,i){for(var a=o.suspendedLanes,l=o.pingedLanes,u=o.expirationTimes,f=o.pendingLanes;0<f;){var g=31-wi(f),m=1<<g,k=u[g];k===-1?(!(m&a)||m&l)&&(u[g]=IH(m,i)):k<=i&&(o.expiredLanes|=m),f&=~m}}function Zb(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yD(){var o=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),o}function Zk(o){for(var i=[],a=0;31>a;a++)i.push(o);return i}function jl(o,i,a){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-wi(i),o[i]=a}function NH(o,i){var a=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var l=o.eventTimes;for(o=o.expirationTimes;0<a;){var u=31-wi(a),f=1<<u;i[u]=0,l[u]=-1,o[u]=-1,a&=~f}}function rw(o,i){var a=o.entangledLanes|=i;for(o=o.entanglements;a;){var l=31-wi(a),u=1<<l;u&i|o[l]&i&&(o[l]|=i),a&=~u}}var Ge=0;function AD(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var CD,ow,xD,ED,DD,Kb=!1,Ru=[],Qr=null,Jr=null,Xr=null,wl=new Map,vl=new Map,$r=[],OH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j2(o,i){switch(o){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function Rc(o,i,a,l,u,f){return o===null||o.nativeEvent!==f?(o={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Fl(i),i!==null&&ow(i)),o):(o.eventSystemFlags|=l,i=o.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),o)}function PH(o,i,a,l,u){switch(i){case"focusin":return Qr=Rc(Qr,o,i,a,l,u),!0;case"dragenter":return Jr=Rc(Jr,o,i,a,l,u),!0;case"mouseover":return Xr=Rc(Xr,o,i,a,l,u),!0;case"pointerover":var f=u.pointerId;return wl.set(f,Rc(wl.get(f)||null,o,i,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,vl.set(f,Rc(vl.get(f)||null,o,i,a,l,u)),!0}return!1}function SD(o){var i=Qo(o.target);if(i!==null){var a=ds(i);if(a!==null){if(i=a.tag,i===13){if(i=mD(a),i!==null){o.blockedOn=i,DD(o.priority,function(){xD(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dh(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var a=Qb(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var l=new a.constructor(a.type,a);Wb=l,a.target.dispatchEvent(l),Wb=null}else return i=Fl(a),i!==null&&ow(i),o.blockedOn=a,!1;i.shift()}return!0}function R2(o,i,a){dh(o)&&a.delete(i)}function BH(){Kb=!1,Qr!==null&&dh(Qr)&&(Qr=null),Jr!==null&&dh(Jr)&&(Jr=null),Xr!==null&&dh(Xr)&&(Xr=null),wl.forEach(R2),vl.forEach(R2)}function Fc(o,i){o.blockedOn===i&&(o.blockedOn=null,Kb||(Kb=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,BH)))}function _l(o){function i(u){return Fc(u,o)}if(0<Ru.length){Fc(Ru[0],o);for(var a=1;a<Ru.length;a++){var l=Ru[a];l.blockedOn===o&&(l.blockedOn=null)}}for(Qr!==null&&Fc(Qr,o),Jr!==null&&Fc(Jr,o),Xr!==null&&Fc(Xr,o),wl.forEach(i),vl.forEach(i),a=0;a<$r.length;a++)l=$r[a],l.blockedOn===o&&(l.blockedOn=null);for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)SD(a),a.blockedOn===null&&$r.shift()}var ua=br.ReactCurrentBatchConfig,Dh=!0;function zH(o,i,a,l){var u=Ge,f=ua.transition;ua.transition=null;try{Ge=1,sw(o,i,a,l)}finally{Ge=u,ua.transition=f}}function LH(o,i,a,l){var u=Ge,f=ua.transition;ua.transition=null;try{Ge=4,sw(o,i,a,l)}finally{Ge=u,ua.transition=f}}function sw(o,i,a,l){if(Dh){var u=Qb(o,i,a,l);if(u===null)ob(o,i,l,Sh,a),j2(o,l);else if(PH(u,o,i,a,l))l.stopPropagation();else if(j2(o,l),i&4&&-1<OH.indexOf(o)){for(;u!==null;){var f=Fl(u);if(f!==null&&CD(f),f=Qb(o,i,a,l),f===null&&ob(o,i,l,Sh,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else ob(o,i,l,null,a)}}var Sh=null;function Qb(o,i,a,l){if(Sh=null,o=nw(l),o=Qo(o),o!==null)if(i=ds(o),i===null)o=null;else if(a=i.tag,a===13){if(o=mD(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return Sh=o,null}function TD(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CH()){case iw:return 1;case vD:return 4;case xh:case xH:return 16;case _D:return 536870912;default:return 16}default:return 16}}var Yr=null,aw=null,uh=null;function ID(){if(uh)return uh;var o,i=aw,a=i.length,l,u="value"in Yr?Yr.value:Yr.textContent,f=u.length;for(o=0;o<a&&i[o]===u[o];o++);var g=a-o;for(l=1;l<=g&&i[a-l]===u[f-l];l++);return uh=u.slice(o,1<l?1-l:void 0)}function hh(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function Fu(){return!0}function F2(){return!1}function Fn(o){function i(a,l,u,f,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in o)o.hasOwnProperty(m)&&(a=o[m],this[m]=a?a(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fu:F2,this.isPropagationStopped=F2,this}return wt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),i}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cw=Fn(Ca),Rl=wt({},Ca,{view:0,detail:0}),jH=Fn(Rl),Kk,Qk,Vc,of=wt({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lw,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Vc&&(Vc&&o.type==="mousemove"?(Kk=o.screenX-Vc.screenX,Qk=o.screenY-Vc.screenY):Qk=Kk=0,Vc=o),Kk)},movementY:function(o){return"movementY"in o?o.movementY:Qk}}),V2=Fn(of),RH=wt({},of,{dataTransfer:0}),FH=Fn(RH),VH=wt({},Rl,{relatedTarget:0}),Jk=Fn(VH),UH=wt({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),HH=Fn(UH),$H=wt({},Ca,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),WH=Fn($H),qH=wt({},Ca,{data:0}),U2=Fn(qH),GH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KH(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=ZH[o])?!!i[o]:!1}function lw(){return KH}var QH=wt({},Rl,{key:function(o){if(o.key){var i=GH[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=hh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?YH[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lw,charCode:function(o){return o.type==="keypress"?hh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),JH=Fn(QH),XH=wt({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H2=Fn(XH),e$=wt({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lw}),t$=Fn(e$),n$=wt({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),i$=Fn(n$),r$=wt({},of,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),o$=Fn(r$),s$=[9,13,27,32],dw=hr&&"CompositionEvent"in window,rl=null;hr&&"documentMode"in document&&(rl=document.documentMode);var a$=hr&&"TextEvent"in window&&!rl,MD=hr&&(!dw||rl&&8<rl&&11>=rl),$2=String.fromCharCode(32),W2=!1;function ND(o,i){switch(o){case"keyup":return s$.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OD(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qs=!1;function c$(o,i){switch(o){case"compositionend":return OD(i);case"keypress":return i.which!==32?null:(W2=!0,$2);case"textInput":return o=i.data,o===$2&&W2?null:o;default:return null}}function l$(o,i){if(Qs)return o==="compositionend"||!dw&&ND(o,i)?(o=ID(),uh=aw=Yr=null,Qs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return MD&&i.locale!=="ko"?null:i.data;default:return null}}var d$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q2(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!d$[o.type]:i==="textarea"}function PD(o,i,a,l){uD(l),i=Th(i,"onChange"),0<i.length&&(a=new cw("onChange","change",null,a,l),o.push({event:a,listeners:i}))}var ol=null,yl=null;function u$(o){WD(o,0)}function sf(o){var i=ea(o);if(rD(i))return o}function h$(o,i){if(o==="change")return i}var BD=!1;if(hr){var Xk;if(hr){var eb="oninput"in document;if(!eb){var G2=document.createElement("div");G2.setAttribute("oninput","return;"),eb=typeof G2.oninput=="function"}Xk=eb}else Xk=!1;BD=Xk&&(!document.documentMode||9<document.documentMode)}function Y2(){ol&&(ol.detachEvent("onpropertychange",zD),yl=ol=null)}function zD(o){if(o.propertyName==="value"&&sf(yl)){var i=[];PD(i,yl,o,nw(o)),pD(u$,i)}}function f$(o,i,a){o==="focusin"?(Y2(),ol=i,yl=a,ol.attachEvent("onpropertychange",zD)):o==="focusout"&&Y2()}function g$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sf(yl)}function p$(o,i){if(o==="click")return sf(i)}function m$(o,i){if(o==="input"||o==="change")return sf(i)}function k$(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var _i=typeof Object.is=="function"?Object.is:k$;function Al(o,i){if(_i(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var a=Object.keys(o),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Ob.call(i,u)||!_i(o[u],i[u]))return!1}return!0}function Z2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function K2(o,i){var a=Z2(o);o=0;for(var l;a;){if(a.nodeType===3){if(l=o+a.textContent.length,o<=i&&l>=i)return{node:a,offset:i-o};o=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Z2(a)}}function LD(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?LD(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function jD(){for(var o=window,i=yh();i instanceof o.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)o=i.contentWindow;else break;i=yh(o.document)}return i}function uw(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function b$(o){var i=jD(),a=o.focusedElem,l=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&LD(a.ownerDocument.documentElement,a)){if(l!==null&&uw(a)){if(i=l.start,o=l.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var u=a.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!o.extend&&f>l&&(u=l,l=f,f=u),u=K2(a,f);var g=K2(a,l);u&&g&&(o.rangeCount!==1||o.anchorNode!==u.node||o.anchorOffset!==u.offset||o.focusNode!==g.node||o.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(u.node,u.offset),o.removeAllRanges(),f>l?(o.addRange(i),o.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var w$=hr&&"documentMode"in document&&11>=document.documentMode,Js=null,Jb=null,sl=null,Xb=!1;function Q2(o,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xb||Js==null||Js!==yh(l)||(l=Js,"selectionStart"in l&&uw(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&Al(sl,l)||(sl=l,l=Th(Jb,"onSelect"),0<l.length&&(i=new cw("onSelect","select",null,i,a),o.push({event:i,listeners:l}),i.target=Js)))}function Vu(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit"+o]="webkit"+i,a["Moz"+o]="moz"+i,a}var Xs={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},tb={},RD={};hr&&(RD=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function af(o){if(tb[o])return tb[o];if(!Xs[o])return o;var i=Xs[o],a;for(a in i)if(i.hasOwnProperty(a)&&a in RD)return tb[o]=i[a];return o}var FD=af("animationend"),VD=af("animationiteration"),UD=af("animationstart"),HD=af("transitionend"),$D=new Map,J2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(o,i){$D.set(o,i),ls(i,[o])}for(var nb=0;nb<J2.length;nb++){var ib=J2[nb],v$=ib.toLowerCase(),_$=ib[0].toUpperCase()+ib.slice(1);co(v$,"on"+_$)}co(FD,"onAnimationEnd");co(VD,"onAnimationIteration");co(UD,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(HD,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function X2(o,i,a){var l=o.type||"unknown-event";o.currentTarget=a,vH(l,i,void 0,o),o.currentTarget=null}function WD(o,i){i=(i&4)!==0;for(var a=0;a<o.length;a++){var l=o[a],u=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var g=l.length-1;0<=g;g--){var m=l[g],k=m.instance,b=m.currentTarget;if(m=m.listener,k!==f&&u.isPropagationStopped())break e;X2(u,m,b),f=k}else for(g=0;g<l.length;g++){if(m=l[g],k=m.instance,b=m.currentTarget,m=m.listener,k!==f&&u.isPropagationStopped())break e;X2(u,m,b),f=k}}}if(Ch)throw o=Yb,Ch=!1,Yb=null,o}function dt(o,i){var a=i[r0];a===void 0&&(a=i[r0]=new Set);var l=o+"__bubble";a.has(l)||(qD(i,o,2,!1),a.add(l))}function rb(o,i,a){var l=0;i&&(l|=4),qD(a,o,l,i)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Cl(o){if(!o[Uu]){o[Uu]=!0,X5.forEach(function(a){a!=="selectionchange"&&(y$.has(a)||rb(a,!1,o),rb(a,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[Uu]||(i[Uu]=!0,rb("selectionchange",!1,i))}}function qD(o,i,a,l){switch(TD(i)){case 1:var u=zH;break;case 4:u=LH;break;default:u=sw}a=u.bind(null,i,a,o),u=void 0,!Gb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),l?u!==void 0?o.addEventListener(i,a,{capture:!0,passive:u}):o.addEventListener(i,a,!0):u!==void 0?o.addEventListener(i,a,{passive:u}):o.addEventListener(i,a,!1)}function ob(o,i,a,l,u){var f=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var m=l.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===u||k.nodeType===8&&k.parentNode===u))return;g=g.return}for(;m!==null;){if(g=Qo(m),g===null)return;if(k=g.tag,k===5||k===6){l=f=g;continue e}m=m.parentNode}}l=l.return}pD(function(){var b=f,A=nw(a),v=[];e:{var y=$D.get(o);if(y!==void 0){var x=cw,E=o;switch(o){case"keypress":if(hh(a)===0)break e;case"keydown":case"keyup":x=JH;break;case"focusin":E="focus",x=Jk;break;case"focusout":E="blur",x=Jk;break;case"beforeblur":case"afterblur":x=Jk;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=V2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=FH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=t$;break;case FD:case VD:case UD:x=HH;break;case HD:x=i$;break;case"scroll":x=jH;break;case"wheel":x=o$;break;case"copy":case"cut":case"paste":x=WH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=H2}var T=(i&4)!==0,B=!T&&o==="scroll",I=T?y!==null?y+"Capture":null:y;T=[];for(var N=b,P;N!==null;){P=N;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,I!==null&&(j=bl(N,I),j!=null&&T.push(xl(N,j,P)))),B)break;N=N.return}0<T.length&&(y=new x(y,E,null,a,A),v.push({event:y,listeners:T}))}}if(!(i&7)){e:{if(y=o==="mouseover"||o==="pointerover",x=o==="mouseout"||o==="pointerout",y&&a!==Wb&&(E=a.relatedTarget||a.fromElement)&&(Qo(E)||E[fr]))break e;if((x||y)&&(y=A.window===A?A:(y=A.ownerDocument)?y.defaultView||y.parentWindow:window,x?(E=a.relatedTarget||a.toElement,x=b,E=E?Qo(E):null,E!==null&&(B=ds(E),E!==B||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=b),x!==E)){if(T=V2,j="onMouseLeave",I="onMouseEnter",N="mouse",(o==="pointerout"||o==="pointerover")&&(T=H2,j="onPointerLeave",I="onPointerEnter",N="pointer"),B=x==null?y:ea(x),P=E==null?y:ea(E),y=new T(j,N+"leave",x,a,A),y.target=B,y.relatedTarget=P,j=null,Qo(A)===b&&(T=new T(I,N+"enter",E,a,A),T.target=P,T.relatedTarget=B,j=T),B=j,x&&E)t:{for(T=x,I=E,N=0,P=T;P;P=Vs(P))N++;for(P=0,j=I;j;j=Vs(j))P++;for(;0<N-P;)T=Vs(T),N--;for(;0<P-N;)I=Vs(I),P--;for(;N--;){if(T===I||I!==null&&T===I.alternate)break t;T=Vs(T),I=Vs(I)}T=null}else T=null;x!==null&&eE(v,y,x,T,!1),E!==null&&B!==null&&eE(v,B,E,T,!0)}}e:{if(y=b?ea(b):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var q=h$;else if(q2(y))if(BD)q=m$;else{q=g$;var K=f$}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(q=p$);if(q&&(q=q(o,b))){PD(v,q,a,A);break e}K&&K(o,y,b),o==="focusout"&&(K=y._wrapperState)&&K.controlled&&y.type==="number"&&Fb(y,"number",y.value)}switch(K=b?ea(b):window,o){case"focusin":(q2(K)||K.contentEditable==="true")&&(Js=K,Jb=b,sl=null);break;case"focusout":sl=Jb=Js=null;break;case"mousedown":Xb=!0;break;case"contextmenu":case"mouseup":case"dragend":Xb=!1,Q2(v,a,A);break;case"selectionchange":if(w$)break;case"keydown":case"keyup":Q2(v,a,A)}var Q;if(dw)e:{switch(o){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Qs?ND(o,a)&&(Z="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(MD&&a.locale!=="ko"&&(Qs||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Qs&&(Q=ID()):(Yr=A,aw="value"in Yr?Yr.value:Yr.textContent,Qs=!0)),K=Th(b,Z),0<K.length&&(Z=new U2(Z,o,null,a,A),v.push({event:Z,listeners:K}),Q?Z.data=Q:(Q=OD(a),Q!==null&&(Z.data=Q)))),(Q=a$?c$(o,a):l$(o,a))&&(b=Th(b,"onBeforeInput"),0<b.length&&(A=new U2("onBeforeInput","beforeinput",null,a,A),v.push({event:A,listeners:b}),A.data=Q))}WD(v,i)})}function xl(o,i,a){return{instance:o,listener:i,currentTarget:a}}function Th(o,i){for(var a=i+"Capture",l=[];o!==null;){var u=o,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=bl(o,a),f!=null&&l.unshift(xl(o,f,u)),f=bl(o,i),f!=null&&l.push(xl(o,f,u))),o=o.return}return l}function Vs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function eE(o,i,a,l,u){for(var f=i._reactName,g=[];a!==null&&a!==l;){var m=a,k=m.alternate,b=m.stateNode;if(k!==null&&k===l)break;m.tag===5&&b!==null&&(m=b,u?(k=bl(a,f),k!=null&&g.unshift(xl(a,k,m))):u||(k=bl(a,f),k!=null&&g.push(xl(a,k,m)))),a=a.return}g.length!==0&&o.push({event:i,listeners:g})}var A$=/\r\n?/g,C$=/\u0000|\uFFFD/g;function tE(o){return(typeof o=="string"?o:""+o).replace(A$,`
`).replace(C$,"")}function Hu(o,i,a){if(i=tE(i),tE(o)!==i&&a)throw Error(re(425))}function Ih(){}var e0=null,t0=null;function n0(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,x$=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,E$=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(o){return nE.resolve(null).then(o).catch(D$)}:i0;function D$(o){setTimeout(function(){throw o})}function sb(o,i){var a=i,l=0;do{var u=a.nextSibling;if(o.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){o.removeChild(u),_l(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);_l(i)}function eo(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function iE(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return o;i--}else a==="/$"&&i++}o=o.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Ri="__reactFiber$"+xa,El="__reactProps$"+xa,fr="__reactContainer$"+xa,r0="__reactEvents$"+xa,S$="__reactListeners$"+xa,T$="__reactHandles$"+xa;function Qo(o){var i=o[Ri];if(i)return i;for(var a=o.parentNode;a;){if(i=a[fr]||a[Ri]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(o=iE(o);o!==null;){if(a=o[Ri])return a;o=iE(o)}return i}o=a,a=o.parentNode}return null}function Fl(o){return o=o[Ri]||o[fr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ea(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(re(33))}function cf(o){return o[El]||null}var o0=[],ta=-1;function lo(o){return{current:o}}function ht(o){0>ta||(o.current=o0[ta],o0[ta]=null,ta--)}function st(o,i){ta++,o0[ta]=o.current,o.current=i}var ao={},an=lo(ao),_n=lo(!1),rs=ao;function ma(o,i){var a=o.type.contextTypes;if(!a)return ao;var l=o.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===i)return l.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in a)u[f]=i[f];return l&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=u),u}function yn(o){return o=o.childContextTypes,o!=null}function Mh(){ht(_n),ht(an)}function rE(o,i,a){if(an.current!==ao)throw Error(re(168));st(an,i),st(_n,a)}function GD(o,i,a){var l=o.stateNode;if(i=i.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var u in l)if(!(u in i))throw Error(re(108,fH(o)||"Unknown",u));return wt({},a,l)}function Nh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ao,rs=an.current,st(an,o),st(_n,_n.current),!0}function oE(o,i,a){var l=o.stateNode;if(!l)throw Error(re(169));a?(o=GD(o,i,rs),l.__reactInternalMemoizedMergedChildContext=o,ht(_n),ht(an),st(an,o)):ht(_n),st(_n,a)}var ar=null,lf=!1,ab=!1;function YD(o){ar===null?ar=[o]:ar.push(o)}function I$(o){lf=!0,YD(o)}function uo(){if(!ab&&ar!==null){ab=!0;var o=0,i=Ge;try{var a=ar;for(Ge=1;o<a.length;o++){var l=a[o];do l=l(!0);while(l!==null)}ar=null,lf=!1}catch(u){throw ar!==null&&(ar=ar.slice(o+1)),wD(iw,uo),u}finally{Ge=i,ab=!1}}return null}var na=[],ia=0,Oh=null,Ph=0,Kn=[],Qn=0,os=null,cr=1,lr="";function $o(o,i){na[ia++]=Ph,na[ia++]=Oh,Oh=o,Ph=i}function ZD(o,i,a){Kn[Qn++]=cr,Kn[Qn++]=lr,Kn[Qn++]=os,os=o;var l=cr;o=lr;var u=32-wi(l)-1;l&=~(1<<u),a+=1;var f=32-wi(i)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,cr=1<<32-wi(i)+u|a<<u|l,lr=f+o}else cr=1<<f|a<<u|l,lr=o}function hw(o){o.return!==null&&($o(o,1),ZD(o,1,0))}function fw(o){for(;o===Oh;)Oh=na[--ia],na[ia]=null,Ph=na[--ia],na[ia]=null;for(;o===os;)os=Kn[--Qn],Kn[Qn]=null,lr=Kn[--Qn],Kn[Qn]=null,cr=Kn[--Qn],Kn[Qn]=null}var zn=null,Bn=null,ft=!1,ki=null;function KD(o,i){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=o,i=o.deletions,i===null?(o.deletions=[a],o.flags|=16):i.push(a)}function sE(o,i){switch(o.tag){case 5:var a=o.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,zn=o,Bn=eo(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,zn=o,Bn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=os!==null?{id:cr,overflow:lr}:null,o.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=i,a.return=o,o.child=a,zn=o,Bn=null,!0):!1;default:return!1}}function s0(o){return(o.mode&1)!==0&&(o.flags&128)===0}function a0(o){if(ft){var i=Bn;if(i){var a=i;if(!sE(o,i)){if(s0(o))throw Error(re(418));i=eo(a.nextSibling);var l=zn;i&&sE(o,i)?KD(l,a):(o.flags=o.flags&-4097|2,ft=!1,zn=o)}}else{if(s0(o))throw Error(re(418));o.flags=o.flags&-4097|2,ft=!1,zn=o}}}function aE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;zn=o}function $u(o){if(o!==zn)return!1;if(!ft)return aE(o),ft=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!n0(o.type,o.memoizedProps)),i&&(i=Bn)){if(s0(o))throw QD(),Error(re(418));for(;i;)KD(o,i),i=eo(i.nextSibling)}if(aE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(i===0){Bn=eo(o.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}o=o.nextSibling}Bn=null}}else Bn=zn?eo(o.stateNode.nextSibling):null;return!0}function QD(){for(var o=Bn;o;)o=eo(o.nextSibling)}function ka(){Bn=zn=null,ft=!1}function gw(o){ki===null?ki=[o]:ki.push(o)}var M$=br.ReactCurrentBatchConfig;function gi(o,i){if(o&&o.defaultProps){i=wt({},i),o=o.defaultProps;for(var a in o)i[a]===void 0&&(i[a]=o[a]);return i}return i}var Bh=lo(null),zh=null,ra=null,pw=null;function mw(){pw=ra=zh=null}function kw(o){var i=Bh.current;ht(Bh),o._currentValue=i}function c0(o,i,a){for(;o!==null;){var l=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),o===a)break;o=o.return}}function ha(o,i){zh=o,pw=ra=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(vn=!0),o.firstContext=null)}function ni(o){var i=o._currentValue;if(pw!==o)if(o={context:o,memoizedValue:i,next:null},ra===null){if(zh===null)throw Error(re(308));ra=o,zh.dependencies={lanes:0,firstContext:o}}else ra=ra.next=o;return i}var Jo=null;function bw(o){Jo===null?Jo=[o]:Jo.push(o)}function JD(o,i,a,l){var u=i.interleaved;return u===null?(a.next=a,bw(i)):(a.next=u.next,u.next=a),i.interleaved=a,gr(o,l)}function gr(o,i){o.lanes|=i;var a=o.alternate;for(a!==null&&(a.lanes|=i),a=o,o=o.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),a=o,o=o.return;return a.tag===3?a.stateNode:null}var Vr=!1;function ww(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XD(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ur(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function to(o,i,a){var l=o.updateQueue;if(l===null)return null;if(l=l.shared,je&2){var u=l.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i,gr(o,a)}return u=l.interleaved,u===null?(i.next=i,bw(l)):(i.next=u.next,u.next=i),l.interleaved=i,gr(o,a)}function fh(o,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var l=i.lanes;l&=o.pendingLanes,a|=l,i.lanes=a,rw(o,a)}}function cE(o,i){var a=o.updateQueue,l=o.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,effects:l.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=i:o.next=i,a.lastBaseUpdate=i}function Lh(o,i,a,l){var u=o.updateQueue;Vr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var k=m,b=k.next;k.next=null,g===null?f=b:g.next=b,g=k;var A=o.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==g&&(m===null?A.firstBaseUpdate=b:m.next=b,A.lastBaseUpdate=k))}if(f!==null){var v=u.baseState;g=0,A=b=k=null,m=f;do{var y=m.lane,x=m.eventTime;if((l&y)===y){A!==null&&(A=A.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var E=o,T=m;switch(y=i,x=a,T.tag){case 1:if(E=T.payload,typeof E=="function"){v=E.call(x,v,y);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,y=typeof E=="function"?E.call(x,v,y):E,y==null)break e;v=wt({},v,y);break e;case 2:Vr=!0}}m.callback!==null&&m.lane!==0&&(o.flags|=64,y=u.effects,y===null?u.effects=[m]:y.push(m))}else x={eventTime:x,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(b=A=x,k=v):A=A.next=x,g|=y;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;y=m,m=y.next,y.next=null,u.lastBaseUpdate=y,u.shared.pending=null}}while(1);if(A===null&&(k=v),u.baseState=k,u.firstBaseUpdate=b,u.lastBaseUpdate=A,i=u.shared.interleaved,i!==null){u=i;do g|=u.lane,u=u.next;while(u!==i)}else f===null&&(u.shared.lanes=0);as|=g,o.lanes=g,o.memoizedState=v}}function lE(o,i,a){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var l=o[i],u=l.callback;if(u!==null){if(l.callback=null,l=a,typeof u!="function")throw Error(re(191,u));u.call(l)}}}var eS=new J5.Component().refs;function l0(o,i,a,l){i=o.memoizedState,a=a(l,i),a=a==null?i:wt({},i,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var df={isMounted:function(o){return(o=o._reactInternals)?ds(o)===o:!1},enqueueSetState:function(o,i,a){o=o._reactInternals;var l=un(),u=io(o),f=ur(l,u);f.payload=i,a!=null&&(f.callback=a),i=to(o,f,u),i!==null&&(vi(i,o,u,l),fh(i,o,u))},enqueueReplaceState:function(o,i,a){o=o._reactInternals;var l=un(),u=io(o),f=ur(l,u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=to(o,f,u),i!==null&&(vi(i,o,u,l),fh(i,o,u))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var a=un(),l=io(o),u=ur(a,l);u.tag=2,i!=null&&(u.callback=i),i=to(o,u,l),i!==null&&(vi(i,o,l,a),fh(i,o,l))}};function dE(o,i,a,l,u,f,g){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(l,f,g):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(u,f):!0}function tS(o,i,a){var l=!1,u=ao,f=i.contextType;return typeof f=="object"&&f!==null?f=ni(f):(u=yn(i)?rs:an.current,l=i.contextTypes,f=(l=l!=null)?ma(o,u):ao),i=new i(a,f),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=df,o.stateNode=i,i._reactInternals=o,l&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=f),i}function uE(o,i,a,l){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==o&&df.enqueueReplaceState(i,i.state,null)}function d0(o,i,a,l){var u=o.stateNode;u.props=a,u.state=o.memoizedState,u.refs=eS,ww(o);var f=i.contextType;typeof f=="object"&&f!==null?u.context=ni(f):(f=yn(i)?rs:an.current,u.context=ma(o,f)),u.state=o.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(l0(o,i,f,a),u.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(i=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),i!==u.state&&df.enqueueReplaceState(u,u.state,null),Lh(o,a,u,l),u.state=o.memoizedState),typeof u.componentDidMount=="function"&&(o.flags|=4194308)}function Uc(o,i,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(re(309));var l=a.stateNode}if(!l)throw Error(re(147,o));var u=l,f=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var m=u.refs;m===eS&&(m=u.refs={}),g===null?delete m[f]:m[f]=g},i._stringRef=f,i)}if(typeof o!="string")throw Error(re(284));if(!a._owner)throw Error(re(290,o))}return o}function Wu(o,i){throw o=Object.prototype.toString.call(i),Error(re(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function hE(o){var i=o._init;return i(o._payload)}function nS(o){function i(I,N){if(o){var P=I.deletions;P===null?(I.deletions=[N],I.flags|=16):P.push(N)}}function a(I,N){if(!o)return null;for(;N!==null;)i(I,N),N=N.sibling;return null}function l(I,N){for(I=new Map;N!==null;)N.key!==null?I.set(N.key,N):I.set(N.index,N),N=N.sibling;return I}function u(I,N){return I=ro(I,N),I.index=0,I.sibling=null,I}function f(I,N,P){return I.index=P,o?(P=I.alternate,P!==null?(P=P.index,P<N?(I.flags|=2,N):P):(I.flags|=2,N)):(I.flags|=1048576,N)}function g(I){return o&&I.alternate===null&&(I.flags|=2),I}function m(I,N,P,j){return N===null||N.tag!==6?(N=gb(P,I.mode,j),N.return=I,N):(N=u(N,P),N.return=I,N)}function k(I,N,P,j){var q=P.type;return q===Ks?A(I,N,P.props.children,j,P.key):N!==null&&(N.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Fr&&hE(q)===N.type)?(j=u(N,P.props),j.ref=Uc(I,N,P),j.return=I,j):(j=wh(P.type,P.key,P.props,null,I.mode,j),j.ref=Uc(I,N,P),j.return=I,j)}function b(I,N,P,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=pb(P,I.mode,j),N.return=I,N):(N=u(N,P.children||[]),N.return=I,N)}function A(I,N,P,j,q){return N===null||N.tag!==7?(N=ns(P,I.mode,j,q),N.return=I,N):(N=u(N,P),N.return=I,N)}function v(I,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return N=gb(""+N,I.mode,P),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Pu:return P=wh(N.type,N.key,N.props,null,I.mode,P),P.ref=Uc(I,null,N),P.return=I,P;case Zs:return N=pb(N,I.mode,P),N.return=I,N;case Fr:var j=N._init;return v(I,j(N._payload),P)}if(Zc(N)||Lc(N))return N=ns(N,I.mode,P,null),N.return=I,N;Wu(I,N)}return null}function y(I,N,P,j){var q=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return q!==null?null:m(I,N,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Pu:return P.key===q?k(I,N,P,j):null;case Zs:return P.key===q?b(I,N,P,j):null;case Fr:return q=P._init,y(I,N,q(P._payload),j)}if(Zc(P)||Lc(P))return q!==null?null:A(I,N,P,j,null);Wu(I,P)}return null}function x(I,N,P,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return I=I.get(P)||null,m(N,I,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pu:return I=I.get(j.key===null?P:j.key)||null,k(N,I,j,q);case Zs:return I=I.get(j.key===null?P:j.key)||null,b(N,I,j,q);case Fr:var K=j._init;return x(I,N,P,K(j._payload),q)}if(Zc(j)||Lc(j))return I=I.get(P)||null,A(N,I,j,q,null);Wu(N,j)}return null}function E(I,N,P,j){for(var q=null,K=null,Q=N,Z=N=0,ae=null;Q!==null&&Z<P.length;Z++){Q.index>Z?(ae=Q,Q=null):ae=Q.sibling;var ce=y(I,Q,P[Z],j);if(ce===null){Q===null&&(Q=ae);break}o&&Q&&ce.alternate===null&&i(I,Q),N=f(ce,N,Z),K===null?q=ce:K.sibling=ce,K=ce,Q=ae}if(Z===P.length)return a(I,Q),ft&&$o(I,Z),q;if(Q===null){for(;Z<P.length;Z++)Q=v(I,P[Z],j),Q!==null&&(N=f(Q,N,Z),K===null?q=Q:K.sibling=Q,K=Q);return ft&&$o(I,Z),q}for(Q=l(I,Q);Z<P.length;Z++)ae=x(Q,I,Z,P[Z],j),ae!==null&&(o&&ae.alternate!==null&&Q.delete(ae.key===null?Z:ae.key),N=f(ae,N,Z),K===null?q=ae:K.sibling=ae,K=ae);return o&&Q.forEach(function(H){return i(I,H)}),ft&&$o(I,Z),q}function T(I,N,P,j){var q=Lc(P);if(typeof q!="function")throw Error(re(150));if(P=q.call(P),P==null)throw Error(re(151));for(var K=q=null,Q=N,Z=N=0,ae=null,ce=P.next();Q!==null&&!ce.done;Z++,ce=P.next()){Q.index>Z?(ae=Q,Q=null):ae=Q.sibling;var H=y(I,Q,ce.value,j);if(H===null){Q===null&&(Q=ae);break}o&&Q&&H.alternate===null&&i(I,Q),N=f(H,N,Z),K===null?q=H:K.sibling=H,K=H,Q=ae}if(ce.done)return a(I,Q),ft&&$o(I,Z),q;if(Q===null){for(;!ce.done;Z++,ce=P.next())ce=v(I,ce.value,j),ce!==null&&(N=f(ce,N,Z),K===null?q=ce:K.sibling=ce,K=ce);return ft&&$o(I,Z),q}for(Q=l(I,Q);!ce.done;Z++,ce=P.next())ce=x(Q,I,Z,ce.value,j),ce!==null&&(o&&ce.alternate!==null&&Q.delete(ce.key===null?Z:ce.key),N=f(ce,N,Z),K===null?q=ce:K.sibling=ce,K=ce);return o&&Q.forEach(function($){return i(I,$)}),ft&&$o(I,Z),q}function B(I,N,P,j){if(typeof P=="object"&&P!==null&&P.type===Ks&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Pu:e:{for(var q=P.key,K=N;K!==null;){if(K.key===q){if(q=P.type,q===Ks){if(K.tag===7){a(I,K.sibling),N=u(K,P.props.children),N.return=I,I=N;break e}}else if(K.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Fr&&hE(q)===K.type){a(I,K.sibling),N=u(K,P.props),N.ref=Uc(I,K,P),N.return=I,I=N;break e}a(I,K);break}else i(I,K);K=K.sibling}P.type===Ks?(N=ns(P.props.children,I.mode,j,P.key),N.return=I,I=N):(j=wh(P.type,P.key,P.props,null,I.mode,j),j.ref=Uc(I,N,P),j.return=I,I=j)}return g(I);case Zs:e:{for(K=P.key;N!==null;){if(N.key===K)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(I,N.sibling),N=u(N,P.children||[]),N.return=I,I=N;break e}else{a(I,N);break}else i(I,N);N=N.sibling}N=pb(P,I.mode,j),N.return=I,I=N}return g(I);case Fr:return K=P._init,B(I,N,K(P._payload),j)}if(Zc(P))return E(I,N,P,j);if(Lc(P))return T(I,N,P,j);Wu(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,N!==null&&N.tag===6?(a(I,N.sibling),N=u(N,P),N.return=I,I=N):(a(I,N),N=gb(P,I.mode,j),N.return=I,I=N),g(I)):a(I,N)}return B}var ba=nS(!0),iS=nS(!1),Vl={},Ui=lo(Vl),Dl=lo(Vl),Sl=lo(Vl);function Xo(o){if(o===Vl)throw Error(re(174));return o}function vw(o,i){switch(st(Sl,i),st(Dl,o),st(Ui,Vl),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ub(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=Ub(i,o)}ht(Ui),st(Ui,i)}function wa(){ht(Ui),ht(Dl),ht(Sl)}function rS(o){Xo(Sl.current);var i=Xo(Ui.current),a=Ub(i,o.type);i!==a&&(st(Dl,o),st(Ui,a))}function _w(o){Dl.current===o&&(ht(Ui),ht(Dl))}var kt=lo(0);function jh(o){for(var i=o;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cb=[];function yw(){for(var o=0;o<cb.length;o++)cb[o]._workInProgressVersionPrimary=null;cb.length=0}var gh=br.ReactCurrentDispatcher,lb=br.ReactCurrentBatchConfig,ss=0,bt=null,Lt=null,Wt=null,Rh=!1,al=!1,Tl=0,N$=0;function tn(){throw Error(re(321))}function Aw(o,i){if(i===null)return!1;for(var a=0;a<i.length&&a<o.length;a++)if(!_i(o[a],i[a]))return!1;return!0}function Cw(o,i,a,l,u,f){if(ss=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,gh.current=o===null||o.memoizedState===null?z$:L$,o=a(l,u),al){f=0;do{if(al=!1,Tl=0,25<=f)throw Error(re(301));f+=1,Wt=Lt=null,i.updateQueue=null,gh.current=j$,o=a(l,u)}while(al)}if(gh.current=Fh,i=Lt!==null&&Lt.next!==null,ss=0,Wt=Lt=bt=null,Rh=!1,i)throw Error(re(300));return o}function xw(){var o=Tl!==0;return Tl=0,o}function ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o,Wt}function ii(){if(Lt===null){var o=bt.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var i=Wt===null?bt.memoizedState:Wt.next;if(i!==null)Wt=i,Lt=o;else{if(o===null)throw Error(re(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o}return Wt}function Il(o,i){return typeof i=="function"?i(o):i}function db(o){var i=ii(),a=i.queue;if(a===null)throw Error(re(311));a.lastRenderedReducer=o;var l=Lt,u=l.baseQueue,f=a.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}l.baseQueue=u=f,a.pending=null}if(u!==null){f=u.next,l=l.baseState;var m=g=null,k=null,b=f;do{var A=b.lane;if((ss&A)===A)k!==null&&(k=k.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),l=b.hasEagerState?b.eagerState:o(l,b.action);else{var v={lane:A,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};k===null?(m=k=v,g=l):k=k.next=v,bt.lanes|=A,as|=A}b=b.next}while(b!==null&&b!==f);k===null?g=l:k.next=m,_i(l,i.memoizedState)||(vn=!0),i.memoizedState=l,i.baseState=g,i.baseQueue=k,a.lastRenderedState=l}if(o=a.interleaved,o!==null){u=o;do f=u.lane,bt.lanes|=f,as|=f,u=u.next;while(u!==o)}else u===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function ub(o){var i=ii(),a=i.queue;if(a===null)throw Error(re(311));a.lastRenderedReducer=o;var l=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=o(f,g.action),g=g.next;while(g!==u);_i(f,i.memoizedState)||(vn=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function oS(){}function sS(o,i){var a=bt,l=ii(),u=i(),f=!_i(l.memoizedState,u);if(f&&(l.memoizedState=u,vn=!0),l=l.queue,Ew(lS.bind(null,a,l,o),[o]),l.getSnapshot!==i||f||Wt!==null&&Wt.memoizedState.tag&1){if(a.flags|=2048,Ml(9,cS.bind(null,a,l,u,i),void 0,null),qt===null)throw Error(re(349));ss&30||aS(a,i,u)}return u}function aS(o,i,a){o.flags|=16384,o={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.stores=[o]):(a=i.stores,a===null?i.stores=[o]:a.push(o))}function cS(o,i,a,l){i.value=a,i.getSnapshot=l,dS(i)&&uS(o)}function lS(o,i,a){return a(function(){dS(i)&&uS(o)})}function dS(o){var i=o.getSnapshot;o=o.value;try{var a=i();return!_i(o,a)}catch{return!0}}function uS(o){var i=gr(o,1);i!==null&&vi(i,o,1,-1)}function fE(o){var i=ji();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:o},i.queue=o,o=o.dispatch=B$.bind(null,bt,o),[i.memoizedState,o]}function Ml(o,i,a,l){return o={tag:o,create:i,destroy:a,deps:l,next:null},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.lastEffect=o.next=o):(a=i.lastEffect,a===null?i.lastEffect=o.next=o:(l=a.next,a.next=o,o.next=l,i.lastEffect=o)),o}function hS(){return ii().memoizedState}function ph(o,i,a,l){var u=ji();bt.flags|=o,u.memoizedState=Ml(1|i,a,void 0,l===void 0?null:l)}function uf(o,i,a,l){var u=ii();l=l===void 0?null:l;var f=void 0;if(Lt!==null){var g=Lt.memoizedState;if(f=g.destroy,l!==null&&Aw(l,g.deps)){u.memoizedState=Ml(i,a,f,l);return}}bt.flags|=o,u.memoizedState=Ml(1|i,a,f,l)}function gE(o,i){return ph(8390656,8,o,i)}function Ew(o,i){return uf(2048,8,o,i)}function fS(o,i){return uf(4,2,o,i)}function gS(o,i){return uf(4,4,o,i)}function pS(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function mS(o,i,a){return a=a!=null?a.concat([o]):null,uf(4,4,pS.bind(null,i,o),a)}function Dw(){}function kS(o,i){var a=ii();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&Aw(i,l[1])?l[0]:(a.memoizedState=[o,i],o)}function bS(o,i){var a=ii();i=i===void 0?null:i;var l=a.memoizedState;return l!==null&&i!==null&&Aw(i,l[1])?l[0]:(o=o(),a.memoizedState=[o,i],o)}function wS(o,i,a){return ss&21?(_i(a,i)||(a=yD(),bt.lanes|=a,as|=a,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=a)}function O$(o,i){var a=Ge;Ge=a!==0&&4>a?a:4,o(!0);var l=lb.transition;lb.transition={};try{o(!1),i()}finally{Ge=a,lb.transition=l}}function vS(){return ii().memoizedState}function P$(o,i,a){var l=io(o);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},_S(o))yS(i,a);else if(a=JD(o,i,a,l),a!==null){var u=un();vi(a,o,l,u),AS(a,i,l)}}function B$(o,i,a){var l=io(o),u={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(_S(o))yS(i,u);else{var f=o.alternate;if(o.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,m=f(g,a);if(u.hasEagerState=!0,u.eagerState=m,_i(m,g)){var k=i.interleaved;k===null?(u.next=u,bw(i)):(u.next=k.next,k.next=u),i.interleaved=u;return}}catch{}finally{}a=JD(o,i,u,l),a!==null&&(u=un(),vi(a,o,l,u),AS(a,i,l))}}function _S(o){var i=o.alternate;return o===bt||i!==null&&i===bt}function yS(o,i){al=Rh=!0;var a=o.pending;a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i}function AS(o,i,a){if(a&4194240){var l=i.lanes;l&=o.pendingLanes,a|=l,i.lanes=a,rw(o,a)}}var Fh={readContext:ni,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},z$={readContext:ni,useCallback:function(o,i){return ji().memoizedState=[o,i===void 0?null:i],o},useContext:ni,useEffect:gE,useImperativeHandle:function(o,i,a){return a=a!=null?a.concat([o]):null,ph(4194308,4,pS.bind(null,i,o),a)},useLayoutEffect:function(o,i){return ph(4194308,4,o,i)},useInsertionEffect:function(o,i){return ph(4,2,o,i)},useMemo:function(o,i){var a=ji();return i=i===void 0?null:i,o=o(),a.memoizedState=[o,i],o},useReducer:function(o,i,a){var l=ji();return i=a!==void 0?a(i):i,l.memoizedState=l.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},l.queue=o,o=o.dispatch=P$.bind(null,bt,o),[l.memoizedState,o]},useRef:function(o){var i=ji();return o={current:o},i.memoizedState=o},useState:fE,useDebugValue:Dw,useDeferredValue:function(o){return ji().memoizedState=o},useTransition:function(){var o=fE(!1),i=o[0];return o=O$.bind(null,o[1]),ji().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,a){var l=bt,u=ji();if(ft){if(a===void 0)throw Error(re(407));a=a()}else{if(a=i(),qt===null)throw Error(re(349));ss&30||aS(l,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,gE(lS.bind(null,l,f,o),[o]),l.flags|=2048,Ml(9,cS.bind(null,l,f,a,i),void 0,null),a},useId:function(){var o=ji(),i=qt.identifierPrefix;if(ft){var a=lr,l=cr;a=(l&~(1<<32-wi(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Tl++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=N$++,i=":"+i+"r"+a.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},L$={readContext:ni,useCallback:kS,useContext:ni,useEffect:Ew,useImperativeHandle:mS,useInsertionEffect:fS,useLayoutEffect:gS,useMemo:bS,useReducer:db,useRef:hS,useState:function(){return db(Il)},useDebugValue:Dw,useDeferredValue:function(o){var i=ii();return wS(i,Lt.memoizedState,o)},useTransition:function(){var o=db(Il)[0],i=ii().memoizedState;return[o,i]},useMutableSource:oS,useSyncExternalStore:sS,useId:vS,unstable_isNewReconciler:!1},j$={readContext:ni,useCallback:kS,useContext:ni,useEffect:Ew,useImperativeHandle:mS,useInsertionEffect:fS,useLayoutEffect:gS,useMemo:bS,useReducer:ub,useRef:hS,useState:function(){return ub(Il)},useDebugValue:Dw,useDeferredValue:function(o){var i=ii();return Lt===null?i.memoizedState=o:wS(i,Lt.memoizedState,o)},useTransition:function(){var o=ub(Il)[0],i=ii().memoizedState;return[o,i]},useMutableSource:oS,useSyncExternalStore:sS,useId:vS,unstable_isNewReconciler:!1};function va(o,i){try{var a="",l=i;do a+=hH(l),l=l.return;while(l);var u=a}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:o,source:i,stack:u,digest:null}}function hb(o,i,a){return{value:o,source:null,stack:a??null,digest:i??null}}function u0(o,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var R$=typeof WeakMap=="function"?WeakMap:Map;function CS(o,i,a){a=ur(-1,a),a.tag=3,a.payload={element:null};var l=i.value;return a.callback=function(){Uh||(Uh=!0,_0=l),u0(o,i)},a}function xS(o,i,a){a=ur(-1,a),a.tag=3;var l=o.type.getDerivedStateFromError;if(typeof l=="function"){var u=i.value;a.payload=function(){return l(u)},a.callback=function(){u0(o,i)}}var f=o.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){u0(o,i),typeof l!="function"&&(no===null?no=new Set([this]):no.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),a}function pE(o,i,a){var l=o.pingCache;if(l===null){l=o.pingCache=new R$;var u=new Set;l.set(i,u)}else u=l.get(i),u===void 0&&(u=new Set,l.set(i,u));u.has(a)||(u.add(a),o=X$.bind(null,o,i,a),i.then(o,o))}function mE(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function kE(o,i,a,l,u){return o.mode&1?(o.flags|=65536,o.lanes=u,o):(o===i?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ur(-1,1),i.tag=2,to(a,i,1))),a.lanes|=1),o)}var F$=br.ReactCurrentOwner,vn=!1;function ln(o,i,a,l){i.child=o===null?iS(i,null,a,l):ba(i,o.child,a,l)}function bE(o,i,a,l,u){a=a.render;var f=i.ref;return ha(i,u),l=Cw(o,i,a,l,f,u),a=xw(),o!==null&&!vn?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~u,pr(o,i,u)):(ft&&a&&hw(i),i.flags|=1,ln(o,i,l,u),i.child)}function wE(o,i,a,l,u){if(o===null){var f=a.type;return typeof f=="function"&&!Bw(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,ES(o,i,f,l,u)):(o=wh(a.type,null,l,i,i.mode,u),o.ref=i.ref,o.return=i,i.child=o)}if(f=o.child,!(o.lanes&u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(g,l)&&o.ref===i.ref)return pr(o,i,u)}return i.flags|=1,o=ro(f,l),o.ref=i.ref,o.return=i,i.child=o}function ES(o,i,a,l,u){if(o!==null){var f=o.memoizedProps;if(Al(f,l)&&o.ref===i.ref)if(vn=!1,i.pendingProps=l=f,(o.lanes&u)!==0)o.flags&131072&&(vn=!0);else return i.lanes=o.lanes,pr(o,i,u)}return h0(o,i,a,l,u)}function DS(o,i,a){var l=i.pendingProps,u=l.children,f=o!==null?o.memoizedState:null;if(l.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(sa,On),On|=a;else{if(!(a&1073741824))return o=f!==null?f.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,st(sa,On),On|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:a,st(sa,On),On|=l}else f!==null?(l=f.baseLanes|a,i.memoizedState=null):l=a,st(sa,On),On|=l;return ln(o,i,u,a),i.child}function SS(o,i){var a=i.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function h0(o,i,a,l,u){var f=yn(a)?rs:an.current;return f=ma(i,f),ha(i,u),a=Cw(o,i,a,l,f,u),l=xw(),o!==null&&!vn?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~u,pr(o,i,u)):(ft&&l&&hw(i),i.flags|=1,ln(o,i,a,u),i.child)}function vE(o,i,a,l,u){if(yn(a)){var f=!0;Nh(i)}else f=!1;if(ha(i,u),i.stateNode===null)mh(o,i),tS(i,a,l),d0(i,a,l,u),l=!0;else if(o===null){var g=i.stateNode,m=i.memoizedProps;g.props=m;var k=g.context,b=a.contextType;typeof b=="object"&&b!==null?b=ni(b):(b=yn(a)?rs:an.current,b=ma(i,b));var A=a.getDerivedStateFromProps,v=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function";v||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==l||k!==b)&&uE(i,g,l,b),Vr=!1;var y=i.memoizedState;g.state=y,Lh(i,l,g,u),k=i.memoizedState,m!==l||y!==k||_n.current||Vr?(typeof A=="function"&&(l0(i,a,A,l),k=i.memoizedState),(m=Vr||dE(i,a,m,l,y,k,b))?(v||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),g.props=l,g.state=k,g.context=b,l=m):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{g=i.stateNode,XD(o,i),m=i.memoizedProps,b=i.type===i.elementType?m:gi(i.type,m),g.props=b,v=i.pendingProps,y=g.context,k=a.contextType,typeof k=="object"&&k!==null?k=ni(k):(k=yn(a)?rs:an.current,k=ma(i,k));var x=a.getDerivedStateFromProps;(A=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==v||y!==k)&&uE(i,g,l,k),Vr=!1,y=i.memoizedState,g.state=y,Lh(i,l,g,u);var E=i.memoizedState;m!==v||y!==E||_n.current||Vr?(typeof x=="function"&&(l0(i,a,x,l),E=i.memoizedState),(b=Vr||dE(i,a,b,l,y,E,k)||!1)?(A||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,E,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,E,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=E),g.props=l,g.state=E,g.context=k,l=b):(typeof g.componentDidUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===o.memoizedProps&&y===o.memoizedState||(i.flags|=1024),l=!1)}return f0(o,i,a,l,f,u)}function f0(o,i,a,l,u,f){SS(o,i);var g=(i.flags&128)!==0;if(!l&&!g)return u&&oE(i,a,!1),pr(o,i,f);l=i.stateNode,F$.current=i;var m=g&&typeof a.getDerivedStateFromError!="function"?null:l.render();return i.flags|=1,o!==null&&g?(i.child=ba(i,o.child,null,f),i.child=ba(i,null,m,f)):ln(o,i,m,f),i.memoizedState=l.state,u&&oE(i,a,!0),i.child}function TS(o){var i=o.stateNode;i.pendingContext?rE(o,i.pendingContext,i.pendingContext!==i.context):i.context&&rE(o,i.context,!1),vw(o,i.containerInfo)}function _E(o,i,a,l,u){return ka(),gw(u),i.flags|=256,ln(o,i,a,l),i.child}var g0={dehydrated:null,treeContext:null,retryLane:0};function p0(o){return{baseLanes:o,cachePool:null,transitions:null}}function IS(o,i,a){var l=i.pendingProps,u=kt.current,f=!1,g=(i.flags&128)!==0,m;if((m=g)||(m=o!==null&&o.memoizedState===null?!1:(u&2)!==0),m?(f=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(u|=1),st(kt,u&1),o===null)return a0(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=l.children,o=l.fallback,f?(l=i.mode,f=i.child,g={mode:"hidden",children:g},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=gf(g,l,0,null),o=ns(o,l,a,null),f.return=i,o.return=i,f.sibling=o,i.child=f,i.child.memoizedState=p0(a),i.memoizedState=g0,o):Sw(i,g));if(u=o.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return V$(o,i,g,l,m,u,a);if(f){f=l.fallback,g=i.mode,u=o.child,m=u.sibling;var k={mode:"hidden",children:l.children};return!(g&1)&&i.child!==u?(l=i.child,l.childLanes=0,l.pendingProps=k,i.deletions=null):(l=ro(u,k),l.subtreeFlags=u.subtreeFlags&14680064),m!==null?f=ro(m,f):(f=ns(f,g,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,g=o.child.memoizedState,g=g===null?p0(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=o.childLanes&~a,i.memoizedState=g0,l}return f=o.child,o=f.sibling,l=ro(f,{mode:"visible",children:l.children}),!(i.mode&1)&&(l.lanes=a),l.return=i,l.sibling=null,o!==null&&(a=i.deletions,a===null?(i.deletions=[o],i.flags|=16):a.push(o)),i.child=l,i.memoizedState=null,l}function Sw(o,i){return i=gf({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function qu(o,i,a,l){return l!==null&&gw(l),ba(i,o.child,null,a),o=Sw(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function V$(o,i,a,l,u,f,g){if(a)return i.flags&256?(i.flags&=-257,l=hb(Error(re(422))),qu(o,i,g,l)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(f=l.fallback,u=i.mode,l=gf({mode:"visible",children:l.children},u,0,null),f=ns(f,u,g,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,i.mode&1&&ba(i,o.child,null,g),i.child.memoizedState=p0(g),i.memoizedState=g0,f);if(!(i.mode&1))return qu(o,i,g,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var m=l.dgst;return l=m,f=Error(re(419)),l=hb(f,l,void 0),qu(o,i,g,l)}if(m=(g&o.childLanes)!==0,vn||m){if(l=qt,l!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,gr(o,u),vi(l,o,u,-1))}return Pw(),l=hb(Error(re(421))),qu(o,i,g,l)}return u.data==="$?"?(i.flags|=128,i.child=o.child,i=eW.bind(null,o),u._reactRetry=i,null):(o=f.treeContext,Bn=eo(u.nextSibling),zn=i,ft=!0,ki=null,o!==null&&(Kn[Qn++]=cr,Kn[Qn++]=lr,Kn[Qn++]=os,cr=o.id,lr=o.overflow,os=i),i=Sw(i,l.children),i.flags|=4096,i)}function yE(o,i,a){o.lanes|=i;var l=o.alternate;l!==null&&(l.lanes|=i),c0(o.return,i,a)}function fb(o,i,a,l,u){var f=o.memoizedState;f===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function MS(o,i,a){var l=i.pendingProps,u=l.revealOrder,f=l.tail;if(ln(o,i,l.children,a),l=kt.current,l&2)l=l&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yE(o,a,i);else if(o.tag===19)yE(o,a,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}l&=1}if(st(kt,l),!(i.mode&1))i.memoizedState=null;else switch(u){case"forwards":for(a=i.child,u=null;a!==null;)o=a.alternate,o!==null&&jh(o)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),fb(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(o=u.alternate,o!==null&&jh(o)===null){i.child=u;break}o=u.sibling,u.sibling=a,a=u,u=o}fb(i,!0,a,null,f);break;case"together":fb(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mh(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function pr(o,i,a){if(o!==null&&(i.dependencies=o.dependencies),as|=i.lanes,!(a&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(re(153));if(i.child!==null){for(o=i.child,a=ro(o,o.pendingProps),i.child=a,a.return=i;o.sibling!==null;)o=o.sibling,a=a.sibling=ro(o,o.pendingProps),a.return=i;a.sibling=null}return i.child}function U$(o,i,a){switch(i.tag){case 3:TS(i),ka();break;case 5:rS(i);break;case 1:yn(i.type)&&Nh(i);break;case 4:vw(i,i.stateNode.containerInfo);break;case 10:var l=i.type._context,u=i.memoizedProps.value;st(Bh,l._currentValue),l._currentValue=u;break;case 13:if(l=i.memoizedState,l!==null)return l.dehydrated!==null?(st(kt,kt.current&1),i.flags|=128,null):a&i.child.childLanes?IS(o,i,a):(st(kt,kt.current&1),o=pr(o,i,a),o!==null?o.sibling:null);st(kt,kt.current&1);break;case 19:if(l=(a&i.childLanes)!==0,o.flags&128){if(l)return MS(o,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),st(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,DS(o,i,a)}return pr(o,i,a)}var NS,m0,OS,PS;NS=function(o,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};m0=function(){};OS=function(o,i,a,l){var u=o.memoizedProps;if(u!==l){o=i.stateNode,Xo(Ui.current);var f=null;switch(a){case"input":u=jb(o,u),l=jb(o,l),f=[];break;case"select":u=wt({},u,{value:void 0}),l=wt({},l,{value:void 0}),f=[];break;case"textarea":u=Vb(o,u),l=Vb(o,l),f=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(o.onclick=Ih)}Hb(a,l);var g;a=null;for(b in u)if(!l.hasOwnProperty(b)&&u.hasOwnProperty(b)&&u[b]!=null)if(b==="style"){var m=u[b];for(g in m)m.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ml.hasOwnProperty(b)?f||(f=[]):(f=f||[]).push(b,null));for(b in l){var k=l[b];if(m=u!=null?u[b]:void 0,l.hasOwnProperty(b)&&k!==m&&(k!=null||m!=null))if(b==="style")if(m){for(g in m)!m.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in k)k.hasOwnProperty(g)&&m[g]!==k[g]&&(a||(a={}),a[g]=k[g])}else a||(f||(f=[]),f.push(b,a)),a=k;else b==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,m=m?m.__html:void 0,k!=null&&m!==k&&(f=f||[]).push(b,k)):b==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(b,""+k):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ml.hasOwnProperty(b)?(k!=null&&b==="onScroll"&&dt("scroll",o),f||m===k||(f=[])):(f=f||[]).push(b,k))}a&&(f=f||[]).push("style",a);var b=f;(i.updateQueue=b)&&(i.flags|=4)}};PS=function(o,i,a,l){a!==l&&(i.flags|=4)};function Hc(o,i){if(!ft)switch(o.tailMode){case"hidden":i=o.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:l.sibling=null}}function nn(o){var i=o.alternate!==null&&o.alternate.child===o.child,a=0,l=0;if(i)for(var u=o.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=o,u=u.sibling;else for(u=o.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=o,u=u.sibling;return o.subtreeFlags|=l,o.childLanes=a,i}function H$(o,i,a){var l=i.pendingProps;switch(fw(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(i),null;case 1:return yn(i.type)&&Mh(),nn(i),null;case 3:return l=i.stateNode,wa(),ht(_n),ht(an),yw(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&($u(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,ki!==null&&(C0(ki),ki=null))),m0(o,i),nn(i),null;case 5:_w(i);var u=Xo(Sl.current);if(a=i.type,o!==null&&i.stateNode!=null)OS(o,i,a,l,u),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!l){if(i.stateNode===null)throw Error(re(166));return nn(i),null}if(o=Xo(Ui.current),$u(i)){l=i.stateNode,a=i.type;var f=i.memoizedProps;switch(l[Ri]=i,l[El]=f,o=(i.mode&1)!==0,a){case"dialog":dt("cancel",l),dt("close",l);break;case"iframe":case"object":case"embed":dt("load",l);break;case"video":case"audio":for(u=0;u<Qc.length;u++)dt(Qc[u],l);break;case"source":dt("error",l);break;case"img":case"image":case"link":dt("error",l),dt("load",l);break;case"details":dt("toggle",l);break;case"input":M2(l,f),dt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},dt("invalid",l);break;case"textarea":O2(l,f),dt("invalid",l)}Hb(a,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?l.textContent!==m&&(f.suppressHydrationWarning!==!0&&Hu(l.textContent,m,o),u=["children",m]):typeof m=="number"&&l.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&Hu(l.textContent,m,o),u=["children",""+m]):ml.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&dt("scroll",l)}switch(a){case"input":Bu(l),N2(l,f,!0);break;case"textarea":Bu(l),P2(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ih)}l=u,i.updateQueue=l,l!==null&&(i.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=aD(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof l.is=="string"?o=g.createElement(a,{is:l.is}):(o=g.createElement(a),a==="select"&&(g=o,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):o=g.createElementNS(o,a),o[Ri]=i,o[El]=l,NS(o,i,!1,!1),i.stateNode=o;e:{switch(g=$b(a,l),a){case"dialog":dt("cancel",o),dt("close",o),u=l;break;case"iframe":case"object":case"embed":dt("load",o),u=l;break;case"video":case"audio":for(u=0;u<Qc.length;u++)dt(Qc[u],o);u=l;break;case"source":dt("error",o),u=l;break;case"img":case"image":case"link":dt("error",o),dt("load",o),u=l;break;case"details":dt("toggle",o),u=l;break;case"input":M2(o,l),u=jb(o,l),dt("invalid",o);break;case"option":u=l;break;case"select":o._wrapperState={wasMultiple:!!l.multiple},u=wt({},l,{value:void 0}),dt("invalid",o);break;case"textarea":O2(o,l),u=Vb(o,l),dt("invalid",o);break;default:u=l}Hb(a,u),m=u;for(f in m)if(m.hasOwnProperty(f)){var k=m[f];f==="style"?dD(o,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&cD(o,k)):f==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&kl(o,k):typeof k=="number"&&kl(o,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ml.hasOwnProperty(f)?k!=null&&f==="onScroll"&&dt("scroll",o):k!=null&&J0(o,f,k,g))}switch(a){case"input":Bu(o),N2(o,l,!1);break;case"textarea":Bu(o),P2(o);break;case"option":l.value!=null&&o.setAttribute("value",""+so(l.value));break;case"select":o.multiple=!!l.multiple,f=l.value,f!=null?ca(o,!!l.multiple,f,!1):l.defaultValue!=null&&ca(o,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(o.onclick=Ih)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return nn(i),null;case 6:if(o&&i.stateNode!=null)PS(o,i,o.memoizedProps,l);else{if(typeof l!="string"&&i.stateNode===null)throw Error(re(166));if(a=Xo(Sl.current),Xo(Ui.current),$u(i)){if(l=i.stateNode,a=i.memoizedProps,l[Ri]=i,(f=l.nodeValue!==a)&&(o=zn,o!==null))switch(o.tag){case 3:Hu(l.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Hu(l.nodeValue,a,(o.mode&1)!==0)}f&&(i.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Ri]=i,i.stateNode=l}return nn(i),null;case 13:if(ht(kt),l=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&i.mode&1&&!(i.flags&128))QD(),ka(),i.flags|=98560,f=!1;else if(f=$u(i),l!==null&&l.dehydrated!==null){if(o===null){if(!f)throw Error(re(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(re(317));f[Ri]=i}else ka(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;nn(i),f=!1}else ki!==null&&(C0(ki),ki=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(l=l!==null,l!==(o!==null&&o.memoizedState!==null)&&l&&(i.child.flags|=8192,i.mode&1&&(o===null||kt.current&1?jt===0&&(jt=3):Pw())),i.updateQueue!==null&&(i.flags|=4),nn(i),null);case 4:return wa(),m0(o,i),o===null&&Cl(i.stateNode.containerInfo),nn(i),null;case 10:return kw(i.type._context),nn(i),null;case 17:return yn(i.type)&&Mh(),nn(i),null;case 19:if(ht(kt),f=i.memoizedState,f===null)return nn(i),null;if(l=(i.flags&128)!==0,g=f.rendering,g===null)if(l)Hc(f,!1);else{if(jt!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(g=jh(o),g!==null){for(i.flags|=128,Hc(f,!1),l=g.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),i.subtreeFlags=0,l=a,a=i.child;a!==null;)f=a,o=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=o,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,o=g.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return st(kt,kt.current&1|2),i.child}o=o.sibling}f.tail!==null&&Dt()>_a&&(i.flags|=128,l=!0,Hc(f,!1),i.lanes=4194304)}else{if(!l)if(o=jh(g),o!==null){if(i.flags|=128,l=!0,a=o.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Hc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ft)return nn(i),null}else 2*Dt()-f.renderingStartTime>_a&&a!==1073741824&&(i.flags|=128,l=!0,Hc(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(a=f.last,a!==null?a.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Dt(),i.sibling=null,a=kt.current,st(kt,l?a&1|2:a&1),i):(nn(i),null);case 22:case 23:return Ow(),l=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==l&&(i.flags|=8192),l&&i.mode&1?On&1073741824&&(nn(i),i.subtreeFlags&6&&(i.flags|=8192)):nn(i),null;case 24:return null;case 25:return null}throw Error(re(156,i.tag))}function $$(o,i){switch(fw(i),i.tag){case 1:return yn(i.type)&&Mh(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return wa(),ht(_n),ht(an),yw(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return _w(i),null;case 13:if(ht(kt),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(re(340));ka()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return ht(kt),null;case 4:return wa(),null;case 10:return kw(i.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var Gu=!1,on=!1,W$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function oa(o,i){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){xt(o,i,l)}else a.current=null}function k0(o,i,a){try{a()}catch(l){xt(o,i,l)}}var AE=!1;function q$(o,i){if(e0=Dh,o=jD(),uw(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,m=-1,k=-1,b=0,A=0,v=o,y=null;t:for(;;){for(var x;v!==a||u!==0&&v.nodeType!==3||(m=g+u),v!==f||l!==0&&v.nodeType!==3||(k=g+l),v.nodeType===3&&(g+=v.nodeValue.length),(x=v.firstChild)!==null;)y=v,v=x;for(;;){if(v===o)break t;if(y===a&&++b===u&&(m=g),y===f&&++A===l&&(k=g),(x=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=x}a=m===-1||k===-1?null:{start:m,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(t0={focusedElem:o,selectionRange:a},Dh=!1,fe=i;fe!==null;)if(i=fe,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,fe=o;else for(;fe!==null;){i=fe;try{var E=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,B=E.memoizedState,I=i.stateNode,N=I.getSnapshotBeforeUpdate(i.elementType===i.type?T:gi(i.type,T),B);I.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){xt(i,i.return,j)}if(o=i.sibling,o!==null){o.return=i.return,fe=o;break}fe=i.return}return E=AE,AE=!1,E}function cl(o,i,a){var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&o)===o){var f=u.destroy;u.destroy=void 0,f!==void 0&&k0(i,a,f)}u=u.next}while(u!==l)}}function hf(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&o)===o){var l=a.create;a.destroy=l()}a=a.next}while(a!==i)}}function b0(o){var i=o.ref;if(i!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof i=="function"?i(o):i.current=o}}function BS(o){var i=o.alternate;i!==null&&(o.alternate=null,BS(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Ri],delete i[El],delete i[r0],delete i[S$],delete i[T$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function zS(o){return o.tag===5||o.tag===3||o.tag===4}function CE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function w0(o,i,a){var l=o.tag;if(l===5||l===6)o=o.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(o,i):a.insertBefore(o,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(o,a)):(i=a,i.appendChild(o)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ih));else if(l!==4&&(o=o.child,o!==null))for(w0(o,i,a),o=o.sibling;o!==null;)w0(o,i,a),o=o.sibling}function v0(o,i,a){var l=o.tag;if(l===5||l===6)o=o.stateNode,i?a.insertBefore(o,i):a.appendChild(o);else if(l!==4&&(o=o.child,o!==null))for(v0(o,i,a),o=o.sibling;o!==null;)v0(o,i,a),o=o.sibling}var Kt=null,pi=!1;function zr(o,i,a){for(a=a.child;a!==null;)LS(o,i,a),a=a.sibling}function LS(o,i,a){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(rf,a)}catch{}switch(a.tag){case 5:on||oa(a,i);case 6:var l=Kt,u=pi;Kt=null,zr(o,i,a),Kt=l,pi=u,Kt!==null&&(pi?(o=Kt,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):Kt.removeChild(a.stateNode));break;case 18:Kt!==null&&(pi?(o=Kt,a=a.stateNode,o.nodeType===8?sb(o.parentNode,a):o.nodeType===1&&sb(o,a),_l(o)):sb(Kt,a.stateNode));break;case 4:l=Kt,u=pi,Kt=a.stateNode.containerInfo,pi=!0,zr(o,i,a),Kt=l,pi=u;break;case 0:case 11:case 14:case 15:if(!on&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&k0(a,i,g),u=u.next}while(u!==l)}zr(o,i,a);break;case 1:if(!on&&(oa(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(m){xt(a,i,m)}zr(o,i,a);break;case 21:zr(o,i,a);break;case 22:a.mode&1?(on=(l=on)||a.memoizedState!==null,zr(o,i,a),on=l):zr(o,i,a);break;default:zr(o,i,a)}}function xE(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new W$),i.forEach(function(l){var u=tW.bind(null,o,l);a.has(l)||(a.add(l),l.then(u,u))})}}function ui(o,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];try{var f=o,g=i,m=g;e:for(;m!==null;){switch(m.tag){case 5:Kt=m.stateNode,pi=!1;break e;case 3:Kt=m.stateNode.containerInfo,pi=!0;break e;case 4:Kt=m.stateNode.containerInfo,pi=!0;break e}m=m.return}if(Kt===null)throw Error(re(160));LS(f,g,u),Kt=null,pi=!1;var k=u.alternate;k!==null&&(k.return=null),u.return=null}catch(b){xt(u,i,b)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)jS(i,o),i=i.sibling}function jS(o,i){var a=o.alternate,l=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ui(i,o),Li(o),l&4){try{cl(3,o,o.return),hf(3,o)}catch(T){xt(o,o.return,T)}try{cl(5,o,o.return)}catch(T){xt(o,o.return,T)}}break;case 1:ui(i,o),Li(o),l&512&&a!==null&&oa(a,a.return);break;case 5:if(ui(i,o),Li(o),l&512&&a!==null&&oa(a,a.return),o.flags&32){var u=o.stateNode;try{kl(u,"")}catch(T){xt(o,o.return,T)}}if(l&4&&(u=o.stateNode,u!=null)){var f=o.memoizedProps,g=a!==null?a.memoizedProps:f,m=o.type,k=o.updateQueue;if(o.updateQueue=null,k!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&oD(u,f),$b(m,g);var b=$b(m,f);for(g=0;g<k.length;g+=2){var A=k[g],v=k[g+1];A==="style"?dD(u,v):A==="dangerouslySetInnerHTML"?cD(u,v):A==="children"?kl(u,v):J0(u,A,v,b)}switch(m){case"input":Rb(u,f);break;case"textarea":sD(u,f);break;case"select":var y=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var x=f.value;x!=null?ca(u,!!f.multiple,x,!1):y!==!!f.multiple&&(f.defaultValue!=null?ca(u,!!f.multiple,f.defaultValue,!0):ca(u,!!f.multiple,f.multiple?[]:"",!1))}u[El]=f}catch(T){xt(o,o.return,T)}}break;case 6:if(ui(i,o),Li(o),l&4){if(o.stateNode===null)throw Error(re(162));u=o.stateNode,f=o.memoizedProps;try{u.nodeValue=f}catch(T){xt(o,o.return,T)}}break;case 3:if(ui(i,o),Li(o),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(T){xt(o,o.return,T)}break;case 4:ui(i,o),Li(o);break;case 13:ui(i,o),Li(o),u=o.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Mw=Dt())),l&4&&xE(o);break;case 22:if(A=a!==null&&a.memoizedState!==null,o.mode&1?(on=(b=on)||A,ui(i,o),on=b):ui(i,o),Li(o),l&8192){if(b=o.memoizedState!==null,(o.stateNode.isHidden=b)&&!A&&o.mode&1)for(fe=o,A=o.child;A!==null;){for(v=fe=A;fe!==null;){switch(y=fe,x=y.child,y.tag){case 0:case 11:case 14:case 15:cl(4,y,y.return);break;case 1:oa(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){l=y,a=y.return;try{i=l,E.props=i.memoizedProps,E.state=i.memoizedState,E.componentWillUnmount()}catch(T){xt(l,a,T)}}break;case 5:oa(y,y.return);break;case 22:if(y.memoizedState!==null){DE(v);continue}}x!==null?(x.return=y,fe=x):DE(v)}A=A.sibling}e:for(A=null,v=o;;){if(v.tag===5){if(A===null){A=v;try{u=v.stateNode,b?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=v.stateNode,k=v.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,m.style.display=lD("display",g))}catch(T){xt(o,o.return,T)}}}else if(v.tag===6){if(A===null)try{v.stateNode.nodeValue=b?"":v.memoizedProps}catch(T){xt(o,o.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===o)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;A===v&&(A=null),v=v.return}A===v&&(A=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ui(i,o),Li(o),l&4&&xE(o);break;case 21:break;default:ui(i,o),Li(o)}}function Li(o){var i=o.flags;if(i&2){try{e:{for(var a=o.return;a!==null;){if(zS(a)){var l=a;break e}a=a.return}throw Error(re(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(kl(u,""),l.flags&=-33);var f=CE(o);v0(o,f,u);break;case 3:case 4:var g=l.stateNode.containerInfo,m=CE(o);w0(o,m,g);break;default:throw Error(re(161))}}catch(k){xt(o,o.return,k)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function G$(o,i,a){fe=o,RS(o)}function RS(o,i,a){for(var l=(o.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&l){var g=u.memoizedState!==null||Gu;if(!g){var m=u.alternate,k=m!==null&&m.memoizedState!==null||on;m=Gu;var b=on;if(Gu=g,(on=k)&&!b)for(fe=u;fe!==null;)g=fe,k=g.child,g.tag===22&&g.memoizedState!==null?SE(u):k!==null?(k.return=g,fe=k):SE(u);for(;f!==null;)fe=f,RS(f),f=f.sibling;fe=u,Gu=m,on=b}EE(o)}else u.subtreeFlags&8772&&f!==null?(f.return=u,fe=f):EE(o)}}function EE(o){for(;fe!==null;){var i=fe;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:on||hf(5,i);break;case 1:var l=i.stateNode;if(i.flags&4&&!on)if(a===null)l.componentDidMount();else{var u=i.elementType===i.type?a.memoizedProps:gi(i.type,a.memoizedProps);l.componentDidUpdate(u,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&lE(i,f,l);break;case 3:var g=i.updateQueue;if(g!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}lE(i,g,a)}break;case 5:var m=i.stateNode;if(a===null&&i.flags&4){a=m;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var b=i.alternate;if(b!==null){var A=b.memoizedState;if(A!==null){var v=A.dehydrated;v!==null&&_l(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}on||i.flags&512&&b0(i)}catch(y){xt(i,i.return,y)}}if(i===o){fe=null;break}if(a=i.sibling,a!==null){a.return=i.return,fe=a;break}fe=i.return}}function DE(o){for(;fe!==null;){var i=fe;if(i===o){fe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,fe=a;break}fe=i.return}}function SE(o){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{hf(4,i)}catch(k){xt(i,a,k)}break;case 1:var l=i.stateNode;if(typeof l.componentDidMount=="function"){var u=i.return;try{l.componentDidMount()}catch(k){xt(i,u,k)}}var f=i.return;try{b0(i)}catch(k){xt(i,f,k)}break;case 5:var g=i.return;try{b0(i)}catch(k){xt(i,g,k)}}}catch(k){xt(i,i.return,k)}if(i===o){fe=null;break}var m=i.sibling;if(m!==null){m.return=i.return,fe=m;break}fe=i.return}}var Y$=Math.ceil,Vh=br.ReactCurrentDispatcher,Tw=br.ReactCurrentOwner,ti=br.ReactCurrentBatchConfig,je=0,qt=null,Ot=null,Qt=0,On=0,sa=lo(0),jt=0,Nl=null,as=0,ff=0,Iw=0,ll=null,wn=null,Mw=0,_a=1/0,sr=null,Uh=!1,_0=null,no=null,Yu=!1,Zr=null,Hh=0,dl=0,y0=null,kh=-1,bh=0;function un(){return je&6?Dt():kh!==-1?kh:kh=Dt()}function io(o){return o.mode&1?je&2&&Qt!==0?Qt&-Qt:M$.transition!==null?(bh===0&&(bh=yD()),bh):(o=Ge,o!==0||(o=window.event,o=o===void 0?16:TD(o.type)),o):1}function vi(o,i,a,l){if(50<dl)throw dl=0,y0=null,Error(re(185));jl(o,a,l),(!(je&2)||o!==qt)&&(o===qt&&(!(je&2)&&(ff|=a),jt===4&&Wr(o,Qt)),An(o,l),a===1&&je===0&&!(i.mode&1)&&(_a=Dt()+500,lf&&uo()))}function An(o,i){var a=o.callbackNode;MH(o,i);var l=Eh(o,o===qt?Qt:0);if(l===0)a!==null&&L2(a),o.callbackNode=null,o.callbackPriority=0;else if(i=l&-l,o.callbackPriority!==i){if(a!=null&&L2(a),i===1)o.tag===0?I$(TE.bind(null,o)):YD(TE.bind(null,o)),E$(function(){!(je&6)&&uo()}),a=null;else{switch(AD(l)){case 1:a=iw;break;case 4:a=vD;break;case 16:a=xh;break;case 536870912:a=_D;break;default:a=xh}a=GS(a,FS.bind(null,o))}o.callbackPriority=i,o.callbackNode=a}}function FS(o,i){if(kh=-1,bh=0,je&6)throw Error(re(327));var a=o.callbackNode;if(fa()&&o.callbackNode!==a)return null;var l=Eh(o,o===qt?Qt:0);if(l===0)return null;if(l&30||l&o.expiredLanes||i)i=$h(o,l);else{i=l;var u=je;je|=2;var f=US();(qt!==o||Qt!==i)&&(sr=null,_a=Dt()+500,ts(o,i));do try{Q$();break}catch(m){VS(o,m)}while(1);mw(),Vh.current=f,je=u,Ot!==null?i=0:(qt=null,Qt=0,i=jt)}if(i!==0){if(i===2&&(u=Zb(o),u!==0&&(l=u,i=A0(o,u))),i===1)throw a=Nl,ts(o,0),Wr(o,l),An(o,Dt()),a;if(i===6)Wr(o,l);else{if(u=o.current.alternate,!(l&30)&&!Z$(u)&&(i=$h(o,l),i===2&&(f=Zb(o),f!==0&&(l=f,i=A0(o,f))),i===1))throw a=Nl,ts(o,0),Wr(o,l),An(o,Dt()),a;switch(o.finishedWork=u,o.finishedLanes=l,i){case 0:case 1:throw Error(re(345));case 2:Wo(o,wn,sr);break;case 3:if(Wr(o,l),(l&130023424)===l&&(i=Mw+500-Dt(),10<i)){if(Eh(o,0)!==0)break;if(u=o.suspendedLanes,(u&l)!==l){un(),o.pingedLanes|=o.suspendedLanes&u;break}o.timeoutHandle=i0(Wo.bind(null,o,wn,sr),i);break}Wo(o,wn,sr);break;case 4:if(Wr(o,l),(l&4194240)===l)break;for(i=o.eventTimes,u=-1;0<l;){var g=31-wi(l);f=1<<g,g=i[g],g>u&&(u=g),l&=~f}if(l=u,l=Dt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Y$(l/1960))-l,10<l){o.timeoutHandle=i0(Wo.bind(null,o,wn,sr),l);break}Wo(o,wn,sr);break;case 5:Wo(o,wn,sr);break;default:throw Error(re(329))}}}return An(o,Dt()),o.callbackNode===a?FS.bind(null,o):null}function A0(o,i){var a=ll;return o.current.memoizedState.isDehydrated&&(ts(o,i).flags|=256),o=$h(o,i),o!==2&&(i=wn,wn=a,i!==null&&C0(i)),o}function C0(o){wn===null?wn=o:wn.push.apply(wn,o)}function Z$(o){for(var i=o;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!_i(f(),u))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wr(o,i){for(i&=~Iw,i&=~ff,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var a=31-wi(i),l=1<<a;o[a]=-1,i&=~l}}function TE(o){if(je&6)throw Error(re(327));fa();var i=Eh(o,0);if(!(i&1))return An(o,Dt()),null;var a=$h(o,i);if(o.tag!==0&&a===2){var l=Zb(o);l!==0&&(i=l,a=A0(o,l))}if(a===1)throw a=Nl,ts(o,0),Wr(o,i),An(o,Dt()),a;if(a===6)throw Error(re(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Wo(o,wn,sr),An(o,Dt()),null}function Nw(o,i){var a=je;je|=1;try{return o(i)}finally{je=a,je===0&&(_a=Dt()+500,lf&&uo())}}function cs(o){Zr!==null&&Zr.tag===0&&!(je&6)&&fa();var i=je;je|=1;var a=ti.transition,l=Ge;try{if(ti.transition=null,Ge=1,o)return o()}finally{Ge=l,ti.transition=a,je=i,!(je&6)&&uo()}}function Ow(){On=sa.current,ht(sa)}function ts(o,i){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,x$(a)),Ot!==null)for(a=Ot.return;a!==null;){var l=a;switch(fw(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Mh();break;case 3:wa(),ht(_n),ht(an),yw();break;case 5:_w(l);break;case 4:wa();break;case 13:ht(kt);break;case 19:ht(kt);break;case 10:kw(l.type._context);break;case 22:case 23:Ow()}a=a.return}if(qt=o,Ot=o=ro(o.current,null),Qt=On=i,jt=0,Nl=null,Iw=ff=as=0,wn=ll=null,Jo!==null){for(i=0;i<Jo.length;i++)if(a=Jo[i],l=a.interleaved,l!==null){a.interleaved=null;var u=l.next,f=a.pending;if(f!==null){var g=f.next;f.next=u,l.next=g}a.pending=l}Jo=null}return o}function VS(o,i){do{var a=Ot;try{if(mw(),gh.current=Fh,Rh){for(var l=bt.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Rh=!1}if(ss=0,Wt=Lt=bt=null,al=!1,Tl=0,Tw.current=null,a===null||a.return===null){jt=1,Nl=i,Ot=null;break}e:{var f=o,g=a.return,m=a,k=i;if(i=Qt,m.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var b=k,A=m,v=A.tag;if(!(A.mode&1)&&(v===0||v===11||v===15)){var y=A.alternate;y?(A.updateQueue=y.updateQueue,A.memoizedState=y.memoizedState,A.lanes=y.lanes):(A.updateQueue=null,A.memoizedState=null)}var x=mE(g);if(x!==null){x.flags&=-257,kE(x,g,m,f,i),x.mode&1&&pE(f,b,i),i=x,k=b;var E=i.updateQueue;if(E===null){var T=new Set;T.add(k),i.updateQueue=T}else E.add(k);break e}else{if(!(i&1)){pE(f,b,i),Pw();break e}k=Error(re(426))}}else if(ft&&m.mode&1){var B=mE(g);if(B!==null){!(B.flags&65536)&&(B.flags|=256),kE(B,g,m,f,i),gw(va(k,m));break e}}f=k=va(k,m),jt!==4&&(jt=2),ll===null?ll=[f]:ll.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var I=CS(f,k,i);cE(f,I);break e;case 1:m=k;var N=f.type,P=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(no===null||!no.has(P)))){f.flags|=65536,i&=-i,f.lanes|=i;var j=xS(f,m,i);cE(f,j);break e}}f=f.return}while(f!==null)}$S(a)}catch(q){i=q,Ot===a&&a!==null&&(Ot=a=a.return);continue}break}while(1)}function US(){var o=Vh.current;return Vh.current=Fh,o===null?Fh:o}function Pw(){(jt===0||jt===3||jt===2)&&(jt=4),qt===null||!(as&268435455)&&!(ff&268435455)||Wr(qt,Qt)}function $h(o,i){var a=je;je|=2;var l=US();(qt!==o||Qt!==i)&&(sr=null,ts(o,i));do try{K$();break}catch(u){VS(o,u)}while(1);if(mw(),je=a,Vh.current=l,Ot!==null)throw Error(re(261));return qt=null,Qt=0,jt}function K$(){for(;Ot!==null;)HS(Ot)}function Q$(){for(;Ot!==null&&!yH();)HS(Ot)}function HS(o){var i=qS(o.alternate,o,On);o.memoizedProps=o.pendingProps,i===null?$S(o):Ot=i,Tw.current=null}function $S(o){var i=o;do{var a=i.alternate;if(o=i.return,i.flags&32768){if(a=$$(a,i),a!==null){a.flags&=32767,Ot=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{jt=6,Ot=null;return}}else if(a=H$(a,i,On),a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=o}while(i!==null);jt===0&&(jt=5)}function Wo(o,i,a){var l=Ge,u=ti.transition;try{ti.transition=null,Ge=1,J$(o,i,a,l)}finally{ti.transition=u,Ge=l}return null}function J$(o,i,a,l){do fa();while(Zr!==null);if(je&6)throw Error(re(327));a=o.finishedWork;var u=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(re(177));o.callbackNode=null,o.callbackPriority=0;var f=a.lanes|a.childLanes;if(NH(o,f),o===qt&&(Ot=qt=null,Qt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Yu||(Yu=!0,GS(xh,function(){return fa(),null})),f=(a.flags&15990)!==0,a.subtreeFlags&15990||f){f=ti.transition,ti.transition=null;var g=Ge;Ge=1;var m=je;je|=4,Tw.current=null,q$(o,a),jS(a,o),b$(t0),Dh=!!e0,t0=e0=null,o.current=a,G$(a),AH(),je=m,Ge=g,ti.transition=f}else o.current=a;if(Yu&&(Yu=!1,Zr=o,Hh=u),f=o.pendingLanes,f===0&&(no=null),EH(a.stateNode),An(o,Dt()),i!==null)for(l=o.onRecoverableError,a=0;a<i.length;a++)u=i[a],l(u.value,{componentStack:u.stack,digest:u.digest});if(Uh)throw Uh=!1,o=_0,_0=null,o;return Hh&1&&o.tag!==0&&fa(),f=o.pendingLanes,f&1?o===y0?dl++:(dl=0,y0=o):dl=0,uo(),null}function fa(){if(Zr!==null){var o=AD(Hh),i=ti.transition,a=Ge;try{if(ti.transition=null,Ge=16>o?16:o,Zr===null)var l=!1;else{if(o=Zr,Zr=null,Hh=0,je&6)throw Error(re(331));var u=je;for(je|=4,fe=o.current;fe!==null;){var f=fe,g=f.child;if(fe.flags&16){var m=f.deletions;if(m!==null){for(var k=0;k<m.length;k++){var b=m[k];for(fe=b;fe!==null;){var A=fe;switch(A.tag){case 0:case 11:case 15:cl(8,A,f)}var v=A.child;if(v!==null)v.return=A,fe=v;else for(;fe!==null;){A=fe;var y=A.sibling,x=A.return;if(BS(A),A===b){fe=null;break}if(y!==null){y.return=x,fe=y;break}fe=x}}}var E=f.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var B=T.sibling;T.sibling=null,T=B}while(T!==null)}}fe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,fe=g;else e:for(;fe!==null;){if(f=fe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:cl(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,fe=I;break e}fe=f.return}}var N=o.current;for(fe=N;fe!==null;){g=fe;var P=g.child;if(g.subtreeFlags&2064&&P!==null)P.return=g,fe=P;else e:for(g=N;fe!==null;){if(m=fe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:hf(9,m)}}catch(q){xt(m,m.return,q)}if(m===g){fe=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,fe=j;break e}fe=m.return}}if(je=u,uo(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(rf,o)}catch{}l=!0}return l}finally{Ge=a,ti.transition=i}}return!1}function IE(o,i,a){i=va(a,i),i=CS(o,i,1),o=to(o,i,1),i=un(),o!==null&&(jl(o,1,i),An(o,i))}function xt(o,i,a){if(o.tag===3)IE(o,o,a);else for(;i!==null;){if(i.tag===3){IE(i,o,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(no===null||!no.has(l))){o=va(a,o),o=xS(i,o,1),i=to(i,o,1),o=un(),i!==null&&(jl(i,1,o),An(i,o));break}}i=i.return}}function X$(o,i,a){var l=o.pingCache;l!==null&&l.delete(i),i=un(),o.pingedLanes|=o.suspendedLanes&a,qt===o&&(Qt&a)===a&&(jt===4||jt===3&&(Qt&130023424)===Qt&&500>Dt()-Mw?ts(o,0):Iw|=a),An(o,i)}function WS(o,i){i===0&&(o.mode&1?(i=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):i=1);var a=un();o=gr(o,i),o!==null&&(jl(o,i,a),An(o,a))}function eW(o){var i=o.memoizedState,a=0;i!==null&&(a=i.retryLane),WS(o,a)}function tW(o,i){var a=0;switch(o.tag){case 13:var l=o.stateNode,u=o.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=o.stateNode;break;default:throw Error(re(314))}l!==null&&l.delete(i),WS(o,a)}var qS;qS=function(o,i,a){if(o!==null)if(o.memoizedProps!==i.pendingProps||_n.current)vn=!0;else{if(!(o.lanes&a)&&!(i.flags&128))return vn=!1,U$(o,i,a);vn=!!(o.flags&131072)}else vn=!1,ft&&i.flags&1048576&&ZD(i,Ph,i.index);switch(i.lanes=0,i.tag){case 2:var l=i.type;mh(o,i),o=i.pendingProps;var u=ma(i,an.current);ha(i,a),u=Cw(null,i,l,o,u,a);var f=xw();return i.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yn(l)?(f=!0,Nh(i)):f=!1,i.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ww(i),u.updater=df,i.stateNode=u,u._reactInternals=i,d0(i,l,o,a),i=f0(null,i,l,!0,f,a)):(i.tag=0,ft&&f&&hw(i),ln(null,i,u,a),i=i.child),i;case 16:l=i.elementType;e:{switch(mh(o,i),o=i.pendingProps,u=l._init,l=u(l._payload),i.type=l,u=i.tag=iW(l),o=gi(l,o),u){case 0:i=h0(null,i,l,o,a);break e;case 1:i=vE(null,i,l,o,a);break e;case 11:i=bE(null,i,l,o,a);break e;case 14:i=wE(null,i,l,gi(l.type,o),a);break e}throw Error(re(306,l,""))}return i;case 0:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),h0(o,i,l,u,a);case 1:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),vE(o,i,l,u,a);case 3:e:{if(TS(i),o===null)throw Error(re(387));l=i.pendingProps,f=i.memoizedState,u=f.element,XD(o,i),Lh(i,l,null,a);var g=i.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){u=va(Error(re(423)),i),i=_E(o,i,l,a,u);break e}else if(l!==u){u=va(Error(re(424)),i),i=_E(o,i,l,a,u);break e}else for(Bn=eo(i.stateNode.containerInfo.firstChild),zn=i,ft=!0,ki=null,a=iS(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ka(),l===u){i=pr(o,i,a);break e}ln(o,i,l,a)}i=i.child}return i;case 5:return rS(i),o===null&&a0(i),l=i.type,u=i.pendingProps,f=o!==null?o.memoizedProps:null,g=u.children,n0(l,u)?g=null:f!==null&&n0(l,f)&&(i.flags|=32),SS(o,i),ln(o,i,g,a),i.child;case 6:return o===null&&a0(i),null;case 13:return IS(o,i,a);case 4:return vw(i,i.stateNode.containerInfo),l=i.pendingProps,o===null?i.child=ba(i,null,l,a):ln(o,i,l,a),i.child;case 11:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),bE(o,i,l,u,a);case 7:return ln(o,i,i.pendingProps,a),i.child;case 8:return ln(o,i,i.pendingProps.children,a),i.child;case 12:return ln(o,i,i.pendingProps.children,a),i.child;case 10:e:{if(l=i.type._context,u=i.pendingProps,f=i.memoizedProps,g=u.value,st(Bh,l._currentValue),l._currentValue=g,f!==null)if(_i(f.value,g)){if(f.children===u.children&&!_n.current){i=pr(o,i,a);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var k=m.firstContext;k!==null;){if(k.context===l){if(f.tag===1){k=ur(-1,a&-a),k.tag=2;var b=f.updateQueue;if(b!==null){b=b.shared;var A=b.pending;A===null?k.next=k:(k.next=A.next,A.next=k),b.pending=k}}f.lanes|=a,k=f.alternate,k!==null&&(k.lanes|=a),c0(f.return,a,i),m.lanes|=a;break}k=k.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(re(341));g.lanes|=a,m=g.alternate,m!==null&&(m.lanes|=a),c0(g,a,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ln(o,i,u.children,a),i=i.child}return i;case 9:return u=i.type,l=i.pendingProps.children,ha(i,a),u=ni(u),l=l(u),i.flags|=1,ln(o,i,l,a),i.child;case 14:return l=i.type,u=gi(l,i.pendingProps),u=gi(l.type,u),wE(o,i,l,u,a);case 15:return ES(o,i,i.type,i.pendingProps,a);case 17:return l=i.type,u=i.pendingProps,u=i.elementType===l?u:gi(l,u),mh(o,i),i.tag=1,yn(l)?(o=!0,Nh(i)):o=!1,ha(i,a),tS(i,l,u),d0(i,l,u,a),f0(null,i,l,!0,o,a);case 19:return MS(o,i,a);case 22:return DS(o,i,a)}throw Error(re(156,i.tag))};function GS(o,i){return wD(o,i)}function nW(o,i,a,l){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(o,i,a,l){return new nW(o,i,a,l)}function Bw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function iW(o){if(typeof o=="function")return Bw(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ew)return 11;if(o===tw)return 14}return 2}function ro(o,i){var a=o.alternate;return a===null?(a=Xn(o.tag,i,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=i,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function wh(o,i,a,l,u,f){var g=2;if(l=o,typeof o=="function")Bw(o)&&(g=1);else if(typeof o=="string")g=5;else e:switch(o){case Ks:return ns(a.children,u,f,i);case X0:g=8,u|=8;break;case Pb:return o=Xn(12,a,i,u|2),o.elementType=Pb,o.lanes=f,o;case Bb:return o=Xn(13,a,i,u),o.elementType=Bb,o.lanes=f,o;case zb:return o=Xn(19,a,i,u),o.elementType=zb,o.lanes=f,o;case nD:return gf(a,u,f,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case eD:g=10;break e;case tD:g=9;break e;case ew:g=11;break e;case tw:g=14;break e;case Fr:g=16,l=null;break e}throw Error(re(130,o==null?o:typeof o,""))}return i=Xn(g,a,i,u),i.elementType=o,i.type=l,i.lanes=f,i}function ns(o,i,a,l){return o=Xn(7,o,l,i),o.lanes=a,o}function gf(o,i,a,l){return o=Xn(22,o,l,i),o.elementType=nD,o.lanes=a,o.stateNode={isHidden:!1},o}function gb(o,i,a){return o=Xn(6,o,null,i),o.lanes=a,o}function pb(o,i,a){return i=Xn(4,o.children!==null?o.children:[],o.key,i),i.lanes=a,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function rW(o,i,a,l,u){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zk(0),this.expirationTimes=Zk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zk(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function zw(o,i,a,l,u,f,g,m,k){return o=new rW(o,i,a,m,k),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Xn(3,null,null,i),o.current=f,f.stateNode=o,f.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ww(f),o}function oW(o,i,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:l==null?null:""+l,children:o,containerInfo:i,implementation:a}}function YS(o){if(!o)return ao;o=o._reactInternals;e:{if(ds(o)!==o||o.tag!==1)throw Error(re(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(re(171))}if(o.tag===1){var a=o.type;if(yn(a))return GD(o,a,i)}return i}function ZS(o,i,a,l,u,f,g,m,k){return o=zw(a,l,!0,o,u,f,g,m,k),o.context=YS(null),a=o.current,l=un(),u=io(a),f=ur(l,u),f.callback=i??null,to(a,f,u),o.current.lanes=u,jl(o,u,l),An(o,l),o}function pf(o,i,a,l){var u=i.current,f=un(),g=io(u);return a=YS(a),i.context===null?i.context=a:i.pendingContext=a,i=ur(f,g),i.payload={element:o},l=l===void 0?null:l,l!==null&&(i.callback=l),o=to(u,i,g),o!==null&&(vi(o,u,g,f),fh(o,u,g)),g}function Wh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ME(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<i?a:i}}function Lw(o,i){ME(o,i),(o=o.alternate)&&ME(o,i)}function sW(){return null}var KS=typeof reportError=="function"?reportError:function(o){console.error(o)};function jw(o){this._internalRoot=o}mf.prototype.render=jw.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(re(409));pf(o,i,null,null)};mf.prototype.unmount=jw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;cs(function(){pf(null,o,null,null)}),i[fr]=null}};function mf(o){this._internalRoot=o}mf.prototype.unstable_scheduleHydration=function(o){if(o){var i=ED();o={blockedOn:null,target:o,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,o),a===0&&SD(o)}};function Rw(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function NE(){}function aW(o,i,a,l,u){if(u){if(typeof l=="function"){var f=l;l=function(){var b=Wh(g);f.call(b)}}var g=ZS(i,l,o,0,null,!1,!1,"",NE);return o._reactRootContainer=g,o[fr]=g.current,Cl(o.nodeType===8?o.parentNode:o),cs(),g}for(;u=o.lastChild;)o.removeChild(u);if(typeof l=="function"){var m=l;l=function(){var b=Wh(k);m.call(b)}}var k=zw(o,0,!1,null,null,!1,!1,"",NE);return o._reactRootContainer=k,o[fr]=k.current,Cl(o.nodeType===8?o.parentNode:o),cs(function(){pf(i,k,a,l)}),k}function bf(o,i,a,l,u){var f=a._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var m=u;u=function(){var k=Wh(g);m.call(k)}}pf(i,g,o,u)}else g=aW(a,i,o,u,l);return Wh(g)}CD=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var a=Kc(i.pendingLanes);a!==0&&(rw(i,a|1),An(i,Dt()),!(je&6)&&(_a=Dt()+500,uo()))}break;case 13:cs(function(){var l=gr(o,1);if(l!==null){var u=un();vi(l,o,1,u)}}),Lw(o,1)}};ow=function(o){if(o.tag===13){var i=gr(o,134217728);if(i!==null){var a=un();vi(i,o,134217728,a)}Lw(o,134217728)}};xD=function(o){if(o.tag===13){var i=io(o),a=gr(o,i);if(a!==null){var l=un();vi(a,o,i,l)}Lw(o,i)}};ED=function(){return Ge};DD=function(o,i){var a=Ge;try{return Ge=o,i()}finally{Ge=a}};qb=function(o,i,a){switch(i){case"input":if(Rb(o,a),i=a.name,a.type==="radio"&&i!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==o&&l.form===o.form){var u=cf(l);if(!u)throw Error(re(90));rD(l),Rb(l,u)}}}break;case"textarea":sD(o,a);break;case"select":i=a.value,i!=null&&ca(o,!!a.multiple,i,!1)}};fD=Nw;gD=cs;var cW={usingClientEntryPoint:!1,Events:[Fl,ea,cf,uD,hD,Nw]},$c={findFiberByHostInstance:Qo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lW={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=kD(o),o===null?null:o.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||sW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{rf=Zu.inject(lW),Vi=Zu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cW;Rn.createPortal=function(o,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(i))throw Error(re(200));return oW(o,i,null,a)};Rn.createRoot=function(o,i){if(!Rw(o))throw Error(re(299));var a=!1,l="",u=KS;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),i=zw(o,1,!1,null,null,a,!1,l,u),o[fr]=i.current,Cl(o.nodeType===8?o.parentNode:o),new jw(i)};Rn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(re(188)):(o=Object.keys(o).join(","),Error(re(268,o)));return o=kD(i),o=o===null?null:o.stateNode,o};Rn.flushSync=function(o){return cs(o)};Rn.hydrate=function(o,i,a){if(!kf(i))throw Error(re(200));return bf(null,o,i,!0,a)};Rn.hydrateRoot=function(o,i,a){if(!Rw(o))throw Error(re(405));var l=a!=null&&a.hydratedSources||null,u=!1,f="",g=KS;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),i=ZS(i,null,o,1,a??null,u,!1,f,g),o[fr]=i.current,Cl(o),l)for(o=0;o<l.length;o++)a=l[o],u=a._getVersion,u=u(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,u]:i.mutableSourceEagerHydrationData.push(a,u);return new mf(i)};Rn.render=function(o,i,a){if(!kf(i))throw Error(re(200));return bf(null,o,i,!1,a)};Rn.unmountComponentAtNode=function(o){if(!kf(o))throw Error(re(40));return o._reactRootContainer?(cs(function(){bf(null,null,o,!1,function(){o._reactRootContainer=null,o[fr]=null})}),!0):!1};Rn.unstable_batchedUpdates=Nw;Rn.unstable_renderSubtreeIntoContainer=function(o,i,a,l){if(!kf(a))throw Error(re(200));if(o==null||o._reactInternals===void 0)throw Error(re(38));return bf(o,i,a,!1,l)};Rn.version="18.2.0-next-9e3b772b8-20220608";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(o){console.error(o)}}QS(),Z5.exports=Rn;var dW=Z5.exports,OE=dW;Nb.createRoot=OE.createRoot,Nb.hydrateRoot=OE.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},Ol.apply(this,arguments)}var Kr;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Kr||(Kr={}));const PE="popstate";function uW(o){o===void 0&&(o={});function i(l,u){let{pathname:f,search:g,hash:m}=l.location;return x0("",{pathname:f,search:g,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(l,u){return typeof u=="string"?u:qh(u)}return fW(i,a,null,o)}function Pt(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function Fw(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function hW(){return Math.random().toString(36).substr(2,8)}function BE(o,i){return{usr:o.state,key:o.key,idx:i}}function x0(o,i,a,l){return a===void 0&&(a=null),Ol({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?Ea(i):i,{state:a,key:i&&i.key||l||hW()})}function qh(o){let{pathname:i="/",search:a="",hash:l=""}=o;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(i+=l.charAt(0)==="#"?l:"#"+l),i}function Ea(o){let i={};if(o){let a=o.indexOf("#");a>=0&&(i.hash=o.substr(a),o=o.substr(0,a));let l=o.indexOf("?");l>=0&&(i.search=o.substr(l),o=o.substr(0,l)),o&&(i.pathname=o)}return i}function fW(o,i,a,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:f=!1}=l,g=u.history,m=Kr.Pop,k=null,b=A();b==null&&(b=0,g.replaceState(Ol({},g.state,{idx:b}),""));function A(){return(g.state||{idx:null}).idx}function v(){m=Kr.Pop;let B=A(),I=B==null?null:B-b;b=B,k&&k({action:m,location:T.location,delta:I})}function y(B,I){m=Kr.Push;let N=x0(T.location,B,I);a&&a(N,B),b=A()+1;let P=BE(N,b),j=T.createHref(N);try{g.pushState(P,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;u.location.assign(j)}f&&k&&k({action:m,location:T.location,delta:1})}function x(B,I){m=Kr.Replace;let N=x0(T.location,B,I);a&&a(N,B),b=A();let P=BE(N,b),j=T.createHref(N);g.replaceState(P,"",j),f&&k&&k({action:m,location:T.location,delta:0})}function E(B){let I=u.location.origin!=="null"?u.location.origin:u.location.href,N=typeof B=="string"?B:qh(B);return Pt(I,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,I)}let T={get action(){return m},get location(){return o(u,g)},listen(B){if(k)throw new Error("A history only accepts one active listener");return u.addEventListener(PE,v),k=B,()=>{u.removeEventListener(PE,v),k=null}},createHref(B){return i(u,B)},createURL:E,encodeLocation(B){let I=E(B);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:x,go(B){return g.go(B)}};return T}var zE;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(zE||(zE={}));function gW(o,i,a){a===void 0&&(a="/");let l=typeof i=="string"?Ea(i):i,u=Vw(l.pathname||"/",a);if(u==null)return null;let f=JS(o);pW(f);let g=null;for(let m=0;g==null&&m<f.length;++m)g=CW(f[m],DW(u));return g}function JS(o,i,a,l){i===void 0&&(i=[]),a===void 0&&(a=[]),l===void 0&&(l="");let u=(f,g,m)=>{let k={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};k.relativePath.startsWith("/")&&(Pt(k.relativePath.startsWith(l),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(l.length));let b=oo([l,k.relativePath]),A=a.concat(k);f.children&&f.children.length>0&&(Pt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),JS(f.children,i,A,b)),!(f.path==null&&!f.index)&&i.push({path:b,score:yW(b,f.index),routesMeta:A})};return o.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))u(f,g);else for(let k of XS(f.path))u(f,g,k)}),i}function XS(o){let i=o.split("/");if(i.length===0)return[];let[a,...l]=i,u=a.endsWith("?"),f=a.replace(/\?$/,"");if(l.length===0)return u?[f,""]:[f];let g=XS(l.join("/")),m=[];return m.push(...g.map(k=>k===""?f:[f,k].join("/"))),u&&m.push(...g),m.map(k=>o.startsWith("/")&&k===""?"/":k)}function pW(o){o.sort((i,a)=>i.score!==a.score?a.score-i.score:AW(i.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const mW=/^:\w+$/,kW=3,bW=2,wW=1,vW=10,_W=-2,LE=o=>o==="*";function yW(o,i){let a=o.split("/"),l=a.length;return a.some(LE)&&(l+=_W),i&&(l+=bW),a.filter(u=>!LE(u)).reduce((u,f)=>u+(mW.test(f)?kW:f===""?wW:vW),l)}function AW(o,i){return o.length===i.length&&o.slice(0,-1).every((l,u)=>l===i[u])?o[o.length-1]-i[i.length-1]:0}function CW(o,i){let{routesMeta:a}=o,l={},u="/",f=[];for(let g=0;g<a.length;++g){let m=a[g],k=g===a.length-1,b=u==="/"?i:i.slice(u.length)||"/",A=xW({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},b);if(!A)return null;Object.assign(l,A.params);let v=m.route;f.push({params:l,pathname:oo([u,A.pathname]),pathnameBase:MW(oo([u,A.pathnameBase])),route:v}),A.pathnameBase!=="/"&&(u=oo([u,A.pathnameBase]))}return f}function xW(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,l]=EW(o.path,o.caseSensitive,o.end),u=i.match(a);if(!u)return null;let f=u[0],g=f.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((b,A,v)=>{let{paramName:y,isOptional:x}=A;if(y==="*"){let T=m[v]||"";g=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const E=m[v];return x&&!E?b[y]=void 0:b[y]=SW(E||"",y),b},{}),pathname:f,pathnameBase:g,pattern:o}}function EW(o,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),Fw(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(g,m,k)=>(l.push({paramName:m,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),l]}function DW(o){try{return decodeURI(o)}catch(i){return Fw(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function SW(o,i){try{return decodeURIComponent(o)}catch(a){return Fw(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),o}}function Vw(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,l=o.charAt(a);return l&&l!=="/"?null:o.slice(a)||"/"}function TW(o,i){i===void 0&&(i="/");let{pathname:a,search:l="",hash:u=""}=typeof o=="string"?Ea(o):o;return{pathname:a?a.startsWith("/")?a:IW(a,i):i,search:NW(l),hash:OW(u)}}function IW(o,i){let a=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function mb(o,i,a,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eT(o){return o.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function tT(o,i,a,l){l===void 0&&(l=!1);let u;typeof o=="string"?u=Ea(o):(u=Ol({},o),Pt(!u.pathname||!u.pathname.includes("?"),mb("?","pathname","search",u)),Pt(!u.pathname||!u.pathname.includes("#"),mb("#","pathname","hash",u)),Pt(!u.search||!u.search.includes("#"),mb("#","search","hash",u)));let f=o===""||u.pathname==="",g=f?"/":u.pathname,m;if(l||g==null)m=a;else{let v=i.length-1;if(g.startsWith("..")){let y=g.split("/");for(;y[0]==="..";)y.shift(),v-=1;u.pathname=y.join("/")}m=v>=0?i[v]:"/"}let k=TW(u,m),b=g&&g!=="/"&&g.endsWith("/"),A=(f||g===".")&&a.endsWith("/");return!k.pathname.endsWith("/")&&(b||A)&&(k.pathname+="/"),k}const oo=o=>o.join("/").replace(/\/\/+/g,"/"),MW=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),NW=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,OW=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function PW(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const nT=["post","put","patch","delete"];new Set(nT);const BW=["get",...nT];new Set(BW);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},Gh.apply(this,arguments)}const Uw=se.createContext(null),zW=se.createContext(null),Da=se.createContext(null),wf=se.createContext(null),ho=se.createContext({outlet:null,matches:[],isDataRoute:!1}),iT=se.createContext(null);function LW(o,i){let{relative:a}=i===void 0?{}:i;Ul()||Pt(!1);let{basename:l,navigator:u}=se.useContext(Da),{hash:f,pathname:g,search:m}=sT(o,{relative:a}),k=g;return l!=="/"&&(k=g==="/"?l:oo([l,g])),u.createHref({pathname:k,search:m,hash:f})}function Ul(){return se.useContext(wf)!=null}function Hl(){return Ul()||Pt(!1),se.useContext(wf).location}function rT(o){se.useContext(Da).static||se.useLayoutEffect(o)}function Sa(){let{isDataRoute:o}=se.useContext(ho);return o?KW():jW()}function jW(){Ul()||Pt(!1);let o=se.useContext(Uw),{basename:i,navigator:a}=se.useContext(Da),{matches:l}=se.useContext(ho),{pathname:u}=Hl(),f=JSON.stringify(eT(l).map(k=>k.pathnameBase)),g=se.useRef(!1);return rT(()=>{g.current=!0}),se.useCallback(function(k,b){if(b===void 0&&(b={}),!g.current)return;if(typeof k=="number"){a.go(k);return}let A=tT(k,JSON.parse(f),u,b.relative==="path");o==null&&i!=="/"&&(A.pathname=A.pathname==="/"?i:oo([i,A.pathname])),(b.replace?a.replace:a.push)(A,b.state,b)},[i,a,f,u,o])}function oT(){let{matches:o}=se.useContext(ho),i=o[o.length-1];return i?i.params:{}}function sT(o,i){let{relative:a}=i===void 0?{}:i,{matches:l}=se.useContext(ho),{pathname:u}=Hl(),f=JSON.stringify(eT(l).map(g=>g.pathnameBase));return se.useMemo(()=>tT(o,JSON.parse(f),u,a==="path"),[o,f,u,a])}function RW(o,i){return FW(o,i)}function FW(o,i,a){Ul()||Pt(!1);let{navigator:l}=se.useContext(Da),{matches:u}=se.useContext(ho),f=u[u.length-1],g=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let k=Hl(),b;if(i){var A;let T=typeof i=="string"?Ea(i):i;m==="/"||(A=T.pathname)!=null&&A.startsWith(m)||Pt(!1),b=T}else b=k;let v=b.pathname||"/",y=m==="/"?v:v.slice(m.length)||"/",x=gW(o,{pathname:y}),E=WW(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:oo([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:oo([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,a);return i&&E?se.createElement(wf.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Kr.Pop}},E):E}function VW(){let o=ZW(),i=PW(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},i),a?se.createElement("pre",{style:u},a):null,f)}const UW=se.createElement(VW,null);class HW extends se.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error?se.createElement(ho.Provider,{value:this.props.routeContext},se.createElement(iT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $W(o){let{routeContext:i,match:a,children:l}=o,u=se.useContext(Uw);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),se.createElement(ho.Provider,{value:i},l)}function WW(o,i,a){var l;if(i===void 0&&(i=[]),a===void 0&&(a=null),o==null){var u;if((u=a)!=null&&u.errors)o=a.matches;else return null}let f=o,g=(l=a)==null?void 0:l.errors;if(g!=null){let m=f.findIndex(k=>k.route.id&&(g==null?void 0:g[k.route.id]));m>=0||Pt(!1),f=f.slice(0,Math.min(f.length,m+1))}return f.reduceRight((m,k,b)=>{let A=k.route.id?g==null?void 0:g[k.route.id]:null,v=null;a&&(v=k.route.errorElement||UW);let y=i.concat(f.slice(0,b+1)),x=()=>{let E;return A?E=v:k.route.Component?E=se.createElement(k.route.Component,null):k.route.element?E=k.route.element:E=m,se.createElement($W,{match:k,routeContext:{outlet:m,matches:y,isDataRoute:a!=null},children:E})};return a&&(k.route.ErrorBoundary||k.route.errorElement||b===0)?se.createElement(HW,{location:a.location,revalidation:a.revalidation,component:v,error:A,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var aT=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(aT||{}),Yh=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Yh||{});function qW(o){let i=se.useContext(Uw);return i||Pt(!1),i}function GW(o){let i=se.useContext(zW);return i||Pt(!1),i}function YW(o){let i=se.useContext(ho);return i||Pt(!1),i}function cT(o){let i=YW(),a=i.matches[i.matches.length-1];return a.route.id||Pt(!1),a.route.id}function ZW(){var o;let i=se.useContext(iT),a=GW(Yh.UseRouteError),l=cT(Yh.UseRouteError);return i||((o=a.errors)==null?void 0:o[l])}function KW(){let{router:o}=qW(aT.UseNavigateStable),i=cT(Yh.UseNavigateStable),a=se.useRef(!1);return rT(()=>{a.current=!0}),se.useCallback(function(u,f){f===void 0&&(f={}),a.current&&(typeof u=="number"?o.navigate(u):o.navigate(u,Gh({fromRouteId:i},f)))},[o,i])}function qo(o){Pt(!1)}function QW(o){let{basename:i="/",children:a=null,location:l,navigationType:u=Kr.Pop,navigator:f,static:g=!1}=o;Ul()&&Pt(!1);let m=i.replace(/^\/*/,"/"),k=se.useMemo(()=>({basename:m,navigator:f,static:g}),[m,f,g]);typeof l=="string"&&(l=Ea(l));let{pathname:b="/",search:A="",hash:v="",state:y=null,key:x="default"}=l,E=se.useMemo(()=>{let T=Vw(b,m);return T==null?null:{location:{pathname:T,search:A,hash:v,state:y,key:x},navigationType:u}},[m,b,A,v,y,x,u]);return E==null?null:se.createElement(Da.Provider,{value:k},se.createElement(wf.Provider,{children:a,value:E}))}function JW(o){let{children:i,location:a}=o;return RW(E0(i),a)}new Promise(()=>{});function E0(o,i){i===void 0&&(i=[]);let a=[];return se.Children.forEach(o,(l,u)=>{if(!se.isValidElement(l))return;let f=[...i,u];if(l.type===se.Fragment){a.push.apply(a,E0(l.props.children,f));return}l.type!==qo&&Pt(!1),!l.props.index||!l.props.children||Pt(!1);let g={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(g.children=E0(l.props.children,f)),a.push(g)}),a}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D0(){return D0=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},D0.apply(this,arguments)}function XW(o,i){if(o==null)return{};var a={},l=Object.keys(o),u,f;for(f=0;f<l.length;f++)u=l[f],!(i.indexOf(u)>=0)&&(a[u]=o[u]);return a}function eq(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function tq(o,i){return o.button===0&&(!i||i==="_self")&&!eq(o)}const nq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iq="startTransition",jE=eH[iq];function rq(o){let{basename:i,children:a,future:l,window:u}=o,f=se.useRef();f.current==null&&(f.current=uW({window:u,v5Compat:!0}));let g=f.current,[m,k]=se.useState({action:g.action,location:g.location}),{v7_startTransition:b}=l||{},A=se.useCallback(v=>{b&&jE?jE(()=>k(v)):k(v)},[k,b]);return se.useLayoutEffect(()=>g.listen(A),[g,A]),se.createElement(QW,{basename:i,children:a,location:m.location,navigationType:m.action,navigator:g})}const oq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aa=se.forwardRef(function(i,a){let{onClick:l,relative:u,reloadDocument:f,replace:g,state:m,target:k,to:b,preventScrollReset:A,unstable_viewTransition:v}=i,y=XW(i,nq),{basename:x}=se.useContext(Da),E,T=!1;if(typeof b=="string"&&sq.test(b)&&(E=b,oq))try{let P=new URL(window.location.href),j=b.startsWith("//")?new URL(P.protocol+b):new URL(b),q=Vw(j.pathname,x);j.origin===P.origin&&q!=null?b=q+j.search+j.hash:T=!0}catch{}let B=LW(b,{relative:u}),I=aq(b,{replace:g,state:m,target:k,preventScrollReset:A,relative:u,unstable_viewTransition:v});function N(P){l&&l(P),P.defaultPrevented||I(P)}return se.createElement("a",D0({},y,{href:E||B,onClick:T||f?l:N,ref:a,target:k}))});var RE;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(RE||(RE={}));var FE;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(FE||(FE={}));function aq(o,i){let{target:a,replace:l,state:u,preventScrollReset:f,relative:g,unstable_viewTransition:m}=i===void 0?{}:i,k=Sa(),b=Hl(),A=sT(o,{relative:g});return se.useCallback(v=>{if(tq(v,a)){v.preventDefault();let y=l!==void 0?l:qh(b)===qh(A);k(o,{replace:y,state:u,preventScrollReset:f,relative:g,unstable_viewTransition:m})}},[b,k,A,l,u,a,o,f,g,m])}function mr(o){return Array.isArray?Array.isArray(o):uT(o)==="[object Array]"}const cq=1/0;function lq(o){if(typeof o=="string")return o;let i=o+"";return i=="0"&&1/o==-cq?"-0":i}function dq(o){return o==null?"":lq(o)}function Fi(o){return typeof o=="string"}function lT(o){return typeof o=="number"}function uq(o){return o===!0||o===!1||hq(o)&&uT(o)=="[object Boolean]"}function dT(o){return typeof o=="object"}function hq(o){return dT(o)&&o!==null}function Pn(o){return o!=null}function kb(o){return!o.trim().length}function uT(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(o)}const fq="Incorrect 'index' type",gq=o=>`Invalid value for key ${o}`,pq=o=>`Pattern length exceeds max of ${o}.`,mq=o=>`Missing ${o} property in key`,kq=o=>`Property 'weight' in key '${o}' must be a positive integer`,VE=Object.prototype.hasOwnProperty;class bq{constructor(i){this._keys=[],this._keyMap={};let a=0;i.forEach(l=>{let u=hT(l);this._keys.push(u),this._keyMap[u.id]=u,a+=u.weight}),this._keys.forEach(l=>{l.weight/=a})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function hT(o){let i=null,a=null,l=null,u=1,f=null;if(Fi(o)||mr(o))l=o,i=UE(o),a=S0(o);else{if(!VE.call(o,"name"))throw new Error(mq("name"));const g=o.name;if(l=g,VE.call(o,"weight")&&(u=o.weight,u<=0))throw new Error(kq(g));i=UE(g),a=S0(g),f=o.getFn}return{path:i,id:a,weight:u,src:l,getFn:f}}function UE(o){return mr(o)?o:o.split(".")}function S0(o){return mr(o)?o.join("."):o}function wq(o,i){let a=[],l=!1;const u=(f,g,m)=>{if(Pn(f))if(!g[m])a.push(f);else{let k=g[m];const b=f[k];if(!Pn(b))return;if(m===g.length-1&&(Fi(b)||lT(b)||uq(b)))a.push(dq(b));else if(mr(b)){l=!0;for(let A=0,v=b.length;A<v;A+=1)u(b[A],g,m+1)}else g.length&&u(b,g,m+1)}};return u(o,Fi(i)?i.split("."):i,0),l?a:a[0]}const vq={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},_q={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(o,i)=>o.score===i.score?o.idx<i.idx?-1:1:o.score<i.score?-1:1},yq={location:0,threshold:.6,distance:100},Aq={useExtendedSearch:!1,getFn:wq,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ye={..._q,...vq,...yq,...Aq};const Cq=/[^ ]+/g;function xq(o=1,i=3){const a=new Map,l=Math.pow(10,i);return{get(u){const f=u.match(Cq).length;if(a.has(f))return a.get(f);const g=1/Math.pow(f,.5*o),m=parseFloat(Math.round(g*l)/l);return a.set(f,m),m},clear(){a.clear()}}}class Hw{constructor({getFn:i=ye.getFn,fieldNormWeight:a=ye.fieldNormWeight}={}){this.norm=xq(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((a,l)=>{this._keysMap[a.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Fi(this.docs[0])?this.docs.forEach((i,a)=>{this._addString(i,a)}):this.docs.forEach((i,a)=>{this._addObject(i,a)}),this.norm.clear())}add(i){const a=this.size();Fi(i)?this._addString(i,a):this._addObject(i,a)}removeAt(i){this.records.splice(i,1);for(let a=i,l=this.size();a<l;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(i,a){return i[this._keysMap[a]]}size(){return this.records.length}_addString(i,a){if(!Pn(i)||kb(i))return;let l={v:i,i:a,n:this.norm.get(i)};this.records.push(l)}_addObject(i,a){let l={i:a,$:{}};this.keys.forEach((u,f)=>{let g=u.getFn?u.getFn(i):this.getFn(i,u.path);if(Pn(g)){if(mr(g)){let m=[];const k=[{nestedArrIndex:-1,value:g}];for(;k.length;){const{nestedArrIndex:b,value:A}=k.pop();if(Pn(A))if(Fi(A)&&!kb(A)){let v={v:A,i:b,n:this.norm.get(A)};m.push(v)}else mr(A)&&A.forEach((v,y)=>{k.push({nestedArrIndex:y,value:v})})}l.$[f]=m}else if(Fi(g)&&!kb(g)){let m={v:g,n:this.norm.get(g)};l.$[f]=m}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function fT(o,i,{getFn:a=ye.getFn,fieldNormWeight:l=ye.fieldNormWeight}={}){const u=new Hw({getFn:a,fieldNormWeight:l});return u.setKeys(o.map(hT)),u.setSources(i),u.create(),u}function Eq(o,{getFn:i=ye.getFn,fieldNormWeight:a=ye.fieldNormWeight}={}){const{keys:l,records:u}=o,f=new Hw({getFn:i,fieldNormWeight:a});return f.setKeys(l),f.setIndexRecords(u),f}function Ku(o,{errors:i=0,currentLocation:a=0,expectedLocation:l=0,distance:u=ye.distance,ignoreLocation:f=ye.ignoreLocation}={}){const g=i/o.length;if(f)return g;const m=Math.abs(l-a);return u?g+m/u:m?1:g}function Dq(o=[],i=ye.minMatchCharLength){let a=[],l=-1,u=-1,f=0;for(let g=o.length;f<g;f+=1){let m=o[f];m&&l===-1?l=f:!m&&l!==-1&&(u=f-1,u-l+1>=i&&a.push([l,u]),l=-1)}return o[f-1]&&f-l>=i&&a.push([l,f-1]),a}const Go=32;function Sq(o,i,a,{location:l=ye.location,distance:u=ye.distance,threshold:f=ye.threshold,findAllMatches:g=ye.findAllMatches,minMatchCharLength:m=ye.minMatchCharLength,includeMatches:k=ye.includeMatches,ignoreLocation:b=ye.ignoreLocation}={}){if(i.length>Go)throw new Error(pq(Go));const A=i.length,v=o.length,y=Math.max(0,Math.min(l,v));let x=f,E=y;const T=m>1||k,B=T?Array(v):[];let I;for(;(I=o.indexOf(i,E))>-1;){let Q=Ku(i,{currentLocation:I,expectedLocation:y,distance:u,ignoreLocation:b});if(x=Math.min(Q,x),E=I+A,T){let Z=0;for(;Z<A;)B[I+Z]=1,Z+=1}}E=-1;let N=[],P=1,j=A+v;const q=1<<A-1;for(let Q=0;Q<A;Q+=1){let Z=0,ae=j;for(;Z<ae;)Ku(i,{errors:Q,currentLocation:y+ae,expectedLocation:y,distance:u,ignoreLocation:b})<=x?Z=ae:j=ae,ae=Math.floor((j-Z)/2+Z);j=ae;let ce=Math.max(1,y-ae+1),H=g?v:Math.min(y+ae,v)+A,$=Array(H+2);$[H+1]=(1<<Q)-1;for(let R=H;R>=ce;R-=1){let F=R-1,M=a[o.charAt(F)];if(T&&(B[F]=+!!M),$[R]=($[R+1]<<1|1)&M,Q&&($[R]|=(N[R+1]|N[R])<<1|1|N[R+1]),$[R]&q&&(P=Ku(i,{errors:Q,currentLocation:F,expectedLocation:y,distance:u,ignoreLocation:b}),P<=x)){if(x=P,E=F,E<=y)break;ce=Math.max(1,2*y-E)}}if(Ku(i,{errors:Q+1,currentLocation:y,expectedLocation:y,distance:u,ignoreLocation:b})>x)break;N=$}const K={isMatch:E>=0,score:Math.max(.001,P)};if(T){const Q=Dq(B,m);Q.length?k&&(K.indices=Q):K.isMatch=!1}return K}function Tq(o){let i={};for(let a=0,l=o.length;a<l;a+=1){const u=o.charAt(a);i[u]=(i[u]||0)|1<<l-a-1}return i}class gT{constructor(i,{location:a=ye.location,threshold:l=ye.threshold,distance:u=ye.distance,includeMatches:f=ye.includeMatches,findAllMatches:g=ye.findAllMatches,minMatchCharLength:m=ye.minMatchCharLength,isCaseSensitive:k=ye.isCaseSensitive,ignoreLocation:b=ye.ignoreLocation}={}){if(this.options={location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:g,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:b},this.pattern=k?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;const A=(y,x)=>{this.chunks.push({pattern:y,alphabet:Tq(y),startIndex:x})},v=this.pattern.length;if(v>Go){let y=0;const x=v%Go,E=v-x;for(;y<E;)A(this.pattern.substr(y,Go),y),y+=Go;if(x){const T=v-Go;A(this.pattern.substr(T),T)}}else A(this.pattern,0)}searchIn(i){const{isCaseSensitive:a,includeMatches:l}=this.options;if(a||(i=i.toLowerCase()),this.pattern===i){let E={isMatch:!0,score:0};return l&&(E.indices=[[0,i.length-1]]),E}const{location:u,distance:f,threshold:g,findAllMatches:m,minMatchCharLength:k,ignoreLocation:b}=this.options;let A=[],v=0,y=!1;this.chunks.forEach(({pattern:E,alphabet:T,startIndex:B})=>{const{isMatch:I,score:N,indices:P}=Sq(i,E,T,{location:u+B,distance:f,threshold:g,findAllMatches:m,minMatchCharLength:k,includeMatches:l,ignoreLocation:b});I&&(y=!0),v+=N,I&&P&&(A=[...A,...P])});let x={isMatch:y,score:y?v/this.chunks.length:1};return y&&l&&(x.indices=A),x}}class fo{constructor(i){this.pattern=i}static isMultiMatch(i){return HE(i,this.multiRegex)}static isSingleMatch(i){return HE(i,this.singleRegex)}search(){}}function HE(o,i){const a=o.match(i);return a?a[1]:null}class Iq extends fo{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class Mq extends fo{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const l=i.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,i.length-1]}}}class Nq extends fo{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class Oq extends fo{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class Pq extends fo{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}class Bq extends fo{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}class pT extends fo{constructor(i,{location:a=ye.location,threshold:l=ye.threshold,distance:u=ye.distance,includeMatches:f=ye.includeMatches,findAllMatches:g=ye.findAllMatches,minMatchCharLength:m=ye.minMatchCharLength,isCaseSensitive:k=ye.isCaseSensitive,ignoreLocation:b=ye.ignoreLocation}={}){super(i),this._bitapSearch=new gT(i,{location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:g,minMatchCharLength:m,isCaseSensitive:k,ignoreLocation:b})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class mT extends fo{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let a=0,l;const u=[],f=this.pattern.length;for(;(l=i.indexOf(this.pattern,a))>-1;)a=l+f,u.push([l,a-1]);const g=!!u.length;return{isMatch:g,score:g?0:1,indices:u}}}const T0=[Iq,mT,Nq,Oq,Bq,Pq,Mq,pT],$E=T0.length,zq=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Lq="|";function jq(o,i={}){return o.split(Lq).map(a=>{let l=a.trim().split(zq).filter(f=>f&&!!f.trim()),u=[];for(let f=0,g=l.length;f<g;f+=1){const m=l[f];let k=!1,b=-1;for(;!k&&++b<$E;){const A=T0[b];let v=A.isMultiMatch(m);v&&(u.push(new A(v,i)),k=!0)}if(!k)for(b=-1;++b<$E;){const A=T0[b];let v=A.isSingleMatch(m);if(v){u.push(new A(v,i));break}}}return u})}const Rq=new Set([pT.type,mT.type]);class Fq{constructor(i,{isCaseSensitive:a=ye.isCaseSensitive,includeMatches:l=ye.includeMatches,minMatchCharLength:u=ye.minMatchCharLength,ignoreLocation:f=ye.ignoreLocation,findAllMatches:g=ye.findAllMatches,location:m=ye.location,threshold:k=ye.threshold,distance:b=ye.distance}={}){this.query=null,this.options={isCaseSensitive:a,includeMatches:l,minMatchCharLength:u,findAllMatches:g,ignoreLocation:f,location:m,threshold:k,distance:b},this.pattern=a?i:i.toLowerCase(),this.query=jq(this.pattern,this.options)}static condition(i,a){return a.useExtendedSearch}searchIn(i){const a=this.query;if(!a)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:u}=this.options;i=u?i:i.toLowerCase();let f=0,g=[],m=0;for(let k=0,b=a.length;k<b;k+=1){const A=a[k];g.length=0,f=0;for(let v=0,y=A.length;v<y;v+=1){const x=A[v],{isMatch:E,indices:T,score:B}=x.search(i);if(E){if(f+=1,m+=B,l){const I=x.constructor.type;Rq.has(I)?g=[...g,...T]:g.push(T)}}else{m=0,f=0,g.length=0;break}}if(f){let v={isMatch:!0,score:m/f};return l&&(v.indices=g),v}}return{isMatch:!1,score:1}}}const I0=[];function Vq(...o){I0.push(...o)}function M0(o,i){for(let a=0,l=I0.length;a<l;a+=1){let u=I0[a];if(u.condition(o,i))return new u(o,i)}return new gT(o,i)}const Zh={AND:"$and",OR:"$or"},N0={PATH:"$path",PATTERN:"$val"},O0=o=>!!(o[Zh.AND]||o[Zh.OR]),Uq=o=>!!o[N0.PATH],Hq=o=>!mr(o)&&dT(o)&&!O0(o),WE=o=>({[Zh.AND]:Object.keys(o).map(i=>({[i]:o[i]}))});function kT(o,i,{auto:a=!0}={}){const l=u=>{let f=Object.keys(u);const g=Uq(u);if(!g&&f.length>1&&!O0(u))return l(WE(u));if(Hq(u)){const k=g?u[N0.PATH]:f[0],b=g?u[N0.PATTERN]:u[k];if(!Fi(b))throw new Error(gq(k));const A={keyId:S0(k),pattern:b};return a&&(A.searcher=M0(b,i)),A}let m={children:[],operator:f[0]};return f.forEach(k=>{const b=u[k];mr(b)&&b.forEach(A=>{m.children.push(l(A))})}),m};return O0(o)||(o=WE(o)),l(o)}function $q(o,{ignoreFieldNorm:i=ye.ignoreFieldNorm}){o.forEach(a=>{let l=1;a.matches.forEach(({key:u,norm:f,score:g})=>{const m=u?u.weight:null;l*=Math.pow(g===0&&m?Number.EPSILON:g,(m||1)*(i?1:f))}),a.score=l})}function Wq(o,i){const a=o.matches;i.matches=[],Pn(a)&&a.forEach(l=>{if(!Pn(l.indices)||!l.indices.length)return;const{indices:u,value:f}=l;let g={indices:u,value:f};l.key&&(g.key=l.key.src),l.idx>-1&&(g.refIndex=l.idx),i.matches.push(g)})}function qq(o,i){i.score=o.score}function Gq(o,i,{includeMatches:a=ye.includeMatches,includeScore:l=ye.includeScore}={}){const u=[];return a&&u.push(Wq),l&&u.push(qq),o.map(f=>{const{idx:g}=f,m={item:i[g],refIndex:g};return u.length&&u.forEach(k=>{k(f,m)}),m})}class Ta{constructor(i,a={},l){this.options={...ye,...a},this.options.useExtendedSearch,this._keyStore=new bq(this.options.keys),this.setCollection(i,l)}setCollection(i,a){if(this._docs=i,a&&!(a instanceof Hw))throw new Error(fq);this._myIndex=a||fT(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Pn(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){const a=[];for(let l=0,u=this._docs.length;l<u;l+=1){const f=this._docs[l];i(f,l)&&(this.removeAt(l),l-=1,u-=1,a.push(f))}return a}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:a=-1}={}){const{includeMatches:l,includeScore:u,shouldSort:f,sortFn:g,ignoreFieldNorm:m}=this.options;let k=Fi(i)?Fi(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return $q(k,{ignoreFieldNorm:m}),f&&k.sort(g),lT(a)&&a>-1&&(k=k.slice(0,a)),Gq(k,this._docs,{includeMatches:l,includeScore:u})}_searchStringList(i){const a=M0(i,this.options),{records:l}=this._myIndex,u=[];return l.forEach(({v:f,i:g,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:b,indices:A}=a.searchIn(f);k&&u.push({item:f,idx:g,matches:[{score:b,value:f,norm:m,indices:A}]})}),u}_searchLogical(i){const a=kT(i,this.options),l=(m,k,b)=>{if(!m.children){const{keyId:v,searcher:y}=m,x=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(k,v),searcher:y});return x&&x.length?[{idx:b,item:k,matches:x}]:[]}const A=[];for(let v=0,y=m.children.length;v<y;v+=1){const x=m.children[v],E=l(x,k,b);if(E.length)A.push(...E);else if(m.operator===Zh.AND)return[]}return A},u=this._myIndex.records,f={},g=[];return u.forEach(({$:m,i:k})=>{if(Pn(m)){let b=l(a,m,k);b.length&&(f[k]||(f[k]={idx:k,item:m,matches:[]},g.push(f[k])),b.forEach(({matches:A})=>{f[k].matches.push(...A)}))}}),g}_searchObjectList(i){const a=M0(i,this.options),{keys:l,records:u}=this._myIndex,f=[];return u.forEach(({$:g,i:m})=>{if(!Pn(g))return;let k=[];l.forEach((b,A)=>{k.push(...this._findMatches({key:b,value:g[A],searcher:a}))}),k.length&&f.push({idx:m,item:g,matches:k})}),f}_findMatches({key:i,value:a,searcher:l}){if(!Pn(a))return[];let u=[];if(mr(a))a.forEach(({v:f,i:g,n:m})=>{if(!Pn(f))return;const{isMatch:k,score:b,indices:A}=l.searchIn(f);k&&u.push({score:b,key:i,value:f,idx:g,norm:m,indices:A})});else{const{v:f,n:g}=a,{isMatch:m,score:k,indices:b}=l.searchIn(f);m&&u.push({score:k,key:i,value:f,norm:g,indices:b})}return u}}Ta.version="7.0.0";Ta.createIndex=fT;Ta.parseIndex=Eq;Ta.config=ye;Ta.parseQuery=kT;Vq(Fq);const Yq=(o,i,a)=>{const u=new Ta(i,{keys:a}).search(o);return o?u.map(g=>g.item):i};class us extends Error{}class Zq extends us{constructor(i){super(`Invalid DateTime: ${i.toMessage()}`)}}class Kq extends us{constructor(i){super(`Invalid Interval: ${i.toMessage()}`)}}class Qq extends us{constructor(i){super(`Invalid Duration: ${i.toMessage()}`)}}class Jc extends us{}class bT extends us{constructor(i){super(`Invalid unit ${i}`)}}class Jn extends us{}class Lr extends us{constructor(){super("Zone is an abstract class")}}const de="numeric",yi="short",Ln="long",Kh={year:de,month:de,day:de},wT={year:de,month:yi,day:de},Jq={year:de,month:yi,day:de,weekday:yi},vT={year:de,month:Ln,day:de},_T={year:de,month:Ln,day:de,weekday:Ln},yT={hour:de,minute:de},AT={hour:de,minute:de,second:de},CT={hour:de,minute:de,second:de,timeZoneName:yi},xT={hour:de,minute:de,second:de,timeZoneName:Ln},ET={hour:de,minute:de,hourCycle:"h23"},DT={hour:de,minute:de,second:de,hourCycle:"h23"},ST={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:yi},TT={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:Ln},IT={year:de,month:de,day:de,hour:de,minute:de},MT={year:de,month:de,day:de,hour:de,minute:de,second:de},NT={year:de,month:yi,day:de,hour:de,minute:de},OT={year:de,month:yi,day:de,hour:de,minute:de,second:de},Xq={year:de,month:yi,day:de,weekday:yi,hour:de,minute:de},PT={year:de,month:Ln,day:de,hour:de,minute:de,timeZoneName:yi},BT={year:de,month:Ln,day:de,hour:de,minute:de,second:de,timeZoneName:yi},zT={year:de,month:Ln,day:de,weekday:Ln,hour:de,minute:de,timeZoneName:Ln},LT={year:de,month:Ln,day:de,weekday:Ln,hour:de,minute:de,second:de,timeZoneName:Ln};class $l{get type(){throw new Lr}get name(){throw new Lr}get ianaName(){return this.name}get isUniversal(){throw new Lr}offsetName(i,a){throw new Lr}formatOffset(i,a){throw new Lr}offset(i){throw new Lr}equals(i){throw new Lr}get isValid(){throw new Lr}}let bb=null;class vf extends $l{static get instance(){return bb===null&&(bb=new vf),bb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return RT(i,a,l)}formatOffset(i,a){return hl(this.offset(i),a)}offset(i){return-new Date(i).getTimezoneOffset()}equals(i){return i.type==="system"}get isValid(){return!0}}let vh={};function eG(o){return vh[o]||(vh[o]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:o,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),vh[o]}const tG={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function nG(o,i){const a=o.format(i).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(a),[,u,f,g,m,k,b,A]=l;return[g,u,f,m,k,b,A]}function iG(o,i){const a=o.formatToParts(i),l=[];for(let u=0;u<a.length;u++){const{type:f,value:g}=a[u],m=tG[f];f==="era"?l[m]=g:Oe(m)||(l[m]=parseInt(g,10))}return l}let Qu={};class kr extends $l{static create(i){return Qu[i]||(Qu[i]=new kr(i)),Qu[i]}static resetCache(){Qu={},vh={}}static isValidSpecifier(i){return this.isValidZone(i)}static isValidZone(i){if(!i)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}}constructor(i){super(),this.zoneName=i,this.valid=kr.isValidZone(i)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(i,{format:a,locale:l}){return RT(i,a,l,this.name)}formatOffset(i,a){return hl(this.offset(i),a)}offset(i){const a=new Date(i);if(isNaN(a))return NaN;const l=eG(this.name);let[u,f,g,m,k,b,A]=l.formatToParts?iG(l,a):nG(l,a);m==="BC"&&(u=-Math.abs(u)+1);const y=yf({year:u,month:f,day:g,hour:k===24?0:k,minute:b,second:A,millisecond:0});let x=+a;const E=x%1e3;return x-=E>=0?E:1e3+E,(y-x)/(60*1e3)}equals(i){return i.type==="iana"&&i.name===this.name}get isValid(){return this.valid}}let qE={};function rG(o,i={}){const a=JSON.stringify([o,i]);let l=qE[a];return l||(l=new Intl.ListFormat(o,i),qE[a]=l),l}let P0={};function B0(o,i={}){const a=JSON.stringify([o,i]);let l=P0[a];return l||(l=new Intl.DateTimeFormat(o,i),P0[a]=l),l}let z0={};function oG(o,i={}){const a=JSON.stringify([o,i]);let l=z0[a];return l||(l=new Intl.NumberFormat(o,i),z0[a]=l),l}let L0={};function sG(o,i={}){const{base:a,...l}=i,u=JSON.stringify([o,l]);let f=L0[u];return f||(f=new Intl.RelativeTimeFormat(o,i),L0[u]=f),f}let Xc=null;function aG(){return Xc||(Xc=new Intl.DateTimeFormat().resolvedOptions().locale,Xc)}function cG(o){const i=o.indexOf("-x-");i!==-1&&(o=o.substring(0,i));const a=o.indexOf("-u-");if(a===-1)return[o];{let l,u;try{l=B0(o).resolvedOptions(),u=o}catch{const k=o.substring(0,a);l=B0(k).resolvedOptions(),u=k}const{numberingSystem:f,calendar:g}=l;return[u,f,g]}}function lG(o,i,a){return(a||i)&&(o.includes("-u-")||(o+="-u"),a&&(o+=`-ca-${a}`),i&&(o+=`-nu-${i}`)),o}function dG(o){const i=[];for(let a=1;a<=12;a++){const l=Se.utc(2009,a,1);i.push(o(l))}return i}function uG(o){const i=[];for(let a=1;a<=7;a++){const l=Se.utc(2016,11,13+a);i.push(o(l))}return i}function Ju(o,i,a,l){const u=o.listingMode();return u==="error"?null:u==="en"?a(i):l(i)}function hG(o){return o.numberingSystem&&o.numberingSystem!=="latn"?!1:o.numberingSystem==="latn"||!o.locale||o.locale.startsWith("en")||new Intl.DateTimeFormat(o.intl).resolvedOptions().numberingSystem==="latn"}class fG{constructor(i,a,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:u,floor:f,...g}=l;if(!a||Object.keys(g).length>0){const m={useGrouping:!1,...l};l.padTo>0&&(m.minimumIntegerDigits=l.padTo),this.inf=oG(i,m)}}format(i){if(this.inf){const a=this.floor?Math.floor(i):i;return this.inf.format(a)}else{const a=this.floor?Math.floor(i):Ww(i,3);return Nt(a,this.padTo)}}}class gG{constructor(i,a,l){this.opts=l,this.originalZone=void 0;let u;if(this.opts.timeZone)this.dt=i;else if(i.zone.type==="fixed"){const g=-1*(i.offset/60),m=g>=0?`Etc/GMT+${g}`:`Etc/GMT${g}`;i.offset!==0&&kr.create(m).valid?(u=m,this.dt=i):(u="UTC",this.dt=i.offset===0?i:i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone)}else i.zone.type==="system"?this.dt=i:i.zone.type==="iana"?(this.dt=i,u=i.zone.name):(u="UTC",this.dt=i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone);const f={...this.opts};f.timeZone=f.timeZone||u,this.dtf=B0(a,f)}format(){return this.originalZone?this.formatToParts().map(({value:i})=>i).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const i=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?i.map(a=>{if(a.type==="timeZoneName"){const l=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...a,value:l}}else return a}):i}resolvedOptions(){return this.dtf.resolvedOptions()}}class pG{constructor(i,a,l){this.opts={style:"long",...l},!a&&jT()&&(this.rtf=sG(i,l))}format(i,a){return this.rtf?this.rtf.format(i,a):NG(a,i,this.opts.numeric,this.opts.style!=="long")}formatToParts(i,a){return this.rtf?this.rtf.formatToParts(i,a):[]}}class ut{static fromOpts(i){return ut.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)}static create(i,a,l,u=!1){const f=i||Mt.defaultLocale,g=f||(u?"en-US":aG()),m=a||Mt.defaultNumberingSystem,k=l||Mt.defaultOutputCalendar;return new ut(g,m,k,f)}static resetCache(){Xc=null,P0={},z0={},L0={}}static fromObject({locale:i,numberingSystem:a,outputCalendar:l}={}){return ut.create(i,a,l)}constructor(i,a,l,u){const[f,g,m]=cG(i);this.locale=f,this.numberingSystem=a||g||null,this.outputCalendar=l||m||null,this.intl=lG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=hG(this)),this.fastNumbersCached}listingMode(){const i=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return i&&a?"en":"intl"}clone(i){return!i||Object.getOwnPropertyNames(i).length===0?this:ut.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1)}redefaultToEN(i={}){return this.clone({...i,defaultToEN:!0})}redefaultToSystem(i={}){return this.clone({...i,defaultToEN:!1})}months(i,a=!1){return Ju(this,i,UT,()=>{const l=a?{month:i,day:"numeric"}:{month:i},u=a?"format":"standalone";return this.monthsCache[u][i]||(this.monthsCache[u][i]=dG(f=>this.extract(f,l,"month"))),this.monthsCache[u][i]})}weekdays(i,a=!1){return Ju(this,i,WT,()=>{const l=a?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},u=a?"format":"standalone";return this.weekdaysCache[u][i]||(this.weekdaysCache[u][i]=uG(f=>this.extract(f,l,"weekday"))),this.weekdaysCache[u][i]})}meridiems(){return Ju(this,void 0,()=>qT,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Se.utc(2016,11,13,9),Se.utc(2016,11,13,19)].map(a=>this.extract(a,i,"dayperiod"))}return this.meridiemCache})}eras(i){return Ju(this,i,GT,()=>{const a={era:i};return this.eraCache[i]||(this.eraCache[i]=[Se.utc(-40,1,1),Se.utc(2017,1,1)].map(l=>this.extract(l,a,"era"))),this.eraCache[i]})}extract(i,a,l){const u=this.dtFormatter(i,a),f=u.formatToParts(),g=f.find(m=>m.type.toLowerCase()===l);return g?g.value:null}numberFormatter(i={}){return new fG(this.intl,i.forceSimple||this.fastNumbers,i)}dtFormatter(i,a={}){return new gG(i,this.intl,a)}relFormatter(i={}){return new pG(this.intl,this.isEnglish(),i)}listFormatter(i={}){return rG(this.intl,i)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}}let wb=null;class dn extends $l{static get utcInstance(){return wb===null&&(wb=new dn(0)),wb}static instance(i){return i===0?dn.utcInstance:new dn(i)}static parseSpecifier(i){if(i){const a=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new dn(Af(a[1],a[2]))}return null}constructor(i){super(),this.fixed=i}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${hl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${hl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(i,a){return hl(this.fixed,a)}get isUniversal(){return!0}offset(){return this.fixed}equals(i){return i.type==="fixed"&&i.fixed===this.fixed}get isValid(){return!0}}class mG extends $l{constructor(i){super(),this.zoneName=i}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function qr(o,i){if(Oe(o)||o===null)return i;if(o instanceof $l)return o;if(kG(o)){const a=o.toLowerCase();return a==="default"?i:a==="local"||a==="system"?vf.instance:a==="utc"||a==="gmt"?dn.utcInstance:dn.parseSpecifier(a)||kr.create(o)}else return is(o)?dn.instance(o):typeof o=="object"&&"offset"in o&&typeof o.offset=="function"?o:new mG(o)}let GE=()=>Date.now(),YE="system",ZE=null,KE=null,QE=null,JE=60,XE;class Mt{static get now(){return GE}static set now(i){GE=i}static set defaultZone(i){YE=i}static get defaultZone(){return qr(YE,vf.instance)}static get defaultLocale(){return ZE}static set defaultLocale(i){ZE=i}static get defaultNumberingSystem(){return KE}static set defaultNumberingSystem(i){KE=i}static get defaultOutputCalendar(){return QE}static set defaultOutputCalendar(i){QE=i}static get twoDigitCutoffYear(){return JE}static set twoDigitCutoffYear(i){JE=i%100}static get throwOnInvalid(){return XE}static set throwOnInvalid(i){XE=i}static resetCaches(){ut.resetCache(),kr.resetCache()}}function Oe(o){return typeof o>"u"}function is(o){return typeof o=="number"}function _f(o){return typeof o=="number"&&o%1===0}function kG(o){return typeof o=="string"}function bG(o){return Object.prototype.toString.call(o)==="[object Date]"}function jT(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wG(o){return Array.isArray(o)?o:[o]}function e5(o,i,a){if(o.length!==0)return o.reduce((l,u)=>{const f=[i(u),u];return l&&a(l[0],f[0])===l[0]?l:f},null)[1]}function vG(o,i){return i.reduce((a,l)=>(a[l]=o[l],a),{})}function ya(o,i){return Object.prototype.hasOwnProperty.call(o,i)}function dr(o,i,a){return _f(o)&&o>=i&&o<=a}function _G(o,i){return o-i*Math.floor(o/i)}function Nt(o,i=2){const a=o<0;let l;return a?l="-"+(""+-o).padStart(i,"0"):l=(""+o).padStart(i,"0"),l}function Ur(o){if(!(Oe(o)||o===null||o===""))return parseInt(o,10)}function Fo(o){if(!(Oe(o)||o===null||o===""))return parseFloat(o)}function $w(o){if(!(Oe(o)||o===null||o==="")){const i=parseFloat("0."+o)*1e3;return Math.floor(i)}}function Ww(o,i,a=!1){const l=10**i;return(a?Math.trunc:Math.round)(o*l)/l}function Wl(o){return o%4===0&&(o%100!==0||o%400===0)}function ul(o){return Wl(o)?366:365}function Qh(o,i){const a=_G(i-1,12)+1,l=o+(i-a)/12;return a===2?Wl(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][a-1]}function yf(o){let i=Date.UTC(o.year,o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond);return o.year<100&&o.year>=0&&(i=new Date(i),i.setUTCFullYear(o.year,o.month-1,o.day)),+i}function Jh(o){const i=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7,a=o-1,l=(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7;return i===4||l===3?53:52}function j0(o){return o>99?o:o>Mt.twoDigitCutoffYear?1900+o:2e3+o}function RT(o,i,a,l=null){const u=new Date(o),f={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(f.timeZone=l);const g={timeZoneName:i,...f},m=new Intl.DateTimeFormat(a,g).formatToParts(u).find(k=>k.type.toLowerCase()==="timezonename");return m?m.value:null}function Af(o,i){let a=parseInt(o,10);Number.isNaN(a)&&(a=0);const l=parseInt(i,10)||0,u=a<0||Object.is(a,-0)?-l:l;return a*60+u}function FT(o){const i=Number(o);if(typeof o=="boolean"||o===""||Number.isNaN(i))throw new Jn(`Invalid unit value ${o}`);return i}function Xh(o,i){const a={};for(const l in o)if(ya(o,l)){const u=o[l];if(u==null)continue;a[i(l)]=FT(u)}return a}function hl(o,i){const a=Math.trunc(Math.abs(o/60)),l=Math.trunc(Math.abs(o%60)),u=o>=0?"+":"-";switch(i){case"short":return`${u}${Nt(a,2)}:${Nt(l,2)}`;case"narrow":return`${u}${a}${l>0?`:${l}`:""}`;case"techie":return`${u}${Nt(a,2)}${Nt(l,2)}`;default:throw new RangeError(`Value format ${i} is out of range for property format`)}}function Cf(o){return vG(o,["hour","minute","second","millisecond"])}const yG=["January","February","March","April","May","June","July","August","September","October","November","December"],VT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AG=["J","F","M","A","M","J","J","A","S","O","N","D"];function UT(o){switch(o){case"narrow":return[...AG];case"short":return[...VT];case"long":return[...yG];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const HT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$T=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],CG=["M","T","W","T","F","S","S"];function WT(o){switch(o){case"narrow":return[...CG];case"short":return[...$T];case"long":return[...HT];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const qT=["AM","PM"],xG=["Before Christ","Anno Domini"],EG=["BC","AD"],DG=["B","A"];function GT(o){switch(o){case"narrow":return[...DG];case"short":return[...EG];case"long":return[...xG];default:return null}}function SG(o){return qT[o.hour<12?0:1]}function TG(o,i){return WT(i)[o.weekday-1]}function IG(o,i){return UT(i)[o.month-1]}function MG(o,i){return GT(i)[o.year<0?0:1]}function NG(o,i,a="always",l=!1){const u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},f=["hours","minutes","seconds"].indexOf(o)===-1;if(a==="auto"&&f){const v=o==="days";switch(i){case 1:return v?"tomorrow":`next ${u[o][0]}`;case-1:return v?"yesterday":`last ${u[o][0]}`;case 0:return v?"today":`this ${u[o][0]}`}}const g=Object.is(i,-0)||i<0,m=Math.abs(i),k=m===1,b=u[o],A=l?k?b[1]:b[2]||b[1]:k?u[o][0]:o;return g?`${m} ${A} ago`:`in ${m} ${A}`}function t5(o,i){let a="";for(const l of o)l.literal?a+=l.val:a+=i(l.val);return a}const OG={D:Kh,DD:wT,DDD:vT,DDDD:_T,t:yT,tt:AT,ttt:CT,tttt:xT,T:ET,TT:DT,TTT:ST,TTTT:TT,f:IT,ff:NT,fff:PT,ffff:zT,F:MT,FF:OT,FFF:BT,FFFF:LT};class sn{static create(i,a={}){return new sn(i,a)}static parseFormat(i){let a=null,l="",u=!1;const f=[];for(let g=0;g<i.length;g++){const m=i.charAt(g);m==="'"?(l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),a=null,l="",u=!u):u||m===a?l+=m:(l.length>0&&f.push({literal:/^\s+$/.test(l),val:l}),l=m,a=m)}return l.length>0&&f.push({literal:u||/^\s+$/.test(l),val:l}),f}static macroTokenToFormatOpts(i){return OG[i]}constructor(i,a){this.opts=a,this.loc=i,this.systemLoc=null}formatWithSystemDefault(i,a){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(i,{...this.opts,...a}).format()}dtFormatter(i,a={}){return this.loc.dtFormatter(i,{...this.opts,...a})}formatDateTime(i,a){return this.dtFormatter(i,a).format()}formatDateTimeParts(i,a){return this.dtFormatter(i,a).formatToParts()}formatInterval(i,a){return this.dtFormatter(i.start,a).dtf.formatRange(i.start.toJSDate(),i.end.toJSDate())}resolvedOptions(i,a){return this.dtFormatter(i,a).resolvedOptions()}num(i,a=0){if(this.opts.forceSimple)return Nt(i,a);const l={...this.opts};return a>0&&(l.padTo=a),this.loc.numberFormatter(l).format(i)}formatDateTimeFromString(i,a){const l=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",f=(x,E)=>this.loc.extract(i,x,E),g=x=>i.isOffsetFixed&&i.offset===0&&x.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,x.format):"",m=()=>l?SG(i):f({hour:"numeric",hourCycle:"h12"},"dayperiod"),k=(x,E)=>l?IG(i,x):f(E?{month:x}:{month:x,day:"numeric"},"month"),b=(x,E)=>l?TG(i,x):f(E?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),A=x=>{const E=sn.macroTokenToFormatOpts(x);return E?this.formatWithSystemDefault(i,E):x},v=x=>l?MG(i,x):f({era:x},"era"),y=x=>{switch(x){case"S":return this.num(i.millisecond);case"u":case"SSS":return this.num(i.millisecond,3);case"s":return this.num(i.second);case"ss":return this.num(i.second,2);case"uu":return this.num(Math.floor(i.millisecond/10),2);case"uuu":return this.num(Math.floor(i.millisecond/100));case"m":return this.num(i.minute);case"mm":return this.num(i.minute,2);case"h":return this.num(i.hour%12===0?12:i.hour%12);case"hh":return this.num(i.hour%12===0?12:i.hour%12,2);case"H":return this.num(i.hour);case"HH":return this.num(i.hour,2);case"Z":return g({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return g({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return g({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:this.loc.locale});case"z":return i.zoneName;case"a":return m();case"d":return u?f({day:"numeric"},"day"):this.num(i.day);case"dd":return u?f({day:"2-digit"},"day"):this.num(i.day,2);case"c":return this.num(i.weekday);case"ccc":return b("short",!0);case"cccc":return b("long",!0);case"ccccc":return b("narrow",!0);case"E":return this.num(i.weekday);case"EEE":return b("short",!1);case"EEEE":return b("long",!1);case"EEEEE":return b("narrow",!1);case"L":return u?f({month:"numeric",day:"numeric"},"month"):this.num(i.month);case"LL":return u?f({month:"2-digit",day:"numeric"},"month"):this.num(i.month,2);case"LLL":return k("short",!0);case"LLLL":return k("long",!0);case"LLLLL":return k("narrow",!0);case"M":return u?f({month:"numeric"},"month"):this.num(i.month);case"MM":return u?f({month:"2-digit"},"month"):this.num(i.month,2);case"MMM":return k("short",!1);case"MMMM":return k("long",!1);case"MMMMM":return k("narrow",!1);case"y":return u?f({year:"numeric"},"year"):this.num(i.year);case"yy":return u?f({year:"2-digit"},"year"):this.num(i.year.toString().slice(-2),2);case"yyyy":return u?f({year:"numeric"},"year"):this.num(i.year,4);case"yyyyyy":return u?f({year:"numeric"},"year"):this.num(i.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(i.weekYear.toString().slice(-2),2);case"kkkk":return this.num(i.weekYear,4);case"W":return this.num(i.weekNumber);case"WW":return this.num(i.weekNumber,2);case"o":return this.num(i.ordinal);case"ooo":return this.num(i.ordinal,3);case"q":return this.num(i.quarter);case"qq":return this.num(i.quarter,2);case"X":return this.num(Math.floor(i.ts/1e3));case"x":return this.num(i.ts);default:return A(x)}};return t5(sn.parseFormat(a),y)}formatDurationFromString(i,a){const l=k=>{switch(k[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=k=>b=>{const A=l(b);return A?this.num(k.get(A),b.length):b},f=sn.parseFormat(a),g=f.reduce((k,{literal:b,val:A})=>b?k:k.concat(A),[]),m=i.shiftTo(...g.map(l).filter(k=>k));return t5(f,u(m))}}class bi{constructor(i,a){this.reason=i,this.explanation=a}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const YT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ia(...o){const i=o.reduce((a,l)=>a+l.source,"");return RegExp(`^${i}$`)}function Ma(...o){return i=>o.reduce(([a,l,u],f)=>{const[g,m,k]=f(i,u);return[{...a,...g},m||l,k]},[{},null,1]).slice(0,2)}function Na(o,...i){if(o==null)return[null,null];for(const[a,l]of i){const u=a.exec(o);if(u)return l(u)}return[null,null]}function ZT(...o){return(i,a)=>{const l={};let u;for(u=0;u<o.length;u++)l[o[u]]=Ur(i[a+u]);return[l,null,a+u]}}const KT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,PG=`(?:${KT.source}?(?:\\[(${YT.source})\\])?)?`,qw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,QT=RegExp(`${qw.source}${PG}`),Gw=RegExp(`(?:T${QT.source})?`),BG=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,zG=/(\d{4})-?W(\d\d)(?:-?(\d))?/,LG=/(\d{4})-?(\d{3})/,jG=ZT("weekYear","weekNumber","weekDay"),RG=ZT("year","ordinal"),FG=/(\d{4})-(\d\d)-(\d\d)/,JT=RegExp(`${qw.source} ?(?:${KT.source}|(${YT.source}))?`),VG=RegExp(`(?: ${JT.source})?`);function ga(o,i,a){const l=o[i];return Oe(l)?a:Ur(l)}function UG(o,i){return[{year:ga(o,i),month:ga(o,i+1,1),day:ga(o,i+2,1)},null,i+3]}function Oa(o,i){return[{hours:ga(o,i,0),minutes:ga(o,i+1,0),seconds:ga(o,i+2,0),milliseconds:$w(o[i+3])},null,i+4]}function ql(o,i){const a=!o[i]&&!o[i+1],l=Af(o[i+1],o[i+2]),u=a?null:dn.instance(l);return[{},u,i+3]}function Gl(o,i){const a=o[i]?kr.create(o[i]):null;return[{},a,i+1]}const HG=RegExp(`^T?${qw.source}$`),$G=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function WG(o){const[i,a,l,u,f,g,m,k,b]=o,A=i[0]==="-",v=k&&k[0]==="-",y=(x,E=!1)=>x!==void 0&&(E||x&&A)?-x:x;return[{years:y(Fo(a)),months:y(Fo(l)),weeks:y(Fo(u)),days:y(Fo(f)),hours:y(Fo(g)),minutes:y(Fo(m)),seconds:y(Fo(k),k==="-0"),milliseconds:y($w(b),v)}]}const qG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Yw(o,i,a,l,u,f,g){const m={year:i.length===2?j0(Ur(i)):Ur(i),month:VT.indexOf(a)+1,day:Ur(l),hour:Ur(u),minute:Ur(f)};return g&&(m.second=Ur(g)),o&&(m.weekday=o.length>3?HT.indexOf(o)+1:$T.indexOf(o)+1),m}const GG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function YG(o){const[,i,a,l,u,f,g,m,k,b,A,v]=o,y=Yw(i,u,l,a,f,g,m);let x;return k?x=qG[k]:b?x=0:x=Af(A,v),[y,new dn(x)]}function ZG(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const KG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,QG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,JG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function n5(o){const[,i,a,l,u,f,g,m]=o;return[Yw(i,u,l,a,f,g,m),dn.utcInstance]}function XG(o){const[,i,a,l,u,f,g,m]=o;return[Yw(i,m,a,l,u,f,g),dn.utcInstance]}const eY=Ia(BG,Gw),tY=Ia(zG,Gw),nY=Ia(LG,Gw),iY=Ia(QT),XT=Ma(UG,Oa,ql,Gl),rY=Ma(jG,Oa,ql,Gl),oY=Ma(RG,Oa,ql,Gl),sY=Ma(Oa,ql,Gl);function aY(o){return Na(o,[eY,XT],[tY,rY],[nY,oY],[iY,sY])}function cY(o){return Na(ZG(o),[GG,YG])}function lY(o){return Na(o,[KG,n5],[QG,n5],[JG,XG])}function dY(o){return Na(o,[$G,WG])}const uY=Ma(Oa);function hY(o){return Na(o,[HG,uY])}const fY=Ia(FG,VG),gY=Ia(JT),pY=Ma(Oa,ql,Gl);function mY(o){return Na(o,[fY,XT],[gY,pY])}const i5="Invalid Duration",eI={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},kY={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...eI},Yn=146097/400,Us=146097/4800,bY={years:{quarters:4,months:12,weeks:Yn/7,days:Yn,hours:Yn*24,minutes:Yn*24*60,seconds:Yn*24*60*60,milliseconds:Yn*24*60*60*1e3},quarters:{months:3,weeks:Yn/28,days:Yn/4,hours:Yn*24/4,minutes:Yn*24*60/4,seconds:Yn*24*60*60/4,milliseconds:Yn*24*60*60*1e3/4},months:{weeks:Us/7,days:Us,hours:Us*24,minutes:Us*24*60,seconds:Us*24*60*60,milliseconds:Us*24*60*60*1e3},...eI},es=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wY=es.slice(0).reverse();function jr(o,i,a=!1){const l={values:a?i.values:{...o.values,...i.values||{}},loc:o.loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||o.conversionAccuracy,matrix:i.matrix||o.matrix};return new Le(l)}function tI(o,i){let a=i.milliseconds??0;for(const l of wY.slice(1))i[l]&&(a+=i[l]*o[l].milliseconds);return a}function r5(o,i){const a=tI(o,i)<0?-1:1;es.reduceRight((l,u)=>{if(Oe(i[u]))return l;if(l){const f=i[l]*a,g=o[u][l],m=Math.floor(f/g);i[u]+=m*a,i[l]-=m*g*a}return u},null),es.reduce((l,u)=>{if(Oe(i[u]))return l;if(l){const f=i[l]%1;i[l]-=f,i[u]+=f*o[l][u]}return u},null)}function vY(o){const i={};for(const[a,l]of Object.entries(o))l!==0&&(i[a]=l);return i}class Le{constructor(i){const a=i.conversionAccuracy==="longterm"||!1;let l=a?bY:kY;i.matrix&&(l=i.matrix),this.values=i.values,this.loc=i.loc||ut.create(),this.conversionAccuracy=a?"longterm":"casual",this.invalid=i.invalid||null,this.matrix=l,this.isLuxonDuration=!0}static fromMillis(i,a){return Le.fromObject({milliseconds:i},a)}static fromObject(i,a={}){if(i==null||typeof i!="object")throw new Jn(`Duration.fromObject: argument expected to be an object, got ${i===null?"null":typeof i}`);return new Le({values:Xh(i,Le.normalizeUnit),loc:ut.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static fromDurationLike(i){if(is(i))return Le.fromMillis(i);if(Le.isDuration(i))return i;if(typeof i=="object")return Le.fromObject(i);throw new Jn(`Unknown duration argument ${i} of type ${typeof i}`)}static fromISO(i,a){const[l]=dY(i);return l?Le.fromObject(l,a):Le.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromISOTime(i,a){const[l]=hY(i);return l?Le.fromObject(l,a):Le.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the Duration is invalid");const l=i instanceof bi?i:new bi(i,a);if(Mt.throwOnInvalid)throw new Qq(l);return new Le({invalid:l})}static normalizeUnit(i){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!a)throw new bT(i);return a}static isDuration(i){return i&&i.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(i,a={}){const l={...a,floor:a.round!==!1&&a.floor!==!1};return this.isValid?sn.create(this.loc,l).formatDurationFromString(this,i):i5}toHuman(i={}){if(!this.isValid)return i5;const a=es.map(l=>{const u=this.values[l];return Oe(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...i,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:i.listStyle||"narrow",...i}).format(a)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let i="P";return this.years!==0&&(i+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(i+=this.months+this.quarters*3+"M"),this.weeks!==0&&(i+=this.weeks+"W"),this.days!==0&&(i+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(i+="T"),this.hours!==0&&(i+=this.hours+"H"),this.minutes!==0&&(i+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(i+=Ww(this.seconds+this.milliseconds/1e3,3)+"S"),i==="P"&&(i+="T0S"),i}toISOTime(i={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(i={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...i,includeOffset:!1},Se.fromMillis(a,{zone:"UTC"}).toISOTime(i))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?tI(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(i){if(!this.isValid)return this;const a=Le.fromDurationLike(i),l={};for(const u of es)(ya(a.values,u)||ya(this.values,u))&&(l[u]=a.get(u)+this.get(u));return jr(this,{values:l},!0)}minus(i){if(!this.isValid)return this;const a=Le.fromDurationLike(i);return this.plus(a.negate())}mapUnits(i){if(!this.isValid)return this;const a={};for(const l of Object.keys(this.values))a[l]=FT(i(this.values[l],l));return jr(this,{values:a},!0)}get(i){return this[Le.normalizeUnit(i)]}set(i){if(!this.isValid)return this;const a={...this.values,...Xh(i,Le.normalizeUnit)};return jr(this,{values:a})}reconfigure({locale:i,numberingSystem:a,conversionAccuracy:l,matrix:u}={}){const g={loc:this.loc.clone({locale:i,numberingSystem:a}),matrix:u,conversionAccuracy:l};return jr(this,g)}as(i){return this.isValid?this.shiftTo(i).get(i):NaN}normalize(){if(!this.isValid)return this;const i=this.toObject();return r5(this.matrix,i),jr(this,{values:i},!0)}rescale(){if(!this.isValid)return this;const i=vY(this.normalize().shiftToAll().toObject());return jr(this,{values:i},!0)}shiftTo(...i){if(!this.isValid)return this;if(i.length===0)return this;i=i.map(g=>Le.normalizeUnit(g));const a={},l={},u=this.toObject();let f;for(const g of es)if(i.indexOf(g)>=0){f=g;let m=0;for(const b in l)m+=this.matrix[b][g]*l[b],l[b]=0;is(u[g])&&(m+=u[g]);const k=Math.trunc(m);a[g]=k,l[g]=(m*1e3-k*1e3)/1e3}else is(u[g])&&(l[g]=u[g]);for(const g in l)l[g]!==0&&(a[f]+=g===f?l[g]:l[g]/this.matrix[f][g]);return r5(this.matrix,a),jr(this,{values:a},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const i={};for(const a of Object.keys(this.values))i[a]=this.values[a]===0?0:-this.values[a];return jr(this,{values:i},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function a(l,u){return l===void 0||l===0?u===void 0||u===0:l===u}for(const l of es)if(!a(this.values[l],i.values[l]))return!1;return!0}}const Hs="Invalid Interval";function _Y(o,i){return!o||!o.isValid?At.invalid("missing or invalid start"):!i||!i.isValid?At.invalid("missing or invalid end"):i<o?At.invalid("end before start",`The end of an interval must be after its start, but you had start=${o.toISO()} and end=${i.toISO()}`):null}class At{constructor(i){this.s=i.start,this.e=i.end,this.invalid=i.invalid||null,this.isLuxonInterval=!0}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the Interval is invalid");const l=i instanceof bi?i:new bi(i,a);if(Mt.throwOnInvalid)throw new Kq(l);return new At({invalid:l})}static fromDateTimes(i,a){const l=qc(i),u=qc(a),f=_Y(l,u);return f??new At({start:l,end:u})}static after(i,a){const l=Le.fromDurationLike(a),u=qc(i);return At.fromDateTimes(u,u.plus(l))}static before(i,a){const l=Le.fromDurationLike(a),u=qc(i);return At.fromDateTimes(u.minus(l),u)}static fromISO(i,a){const[l,u]=(i||"").split("/",2);if(l&&u){let f,g;try{f=Se.fromISO(l,a),g=f.isValid}catch{g=!1}let m,k;try{m=Se.fromISO(u,a),k=m.isValid}catch{k=!1}if(g&&k)return At.fromDateTimes(f,m);if(g){const b=Le.fromISO(u,a);if(b.isValid)return At.after(f,b)}else if(k){const b=Le.fromISO(l,a);if(b.isValid)return At.before(m,b)}}return At.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static isInterval(i){return i&&i.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(i="milliseconds"){return this.isValid?this.toDuration(i).get(i):NaN}count(i="milliseconds"){if(!this.isValid)return NaN;const a=this.start.startOf(i),l=this.end.startOf(i);return Math.floor(l.diff(a,i).get(i))+(l.valueOf()!==this.end.valueOf())}hasSame(i){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,i):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(i){return this.isValid?this.s>i:!1}isBefore(i){return this.isValid?this.e<=i:!1}contains(i){return this.isValid?this.s<=i&&this.e>i:!1}set({start:i,end:a}={}){return this.isValid?At.fromDateTimes(i||this.s,a||this.e):this}splitAt(...i){if(!this.isValid)return[];const a=i.map(qc).filter(g=>this.contains(g)).sort(),l=[];let{s:u}=this,f=0;for(;u<this.e;){const g=a[f]||this.e,m=+g>+this.e?this.e:g;l.push(At.fromDateTimes(u,m)),u=m,f+=1}return l}splitBy(i){const a=Le.fromDurationLike(i);if(!this.isValid||!a.isValid||a.as("milliseconds")===0)return[];let{s:l}=this,u=1,f;const g=[];for(;l<this.e;){const m=this.start.plus(a.mapUnits(k=>k*u));f=+m>+this.e?this.e:m,g.push(At.fromDateTimes(l,f)),l=f,u+=1}return g}divideEqually(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]}overlaps(i){return this.e>i.s&&this.s<i.e}abutsStart(i){return this.isValid?+this.e==+i.s:!1}abutsEnd(i){return this.isValid?+i.e==+this.s:!1}engulfs(i){return this.isValid?this.s<=i.s&&this.e>=i.e:!1}equals(i){return!this.isValid||!i.isValid?!1:this.s.equals(i.s)&&this.e.equals(i.e)}intersection(i){if(!this.isValid)return this;const a=this.s>i.s?this.s:i.s,l=this.e<i.e?this.e:i.e;return a>=l?null:At.fromDateTimes(a,l)}union(i){if(!this.isValid)return this;const a=this.s<i.s?this.s:i.s,l=this.e>i.e?this.e:i.e;return At.fromDateTimes(a,l)}static merge(i){const[a,l]=i.sort((u,f)=>u.s-f.s).reduce(([u,f],g)=>f?f.overlaps(g)||f.abutsStart(g)?[u,f.union(g)]:[u.concat([f]),g]:[u,g],[[],null]);return l&&a.push(l),a}static xor(i){let a=null,l=0;const u=[],f=i.map(k=>[{time:k.s,type:"s"},{time:k.e,type:"e"}]),g=Array.prototype.concat(...f),m=g.sort((k,b)=>k.time-b.time);for(const k of m)l+=k.type==="s"?1:-1,l===1?a=k.time:(a&&+a!=+k.time&&u.push(At.fromDateTimes(a,k.time)),a=null);return At.merge(u)}difference(...i){return At.xor([this].concat(i)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Hs}toLocaleString(i=Kh,a={}){return this.isValid?sn.create(this.s.loc.clone(a),i).formatInterval(this):Hs}toISO(i){return this.isValid?`${this.s.toISO(i)}/${this.e.toISO(i)}`:Hs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hs}toISOTime(i){return this.isValid?`${this.s.toISOTime(i)}/${this.e.toISOTime(i)}`:Hs}toFormat(i,{separator:a=" – "}={}){return this.isValid?`${this.s.toFormat(i)}${a}${this.e.toFormat(i)}`:Hs}toDuration(i,a){return this.isValid?this.e.diff(this.s,i,a):Le.invalid(this.invalidReason)}mapEndpoints(i){return At.fromDateTimes(i(this.s),i(this.e))}}class Xu{static hasDST(i=Mt.defaultZone){const a=Se.now().setZone(i).set({month:12});return!i.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(i){return kr.isValidZone(i)}static normalizeZone(i){return qr(i,Mt.defaultZone)}static months(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ut.create(a,l,f)).months(i)}static monthsFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null,outputCalendar:f="gregory"}={}){return(u||ut.create(a,l,f)).months(i,!0)}static weekdays(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ut.create(a,l,null)).weekdays(i)}static weekdaysFormat(i="long",{locale:a=null,numberingSystem:l=null,locObj:u=null}={}){return(u||ut.create(a,l,null)).weekdays(i,!0)}static meridiems({locale:i=null}={}){return ut.create(i).meridiems()}static eras(i="short",{locale:a=null}={}){return ut.create(a,null,"gregory").eras(i)}static features(){return{relative:jT()}}}function o5(o,i){const a=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=a(i)-a(o);return Math.floor(Le.fromMillis(l).as("days"))}function yY(o,i,a){const l=[["years",(k,b)=>b.year-k.year],["quarters",(k,b)=>b.quarter-k.quarter+(b.year-k.year)*4],["months",(k,b)=>b.month-k.month+(b.year-k.year)*12],["weeks",(k,b)=>{const A=o5(k,b);return(A-A%7)/7}],["days",o5]],u={},f=o;let g,m;for(const[k,b]of l)a.indexOf(k)>=0&&(g=k,u[k]=b(o,i),m=f.plus(u),m>i?(u[k]--,o=f.plus(u),o>i&&(m=o,u[k]--,o=f.plus(u))):o=m);return[o,u,m,g]}function AY(o,i,a,l){let[u,f,g,m]=yY(o,i,a);const k=i-u,b=a.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);b.length===0&&(g<i&&(g=u.plus({[m]:1})),g!==u&&(f[m]=(f[m]||0)+k/(g-u)));const A=Le.fromObject(f,l);return b.length>0?Le.fromMillis(k,l).shiftTo(...b).plus(A):A}const Zw={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},s5={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},CY=Zw.hanidec.replace(/[\[|\]]/g,"").split("");function xY(o){let i=parseInt(o,10);if(isNaN(i)){i="";for(let a=0;a<o.length;a++){const l=o.charCodeAt(a);if(o[a].search(Zw.hanidec)!==-1)i+=CY.indexOf(o[a]);else for(const u in s5){const[f,g]=s5[u];l>=f&&l<=g&&(i+=l-f)}}return parseInt(i,10)}else return i}function hi({numberingSystem:o},i=""){return new RegExp(`${Zw[o||"latn"]}${i}`)}const EY="missing Intl.DateTimeFormat.formatToParts support";function $e(o,i=a=>a){return{regex:o,deser:([a])=>i(xY(a))}}const DY=String.fromCharCode(160),nI=`[ ${DY}]`,iI=new RegExp(nI,"g");function SY(o){return o.replace(/\./g,"\\.?").replace(iI,nI)}function a5(o){return o.replace(/\./g,"").replace(iI," ").toLowerCase()}function fi(o,i){return o===null?null:{regex:RegExp(o.map(SY).join("|")),deser:([a])=>o.findIndex(l=>a5(a)===a5(l))+i}}function c5(o,i){return{regex:o,deser:([,a,l])=>Af(a,l),groups:i}}function eh(o){return{regex:o,deser:([i])=>i}}function TY(o){return o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function IY(o,i){const a=hi(i),l=hi(i,"{2}"),u=hi(i,"{3}"),f=hi(i,"{4}"),g=hi(i,"{6}"),m=hi(i,"{1,2}"),k=hi(i,"{1,3}"),b=hi(i,"{1,6}"),A=hi(i,"{1,9}"),v=hi(i,"{2,4}"),y=hi(i,"{4,6}"),x=B=>({regex:RegExp(TY(B.val)),deser:([I])=>I,literal:!0}),T=(B=>{if(o.literal)return x(B);switch(B.val){case"G":return fi(i.eras("short"),0);case"GG":return fi(i.eras("long"),0);case"y":return $e(b);case"yy":return $e(v,j0);case"yyyy":return $e(f);case"yyyyy":return $e(y);case"yyyyyy":return $e(g);case"M":return $e(m);case"MM":return $e(l);case"MMM":return fi(i.months("short",!0),1);case"MMMM":return fi(i.months("long",!0),1);case"L":return $e(m);case"LL":return $e(l);case"LLL":return fi(i.months("short",!1),1);case"LLLL":return fi(i.months("long",!1),1);case"d":return $e(m);case"dd":return $e(l);case"o":return $e(k);case"ooo":return $e(u);case"HH":return $e(l);case"H":return $e(m);case"hh":return $e(l);case"h":return $e(m);case"mm":return $e(l);case"m":return $e(m);case"q":return $e(m);case"qq":return $e(l);case"s":return $e(m);case"ss":return $e(l);case"S":return $e(k);case"SSS":return $e(u);case"u":return eh(A);case"uu":return eh(m);case"uuu":return $e(a);case"a":return fi(i.meridiems(),0);case"kkkk":return $e(f);case"kk":return $e(v,j0);case"W":return $e(m);case"WW":return $e(l);case"E":case"c":return $e(a);case"EEE":return fi(i.weekdays("short",!1),1);case"EEEE":return fi(i.weekdays("long",!1),1);case"ccc":return fi(i.weekdays("short",!0),1);case"cccc":return fi(i.weekdays("long",!0),1);case"Z":case"ZZ":return c5(new RegExp(`([+-]${m.source})(?::(${l.source}))?`),2);case"ZZZ":return c5(new RegExp(`([+-]${m.source})(${l.source})?`),2);case"z":return eh(/[a-z_+-/]{1,256}?/i);case" ":return eh(/[^\S\n\r]/);default:return x(B)}})(o)||{invalidReason:EY};return T.token=o,T}const MY={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function NY(o,i,a){const{type:l,value:u}=o;if(l==="literal"){const k=/^\s+$/.test(u);return{literal:!k,val:k?" ":u}}const f=i[l];let g=l;l==="hour"&&(i.hour12!=null?g=i.hour12?"hour12":"hour24":i.hourCycle!=null?i.hourCycle==="h11"||i.hourCycle==="h12"?g="hour12":g="hour24":g=a.hour12?"hour12":"hour24");let m=MY[g];if(typeof m=="object"&&(m=m[f]),m)return{literal:!1,val:m}}function OY(o){return[`^${o.map(a=>a.regex).reduce((a,l)=>`${a}(${l.source})`,"")}$`,o]}function PY(o,i,a){const l=o.match(i);if(l){const u={};let f=1;for(const g in a)if(ya(a,g)){const m=a[g],k=m.groups?m.groups+1:1;!m.literal&&m.token&&(u[m.token.val[0]]=m.deser(l.slice(f,f+k))),f+=k}return[l,u]}else return[l,{}]}function BY(o){const i=f=>{switch(f){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let a=null,l;return Oe(o.z)||(a=kr.create(o.z)),Oe(o.Z)||(a||(a=new dn(o.Z)),l=o.Z),Oe(o.q)||(o.M=(o.q-1)*3+1),Oe(o.h)||(o.h<12&&o.a===1?o.h+=12:o.h===12&&o.a===0&&(o.h=0)),o.G===0&&o.y&&(o.y=-o.y),Oe(o.u)||(o.S=$w(o.u)),[Object.keys(o).reduce((f,g)=>{const m=i(g);return m&&(f[m]=o[g]),f},{}),a,l]}let vb=null;function zY(){return vb||(vb=Se.fromMillis(1555555555555)),vb}function LY(o,i){if(o.literal)return o;const a=sn.macroTokenToFormatOpts(o.val),l=sI(a,i);return l==null||l.includes(void 0)?o:l}function rI(o,i){return Array.prototype.concat(...o.map(a=>LY(a,i)))}function oI(o,i,a){const l=rI(sn.parseFormat(a),o),u=l.map(g=>IY(g,o)),f=u.find(g=>g.invalidReason);if(f)return{input:i,tokens:l,invalidReason:f.invalidReason};{const[g,m]=OY(u),k=RegExp(g,"i"),[b,A]=PY(i,k,m),[v,y,x]=A?BY(A):[null,null,void 0];if(ya(A,"a")&&ya(A,"H"))throw new Jc("Can't include meridiem when specifying 24-hour format");return{input:i,tokens:l,regex:k,rawMatches:b,matches:A,result:v,zone:y,specificOffset:x}}}function jY(o,i,a){const{result:l,zone:u,specificOffset:f,invalidReason:g}=oI(o,i,a);return[l,u,f,g]}function sI(o,i){if(!o)return null;const l=sn.create(i,o).dtFormatter(zY()),u=l.formatToParts(),f=l.resolvedOptions();return u.map(g=>NY(g,o,f))}const aI=[0,31,59,90,120,151,181,212,243,273,304,334],cI=[0,31,60,91,121,152,182,213,244,274,305,335];function ei(o,i){return new bi("unit out of range",`you specified ${i} (of type ${typeof i}) as a ${o}, which is invalid`)}function lI(o,i,a){const l=new Date(Date.UTC(o,i-1,a));o<100&&o>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const u=l.getUTCDay();return u===0?7:u}function dI(o,i,a){return a+(Wl(o)?cI:aI)[i-1]}function uI(o,i){const a=Wl(o)?cI:aI,l=a.findIndex(f=>f<i),u=i-a[l];return{month:l+1,day:u}}function R0(o){const{year:i,month:a,day:l}=o,u=dI(i,a,l),f=lI(i,a,l);let g=Math.floor((u-f+10)/7),m;return g<1?(m=i-1,g=Jh(m)):g>Jh(i)?(m=i+1,g=1):m=i,{weekYear:m,weekNumber:g,weekday:f,...Cf(o)}}function l5(o){const{weekYear:i,weekNumber:a,weekday:l}=o,u=lI(i,1,4),f=ul(i);let g=a*7+l-u-3,m;g<1?(m=i-1,g+=ul(m)):g>f?(m=i+1,g-=ul(i)):m=i;const{month:k,day:b}=uI(m,g);return{year:m,month:k,day:b,...Cf(o)}}function _b(o){const{year:i,month:a,day:l}=o,u=dI(i,a,l);return{year:i,ordinal:u,...Cf(o)}}function d5(o){const{year:i,ordinal:a}=o,{month:l,day:u}=uI(i,a);return{year:i,month:l,day:u,...Cf(o)}}function RY(o){const i=_f(o.weekYear),a=dr(o.weekNumber,1,Jh(o.weekYear)),l=dr(o.weekday,1,7);return i?a?l?!1:ei("weekday",o.weekday):ei("week",o.week):ei("weekYear",o.weekYear)}function FY(o){const i=_f(o.year),a=dr(o.ordinal,1,ul(o.year));return i?a?!1:ei("ordinal",o.ordinal):ei("year",o.year)}function hI(o){const i=_f(o.year),a=dr(o.month,1,12),l=dr(o.day,1,Qh(o.year,o.month));return i?a?l?!1:ei("day",o.day):ei("month",o.month):ei("year",o.year)}function fI(o){const{hour:i,minute:a,second:l,millisecond:u}=o,f=dr(i,0,23)||i===24&&a===0&&l===0&&u===0,g=dr(a,0,59),m=dr(l,0,59),k=dr(u,0,999);return f?g?m?k?!1:ei("millisecond",u):ei("second",l):ei("minute",a):ei("hour",i)}const yb="Invalid DateTime",u5=864e13;function th(o){return new bi("unsupported zone",`the zone "${o.name}" is not supported`)}function Ab(o){return o.weekData===null&&(o.weekData=R0(o.c)),o.weekData}function Vo(o,i){const a={ts:o.ts,zone:o.zone,c:o.c,o:o.o,loc:o.loc,invalid:o.invalid};return new Se({...a,...i,old:a})}function gI(o,i,a){let l=o-i*60*1e3;const u=a.offset(l);if(i===u)return[l,i];l-=(u-i)*60*1e3;const f=a.offset(l);return u===f?[l,u]:[o-Math.min(u,f)*60*1e3,Math.max(u,f)]}function nh(o,i){o+=i*60*1e3;const a=new Date(o);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function _h(o,i,a){return gI(yf(o),i,a)}function h5(o,i){const a=o.o,l=o.c.year+Math.trunc(i.years),u=o.c.month+Math.trunc(i.months)+Math.trunc(i.quarters)*3,f={...o.c,year:l,month:u,day:Math.min(o.c.day,Qh(l,u))+Math.trunc(i.days)+Math.trunc(i.weeks)*7},g=Le.fromObject({years:i.years-Math.trunc(i.years),quarters:i.quarters-Math.trunc(i.quarters),months:i.months-Math.trunc(i.months),weeks:i.weeks-Math.trunc(i.weeks),days:i.days-Math.trunc(i.days),hours:i.hours,minutes:i.minutes,seconds:i.seconds,milliseconds:i.milliseconds}).as("milliseconds"),m=yf(f);let[k,b]=gI(m,a,o.zone);return g!==0&&(k+=g,b=o.zone.offset(k)),{ts:k,o:b}}function Wc(o,i,a,l,u,f){const{setZone:g,zone:m}=a;if(o&&Object.keys(o).length!==0||i){const k=i||m,b=Se.fromObject(o,{...a,zone:k,specificOffset:f});return g?b:b.setZone(m)}else return Se.invalid(new bi("unparsable",`the input "${u}" can't be parsed as ${l}`))}function ih(o,i,a=!0){return o.isValid?sn.create(ut.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(o,i):null}function Cb(o,i){const a=o.c.year>9999||o.c.year<0;let l="";return a&&o.c.year>=0&&(l+="+"),l+=Nt(o.c.year,a?6:4),i?(l+="-",l+=Nt(o.c.month),l+="-",l+=Nt(o.c.day)):(l+=Nt(o.c.month),l+=Nt(o.c.day)),l}function f5(o,i,a,l,u,f){let g=Nt(o.c.hour);return i?(g+=":",g+=Nt(o.c.minute),(o.c.millisecond!==0||o.c.second!==0||!a)&&(g+=":")):g+=Nt(o.c.minute),(o.c.millisecond!==0||o.c.second!==0||!a)&&(g+=Nt(o.c.second),(o.c.millisecond!==0||!l)&&(g+=".",g+=Nt(o.c.millisecond,3))),u&&(o.isOffsetFixed&&o.offset===0&&!f?g+="Z":o.o<0?(g+="-",g+=Nt(Math.trunc(-o.o/60)),g+=":",g+=Nt(Math.trunc(-o.o%60))):(g+="+",g+=Nt(Math.trunc(o.o/60)),g+=":",g+=Nt(Math.trunc(o.o%60)))),f&&(g+="["+o.zone.ianaName+"]"),g}const pI={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},VY={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},UY={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mI=["year","month","day","hour","minute","second","millisecond"],HY=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$Y=["year","ordinal","hour","minute","second","millisecond"];function g5(o){const i={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[o.toLowerCase()];if(!i)throw new bT(o);return i}function p5(o,i){const a=qr(i.zone,Mt.defaultZone),l=ut.fromObject(i),u=Mt.now();let f,g;if(Oe(o.year))f=u;else{for(const b of mI)Oe(o[b])&&(o[b]=pI[b]);const m=hI(o)||fI(o);if(m)return Se.invalid(m);const k=a.offset(u);[f,g]=_h(o,k,a)}return new Se({ts:f,zone:a,loc:l,o:g})}function m5(o,i,a){const l=Oe(a.round)?!0:a.round,u=(g,m)=>(g=Ww(g,l||a.calendary?0:2,!0),i.loc.clone(a).relFormatter(a).format(g,m)),f=g=>a.calendary?i.hasSame(o,g)?0:i.startOf(g).diff(o.startOf(g),g).get(g):i.diff(o,g).get(g);if(a.unit)return u(f(a.unit),a.unit);for(const g of a.units){const m=f(g);if(Math.abs(m)>=1)return u(m,g)}return u(o>i?-0:0,a.units[a.units.length-1])}function k5(o){let i={},a;return o.length>0&&typeof o[o.length-1]=="object"?(i=o[o.length-1],a=Array.from(o).slice(0,o.length-1)):a=Array.from(o),[i,a]}class Se{constructor(i){const a=i.zone||Mt.defaultZone;let l=i.invalid||(Number.isNaN(i.ts)?new bi("invalid input"):null)||(a.isValid?null:th(a));this.ts=Oe(i.ts)?Mt.now():i.ts;let u=null,f=null;if(!l)if(i.old&&i.old.ts===this.ts&&i.old.zone.equals(a))[u,f]=[i.old.c,i.old.o];else{const m=a.offset(this.ts);u=nh(this.ts,m),l=Number.isNaN(u.year)?new bi("invalid input"):null,u=l?null:u,f=l?null:m}this._zone=a,this.loc=i.loc||ut.create(),this.invalid=l,this.weekData=null,this.c=u,this.o=f,this.isLuxonDateTime=!0}static now(){return new Se({})}static local(){const[i,a]=k5(arguments),[l,u,f,g,m,k,b]=a;return p5({year:l,month:u,day:f,hour:g,minute:m,second:k,millisecond:b},i)}static utc(){const[i,a]=k5(arguments),[l,u,f,g,m,k,b]=a;return i.zone=dn.utcInstance,p5({year:l,month:u,day:f,hour:g,minute:m,second:k,millisecond:b},i)}static fromJSDate(i,a={}){const l=bG(i)?i.valueOf():NaN;if(Number.isNaN(l))return Se.invalid("invalid input");const u=qr(a.zone,Mt.defaultZone);return u.isValid?new Se({ts:l,zone:u,loc:ut.fromObject(a)}):Se.invalid(th(u))}static fromMillis(i,a={}){if(is(i))return i<-u5||i>u5?Se.invalid("Timestamp out of range"):new Se({ts:i,zone:qr(a.zone,Mt.defaultZone),loc:ut.fromObject(a)});throw new Jn(`fromMillis requires a numerical input, but received a ${typeof i} with value ${i}`)}static fromSeconds(i,a={}){if(is(i))return new Se({ts:i*1e3,zone:qr(a.zone,Mt.defaultZone),loc:ut.fromObject(a)});throw new Jn("fromSeconds requires a numerical input")}static fromObject(i,a={}){i=i||{};const l=qr(a.zone,Mt.defaultZone);if(!l.isValid)return Se.invalid(th(l));const u=Mt.now(),f=Oe(a.specificOffset)?l.offset(u):a.specificOffset,g=Xh(i,g5),m=!Oe(g.ordinal),k=!Oe(g.year),b=!Oe(g.month)||!Oe(g.day),A=k||b,v=g.weekYear||g.weekNumber,y=ut.fromObject(a);if((A||m)&&v)throw new Jc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&m)throw new Jc("Can't mix ordinal dates with month/day");const x=v||g.weekday&&!A;let E,T,B=nh(u,f);x?(E=HY,T=VY,B=R0(B)):m?(E=$Y,T=UY,B=_b(B)):(E=mI,T=pI);let I=!1;for(const Z of E){const ae=g[Z];Oe(ae)?I?g[Z]=T[Z]:g[Z]=B[Z]:I=!0}const N=x?RY(g):m?FY(g):hI(g),P=N||fI(g);if(P)return Se.invalid(P);const j=x?l5(g):m?d5(g):g,[q,K]=_h(j,f,l),Q=new Se({ts:q,zone:l,o:K,loc:y});return g.weekday&&A&&i.weekday!==Q.weekday?Se.invalid("mismatched weekday",`you can't specify both a weekday of ${g.weekday} and a date of ${Q.toISO()}`):Q}static fromISO(i,a={}){const[l,u]=aY(i);return Wc(l,u,a,"ISO 8601",i)}static fromRFC2822(i,a={}){const[l,u]=cY(i);return Wc(l,u,a,"RFC 2822",i)}static fromHTTP(i,a={}){const[l,u]=lY(i);return Wc(l,u,a,"HTTP",a)}static fromFormat(i,a,l={}){if(Oe(i)||Oe(a))throw new Jn("fromFormat requires an input string and a format");const{locale:u=null,numberingSystem:f=null}=l,g=ut.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0}),[m,k,b,A]=jY(g,i,a);return A?Se.invalid(A):Wc(m,k,l,`format ${a}`,i,b)}static fromString(i,a,l={}){return Se.fromFormat(i,a,l)}static fromSQL(i,a={}){const[l,u]=mY(i);return Wc(l,u,a,"SQL",i)}static invalid(i,a=null){if(!i)throw new Jn("need to specify a reason the DateTime is invalid");const l=i instanceof bi?i:new bi(i,a);if(Mt.throwOnInvalid)throw new Zq(l);return new Se({invalid:l})}static isDateTime(i){return i&&i.isLuxonDateTime||!1}static parseFormatForOpts(i,a={}){const l=sI(i,ut.fromObject(a));return l?l.map(u=>u?u.val:null).join(""):null}static expandFormat(i,a={}){return rI(sn.parseFormat(i),ut.fromObject(a)).map(u=>u.val).join("")}get(i){return this[i]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ab(this).weekYear:NaN}get weekNumber(){return this.isValid?Ab(this).weekNumber:NaN}get weekday(){return this.isValid?Ab(this).weekday:NaN}get ordinal(){return this.isValid?_b(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Xu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const i=864e5,a=6e4,l=yf(this.c),u=this.zone.offset(l-i),f=this.zone.offset(l+i),g=this.zone.offset(l-u*a),m=this.zone.offset(l-f*a);if(g===m)return[this];const k=l-g*a,b=l-m*a,A=nh(k,g),v=nh(b,m);return A.hour===v.hour&&A.minute===v.minute&&A.second===v.second&&A.millisecond===v.millisecond?[Vo(this,{ts:k}),Vo(this,{ts:b})]:[this]}get isInLeapYear(){return Wl(this.year)}get daysInMonth(){return Qh(this.year,this.month)}get daysInYear(){return this.isValid?ul(this.year):NaN}get weeksInWeekYear(){return this.isValid?Jh(this.weekYear):NaN}resolvedLocaleOptions(i={}){const{locale:a,numberingSystem:l,calendar:u}=sn.create(this.loc.clone(i),i).resolvedOptions(this);return{locale:a,numberingSystem:l,outputCalendar:u}}toUTC(i=0,a={}){return this.setZone(dn.instance(i),a)}toLocal(){return this.setZone(Mt.defaultZone)}setZone(i,{keepLocalTime:a=!1,keepCalendarTime:l=!1}={}){if(i=qr(i,Mt.defaultZone),i.equals(this.zone))return this;if(i.isValid){let u=this.ts;if(a||l){const f=i.offset(this.ts),g=this.toObject();[u]=_h(g,f,i)}return Vo(this,{ts:u,zone:i})}else return Se.invalid(th(i))}reconfigure({locale:i,numberingSystem:a,outputCalendar:l}={}){const u=this.loc.clone({locale:i,numberingSystem:a,outputCalendar:l});return Vo(this,{loc:u})}setLocale(i){return this.reconfigure({locale:i})}set(i){if(!this.isValid)return this;const a=Xh(i,g5),l=!Oe(a.weekYear)||!Oe(a.weekNumber)||!Oe(a.weekday),u=!Oe(a.ordinal),f=!Oe(a.year),g=!Oe(a.month)||!Oe(a.day),m=f||g,k=a.weekYear||a.weekNumber;if((m||u)&&k)throw new Jc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&u)throw new Jc("Can't mix ordinal dates with month/day");let b;l?b=l5({...R0(this.c),...a}):Oe(a.ordinal)?(b={...this.toObject(),...a},Oe(a.day)&&(b.day=Math.min(Qh(b.year,b.month),b.day))):b=d5({..._b(this.c),...a});const[A,v]=_h(b,this.o,this.zone);return Vo(this,{ts:A,o:v})}plus(i){if(!this.isValid)return this;const a=Le.fromDurationLike(i);return Vo(this,h5(this,a))}minus(i){if(!this.isValid)return this;const a=Le.fromDurationLike(i).negate();return Vo(this,h5(this,a))}startOf(i){if(!this.isValid)return this;const a={},l=Le.normalizeUnit(i);switch(l){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(l==="weeks"&&(a.weekday=1),l==="quarters"){const u=Math.ceil(this.month/3);a.month=(u-1)*3+1}return this.set(a)}endOf(i){return this.isValid?this.plus({[i]:1}).startOf(i).minus(1):this}toFormat(i,a={}){return this.isValid?sn.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,i):yb}toLocaleString(i=Kh,a={}){return this.isValid?sn.create(this.loc.clone(a),i).formatDateTime(this):yb}toLocaleParts(i={}){return this.isValid?sn.create(this.loc.clone(i),i).formatDateTimeParts(this):[]}toISO({format:i="extended",suppressSeconds:a=!1,suppressMilliseconds:l=!1,includeOffset:u=!0,extendedZone:f=!1}={}){if(!this.isValid)return null;const g=i==="extended";let m=Cb(this,g);return m+="T",m+=f5(this,g,a,l,u,f),m}toISODate({format:i="extended"}={}){return this.isValid?Cb(this,i==="extended"):null}toISOWeekDate(){return ih(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:i=!1,suppressSeconds:a=!1,includeOffset:l=!0,includePrefix:u=!1,extendedZone:f=!1,format:g="extended"}={}){return this.isValid?(u?"T":"")+f5(this,g==="extended",a,i,l,f):null}toRFC2822(){return ih(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ih(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cb(this,!0):null}toSQLTime({includeOffset:i=!0,includeZone:a=!1,includeOffsetSpace:l=!0}={}){let u="HH:mm:ss.SSS";return(a||i)&&(l&&(u+=" "),a?u+="z":i&&(u+="ZZ")),ih(this,u,!0)}toSQL(i={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(i)}`:null}toString(){return this.isValid?this.toISO():yb}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(i={}){if(!this.isValid)return{};const a={...this.c};return i.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale),a}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(i,a="milliseconds",l={}){if(!this.isValid||!i.isValid)return Le.invalid("created by diffing an invalid DateTime");const u={locale:this.locale,numberingSystem:this.numberingSystem,...l},f=wG(a).map(Le.normalizeUnit),g=i.valueOf()>this.valueOf(),m=g?this:i,k=g?i:this,b=AY(m,k,f,u);return g?b.negate():b}diffNow(i="milliseconds",a={}){return this.diff(Se.now(),i,a)}until(i){return this.isValid?At.fromDateTimes(this,i):this}hasSame(i,a){if(!this.isValid)return!1;const l=i.valueOf(),u=this.setZone(i.zone,{keepLocalTime:!0});return u.startOf(a)<=l&&l<=u.endOf(a)}equals(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)}toRelative(i={}){if(!this.isValid)return null;const a=i.base||Se.fromObject({},{zone:this.zone}),l=i.padding?this<a?-i.padding:i.padding:0;let u=["years","months","days","hours","minutes","seconds"],f=i.unit;return Array.isArray(i.unit)&&(u=i.unit,f=void 0),m5(a,this.plus(l),{...i,numeric:"always",units:u,unit:f})}toRelativeCalendar(i={}){return this.isValid?m5(i.base||Se.fromObject({},{zone:this.zone}),this,{...i,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...i){if(!i.every(Se.isDateTime))throw new Jn("min requires all arguments be DateTimes");return e5(i,a=>a.valueOf(),Math.min)}static max(...i){if(!i.every(Se.isDateTime))throw new Jn("max requires all arguments be DateTimes");return e5(i,a=>a.valueOf(),Math.max)}static fromFormatExplain(i,a,l={}){const{locale:u=null,numberingSystem:f=null}=l,g=ut.fromOpts({locale:u,numberingSystem:f,defaultToEN:!0});return oI(g,i,a)}static fromStringExplain(i,a,l={}){return Se.fromFormatExplain(i,a,l)}static get DATE_SHORT(){return Kh}static get DATE_MED(){return wT}static get DATE_MED_WITH_WEEKDAY(){return Jq}static get DATE_FULL(){return vT}static get DATE_HUGE(){return _T}static get TIME_SIMPLE(){return yT}static get TIME_WITH_SECONDS(){return AT}static get TIME_WITH_SHORT_OFFSET(){return CT}static get TIME_WITH_LONG_OFFSET(){return xT}static get TIME_24_SIMPLE(){return ET}static get TIME_24_WITH_SECONDS(){return DT}static get TIME_24_WITH_SHORT_OFFSET(){return ST}static get TIME_24_WITH_LONG_OFFSET(){return TT}static get DATETIME_SHORT(){return IT}static get DATETIME_SHORT_WITH_SECONDS(){return MT}static get DATETIME_MED(){return NT}static get DATETIME_MED_WITH_SECONDS(){return OT}static get DATETIME_MED_WITH_WEEKDAY(){return Xq}static get DATETIME_FULL(){return PT}static get DATETIME_FULL_WITH_SECONDS(){return BT}static get DATETIME_HUGE(){return zT}static get DATETIME_HUGE_WITH_SECONDS(){return LT}}function qc(o){if(Se.isDateTime(o))return o;if(o&&o.valueOf&&is(o.valueOf()))return Se.fromJSDate(o);if(o&&typeof o=="object")return Se.fromObject(o);throw new Jn(`Unknown datetime argument: ${o}, of type ${typeof o}`)}const b5=["year","month","week","day","hour","minute","second"],ef=o=>{const a=Se.fromISO(o).diffNow().shiftTo(...b5),l=b5.find(f=>a.get(f)!==0)||"second";return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.trunc(a.as(l)),l)},kI="/Book-Chronicles/assets/like-21544d1e.png";function WY({id:o,title:i,created_at:a,vote:l,category:u,username:f}){let g="back-pastel-green pastel-green";return u=="review"?g="back-pastel-purple pastel-purple":u=="recommend"&&(g="back-pastel-red pastel-red"),G.jsxs(aa,{className:"post-preview",to:`/post/${o}`,children:[G.jsxs("div",{className:"post-preview-top",children:[G.jsxs("p",{className:"time-ago",children:["Posted ",a?ef(a):" "]}),G.jsxs("p",{className:`post-category ${g}`,children:["#",u]})]}),G.jsx("h2",{className:"pastel-black",children:i}),G.jsxs("div",{className:"post-preview-bot",children:[G.jsxs("div",{className:"vote-image",children:[G.jsx("img",{src:kI,className:"upvotes, pastel-red"}),G.jsx("span",{className:"",children:G.jsxs("b",{className:"pastel-orange",children:[l," "]})})]}),G.jsx("p",{children:f?"~ "+f:""})]})]})}const qY="/Book-Chronicles/assets/gear-04e46c33.gif";function bI(){return G.jsx("img",{className:"loading-animation",src:qY})}function GY({supabase:o}){const[i,a]=se.useState([]),[l,u]=se.useState({created_at:!1,vote:!0}),[f,g]=se.useState(""),m=async()=>{const{data:v,error:y}=await o.from("posts").select().order("created_at",{ascending:!1});a(v)};se.useEffect(()=>{m()},[]);const k=v=>{g(v.target.value)},b=()=>Yq(f,i,["title","category","username"]).map(y=>G.jsx(WY,{id:y.id,title:y.title,created_at:y.created_at,vote:y.vote,category:y.category,username:y.username},y.id)),A=v=>{const y=JSON.parse(JSON.stringify(i));v==="vote"?(l.vote?y.sort((x,E)=>E.vote-x.vote):y.sort((x,E)=>x.vote-E.vote),u(x=>({...x,vote:!l.vote}))):(l.created_at?y.sort((x,E)=>new Date(E.created_at)-new Date(x.created_at)):y.sort((x,E)=>new Date(x.created_at)-new Date(E.created_at)),u(x=>({...x,created_at:!l.created_at}))),a(y)};return G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"home-title-outside-container",children:G.jsxs("div",{className:"home-title-container",children:[G.jsxs("h1",{className:"home-title",children:[G.jsx("span",{className:"pastel-black",children:"Home"})," ",G.jsx("span",{className:"accent",children:"Feed"})]}),G.jsx("h2",{className:"home-subtitle",children:"Reviews and Recommendations"})]})}),G.jsx("div",{className:"input-outside-container",children:G.jsxs("div",{className:"input-container",children:[G.jsx("input",{className:"search-input",onChange:k,placeholder:"Search",type:"text"}),G.jsxs("div",{className:"sort-posts-container",children:[G.jsx("span",{children:"Order by: "}),G.jsx("button",{className:"darkAccent btn sort-button",onClick:()=>{A("created_at")},children:"Newest"}),G.jsx("button",{className:"btn sort-button",onClick:()=>{A("vote")},children:"Most Popular"})]})]})}),G.jsx("div",{className:"post-preview-container",children:b().length!==0?b():G.jsx(bI,{})})]})}function YY(){const o=Sa();return se.useEffect(()=>{o("/")},[]),G.jsx("div",{children:"NotFound"})}function ZY(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wI={exports:{}};const KY={},QY=Object.freeze(Object.defineProperty({__proto__:null,default:KY},Symbol.toStringTag,{value:"Module"})),JY=jU(QY);(function(o){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(i,a){typeof ZY=="function"&&o&&o.exports?o.exports=a():(i.dcodeIO=i.dcodeIO||{}).bcrypt=a()})(Ko,function(){var i={},a=null;function l(H){if(o&&o.exports)try{return JY.randomBytes(H)}catch{}try{var $;return(self.crypto||self.msCrypto).getRandomValues($=new Uint32Array(H)),Array.prototype.slice.call($)}catch{}if(!a)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return a(H)}var u=!1;try{l(1),u=!0}catch{}a=null,i.setRandomFallback=function(H){a=H},i.genSaltSync=function(H,$){if(H=H||T,typeof H!="number")throw Error("Illegal arguments: "+typeof H+", "+typeof $);H<4?H=4:H>31&&(H=31);var V=[];return V.push("$2a$"),H<10&&V.push("0"),V.push(H.toString()),V.push("$"),V.push(v(l(E),E)),V.join("")},i.genSalt=function(H,$,V){if(typeof $=="function"&&(V=$,$=void 0),typeof H=="function"&&(V=H,H=void 0),typeof H>"u")H=T;else if(typeof H!="number")throw Error("illegal arguments: "+typeof H);function R(F){g(function(){try{F(null,i.genSaltSync(H))}catch(M){F(M)}})}if(V){if(typeof V!="function")throw Error("Illegal callback: "+typeof V);R(V)}else return new Promise(function(F,M){R(function(J,X){if(J){M(J);return}F(X)})})},i.hashSync=function(H,$){if(typeof $>"u"&&($=T),typeof $=="number"&&($=i.genSaltSync($)),typeof H!="string"||typeof $!="string")throw Error("Illegal arguments: "+typeof H+", "+typeof $);return ce(H,$)},i.hash=function(H,$,V,R){function F(M){typeof H=="string"&&typeof $=="number"?i.genSalt($,function(J,X){ce(H,X,M,R)}):typeof H=="string"&&typeof $=="string"?ce(H,$,M,R):g(M.bind(this,Error("Illegal arguments: "+typeof H+", "+typeof $)))}if(V){if(typeof V!="function")throw Error("Illegal callback: "+typeof V);F(V)}else return new Promise(function(M,J){F(function(X,ee){if(X){J(X);return}M(ee)})})};function f(H,$){for(var V=0,R=0,F=0,M=H.length;F<M;++F)H.charCodeAt(F)===$.charCodeAt(F)?++V:++R;return V<0?!1:R===0}i.compareSync=function(H,$){if(typeof H!="string"||typeof $!="string")throw Error("Illegal arguments: "+typeof H+", "+typeof $);return $.length!==60?!1:f(i.hashSync(H,$.substr(0,$.length-31)),$)},i.compare=function(H,$,V,R){function F(M){if(typeof H!="string"||typeof $!="string"){g(M.bind(this,Error("Illegal arguments: "+typeof H+", "+typeof $)));return}if($.length!==60){g(M.bind(this,null,!1));return}i.hash(H,$.substr(0,29),function(J,X){J?M(J):M(null,f(X,$))},R)}if(V){if(typeof V!="function")throw Error("Illegal callback: "+typeof V);F(V)}else return new Promise(function(M,J){F(function(X,ee){if(X){J(X);return}M(ee)})})},i.getRounds=function(H){if(typeof H!="string")throw Error("Illegal arguments: "+typeof H);return parseInt(H.split("$")[2],10)},i.getSalt=function(H){if(typeof H!="string")throw Error("Illegal arguments: "+typeof H);if(H.length!==60)throw Error("Illegal hash length: "+H.length+" != 60");return H.substring(0,29)};var g=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function m(H){var $=[],V=0;return x.encodeUTF16toUTF8(function(){return V>=H.length?null:H.charCodeAt(V++)},function(R){$.push(R)}),$}var k="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],A=String.fromCharCode;function v(H,$){var V=0,R=[],F,M;if($<=0||$>H.length)throw Error("Illegal len: "+$);for(;V<$;){if(F=H[V++]&255,R.push(k[F>>2&63]),F=(F&3)<<4,V>=$){R.push(k[F&63]);break}if(M=H[V++]&255,F|=M>>4&15,R.push(k[F&63]),F=(M&15)<<2,V>=$){R.push(k[F&63]);break}M=H[V++]&255,F|=M>>6&3,R.push(k[F&63]),R.push(k[M&63])}return R.join("")}function y(H,$){var V=0,R=H.length,F=0,M=[],J,X,ee,le,ke,Ce;if($<=0)throw Error("Illegal len: "+$);for(;V<R-1&&F<$&&(Ce=H.charCodeAt(V++),J=Ce<b.length?b[Ce]:-1,Ce=H.charCodeAt(V++),X=Ce<b.length?b[Ce]:-1,!(J==-1||X==-1||(ke=J<<2>>>0,ke|=(X&48)>>4,M.push(A(ke)),++F>=$||V>=R)||(Ce=H.charCodeAt(V++),ee=Ce<b.length?b[Ce]:-1,ee==-1)||(ke=(X&15)<<4>>>0,ke|=(ee&60)>>2,M.push(A(ke)),++F>=$||V>=R)));)Ce=H.charCodeAt(V++),le=Ce<b.length?b[Ce]:-1,ke=(ee&3)<<6>>>0,ke|=le,M.push(A(ke)),++F;var at=[];for(V=0;V<F;V++)at.push(M[V].charCodeAt(0));return at}var x=function(){var H={};return H.MAX_CODEPOINT=1114111,H.encodeUTF8=function($,V){var R=null;for(typeof $=="number"&&(R=$,$=function(){return null});R!==null||(R=$())!==null;)R<128?V(R&127):R<2048?(V(R>>6&31|192),V(R&63|128)):R<65536?(V(R>>12&15|224),V(R>>6&63|128),V(R&63|128)):(V(R>>18&7|240),V(R>>12&63|128),V(R>>6&63|128),V(R&63|128)),R=null},H.decodeUTF8=function($,V){for(var R,F,M,J,X=function(ee){ee=ee.slice(0,ee.indexOf(null));var le=Error(ee.toString());throw le.name="TruncatedError",le.bytes=ee,le};(R=$())!==null;)if(!(R&128))V(R);else if((R&224)===192)(F=$())===null&&X([R,F]),V((R&31)<<6|F&63);else if((R&240)===224)((F=$())===null||(M=$())===null)&&X([R,F,M]),V((R&15)<<12|(F&63)<<6|M&63);else if((R&248)===240)((F=$())===null||(M=$())===null||(J=$())===null)&&X([R,F,M,J]),V((R&7)<<18|(F&63)<<12|(M&63)<<6|J&63);else throw RangeError("Illegal starting byte: "+R)},H.UTF16toUTF8=function($,V){for(var R,F=null;(R=F!==null?F:$())!==null;){if(R>=55296&&R<=57343&&(F=$())!==null&&F>=56320&&F<=57343){V((R-55296)*1024+F-56320+65536),F=null;continue}V(R)}F!==null&&V(F)},H.UTF8toUTF16=function($,V){var R=null;for(typeof $=="number"&&(R=$,$=function(){return null});R!==null||(R=$())!==null;)R<=65535?V(R):(R-=65536,V((R>>10)+55296),V(R%1024+56320)),R=null},H.encodeUTF16toUTF8=function($,V){H.UTF16toUTF8($,function(R){H.encodeUTF8(R,V)})},H.decodeUTF8toUTF16=function($,V){H.decodeUTF8($,function(R){H.UTF8toUTF16(R,V)})},H.calculateCodePoint=function($){return $<128?1:$<2048?2:$<65536?3:4},H.calculateUTF8=function($){for(var V,R=0;(V=$())!==null;)R+=H.calculateCodePoint(V);return R},H.calculateUTF16asUTF8=function($){var V=0,R=0;return H.UTF16toUTF8($,function(F){++V,R+=H.calculateCodePoint(F)}),[V,R]},H}();Date.now=Date.now||function(){return+new Date};var E=16,T=10,B=16,I=100,N=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],P=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],j=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function q(H,$,V,R){var F,M=H[$],J=H[$+1];return M^=V[0],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[1],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[2],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[3],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[4],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[5],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[6],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[7],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[8],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[9],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[10],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[11],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[12],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[13],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[14],F=R[M>>>24],F+=R[256|M>>16&255],F^=R[512|M>>8&255],F+=R[768|M&255],J^=F^V[15],F=R[J>>>24],F+=R[256|J>>16&255],F^=R[512|J>>8&255],F+=R[768|J&255],M^=F^V[16],H[$]=J^V[B+1],H[$+1]=M,H}function K(H,$){for(var V=0,R=0;V<4;++V)R=R<<8|H[$]&255,$=($+1)%H.length;return{key:R,offp:$}}function Q(H,$,V){for(var R=0,F=[0,0],M=$.length,J=V.length,X,ee=0;ee<M;ee++)X=K(H,R),R=X.offp,$[ee]=$[ee]^X.key;for(ee=0;ee<M;ee+=2)F=q(F,0,$,V),$[ee]=F[0],$[ee+1]=F[1];for(ee=0;ee<J;ee+=2)F=q(F,0,$,V),V[ee]=F[0],V[ee+1]=F[1]}function Z(H,$,V,R){for(var F=0,M=[0,0],J=V.length,X=R.length,ee,le=0;le<J;le++)ee=K($,F),F=ee.offp,V[le]=V[le]^ee.key;for(F=0,le=0;le<J;le+=2)ee=K(H,F),F=ee.offp,M[0]^=ee.key,ee=K(H,F),F=ee.offp,M[1]^=ee.key,M=q(M,0,V,R),V[le]=M[0],V[le+1]=M[1];for(le=0;le<X;le+=2)ee=K(H,F),F=ee.offp,M[0]^=ee.key,ee=K(H,F),F=ee.offp,M[1]^=ee.key,M=q(M,0,V,R),R[le]=M[0],R[le+1]=M[1]}function ae(H,$,V,R,F){var M=j.slice(),J=M.length,X;if(V<4||V>31)if(X=Error("Illegal number of rounds (4-31): "+V),R){g(R.bind(this,X));return}else throw X;if($.length!==E)if(X=Error("Illegal salt length: "+$.length+" != "+E),R){g(R.bind(this,X));return}else throw X;V=1<<V>>>0;var ee,le,ke=0,Ce;Int32Array?(ee=new Int32Array(N),le=new Int32Array(P)):(ee=N.slice(),le=P.slice()),Z($,H,ee,le);function at(){if(F&&F(ke/V),ke<V)for(var gt=Date.now();ke<V&&(ke=ke+1,Q(H,ee,le),Q($,ee,le),!(Date.now()-gt>I)););else{for(ke=0;ke<64;ke++)for(Ce=0;Ce<J>>1;Ce++)q(M,Ce<<1,ee,le);var Ve=[];for(ke=0;ke<J;ke++)Ve.push((M[ke]>>24&255)>>>0),Ve.push((M[ke]>>16&255)>>>0),Ve.push((M[ke]>>8&255)>>>0),Ve.push((M[ke]&255)>>>0);if(R){R(null,Ve);return}else return Ve}R&&g(at)}if(typeof R<"u")at();else for(var Bt;;)if(typeof(Bt=at())<"u")return Bt||[]}function ce(H,$,V,R){var F;if(typeof H!="string"||typeof $!="string")if(F=Error("Invalid string / salt: Not a string"),V){g(V.bind(this,F));return}else throw F;var M,J;if($.charAt(0)!=="$"||$.charAt(1)!=="2")if(F=Error("Invalid salt version: "+$.substring(0,2)),V){g(V.bind(this,F));return}else throw F;if($.charAt(2)==="$")M=String.fromCharCode(0),J=3;else{if(M=$.charAt(2),M!=="a"&&M!=="b"&&M!=="y"||$.charAt(3)!=="$")if(F=Error("Invalid salt revision: "+$.substring(2,4)),V){g(V.bind(this,F));return}else throw F;J=4}if($.charAt(J+2)>"$")if(F=Error("Missing salt rounds"),V){g(V.bind(this,F));return}else throw F;var X=parseInt($.substring(J,J+1),10)*10,ee=parseInt($.substring(J+1,J+2),10),le=X+ee,ke=$.substring(J+3,J+25);H+=M>="a"?"\0":"";var Ce=m(H),at=y(ke,E);function Bt(gt){var Ve=[];return Ve.push("$2"),M>="a"&&Ve.push(M),Ve.push("$"),le<10&&Ve.push("0"),Ve.push(le.toString()),Ve.push("$"),Ve.push(v(at,at.length)),Ve.push(v(gt,j.length*4-1)),Ve.join("")}if(typeof V>"u")return Bt(ae(Ce,at,le));ae(Ce,at,le,function(gt,Ve){gt?V(gt,null):V(null,Bt(Ve))},R)}return i.encodeBase64=v,i.decodeBase64=y,i})})(wI);var XY=wI.exports;const xb=W0(XY),Pl={generateHash(o){const i=xb.genSaltSync(10);return xb.hashSync(o,i)},async authenticate(o){const i=Pl.promptPass();return new Promise((a,l)=>{xb.compare(i,o,function(u,f){u?l(u):a(f)})})},promptPass(){return prompt("What is the passkey?")}};function w5(o){return o.charAt(0).toUpperCase()+o.slice(1)}function v5(o,i){return Math.floor(Math.random()*(i-o))+o}function eZ(){var o=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"],i=["people","history","way","art","world","information","map","family","government","health","system","computer","meat","year","thanks","music","person","reading","method","data","food","understanding","theory","law","bird","literature","problem","software","control","knowledge","power","ability","economics","love","internet","television","science","library","nature","fact","product","idea","temperature","investment","area","society","activity","story","industry","media","thing","oven","community","definition","safety","quality","development","language","management","player","variety","video","week","security","country","exam","movie","organization","equipment","physics","analysis","policy","series","thought","basis","boyfriend","direction","strategy","technology","army","camera","freedom","paper","environment","child","instance","month","truth","marketing","university","writing","article","department","difference","goal","news","audience","fishing","growth","income","marriage","user","combination","failure","meaning","medicine","philosophy","teacher","communication","night","chemistry","disease","disk","energy","nation","road","role","soup","advertising","location","success","addition","apartment","education","math","moment","painting","politics","attention","decision","event","property","shopping","student","wood","competition","distribution","entertainment","office","population","president","unit","category","cigarette","context","introduction","opportunity","performance","driver","flight","length","magazine","newspaper","relationship","teaching","cell","dealer","debate","finding","lake","member","message","phone","scene","appearance","association","concept","customer","death","discussion","housing","inflation","insurance","mood","woman","advice","blood","effort","expression","importance","opinion","payment","reality","responsibility","situation","skill","statement","wealth","application","city","county","depth","estate","foundation","grandmother","heart","perspective","photo","recipe","studio","topic","collection","depression","imagination","passion","percentage","resource","setting","ad","agency","college","connection","criticism","debt","description","memory","patience","secretary","solution","administration","aspect","attitude","director","personality","psychology","recommendation","response","selection","storage","version","alcohol","argument","complaint","contract","emphasis","highway","loss","membership","possession","preparation","steak","union","agreement","cancer","currency","employment","engineering","entry","interaction","limit","mixture","preference","region","republic","seat","tradition","virus","actor","classroom","delivery","device","difficulty","drama","election","engine","football","guidance","hotel","match","owner","priority","protection","suggestion","tension","variation","anxiety","atmosphere","awareness","bread","climate","comparison","confusion","construction","elevator","emotion","employee","employer","guest","height","leadership","mall","manager","operation","recording","respect","sample","transportation","boring","charity","cousin","disaster","editor","efficiency","excitement","extent","feedback","guitar","homework","leader","mom","outcome","permission","presentation","promotion","reflection","refrigerator","resolution","revenue","session","singer","tennis","basket","bonus","cabinet","childhood","church","clothes","coffee","dinner","drawing","hair","hearing","initiative","judgment","lab","measurement","mode","mud","orange","poetry","police","possibility","procedure","queen","ratio","relation","restaurant","satisfaction","sector","signature","significance","song","tooth","town","vehicle","volume","wife","accident","airport","appointment","arrival","assumption","baseball","chapter","committee","conversation","database","enthusiasm","error","explanation","farmer","gate","girl","hall","historian","hospital","injury","instruction","maintenance","manufacturer","meal","perception","pie","poem","presence","proposal","reception","replacement","revolution","river","son","speech","tea","village","warning","winner","worker","writer","assistance","breath","buyer","chest","chocolate","conclusion","contribution","cookie","courage","desk","drawer","establishment","examination","garbage","grocery","honey","impression","improvement","independence","insect","inspection","inspector","king","ladder","menu","penalty","piano","potato","profession","professor","quantity","reaction","requirement","salad","sister","supermarket","tongue","weakness","wedding","affair","ambition","analyst","apple","assignment","assistant","bathroom","bedroom","beer","birthday","celebration","championship","cheek","client","consequence","departure","diamond","dirt","ear","fortune","friendship","funeral","gene","girlfriend","hat","indication","intention","lady","midnight","negotiation","obligation","passenger","pizza","platform","poet","pollution","recognition","reputation","shirt","speaker","stranger","surgery","sympathy","tale","throat","trainer","uncle","youth","time","work","film","water","money","example","while","business","study","game","life","form","air","day","place","number","part","field","fish","back","process","heat","hand","experience","job","book","end","point","type","home","economy","value","body","market","guide","interest","state","radio","course","company","price","size","card","list","mind","trade","line","care","group","risk","word","fat","force","key","light","training","name","school","top","amount","level","order","practice","research","sense","service","piece","web","boss","sport","fun","house","page","term","test","answer","sound","focus","matter","kind","soil","board","oil","picture","access","garden","range","rate","reason","future","site","demand","exercise","image","case","cause","coast","action","age","bad","boat","record","result","section","building","mouse","cash","class","period","plan","store","tax","side","subject","space","rule","stock","weather","chance","figure","man","model","source","beginning","earth","program","chicken","design","feature","head","material","purpose","question","rock","salt","act","birth","car","dog","object","scale","sun","note","profit","rent","speed","style","war","bank","craft","half","inside","outside","standard","bus","exchange","eye","fire","position","pressure","stress","advantage","benefit","box","frame","issue","step","cycle","face","item","metal","paint","review","room","screen","structure","view","account","ball","discipline","medium","share","balance","bit","black","bottom","choice","gift","impact","machine","shape","tool","wind","address","average","career","culture","morning","pot","sign","table","task","condition","contact","credit","egg","hope","ice","network","north","square","attempt","date","effect","link","post","star","voice","capital","challenge","friend","self","shot","brush","couple","exit","front","function","lack","living","plant","plastic","spot","summer","taste","theme","track","wing","brain","button","click","desire","foot","gas","influence","notice","rain","wall","base","damage","distance","feeling","pair","savings","staff","sugar","target","text","animal","author","budget","discount","file","ground","lesson","minute","officer","phase","reference","register","sky","stage","stick","title","trouble","bowl","bridge","campaign","character","club","edge","evidence","fan","letter","lock","maximum","novel","option","pack","park","quarter","skin","sort","weight","baby","background","carry","dish","factor","fruit","glass","joint","master","muscle","red","strength","traffic","trip","vegetable","appeal","chart","gear","ideal","kitchen","land","log","mother","net","party","principle","relative","sale","season","signal","spirit","street","tree","wave","belt","bench","commission","copy","drop","minimum","path","progress","project","sea","south","status","stuff","ticket","tour","angle","blue","breakfast","confidence","daughter","degree","doctor","dot","dream","duty","essay","father","fee","finance","hour","juice","luck","milk","mouth","peace","pipe","stable","storm","substance","team","trick","afternoon","bat","beach","blank","catch","chain","consideration","cream","crew","detail","gold","interview","kid","mark","mission","pain","pleasure","score","screw","sex","shop","shower","suit","tone","window","agent","band","bath","block","bone","calendar","candidate","cap","coat","contest","corner","court","cup","district","door","east","finger","garage","guarantee","hole","hook","implement","layer","lecture","lie","manner","meeting","nose","parking","partner","profile","rice","routine","schedule","swimming","telephone","tip","winter","airline","bag","battle","bed","bill","bother","cake","code","curve","designer","dimension","dress","ease","emergency","evening","extension","farm","fight","gap","grade","holiday","horror","horse","host","husband","loan","mistake","mountain","nail","noise","occasion","package","patient","pause","phrase","proof","race","relief","sand","sentence","shoulder","smoke","stomach","string","tourist","towel","vacation","west","wheel","wine","arm","aside","associate","bet","blow","border","branch","breast","brother","buddy","bunch","chip","coach","cross","document","draft","dust","expert","floor","god","golf","habit","iron","judge","knife","landscape","league","mail","mess","native","opening","parent","pattern","pin","pool","pound","request","salary","shame","shelter","shoe","silver","tackle","tank","trust","assist","bake","bar","bell","bike","blame","boy","brick","chair","closet","clue","collar","comment","conference","devil","diet","fear","fuel","glove","jacket","lunch","monitor","mortgage","nurse","pace","panic","peak","plane","reward","row","sandwich","shock","spite","spray","surprise","till","transition","weekend","welcome","yard","alarm","bend","bicycle","bite","blind","bottle","cable","candle","clerk","cloud","concert","counter","flower","grandfather","harm","knee","lawyer","leather","load","mirror","neck","pension","plate","purple","ruin","ship","skirt","slice","snow","specialist","stroke","switch","trash","tune","zone","anger","award","bid","bitter","boot","bug","camp","candy","carpet","cat","champion","channel","clock","comfort","cow","crack","engineer","entrance","fault","grass","guy","hell","highlight","incident","island","joke","jury","leg","lip","mate","motor","nerve","passage","pen","pride","priest","prize","promise","resident","resort","ring","roof","rope","sail","scheme","script","sock","station","toe","tower","truck","witness","can","will","other","use","make","good","look","help","go","great","being","still","public","read","keep","start","give","human","local","general","specific","long","play","feel","high","put","common","set","change","simple","past","big","possible","particular","major","personal","current","national","cut","natural","physical","show","try","check","second","call","move","pay","let","increase","single","individual","turn","ask","buy","guard","hold","main","offer","potential","professional","international","travel","cook","alternative","special","working","whole","dance","excuse","cold","commercial","low","purchase","deal","primary","worth","fall","necessary","positive","produce","search","present","spend","talk","creative","tell","cost","drive","green","support","glad","remove","return","run","complex","due","effective","middle","regular","reserve","independent","leave","original","reach","rest","serve","watch","beautiful","charge","active","break","negative","safe","stay","visit","visual","affect","cover","report","rise","walk","white","junior","pick","unique","classic","final","lift","mix","private","stop","teach","western","concern","familiar","fly","official","broad","comfortable","gain","rich","save","stand","young","heavy","lead","listen","valuable","worry","handle","leading","meet","release","sell","finish","normal","press","ride","secret","spread","spring","tough","wait","brown","deep","display","flow","hit","objective","shoot","touch","cancel","chemical","cry","dump","extreme","push","conflict","eat","fill","formal","jump","kick","opposite","pass","pitch","remote","total","treat","vast","abuse","beat","burn","deposit","print","raise","sleep","somewhere","advance","consist","dark","double","draw","equal","fix","hire","internal","join","kill","sensitive","tap","win","attack","claim","constant","drag","drink","guess","minor","pull","raw","soft","solid","wear","weird","wonder","annual","count","dead","doubt","feed","forever","impress","repeat","round","sing","slide","strip","wish","combine","command","dig","divide","equivalent","hang","hunt","initial","march","mention","spiritual","survey","tie","adult","brief","crazy","escape","gather","hate","prior","repair","rough","sad","scratch","sick","strike","employ","external","hurt","illegal","laugh","lay","mobile","nasty","ordinary","respond","royal","senior","split","strain","struggle","swim","train","upper","wash","yellow","convert","crash","dependent","fold","funny","grab","hide","miss","permit","quote","recover","resolve","roll","sink","slip","spare","suspect","sweet","swing","twist","upstairs","usual","abroad","brave","calm","concentrate","estimate","grand","male","mine","prompt","quiet","refuse","regret","reveal","rush","shake","shift","shine","steal","suck","surround","bear","brilliant","dare","dear","delay","drunk","female","hurry","inevitable","invite","kiss","neat","pop","punch","quit","reply","representative","resist","rip","rub","silly","smile","spell","stretch","stupid","tear","temporary","tomorrow","wake","wrap","yesterday","Thomas","Tom","Lieuwe"],a=w5(o[v5(0,o.length+1)])+" "+w5(i[v5(0,i.length+1)]);return a}const vI=()=>{const o=localStorage.getItem("username");if(o!=="null"&&o)return o;{let i=prompt("What is your name? (display name for posts/comments)");return i||(i=eZ()),localStorage.setItem("username",i),i}};var tf={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */tf.exports;(function(o,i){(function(a,l){o.exports=l(se)})(self,a=>(()=>{var l={703:(m,k,b)=>{var A=b(414);function v(){}function y(){}y.resetWarningCache=v,m.exports=function(){function x(B,I,N,P,j,q){if(q!==A){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}}function E(){return x}x.isRequired=x;var T={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:E,element:x,elementType:x,instanceOf:E,node:x,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:y,resetWarningCache:v};return T.PropTypes=T,T}},697:(m,k,b)=>{m.exports=b(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=a}},u={};function f(m){var k=u[m];if(k!==void 0)return k.exports;var b=u[m]={exports:{}};return l[m](b,b.exports,f),b.exports}f.n=m=>{var k=m&&m.__esModule?()=>m.default:()=>m;return f.d(k,{a:k}),k},f.d=(m,k)=>{for(var b in k)f.o(k,b)&&!f.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:k[b]})},f.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k),f.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var g={};return(()=>{f.r(g),f.d(g,{CKEditor:()=>xi,CKEditorContext:()=>Dr});var m=f(787),k=f.n(m),b=f(697),A=f.n(b);const v=new Array(256).fill("").map((D,S)=>("0"+S.toString(16)).slice(-2));class y{constructor(S){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof S.crashNumberLimit=="number"?S.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof S.minimumNonErrorTimePeriod=="number"?S.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=L=>{const W="error"in L?L.error:L.reason;W instanceof Error&&this._handleError(W,L)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(S,L){this._listeners[S]||(this._listeners[S]=[]),this._listeners[S].push(L)}off(S,L){this._listeners[S]=this._listeners[S].filter(W=>W!==L)}_fire(S,...L){const W=this._listeners[S]||[];for(const ue of W)ue.apply(this,[null,...L])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(S,L){if(this._shouldReactToError(S)){this.crashes.push({message:S.message,stack:S.stack,filename:L instanceof ErrorEvent?L.filename:void 0,lineno:L instanceof ErrorEvent?L.lineno:void 0,colno:L instanceof ErrorEvent?L.colno:void 0,date:this._now()});const W=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:S,causesRestart:W}),W?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(S){return S.is&&S.is("CKEditorError")&&S.context!==void 0&&S.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(S)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(D,S=new Set){const L=[D],W=new Set;let ue=0;for(;L.length>ue;){const _e=L[ue++];if(!W.has(_e)&&E(_e)&&!S.has(_e))if(W.add(_e),Symbol.iterator in _e)try{for(const xe of _e)L.push(xe)}catch{}else for(const xe in _e)xe!=="defaultValue"&&L.push(_e[xe])}return W}function E(D){const S=Object.prototype.toString.call(D),L=typeof D;return!(L==="number"||L==="boolean"||L==="string"||L==="symbol"||L==="function"||S==="[object Date]"||S==="[object RegExp]"||S==="[object Module]"||D==null||D._watchdogExcluded||D instanceof EventTarget||D instanceof Event)}function T(D,S,L=new Set){if(D===S&&typeof(W=D)=="object"&&W!==null)return!0;var W;const ue=x(D,L),_e=x(S,L);for(const xe of ue)if(_e.has(xe))return!0;return!1}const B=function(D){var S=typeof D;return D!=null&&(S=="object"||S=="function")},I=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko;var N=typeof self=="object"&&self&&self.Object===Object&&self;const P=I||N||Function("return this")(),j=function(){return P.Date.now()};var q=/\s/;const K=function(D){for(var S=D.length;S--&&q.test(D.charAt(S)););return S};var Q=/^\s+/;const Z=function(D){return D&&D.slice(0,K(D)+1).replace(Q,"")},ae=P.Symbol;var ce=Object.prototype,H=ce.hasOwnProperty,$=ce.toString,V=ae?ae.toStringTag:void 0;const R=function(D){var S=H.call(D,V),L=D[V];try{D[V]=void 0;var W=!0}catch{}var ue=$.call(D);return W&&(S?D[V]=L:delete D[V]),ue};var F=Object.prototype.toString;const M=function(D){return F.call(D)};var J=ae?ae.toStringTag:void 0;const X=function(D){return D==null?D===void 0?"[object Undefined]":"[object Null]":J&&J in Object(D)?R(D):M(D)},ee=function(D){return D!=null&&typeof D=="object"},le=function(D){return typeof D=="symbol"||ee(D)&&X(D)=="[object Symbol]"};var ke=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,at=/^0o[0-7]+$/i,Bt=parseInt;const gt=function(D){if(typeof D=="number")return D;if(le(D))return NaN;if(B(D)){var S=typeof D.valueOf=="function"?D.valueOf():D;D=B(S)?S+"":S}if(typeof D!="string")return D===0?D:+D;D=Z(D);var L=Ce.test(D);return L||at.test(D)?Bt(D.slice(2),L?2:8):ke.test(D)?NaN:+D};var Ve=Math.max,Me=Math.min;const Df=function(D,S,L){var W,ue,_e,xe,Ee,pt,nt=0,_o=!1,Qi=!1,Hn=!0;if(typeof D!="function")throw new TypeError("Expected a function");function Sr(en){var oi=W,Ei=ue;return W=ue=void 0,nt=en,xe=D.apply(Ei,oi)}function Ji(en){var oi=en-pt;return pt===void 0||oi>=S||oi<0||Qi&&en-nt>=_e}function Xi(){var en=j();if(Ji(en))return xn(en);Ee=setTimeout(Xi,function(oi){var Ei=S-(oi-pt);return Qi?Me(Ei,_e-(oi-nt)):Ei}(en))}function xn(en){return Ee=void 0,Hn&&W?Sr(en):(W=ue=void 0,xe)}function En(){var en=j(),oi=Ji(en);if(W=arguments,ue=this,pt=en,oi){if(Ee===void 0)return function(Ei){return nt=Ei,Ee=setTimeout(Xi,S),_o?Sr(Ei):xe}(pt);if(Qi)return clearTimeout(Ee),Ee=setTimeout(Xi,S),Sr(pt)}return Ee===void 0&&(Ee=setTimeout(Xi,S)),xe}return S=gt(S)||0,B(L)&&(_o=!!L.leading,_e=(Qi="maxWait"in L)?Ve(gt(L.maxWait)||0,S):_e,Hn="trailing"in L?!!L.trailing:Hn),En.cancel=function(){Ee!==void 0&&clearTimeout(Ee),nt=0,W=pt=ue=Ee=void 0},En.flush=function(){return Ee===void 0?xe:xn(j())},En},Kl=function(D,S,L){var W=!0,ue=!0;if(typeof D!="function")throw new TypeError("Expected a function");return B(L)&&(W="leading"in L?!!L.leading:W,ue="trailing"in L?!!L.trailing:ue),Df(D,S,{leading:W,maxWait:S,trailing:ue})},za=function(){this.__data__=[],this.size=0},La=function(D,S){return D===S||D!=D&&S!=S},hs=function(D,S){for(var L=D.length;L--;)if(La(D[L][0],S))return L;return-1};var Sf=Array.prototype.splice;const ja=function(D){var S=this.__data__,L=hs(S,D);return!(L<0)&&(L==S.length-1?S.pop():Sf.call(S,L,1),--this.size,!0)},Ql=function(D){var S=this.__data__,L=hs(S,D);return L<0?void 0:S[L][1]},Jl=function(D){return hs(this.__data__,D)>-1},Tf=function(D,S){var L=this.__data__,W=hs(L,D);return W<0?(++this.size,L.push([D,S])):L[W][1]=S,this};function Ai(D){var S=-1,L=D==null?0:D.length;for(this.clear();++S<L;){var W=D[S];this.set(W[0],W[1])}}Ai.prototype.clear=za,Ai.prototype.delete=ja,Ai.prototype.get=Ql,Ai.prototype.has=Jl,Ai.prototype.set=Tf;const fs=Ai,tt=function(){this.__data__=new fs,this.size=0},gs=function(D){var S=this.__data__,L=S.delete(D);return this.size=S.size,L},ps=function(D){return this.__data__.get(D)},ms=function(D){return this.__data__.has(D)},Hi=function(D){if(!B(D))return!1;var S=X(D);return S=="[object Function]"||S=="[object GeneratorFunction]"||S=="[object AsyncFunction]"||S=="[object Proxy]"},ks=P["__core-js_shared__"];var Ra=function(){var D=/[^.]+$/.exec(ks&&ks.keys&&ks.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();const Ue=function(D){return!!Ra&&Ra in D};var Fa=Function.prototype.toString;const $i=function(D){if(D!=null){try{return Fa.call(D)}catch{}try{return D+""}catch{}}return""};var If=/^\[object .+?Constructor\]$/,Mf=Function.prototype,Xl=Object.prototype,Nf=Mf.toString,Of=Xl.hasOwnProperty,Pf=RegExp("^"+Nf.call(Of).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ed=function(D){return!(!B(D)||Ue(D))&&(Hi(D)?Pf:If).test($i(D))},Bf=function(D,S){return D==null?void 0:D[S]},ri=function(D,S){var L=Bf(D,S);return ed(L)?L:void 0},vt=ri(P,"Map"),zt=ri(Object,"create"),zf=function(){this.__data__=zt?zt(null):{},this.size=0},td=function(D){var S=this.has(D)&&delete this.__data__[D];return this.size-=S?1:0,S};var Lf=Object.prototype.hasOwnProperty;const jf=function(D){var S=this.__data__;if(zt){var L=S[D];return L==="__lodash_hash_undefined__"?void 0:L}return Lf.call(S,D)?S[D]:void 0};var Cn=Object.prototype.hasOwnProperty;const Rf=function(D){var S=this.__data__;return zt?S[D]!==void 0:Cn.call(S,D)},Vn=function(D,S){var L=this.__data__;return this.size+=this.has(D)?0:1,L[D]=zt&&S===void 0?"__lodash_hash_undefined__":S,this};function Wi(D){var S=-1,L=D==null?0:D.length;for(this.clear();++S<L;){var W=D[S];this.set(W[0],W[1])}}Wi.prototype.clear=zf,Wi.prototype.delete=td,Wi.prototype.get=jf,Wi.prototype.has=Rf,Wi.prototype.set=Vn;const nd=Wi,Ff=function(){this.size=0,this.__data__={hash:new nd,map:new(vt||fs),string:new nd}},go=function(D){var S=typeof D;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?D!=="__proto__":D===null},bs=function(D,S){var L=D.__data__;return go(S)?L[typeof S=="string"?"string":"hash"]:L.map},Vf=function(D){var S=bs(this,D).delete(D);return this.size-=S?1:0,S},Uf=function(D){return bs(this,D).get(D)},Hf=function(D){return bs(this,D).has(D)},$f=function(D,S){var L=bs(this,D),W=L.size;return L.set(D,S),this.size+=L.size==W?0:1,this};function wr(D){var S=-1,L=D==null?0:D.length;for(this.clear();++S<L;){var W=D[S];this.set(W[0],W[1])}}wr.prototype.clear=Ff,wr.prototype.delete=Vf,wr.prototype.get=Uf,wr.prototype.has=Hf,wr.prototype.set=$f;const Wf=wr,qf=function(D,S){var L=this.__data__;if(L instanceof fs){var W=L.__data__;if(!vt||W.length<199)return W.push([D,S]),this.size=++L.size,this;L=this.__data__=new Wf(W)}return L.set(D,S),this.size=L.size,this};function qi(D){var S=this.__data__=new fs(D);this.size=S.size}qi.prototype.clear=tt,qi.prototype.delete=gs,qi.prototype.get=ps,qi.prototype.has=ms,qi.prototype.set=qf;const Gf=qi,Ci=function(D,S){for(var L=-1,W=D==null?0:D.length;++L<W&&S(D[L],L,D)!==!1;);return D},id=function(){try{var D=ri(Object,"defineProperty");return D({},"",{}),D}catch{}}(),Rt=function(D,S,L){S=="__proto__"&&id?id(D,S,{configurable:!0,enumerable:!0,value:L,writable:!0}):D[S]=L};var Yf=Object.prototype.hasOwnProperty;const cn=function(D,S,L){var W=D[S];Yf.call(D,S)&&La(W,L)&&(L!==void 0||S in D)||Rt(D,S,L)},ws=function(D,S,L,W){var ue=!L;L||(L={});for(var _e=-1,xe=S.length;++_e<xe;){var Ee=S[_e],pt=W?W(L[Ee],D[Ee],Ee,L,D):void 0;pt===void 0&&(pt=D[Ee]),ue?Rt(L,Ee,pt):cn(L,Ee,pt)}return L},Zf=function(D,S){for(var L=-1,W=Array(D);++L<D;)W[L]=S(L);return W},Va=function(D){return ee(D)&&X(D)=="[object Arguments]"};var vs=Object.prototype,Kf=vs.hasOwnProperty,rd=vs.propertyIsEnumerable;const Qf=Va(function(){return arguments}())?Va:function(D){return ee(D)&&Kf.call(D,"callee")&&!rd.call(D,"callee")},po=Array.isArray,Jf=function(){return!1};var od=i&&!i.nodeType&&i,sd=od&&!0&&o&&!o.nodeType&&o,Ua=sd&&sd.exports===od?P.Buffer:void 0;const ad=(Ua?Ua.isBuffer:void 0)||Jf;var Xf=/^(?:0|[1-9]\d*)$/;const eg=function(D,S){var L=typeof D;return!!(S=S??9007199254740991)&&(L=="number"||L!="symbol"&&Xf.test(D))&&D>-1&&D%1==0&&D<S},Xt=function(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=9007199254740991};var Je={};Je["[object Float32Array]"]=Je["[object Float64Array]"]=Je["[object Int8Array]"]=Je["[object Int16Array]"]=Je["[object Int32Array]"]=Je["[object Uint8Array]"]=Je["[object Uint8ClampedArray]"]=Je["[object Uint16Array]"]=Je["[object Uint32Array]"]=!0,Je["[object Arguments]"]=Je["[object Array]"]=Je["[object ArrayBuffer]"]=Je["[object Boolean]"]=Je["[object DataView]"]=Je["[object Date]"]=Je["[object Error]"]=Je["[object Function]"]=Je["[object Map]"]=Je["[object Number]"]=Je["[object Object]"]=Je["[object RegExp]"]=Je["[object Set]"]=Je["[object String]"]=Je["[object WeakMap]"]=!1;const tg=function(D){return ee(D)&&Xt(D.length)&&!!Je[X(D)]},Ha=function(D){return function(S){return D(S)}};var vr=i&&!i.nodeType&&i,mo=vr&&!0&&o&&!o.nodeType&&o,_r=mo&&mo.exports===vr&&I.process;const yr=function(){try{var D=mo&&mo.require&&mo.require("util").types;return D||_r&&_r.binding&&_r.binding("util")}catch{}}();var cd=yr&&yr.isTypedArray;const ng=cd?Ha(cd):tg;var ig=Object.prototype.hasOwnProperty;const ld=function(D,S){var L=po(D),W=!L&&Qf(D),ue=!L&&!W&&ad(D),_e=!L&&!W&&!ue&&ng(D),xe=L||W||ue||_e,Ee=xe?Zf(D.length,String):[],pt=Ee.length;for(var nt in D)!S&&!ig.call(D,nt)||xe&&(nt=="length"||ue&&(nt=="offset"||nt=="parent")||_e&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||eg(nt,pt))||Ee.push(nt);return Ee};var rg=Object.prototype;const $a=function(D){var S=D&&D.constructor;return D===(typeof S=="function"&&S.prototype||rg)},dd=function(D,S){return function(L){return D(S(L))}},og=dd(Object.keys,Object);var sg=Object.prototype.hasOwnProperty;const Ar=function(D){if(!$a(D))return og(D);var S=[];for(var L in Object(D))sg.call(D,L)&&L!="constructor"&&S.push(L);return S},ko=function(D){return D!=null&&Xt(D.length)&&!Hi(D)},Wa=function(D){return ko(D)?ld(D):Ar(D)},ag=function(D,S){return D&&ws(S,Wa(S),D)},cg=function(D){var S=[];if(D!=null)for(var L in Object(D))S.push(L);return S};var lg=Object.prototype.hasOwnProperty;const dg=function(D){if(!B(D))return cg(D);var S=$a(D),L=[];for(var W in D)(W!="constructor"||!S&&lg.call(D,W))&&L.push(W);return L},qa=function(D){return ko(D)?ld(D,!0):dg(D)},ug=function(D,S){return D&&ws(S,qa(S),D)};var ud=i&&!i.nodeType&&i,hd=ud&&!0&&o&&!o.nodeType&&o,fd=hd&&hd.exports===ud?P.Buffer:void 0,gd=fd?fd.allocUnsafe:void 0;const hg=function(D,S){if(S)return D.slice();var L=D.length,W=gd?gd(L):new D.constructor(L);return D.copy(W),W},fg=function(D,S){var L=-1,W=D.length;for(S||(S=Array(W));++L<W;)S[L]=D[L];return S},Gi=function(D,S){for(var L=-1,W=D==null?0:D.length,ue=0,_e=[];++L<W;){var xe=D[L];S(xe,L,D)&&(_e[ue++]=xe)}return _e},pd=function(){return[]};var Ga=Object.prototype.propertyIsEnumerable,Ya=Object.getOwnPropertySymbols;const Za=Ya?function(D){return D==null?[]:(D=Object(D),Gi(Ya(D),function(S){return Ga.call(D,S)}))}:pd,gg=function(D,S){return ws(D,Za(D),S)},md=function(D,S){for(var L=-1,W=S.length,ue=D.length;++L<W;)D[ue+L]=S[L];return D},Ka=dd(Object.getPrototypeOf,Object),kd=Object.getOwnPropertySymbols?function(D){for(var S=[];D;)md(S,Za(D)),D=Ka(D);return S}:pd,Yi=function(D,S){return ws(D,kd(D),S)},bd=function(D,S,L){var W=S(D);return po(D)?W:md(W,L(D))},pg=function(D){return bd(D,Wa,Za)},mg=function(D){return bd(D,qa,kd)},Qa=ri(P,"DataView"),Ja=ri(P,"Promise"),Xa=ri(P,"Set"),ec=ri(P,"WeakMap");var wd="[object Map]",vd="[object Promise]",_d="[object Set]",yd="[object WeakMap]",Ad="[object DataView]",Zi=$i(Qa),kg=$i(vt),bo=$i(Ja),bg=$i(Xa),wo=$i(ec),Ki=X;(Qa&&Ki(new Qa(new ArrayBuffer(1)))!=Ad||vt&&Ki(new vt)!=wd||Ja&&Ki(Ja.resolve())!=vd||Xa&&Ki(new Xa)!=_d||ec&&Ki(new ec)!=yd)&&(Ki=function(D){var S=X(D),L=S=="[object Object]"?D.constructor:void 0,W=L?$i(L):"";if(W)switch(W){case Zi:return Ad;case kg:return wd;case bo:return vd;case bg:return _d;case wo:return yd}return S});const tc=Ki;var wg=Object.prototype.hasOwnProperty;const vg=function(D){var S=D.length,L=new D.constructor(S);return S&&typeof D[0]=="string"&&wg.call(D,"index")&&(L.index=D.index,L.input=D.input),L},Cd=P.Uint8Array,nc=function(D){var S=new D.constructor(D.byteLength);return new Cd(S).set(new Cd(D)),S},_g=function(D,S){var L=S?nc(D.buffer):D.buffer;return new D.constructor(L,D.byteOffset,D.byteLength)};var yg=/\w*$/;const Ag=function(D){var S=new D.constructor(D.source,yg.exec(D));return S.lastIndex=D.lastIndex,S};var xd=ae?ae.prototype:void 0,Ed=xd?xd.valueOf:void 0;const Cg=function(D){return Ed?Object(Ed.call(D)):{}},xg=function(D,S){var L=S?nc(D.buffer):D.buffer;return new D.constructor(L,D.byteOffset,D.length)},Eg=function(D,S,L){var W=D.constructor;switch(S){case"[object ArrayBuffer]":return nc(D);case"[object Boolean]":case"[object Date]":return new W(+D);case"[object DataView]":return _g(D,L);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xg(D,L);case"[object Map]":case"[object Set]":return new W;case"[object Number]":case"[object String]":return new W(D);case"[object RegExp]":return Ag(D);case"[object Symbol]":return Cg(D)}};var Dd=Object.create;const Dg=function(){function D(){}return function(S){if(!B(S))return{};if(Dd)return Dd(S);D.prototype=S;var L=new D;return D.prototype=void 0,L}}(),Cr=function(D){return typeof D.constructor!="function"||$a(D)?{}:Dg(Ka(D))},Sd=function(D){return ee(D)&&tc(D)=="[object Map]"};var Td=yr&&yr.isMap;const Sg=Td?Ha(Td):Sd,Tg=function(D){return ee(D)&&tc(D)=="[object Set]"};var Id=yr&&yr.isSet;const Ig=Id?Ha(Id):Tg;var vo="[object Arguments]",Md="[object Function]",Nd="[object Object]",Ye={};Ye[vo]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object DataView]"]=Ye["[object Boolean]"]=Ye["[object Date]"]=Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[Nd]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object Symbol]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Error]"]=Ye[Md]=Ye["[object WeakMap]"]=!1;const Mg=function D(S,L,W,ue,_e,xe){var Ee,pt=1&L,nt=2&L,_o=4&L;if(W&&(Ee=_e?W(S,ue,_e,xe):W(S)),Ee!==void 0)return Ee;if(!B(S))return S;var Qi=po(S);if(Qi){if(Ee=vg(S),!pt)return fg(S,Ee)}else{var Hn=tc(S),Sr=Hn==Md||Hn=="[object GeneratorFunction]";if(ad(S))return hg(S,pt);if(Hn==Nd||Hn==vo||Sr&&!_e){if(Ee=nt||Sr?{}:Cr(S),!pt)return nt?Yi(S,ug(Ee,S)):gg(S,ag(Ee,S))}else{if(!Ye[Hn])return _e?S:{};Ee=Eg(S,Hn,pt)}}xe||(xe=new Gf);var Ji=xe.get(S);if(Ji)return Ji;xe.set(S,Ee),Ig(S)?S.forEach(function(xn){Ee.add(D(xn,L,W,xn,S,xe))}):Sg(S)&&S.forEach(function(xn,En){Ee.set(En,D(xn,L,W,En,S,xe))});var Xi=Qi?void 0:(_o?nt?mg:pg:nt?qa:Wa)(S);return Ci(Xi||S,function(xn,En){Xi&&(xn=S[En=xn]),cn(Ee,En,D(xn,L,W,En,S,xe))}),Ee},Ng=function(D,S){return Mg(D,5,S=typeof S=="function"?S:void 0)};var Og=Function.prototype,Pg=Object.prototype,Od=Og.toString,xr=Pg.hasOwnProperty,_s=Od.call(Object);const Bg=function(D){if(!ee(D)||X(D)!="[object Object]")return!1;var S=Ka(D);if(S===null)return!0;var L=xr.call(S,"constructor")&&S.constructor;return typeof L=="function"&&L instanceof L&&Od.call(L)==_s},zg=function(D){return ee(D)&&D.nodeType===1&&!Bg(D)};class Pd extends y{constructor(S,L={}){super(L),this._editor=null,this._throttledSave=Kl(this._save.bind(this),typeof L.saveInterval=="number"?L.saveInterval:5e3),S&&(this._creator=(W,ue)=>S.create(W,ue)),this._destructor=W=>W.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(S){this._creator=S}setDestructor(S){this._destructor=S}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(S=>{console.error("An error happened during the editor destroying.",S)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const S=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,S,S.context)}}).then(()=>{this._fire("restart")})}create(S=this._elementOrData,L=this._config,W){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=S,this._config=this._cloneEditorConfiguration(L)||{},this._config.context=W,this._creator(S,this._config))).then(ue=>{this._editor=ue,ue.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ue.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const S=this._editor;return this._editor=null,S.model.document.off("change:data",this._throttledSave),this._destructor(S)})}_save(){const S=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=S}catch(L){console.error(L,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(S){this._excludedProps=S}_getData(){const S={};for(const L of this._editor.model.document.getRootNames())S[L]=this._editor.data.get({rootName:L});return S}_isErrorComingFromThisItem(S){return T(this._editor,S.context,this._excludedProps)}_cloneEditorConfiguration(S){return Ng(S,(L,W)=>zg(L)||W==="context"?L:void 0)}}const Un=Symbol("MainQueueId");class Er extends y{constructor(S,L={}){super(L),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Lg,this._watchdogConfig=L,this._creator=W=>S.create(W),this._destructor=W=>W.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(S){this._creator=S}setDestructor(S){this._destructor=S}get context(){return this._context}create(S={}){return this._actionQueues.enqueue(Un,()=>(this._contextConfig=S,this._create()))}getItem(S){return this._getWatchdog(S)._item}getItemState(S){return this._getWatchdog(S).state}add(S){const L=Bd(S);return Promise.all(L.map(W=>this._actionQueues.enqueue(W.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ue;if(this._watchdogs.has(W.id))throw new Error(`Item with the given id is already added: '${W.id}'.`);if(W.type==="editor")return ue=new Pd(null,this._watchdogConfig),ue.setCreator(W.creator),ue._setExcludedProperties(this._contextProps),W.destructor&&ue.setDestructor(W.destructor),this._watchdogs.set(W.id,ue),ue.on("error",(_e,{error:xe,causesRestart:Ee})=>{this._fire("itemError",{itemId:W.id,error:xe}),Ee&&this._actionQueues.enqueue(W.id,()=>new Promise(pt=>{const nt=()=>{ue.off("restart",nt),this._fire("itemRestart",{itemId:W.id}),pt()};ue.on("restart",nt)}))}),ue.create(W.sourceElementOrData,W.config,this._context);throw new Error(`Not supported item type: '${W.type}'.`)})))}remove(S){const L=Bd(S);return Promise.all(L.map(W=>this._actionQueues.enqueue(W,()=>{const ue=this._getWatchdog(W);return this._watchdogs.delete(W),ue.destroy()})))}destroy(){return this._actionQueues.enqueue(Un,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Un,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(S=>{console.error("An error happened during destroying the context or items.",S)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(S=>(this._context=S,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(L=>(L._setExcludedProperties(this._contextProps),L.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const S=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(L=>L.destroy())).then(()=>this._destructor(S))})}_getWatchdog(S){const L=this._watchdogs.get(S);if(!L)throw new Error(`Item with the given id was not registered: ${S}.`);return L}_isErrorComingFromThisItem(S){for(const L of this._watchdogs.values())if(L._isErrorComingFromThisItem(S))return!1;return T(this._context,S.context)}}class Lg{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(S){this._onEmptyCallbacks.push(S)}enqueue(S,L){const W=S===Un;this._activeActions++,this._queues.get(S)||this._queues.set(S,Promise.resolve());const ue=(W?Promise.all(this._queues.values()):Promise.all([this._queues.get(Un),this._queues.get(S)])).then(L),_e=ue.catch(()=>{});return this._queues.set(S,_e),ue.finally(()=>{this._activeActions--,this._queues.get(S)===_e&&this._activeActions===0&&this._onEmptyCallbacks.forEach(xe=>xe())})}}function Bd(D){return Array.isArray(D)?D:[D]}const zd=k().createContext("contextWatchdog");class Dr extends k().Component{constructor(S,L){super(S,L),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(S){return this._shouldComponentUpdate(S)}async _shouldComponentUpdate(S){return S.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(S.config)),S.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(S.config),!0):this.props.children!==S.children}render(){return k().createElement(zd.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(S){this.contextWatchdog=new Er(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(L,W)=>{this.props.onError(W.error,{phase:"runtime",willContextRestart:W.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(S).catch(L=>{this.props.onError(L,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Dr.defaultProps={isLayoutReady:!0,onError:(D,S)=>console.error(D,S)},Dr.propTypes={id:A().string,isLayoutReady:A().bool,context:A().func,watchdogConfig:A().object,config:A().object,onReady:A().func,onError:A().func};const ic="Lock from React integration (@ckeditor/ckeditor5-react)";class xi extends k().Component{constructor(S){super(S),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:L}=window;if(L){const[W]=L.split(".").map(Number);W<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(S){return!!this.editor&&(S.id!==this.props.id||S.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(S)&&this.editor.data.set(S.data),"disabled"in S&&(S.disabled?this.editor.enableReadOnlyMode(ic):this.editor.disableReadOnlyMode(ic)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Er?this.watchdog=new jg(this.context):this.watchdog=new xi._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((S,L)=>this._createEditor(S,L)),this.watchdog.on("error",(S,{error:L,causesRestart:W})=>{(this.props.onError||console.error)(L,{phase:"runtime",willEditorRestart:W})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(S=>{(this.props.onError||console.error)(S,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(S,L){return this.props.editor.create(S,L).then(W=>{"disabled"in this.props&&this.props.disabled&&W.enableReadOnlyMode(ic);const ue=W.model.document,_e=W.editing.view.document;return ue.on("change:data",xe=>{this.props.onChange&&this.props.onChange(xe,W)}),_e.on("focus",xe=>{this.props.onFocus&&this.props.onFocus(xe,W)}),_e.on("blur",xe=>{this.props.onBlur&&this.props.onBlur(xe,W)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(W)}),W})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(S=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,S()):this.instance?(await this.instance.destroy(),this.instance=null,S()):void S())})}_shouldUpdateEditor(S){return this.props.data!==S.data&&this.editor.data.get()!==S.data}_getConfig(){const S=this.props.config||{};return this.props.data&&S.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...S,initialData:S.initialData||this.props.data||""}}}xi.contextType=zd,xi.propTypes={editor:A().func.isRequired,data:A().string,config:A().object,disableWatchdog:A().bool,watchdogConfig:A().object,onChange:A().func,onReady:A().func,onFocus:A().func,onBlur:A().func,onError:A().func,disabled:A().bool,id:A().any},xi._EditorWatchdog=Pd;class jg{constructor(S){this._contextWatchdog=S,this._id=function(){const L=4294967296*Math.random()>>>0,W=4294967296*Math.random()>>>0,ue=4294967296*Math.random()>>>0,_e=4294967296*Math.random()>>>0;return"e"+v[L>>0&255]+v[L>>8&255]+v[L>>16&255]+v[L>>24&255]+v[W>>0&255]+v[W>>8&255]+v[W>>16&255]+v[W>>24&255]+v[ue>>0&255]+v[ue>>8&255]+v[ue>>16&255]+v[ue>>24&255]+v[_e>>0&255]+v[_e>>8&255]+v[_e>>16&255]+v[_e>>24&255]}()}setCreator(S){this._creator=S}create(S,L){return this._contextWatchdog.add({sourceElementOrData:S,config:L,creator:this._creator,id:this._id,type:"editor"})}on(S,L){this._contextWatchdog.on("itemError",(W,{itemId:ue,error:_e})=>{ue===this._id&&L(null,{error:_e,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),g})())})(tf,tf.exports);var tZ=tf.exports,Ct={exports:{}},Zt=Ct.exports;(function(o){const i=o.en=o.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Dim grey":"Dim grey",Disc:"Disc",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal line":"Horizontal line","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Save:"Save","Select all":"Select all","Show more items":"Show more items","Side image":"Side image",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(i,a){typeof Zt=="object"&&typeof Ct=="object"?Ct.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Zt=="object"?Zt.InlineEditor=a():i.InlineEditor=a()})(self,()=>(()=>{var o={8168:(u,f,g)=>{const m=g(8874),k={};for(const v of Object.keys(m))k[m[v]]=v;const b={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=b;for(const v of Object.keys(b)){if(!("channels"in b[v]))throw new Error("missing channels property: "+v);if(!("labels"in b[v]))throw new Error("missing channel labels property: "+v);if(b[v].labels.length!==b[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:y,labels:x}=b[v];delete b[v].channels,delete b[v].labels,Object.defineProperty(b[v],"channels",{value:y}),Object.defineProperty(b[v],"labels",{value:x})}b.rgb.hsl=function(v){const y=v[0]/255,x=v[1]/255,E=v[2]/255,T=Math.min(y,x,E),B=Math.max(y,x,E),I=B-T;let N,P;B===T?N=0:y===B?N=(x-E)/I:x===B?N=2+(E-y)/I:E===B&&(N=4+(y-x)/I),N=Math.min(N*60,360),N<0&&(N+=360);const j=(T+B)/2;return B===T?P=0:j<=.5?P=I/(B+T):P=I/(2-B-T),[N,P*100,j*100]},b.rgb.hsv=function(v){let y,x,E,T,B;const I=v[0]/255,N=v[1]/255,P=v[2]/255,j=Math.max(I,N,P),q=j-Math.min(I,N,P),K=function(Q){return(j-Q)/6/q+1/2};return q===0?(T=0,B=0):(B=q/j,y=K(I),x=K(N),E=K(P),I===j?T=E-x:N===j?T=.3333333333333333+y-E:P===j&&(T=.6666666666666666+x-y),T<0?T+=1:T>1&&(T-=1)),[T*360,B*100,j*100]},b.rgb.hwb=function(v){const y=v[0],x=v[1];let E=v[2];const T=b.rgb.hsl(v)[0],B=1/255*Math.min(y,Math.min(x,E));return E=1-.00392156862745098*Math.max(y,Math.max(x,E)),[T,B*100,E*100]},b.rgb.cmyk=function(v){const y=v[0]/255,x=v[1]/255,E=v[2]/255,T=Math.min(1-y,1-x,1-E),B=(1-y-T)/(1-T)||0,I=(1-x-T)/(1-T)||0,N=(1-E-T)/(1-T)||0;return[B*100,I*100,N*100,T*100]};function A(v,y){return(v[0]-y[0])**2+(v[1]-y[1])**2+(v[2]-y[2])**2}b.rgb.keyword=function(v){const y=k[v];if(y)return y;let x=1/0,E;for(const T of Object.keys(m)){const B=m[T],I=A(v,B);I<x&&(x=I,E=T)}return E},b.keyword.rgb=function(v){return m[v]},b.rgb.xyz=function(v){let y=v[0]/255,x=v[1]/255,E=v[2]/255;y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92;const T=y*.4124+x*.3576+E*.1805,B=y*.2126+x*.7152+E*.0722,I=y*.0193+x*.1192+E*.9505;return[T*100,B*100,I*100]},b.rgb.lab=function(v){const y=b.rgb.xyz(v);let x=y[0],E=y[1],T=y[2];x/=95.047,E/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862;const B=116*E-16,I=500*(x-E),N=200*(E-T);return[B,I,N]},b.hsl.rgb=function(v){const y=v[0]/360,x=v[1]/100,E=v[2]/100;let T,B,I;if(x===0)return I=E*255,[I,I,I];E<.5?T=E*(1+x):T=E+x-E*x;const N=2*E-T,P=[0,0,0];for(let j=0;j<3;j++)B=y+.3333333333333333*-(j-1),B<0&&B++,B>1&&B--,6*B<1?I=N+(T-N)*6*B:2*B<1?I=T:3*B<2?I=N+(T-N)*(.6666666666666666-B)*6:I=N,P[j]=I*255;return P},b.hsl.hsv=function(v){const y=v[0];let x=v[1]/100,E=v[2]/100,T=x;const B=Math.max(E,.01);E*=2,x*=E<=1?E:2-E,T*=B<=1?B:2-B;const I=(E+x)/2,N=E===0?2*T/(B+T):2*x/(E+x);return[y,N*100,I*100]},b.hsv.rgb=function(v){const y=v[0]/60,x=v[1]/100;let E=v[2]/100;const T=Math.floor(y)%6,B=y-Math.floor(y),I=255*E*(1-x),N=255*E*(1-x*B),P=255*E*(1-x*(1-B));switch(E*=255,T){case 0:return[E,P,I];case 1:return[N,E,I];case 2:return[I,E,P];case 3:return[I,N,E];case 4:return[P,I,E];case 5:return[E,I,N]}},b.hsv.hsl=function(v){const y=v[0],x=v[1]/100,E=v[2]/100,T=Math.max(E,.01);let B,I;I=(2-x)*E;const N=(2-x)*T;return B=x*T,B/=N<=1?N:2-N,B=B||0,I/=2,[y,B*100,I*100]},b.hwb.rgb=function(v){const y=v[0]/360;let x=v[1]/100,E=v[2]/100;const T=x+E;let B;T>1&&(x/=T,E/=T);const I=Math.floor(6*y),N=1-E;B=6*y-I,I&1&&(B=1-B);const P=x+B*(N-x);let j,q,K;switch(I){default:case 6:case 0:j=N,q=P,K=x;break;case 1:j=P,q=N,K=x;break;case 2:j=x,q=N,K=P;break;case 3:j=x,q=P,K=N;break;case 4:j=P,q=x,K=N;break;case 5:j=N,q=x,K=P;break}return[j*255,q*255,K*255]},b.cmyk.rgb=function(v){const y=v[0]/100,x=v[1]/100,E=v[2]/100,T=v[3]/100,B=1-Math.min(1,y*(1-T)+T),I=1-Math.min(1,x*(1-T)+T),N=1-Math.min(1,E*(1-T)+T);return[B*255,I*255,N*255]},b.xyz.rgb=function(v){const y=v[0]/100,x=v[1]/100,E=v[2]/100;let T,B,I;return T=y*3.2406+x*-1.5372+E*-.4986,B=y*-.9689+x*1.8758+E*.0415,I=y*.0557+x*-.204+E*1.057,T=T>.0031308?1.055*T**.4166666666666667-.055:T*12.92,B=B>.0031308?1.055*B**.4166666666666667-.055:B*12.92,I=I>.0031308?1.055*I**.4166666666666667-.055:I*12.92,T=Math.min(Math.max(0,T),1),B=Math.min(Math.max(0,B),1),I=Math.min(Math.max(0,I),1),[T*255,B*255,I*255]},b.xyz.lab=function(v){let y=v[0],x=v[1],E=v[2];y/=95.047,x/=100,E/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862;const T=116*x-16,B=500*(y-x),I=200*(x-E);return[T,B,I]},b.lab.xyz=function(v){const y=v[0],x=v[1],E=v[2];let T,B,I;B=(y+16)/116,T=x/500+B,I=B-E/200;const N=B**3,P=T**3,j=I**3;return B=N>.008856?N:(B-.13793103448275862)/7.787,T=P>.008856?P:(T-.13793103448275862)/7.787,I=j>.008856?j:(I-.13793103448275862)/7.787,T*=95.047,B*=100,I*=108.883,[T,B,I]},b.lab.lch=function(v){const y=v[0],x=v[1],E=v[2];let T;T=Math.atan2(E,x)*360/2/Math.PI,T<0&&(T+=360);const I=Math.sqrt(x*x+E*E);return[y,I,T]},b.lch.lab=function(v){const y=v[0],x=v[1],T=v[2]/360*2*Math.PI,B=x*Math.cos(T),I=x*Math.sin(T);return[y,B,I]},b.rgb.ansi16=function(v,y=null){const[x,E,T]=v;let B=y===null?b.rgb.hsv(v)[2]:y;if(B=Math.round(B/50),B===0)return 30;let I=30+(Math.round(T/255)<<2|Math.round(E/255)<<1|Math.round(x/255));return B===2&&(I+=60),I},b.hsv.ansi16=function(v){return b.rgb.ansi16(b.hsv.rgb(v),v[2])},b.rgb.ansi256=function(v){const y=v[0],x=v[1],E=v[2];return y===x&&x===E?y<8?16:y>248?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(x/255*5)+Math.round(E/255*5)},b.ansi16.rgb=function(v){let y=v%10;if(y===0||y===7)return v>50&&(y+=3.5),y=y/10.5*255,[y,y,y];const x=(~~(v>50)+1)*.5,E=(y&1)*x*255,T=(y>>1&1)*x*255,B=(y>>2&1)*x*255;return[E,T,B]},b.ansi256.rgb=function(v){if(v>=232){const B=(v-232)*10+8;return[B,B,B]}v-=16;let y;const x=Math.floor(v/36)/5*255,E=Math.floor((y=v%36)/6)/5*255,T=y%6/5*255;return[x,E,T]},b.rgb.hex=function(v){const x=(((Math.round(v[0])&255)<<16)+((Math.round(v[1])&255)<<8)+(Math.round(v[2])&255)).toString(16).toUpperCase();return"000000".substring(x.length)+x},b.hex.rgb=function(v){const y=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!y)return[0,0,0];let x=y[0];y[0].length===3&&(x=x.split("").map(N=>N+N).join(""));const E=parseInt(x,16),T=E>>16&255,B=E>>8&255,I=E&255;return[T,B,I]},b.rgb.hcg=function(v){const y=v[0]/255,x=v[1]/255,E=v[2]/255,T=Math.max(Math.max(y,x),E),B=Math.min(Math.min(y,x),E),I=T-B;let N,P;return I<1?N=B/(1-I):N=0,I<=0?P=0:T===y?P=(x-E)/I%6:T===x?P=2+(E-y)/I:P=4+(y-x)/I,P/=6,P%=1,[P*360,I*100,N*100]},b.hsl.hcg=function(v){const y=v[1]/100,x=v[2]/100,E=x<.5?2*y*x:2*y*(1-x);let T=0;return E<1&&(T=(x-.5*E)/(1-E)),[v[0],E*100,T*100]},b.hsv.hcg=function(v){const y=v[1]/100,x=v[2]/100,E=y*x;let T=0;return E<1&&(T=(x-E)/(1-E)),[v[0],E*100,T*100]},b.hcg.rgb=function(v){const y=v[0]/360,x=v[1]/100,E=v[2]/100;if(x===0)return[E*255,E*255,E*255];const T=[0,0,0],B=y%1*6,I=B%1,N=1-I;let P=0;switch(Math.floor(B)){case 0:T[0]=1,T[1]=I,T[2]=0;break;case 1:T[0]=N,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=I;break;case 3:T[0]=0,T[1]=N,T[2]=1;break;case 4:T[0]=I,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=N}return P=(1-x)*E,[(x*T[0]+P)*255,(x*T[1]+P)*255,(x*T[2]+P)*255]},b.hcg.hsv=function(v){const y=v[1]/100,x=v[2]/100,E=y+x*(1-y);let T=0;return E>0&&(T=y/E),[v[0],T*100,E*100]},b.hcg.hsl=function(v){const y=v[1]/100,E=v[2]/100*(1-y)+.5*y;let T=0;return E>0&&E<.5?T=y/(2*E):E>=.5&&E<1&&(T=y/(2*(1-E))),[v[0],T*100,E*100]},b.hcg.hwb=function(v){const y=v[1]/100,x=v[2]/100,E=y+x*(1-y);return[v[0],(E-y)*100,(1-E)*100]},b.hwb.hcg=function(v){const y=v[1]/100,E=1-v[2]/100,T=E-y;let B=0;return T<1&&(B=(E-T)/(1-T)),[v[0],T*100,B*100]},b.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},b.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},b.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},b.gray.hsl=function(v){return[0,0,v[0]]},b.gray.hsv=b.gray.hsl,b.gray.hwb=function(v){return[0,100,v[0]]},b.gray.cmyk=function(v){return[0,0,0,v[0]]},b.gray.lab=function(v){return[v[0],0,0]},b.gray.hex=function(v){const y=Math.round(v[0]/100*255)&255,E=((y<<16)+(y<<8)+y).toString(16).toUpperCase();return"000000".substring(E.length)+E},b.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},2085:(u,f,g)=>{const m=g(8168),k=g(4111),b={},A=Object.keys(m);function v(x){const E=function(...T){const B=T[0];return B==null?B:(B.length>1&&(T=B),x(T))};return"conversion"in x&&(E.conversion=x.conversion),E}function y(x){const E=function(...T){const B=T[0];if(B==null)return B;B.length>1&&(T=B);const I=x(T);if(typeof I=="object")for(let N=I.length,P=0;P<N;P++)I[P]=Math.round(I[P]);return I};return"conversion"in x&&(E.conversion=x.conversion),E}A.forEach(x=>{b[x]={},Object.defineProperty(b[x],"channels",{value:m[x].channels}),Object.defineProperty(b[x],"labels",{value:m[x].labels});const E=k(x);Object.keys(E).forEach(B=>{const I=E[B];b[x][B]=y(I),b[x][B].raw=v(I)})}),u.exports=b},4111:(u,f,g)=>{const m=g(8168);function k(){const y={},x=Object.keys(m);for(let E=x.length,T=0;T<E;T++)y[x[T]]={distance:-1,parent:null};return y}function b(y){const x=k(),E=[y];for(x[y].distance=0;E.length;){const T=E.pop(),B=Object.keys(m[T]);for(let I=B.length,N=0;N<I;N++){const P=B[N],j=x[P];j.distance===-1&&(j.distance=x[T].distance+1,j.parent=T,E.unshift(P))}}return x}function A(y,x){return function(E){return x(y(E))}}function v(y,x){const E=[x[y].parent,y];let T=m[x[y].parent][y],B=x[y].parent;for(;x[B].parent;)E.unshift(x[B].parent),T=A(m[x[B].parent][B],T),B=x[B].parent;return T.conversion=E,T}u.exports=function(y){const x=b(y),E={},T=Object.keys(x);for(let B=T.length,I=0;I<B;I++){const N=T[I];x[N].parent!==null&&(E[N]=v(N,x))}return E}},8874:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const y=v},3789:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const y=v},799:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const y=v},7372:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const y=v},5037:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const y=v},4249:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const y=v},9893:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const y=v},2430:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const y=v},2423:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const y=v},8879:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const y=v},8340:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const y=v},2400:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const y=v},3534:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},1547:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const y=v},6618:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const y=v},2926:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const y=v},5269:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},3925:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const y=v},7536:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},4874:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},4330:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const y=v},5782:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const y=v},3190:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const y=v},4784:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},9938:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const y=v},2591:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const y=v},9292:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const y=v},8705:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const y=v},1922:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},7138:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},4029:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},4971:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=v},7258:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=v},4923:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const y=v},4257:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const y=v},6306:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const y=v},5062:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},1883:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},4791:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},2704:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const y=v},9847:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},1874:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCbD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const y=v},4746:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const y=v},1977:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},2470:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},3525:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const y=v},2933:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},179:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,8BACC,cAAe,CACf,eAAiB,CACjB,gCACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > span {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},4460:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},7592:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const y=v},6356:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},3707:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},6603:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const y=v},9332:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const y=v},6446:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const y=v},5224:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const y=v},4176:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const y=v},4768:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=v},3888:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const y=v},5167:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const y=v},7153:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=v},4875:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const y=v},2347:(u,f,g)=>{g.d(f,{Z:()=>y});var m=g(4015),k=g.n(m),b=g(3645),A=g.n(b),v=A()(k());v.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const y=v},3645:u=>{u.exports=function(f){var g=[];return g.toString=function(){return this.map(function(k){var b=f(k);return k[2]?"@media ".concat(k[2]," {").concat(b,"}"):b}).join("")},g.i=function(m,k,b){typeof m=="string"&&(m=[[null,m,""]]);var A={};if(b)for(var v=0;v<this.length;v++){var y=this[v][0];y!=null&&(A[y]=!0)}for(var x=0;x<m.length;x++){var E=[].concat(m[x]);b&&A[E[0]]||(k&&(E[2]?E[2]="".concat(k," and ").concat(E[2]):E[2]=k),g.push(E))}},g}},4015:u=>{function f(v,y){return A(v)||b(v,y)||m(v,y)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(v,y){if(v){if(typeof v=="string")return k(v,y);var x=Object.prototype.toString.call(v).slice(8,-1);if(x==="Object"&&v.constructor&&(x=v.constructor.name),x==="Map"||x==="Set")return Array.from(v);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return k(v,y)}}function k(v,y){(y==null||y>v.length)&&(y=v.length);for(var x=0,E=new Array(y);x<y;x++)E[x]=v[x];return E}function b(v,y){var x=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(x!=null){var E=[],T=!0,B=!1,I,N;try{for(x=x.call(v);!(T=(I=x.next()).done)&&(E.push(I.value),!(y&&E.length===y));T=!0);}catch(P){B=!0,N=P}finally{try{!T&&x.return!=null&&x.return()}finally{if(B)throw N}}return E}}function A(v){if(Array.isArray(v))return v}u.exports=function(y){var x=f(y,4),E=x[1],T=x[3];if(!T)return E;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(T)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),N="/*# ".concat(I," */"),P=T.sources.map(function(j){return"/*# sourceURL=".concat(T.sourceRoot||"").concat(j," */")});return[E].concat(P).concat([N]).join(`
`)}return[E].join(`
`)}},3379:(u,f,g)=>{var m=function(){var q;return function(){return typeof q>"u"&&(q=!!(window&&document&&document.all&&!window.atob)),q}}(),k=function(){var q={};return function(Q){if(typeof q[Q]>"u"){var Z=document.querySelector(Q);if(window.HTMLIFrameElement&&Z instanceof window.HTMLIFrameElement)try{Z=Z.contentDocument.head}catch{Z=null}q[Q]=Z}return q[Q]}}(),b=[];function A(j){for(var q=-1,K=0;K<b.length;K++)if(b[K].identifier===j){q=K;break}return q}function v(j,q){for(var K={},Q=[],Z=0;Z<j.length;Z++){var ae=j[Z],ce=q.base?ae[0]+q.base:ae[0],H=K[ce]||0,$="".concat(ce," ").concat(H);K[ce]=H+1;var V=A($),R={css:ae[1],media:ae[2],sourceMap:ae[3]};V!==-1?(b[V].references++,b[V].updater(R)):b.push({identifier:$,updater:P(R,q),references:1}),Q.push($)}return Q}function y(j){var q=document.createElement("style"),K=j.attributes||{};if(typeof K.nonce>"u"){var Q=g.nc;Q&&(K.nonce=Q)}if(Object.keys(K).forEach(function(ae){q.setAttribute(ae,K[ae])}),typeof j.insert=="function")j.insert(q);else{var Z=k(j.insert||"head");if(!Z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Z.appendChild(q)}return q}function x(j){if(j.parentNode===null)return!1;j.parentNode.removeChild(j)}var E=function(){var q=[];return function(Q,Z){return q[Q]=Z,q.filter(Boolean).join(`
`)}}();function T(j,q,K,Q){var Z=K?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(j.styleSheet)j.styleSheet.cssText=E(q,Z);else{var ae=document.createTextNode(Z),ce=j.childNodes;ce[q]&&j.removeChild(ce[q]),ce.length?j.insertBefore(ae,ce[q]):j.appendChild(ae)}}function B(j,q,K){var Q=K.css,Z=K.media,ae=K.sourceMap;if(Z?j.setAttribute("media",Z):j.removeAttribute("media"),ae&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ae))))," */")),j.styleSheet)j.styleSheet.cssText=Q;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(Q))}}var I=null,N=0;function P(j,q){var K,Q,Z;if(q.singleton){var ae=N++;K=I||(I=y(q)),Q=T.bind(null,K,ae,!1),Z=T.bind(null,K,ae,!0)}else K=y(q),Q=B.bind(null,K,q),Z=function(){x(K)};return Q(j),function(H){if(H){if(H.css===j.css&&H.media===j.media&&H.sourceMap===j.sourceMap)return;Q(j=H)}else Z()}}u.exports=function(j,q){q=q||{},!q.singleton&&typeof q.singleton!="boolean"&&(q.singleton=m()),j=j||[];var K=v(j,q);return function(Z){if(Z=Z||[],Object.prototype.toString.call(Z)==="[object Array]"){for(var ae=0;ae<K.length;ae++){var ce=K[ae],H=A(ce);b[H].references--}for(var $=v(Z,q),V=0;V<K.length;V++){var R=K[V],F=A(R);b[F].references===0&&(b[F].updater(),b.splice(F,1))}K=$}}}}},i={};function a(u){var f=i[u];if(f!==void 0)return f.exports;var g=i[u]={id:u,exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var g in f)a.o(f,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:f[g]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),a.nc=void 0;var l={};return(()=>{a.d(l,{default:()=>zU});function u(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const f=u(),m={isMac:k(f),isWindows:b(f),isGecko:A(f),isSafari:v(f),isiOS:y(f),isAndroid:x(f),isBlink:E(f),features:{isRegExpUnicodePropertySupported:T()}};function k(r){return r.indexOf("macintosh")>-1}function b(r){return r.indexOf("windows")>-1}function A(r){return!!r.match(/gecko\/\d+/)}function v(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}function y(r){return!!r.match(/iphone|ipad/i)||k(r)&&navigator.maxTouchPoints>0}function x(r){return r.indexOf("android")>-1}function E(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}function T(){let r=!1;try{r="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}function B(r,e,t,n){t=t||function(p,w){return p===w};const s=Array.isArray(r)?r:Array.prototype.slice.call(r),c=Array.isArray(e)?e:Array.prototype.slice.call(e),d=I(s,c,t);return n?q(d,c.length):j(c,d)}function I(r,e,t){const n=N(r,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=P(r,n),c=P(e,n),d=N(s,c,t),h=r.length-d,p=e.length-d;return{firstIndex:n,lastIndexOld:h,lastIndexNew:p}}function N(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function P(r,e){return r.slice(e).reverse()}function j(r,e){const t=[],{firstIndex:n,lastIndexOld:s,lastIndexNew:c}=e;return c-n>0&&t.push({index:n,type:"insert",values:r.slice(n,c)}),s-n>0&&t.push({index:n+(c-n),type:"delete",howMany:s-n}),t}function q(r,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:s}=r;if(t===-1)return Array(e).fill("equal");let c=[];return t>0&&(c=c.concat(Array(t).fill("equal"))),s-t>0&&(c=c.concat(Array(s-t).fill("insert"))),n-t>0&&(c=c.concat(Array(n-t).fill("delete"))),s<e&&(c=c.concat(Array(e-s).fill("equal"))),c}function K(r,e,t){t=t||function(ne,he){return ne===he};const n=r.length,s=e.length;if(n>200||s>200||n+s>300)return K.fastDiff(r,e,t,!0);let c,d;if(s<n){const ne=r;r=e,e=ne,c="delete",d="insert"}else c="insert",d="delete";const h=r.length,p=e.length,w=p-h,_={},C={};function O(ne){const he=(C[ne-1]!==void 0?C[ne-1]:-1)+1,we=C[ne+1]!==void 0?C[ne+1]:-1,He=he>we?-1:1;_[ne+He]&&(_[ne]=_[ne+He].slice(0)),_[ne]||(_[ne]=[]),_[ne].push(he>we?c:d);let rt=Math.max(he,we),mt=rt-ne;for(;mt<h&&rt<p&&t(r[mt],e[rt]);)mt++,rt++,_[ne].push("equal");return rt}let z=0,U;do{for(U=-z;U<w;U++)C[U]=O(U);for(U=w+z;U>w;U--)C[U]=O(U);C[w]=O(w),z++}while(C[w]!==p);return _[w].slice(1)}K.fastDiff=B;function Q(){return function r(){r.called=!0}}const Z=Q;class ae{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Z(),this.off=Z()}}const ce=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function H(){const r=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+ce[r>>0&255]+ce[r>>8&255]+ce[r>>16&255]+ce[r>>24&255]+ce[e>>0&255]+ce[e>>8&255]+ce[e>>16&255]+ce[e>>24&255]+ce[t>>0&255]+ce[t>>8&255]+ce[t>>16&255]+ce[t>>24&255]+ce[n>>0&255]+ce[n>>8&255]+ce[n>>16&255]+ce[n>>24&255]}const V={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function R(r,e){const t=V.get(e.priority);for(let n=0;n<r.length;n++)if(V.get(r[n].priority)<t){r.splice(n,0,e);return}r.push(e)}const F="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(e,t,n){super(ee(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new M(e.message,t);throw n.stack=e.stack,n}}function J(r,e){console.warn(...le(r,e))}function X(r){return`
Read more: ${F}#error-${r}`}function ee(r,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(d,h)=>{if(typeof h=="object"&&h!==null){if(t.has(h))return`[object ${h.constructor.name}]`;t.add(h)}return h})}`:"",c=X(r);return r+s+c}function le(r,e){const t=X(r);return e?[r,e,t]:[r,t]}const ke="40.0.0",Ce=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ke;const at=Symbol("listeningTo"),Bt=Symbol("emitterId"),gt=Symbol("delegations"),Ve=Me(Object);function Me(r){if(!r)return Ve;class e extends r{on(n,s,c){this.listenTo(this,n,s,c)}once(n,s,c){let d=!1;const h=(p,...w)=>{d||(d=!0,p.off(),s.call(this,p,...w))};this.listenTo(this,n,h,c)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,c,d={}){let h,p;this[at]||(this[at]={});const w=this[at];za(n)||Kl(n);const _=za(n);(h=w[_])||(h=w[_]={emitter:n,callbacks:{}}),(p=h.callbacks[s])||(p=h.callbacks[s]=[]),p.push(c),Tf(this,n,s,c,d)}stopListening(n,s,c){const d=this[at];let h=n&&za(n);const p=d&&h?d[h]:void 0,w=p&&s?p.callbacks[s]:void 0;if(!(!d||n&&!p||s&&!w))if(c)Ai(this,n,s,c),w.indexOf(c)!==-1&&(w.length===1?delete p.callbacks[s]:Ai(this,n,s,c));else if(w){for(;c=w.pop();)Ai(this,n,s,c);delete p.callbacks[s]}else if(p){for(s in p.callbacks)this.stopListening(n,s);delete d[h]}else{for(h in d)this.stopListening(d[h].emitter);delete this[at]}}fire(n,...s){try{const c=n instanceof ae?n:new ae(this,n),d=c.name;let h=Ql(this,d);if(c.path.push(this),h){const w=[c,...s];h=Array.from(h);for(let _=0;_<h.length&&(h[_].callback.apply(this,w),c.off.called&&(delete c.off.called,this._removeEventListener(d,h[_].callback)),!c.stop.called);_++);}const p=this[gt];if(p){const w=p.get(d),_=p.get("*");w&&Jl(w,c,s),_&&Jl(_,c,s)}return c.return}catch(c){M.rethrowUnexpectedError(c,this)}}delegate(...n){return{to:(s,c)=>{this[gt]||(this[gt]=new Map),n.forEach(d=>{const h=this[gt].get(d);h?h.set(s,c):this[gt].set(d,new Map([[s,c]]))})}}}stopDelegating(n,s){if(this[gt])if(!n)this[gt].clear();else if(!s)this[gt].delete(n);else{const c=this[gt].get(n);c&&c.delete(s)}}_addEventListener(n,s,c){Sf(this,n);const d=ja(this,n),h=V.get(c.priority),p={callback:s,priority:h};for(const w of d)R(w,p)}_removeEventListener(n,s){const c=ja(this,n);for(const d of c)for(let h=0;h<d.length;h++)d[h].callback==s&&(d.splice(h,1),h--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Me[r]=Ve.prototype[r]});function Df(r,e){const t=r[at];return t&&t[e]?t[e].emitter:null}function Kl(r,e){r[Bt]||(r[Bt]=e||H())}function za(r){return r[Bt]}function La(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function hs(){return{callbacks:[],childEvents:[]}}function Sf(r,e){const t=La(r);if(t[e])return;let n=e,s=null;const c=[];for(;n!==""&&!t[n];)t[n]=hs(),c.push(t[n]),s&&t[n].childEvents.push(s),s=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const d of c)d.callbacks=t[n].callbacks.slice();t[n].childEvents.push(s)}}function ja(r,e){const t=La(r)[e];if(!t)return[];let n=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const c=ja(r,t.childEvents[s]);n=n.concat(c)}return n}function Ql(r,e){let t;return!r._events||!(t=r._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Ql(r,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function Jl(r,e,t){for(let[n,s]of r){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const c=new ae(e.source,s);c.path=[...e.path],n.fire(c,...t)}}function Tf(r,e,t,n,s){e._addEventListener?e._addEventListener(t,n,s):r._addEventListener.call(e,t,n,s)}function Ai(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}function fs(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}const tt=fs,gs=Symbol("observableProperties"),ps=Symbol("boundObservables"),ms=Symbol("boundProperties"),Hi=Symbol("decoratedMethods"),ks=Symbol("decoratedOriginal"),Ra=Ue(Me());function Ue(r){if(!r)return Ra;class e extends r{set(n,s){if(tt(n)){Object.keys(n).forEach(d=>{this.set(d,n[d])},this);return}Fa(this);const c=this[gs];if(n in this&&!c.has(n))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return c.get(n)},set(d){const h=c.get(n);let p=this.fire(`set:${n}`,n,d,h);p===void 0&&(p=d),(h!==p||!c.has(n))&&(c.set(n,p),this.fire(`change:${n}`,n,p,h))}}),this[n]=s}bind(...n){if(!n.length||!Xl(n))throw new M("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new M("observable-bind-duplicate-properties",this);Fa(this);const s=this[ms];n.forEach(d=>{if(s.has(d))throw new M("observable-bind-rebind",this)});const c=new Map;return n.forEach(d=>{const h={property:d,to:[]};s.set(d,h),c.set(d,h)}),{to:$i,toMany:If,_observable:this,_bindProperties:n,_to:[],_bindings:c}}unbind(...n){if(!this[gs])return;const s=this[ms],c=this[ps];if(n.length){if(!Xl(n))throw new M("observable-unbind-wrong-properties",this);n.forEach(d=>{const h=s.get(d);h&&(h.to.forEach(([p,w])=>{const _=c.get(p),C=_[w];C.delete(h),C.size||delete _[w],Object.keys(_).length||(c.delete(p),this.stopListening(p,"change"))}),s.delete(d))})}else c.forEach((d,h)=>{this.stopListening(h,"change")}),c.clear(),s.clear()}decorate(n){Fa(this);const s=this[n];if(!s)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(c,d)=>{c.return=s.apply(this,d)}),this[n]=function(...c){return this.fire(n,c)},this[n][ks]=s,this[Hi]||(this[Hi]=[]),this[Hi].push(n)}stopListening(n,s,c){if(!n&&this[Hi]){for(const d of this[Hi])this[d]=this[d][ks];delete this[Hi]}super.stopListening(n,s,c)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Ue[r]=Ra.prototype[r]});function Fa(r){r[gs]||(Object.defineProperty(r,gs,{value:new Map}),Object.defineProperty(r,ps,{value:new Map}),Object.defineProperty(r,ms,{value:new Map}))}function $i(...r){const e=Nf(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new M("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new M("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==n)throw new M("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),Bf(this._observable,this._to),Pf(this),this._bindProperties.forEach(s=>{ed(this._observable,s)})}function If(r,e,t){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...Mf(r,e),t)}function Mf(r,e){const t=r.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function Xl(r){return r.every(e=>typeof e=="string")}function Nf(...r){if(!r.length)throw new M("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof r[r.length-1]=="function"&&(e.callback=r.pop()),r.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new M("observable-bind-to-parse-error",null)}),e}function Of(r,e,t,n){const s=r[ps],c=s.get(t),d=c||{};d[n]||(d[n]=new Set),d[n].add(e),c||s.set(t,d)}function Pf(r){let e;r._bindings.forEach((t,n)=>{r._to.forEach(s=>{e=s.properties[t.callback?0:r._bindProperties.indexOf(n)],t.to.push([s.observable,e]),Of(r._observable,t,s.observable,e)})})}function ed(r,e){const n=r[ms].get(e);let s;n.callback?s=n.callback.apply(r,n.to.map(c=>c[0][c[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=s:r.set(e,s)}function Bf(r,e){e.forEach(t=>{const n=r[ps];let s;n.get(t.observable)||r.listenTo(t.observable,"change",(c,d)=>{s=n.get(t.observable)[d],s&&s.forEach(h=>{ed(r,h.property)})})})}function ri(r){let e=0;for(const t of r)e++;return e}function vt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function zt(r){return!!(r&&r[Symbol.iterator])}var zf=typeof global=="object"&&global&&global.Object===Object&&global;const td=zf;var Lf=typeof self=="object"&&self&&self.Object===Object&&self,jf=td||Lf||Function("return this")();const Cn=jf;var Rf=Cn.Symbol;const Vn=Rf;var Wi=Object.prototype,nd=Wi.hasOwnProperty,Ff=Wi.toString,go=Vn?Vn.toStringTag:void 0;function bs(r){var e=nd.call(r,go),t=r[go];try{r[go]=void 0;var n=!0}catch{}var s=Ff.call(r);return n&&(e?r[go]=t:delete r[go]),s}const Vf=bs;var Uf=Object.prototype,Hf=Uf.toString;function $f(r){return Hf.call(r)}const wr=$f;var Wf="[object Null]",qf="[object Undefined]",qi=Vn?Vn.toStringTag:void 0;function Gf(r){return r==null?r===void 0?qf:Wf:qi&&qi in Object(r)?Vf(r):wr(r)}const Ci=Gf;var id=Array.isArray;const Rt=id;function Yf(r){return r!=null&&typeof r=="object"}const cn=Yf;var ws="[object String]";function Zf(r){return typeof r=="string"||!Rt(r)&&cn(r)&&Ci(r)==ws}const Va=Zf;function vs(r,e,t={},n=[]){const s=t&&t.xmlns,c=s?r.createElementNS(s,e):r.createElement(e);for(const d in t)c.setAttribute(d,t[d]);(Va(n)||!zt(n))&&(n=[n]);for(let d of n)Va(d)&&(d=r.createTextNode(d)),c.appendChild(d);return c}function Kf(r,e){return function(t){return r(e(t))}}const rd=Kf;var Qf=rd(Object.getPrototypeOf,Object);const po=Qf;var Jf="[object Object]",od=Function.prototype,sd=Object.prototype,Ua=od.toString,ad=sd.hasOwnProperty,Xf=Ua.call(Object);function eg(r){if(!cn(r)||Ci(r)!=Jf)return!1;var e=po(r);if(e===null)return!0;var t=ad.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ua.call(t)==Xf}const Xt=eg;function Je(){this.__data__=[],this.size=0}const tg=Je;function Ha(r,e){return r===e||r!==r&&e!==e}const vr=Ha;function mo(r,e){for(var t=r.length;t--;)if(vr(r[t][0],e))return t;return-1}const _r=mo;var yr=Array.prototype,cd=yr.splice;function ng(r){var e=this.__data__,t=_r(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():cd.call(e,t,1),--this.size,!0}const ig=ng;function ld(r){var e=this.__data__,t=_r(e,r);return t<0?void 0:e[t][1]}const rg=ld;function $a(r){return _r(this.__data__,r)>-1}const dd=$a;function og(r,e){var t=this.__data__,n=_r(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}const sg=og;function Ar(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Ar.prototype.clear=tg,Ar.prototype.delete=ig,Ar.prototype.get=rg,Ar.prototype.has=dd,Ar.prototype.set=sg;const ko=Ar;function Wa(){this.__data__=new ko,this.size=0}const ag=Wa;function cg(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}const lg=cg;function dg(r){return this.__data__.get(r)}const qa=dg;function ug(r){return this.__data__.has(r)}const ud=ug;var hd="[object AsyncFunction]",fd="[object Function]",gd="[object GeneratorFunction]",hg="[object Proxy]";function fg(r){if(!tt(r))return!1;var e=Ci(r);return e==fd||e==gd||e==hd||e==hg}const Gi=fg;var pd=Cn["__core-js_shared__"];const Ga=pd;var Ya=function(){var r=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Za(r){return!!Ya&&Ya in r}const gg=Za;var md=Function.prototype,Ka=md.toString;function kd(r){if(r!=null){try{return Ka.call(r)}catch{}try{return r+""}catch{}}return""}const Yi=kd;var bd=/[\\^$.*+?()[\]{}|]/g,pg=/^\[object .+?Constructor\]$/,mg=Function.prototype,Qa=Object.prototype,Ja=mg.toString,Xa=Qa.hasOwnProperty,ec=RegExp("^"+Ja.call(Xa).replace(bd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wd(r){if(!tt(r)||gg(r))return!1;var e=Gi(r)?ec:pg;return e.test(Yi(r))}const vd=wd;function _d(r,e){return r==null?void 0:r[e]}const yd=_d;function Ad(r,e){var t=yd(r,e);return vd(t)?t:void 0}const Zi=Ad;var kg=Zi(Cn,"Map");const bo=kg;var bg=Zi(Object,"create");const wo=bg;function Ki(){this.__data__=wo?wo(null):{},this.size=0}const tc=Ki;function wg(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}const vg=wg;var Cd="__lodash_hash_undefined__",nc=Object.prototype,_g=nc.hasOwnProperty;function yg(r){var e=this.__data__;if(wo){var t=e[r];return t===Cd?void 0:t}return _g.call(e,r)?e[r]:void 0}const Ag=yg;var xd=Object.prototype,Ed=xd.hasOwnProperty;function Cg(r){var e=this.__data__;return wo?e[r]!==void 0:Ed.call(e,r)}const xg=Cg;var Eg="__lodash_hash_undefined__";function Dd(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=wo&&e===void 0?Eg:e,this}const Dg=Dd;function Cr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Cr.prototype.clear=tc,Cr.prototype.delete=vg,Cr.prototype.get=Ag,Cr.prototype.has=xg,Cr.prototype.set=Dg;const Sd=Cr;function Td(){this.size=0,this.__data__={hash:new Sd,map:new(bo||ko),string:new Sd}}const Sg=Td;function Tg(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}const Id=Tg;function Ig(r,e){var t=r.__data__;return Id(e)?t[typeof e=="string"?"string":"hash"]:t.map}const vo=Ig;function Md(r){var e=vo(this,r).delete(r);return this.size-=e?1:0,e}const Nd=Md;function Ye(r){return vo(this,r).get(r)}const Mg=Ye;function Ng(r){return vo(this,r).has(r)}const Og=Ng;function Pg(r,e){var t=vo(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}const Od=Pg;function xr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}xr.prototype.clear=Sg,xr.prototype.delete=Nd,xr.prototype.get=Mg,xr.prototype.has=Og,xr.prototype.set=Od;const _s=xr;var Bg=200;function zg(r,e){var t=this.__data__;if(t instanceof ko){var n=t.__data__;if(!bo||n.length<Bg-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new _s(n)}return t.set(r,e),this.size=t.size,this}const Pd=zg;function Un(r){var e=this.__data__=new ko(r);this.size=e.size}Un.prototype.clear=ag,Un.prototype.delete=lg,Un.prototype.get=qa,Un.prototype.has=ud,Un.prototype.set=Pd;const Er=Un;function Lg(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}const Bd=Lg;var zd=function(){try{var r=Zi(Object,"defineProperty");return r({},"",{}),r}catch{}}();const Dr=zd;function ic(r,e,t){e=="__proto__"&&Dr?Dr(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}const xi=ic;var jg=Object.prototype,D=jg.hasOwnProperty;function S(r,e,t){var n=r[e];(!(D.call(r,e)&&vr(n,t))||t===void 0&&!(e in r))&&xi(r,e,t)}const L=S;function W(r,e,t,n){var s=!t;t||(t={});for(var c=-1,d=e.length;++c<d;){var h=e[c],p=n?n(t[h],r[h],h,t,r):void 0;p===void 0&&(p=r[h]),s?xi(t,h,p):L(t,h,p)}return t}const ue=W;function _e(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}const xe=_e;var Ee="[object Arguments]";function pt(r){return cn(r)&&Ci(r)==Ee}const nt=pt;var _o=Object.prototype,Qi=_o.hasOwnProperty,Hn=_o.propertyIsEnumerable,Sr=nt(function(){return arguments}())?nt:function(r){return cn(r)&&Qi.call(r,"callee")&&!Hn.call(r,"callee")};const Ji=Sr;function Xi(){return!1}const xn=Xi;var En=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,en=En&&typeof Ct=="object"&&Ct&&!Ct.nodeType&&Ct,oi=en&&en.exports===En,Ei=oi?Cn.Buffer:void 0,NI=Ei?Ei.isBuffer:void 0,OI=NI||xn;const rc=OI;var PI=9007199254740991,BI=/^(?:0|[1-9]\d*)$/;function zI(r,e){var t=typeof r;return e=e??PI,!!e&&(t=="number"||t!="symbol"&&BI.test(r))&&r>-1&&r%1==0&&r<e}const Rg=zI;var LI=9007199254740991;function jI(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=LI}const iv=jI;var RI="[object Arguments]",FI="[object Array]",VI="[object Boolean]",UI="[object Date]",HI="[object Error]",$I="[object Function]",WI="[object Map]",qI="[object Number]",GI="[object Object]",YI="[object RegExp]",ZI="[object Set]",KI="[object String]",QI="[object WeakMap]",JI="[object ArrayBuffer]",XI="[object DataView]",e4="[object Float32Array]",t4="[object Float64Array]",n4="[object Int8Array]",i4="[object Int16Array]",r4="[object Int32Array]",o4="[object Uint8Array]",s4="[object Uint8ClampedArray]",a4="[object Uint16Array]",c4="[object Uint32Array]",ct={};ct[e4]=ct[t4]=ct[n4]=ct[i4]=ct[r4]=ct[o4]=ct[s4]=ct[a4]=ct[c4]=!0,ct[RI]=ct[FI]=ct[JI]=ct[VI]=ct[XI]=ct[UI]=ct[HI]=ct[$I]=ct[WI]=ct[qI]=ct[GI]=ct[YI]=ct[ZI]=ct[KI]=ct[QI]=!1;function l4(r){return cn(r)&&iv(r.length)&&!!ct[Ci(r)]}const d4=l4;function u4(r){return function(e){return r(e)}}const Fg=u4;var rv=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,oc=rv&&typeof Ct=="object"&&Ct&&!Ct.nodeType&&Ct,h4=oc&&oc.exports===rv,Vg=h4&&td.process,f4=function(){try{var r=oc&&oc.require&&oc.require("util").types;return r||Vg&&Vg.binding&&Vg.binding("util")}catch{}}();const ys=f4;var ov=ys&&ys.isTypedArray,g4=ov?Fg(ov):d4;const Ug=g4;var p4=Object.prototype,m4=p4.hasOwnProperty;function k4(r,e){var t=Rt(r),n=!t&&Ji(r),s=!t&&!n&&rc(r),c=!t&&!n&&!s&&Ug(r),d=t||n||s||c,h=d?xe(r.length,String):[],p=h.length;for(var w in r)(e||m4.call(r,w))&&!(d&&(w=="length"||s&&(w=="offset"||w=="parent")||c&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Rg(w,p)))&&h.push(w);return h}const sv=k4;var b4=Object.prototype;function w4(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||b4;return r===t}const Hg=w4;var v4=rd(Object.keys,Object);const _4=v4;var y4=Object.prototype,A4=y4.hasOwnProperty;function C4(r){if(!Hg(r))return _4(r);var e=[];for(var t in Object(r))A4.call(r,t)&&t!="constructor"&&e.push(t);return e}const x4=C4;function E4(r){return r!=null&&iv(r.length)&&!Gi(r)}const Ld=E4;function D4(r){return Ld(r)?sv(r):x4(r)}const $g=D4;function S4(r,e){return r&&ue(e,$g(e),r)}const T4=S4;function I4(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}const M4=I4;var N4=Object.prototype,O4=N4.hasOwnProperty;function P4(r){if(!tt(r))return M4(r);var e=Hg(r),t=[];for(var n in r)n=="constructor"&&(e||!O4.call(r,n))||t.push(n);return t}const B4=P4;function z4(r){return Ld(r)?sv(r,!0):B4(r)}const As=z4;function L4(r,e){return r&&ue(e,As(e),r)}const j4=L4;var av=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,cv=av&&typeof Ct=="object"&&Ct&&!Ct.nodeType&&Ct,R4=cv&&cv.exports===av,lv=R4?Cn.Buffer:void 0,dv=lv?lv.allocUnsafe:void 0;function F4(r,e){if(e)return r.slice();var t=r.length,n=dv?dv(t):new r.constructor(t);return r.copy(n),n}const uv=F4;function V4(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}const hv=V4;function U4(r,e){for(var t=-1,n=r==null?0:r.length,s=0,c=[];++t<n;){var d=r[t];e(d,t,r)&&(c[s++]=d)}return c}const H4=U4;function $4(){return[]}const fv=$4;var W4=Object.prototype,q4=W4.propertyIsEnumerable,gv=Object.getOwnPropertySymbols,G4=gv?function(r){return r==null?[]:(r=Object(r),H4(gv(r),function(e){return q4.call(r,e)}))}:fv;const Wg=G4;function Y4(r,e){return ue(r,Wg(r),e)}const Z4=Y4;function K4(r,e){for(var t=-1,n=e.length,s=r.length;++t<n;)r[s+t]=e[t];return r}const pv=K4;var Q4=Object.getOwnPropertySymbols,J4=Q4?function(r){for(var e=[];r;)pv(e,Wg(r)),r=po(r);return e}:fv;const mv=J4;function X4(r,e){return ue(r,mv(r),e)}const eM=X4;function tM(r,e,t){var n=e(r);return Rt(r)?n:pv(n,t(r))}const kv=tM;function nM(r){return kv(r,$g,Wg)}const qg=nM;function iM(r){return kv(r,As,mv)}const rM=iM;var oM=Zi(Cn,"DataView");const Gg=oM;var sM=Zi(Cn,"Promise");const Yg=sM;var aM=Zi(Cn,"Set");const Zg=aM;var cM=Zi(Cn,"WeakMap");const Kg=cM;var bv="[object Map]",lM="[object Object]",wv="[object Promise]",vv="[object Set]",_v="[object WeakMap]",yv="[object DataView]",dM=Yi(Gg),uM=Yi(bo),hM=Yi(Yg),fM=Yi(Zg),gM=Yi(Kg),yo=Ci;(Gg&&yo(new Gg(new ArrayBuffer(1)))!=yv||bo&&yo(new bo)!=bv||Yg&&yo(Yg.resolve())!=wv||Zg&&yo(new Zg)!=vv||Kg&&yo(new Kg)!=_v)&&(yo=function(r){var e=Ci(r),t=e==lM?r.constructor:void 0,n=t?Yi(t):"";if(n)switch(n){case dM:return yv;case uM:return bv;case hM:return wv;case fM:return vv;case gM:return _v}return e});const sc=yo;var pM=Object.prototype,mM=pM.hasOwnProperty;function kM(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&mM.call(r,"index")&&(t.index=r.index,t.input=r.input),t}const bM=kM;var wM=Cn.Uint8Array;const jd=wM;function vM(r){var e=new r.constructor(r.byteLength);return new jd(e).set(new jd(r)),e}const Qg=vM;function _M(r,e){var t=e?Qg(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}const yM=_M;var AM=/\w*$/;function CM(r){var e=new r.constructor(r.source,AM.exec(r));return e.lastIndex=r.lastIndex,e}const xM=CM;var Av=Vn?Vn.prototype:void 0,Cv=Av?Av.valueOf:void 0;function EM(r){return Cv?Object(Cv.call(r)):{}}const DM=EM;function SM(r,e){var t=e?Qg(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}const xv=SM;var TM="[object Boolean]",IM="[object Date]",MM="[object Map]",NM="[object Number]",OM="[object RegExp]",PM="[object Set]",BM="[object String]",zM="[object Symbol]",LM="[object ArrayBuffer]",jM="[object DataView]",RM="[object Float32Array]",FM="[object Float64Array]",VM="[object Int8Array]",UM="[object Int16Array]",HM="[object Int32Array]",$M="[object Uint8Array]",WM="[object Uint8ClampedArray]",qM="[object Uint16Array]",GM="[object Uint32Array]";function YM(r,e,t){var n=r.constructor;switch(e){case LM:return Qg(r);case TM:case IM:return new n(+r);case jM:return yM(r,t);case RM:case FM:case VM:case UM:case HM:case $M:case WM:case qM:case GM:return xv(r,t);case MM:return new n;case NM:case BM:return new n(r);case OM:return xM(r);case PM:return new n;case zM:return DM(r)}}const ZM=YM;var Ev=Object.create,KM=function(){function r(){}return function(e){if(!tt(e))return{};if(Ev)return Ev(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();const QM=KM;function JM(r){return typeof r.constructor=="function"&&!Hg(r)?QM(po(r)):{}}const Dv=JM;var XM="[object Map]";function e3(r){return cn(r)&&sc(r)==XM}const t3=e3;var Sv=ys&&ys.isMap,n3=Sv?Fg(Sv):t3;const i3=n3;var r3="[object Set]";function o3(r){return cn(r)&&sc(r)==r3}const s3=o3;var Tv=ys&&ys.isSet,a3=Tv?Fg(Tv):s3;const c3=a3;var l3=1,d3=2,u3=4,Iv="[object Arguments]",h3="[object Array]",f3="[object Boolean]",g3="[object Date]",p3="[object Error]",Mv="[object Function]",m3="[object GeneratorFunction]",k3="[object Map]",b3="[object Number]",Nv="[object Object]",w3="[object RegExp]",v3="[object Set]",_3="[object String]",y3="[object Symbol]",A3="[object WeakMap]",C3="[object ArrayBuffer]",x3="[object DataView]",E3="[object Float32Array]",D3="[object Float64Array]",S3="[object Int8Array]",T3="[object Int16Array]",I3="[object Int32Array]",M3="[object Uint8Array]",N3="[object Uint8ClampedArray]",O3="[object Uint16Array]",P3="[object Uint32Array]",it={};it[Iv]=it[h3]=it[C3]=it[x3]=it[f3]=it[g3]=it[E3]=it[D3]=it[S3]=it[T3]=it[I3]=it[k3]=it[b3]=it[Nv]=it[w3]=it[v3]=it[_3]=it[y3]=it[M3]=it[N3]=it[O3]=it[P3]=!0,it[p3]=it[Mv]=it[A3]=!1;function Rd(r,e,t,n,s,c){var d,h=e&l3,p=e&d3,w=e&u3;if(t&&(d=s?t(r,n,s,c):t(r)),d!==void 0)return d;if(!tt(r))return r;var _=Rt(r);if(_){if(d=bM(r),!h)return hv(r,d)}else{var C=sc(r),O=C==Mv||C==m3;if(rc(r))return uv(r,h);if(C==Nv||C==Iv||O&&!s){if(d=p||O?{}:Dv(r),!h)return p?eM(r,j4(d,r)):Z4(r,T4(d,r))}else{if(!it[C])return s?r:{};d=ZM(r,C,h)}}c||(c=new Er);var z=c.get(r);if(z)return z;c.set(r,d),c3(r)?r.forEach(function(he){d.add(Rd(he,e,t,he,r,c))}):i3(r)&&r.forEach(function(he,we){d.set(we,Rd(he,e,t,we,r,c))});var U=w?p?rM:qg:p?As:$g,ne=_?void 0:U(r);return Bd(ne||r,function(he,we){ne&&(we=he,he=r[we]),L(d,we,Rd(he,e,t,we,r,c))}),d}const Jg=Rd;var B3=1,z3=4;function L3(r,e){return e=typeof e=="function"?e:void 0,Jg(r,B3|z3,e)}const Xg=L3;function j3(r){return cn(r)&&r.nodeType===1&&!Xt(r)}const Ao=j3;class Ov{constructor(e,t){this._config={},t&&this.define(Pv(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,s=!1){if(Xt(t)){this._setObjectToTarget(e,t,s);return}const c=t.split(".");t=c.pop();for(const d of c)Xt(e[d])||(e[d]={}),e=e[d];if(Xt(n)){Xt(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,s);return}s&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const s of n){if(!Xt(e[s])){e=null;break}e=e[s]}return e?Pv(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],n)})}}function Pv(r){return Xg(r,R3)}function R3(r){return Ao(r)?r:void 0}function Tr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function Fd(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const Bv=Dn(Me());function Dn(r){if(!r)return Bv;class e extends r{listenTo(n,s,c,d={}){if(Tr(n)||Fd(n)){const h={capture:!!d.useCapture,passive:!!d.usePassive},p=this._getProxyEmitter(n,h)||new F3(n,h);this.listenTo(p,s,c,d)}else super.listenTo(n,s,c,d)}stopListening(n,s,c){if(Tr(n)||Fd(n)){const d=this._getAllProxyEmitters(n);for(const h of d)this.stopListening(h,s,c)}else super.stopListening(n,s,c)}_getProxyEmitter(n,s){return Df(this,zv(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Dn[r]=Bv.prototype[r]});class F3 extends Me(){constructor(e,t){super(),Kl(this,zv(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),Me().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){Me().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function V3(r){return r["data-ck-expando"]||(r["data-ck-expando"]=H())}function zv(r,e){let t=V3(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}let ep;try{ep={window,document}}catch{ep={window:{},document:{}}}const be=ep;function U3(r){const e=[];let t=r;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function H3(r){return r instanceof HTMLTextAreaElement?r.value:r.innerHTML}function St(r){return Object.prototype.toString.call(r)=="[object Text]"}function Vd(r){return Object.prototype.toString.apply(r)=="[object Range]"}function Lv(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function jv(r){return!r||!r.parentNode||r.offsetParent===be.document.body?null:r.offsetParent}const Rv=["top","right","bottom","left","width","height"];class Ne{constructor(e){const t=Vd(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),tp(e)||t)if(t){const n=Ne.getDomRangeRects(e);Ud(this,Ne.getBoundingRect(n))}else Ud(this,e.getBoundingClientRect());else if(Fd(e)){const{innerWidth:n,innerHeight:s}=e;Ud(this,{top:0,right:n,bottom:s,left:0,width:n,height:s})}else Ud(this,e)}clone(){return new Ne(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new Ne(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Fv(e))return t;let n=e,s=e.parentNode||e.commonAncestorContainer,c;for(;s&&!Fv(s);){const d=$3(s)==="visible";n instanceof HTMLElement&&Vv(n)==="absolute"&&(c=n);const h=Vv(s);if(d||c&&(h==="relative"&&d||h!=="relative")){n=s,s=s.parentNode;continue}const p=new Ne(s),w=t.getIntersection(p);if(w)w.getArea()<t.getArea()&&(t=w);else return null;n=s,s=s.parentNode}return t}isEqual(e){for(const t of Rv)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=be.window,n=this.clone().moveBy(e,t);if(tp(n._source)){const s=jv(n._source);s&&W3(n,s)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,s;if(Fd(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const c=Lv(e);t=e.offsetWidth-e.clientWidth-c.left-c.right,n=e.offsetHeight-e.clientHeight-c.top-c.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const s of n)t.push(new Ne(s));else{let s=e.startContainer;St(s)&&(s=s.parentNode);const c=new Ne(s.getBoundingClientRect());c.right=c.left,c.width=0,t.push(c)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const s of e)n++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Ne(t))}}function Ud(r,e){for(const t of Rv)r[t]=e[t]}function Fv(r){return tp(r)?r===r.ownerDocument.body:!1}function tp(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function Vv(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}function $3(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).overflow:"visible"}function W3(r,e){const t=new Ne(e),n=Lv(e);let s=0,c=0;s-=t.left,c-=t.top,s+=e.scrollLeft,c+=e.scrollTop,s-=n.left,c-=n.top,r.moveBy(s,c)}class Xe{constructor(e,t){Xe._observerInstance||Xe._createObserver(),this._element=e,this._callback=t,Xe._addElementCallback(e,t),Xe._observerInstance.observe(e)}get element(){return this._element}destroy(){Xe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Xe._elementCallbacks||(Xe._elementCallbacks=new Map);let n=Xe._elementCallbacks.get(e);n||(n=new Set,Xe._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=Xe._getElementCallbacks(e);n&&(n.delete(t),n.size||(Xe._elementCallbacks.delete(e),Xe._observerInstance.unobserve(e))),Xe._elementCallbacks&&!Xe._elementCallbacks.size&&(Xe._observerInstance=null,Xe._elementCallbacks=null)}static _getElementCallbacks(e){return Xe._elementCallbacks?Xe._elementCallbacks.get(e):null}static _createObserver(){Xe._observerInstance=new be.window.ResizeObserver(e=>{for(const t of e){const n=Xe._getElementCallbacks(t.target);if(n)for(const s of n)s(t)}})}}Xe._observerInstance=null,Xe._elementCallbacks=null;function Uv(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function ac(r){return e=>e+r}function Hd(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function Hv(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function cc(r){return r&&r.nodeType===Node.COMMENT_NODE}function q3(r){try{be.document.createAttribute(r)}catch{return!1}return!0}function Co(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}function np({element:r,target:e,positions:t,limiter:n,fitInViewport:s,viewportOffsetConfig:c}){Gi(e)&&(e=e()),Gi(n)&&(n=n());const d=jv(r),h=G3(c),p=new Ne(r),w=$v(e,h);let _;if(!w||!h.getIntersection(w))return null;const C={targetRect:w,elementRect:p,positionedElementAncestor:d,viewportRect:h};if(!n&&!s)_=new Wv(t[0],C);else{if(n){const O=$v(n,h);O&&(C.limiterRect=O)}_=Y3(t,C)}return _}function $v(r,e){const t=new Ne(r).getVisible();return t?t.getIntersection(e):null}function G3(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new Ne(be.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e}function Y3(r,e){const{elementRect:t}=e,n=t.getArea(),s=r.map(h=>new Wv(h,e)).filter(h=>!!h.name);let c=0,d=null;for(const h of s){const{limiterIntersectionArea:p,viewportIntersectionArea:w}=h;if(p===n)return h;const _=w**2+p**2;_>c&&(c=_,d=h)}return d}class Wv{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:s,top:c,name:d,config:h}=n;this.name=d,this.config=h,this._positioningFunctionCoordinates={left:s,top:c},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}function qv(r){const e=r.parentNode;e&&e.removeChild(r)}function Z3({target:r,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:s}){const c=ip(r);let d=c,h=null;for(e=J3(e);d;){let p;d==c?p=Qv(r):p=Qv(h),Q3({parent:p,getRect:()=>Jv(r,d),alignToTop:n,ancestorOffset:t,forceScroll:s});const w=Jv(r,d);if(K3({window:d,rect:w,viewportOffset:e,alignToTop:n,forceScroll:s}),d.parent!=d){if(h=d.frameElement,d=d.parent,!h)return}else d=null}}function K3({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:s}){const c=e.clone().moveBy(0,s.bottom),d=e.clone().moveBy(0,-s.top),h=new Ne(r).excludeScrollbarsAndBorders(),p=[d,c],w=t&&n,_=p.every(ne=>h.contains(ne));let{scrollX:C,scrollY:O}=r;const z=C,U=O;w?O-=h.top-e.top+s.top:_||(Yv(d,h)?O-=h.top-e.top+s.top:Gv(c,h)&&(t?O+=e.top-h.top-s.top:O+=e.bottom-h.bottom+s.bottom)),_||(Zv(e,h)?C-=h.left-e.left+s.left:Kv(e,h)&&(C+=e.right-h.right+s.right)),(C!=z||O!==U)&&r.scrollTo(C,O)}function Q3({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:s=0,limiterElement:c}){const d=ip(r),h=t&&n;let p,w,_;const C=c||d.document.body;for(;r!=C;)w=e(),p=new Ne(r).excludeScrollbarsAndBorders(),_=p.contains(w),h?r.scrollTop-=p.top-w.top+s:_||(Yv(w,p)?r.scrollTop-=p.top-w.top+s:Gv(w,p)&&(t?r.scrollTop+=w.top-p.top-s:r.scrollTop+=w.bottom-p.bottom+s)),_||(Zv(w,p)?r.scrollLeft-=p.left-w.left+s:Kv(w,p)&&(r.scrollLeft+=w.right-p.right+s)),r=r.parentNode}function Gv(r,e){return r.bottom>e.bottom}function Yv(r,e){return r.top<e.top}function Zv(r,e){return r.left<e.left}function Kv(r,e){return r.right>e.right}function ip(r){return Vd(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function Qv(r){if(Vd(r)){let e=r.commonAncestorContainer;return St(e)&&(e=e.parentNode),e}else return r.parentNode}function Jv(r,e){const t=ip(r),n=new Ne(r);if(t===e)return n;{let s=t;for(;s!=e;){const c=s.frameElement,d=new Ne(c).excludeScrollbarsAndBorders();n.moveBy(d.left,d.top),s=s.parent}}return n}function J3(r){return typeof r=="number"?{top:r,bottom:r,left:r,right:r}:r}const X3={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},eN={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Pe=oN(),tN=Object.fromEntries(Object.entries(Pe).map(([r,e])=>[e,r.charAt(0).toUpperCase()+r.slice(1)]));function Cs(r){let e;if(typeof r=="string"){if(e=Pe[r.toLowerCase()],!e)throw new M("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Pe.alt:0)+(r.ctrlKey?Pe.ctrl:0)+(r.shiftKey?Pe.shift:0)+(r.metaKey?Pe.cmd:0);return e}function lc(r){return typeof r=="string"&&(r=sN(r)),r.map(e=>typeof e=="string"?iN(e):e).reduce((e,t)=>t+e,0)}function Xv(r){let e=lc(r);return Object.entries(m.isMac||m.isiOS?X3:eN).reduce((s,[c,d])=>(e&Pe[c]&&(e&=~Pe[c],s+=d),s),"")+(e?tN[e]:"")}function nN(r){return r==Pe.arrowright||r==Pe.arrowleft||r==Pe.arrowup||r==Pe.arrowdown}function e_(r,e){const t=e==="ltr";switch(r){case Pe.arrowleft:return t?"left":"right";case Pe.arrowright:return t?"right":"left";case Pe.arrowup:return"up";case Pe.arrowdown:return"down"}}function iN(r){if(r.endsWith("!"))return Cs(r.slice(0,-1));const e=Cs(r);return(m.isMac||m.isiOS)&&e==Pe.ctrl?Pe.cmd:e}function rN(r,e){const t=e_(r,e);return t==="down"||t==="right"}function oN(){const r={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);r[t.toLowerCase()]=e}for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;for(const e of"`-=[];',./\\")r[e]=e.charCodeAt(0);return r}function sN(r){return r.split("+").map(e=>e.trim())}function Ft(r){return Array.isArray(r)?r:[r]}be.window.CKEDITOR_TRANSLATIONS||(be.window.CKEDITOR_TRANSLATIONS={});function aN(r,e,t=1){if(typeof t!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:t});const n=lN();n===1&&(r=Object.keys(be.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(n===0||!cN(r,s))return t!==1?e.plural:e.string;const c=be.window.CKEDITOR_TRANSLATIONS[r].dictionary,d=be.window.CKEDITOR_TRANSLATIONS[r].getPluralForm||(w=>w===1?0:1),h=c[s];if(typeof h=="string")return h;const p=Number(d(t));return h[p]}function cN(r,e){return!!be.window.CKEDITOR_TRANSLATIONS[r]&&!!be.window.CKEDITOR_TRANSLATIONS[r].dictionary[e]}function lN(){return Object.keys(be.window.CKEDITOR_TRANSLATIONS).length}const dN=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function t_(r){return dN.includes(r)?"rtl":"ltr"}class uN{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=t_(this.uiLanguage),this.contentLanguageDirection=t_(this.contentLanguage),this.t=(n,s)=>this._t(n,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Ft(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,c=aN(this.uiLanguage,e,s);return hN(c,t)}}function hN(r,e){return r.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}class $n extends Me(){constructor(e={},t={}){super();const n=zt(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new M("collection-add-item-invalid-index",this);let n=0;for(const s of e){const c=this._getItemIdBeforeAdding(s),d=t+n;this._items.splice(d,0,s),this._itemMap.set(c,s),this.fire("add",s,d),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new M("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(s,c,d)=>{const h=t._bindToCollection==this,p=t._bindToInternalToExternalMap.get(c);if(h&&p)this._bindToExternalToInternalMap.set(c,p),this._bindToInternalToExternalMap.set(p,c);else{const w=e(c);if(!w){this._skippedIndexesFromExternal.push(d);return}let _=d;for(const C of this._skippedIndexesFromExternal)d>C&&_--;for(const C of t._skippedIndexesFromExternal)_>=C&&_++;this._bindToExternalToInternalMap.set(c,w),this._bindToInternalToExternalMap.set(w,c),this.add(w,_);for(let C=0;C<t._skippedIndexesFromExternal.length;C++)_<=t._skippedIndexesFromExternal[C]&&t._skippedIndexesFromExternal[C]++}};for(const s of t)n(null,s,t.getIndex(s));this.listenTo(t,"add",n),this.listenTo(t,"remove",(s,c,d)=>{const h=this._bindToExternalToInternalMap.get(c);h&&this.remove(h),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((p,w)=>(d<w&&p.push(w-1),d>w&&p.push(w),p),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new M("collection-add-invalid-id",this);if(this.get(n))throw new M("collection-add-item-already-exists",this)}else e[t]=n=H();return n}_remove(e){let t,n,s,c=!1;const d=this._idProperty;if(typeof e=="string"?(n=e,s=this._itemMap.get(n),c=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],c=!s,s&&(n=s[d])):(s=e,n=s[d],t=this._items.indexOf(s),c=t==-1||!this._itemMap.get(n)),c)throw new M("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const h=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(h),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Vt(r){const e=r.next();return e.done?null:e.value}class gn extends Dn(Ue()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new M("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class si{constructor(){this._listener=new(Dn())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Cs(n),n)})}set(e,t,n={}){const s=lc(e),c=n.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(d,h)=>{t(h,()=>{h.preventDefault(),h.stopPropagation(),d.stop()}),d.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+Cs(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function fN(r){const e=new Map;for(const t in r)e.set(t,r[t]);return e}function Di(r){return zt(r)?new Map(r):fN(r)}const gN=1e4;function pN(r,e,t,n){if(Math.max(e.length,r.length)>gN)return r.slice(0,t).concat(e).concat(r.slice(t+n,r.length));{const s=Array.from(r);return s.splice(t,n,...e),s}}function rp(r,e){let t;function n(...s){n.cancel(),t=setTimeout(()=>r(...s),e)}return n.cancel=()=>{clearTimeout(t)},n}function mN(r){function e(C){return C.length>=40&&C.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let t="";try{t=atob(r)}catch{return"INVALID"}const n=t.split("-"),s=n[0],c=n[1];if(!c)return e(r);try{atob(c)}catch{try{if(atob(s),!atob(s).length)return e(r)}catch{return e(r)}}if(s.length<40||s.length>255)return"INVALID";let d="";try{atob(s),d=atob(c)}catch{return"INVALID"}if(d.length!==8)return"INVALID";const h=Number(d.substring(0,4)),p=Number(d.substring(4,6))-1,w=Number(d.substring(6,8)),_=new Date(h,p,w);return _<Ce||isNaN(Number(_))?"INVALID":"VALID"}function kN(r){return!!r&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r)}function bN(r){return!!r&&r.length==1&&/[\ud800-\udbff]/.test(r)}function wN(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}function op(r,e){return bN(r.charAt(e-1))&&wN(r.charAt(e))}function sp(r,e){return kN(r.charAt(e))}const vN=_N();function n_(r,e){const t=String(r).matchAll(vN);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function _N(){const r=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+r.map(s=>s.source).join("|")+")",n=`${e}|${t}(?:‍${t})*`;return new RegExp(n,"ug")}class ie extends Ue(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",i_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",i_),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function i_(r){r.return=!1,r.stop()}class et extends Ue(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,c=!(n.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!c)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",r_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",r_),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function r_(r){r.return=!1,r.stop()}class o_ extends et{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){R(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class s_ extends Me(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,c]of n)this._contextPlugins.set(s,c),this._contextPlugins.set(c,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const s=this,c=this._context;z(e),ne(e);const d=e.filter(pe=>!C(pe,t)),h=[...U(d)];yt(h,n);const p=rt(h);return mt(p,"init").then(()=>mt(p,"afterInit")).then(()=>p);function w(pe){return typeof pe=="function"}function _(pe){return w(pe)&&!!pe.isContextPlugin}function C(pe,De){return De.some(me=>me===pe||O(pe)===me||O(me)===pe)}function O(pe){return w(pe)?pe.pluginName||pe.name:pe}function z(pe,De=new Set){pe.forEach(me=>{w(me)&&(De.has(me)||(De.add(me),me.pluginName&&!s._availablePlugins.has(me.pluginName)&&s._availablePlugins.set(me.pluginName,me),me.requires&&z(me.requires,De)))})}function U(pe,De=new Set){return pe.map(me=>w(me)?me:s._availablePlugins.get(me)).reduce((me,lt)=>De.has(lt)?me:(De.add(lt),lt.requires&&(ne(lt.requires,lt),U(lt.requires,De).forEach(Ro=>me.add(Ro))),me.add(lt)),new Set)}function ne(pe,De=null){pe.map(me=>w(me)?me:s._availablePlugins.get(me)||me).forEach(me=>{he(me,De),we(me,De),He(me,De)})}function he(pe,De){if(!w(pe))throw De?new M("plugincollection-soft-required",c,{missingPlugin:pe,requiredBy:O(De)}):new M("plugincollection-plugin-not-found",c,{plugin:pe})}function we(pe,De){if(_(De)&&!_(pe))throw new M("plugincollection-context-required",c,{plugin:O(pe),requiredBy:O(De)})}function He(pe,De){if(De&&C(pe,t))throw new M("plugincollection-required",c,{plugin:O(pe),requiredBy:O(De)})}function rt(pe){return pe.map(De=>{let me=s._contextPlugins.get(De);return me=me||new De(c),s._add(De,me),me})}function mt(pe,De){return pe.reduce((me,lt)=>!lt[De]||s._contextPlugins.has(lt)?me:me.then(lt[De].bind(lt)),Promise.resolve())}function yt(pe,De){for(const me of De){if(typeof me!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:me});const lt=me.pluginName;if(!lt)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:me});if(me.requires&&me.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:lt});const Ro=s._availablePlugins.get(lt);if(!Ro)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:lt});const C2=pe.indexOf(Ro);if(C2===-1){if(s._contextPlugins.has(Ro))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:lt})}if(Ro.requires&&Ro.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:lt});pe.splice(C2,1,me),s._availablePlugins.set(lt,me)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class a_{constructor(e){this._contextOwner=null,this.config=new Ov(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new s_(this,t);const n=this.config.get("language")||{};this.locale=new uN({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new $n}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class c_ extends Ue(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var yN=a(3379),ge=a.n(yN),l_=a(7372),ap={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ap.insert="head",ap.singleton=!0,ge()(l_.Z,ap),l_.Z.locals;const $d=new WeakMap;let d_=!1;function u_({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:s=!1}){const c=r.document;$d.has(c)||($d.set(c,new Map),c.registerPostFixer(h=>cp(c,h)),c.on("change:isComposing",()=>{r.change(h=>cp(c,h))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(h,p,w)=>{d(w)}),e.placeholder?d(e.placeholder):t&&d(t),t&&DN();function d(h){$d.get(c).set(e,{text:h,isDirectHost:n,keepOnFocus:s,hostElement:n?e:null}),r.change(p=>cp(c,p))}}function AN(r,e){return e.hasClass("ck-placeholder")?!1:(r.addClass("ck-placeholder",e),!0)}function CN(r,e){return e.hasClass("ck-placeholder")?(r.removeClass("ck-placeholder",e),!0):!1}function xN(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(d=>!d.is("uiElement")))return!1;const n=r.document,c=n.selection.anchor;return n.isComposing&&c&&c.parent===r?!1:e||!n.isFocused?!0:!!c&&c.parent!==r}function cp(r,e){const t=$d.get(r),n=[];let s=!1;for(const[c,d]of t)d.isDirectHost&&(n.push(c),h_(e,c,d)&&(s=!0));for(const[c,d]of t){if(d.isDirectHost)continue;const h=EN(c);h&&(n.includes(h)||(d.hostElement=h,h_(e,c,d)&&(s=!0)))}return s}function h_(r,e,t){const{text:n,isDirectHost:s,hostElement:c}=t;let d=!1;return c.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,c),d=!0),(s||e.childCount==1)&&xN(c,t.keepOnFocus)?AN(r,c)&&(d=!0):CN(r,c)&&(d=!0),d}function EN(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function DN(){d_||J("enableplaceholder-deprecated-text-option"),d_=!0}class xo{is(){throw new Error("is() method is abstract")}}var SN=4;function TN(r){return Jg(r,SN)}const f_=TN;class Eo extends Me(xo){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=vt(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=f_(this);return delete e.parent,e}}Eo.prototype.is=function(r){return r==="node"||r==="view:node"};class Ze extends Eo{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Ze?this===e||this.data===e.data:!1}_clone(){return new Ze(this.document,this.data)}}Ze.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class Si extends xo{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new M("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}Si.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class Wn{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const s=g_(t,n);if(s)return{element:t,pattern:n,match:s}}return null}matchAll(...e){const t=[];for(const n of e)for(const s of this._patterns){const c=g_(n,s);c&&t.push({element:n,pattern:s,match:c})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function g_(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=IN(e.name,r.name),!t.name)||e.attributes&&(t.attributes=PN(e.attributes,r),!t.attributes)||e.classes&&(t.classes=BN(e.classes,r),!t.classes)||e.styles&&(t.styles=zN(e.styles,r),!t.styles)?null:t}function IN(r,e){return r instanceof RegExp?!!e.match(r):r===e}function lp(r,e,t){const n=MN(r),s=Array.from(e),c=[];if(n.forEach(([d,h])=>{s.forEach(p=>{NN(d,p)&&ON(h,p,t)&&c.push(p)})}),!(!n.length||c.length<n.length))return c}function MN(r){return Array.isArray(r)?r.map(e=>Xt(e)?((e.key===void 0||e.value===void 0)&&J("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Xt(r)?Object.entries(r):[[r,!0]]}function NN(r,e){return r===!0||r===e||r instanceof RegExp&&e.match(r)}function ON(r,e,t){if(r===!0)return!0;const n=t(e);return r===n||r instanceof RegExp&&!!String(n).match(r)}function PN(r,e){const t=new Set(e.getAttributeKeys());return Xt(r)?(r.style!==void 0&&J("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&J("matcher-pattern-deprecated-attributes-class-key",r)):(t.delete("style"),t.delete("class")),lp(r,t,n=>e.getAttribute(n))}function BN(r,e){return lp(r,e.getClassNames(),()=>{})}function zN(r,e){return lp(r,e.getStyleNames(!0),t=>e.getStyle(t))}var LN="[object Symbol]";function jN(r){return typeof r=="symbol"||cn(r)&&Ci(r)==LN}const Wd=jN;var RN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FN=/^\w*$/;function VN(r,e){if(Rt(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||Wd(r)?!0:FN.test(r)||!RN.test(r)||e!=null&&r in Object(e)}const UN=VN;var HN="Expected a function";function dp(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(HN);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],c=t.cache;if(c.has(s))return c.get(s);var d=r.apply(this,n);return t.cache=c.set(s,d)||c,d};return t.cache=new(dp.Cache||_s),t}dp.Cache=_s;const $N=dp;var WN=500;function qN(r){var e=$N(r,function(n){return t.size===WN&&t.clear(),n}),t=e.cache;return e}const GN=qN;var YN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZN=/\\(\\)?/g,KN=GN(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(YN,function(t,n,s,c){e.push(s?c.replace(ZN,"$1"):n||t)}),e});const QN=KN;function JN(r,e){for(var t=-1,n=r==null?0:r.length,s=Array(n);++t<n;)s[t]=e(r[t],t,r);return s}const XN=JN;var eO=1/0,p_=Vn?Vn.prototype:void 0,m_=p_?p_.toString:void 0;function k_(r){if(typeof r=="string")return r;if(Rt(r))return XN(r,k_)+"";if(Wd(r))return m_?m_.call(r):"";var e=r+"";return e=="0"&&1/r==-eO?"-0":e}const tO=k_;function nO(r){return r==null?"":tO(r)}const up=nO;function iO(r,e){return Rt(r)?r:UN(r,e)?[r]:QN(up(r))}const hp=iO;function rO(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}const oO=rO;var sO=1/0;function aO(r){if(typeof r=="string"||Wd(r))return r;var e=r+"";return e=="0"&&1/r==-sO?"-0":e}const fp=aO;function cO(r,e){e=hp(e,r);for(var t=0,n=e.length;r!=null&&t<n;)r=r[fp(e[t++])];return t&&t==n?r:void 0}const b_=cO;function lO(r,e,t){var n=-1,s=r.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var c=Array(s);++n<s;)c[n]=r[n+e];return c}const w_=lO;function dO(r,e){return e.length<2?r:b_(r,w_(e,0,-1))}const uO=dO;function hO(r,e){return e=hp(e,r),r=uO(r,e),r==null||delete r[fp(oO(e))]}const fO=hO;function gO(r,e){return r==null?!0:fO(r,e)}const pO=gO;function mO(r,e,t){var n=r==null?void 0:b_(r,e);return n===void 0?t:n}const qd=mO;function kO(r,e,t){(t!==void 0&&!vr(r[e],t)||t===void 0&&!(e in r))&&xi(r,e,t)}const gp=kO;function bO(r){return function(e,t,n){for(var s=-1,c=Object(e),d=n(e),h=d.length;h--;){var p=d[r?h:++s];if(t(c[p],p,c)===!1)break}return e}}var wO=bO();const vO=wO;function _O(r){return cn(r)&&Ld(r)}const yO=_O;function AO(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}const pp=AO;function CO(r){return ue(r,As(r))}const xO=CO;function EO(r,e,t,n,s,c,d){var h=pp(r,t),p=pp(e,t),w=d.get(p);if(w){gp(r,t,w);return}var _=c?c(h,p,t+"",r,e,d):void 0,C=_===void 0;if(C){var O=Rt(p),z=!O&&rc(p),U=!O&&!z&&Ug(p);_=p,O||z||U?Rt(h)?_=h:yO(h)?_=hv(h):z?(C=!1,_=uv(p,!0)):U?(C=!1,_=xv(p,!0)):_=[]:Xt(p)||Ji(p)?(_=h,Ji(h)?_=xO(h):(!tt(h)||Gi(h))&&(_=Dv(p))):C=!1}C&&(d.set(p,_),s(_,p,n,c,d),d.delete(p)),gp(r,t,_)}const DO=EO;function v_(r,e,t,n,s){r!==e&&vO(e,function(c,d){if(s||(s=new Er),tt(c))DO(r,e,d,t,v_,n,s);else{var h=n?n(pp(r,d),c,d+"",r,e,s):void 0;h===void 0&&(h=c),gp(r,d,h)}},As)}const SO=v_;function TO(r){return r}const Do=TO;function IO(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}const MO=IO;var __=Math.max;function NO(r,e,t){return e=__(e===void 0?r.length-1:e,0),function(){for(var n=arguments,s=-1,c=__(n.length-e,0),d=Array(c);++s<c;)d[s]=n[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=n[s];return h[e]=t(d),MO(r,this,h)}}const OO=NO;function PO(r){return function(){return r}}const BO=PO;var zO=Dr?function(r,e){return Dr(r,"toString",{configurable:!0,enumerable:!1,value:BO(e),writable:!0})}:Do;const LO=zO;var jO=800,RO=16,FO=Date.now;function VO(r){var e=0,t=0;return function(){var n=FO(),s=RO-(n-t);if(t=n,s>0){if(++e>=jO)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var UO=VO(LO);const HO=UO;function $O(r,e){return HO(OO(r,e,Do),r+"")}const WO=$O;function qO(r,e,t){if(!tt(t))return!1;var n=typeof e;return(n=="number"?Ld(t)&&Rg(e,t.length):n=="string"&&e in t)?vr(t[e],r):!1}const GO=qO;function YO(r){return WO(function(e,t){var n=-1,s=t.length,c=s>1?t[s-1]:void 0,d=s>2?t[2]:void 0;for(c=r.length>3&&typeof c=="function"?(s--,c):void 0,d&&GO(t[0],t[1],d)&&(c=s<3?void 0:c,s=1),e=Object(e);++n<s;){var h=t[n];h&&r(e,h,n,c)}return e})}const y_=YO;var ZO=y_(function(r,e,t){SO(r,e,t)});const A_=ZO;function KO(r,e,t,n){if(!tt(r))return r;e=hp(e,r);for(var s=-1,c=e.length,d=c-1,h=r;h!=null&&++s<c;){var p=fp(e[s]),w=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return r;if(s!=d){var _=h[p];w=n?n(_,p,h):void 0,w===void 0&&(w=tt(_)?_:Rg(e[s+1])?[]:{})}L(h,p,w),h=h[p]}return r}const QO=KO;function JO(r,e,t){return r==null?r:QO(r,e,t)}const XO=JO;class eP{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(nP(e).entries());for(const[n,s]of t)this._styleProcessor.toNormalizedForm(n,s,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)}set(e,t){if(tt(e))for(const[n,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=mp(e);pO(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!tt(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),c=qd(this._styles,s);if(!c)return;!Array.from(Object.keys(c)).length&&this.remove(s)}}class tP{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(tt(t)){kp(n,mp(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:c,value:d}=s(t);kp(n,c,d)}else kp(n,e,t)}getNormalized(e,t){if(!e)return A_({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return qd(t,n);const s=n(e,t);if(s)return s}return qd(t,mp(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const c=this.getNormalized(s,e);return c&&typeof c=="object"?Object.keys(c).length:c}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function nP(r){let e=null,t=0,n=0,s=null;const c=new Map;if(r==="")return c;r.charAt(r.length-1)!=";"&&(r=r+";");for(let d=0;d<r.length;d++){const h=r.charAt(d);if(e===null)switch(h){case":":s||(s=r.substr(t,d-t),n=d+1);break;case'"':case"'":e=h;break;case";":{const p=r.substr(n,d-n);s&&c.set(s.trim(),p.trim()),s=null,t=d+1;break}}else h===e&&(e=null)}return c}function mp(r){return r.replace("-",".")}function kp(r,e,t){let n=t;tt(t)&&(n=A_({},qd(r,e),t)),XO(r,e,n)}class Sn extends Eo{constructor(e,t,n,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=iP(n),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");C_(this._classes,c),this._attrs.delete("class")}this._styles=new eP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Sn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Wn(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=rP(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?C_(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Ft(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Ft(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Ft(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Sn.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};function iP(r){const e=Di(r);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function C_(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}function rP(r,e){return typeof e=="string"?[new Ze(r,e)]:(zt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Ze(r,t):t instanceof Si?new Ze(r,t.data):t))}class dc extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=x_}}dc.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function x_(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}class Gd extends Ue(dc){constructor(e,t,n,s){super(e,t,n,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Gd.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const E_=Symbol("rootName");class D_ extends Gd{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(E_)}set rootName(e){this._setCustomProperty(E_,e)}set _name(e){this.name=e}}D_.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class So{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new M("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new M("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=oe._createAt(e.startPosition):this._position=oe._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(n instanceof Ze){if(e.isAtEnd)return this._position=oe._createAfter(n),this._next();s=n.data[e.offset]}else s=n.getChild(e.offset);if(s instanceof Sn){if(!this.shallow)e=new oe(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof Ze){if(this.singleCharacters)return e=new oe(s,0),this._position=e,this._next();let c=s.data.length,d;return s==this._boundaryEndParent?(c=this.boundaries.end.offset,d=new Si(s,0,c),e=oe._createAfter(d)):(d=new Si(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;this.singleCharacters?c=1:c=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const d=new Si(n,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=oe._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(n instanceof Ze){if(e.isAtStart)return this._position=oe._createBefore(n),this._previous();s=n.data[e.offset-1]}else s=n.getChild(e.offset-1);if(s instanceof Sn)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new oe(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof Ze){if(this.singleCharacters)return e=new oe(s,s.data.length),this._position=e,this._previous();let c=s.data.length,d;if(s==this._boundaryStartParent){const h=this.boundaries.start.offset;d=new Si(s,h,s.data.length-h),c=d.data.length,e=oe._createBefore(d)}else d=new Si(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",d,t,e,c)}if(typeof s=="string"){let c;if(this.singleCharacters)c=1;else{const h=n===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-h}e.offset-=c;const d=new Si(n,e.offset,c);return this._position=e,this._formatReturnValue("text",d,t,e,c)}return e=oe._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,s,c){return t instanceof Si&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=oe._createAfter(t.textNode),this._position=s):n=oe._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=oe._createBefore(t.textNode),this._position=s):n=oe._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:s,length:c}}}}class oe extends xo{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Gd);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=oe._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new So(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const s=vt(t,n);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<n[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new So(e)}clone(){return new oe(this.parent,this.offset)}static _createAt(e,t){if(e instanceof oe)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new M("view-createpositionat-offset-required",n)}return new oe(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new oe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new M("view-position-after-root",e,{root:e});return new oe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new oe(e.textNode,e.offsetInText);if(!e.parent)throw new M("view-position-before-root",e,{root:e});return new oe(e.parent,e.index)}}oe.prototype.is=function(r){return r==="position"||r==="view:position"};class ve extends xo{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new So({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Yd,{direction:"backward"}),t=this.end.getLastMatchingPosition(Yd);return e.parent.is("$text")&&e.isAtStart&&(e=oe._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=oe._createAfter(t.parent)),new ve(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Yd);if(e.isAfter(this.end)||e.isEqual(this.end))return new ve(e,e);let t=this.end.getLastMatchingPosition(Yd,{direction:"backward"});const n=e.nodeAfter,s=t.nodeBefore;return n&&n.is("$text")&&(e=new oe(n,0)),s&&s.is("$text")&&(t=new oe(s,s.data.length)),new ve(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ve(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ve(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new ve(t,n)}return null}getWalker(e={}){return e.boundaries=this,new So(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ve(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new So(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new So(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,s){return new this(new oe(e,t),new oe(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(oe._createBefore(e),t)}}ve.prototype.is=function(r){return r==="range"||r==="view:range"};function Yd(r){return!!(r.item.is("attributeElement")||r.item.is("uiElement"))}class ai extends Me(xo){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=ri(this.getRanges()),n=ri(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let c=!1;for(let d of e.getRanges())if(d=d.getTrimmed(),s.start.isEqual(d.start)&&s.end.isEqual(d.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof ai||t instanceof bp)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ve)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof oe)this._setRanges([new ve(t)]),this._setFakeOptions(s);else if(t instanceof Eo){const c=!!s&&!!s.backward;let d;if(n===void 0)throw new M("view-selection-setto-required-second-parameter",this);n=="in"?d=ve._createIn(t):n=="on"?d=ve._createOn(t):d=new ve(oe._createAt(t,n)),this._setRanges([d],c),this._setFakeOptions(s)}else if(zt(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new M("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const n=oe._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),n.compareWith(s)=="before"?this._addRange(new ve(n,s),!0):this._addRange(new ve(s,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ve))throw new M("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new M("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ve(e.start,e.end))}}ai.prototype.is=function(r){return r==="selection"||r==="view:selection"};class bp extends Me(xo){constructor(...e){super(),this._selection=new ai,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}bp.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class xs extends ae{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const wp=Symbol("bubbling contexts");function vp(r){class e extends r{fire(n,...s){try{const c=n instanceof ae?n:new ae(this,n),d=_p(this);if(!d.size)return;if(uc(c,"capturing",this),Es(d,"$capture",c,...s))return c.return;const h=c.startRange||this.selection.getFirstRange(),p=h?h.getContainedElement():null,w=p?!!S_(d,p):!1;let _=p||oP(h);if(uc(c,"atTarget",_),!w){if(Es(d,"$text",c,...s))return c.return;uc(c,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(Es(d,"$root",c,...s))return c.return}else if(_.is("element")&&Es(d,_.name,c,...s))return c.return;if(Es(d,_,c,...s))return c.return;_=_.parent,uc(c,"bubbling",_)}return uc(c,"bubbling",this),Es(d,"$document",c,...s),c.return}catch(c){M.rethrowUnexpectedError(c,this)}}_addEventListener(n,s,c){const d=Ft(c.context||"$document"),h=_p(this);for(const p of d){let w=h.get(p);w||(w=new(Me()),h.set(p,w)),this.listenTo(w,n,s,c)}}_removeEventListener(n,s){const c=_p(this);for(const d of c.values())this.stopListening(d,n,s)}}return e}{const r=vp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{vp[e]=r.prototype[e]})}function uc(r,e,t){r instanceof xs&&(r._eventPhase=e,r._currentTarget=t)}function Es(r,e,t,...n){const s=typeof e=="string"?r.get(e):S_(r,e);return s?(s.fire(t,...n),t.stop.called):!1}function S_(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function _p(r){return r[wp]||(r[wp]=new Map),r[wp]}function oP(r){if(!r)return null;const e=r.start.parent,t=r.end.parent,n=e.getPath(),s=t.getPath();return n.length>s.length?e:t}class Zd extends vp(Ue()){constructor(e){super(),this._postFixers=new Set,this.selection=new bp,this.roots=new $n({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}const T_=10;class To extends Sn{constructor(e,t,n,s){super(e,t,n,s),this._priority=T_,this._id=null,this._clonesGroup=null,this.getFillerOffset=sP}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}To.DEFAULT_PRIORITY=T_,To.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function sP(){if(yp(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(yp(r)>1)return null;r=r.parent}return!r||yp(r)>1?null:this.childCount}function yp(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}class Ap extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=aP}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new M("view-emptyelement-cannot-add",[this,t]);return 0}}Ap.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function aP(){return null}class Kd extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=lP}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new M("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}Kd.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function cP(r){r.document.on("arrowKey",(e,t)=>dP(e,t,r.domConverter),{priority:"low"})}function lP(){return null}function dP(r,e,t){if(e.keyCode==Pe.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),s=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(s||e.shiftKey){const c=n.focusNode,d=n.focusOffset,h=t.domPositionToView(c,d);if(h===null)return;let p=!1;const w=h.getLastMatchingPosition(_=>(_.item.is("uiElement")&&(p=!0),!!(_.item.is("uiElement")||_.item.is("attributeElement"))));if(p){const _=t.viewPositionToDom(w);s?n.collapse(_.parent,_.offset):n.extend(_.parent,_.offset)}}}}class Cp extends Sn{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=uP}_insertChild(e,t){if(t&&(t instanceof Eo||Array.from(t).length>0))throw new M("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}Cp.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};function uP(){return null}class Io extends Me(xo){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=hP(this.document,t);for(const c of s)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Io.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};function hP(r,e){return typeof e=="string"?[new Ze(r,e)]:(zt(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Ze(r,t):t instanceof Si?new Ze(r,t.data):t))}class I_{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Io(this.document,e)}createText(e){return new Ze(this.document,e)}createAttributeElement(e,t,n={}){const s=new To(this.document,e,t);return typeof n.priority=="number"&&(s._priority=n.priority),n.id&&(s._id=n.id),n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createContainerElement(e,t,n={},s={}){let c=null;Xt(n)?s=n:c=n;const d=new dc(this.document,e,t,c);return s.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),d}createEditableElement(e,t,n={}){const s=new Gd(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createEmptyElement(e,t,n={}){const s=new Ap(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createUIElement(e,t,n){const s=new Kd(this.document,e,t);return n&&(s.render=n),s}createRawElement(e,t,n,s={}){const c=new Cp(this.document,e,t);return n&&(c.render=n),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Xt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof oe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!t.parent)throw new M("view-writer-break-root",this.document);if(e.isAtStart)return oe._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(oe._createAfter(t),n);const s=new ve(e,oe._createAt(t,"end")),c=new oe(n,0);this.move(s,c)}return oe._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const d=n.parent,h=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new oe(d,h))}const s=n.getChild(t-1),c=n.getChild(t);if(!s||!c)return e;if(s.is("$text")&&c.is("$text"))return N_(s,c);if(s.is("attributeElement")&&c.is("attributeElement")&&s.isSimilar(c)){const d=s.childCount;return s._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new oe(s,d))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new M("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),c=s instanceof Ze?oe._createAt(s,"end"):oe._createAt(t,"end");return this.move(ve._createIn(n),oe._createAt(t,"end")),this.remove(ve._createOn(n)),c}insert(e,t){t=zt(t)?[...t]:[t],O_(t,this.document);const n=t.reduce((d,h)=>{const p=d[d.length-1],w=!h.is("uiElement");return!p||p.breakAttributes!=w?d.push({breakAttributes:w,nodes:[h]}):p.nodes.push(h),d},[]);let s=null,c=e;for(const{nodes:d,breakAttributes:h}of n){const p=this._insertNodes(c,d,h);s||(s=p.start),c=p.end}return s?new ve(s,c):new ve(e)}remove(e){const t=e instanceof ve?e:ve._createOn(e);if(hc(t,this.document),t.isCollapsed)return new Io(this.document);const{start:n,end:s}=this._breakAttributesRange(t,!0),c=n.parent,d=s.offset-n.offset,h=c._removeChildren(n.offset,d);for(const w of h)this._removeFromClonedElementsGroup(w);const p=this.mergeAttributes(n);return t.start=p,t.end=p.clone(),new Io(this.document,h)}clear(e,t){hc(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of n){const c=s.item;let d;if(c.is("element")&&t.isSimilar(c))d=ve._createOn(c);else if(!s.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const h=c.getAncestors().find(p=>p.is("element")&&t.isSimilar(p));h&&(d=ve._createIn(h))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,c=s.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=s.childCount-c}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof To))throw new M("view-writer-wrap-invalid-attribute",this.document);if(hc(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!fP(n.parent)&&(n=n.getLastMatchingPosition(c=>c.item.is("uiElement"))),n=this._wrapPosition(n,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new ve(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof To))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(hc(e,this.document),e.isCollapsed)return e;const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._unwrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new ve(h,p)}rename(e,t){const n=new dc(this.document,e,t.getAttributes());return this.insert(oe._createAfter(t),n),this.move(ve._createIn(t),oe._createAt(n,0)),this.remove(ve._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return oe._createAt(e,t)}createPositionAfter(e){return oe._createAfter(e)}createPositionBefore(e){return oe._createBefore(e)}createRange(e,t){return new ve(e,t)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new ai(...e)}createSlot(e="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let s;if(n?s=xp(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new M("view-writer-invalid-position-container",this.document);let c;n?c=this._breakAttributes(e,!0):c=e.parent.is("$text")?Ep(e):e;const d=s._insertChild(c.offset,t);for(const _ of t)this._addToClonedElementsGroup(_);const h=c.getShiftedBy(d),p=this.mergeAttributes(c);p.isEqual(c)||h.offset--;const w=this.mergeAttributes(h);return new ve(p,w)}_wrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const p=e.getChild(c),w=p.is("$text"),_=p.is("attributeElement");if(_&&this._wrapAttributeElement(s,p))d.push(new oe(e,c));else if(w||!_||gP(s,p)){const C=s._clone();p._remove(),C._appendChild(p),e._insertChild(c,C),this._addToClonedElementsGroup(C),d.push(new oe(e,c))}else this._wrapChildren(p,0,p.childCount,s);c++}let h=0;for(const p of d){if(p.offset-=h,p.offset==t)continue;this.mergeAttributes(p).isEqual(p)||(h++,n--)}return ve._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,s){let c=t;const d=[];for(;c<n;){const p=e.getChild(c);if(!p.is("attributeElement")){c++;continue}if(p.isSimilar(s)){const w=p.getChildren(),_=p.childCount;p._remove(),e._insertChild(c,w),this._removeFromClonedElementsGroup(p),d.push(new oe(e,c),new oe(e,c+_)),c+=_,n+=_-1;continue}if(this._unwrapAttributeElement(s,p)){d.push(new oe(e,c),new oe(e,c+1)),c++;continue}this._unwrapChildren(p,0,p.childCount,s),c++}let h=0;for(const p of d){if(p.offset-=h,p.offset==t||p.offset==n)continue;this.mergeAttributes(p).isEqual(p)||(h++,n--)}return ve._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:s}=this._breakAttributesRange(e,!0),c=n.parent,d=this._wrapChildren(c,n.offset,s.offset,t),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const p=this.mergeAttributes(d.end);return new ve(h,p)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return M_(e.clone());e.parent.is("$text")&&(e=Ep(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const s=new ve(e,e.getShiftedBy(1));this.wrap(s,t);const c=new oe(n.parent,n.index);n._remove();const d=c.nodeBefore,h=c.nodeAfter;return d instanceof Ze&&h instanceof Ze?N_(d,h):M_(c)}_wrapAttributeElement(e,t){if(!P_(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!P_(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,s=e.end;if(hc(e,this.document),e.isCollapsed){const p=this._breakAttributes(e.start,t);return new ve(p,p)}const c=this._breakAttributes(s,t),d=c.parent.childCount,h=this._breakAttributes(n,t);return c.offset+=c.parent.childCount-d,new ve(h,c)}_breakAttributes(e,t=!1){const n=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Dp(s.parent)||Dp(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Ep(e),t);const c=s.childCount;if(n==c){const d=new oe(s.parent,s.index+1);return this._breakAttributes(d,t)}else if(n===0){const d=new oe(s.parent,s.index);return this._breakAttributes(d,t)}else{const d=s.index+1,h=s._clone();s.parent._insertChild(d,h),this._addToClonedElementsGroup(h);const p=s.childCount-n,w=s._removeChildren(n,p);h._appendChild(w);const _=new oe(s.parent,d);return this._breakAttributes(_,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function fP(r){return Array.from(r.getChildren()).some(e=>!e.is("uiElement"))}function xp(r){let e=r.parent;for(;!Dp(e);){if(!e)return;e=e.parent}return e}function gP(r,e){return r.priority<e.priority?!0:r.priority>e.priority?!1:r.getIdentity()<e.getIdentity()}function M_(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new oe(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new oe(t,0):r}function Ep(r){if(r.offset==r.parent.data.length)return new oe(r.parent.parent,r.parent.index+1);if(r.offset===0)return new oe(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new Ze(r.root.document,e)),new oe(r.parent.parent,r.parent.index+1)}function N_(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new oe(r,t)}const pP=[Ze,To,dc,Ap,Cp,Kd];function O_(r,e){for(const t of r){if(!pP.some(n=>t instanceof n))throw new M("view-writer-insert-invalid-node-type",e);t.is("$text")||O_(t.getChildren(),e)}}function Dp(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function hc(r,e){const t=xp(r.start),n=xp(r.end);if(!t||!n||t!==n)throw new M("view-writer-invalid-range-container",e)}function P_(r,e){return r.id===null&&e.id===null}const B_=r=>r.createTextNode(" "),z_=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},L_=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},ci=7,fc="⁠".repeat(ci);function Tn(r){return typeof r=="string"?r.substr(0,ci)===fc:St(r)&&r.data.substr(0,ci)===fc}function gc(r){return r.data.length==ci&&Tn(r)}function j_(r){const e=typeof r=="string"?r:r.data;return Tn(r)?e.slice(ci):e}function mP(r){r.document.on("arrowKey",kP,{priority:"low"})}function kP(r,e){if(e.keyCode==Pe.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Tn(n)&&s<=ci&&t.collapse(n,0)}}}var R_=a(5037),Sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sp.insert="head",Sp.singleton=!0,ge()(R_.Z,Sp),R_.Z.locals;class bP extends Ue(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),m.isBlink&&!m.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new M("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!m.isAndroid)return;let e=null;const t=m.isBlink&&!m.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=oe._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),s=n.parent.ownerDocument;Tn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=F_(s,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),c=this._diffNodeLists(n,s),d=this._findUpdateActions(c,n,s,vP);if(d.indexOf("update")!==-1){const h={equal:0,insert:0,delete:0};for(const p of d)if(p==="update"){const w=h.equal+h.insert,_=h.equal+h.delete,C=e.getChild(w);C&&!(C.is("uiElement")||C.is("rawElement"))&&this._updateElementMappings(C,n[_]),qv(s[w]),h.equal++}else h[p]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?oe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&St(t.parent)&&Tn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Tn(e))throw new M("view-renderer-filler-was-lost",this);gc(e)?e.remove():e.data=e.data.substr(ci),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!wP(t)||n===t.getFillerOffset())return!1;const s=e.nodeBefore,c=e.nodeAfter;return!(s instanceof Ze||c instanceof Ze||m.isAndroid&&(s||c))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let c=this.domConverter.viewToDom(e).data;const d=t.inlineFillerPosition;d&&d.parent==e.parent&&d.offset==e.index&&(c=fc+c),V_(n,c)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(c=>c.name),s=e.getAttributeKeys();for(const c of s)this.domConverter.setDomElementAttribute(t,c,e.getAttribute(c),e);for(const c of n)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(m.isAndroid){let C=null;for(const O of Array.from(n.childNodes)){if(C&&St(C)&&St(O)){n.normalize();break}C=O}}const s=t.inlineFillerPosition,c=n.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&F_(n.ownerDocument,d,s.offset);const h=this._diffNodeLists(c,d),p=this._findUpdateActions(h,c,d,_P);let w=0;const _=new Set;for(const C of p)C==="delete"?(_.add(c[w]),qv(c[w])):(C==="equal"||C==="update")&&w++;w=0;for(const C of p)C==="insert"?(Hv(n,w,d[w]),w++):C==="update"?(V_(c[w],d[w].data),w++):C==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[w])),w++);for(const C of _)C.parentNode||this.domConverter.unbindDomElement(C)}_diffNodeLists(e,t){return e=CP(e,this._fakeSelectionContainer),K(e,t,yP.bind(null,this.domConverter))}_findUpdateActions(e,t,n,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],d=[],h=[];const p={equal:0,insert:0,delete:0};for(const w of e)w==="insert"?h.push(n[p.equal+p.insert]):w==="delete"?d.push(t[p.equal+p.delete]):(c=c.concat(K(d,h,s).map(_=>_==="equal"?"update":_)),c.push("equal"),d=[],h=[]),p[w]++;return c.concat(K(d,h,s).map(w=>w==="equal"?"update":w))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(m.isBlink&&!m.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&m.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=xP(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const s=t.getSelection(),c=t.createRange();s.removeAllRanges(),c.selectNodeContents(n),s.addRange(c)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,s.parent,s.offset),m.isGecko&&AP(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,s=this.domConverter.mapDomToView(n);n&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function wP(r){if(r.getAttribute("contenteditable")=="false")return!1;const e=r.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function F_(r,e,t){const n=e instanceof Array?e:e.childNodes,s=n[t];if(St(s))return s.data=fc+s.data,s;{const c=r.createTextNode(fc);return Array.isArray(e)?n.splice(t,0,c):Hv(e,t,c),c}}function vP(r,e){return Tr(r)&&Tr(e)&&!St(r)&&!St(e)&&!cc(r)&&!cc(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function _P(r,e){return Tr(r)&&Tr(e)&&St(r)&&St(e)}function yP(r,e,t){return e===t?!0:St(e)&&St(t)?e.data===t.data:!!(r.isBlockFiller(e)&&r.isBlockFiller(t))}function AP(r,e){const t=r.parent;if(t.nodeType!=Node.ELEMENT_NODE||r.offset!=t.childNodes.length-1)return;const n=t.childNodes[r.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function CP(r,e){const t=Array.from(r);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function xP(r){const e=r.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function V_(r,e){const t=r.data;if(t==e)return;const n=B(t,e);for(const s of n)s.type==="insert"?r.insertData(s.index,s.values.join("")):r.deleteData(s.index,s.howMany)}const EP=L_(be.document),DP=B_(be.document),SP=z_(be.document),Qd="data-ck-unsafe-attribute-",U_="data-ck-unsafe-element";class Jd{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Wn,this._inlineObjectElementMatcher=new Wn,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?be.document:be.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new ai(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),s=n.createDocumentFragment(),c=n.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);const d=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),h=[];let p;for(;p=d.nextNode();)h.push(p);for(const w of h){for(const C of w.getAttributeNames())this.setDomElementAttribute(w,C,w.getAttribute(C));const _=w.tagName.toLowerCase();this._shouldRenameElement(_)&&(W_(_),w.replaceWith(this._createReplacementDomElement(_,w)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return e.name==="$comment"?n=this._domDocument.createComment(e.getCustomProperty("$rawContent")):n=e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(W_(e.name),n=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):n=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(n,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))n.appendChild(s);return n}}setDomElementAttribute(e,t,n,s){const c=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(c||J("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),!q3(t)){J("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n});return}e.hasAttribute(t)&&!c?e.removeAttribute(t):e.hasAttribute(Qd+t)&&c&&e.removeAttribute(Qd+t),e.setAttribute(c?t:Qd+t,n)}removeDomElementAttribute(e,t){t!=U_&&(e.removeAttribute(t),e.removeAttribute(Qd+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const c of e.getChildren()){n===s&&(yield this._getBlockFiller());const d=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!Vt(c.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,t):(d&&J("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,t)),s++}n===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(n.parent,n.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let s=e.offset;return Tn(n)&&(s+=ci),{parent:n,offset:s}}else{let n,s,c;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;c=n.childNodes[0]}else{const h=e.nodeBefore;if(s=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!s)return null;n=s.parentNode,c=s.nextSibling}if(St(c)&&Tn(c))return{parent:c,offset:ci};const d=s?Hd(s)+1:0;return{parent:n,offset:d}}}domToView(e,t={}){const n=[],s=this._domToView(e,t,n),c=s.next().value;return!c||(s.next(),this._processDomInlineNodes(null,n,t),c.is("$text")&&c.data.length==0)?null:c}*domChildrenToView(e,t={},n=[]){for(let s=0;s<e.childNodes.length;s++){const c=e.childNodes[s],d=this._domToView(c,t,n),h=d.next().value;h!==null&&(this._isBlockViewElement(h)&&this._processDomInlineNodes(e,n,t),yield h,d.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(MP(e))return new ai([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;St(s)&&(s=s.parentNode);const c=this.fakeSelectionToView(s);if(c)return c}const t=this.isDomSelectionBackward(e),n=[];for(let s=0;s<e.rangeCount;s++){const c=e.getRangeAt(s),d=this.domRangeToView(c);d&&n.push(d)}return new ai(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new ve(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Hd(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return oe._createBefore(n);if(St(e)){if(gc(e))return this.domPositionToView(e.parentNode,Hd(e));const s=this.findCorrespondingViewText(e);let c=t;return s?(Tn(e)&&(c-=ci,c=c<0?0:c),new oe(s,c)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new oe(s,0)}else{const s=e.childNodes[t-1];if(St(s)&&gc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Hd(s));const c=St(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(c&&c.parent)return new oe(c.parent,c.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(gc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const s=this.mapDomToView(n);if(s){const c=s.nextSibling;return c instanceof Ze?c:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const c=s.getChild(0);return c instanceof Ze?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:s}=be.window,c=[];H_(t,d=>{const{scrollLeft:h,scrollTop:p}=d;c.push([h,p])}),t.focus(),H_(t,d=>{const[h,p]=c.shift();d.scrollLeft=h,d.scrollTop=p}),be.window.scrollTo(n,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(EP):e.tagName==="BR"&&$_(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(SP)||IP(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=U3(e);for(t.pop();t.length;){const n=t.pop(),s=this._domToViewMapping.get(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return B_(this._domDocument);case"markedNbsp":return z_(this._domDocument);case"br":return L_(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(St(e)&&Tn(e)&&t<ci||this.isElement(e)&&Tn(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(cc(e)&&t.skipComments)return null;if(St(e)){if(gc(e))return null;{const c=e.data;if(c==="")return null;const d=new Ze(this.document,c);return n.push(d),d}}else{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&n.push(c),c;if(this.isDocumentFragment(e))c=new Io(this.document),t.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,t),t.bind&&this.bindElements(e,c);const h=e.attributes;if(h)for(let p=h.length,w=0;w<p;w++)c._setAttribute(h[w].name,h[w].value);if(this._isViewElementWithRawContent(c,t))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||n.push(c),c;if(cc(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const d=[];if(t.withChildren!==!1)for(const h of this.domChildrenToView(e,t,d))c._appendChild(h);if(this._isInlineObjectElement(c))n.push(c);else for(const h of d)n.push(h)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let c=0;c<t.length;c++){const d=t[c];if(!d.is("$text")){s=!1;continue}let h,p=!1;if(TP(d,this.preElements))h=j_(d.data);else{h=d.data.replace(/[ \n\t\r]{1,}/g," "),p=/[^\S\u00A0]/.test(h.charAt(h.length-1));const w=c>0?t[c-1]:null,_=c+1<t.length?t[c+1]:null,C=!w||w.is("element")&&w.name=="br"||s,O=_?!1:!Tn(d.data);n.withChildren!==!1&&(C&&(h=h.replace(/^ /,"")),O&&(h=h.replace(/ $/,""))),h=j_(h),h=h.replace(/ \u00A0/g,"  ");const z=_&&_.is("element")&&_.name!="br",U=_&&_.is("$text")&&_.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(h)||!_||z||U)&&(h=h.replace(/\u00A0$/," ")),(C||w&&w.is("element")&&w.name!="br")&&(h=h.replace(/^\u00A0/," "))}h.length==0&&d.parent?(d._remove(),t.splice(c,1),c--):(d._data=h,s=p)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),s=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||s)&&(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new So({startPosition:t?oe._createAfter(e):oe._createBefore(e),direction:t?"forward":"backward"});for(const s of n){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(cc(e))return new Kd(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Sn(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(U_,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const s of t.getAttributeNames())n.setAttribute(s,t.getAttribute(s))}return n}}function TP(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function H_(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function IP(r,e){return r.isEqualNode(DP)&&$_(r,e)&&r.parentNode.childNodes.length===1}function $_(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function W_(r){r==="script"&&J("domconverter-unsafe-script-element-detected"),r==="style"&&J("domconverter-unsafe-style-element-detected")}function MP(r){if(!m.isGecko||!r.rangeCount)return!1;const e=r.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Ti extends Dn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var NP=y_(function(r,e){ue(e,As(e),r)});const q_=NP;class Ds{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,q_(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Mo extends Ti{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(s,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Ds(this.view,t,n))}}class OP extends Mo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Cs(this)}};this.fire(e.type,e,t)}}var PP=function(){return Cn.Date.now()};const Tp=PP;var BP=/\s/;function zP(r){for(var e=r.length;e--&&BP.test(r.charAt(e)););return e}const LP=zP;var jP=/^\s+/;function RP(r){return r&&r.slice(0,LP(r)+1).replace(jP,"")}const FP=RP;var G_=0/0,VP=/^[-+]0x[0-9a-f]+$/i,UP=/^0b[01]+$/i,HP=/^0o[0-7]+$/i,$P=parseInt;function WP(r){if(typeof r=="number")return r;if(Wd(r))return G_;if(tt(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=tt(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=FP(r);var t=UP.test(r);return t||HP.test(r)?$P(r.slice(2),t?2:8):VP.test(r)?G_:+r}const Y_=WP;var qP="Expected a function",GP=Math.max,YP=Math.min;function ZP(r,e,t){var n,s,c,d,h,p,w=0,_=!1,C=!1,O=!0;if(typeof r!="function")throw new TypeError(qP);e=Y_(e)||0,tt(t)&&(_=!!t.leading,C="maxWait"in t,c=C?GP(Y_(t.maxWait)||0,e):c,O="trailing"in t?!!t.trailing:O);function z(pe){var De=n,me=s;return n=s=void 0,w=pe,d=r.apply(me,De),d}function U(pe){return w=pe,h=setTimeout(we,e),_?z(pe):d}function ne(pe){var De=pe-p,me=pe-w,lt=e-De;return C?YP(lt,c-me):lt}function he(pe){var De=pe-p,me=pe-w;return p===void 0||De>=e||De<0||C&&me>=c}function we(){var pe=Tp();if(he(pe))return He(pe);h=setTimeout(we,ne(pe))}function He(pe){return h=void 0,O&&n?z(pe):(n=s=void 0,d)}function rt(){h!==void 0&&clearTimeout(h),w=0,n=p=s=h=void 0}function mt(){return h===void 0?d:He(Tp())}function yt(){var pe=Tp(),De=he(pe);if(n=arguments,s=this,p=pe,De){if(h===void 0)return U(p);if(C)return clearTimeout(h),h=setTimeout(we,e),z(p)}return h===void 0&&(h=setTimeout(we,e)),d}return yt.cancel=rt,yt.flush=mt,yt}const pc=ZP;class KP extends Ti{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=pc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new ai(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Pe.arrowleft||e==Pe.arrowup)&&n.setTo(n.getFirstPosition()),(e==Pe.arrowright||e==Pe.arrowdown)&&n.setTo(n.getLastPosition());const s={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}var QP="__lodash_hash_undefined__";function JP(r){return this.__data__.set(r,QP),this}const XP=JP;function eB(r){return this.__data__.has(r)}const tB=eB;function Xd(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new _s;++e<t;)this.add(r[e])}Xd.prototype.add=Xd.prototype.push=XP,Xd.prototype.has=tB;const nB=Xd;function iB(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}const rB=iB;function oB(r,e){return r.has(e)}const sB=oB;var aB=1,cB=2;function lB(r,e,t,n,s,c){var d=t&aB,h=r.length,p=e.length;if(h!=p&&!(d&&p>h))return!1;var w=c.get(r),_=c.get(e);if(w&&_)return w==e&&_==r;var C=-1,O=!0,z=t&cB?new nB:void 0;for(c.set(r,e),c.set(e,r);++C<h;){var U=r[C],ne=e[C];if(n)var he=d?n(ne,U,C,e,r,c):n(U,ne,C,r,e,c);if(he!==void 0){if(he)continue;O=!1;break}if(z){if(!rB(e,function(we,He){if(!sB(z,He)&&(U===we||s(U,we,t,n,c)))return z.push(He)})){O=!1;break}}else if(!(U===ne||s(U,ne,t,n,c))){O=!1;break}}return c.delete(r),c.delete(e),O}const Z_=lB;function dB(r){var e=-1,t=Array(r.size);return r.forEach(function(n,s){t[++e]=[s,n]}),t}const uB=dB;function hB(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}const fB=hB;var gB=1,pB=2,mB="[object Boolean]",kB="[object Date]",bB="[object Error]",wB="[object Map]",vB="[object Number]",_B="[object RegExp]",yB="[object Set]",AB="[object String]",CB="[object Symbol]",xB="[object ArrayBuffer]",EB="[object DataView]",K_=Vn?Vn.prototype:void 0,Ip=K_?K_.valueOf:void 0;function DB(r,e,t,n,s,c,d){switch(t){case EB:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case xB:return!(r.byteLength!=e.byteLength||!c(new jd(r),new jd(e)));case mB:case kB:case vB:return vr(+r,+e);case bB:return r.name==e.name&&r.message==e.message;case _B:case AB:return r==e+"";case wB:var h=uB;case yB:var p=n&gB;if(h||(h=fB),r.size!=e.size&&!p)return!1;var w=d.get(r);if(w)return w==e;n|=pB,d.set(r,e);var _=Z_(h(r),h(e),n,s,c,d);return d.delete(r),_;case CB:if(Ip)return Ip.call(r)==Ip.call(e)}return!1}const SB=DB;var TB=1,IB=Object.prototype,MB=IB.hasOwnProperty;function NB(r,e,t,n,s,c){var d=t&TB,h=qg(r),p=h.length,w=qg(e),_=w.length;if(p!=_&&!d)return!1;for(var C=p;C--;){var O=h[C];if(!(d?O in e:MB.call(e,O)))return!1}var z=c.get(r),U=c.get(e);if(z&&U)return z==e&&U==r;var ne=!0;c.set(r,e),c.set(e,r);for(var he=d;++C<p;){O=h[C];var we=r[O],He=e[O];if(n)var rt=d?n(He,we,O,e,r,c):n(we,He,O,r,e,c);if(!(rt===void 0?we===He||s(we,He,t,n,c):rt)){ne=!1;break}he||(he=O=="constructor")}if(ne&&!he){var mt=r.constructor,yt=e.constructor;mt!=yt&&"constructor"in r&&"constructor"in e&&!(typeof mt=="function"&&mt instanceof mt&&typeof yt=="function"&&yt instanceof yt)&&(ne=!1)}return c.delete(r),c.delete(e),ne}const OB=NB;var PB=1,Q_="[object Arguments]",J_="[object Array]",eu="[object Object]",BB=Object.prototype,X_=BB.hasOwnProperty;function zB(r,e,t,n,s,c){var d=Rt(r),h=Rt(e),p=d?J_:sc(r),w=h?J_:sc(e);p=p==Q_?eu:p,w=w==Q_?eu:w;var _=p==eu,C=w==eu,O=p==w;if(O&&rc(r)){if(!rc(e))return!1;d=!0,_=!1}if(O&&!_)return c||(c=new Er),d||Ug(r)?Z_(r,e,t,n,s,c):SB(r,e,p,t,n,s,c);if(!(t&PB)){var z=_&&X_.call(r,"__wrapped__"),U=C&&X_.call(e,"__wrapped__");if(z||U){var ne=z?r.value():r,he=U?e.value():e;return c||(c=new Er),s(ne,he,t,n,c)}}return O?(c||(c=new Er),OB(r,e,t,n,s,c)):!1}const LB=zB;function ey(r,e,t,n,s){return r===e?!0:r==null||e==null||!cn(r)&&!cn(e)?r!==r&&e!==e:LB(r,e,t,n,ey,s)}const ty=ey;function jB(r,e,t){t=typeof t=="function"?t:void 0;var n=t?t(r,e):void 0;return n===void 0?ty(r,e,void 0,t):!!n}const RB=jB;class ny extends Ti{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,s=new Set;for(const d of e){const h=t.mapDomToView(d.target);h&&(h.is("uiElement")||h.is("rawElement")||d.type==="childList"&&!this._isBogusBrMutation(d)&&s.add(h))}for(const d of e){const h=t.mapDomToView(d.target);if(!(h&&(h.is("uiElement")||h.is("rawElement")))&&d.type==="characterData"){const p=t.findCorrespondingViewText(d.target);p&&!s.has(p.parent)?n.add(p):!p&&Tn(d.target)&&s.add(t.mapDomToView(d.target.parentNode))}}let c=!1;for(const d of n)c=!0,this.renderer.markToSync("text",d);for(const d of s){const h=t.mapViewToDom(d),p=Array.from(d.getChildren()),w=Array.from(t.domChildrenToView(h,{withChildren:!1}));RB(p,w,FB)||(c=!0,this.renderer.markToSync("children",d))}c&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function FB(r,e){if(!Array.isArray(r))return r===e?!0:r.is("$text")&&e.is("$text")?r.data===e.data:!1}class tu extends Mo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,s)=>{const c=t.selection.editableElement;(c===null||c===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class VB extends Ti{constructor(e){super(e),this.mutationObserver=e.getObserver(ny),this.focusObserver=e.getObserver(tu),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=pc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=pc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(c,d)=>{this.document.isComposing&&!m.isAndroid||(this._handleSelectionChange(d,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class UB extends Mo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class iy{constructor(e,t={}){this._files=t.cacheFiles?ry(e):null,this._native=e}get files(){return this._files||(this._files=ry(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ry(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class HB extends Mo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,s=n.document;let c=null,d=null,h=[];if(e.dataTransfer&&(c=new iy(e.dataTransfer)),e.data!==null?d=e.data:c&&(d=c.getData("text/plain")),s.selection.isFake)h=Array.from(s.selection.getRanges());else if(t.length)h=t.map(p=>{const w=n.domConverter.domPositionToView(p.startContainer,p.startOffset),_=n.domConverter.domPositionToView(p.endContainer,p.endOffset);if(w)return n.createRange(w,_);if(_)return n.createRange(_)}).filter(p=>!!p);else if(m.isAndroid){const p=e.target.ownerDocument.defaultView.getSelection();h=Array.from(n.domConverter.domSelectionToView(p).getRanges())}if(m.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(h[0].end)]});return}if(e.inputType=="insertText"&&d&&d.includes(`
`)){const p=d.split(/\n{1,2}/g);let w=h;for(let _=0;_<p.length;_++){const C=p[_];C!=""&&(this.fire(e.type,e,{data:C,dataTransfer:c,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing}),w=[s.selection.getFirstRange()]),_+1<p.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:w}),w=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:d,dataTransfer:c,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing})}}class $B extends Ti{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&nN(n.keyCode)){const s=new xs(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class WB extends Ti{constructor(e){super(e);const t=this.document;t.on("keydown",(n,s)=>{if(!this.isEnabled||s.keyCode!=Pe.tab||s.ctrlKey)return;const c=new xs(t,"tab",t.selection.getFirstRange());t.fire(c,s),c.stop.called&&n.stop()})}observe(){}stopObserving(){}}var qB=1,GB=4;function YB(r){return Jg(r,qB|GB)}const Ir=YB;class ZB extends Ue(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Zd(e),this.domConverter=new Jd(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new bP(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new I_(this.document),this.addObserver(ny),this.addObserver(tu),this.addObserver(VB),this.addObserver(OP),this.addObserver(KP),this.addObserver(UB),this.addObserver($B),this.addObserver(HB),this.addObserver(WB),mP(this),cP(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),m.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const s={};for(const{name:d,value:h}of Array.from(e.attributes))s[d]=h,d==="class"?this._writer.addClass(h.split(" "),n):this._writer.setAttribute(d,h,n);this._initialDomRootAttributes.set(e,s);const c=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(d,h)=>this._renderer.markToSync("children",h)),n.on("change:attributes",(d,h)=>this._renderer.markToSync("attributes",h)),n.on("change:text",(d,h)=>this._renderer.markToSync("text",h)),n.on("change:isReadOnly",()=>this.change(c)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const n=this._initialDomRootAttributes.get(t);for(const s in n)t.setAttribute(s,n[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,s]of this.domRoots)t.observe(s,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:s=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const d=Ir({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:s});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const h={target:this.domConverter.viewRangeToDom(c),viewportOffset:n,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",h,d),Z3(h)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){M.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(tu).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return oe._createAt(e,t)}createPositionAfter(e){return oe._createAfter(e)}createPositionBefore(e){return oe._createBefore(e)}createRange(e,t){return new ve(e,t)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new ai(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Mr{is(){throw new Error("is() method is abstract")}}class No extends Mr{constructor(e){super(),this.parent=null,this._attrs=Di(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let c=0;for(;n[c]==s[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=vt(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Di(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}No.prototype.is=function(r){return r==="node"||r==="model:node"};class mc{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,s)=>n+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof No))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=pN(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Ke extends No{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ke(this.data,this.getAttributes())}static fromJSON(e){return new Ke(e.data,e.attributes)}}Ke.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class li extends Mr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}li.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class qe extends No{constructor(e,t,n){super(t),this._children=new mc,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new qe(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=KB(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(qe.fromJSON(n)):t.push(Ke.fromJSON(n))}return new qe(e.name,e.attributes,t)}}qe.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};function KB(r){return typeof r=="string"?[new Ke(r)]:(zt(r)||(r=[r]),Array.from(r).map(e=>typeof e=="string"?new Ke(e):e instanceof li?new Ke(e.data,e.getAttributes()):e))}class Ii{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new M("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new M("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=te._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,s,c;do s=this.position,c=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=s,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=kc(t,n),c=s||oy(t,n,s);if(c instanceof qe){if(!this.shallow)t.path.push(0),this._visitedParent=c;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Oo("elementStart",c,e,t,1)}if(c instanceof Ke){let d;if(this.singleCharacters)d=1;else{let w=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),d=w-t.offset}const h=t.offset-c.startOffset,p=new li(c,h,d);return t.offset+=d,this._position=t,Oo("text",p,e,t,d)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Oo("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,c=kc(t,s),d=c||sy(t,s,c);if(d instanceof qe)return t.offset--,this.shallow?(this._position=t,Oo("elementStart",d,e,t,1)):(t.path.push(d.maxOffset),this._position=t,this._visitedParent=d,this.ignoreElementEnd?this._previous():Oo("elementEnd",d,e,t));if(d instanceof Ke){let h;if(this.singleCharacters)h=1;else{let _=d.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>_&&(_=this.boundaries.start.offset),h=t.offset-_}const p=t.offset-d.startOffset,w=new li(d,p-h,h);return t.offset-=h,this._position=t,Oo("text",w,e,t,h)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Oo("elementStart",n,e,t,1)}}function Oo(r,e,t,n,s){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:s}}}class te extends Mr{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new M("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new M("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new M("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return kc(this,this.parent)}get nodeAfter(){const e=this.parent;return oy(this,e,kc(this,e))}get nodeBefore(){const e=this.parent;return sy(this,e,kc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=vt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Ii(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=vt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const s=this.path[n]-e.path[n];if(s<-1||s>1)return!1;if(s===1)return ay(e,this,n);if(s===-1)return ay(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Mp(this.path,t):Mp(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return vt(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=te._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let s;return n?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=te._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const n=te._createAt(this);if(this.root!=e.root)return n;if(vt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(vt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;n.path[s]-=t}}return n}_getTransformedByInsertion(e,t){const n=te._createAt(this);if(this.root!=e.root)return n;if(vt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(vt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(n.path[s]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return te._createAt(this);const s=this._getTransformedByDeletion(e,n);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,s=te._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[n]-e.offset,s.path=[...s.path,...this.path.slice(n+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof te)return new te(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,n);if(t=="after")return this._createAfter(s,n);if(t!==0&&!t)throw new M("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,e]);const c=s.getPath();return c.push(t),new this(s.root,c,n)}}static _createAfter(e,t){if(!e.parent)throw new M("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new M("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new te(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new M("model-position-fromjson-no-root",t,{rootName:e.root});return new te(t.getRoot(e.root),e.path,e.stickiness)}}te.prototype.is=function(r){return r==="position"||r==="model:position"};function kc(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function oy(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function sy(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function ay(r,e,t){return!(t+1===r.path.length||!Mp(e.path,t+1)||!QB(r,t+1))}function Mp(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}function QB(r,e){let t=r.parent,n=r.path.length-1,s=0;for(;n>=e;){if(r.path[n]+s!==t.maxOffset)return!1;s=1,n--,t=t.parent}return!0}class Y extends Mr{constructor(e,t){super(),this.start=te._createAt(e),this.end=t?te._createAt(t):te._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ii({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return vt(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}containsItem(e){const t=te._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Y(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Y(e.end,this.end))):t.push(new Y(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Y(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let s=this.start,c=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(c)&&(c=e.end),new Y(s,c)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=te._createAt(this.start);let s=n.parent;for(;n.path.length>t+1;){const c=s.maxOffset-n.offset;c!==0&&e.push(new Y(n,n.getShiftedBy(c))),n.path=n.path.slice(0,-1),n.offset++,s=s.parent}for(;n.path.length<=this.end.path.length;){const c=this.end.path[n.path.length-1],d=c-n.offset;d!==0&&e.push(new Y(n,n.getShiftedBy(d))),n.offset=c,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ii(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ii(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Ii(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Y(this.start,this.end)]}getTransformedByOperations(e){const t=[new Y(this.start,this.end)];for(const n of e)for(let s=0;s<t.length;s++){const c=t[s].getTransformedByOperation(n);t.splice(s,1,...c),s+=c.length-1}for(let n=0;n<t.length;n++){const s=t[n];for(let c=n+1;c<t.length;c++){const d=t[c];(s.containsRange(d)||d.containsRange(s)||s.isEqual(d))&&t.splice(c,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,s=e.howMany,c=e.targetPosition;return this._getTransformedByMove(n,c,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Y(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Y(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=te._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Y(t,n)):new Y(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Y(this.start,e),new Y(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new Y(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,n,s=!1){if(this.isCollapsed){const C=this.start._getTransformedByMove(e,t,n);return[new Y(C)]}const c=Y._createFromPositionAndShift(e,n),d=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!s&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const C=this.start._getTransformedByMove(e,t,n),O=this.end._getTransformedByMove(e,t,n);return[new Y(C,O)]}let h;const p=this.getDifference(c);let w=null;const _=this.getIntersection(c);if(p.length==1?w=new Y(p[0].start._getTransformedByDeletion(e,n),p[0].end._getTransformedByDeletion(e,n)):p.length==2&&(w=new Y(this.start,this.end._getTransformedByDeletion(e,n))),w?h=w._getTransformedByInsertion(d,n,_!==null||s):h=[],_){const C=new Y(_.start._getCombined(c.start,d),_.end._getCombined(c.start,d));h.length==2?h.splice(1,0,C):h.push(C)}return h}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return n==null&&s==null?null:(n==null&&(n=e),s==null&&(s=e),new Y(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return new this(te._createAt(e,0),te._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(te._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new M("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((c,d)=>c.start.isAfter(d.start)?1:-1);const n=e.indexOf(t),s=new this(t.start,t.end);if(n>0)for(let c=n-1;e[c].end.isEqual(s.start);c++)s.start=te._createAt(e[c].start);for(let c=n+1;c<e.length&&e[c].start.isEqual(s.end);c++)s.end=te._createAt(e[c].end);return s}static fromJSON(e,t){return new this(te.fromJSON(e.start,t),te.fromJSON(e.end,t))}}Y.prototype.is=function(r){return r==="range"||r==="model:range"};class cy extends Me(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(n),c=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=te._createAt(s,c)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Y(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ve(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const s of t)if(s.is("attributeElement"))for(const c of s.getElementsWithSameId())n.add(c);else n.add(s);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const c=this._toModelOffset(e.parent,e.index,n),d=this._toModelOffset(e,t,e);return c+d}if(e.is("$text"))return t;let s=0;for(let c=0;c<t;c++)s+=this.getModelLength(e.getChild(c));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,s=0,c=0,d=0;if(e.is("$text"))return new oe(e,t);for(;c<t;)n=e.getChild(d),s=this.getModelLength(n),c+=s,d++;return c==t?this._moveViewPositionToTextNode(new oe(e,d)):this.findPositionIn(n,t-(c-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Ze?new oe(t,t.data.length):n instanceof Ze?new oe(n,0):e}}class JB{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=nu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=nu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=nu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const s=n.get(t);return s===void 0?null:s}revert(e,t){t=nu(t),e instanceof li&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,s]of this._consumable)for(const[c,d]of s){const h=c.split(":")[0];d&&e==h&&t.push({event:c,item:n.name||n.description})}if(t.length)throw new M("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const s=n.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,s=e.parent,c=Symbol("$textProxy:"+e.data);let d,h;return d=this._textProxyRegistry.get(t),d||(d=new Map,this._textProxyRegistry.set(t,d)),h=d.get(n),h||(h=new Map,d.set(n,h)),h.set(s,c),c}}function nu(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}class ly extends Me(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const s=this._createConversionApi(n,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,s);const c=this._reduceChanges(e.getChanges());for(const d of c)d.type==="insert"?this._convertInsert(Y._createFromPositionAndShift(d.position,d.length),s):d.type==="reinsert"?this._convertReinsert(Y._createFromPositionAndShift(d.position,d.length),s):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,s):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,s);for(const d of s.mapper.flushUnboundMarkerNames()){const h=t.get(d).getRange();this._convertMarkerRemove(d,h,s),this._convertMarkerAdd(d,h,s)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,n,s={}){const c=this._createConversionApi(n,void 0,s);this._convertInsert(e,c);for(const[d,h]of t)this._convertMarkerAdd(d,h,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const s=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},s);const c=e.getFirstPosition().root;if(!s.mapper.toViewElement(c))return;const d=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,d),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const h of d)if(s.consumable.test(e,"addMarker:"+h.name)){const p=h.getRange();if(!XB(e.getFirstPosition(),h,s.mapper))continue;const w={item:e,markerName:h.name,markerRange:p};this.fire(`addMarker:${h.name}`,w,s)}for(const h of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+h)){const p={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.fire(`attribute:${h}:$text`,p,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(dy))this._testAndFire("insert",s,t)}_convertRemove(e,t,n,s){this.fire(`remove:${n}`,{position:e,length:t},s)}_convertAttribute(e,t,n,s,c){this._addConsumablesForRange(c.consumable,e,`attribute:${t}`);for(const d of e){const h={item:d.item,range:Y._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:t,attributeOldValue:n,attributeNewValue:s};this._testAndFire(`attribute:${t}`,h,c)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const s of n.map(dy))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(n.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,s)){this._addConsumablesForRange(n.consumable,t,s);for(const c of t.getItems()){if(!n.consumable.test(c,s))continue;const d={item:c,range:Y._createOn(c),markerName:e,markerRange:t};this.fire(s,d,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const s=n.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const c of s.getAttributeKeys())e.add(s,"attribute:"+c)}}return e}_addConsumablesForRange(e,t,n){for(const s of t.getItems())e.add(s,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const s of n)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,n){const s=ez(e,t),c=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,d=this._firedEventsMap.get(n),h=d.get(c);if(!h)d.set(c,new Set([s]));else if(!h.has(s))h.add(s);else return;this.fire(s,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Y._createOn(e)};for(const s of n.item.getAttributeKeys())n.attributeKey=s,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(s),this._testAndFire(`attribute:${s}`,n,t)}_createConversionApi(e,t=new Set,n={}){const s={...this._conversionApi,consumable:new JB,writer:e,options:n,convertItem:c=>this._convertInsert(Y._createOn(c),s),convertChildren:c=>this._convertInsert(Y._createIn(c),s,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,s),canReuseView:c=>!t.has(s.mapper.toModelElement(c))};return this._firedEventsMap.set(s,new Map),s}}function XB(r,e,t){const n=e.getRange(),s=Array.from(r.getAncestors());return s.shift(),s.reverse(),!s.some(d=>{if(n.containsItem(d))return!!t.toViewElement(d).getCustomProperty("addHighlight")})}function ez(r,e){const t=e.item.is("element")?e.item.name:"$text";return`${r}:${t}`}function dy(r){const e=r.item,t=Y._createFromPositionAndShift(r.previousPosition,r.length);return{item:e,range:t}}class In extends Me(Mr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Y(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new Y(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new Y(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof In)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Y)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof te)this._setRanges([new Y(t)]);else if(t instanceof No){const c=!!s&&!!s.backward;let d;if(n=="in")d=Y._createIn(t);else if(n=="on")d=Y._createOn(t);else if(n!==void 0)d=new Y(te._createAt(t,n));else throw new M("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([d],c)}else if(zt(t))this._setRanges(t,s&&!!s.backward);else throw new M("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),s=n.some(c=>{if(!(c instanceof Y))throw new M("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(c))});n.length===this._ranges.length&&!s||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,e]);const n=te._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(s)=="before"?(this._pushRange(new Y(n,s)),this._lastRangeBackward=!0):(this._pushRange(new Y(s,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=hy(t.start,e);nz(n,t)&&(yield n);for(const c of t.getWalker()){const d=c.item;c.type=="elementEnd"&&tz(d,e,t)&&(yield d)}const s=hy(t.end,e);iz(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=te._createAt(e,0),n=te._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Y(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new M("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}In.prototype.is=function(r){return r==="selection"||r==="model:selection"};function uy(r,e){return e.has(r)?!1:(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function tz(r,e,t){return uy(r,e)&&Np(r,t)}function hy(r,e){const n=r.parent.root.document.model.schema,s=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const d=s.find(h=>c?!1:(c=n.isLimit(h),!c&&uy(h,e)));return s.forEach(h=>e.add(h)),d}function Np(r,e){const t=rz(r);return t?!e.containsRange(Y._createOn(t),!0):!0}function nz(r,e){return r?e.isCollapsed||r.isEmpty?!0:e.start.isTouching(te._createAt(r,r.maxOffset))?!1:Np(r,e):!1}function iz(r,e){return r?e.isCollapsed||r.isEmpty?!0:e.end.isTouching(te._createAt(r,0))?!1:Np(r,e):!1}function rz(r){const e=r.root.document.model.schema;let t=r.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class pn extends Me(Y){constructor(e,t){super(e,t),oz.call(this)}detach(){this.stopListening()}toRange(){return new Y(this.start,this.end)}static fromRange(e){return new pn(e.start,e.end)}}pn.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};function oz(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&sz.call(this,t)},{priority:"low"})}function sz(r){const e=this.getTransformedByOperation(r),t=Y._createFromRanges(e),n=!t.isEqual(this),s=az(this,r);let c=null;if(n){t.root.rootName=="$graveyard"&&(r.type=="remove"?c=r.sourcePosition:c=r.deletionPosition);const d=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",d,{deletionPosition:c})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:c})}function az(r,e){switch(e.type){case"insert":return r.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return r.containsPosition(e.sourcePosition)||r.start.isEqual(e.sourcePosition)||r.containsPosition(e.targetPosition);case"split":return r.containsPosition(e.splitPosition)||r.containsPosition(e.insertionPosition)}return!1}const bc="selection:";class di extends Me(Mr){constructor(e){super(),this._selection=new cz(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return bc+e}static _isStoreAttributeKey(e){return e.startsWith(bc)}}di.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class cz extends In{constructor(e){super(),this.markers=new $n({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const s=n[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,s,c)=>{this._updateMarker(n,c)}),this.listenTo(this._document,"change",(t,n)=>{lz(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=H();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new M("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new M("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=pn.fromRange(e);return t.on("change:range",(n,s,c)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const d=this._ranges.indexOf(t);this._ranges.splice(d,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const c=s.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const d=s.getRange();for(const h of this.getRanges())d.containsRange(h,!h.isCollapsed)&&e.push(s)}const n=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let s=!1;const c=Array.from(this.markers),d=this.markers.has(e);if(!t)d&&(this.markers.remove(e),s=!0);else{let h=!1;for(const p of this.getRanges())if(t.containsRange(p,!p.isCollapsed)){h=!0;break}h&&!d?(this.markers.add(e),s=!0):!h&&d&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const t=Di(this._getSurroundingAttributes()),n=Di(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,d]of this._attributePriority)d=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(t);const s=[];for(const[c,d]of this.getAttributes())(!n.has(c)||n.get(c)!==d)&&s.push(c);for(const[c]of n)this.hasAttribute(c)||s.push(c);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,n=!0){const s=n?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,s]of this.getAttributes())e.get(n)!==s&&this._removeAttribute(n,!1);for(const[n,s]of e)this._setAttribute(n,s,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(bc)&&(yield[t.substr(bc.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=wc(s,t)),n||(n=wc(c,t)),!this.isGravityOverridden&&!n){let d=s;for(;d&&!n;)d=d.previousSibling,n=wc(d,t)}if(!n){let d=c;for(;d&&!n;)d=d.nextSibling,n=wc(d,t)}n||(n=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const c of s){if(c.item.is("element")&&t.isObject(c.item)){n=wc(c.item,t);break}if(c.type=="text"){n=c.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function wc(r,e){if(!r)return null;if(r instanceof li||r instanceof Ke)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,s]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,s]);return t}function lz(r,e){const t=r.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const s=n.position.parent;n.length===s.maxOffset&&r.enqueueChange(e,d=>{const h=Array.from(s.getAttributeKeys()).filter(p=>p.startsWith(bc));for(const p of h)d.removeAttribute(p,s)})}}class fy{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class dz extends fy{elementToElement(e){return this.add(Sz(e))}elementToStructure(e){return this.add(Tz(e))}attributeToElement(e){return this.add(Iz(e))}attributeToAttribute(e){return this.add(Mz(e))}markerToElement(e){return this.add(Nz(e))}markerToHighlight(e){return this.add(Pz(e))}markerToData(e){return this.add(Oz(e))}}function gy(){return(r,e,t)=>{if(!t.consumable.consume(e.item,r.name))return;const n=t.writer,s=t.mapper.toViewPosition(e.range.start),c=n.createText(e.item.data);n.insert(s,c)}}function py(){return(r,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function uz(){return(r,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),c=t.mapper.toViewPosition(s,{isPhantom:!0}),d=t.writer.createRange(n,c),h=t.writer.remove(d.getTrimmed());for(const p of t.writer.createRangeIn(h).getItems())t.mapper.unbindViewElement(p,{defer:!0})}}function my(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function hz(){return(r,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=[];for(const c of n.getRanges())s.push(t.mapper.toViewRange(c));t.writer.setSelection(s,{backward:n.isBackward})}}function fz(){return(r,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=t.writer,c=n.getFirstPosition(),d=t.mapper.toViewPosition(c),h=s.breakAttributes(d);s.setSelection(h)}}function gz(){return(r,e,t)=>{const n=t.writer,s=n.document.selection;for(const c of s.getRanges())c.isCollapsed&&c.end.parent.isAttached()&&t.writer.mergeAttributes(c.start);n.setSelection(null)}}function pz(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=r(t.attributeOldValue,n,t),c=r(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.writer,h=d.document.selection;if(t.item instanceof In||t.item instanceof di)d.wrap(h.getFirstRange(),c);else{let p=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(p=d.unwrap(p,s)),t.attributeNewValue!==null&&c&&d.wrap(p,c)}}}function mz(r,e=Vz){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=r(n.item,s,n);if(!c)return;e(n.item,s.consumable);const d=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,c),s.writer.insert(d,c),s.convertAttributes(n.item),Ay(c,n.item.getChildren(),s,{reconversion:n.reconversion})}}function kz(r,e){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const c=new Map;s.writer._registerSlotFactory(Lz(n.item,c,s));const d=r(n.item,s,n);if(s.writer._clearSlotFactory(),!d)return;jz(n.item,c,s),e(n.item,s.consumable);const h=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,d),s.writer.insert(h,d),s.convertAttributes(n.item),Rz(d,c,s,{reconversion:n.reconversion})}}function bz(r){return(e,t,n)=>{t.isOpening=!0;const s=r(t,n);t.isOpening=!1;const c=r(t,n);if(!s||!c)return;const d=t.markerRange;if(d.isCollapsed&&!n.consumable.consume(d,e.name))return;for(const w of d)if(!n.consumable.consume(w.item,e.name))return;const h=n.mapper,p=n.writer;p.insert(h.toViewPosition(d.start),s),n.mapper.bindElementToMarker(s,t.markerName),d.isCollapsed||(p.insert(h.toViewPosition(d.end),c),n.mapper.bindElementToMarker(c,t.markerName)),e.stop()}}function wz(){return(r,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const s of n)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),r.stop()}}}function vz(r){return(e,t,n)=>{const s=r(t.markerName,n);if(!s)return;const c=t.markerRange;n.consumable.consume(c,e.name)&&(ky(c,!1,n,t,s),ky(c,!0,n,t,s),e.stop())}}function ky(r,e,t,n,s){const c=e?r.start:r.end,d=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,h=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(d||h){let w,_;e&&d||!e&&!h?(w=d,_=!0):(w=h,_=!1);const C=t.mapper.toViewElement(w);if(C){_z(C,e,_,t,n,s);return}}const p=t.mapper.toViewPosition(c);yz(p,e,t,n,s)}function _z(r,e,t,n,s,c){const d=`data-${c.group}-${e?"start":"end"}-${t?"before":"after"}`,h=r.hasAttribute(d)?r.getAttribute(d).split(","):[];h.unshift(c.name),n.writer.setAttribute(d,h.join(","),r),n.mapper.bindElementToMarker(r,s.markerName)}function yz(r,e,t,n,s){const c=`${s.group}-${e?"start":"end"}`,d=s.name?{name:s.name}:null,h=t.writer.createUIElement(c,d);t.writer.insert(r,h),t.mapper.bindElementToMarker(h,n.markerName)}function Az(r){return(e,t,n)=>{const s=r(t.markerName,n);if(!s)return;const c=n.mapper.markerNameToElements(t.markerName);if(!c)return;for(const h of c)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("containerElement")?(d(`data-${s.group}-start-before`,h),d(`data-${s.group}-start-after`,h),d(`data-${s.group}-end-before`,h),d(`data-${s.group}-end-after`,h)):n.writer.clear(n.writer.createRangeOn(h),h);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function d(h,p){if(p.hasAttribute(h)){const w=new Set(p.getAttribute(h).split(","));w.delete(s.name),w.size==0?n.writer.removeAttribute(h,p):n.writer.setAttribute(h,Array.from(w).join(","),p)}}}}function Cz(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=r(t.attributeOldValue,n,t),c=r(t.attributeNewValue,n,t);if(!s&&!c)return;n.consumable.consume(t.item,e.name);const d=n.mapper.toViewElement(t.item),h=n.writer;if(!d)throw new M("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const p=Ft(s.value);for(const w of p)h.removeClass(w,d)}else if(s.key=="style"){const p=Object.keys(s.value);for(const w of p)h.removeStyle(w,d)}else h.removeAttribute(s.key,d);if(t.attributeNewValue!==null&&c)if(c.key=="class"){const p=Ft(c.value);for(const w of p)h.addClass(w,d)}else if(c.key=="style"){const p=Object.keys(c.value);for(const w of p)h.setStyle(w,c.value[w],d)}else h.setAttribute(c.key,c.value,d)}}function xz(r){return(e,t,n)=>{if(!t.item||!(t.item instanceof In||t.item instanceof di)&&!t.item.is("$textProxy"))return;const s=Op(r,t,n);if(!s||!n.consumable.consume(t.item,e.name))return;const c=n.writer,d=my(c,s),h=c.document.selection;if(t.item instanceof In||t.item instanceof di)c.wrap(h.getFirstRange(),d);else{const p=n.mapper.toViewRange(t.range),w=c.wrap(p,d);for(const _ of w.getItems())if(_.is("attributeElement")&&_.isSimilar(d)){n.mapper.bindElementToMarker(_,t.markerName);break}}}}function Ez(r){return(e,t,n)=>{if(!t.item||!(t.item instanceof qe))return;const s=Op(r,t,n);if(!s||!n.consumable.test(t.item,e.name))return;const c=n.mapper.toViewElement(t.item);if(c&&c.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const h of Y._createIn(t.item))n.consumable.consume(h.item,e.name);c.getCustomProperty("addHighlight")(c,s,n.writer),n.mapper.bindElementToMarker(c,t.markerName)}}}function Dz(r){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const s=Op(r,t,n);if(!s)return;const c=my(n.writer,s),d=n.mapper.markerNameToElements(t.markerName);if(d){for(const h of d)n.mapper.unbindElementFromMarkerName(h,t.markerName),h.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(h),c):h.getCustomProperty("removeHighlight")(h,s.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function Sz(r){const e=by(r.model),t=vc(r.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,mz(t,yy(e)),{priority:r.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",_y(e),{priority:"low"})}}function Tz(r){const e=by(r.model),t=vc(r.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,kz(t,yy(e)),{priority:r.converterPriority||"normal"}),n.on("reduceChanges",_y(e),{priority:"low"})}}function Iz(r){r=Ir(r);let e=r.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)r.view[s]=vc(r.view[s],"attribute");else r.view=vc(r.view,"attribute");const n=wy(r);return s=>{s.on(t,pz(n),{priority:r.converterPriority||"normal"})}}function Mz(r){r=Ir(r);let e=r.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)r.view[s]=vy(r.view[s]);else r.view=vy(r.view);const n=wy(r);return s=>{s.on(t,Cz(n),{priority:r.converterPriority||"normal"})}}function Nz(r){const e=vc(r.view,"ui");return t=>{t.on(`addMarker:${r.model}`,bz(e),{priority:r.converterPriority||"normal"}),t.on(`removeMarker:${r.model}`,wz(),{priority:r.converterPriority||"normal"})}}function Oz(r){r=Ir(r);const e=r.model;let t=r.view;return t||(t=n=>({group:e,name:n.substr(r.model.length+1)})),n=>{n.on(`addMarker:${e}`,vz(t),{priority:r.converterPriority||"normal"}),n.on(`removeMarker:${e}`,Az(t),{priority:r.converterPriority||"normal"})}}function Pz(r){return e=>{e.on(`addMarker:${r.model}`,xz(r.view),{priority:r.converterPriority||"normal"}),e.on(`addMarker:${r.model}`,Ez(r.view),{priority:r.converterPriority||"normal"}),e.on(`removeMarker:${r.model}`,Dz(r.view),{priority:r.converterPriority||"normal"})}}function by(r){return typeof r=="string"&&(r={name:r}),r.attributes?Array.isArray(r.attributes)||(r.attributes=[r.attributes]):r.attributes=[],r.children=!!r.children,r}function vc(r,e){return typeof r=="function"?r:(t,n)=>Bz(r,n,e)}function Bz(r,e,t){typeof r=="string"&&(r={name:r});let n;const s=e.writer,c=Object.assign({},r.attributes);if(t=="container")n=s.createContainerElement(r.name,c);else if(t=="attribute"){const d={priority:r.priority||To.DEFAULT_PRIORITY};n=s.createAttributeElement(r.name,c,d)}else n=s.createUIElement(r.name,c);if(r.styles){const d=Object.keys(r.styles);for(const h of d)s.setStyle(h,r.styles[h],n)}if(r.classes){const d=r.classes;if(typeof d=="string")s.addClass(d,n);else for(const h of d)s.addClass(h,n)}return n}function wy(r){return r.model.values?(e,t,n)=>{const s=r.view[e];return s?s(e,t,n):null}:r.view}function vy(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function Op(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function zz(r){return(e,t)=>{if(!e.is("element",r.name))return!1;if(t.type=="attribute"){if(r.attributes.includes(t.attributeKey))return!0}else if(r.children)return!0;return!1}}function _y(r){const e=zz(r);return(t,n)=>{const s=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const c of n.changes){const d=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(!d||!e(d,c)){s.push(c);continue}if(!n.reconvertedElements.has(d)){n.reconvertedElements.add(d);const h=te._createBefore(d);let p=s.length;for(let w=s.length-1;w>=0;w--){const _=s[w],O=(_.type=="attribute"?_.range.start:_.position).compareWith(h);if(O=="before"||_.type=="remove"&&O=="same")break;p=w}s.splice(p,0,{type:"remove",name:d.name,position:h,length:1},{type:"reinsert",name:d.name,position:h,length:1})}}n.changes=s}}function yy(r){return(e,t,n={})=>{const s=["insert"];for(const c of r.attributes)e.hasAttribute(c)&&s.push(`attribute:${c}`);return s.every(c=>t.test(e,c))?(n.preflight||s.forEach(c=>t.consume(e,c)),!0):!1}}function Lz(r,e,t){return(n,s)=>{const c=n.createContainerElement("$slot");let d=null;if(s==="children")d=Array.from(r.getChildren());else if(typeof s=="function")d=Array.from(r.getChildren()).filter(h=>s(h));else throw new M("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(c,d),c}}function jz(r,e,t){const n=Array.from(e.values()).flat(),s=new Set(n);if(s.size!=n.length)throw new M("conversion-slot-filter-overlap",t.dispatcher,{element:r});if(s.size!=r.childCount)throw new M("conversion-slot-filter-incomplete",t.dispatcher,{element:r})}function Rz(r,e,t,n){t.mapper.on("modelToViewPosition",d,{priority:"highest"});let s=null,c=null;for([s,c]of e)Ay(r,c,t,n),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",d);function d(h,p){const w=p.modelPosition.nodeAfter,_=c.indexOf(w);_<0||(p.viewPosition=p.mapper.findPositionIn(s,_))}}function Ay(r,e,t,n){for(const s of e)Fz(r.root,s,t,n)||t.convertItem(s)}function Fz(r,e,t,n){const{writer:s,mapper:c}=t;if(!n.reconversion)return!1;const d=c.toViewElement(e);return!d||d.root==r||!t.canReuseView(d)?!1:(s.move(s.createRangeOn(d),c.toViewPosition(te._createBefore(e))),!0)}function Vz(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function Cy(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function xy(r,e,t){const n=t.createContext(r);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function Ey(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}class Uz extends fy{elementToElement(e){return this.add(Sy(e))}elementToAttribute(e){return this.add(Wz(e))}attributeToAttribute(e){return this.add(qz(e))}elementToMarker(e){return this.add(Gz(e))}dataToMarker(e){return this.add(Yz(e))}}function Dy(){return(r,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=s}}}function Hz(){return(r,e,{schema:t,consumable:n,writer:s})=>{let c=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(c,"$text")){if(!xy(c,"$text",t)||e.viewItem.data.trim().length==0)return;const h=c.nodeBefore;c=Ey(c,s),h&&h.is("element","$marker")&&(s.move(s.createRangeOn(h),c),c=s.createPositionAfter(h))}n.consume(e.viewItem);const d=s.createText(e.viewItem.data);s.insert(d,c),e.modelRange=s.createRange(c,c.getShiftedBy(d.offsetSize)),e.modelCursor=e.modelRange.end}}function $z(r,e){return(t,n)=>{const s=n.newSelection,c=[];for(const h of s.getRanges())c.push(e.toModelRange(h));const d=r.createSelection(c,{backward:s.isBackward});d.isEqual(r.document.selection)||r.change(h=>{h.setSelection(d)})}}function Sy(r){r=Ir(r);const e=Bp(r),t=Pp(r.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:r.converterPriority||"normal"})}}function Wz(r){r=Ir(r),Ty(r);const e=Iy(r,!1),t=Pp(r.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:r.converterPriority||"low"})}}function qz(r){r=Ir(r);let e=null;(typeof r.view=="string"||r.view.key)&&(e=Qz(r)),Ty(r,e);const t=Iy(r,!0);return n=>{n.on("element",t,{priority:r.converterPriority||"low"})}}function Gz(r){const e=eL(r.model);return Sy({...r,model:e})}function Yz(r){r=Ir(r),r.model||(r.model=s=>s?r.view+":"+s:r.view);const e={view:r.view,model:r.model},t=Bp(My(e,"start")),n=Bp(My(e,"end"));return s=>{s.on(`element:${r.view}-start`,t,{priority:r.converterPriority||"normal"}),s.on(`element:${r.view}-end`,n,{priority:r.converterPriority||"normal"});const c=V.low,d=V.highest,h=V.get(r.converterPriority)/d;s.on("element",Zz(e),{priority:c+h})}}function Zz(r){return(e,t,n)=>{const s=`data-${r.view}`;if(!n.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&c(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&c(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function c(d,h){for(const p of h){const w=r.model(p,n),_=n.writer.createElement("$marker",{"data-name":w});n.writer.insert(_,d),t.modelCursor.isEqual(d)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(d,1),t.modelRange=t.modelRange._getTransformedByInsertion(d,1)[0]}}}}function Pp(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function Bp(r){const e=new Wn(r.view);return(t,n,s)=>{const c=e.match(n.viewItem);if(!c)return;const d=c.match;if(d.name=!0,!s.consumable.test(n.viewItem,d))return;const h=Kz(r.model,n.viewItem,s);h&&s.safeInsert(h,n.modelCursor)&&(s.consumable.consume(n.viewItem,d),s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n))}}function Kz(r,e,t){return r instanceof Function?r(e,t):t.writer.createElement(r)}function Qz(r){typeof r.view=="string"&&(r.view={key:r.view});const e=r.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:r.view.value};else{const n=typeof r.view.value>"u"?/[\s\S]*/:r.view.value;t={attributes:{[e]:n}}}return r.view.name&&(t.name=r.view.name),r.view=t,e}function Ty(r,e=null){const t=e===null?!0:c=>c.getAttribute(e),n=typeof r.model!="object"?r.model:r.model.key,s=typeof r.model!="object"||typeof r.model.value>"u"?t:r.model.value;r.model={key:n,value:s}}function Iy(r,e){const t=new Wn(r.view);return(n,s,c)=>{if(!s.modelRange&&e)return;const d=t.match(s.viewItem);if(!d||(Jz(r.view,s.viewItem)?d.match.name=!0:delete d.match.name,!c.consumable.test(s.viewItem,d.match)))return;const h=r.model.key,p=typeof r.model.value=="function"?r.model.value(s.viewItem,c):r.model.value;if(p===null)return;s.modelRange||Object.assign(s,c.convertChildren(s.viewItem,s.modelCursor)),Xz(s.modelRange,{key:h,value:p},e,c)&&(c.consumable.test(s.viewItem,{name:!0})&&(d.match.name=!0),c.consumable.consume(s.viewItem,d.match))}}function Jz(r,e){const t=typeof r=="function"?r(e):r;return typeof t=="object"&&!Pp(t)?!1:!t.classes&&!t.attributes&&!t.styles}function Xz(r,e,t,n){let s=!1;for(const c of Array.from(r.getItems({shallow:t})))n.schema.checkAttribute(c,e.key)&&(s=!0,!c.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,c));return s}function eL(r){return(e,t)=>{const n=typeof r=="string"?r:r(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function My(r,e){const t=(n,s)=>{const c=n.getAttribute("name"),d=r.model(c,s);return s.writer.createElement("$marker",{"data-name":d})};return{view:`${r.view}-${e}`,model:t}}function tL(r){r.document.registerPostFixer(e=>nL(e,r))}function nL(r,e){const t=e.document.selection,n=e.schema,s=[];let c=!1;for(const d of t.getRanges()){const h=Ny(d,n);h&&!h.isEqual(d)?(s.push(h),c=!0):s.push(d)}return c&&r.setSelection(sL(s),{backward:t.isBackward}),!1}function Ny(r,e){return r.isCollapsed?iL(r,e):rL(r,e)}function iL(r,e){const t=r.start,n=e.getNearestSelectionRange(t);if(!n){const c=t.getAncestors().reverse().find(d=>e.isObject(d));return c?Y._createOn(c):null}if(!n.isCollapsed)return n;const s=n.start;return t.isEqual(s)?null:new Y(s)}function rL(r,e){const{start:t,end:n}=r,s=e.checkChild(t,"$text"),c=e.checkChild(n,"$text"),d=e.getLimitElement(t),h=e.getLimitElement(n);if(d===h){if(s&&c)return null;if(oL(t,n,e)){const C=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),z=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),U=C?C.start:t,ne=z?z.end:n;return new Y(U,ne)}}const p=d&&!d.is("rootElement"),w=h&&!h.is("rootElement");if(p||w){const _=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,C=p&&(!_||!Py(t.nodeAfter,e)),O=w&&(!_||!Py(n.nodeBefore,e));let z=t,U=n;return C&&(z=te._createBefore(Oy(d,e))),O&&(U=te._createAfter(Oy(h,e))),new Y(z,U)}return null}function Oy(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function oL(r,e,t){const n=r.nodeAfter&&!t.isLimit(r.nodeAfter)||t.checkChild(r,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||s}function sL(r){const e=[...r],t=new Set;let n=1;for(;n<e.length;){const c=e[n],d=e.slice(0,n);for(const[h,p]of d.entries())if(!t.has(h)){if(c.isEqual(p))t.add(h);else if(c.isIntersecting(p)){t.add(h),t.add(n);const w=c.getJoined(p);e.push(w)}}n++}return e.filter((c,d)=>!t.has(d))}function Py(r,e){return r&&e.isSelectable(r)}class aL extends Ue(){constructor(e,t){super(),this.model=e,this.view=new ZB(t),this.mapper=new cy,this.downcastDispatcher=new ly({mapper:this.mapper,schema:e.schema});const n=this.model.document,s=n.selection,c=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(d=>{this.downcastDispatcher.convertChanges(n.differ,c,d),this.downcastDispatcher.convertSelection(s,c,d)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",$z(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",cL(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",gy(),{priority:"lowest"}),this.downcastDispatcher.on("insert",py(),{priority:"lowest"}),this.downcastDispatcher.on("remove",uz(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",gz()),this.downcastDispatcher.on("selection",hz(),{priority:"low"}),this.downcastDispatcher.on("selection",fz(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(d=>{if(d.rootName=="$graveyard")return null;const h=new D_(this.view.document,d.name);return h.rootName=d.rootName,this.mapper.bindElements(d,h),h})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function cL(r,e,t){return(n,s)=>{if(!(t.document.isComposing&&!m.isAndroid))for(let c=0;c<s.targetRanges.length;c++){const d=s.targetRanges[c],h=r.toModelRange(d),p=Ny(h,e);!p||p.isEqual(h)||(s.targetRanges[c]=r.toViewRange(p))}}}class _c{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new lL(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const d of n)d=="style"||d=="class"||t.attributes.push(d);const s=e.getClassNames();for(const d of s)t.classes.push(d);const c=e.getStyleNames();for(const d of c)t.styles.push(d);return t}static createFrom(e,t){if(t||(t=new _c),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,_c.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=_c.createFrom(n,t);return t}}const iu=["attributes","classes","styles"];class lL{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of iu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of iu)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of iu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of iu)t in e&&this._revert(t,e[t])}_add(e,t){const n=Rt(t)?t:[t],s=this._consumables[e];for(const c of n){if(e==="attributes"&&(c==="class"||c==="style"))throw new M("viewconsumable-invalid-attribute",this);if(s.set(c,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!0)}}_test(e,t){const n=Rt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles",h=this._test(d,[...this._consumables[d].keys()]);if(h!==!0)return h}else{const d=s.get(c);if(d===void 0)return null;if(!d)return!1}return!0}_consume(e,t){const n=Rt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}else if(s.set(c,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))s.set(d,!1)}_revert(e,t){const n=Rt(t)?t:[t],s=this._consumables[e];for(const c of n)if(e==="attributes"&&(c==="class"||c==="style")){const d=c=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}else s.get(c)===!1&&s.set(c,!0)}}class dL extends Ue(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Po(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Po(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new M("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new M("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof te){const n=e.nodeBefore,s=e.nodeAfter;if(!(n instanceof qe))throw new M("schema-check-merge-no-element-before",this);if(!(s instanceof qe))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(n,s)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,s])=>{if(!s)return;const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,s])=>{const c=e(n,s);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof te?t=e.parent:t=(e instanceof Y?[e]:Array.from(e.getRanges())).reduce((s,c)=>{const d=c.getCommonAncestor();return s?s.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Ke("",e.getAttributes())];return this.checkAttribute(s,t)}else{const n=e.getRanges();for(const s of n)for(const c of s)if(this.checkAttribute(c.item,t))return!0}return!1}*getValidRanges(e,t){e=EL(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Y(e);let n,s;const c=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;(t=="both"||t=="backward")&&(n=new Ii({boundaries:Y._createIn(c),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Ii({boundaries:Y._createIn(c),startPosition:e}));for(const d of xL(n,s)){const h=d.walker==n?"elementEnd":"elementStart",p=d.value;if(p.type==h&&this.isObject(p.item))return Y._createOn(p.item);if(this.checkChild(p.nextPosition,"$text"))return new Y(p.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const s=n.model;for(const[c,d]of Object.entries(t))s.schema.checkAttribute(e,c)&&n.setAttribute(c,d,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))By(this,n,t);else{const c=Y._createIn(n).getPositions();for(const d of c){const h=d.nodeBefore||d.parent;By(this,h,t)}}}getAttributesWithProperty(e,t,n){const s={};for(const[c,d]of e.getAttributes()){const h=this.getAttributeProperties(c);h[t]!==void 0&&(n===void 0||n===h[t])&&(s[c]=d)}return s}createContext(e){return new Po(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const s of n)e[s]=uL(t[s],s);for(const s of n)hL(e,s);for(const s of n)fL(e,s);for(const s of n)gL(e,s);for(const s of n)pL(e,s),mL(e,s);for(const s of n)kL(e,s),bL(e,s),wL(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const s=t.getItem(n);if(e.allowIn.includes(s.name)){if(n==0)return!0;{const c=this.getDefinition(s);return this._checkContextMatch(c,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,s=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(Y._createIn(c),t)),this.checkAttribute(c,t)||(n.isEqual(s)||(yield new Y(n,s)),n=te._createAfter(c)),s=te._createAfter(c);n.isEqual(s)||(yield new Y(n,s))}}class Po{constructor(e){if(e instanceof Po)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(CL)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Po([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function uL(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return vL(r,t),Bo(r,t,"allowIn"),Bo(r,t,"allowContentOf"),Bo(r,t,"allowWhere"),Bo(r,t,"allowAttributes"),Bo(r,t,"allowAttributesOf"),Bo(r,t,"allowChildren"),Bo(r,t,"inheritTypesFrom"),_L(r,t),t}function hL(r,e){const t=r[e];for(const n of t.allowChildren){const s=r[n];s&&s.allowIn.push(e)}t.allowChildren.length=0}function fL(r,e){for(const t of r[e].allowContentOf)r[t]&&yL(r,t).forEach(s=>{s.allowIn.push(e)});delete r[e].allowContentOf}function gL(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const s=n.allowIn;r[e].allowIn.push(...s)}}delete r[e].allowWhere}function pL(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const s=n.allowAttributes;r[e].allowAttributes.push(...s)}}delete r[e].allowAttributesOf}function mL(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const s=r[n];if(s){const c=Object.keys(s).filter(d=>d.startsWith("is"));for(const d of c)d in t||(t[d]=s[d])}}delete t.inheritTypesFrom}function kL(r,e){const t=r[e],n=t.allowIn.filter(s=>r[s]);t.allowIn=Array.from(new Set(n))}function bL(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function wL(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function vL(r,e){for(const t of r){const n=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of n)e[s]=!!t[s]}}function Bo(r,e,t){for(const n of r){const s=n[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function _L(r,e){for(const t of r){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function yL(r,e){const t=r[e];return AL(r).filter(n=>n.allowIn.includes(t.name))}function AL(r){return Object.keys(r).map(e=>r[e])}function CL(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute(e){return r.getAttribute(e)}}}function*xL(r,e){let t=!1;for(;!t;){if(t=!0,r){const n=r.next();n.done||(t=!1,yield{walker:r,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*EL(r){for(const e of r)yield*e.getMinimalFlatRanges()}function By(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}class DL extends Me(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=TL(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=_c.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),c=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))t.append(d,c);c.markers=SL(c,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Y))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:te._createAt(t,0);const s=new Y(n);for(const c of Array.from(e.getChildren())){const d=this._convertItem(c,n);d.modelRange instanceof Y&&(s.end=d.modelRange.end,n=d.modelCursor)}return{modelRange:s,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(n[n.length-1])));const c=this._cursorParents.get(e);c?t.modelCursor=s.createPositionAt(c,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:s}=this.conversionApi;let c=n.findAllowedParent(t,e);if(c){if(c===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return xy(t,e,n)?{position:Ey(t,s)}:null;const d=this.conversionApi.writer.split(t,c),h=[];for(const w of d.range.getWalker())if(w.type=="elementEnd")h.push(w.item);else{const _=h.pop(),C=w.item;this._registerSplitPair(_,C)}const p=d.range.end.parent;return this._cursorParents.set(e,p),{position:d.position,cursorParent:p}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function SL(r,e){const t=new Set,n=new Map,s=Y._createIn(r).getItems();for(const c of s)c.is("element","$marker")&&t.add(c);for(const c of t){const d=c.getAttribute("data-name"),h=e.createPositionBefore(c);n.has(d)?n.get(d).end=h.clone():n.set(d,new Y(h.clone())),e.remove(c)}return n}function TL(r,e){let t;for(const n of new Po(r)){const s={};for(const d of n.getAttributeKeys())s[d]=n.getAttribute(d);const c=e.createElement(n.name,s);t&&e.insert(c,t),t=te._createAt(c,0)}return t}class IL{getHtml(e){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}class ML{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Jd(e,{renderingMode:"data"}),this.htmlWriter=new IL}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)n.appendChild(s[0]);return n}}class NL extends Me(){constructor(e,t){super(),this.model=e,this.mapper=new cy,this.downcastDispatcher=new ly({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",gy(),{priority:"lowest"}),this.downcastDispatcher.on("insert",py(),{priority:"lowest"}),this.upcastDispatcher=new DL({schema:e.schema}),this.viewDocument=new Zd(t),this.stylesProcessor=t,this.htmlProcessor=new ML(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new I_(this.viewDocument),this.upcastDispatcher.on("text",Hz(),{priority:"lowest"}),this.upcastDispatcher.on("element",Dy(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Dy(),{priority:"lowest"}),Ue().prototype.decorate.call(this,"init"),Ue().prototype.decorate.call(this,"set"),Ue().prototype.decorate.call(this,"get"),Ue().prototype.decorate.call(this,"toView"),Ue().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Cy)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new M("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||J("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const c=Y._createIn(e),d=new Io(n);this.mapper.bindElements(e,d);const h=e.is("documentFragment")?e.markers:OL(e);return this.downcastDispatcher.convert(c,h,s,t),d}init(e){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const s of Object.keys(t)){const c=this.model.document.getRoot(s);n.insert(this.parse(t[s],c),c,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(n)){const d=this.model.document.getRoot(c);s.remove(s.createRangeIn(d)),s.insert(this.parse(n[c],d),d,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function OL(r){const e=[],t=r.root.document;if(!t)return new Map;const n=Y._createIn(r);for(const s of t.model.markers){const c=s.getRange(),d=c.isCollapsed,h=c.start.isEqual(n.start)||c.end.isEqual(n.end);if(d&&h)e.push([s.name,c]);else{const p=n.getIntersection(c);p&&e.push([s.name,p])}}return e.sort(([s,c],[d,h])=>{if(c.end.compareWith(h.start)!=="after")return 1;if(c.start.compareWith(h.end)!=="before")return-1;switch(c.start.compareWith(h.start)){case"before":return 1;case"after":return-1;default:switch(c.end.compareWith(h.end)){case"before":return 1;case"after":return-1;default:return d.localeCompare(s)}}}),new Map(e)}class PL{constructor(e,t){this._helpers=new Map,this._downcast=Ft(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ft(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new M("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of zp(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of zp(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of zp(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new M("conversion-group-exists",this);const s=n?new dz(t):new Uz(t);this._helpers.set(e,s)}}function*zp(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],s=r.upcastAlso?r.upcastAlso[e]:void 0;yield*zy(t,n,s)}else yield*zy(r.model,r.view,r.upcastAlso)}function*zy(r,e,t){if(yield{model:r,view:e},t)for(const n of Ft(t))yield{model:r,view:n}}class Mn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Lp(r,e){const t=jy(e),n=t.reduce((d,h)=>d+h.offsetSize,0),s=r.parent;Cc(r);const c=r.index;return s._insertChild(c,t),Ac(s,c+t.length),Ac(s,c),new Y(r,r.getShiftedBy(n))}function Ly(r){if(!r.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Cc(r.start),Cc(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return Ac(e,r.start.index),t}function yc(r,e){if(!r.isFlat)throw new M("operation-utils-move-range-not-flat",this);const t=Ly(r);return e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),Lp(e,t)}function BL(r,e,t){Cc(r.start),Cc(r.end);for(const n of r.getItems({shallow:!0})){const s=n.is("$textProxy")?n.textNode:n;t!==null?s._setAttribute(e,t):s._removeAttribute(e),Ac(s.parent,s.index)}Ac(r.end.parent,r.end.index)}function jy(r){const e=[];function t(n){if(typeof n=="string")e.push(new Ke(n));else if(n instanceof li)e.push(new Ke(n.data,n.getAttributes()));else if(n instanceof No)e.push(n);else if(zt(n))for(const s of n)t(s)}t(r);for(let n=1;n<e.length;n++){const s=e[n],c=e[n-1];s instanceof Ke&&c instanceof Ke&&Ry(s,c)&&(e.splice(n-1,2,new Ke(c.data+s.data,c.getAttributes())),n--)}return e}function Ac(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&Ry(t,n)){const s=new Ke(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,s)}}function Cc(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const c=new Ke(e.data.substr(0,n),e.getAttributes()),d=new Ke(e.data.substr(n),e.getAttributes());t._insertChild(s,[c,d])}}function Ry(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;n.next()}return n.next().done}class Re extends Mn{constructor(e,t,n,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Y._createFromPositionAndShift(this.sourcePosition,this.howMany),Y._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Re(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Re(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,s=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(e===t&&n<s&&s<n+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&vt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=n&&this.targetPosition.path[c]<n+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){yc(Y._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=te.fromJSON(e.sourcePosition,t),s=te.fromJSON(e.targetPosition,t);return new this(n,e.howMany,s,e.baseVersion)}}class Ut extends Mn{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new mc(jy(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new mc([...this.nodes].map(n=>n._clone(!0))),t=new Ut(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new te(e,[0]);return new Re(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new mc([...e].map(t=>t._clone(!0))),Lp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const c of e.nodes)c.name?n.push(qe.fromJSON(c)):n.push(Ke.fromJSON(c));const s=new Ut(te.fromJSON(e.position,t),n,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class Qe extends Mn{constructor(e,t,n,s,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new te(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Y(this.splitPosition,e)}get affectedSelectable(){const e=[Y._createFromPositionAndShift(this.splitPosition,0),Y._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Y._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Qe(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new te(e,[0]);return new _t(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new M("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}else throw new M("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)yc(Y._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();Lp(this.insertionPosition,n)}const t=new Y(te._createAt(e,this.splitPosition.offset),te._createAt(e,e.maxOffset));yc(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new te(e.root,t,"toPrevious")}static fromJSON(e,t){const n=te.fromJSON(e.splitPosition,t),s=te.fromJSON(e.insertionPosition,t),c=e.graveyardPosition?te.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,s,c,e.baseVersion)}}class _t extends Mn{constructor(e,t,n,s,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new te(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Y(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Y._createOn(e),Y._createFromPositionAndShift(this.targetPosition,0),Y._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new _t(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new te(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Qe(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new M("merge-operation-how-many-invalid",this)}else throw new M("merge-operation-target-position-invalid",this);else throw new M("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=Y._createIn(e);yc(t,this.targetPosition),yc(Y._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=te.fromJSON(e.sourcePosition,t),s=te.fromJSON(e.targetPosition,t),c=te.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,s,c,e.baseVersion)}}class mn extends Mn{constructor(e,t,n,s,c,d){super(d),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=c,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new mn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new mn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new mn(e.name,e.oldRange?Y.fromJSON(e.oldRange,t):null,e.newRange?Y.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}function zL(r,e){return ty(r,e)}const Fy=zL;class Et extends Mn{constructor(e,t,n,s,c){super(c),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Et(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Et(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Fy(e.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Fy(this.oldValue,this.newValue)||BL(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Et(Y.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Tt extends Mn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Tt(this.baseVersion)}getReversed(){return new Tt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class kn extends Mn{constructor(e,t,n,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new kn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new kn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof qe){if(e.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}else throw new M("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new kn(te.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class er extends Mn{constructor(e,t,n,s,c){super(c),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new er(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new er(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new er(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Mi extends Mn{constructor(e,t,n,s,c){if(super(c),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=s,!this._document.getRoot(this.rootName)){const d=this._document.createRoot(this.elementName,this.rootName);d._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Mi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Mi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Mi(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const qn={};qn[Et.className]=Et,qn[Ut.className]=Ut,qn[mn.className]=mn,qn[Re.className]=Re,qn[Tt.className]=Tt,qn[Mn.className]=Mn,qn[kn.className]=kn,qn[er.className]=er,qn[Mi.className]=Mi,qn[Qe.className]=Qe,qn[_t.className]=_t;class LL{static fromJSON(e,t){return qn[e.__className].fromJSON(e,t)}}const jp=new Map;function Be(r,e,t){let n=jp.get(r);n||(n=new Map,jp.set(r,n)),n.set(e,t)}function jL(r,e){const t=jp.get(r);return t&&t.has(e)?t.get(e):RL}function RL(r){return[r]}function Vy(r,e,t={}){const n=jL(r.constructor,e.constructor);try{return r=r.clone(),n(r,e,t)}catch(s){throw s}}function FL(r,e,t){r=r.slice(),e=e.slice();const n=new VL(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const s=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:s};const c=new WeakMap;for(const p of r)c.set(p,0);const d={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let h=0;for(;h<r.length;){const p=r[h],w=c.get(p);if(w==e.length){h++;continue}const _=e[w],C=Vy(p,_,n.getContext(p,_,!0)),O=Vy(_,p,n.getContext(_,p,!1));n.updateRelation(p,_),n.setOriginalOperations(C,p),n.setOriginalOperations(O,_);for(const z of C)c.set(z,w+O.length);r.splice(h,1,...C),e.splice(w,1,...O)}if(t.padWithNoOps){const p=r.length-d.originalOperationsACount,w=e.length-d.originalOperationsBCount;Hy(r,w-p),Hy(e,p-w)}return Uy(r,d.nextBaseVersionB),Uy(e,d.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:s}}class VL{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,n||s)}updateRelation(e,t){if(e instanceof Re)t instanceof _t?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Re&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Qe){if(t instanceof _t)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Re)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Y._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const s=n.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:s,offset:c})}}}else if(e instanceof _t)t instanceof _t?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Qe&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof mn){const n=e.newRange;if(!n)return;if(t instanceof Re){const s=Y._createFromPositionAndShift(t.sourcePosition,t.howMany),c=s.containsPosition(n.start)||s.start.isEqual(n.start),d=s.containsPosition(n.end)||s.end.isEqual(n.end);(c||d)&&!s.containsRange(n)&&this._setRelation(e,t,{side:c?"left":"right",path:c?n.start.path.slice():n.end.path.slice()})}else if(t instanceof _t){const s=n.start.isEqual(t.targetPosition),c=n.start.isEqual(t.deletionPosition),d=n.end.isEqual(t.deletionPosition),h=n.end.isEqual(t.sourcePosition);(s||c||d||h)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:d,wasInRightElement:h})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),s=this._history.getUndoneOperation(n);if(!s)return null;const c=this.originalOperations.get(e),d=this._relations.get(c);return d&&d.get(s)||null}_setRelation(e,t,n){const s=this.originalOperations.get(e),c=this.originalOperations.get(t);let d=this._relations.get(s);d||(d=new Map,this._relations.set(s,d)),d.set(c,n)}}function Uy(r,e){for(const t of r)t.baseVersion=e++}function Hy(r,e){for(let t=0;t<e;t++)r.push(new Tt(0))}Be(Et,Et,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(c=>new Et(c,r.key,r.oldValue,r.newValue,0)),s=r.range.getIntersection(e.range);return s&&t.aIsStrong&&n.push(new Et(s,e.key,e.newValue,r.newValue,0)),n.length==0?[new Tt(0)]:n}else return[r]}),Be(Et,Ut,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const n=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Et(s,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const s=$y(e,r.key,r.oldValue);s&&n.unshift(s)}return n}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]});function $y(r,e,t){const s=r.nodes.getNode(0).getAttribute(e);if(s==t)return null;const c=new Y(r.position,r.position.getShiftedBy(r.howMany));return new Et(c,e,s,t,0)}Be(Et,_t,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(Y._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(s=>new Et(s,r.key,r.oldValue,r.newValue,r.baseVersion))}),Be(Et,Re,(r,e)=>UL(r.range,e).map(n=>new Et(n,r.key,r.oldValue,r.newValue,r.baseVersion)));function UL(r,e){const t=Y._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,s=[];t.containsRange(r,!0)?n=r:r.start.hasSameParentAs(t.start)?(s=r.getDifference(t),n=r.getIntersection(t)):s=[r];const c=[];for(let d of s){d=d._getTransformedByDeletion(e.sourcePosition,e.howMany);const h=e.getMovedRangeStart(),p=d.start.hasSameParentAs(h),w=d._getTransformedByInsertion(h,e.howMany,p);c.push(...w)}return n&&c.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),c}Be(Et,Qe,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new Y(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),Be(Ut,Et,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=$y(r,e.key,e.newValue);n&&t.push(n)}return t}),Be(Ut,Ut,(r,e,t)=>r.position.isEqual(e.position)&&t.aIsStrong?[r]:(r.position=r.position._getTransformedByInsertOperation(e),[r])),Be(Ut,Re,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Be(Ut,Qe,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),Be(Ut,_t,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),Be(mn,Ut,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),Be(mn,mn,(r,e,t)=>{if(r.name==e.name)if(t.aIsStrong)r.oldRange=e.newRange?e.newRange.clone():null;else return[new Tt(0)];return[r]}),Be(mn,_t,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),Be(mn,Re,(r,e,t)=>{if(r.oldRange&&(r.oldRange=Y._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=Y._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=Y._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),Be(mn,Qe,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=te._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=te._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=te._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=te._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),Be(_t,Ut,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),Be(_t,_t,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new te(e.graveyardPosition.root,n),r.howMany=0,[r]}else return[new Tt(0)];if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),w=r.targetPosition._getTransformedByMergeOperation(e);return[new Re(p,r.howMany,w,0)]}else return[new Tt(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),(!r.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Be(_t,Re,(r,e,t)=>{const n=Y._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new Tt(0)]:(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),Be(_t,Qe,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,s=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||s||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),Be(Re,Ut,(r,e)=>{const n=Y._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=n.start,r.howMany=n.end.offset-n.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),Be(Re,Re,(r,e,t)=>{const n=Y._createFromPositionAndShift(r.sourcePosition,r.howMany),s=Y._createFromPositionAndShift(e.sourcePosition,e.howMany);let c=t.aIsStrong,d=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?d=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(d=!1);let h;if(r.targetPosition.isEqual(e.targetPosition)&&d?h=r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):h=r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Wy(r,e)&&Wy(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(s,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ss([n],h);if(s.containsPosition(r.targetPosition)&&s.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ss([n],h);const _=vt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(_=="prefix"||_=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ss([n],h);r.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?c=!0:r.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(c=!1);const C=[],O=n.getDifference(s);for(const U of O){U.start=U.start._getTransformedByDeletion(e.sourcePosition,e.howMany),U.end=U.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const ne=vt(U.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",he=U._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,ne);C.push(...he)}const z=n.getIntersection(s);return z!==null&&c&&(z.start=z.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),z.end=z.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),C.length===0?C.push(z):C.length==1?s.start.isBefore(n.start)||s.start.isEqual(n.start)?C.unshift(z):C.push(z):C.splice(1,0,z)),C.length===0?[new Tt(r.baseVersion)]:Ss(C,h)}),Be(Re,Qe,(r,e,t)=>{let n=r.targetPosition.clone();(!r.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=r.targetPosition._getTransformedBySplitOperation(e));const s=Y._createFromPositionAndShift(r.sourcePosition,r.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let h=new Y(e.splitPosition,s.end);h=h._getTransformedBySplitOperation(e);const p=[new Y(s.start,e.splitPosition),h];return Ss(p,n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const d=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const h=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);r.howMany>1&&h&&!t.aWasUndone&&d.push(Y._createFromPositionAndShift(e.insertionPosition,1))}return Ss(d,n)}),Be(Re,_t,(r,e,t)=>{const n=Y._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const d=[];let h=e.graveyardPosition.clone(),p=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(d.push(new Re(r.sourcePosition,r.howMany-1,r.targetPosition,0)),h=h._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),p=p._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const w=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),_=new Re(h,1,w,0),C=_.getMovedRangeStart().path.slice();C.push(0);const O=new te(_.targetPosition.root,C);p=p._getTransformedByMove(h,w,1);const z=new Re(p,e.howMany,O,0);return d.push(_),d.push(z),d}}else if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new Tt(0)]}const c=Y._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=c.start,r.howMany=c.end.offset-c.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),Be(kn,Ut,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),Be(kn,_t,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),Be(kn,Re,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Be(kn,kn,(r,e,t)=>{if(r.position.isEqual(e.position))if(t.aIsStrong)r.oldName=e.newName;else return[new Tt(0)];return[r]}),Be(kn,Qe,(r,e)=>{const t=r.position.path,n=e.splitPosition.getParentPath();if(vt(t,n)=="same"&&!e.graveyardPosition){const s=new kn(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,s]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),Be(er,er,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new Tt(0)];r.oldValue=e.newValue}return[r]}),Be(Mi,Mi,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new Tt(0)]:[r]),Be(Qe,Ut,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),Be(Qe,_t,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const s=new te(e.graveyardPosition.root,n),c=Qe.getInsertionPosition(new te(e.graveyardPosition.root,n)),d=new Qe(s,0,c,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),r.graveyardPosition=d.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[d,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Be(Qe,Re,(r,e,t)=>{const n=Y._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const c=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&c){const d=r.splitPosition._getTransformedByMoveOperation(e),h=r.graveyardPosition._getTransformedByMoveOperation(e),p=h.path.slice();p.push(0);const w=new te(h.root,p);return[new Re(d,r.howMany,w,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const s=r.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),[r];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:c,offset:d}=t.abRelation;return r.howMany+=c,r.splitPosition=r.splitPosition.getShiftedBy(d),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const c=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=c,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),[r]}),Be(Qe,Qe,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new Tt(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new Tt(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const p=[];return e.howMany&&p.push(new Re(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&p.push(new Re(r.splitPosition,r.howMany,r.moveTargetPosition,0)),p}else return[new Tt(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const s=new te(e.insertionPosition.root,n),c=new Re(r.insertionPosition,1,s,0);return[r,c]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=Qe.getInsertionPosition(r.splitPosition),[r]});function Wy(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Ss(r,e){const t=[];for(let n=0;n<r.length;n++){const s=r[n],c=new Re(s.start,s.end.offset-s.start.offset,e,0);t.push(c);for(let d=n+1;d<r.length;d++)r[d]=r[d]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return t}class It extends Me(te){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",e);HL.call(this)}detach(){this.stopListening()}toPosition(){return new te(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}It.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};function HL(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&$L.call(this,t)},{priority:"low"})}function $L(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Ts{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},J("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:s=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=s,this.isTyping=c}get type(){return J("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class WL{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=Y._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const c=t.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=n:(s={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,s=!e.range&&t.range,c=e.range&&t.range&&!e.range.isEqual(t.range);if(n||s||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const s=this._changesInElement.get(n).sort((_,C)=>_.offset===C.offset?_.type!=C.type?_.type=="remove"?-1:1:0:_.offset<C.offset?-1:1),c=this._elementSnapshots.get(n),d=qy(n.getChildren()),h=qL(c.length,s);let p=0,w=0;for(const _ of h)if(_==="i")t.push(this._getInsertDiff(n,p,d[p])),p++;else if(_==="r")t.push(this._getRemoveDiff(n,p,c[w])),w++;else if(_==="a"){const C=d[p].attributes,O=c[w].attributes;let z;if(d[p].name=="$text")z=new Y(te._createAt(n,p),te._createAt(n,p+1));else{const U=n.offsetToIndex(p);z=new Y(te._createAt(n,p),te._createAt(n.getChild(U),0))}t.push(...this._getAttributesDiff(z,O,C)),p++,w++}else p++,w++}t.sort((n,s)=>n.position.root!=s.position.root?n.position.root.rootName<s.position.root.rootName?-1:1:n.position.isEqual(s.position)?n.changeCount-s.changeCount:n.position.isBefore(s.position)?-1:1);for(let n=1,s=0;n<t.length;n++){const c=t[s],d=t[n],h=c.type=="remove"&&d.type=="remove"&&c.name=="$text"&&d.name=="$text"&&c.position.isEqual(d.position),p=c.type=="insert"&&d.type=="insert"&&c.name=="$text"&&d.name=="$text"&&c.position.parent==d.position.parent&&c.position.offset+c.length==d.position.offset,w=c.type=="attribute"&&d.type=="attribute"&&c.position.parent==d.position.parent&&c.range.isFlat&&d.range.isFlat&&c.position.offset+c.length==d.position.offset&&c.attributeKey==d.attributeKey&&c.attributeOldValue==d.attributeOldValue&&c.attributeNewValue==d.attributeNewValue;h||p||w?(c.length++,w&&(c.range.end=c.range.end.getShiftedBy(1)),t[n]=null):s=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(GL),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,s){const c=this._changedRoots.get(e)||{name:e},d=c.attributes||{};if(d[t]){const h=d[t];s===h.oldValue?delete d[t]:h.newValue=s}else d[t]={oldValue:n,newValue:s};Object.entries(d).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=d,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Y._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const s=n.getData();this.bufferMarkerChange(n.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const n=t.getData();this.bufferMarkerChange(t.name,{...n,range:null},n)}}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let s=0;s<n.length;s++)n[s].howMany<1&&(n.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,qy(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const s=e.offset+e.howMany,c=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<c&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<c){const d=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:s,howMany:d-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(s<=n.offset)n.offset-=e.howMany;else if(s<=c)if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d,e.nodesToHandle-=d}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<c){const d=c-e.offset;n.howMany-=d,e.nodesToHandle-=d}}if(n.type=="remove"&&(s<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(s<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const d=s-n.offset;n.offset=e.offset,n.howMany-=d}else if(e.offset<c)if(s<=c){const d=n.howMany;n.howMany=e.offset-n.offset;const h=d-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:h,count:this._changeCount++})}else n.howMany-=c-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&s>n.offset){if(s>c){const d={type:"attribute",offset:c,howMany:s-c,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<c&&(s>c?(e.nodesToHandle=s-c,e.offset=c):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&s>n.offset){const d={type:"attribute",offset:n.offset,howMany:s-n.offset,count:this._changeCount++};this._handleChange(d,t),t.push(d),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&s<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&s>=c&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:te._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:te._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const s=[];n=new Map(n);for(const[c,d]of t){const h=n.has(c)?n.get(c):null;h!==d&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),n.delete(c)}for(const[c,d]of n)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),s=e.startOffset;if(n){for(const c of n)if(c.type=="insert"&&s>=c.offset&&s<c.offset+c.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const s=new Y(te._createAt(e,t),te._createAt(e,t+n));for(const c of s.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function qy(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function qL(r,e){const t=[];let n=0,s=0;for(const c of e){if(c.offset>n){for(let d=0;d<c.offset-n;d++)t.push("e");s+=c.offset-n}if(c.type=="insert"){for(let d=0;d<c.howMany;d++)t.push("i");n=c.offset+c.howMany}else if(c.type=="remove"){for(let d=0;d<c.howMany;d++)t.push("r");n=c.offset,s+=c.howMany}else t.push(..."a".repeat(c.howMany).split("")),n=c.offset+c.howMany,s+=c.howMany}if(s<r)for(let c=0;c<r-s-n;c++)t.push("e");return t}function GL(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class YL{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let s=t-1;for(const[h,p]of this._gaps)e>h&&e<p&&(e=p),s>h&&s<p&&(s=h-1);if(s<n.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let d=this._baseVersionToOperationIndex.get(s);return d===void 0&&(d=this._operations.length-1),this._operations.slice(c,d+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ru extends qe{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}ru.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};const Gy="$graveyard";class ZL extends Me(){constructor(e){super(),this.model=e,this.history=new YL,this.selection=new di(this),this.roots=new $n({idProperty:"rootName"}),this.differ=new WL(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Gy),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,s,c,d)=>{const h={...n.getData(),range:c};this.differ.bufferMarkerChange(n.name,d,h),s===null&&n.on("change",(p,w)=>{const _=n.getData();this.differ.bufferMarkerChange(n.name,{..._,range:w},_)})}),this.registerPostFixer(t=>{let n=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),n=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Gy)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new M("model-document-createroot-name-exists",this,{name:t});const n=new ru(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=f_(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,s=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return Yy(e.start)&&Yy(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Yy(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!op(t,n)&&!sp(t,n)}return!0}class KL extends Me(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Is?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,s=!1){const c=e instanceof Is?e.name:e;if(c.includes(","))throw new M("markercollection-incorrect-marker-name",this);const d=this._markers.get(c);if(d){const w=d.getData(),_=d.getRange();let C=!1;return _.isEqual(t)||(d._attachLiveRange(pn.fromRange(t)),C=!0),n!=d.managedUsingOperations&&(d._managedUsingOperations=n,C=!0),typeof s=="boolean"&&s!=d.affectsData&&(d._affectsData=s,C=!0),C&&this.fire(`update:${c}`,d,_,t,w),d}const h=pn.fromRange(t),p=new Is(c,h,n,s);return this._markers.set(c,p),this.fire(`update:${c}`,p,null,t,{...p.getData(),range:null}),p}_remove(e){const t=e instanceof Is?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof Is?e.name:e,n=this._markers.get(t);if(!n)throw new M("markercollection-refresh-marker-not-exists",this);const s=n.getRange();this.fire(`update:${t}`,n,s,s,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Is extends Me(Mr){constructor(e,t,n,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Is.prototype.is=function(r){return r==="marker"||r==="model:marker"};class QL extends Mn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){Ly(Y._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class tr extends Mr{constructor(e){super(),this.markers=new Map,this._children=new mc,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(qe.fromJSON(n)):t.push(Ke.fromJSON(n));return new tr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=JL(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}}tr.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};function JL(r){return typeof r=="string"?[new Ke(r)]:(zt(r)||(r=[r]),Array.from(r).map(e=>typeof e=="string"?new Ke(e):e instanceof li?new Ke(e.data,e.getAttributes()):e))}class XL{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ke(e,t)}createElement(e,t){return new qe(e,t)}createDocumentFragment(){return new tr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Ke&&e.data=="")return;const s=te._createAt(t,n);if(e.parent)if(Qy(e.root,s.root)){this.move(Y._createOn(e),s);return}else{if(e.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(e)}const c=s.root.document?s.root.document.version:null,d=new Ut(s,e,c);if(e instanceof Ke&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof tr)for(const[h,p]of e.markers){const w=te._createAt(p.root,0),C={range:new Y(p.start._getCombined(w,s),p.end._getCombined(w,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,C):this.addMarker(h,C)}}insertText(e,t,n,s){t instanceof tr||t instanceof qe||t instanceof te?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,s)}insertElement(e,t,n,s){t instanceof tr||t instanceof qe||t instanceof te?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof tr||t instanceof qe?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof tr||t instanceof qe?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Y){const s=n.getMinimalFlatRanges();for(const c of s)Zy(this,e,t,c)}else Ky(this,e,t,n)}setAttributes(e,t){for(const[n,s]of Di(e))this.setAttribute(n,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Y){const n=t.getMinimalFlatRanges();for(const s of n)Zy(this,e,null,s)}else Ky(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const s of n.getAttributeKeys())this.removeAttribute(s,n)};if(!(e instanceof Y))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Y))throw new M("writer-move-invalid-range",this);if(!e.isFlat)throw new M("writer-move-range-not-flat",this);const s=te._createAt(t,n);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Qy(e.root,s.root))throw new M("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,d=new Re(e.start,e.end.offset-e.start.offset,s,c);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof Y?e:Y._createOn(e)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),e6(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof qe))throw new M("writer-merge-no-element-before",this);if(!(n instanceof qe))throw new M("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Y._createIn(n),te._createAt(t,"end")),this.remove(n)}_merge(e){const t=te._createAt(e.nodeBefore,"end"),n=te._createAt(e.nodeAfter,0),s=e.root.document.graveyard,c=new te(s,[0]),d=e.root.document.version,h=new _t(n,e.nodeAfter.maxOffset,t,c,d);this.batch.addOperation(h),this.model.applyOperation(h)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof qe))throw new M("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,s=new kn(te._createBefore(e),e.name,t,n);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new M("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new M("writer-split-invalid-limit-element",this);let s,c;do{const d=n.root.document?n.root.document.version:null,h=n.maxOffset-e.offset,p=Qe.getInsertionPosition(e),w=new Qe(e,h,p,null,d);this.batch.addOperation(w),this.model.applyOperation(w),!s&&!c&&(s=n,c=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new Y(te._createAt(s,"end"),te._createAt(c,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new M("writer-wrap-range-not-flat",this);const n=t instanceof qe?t:new qe(t);if(n.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(n,e.start);const s=new Y(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,te._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(Y._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,s=t.range,c=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new M("writer-addmarker-marker-exists",this);if(!s)throw new M("writer-addmarker-no-range",this);return n?(xc(this,e,null,s,c),this.model.markers.get(e)):this.model.markers._set(e,s,n,c)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new M("writer-updatemarker-marker-not-exists",this);if(!t){J("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(s);return}const c=typeof t.usingOperation=="boolean",d=typeof t.affectsData=="boolean",h=d?t.affectsData:s.affectsData;if(!c&&!t.range&&!d)throw new M("writer-updatemarker-wrong-options",this);const p=s.getRange(),w=t.range?t.range:p;if(c&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?xc(this,n,null,w,h):(xc(this,n,p,null,h),this.model.markers._set(n,w,void 0,h));return}s.managedUsingOperations?xc(this,n,p,w,h):this.model.markers._set(n,w,void 0,h)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new M("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const s=n.getRange();xc(this,t,s,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new M("writer-addroot-root-exists",this);const s=this.model.document,c=new Mi(e,t,!0,s,s.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new M("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===t&&this.removeMarker(c);for(const c of t.getAttributeKeys())this.removeAttribute(c,t);this.remove(this.createRangeIn(t));const n=this.model.document,s=new Mi(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,s]of Di(e))this._setSelectionAttribute(n,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=di._getStoreAttributeKey(e);this.setAttribute(s,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=di._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const s=n.getRange();let c=!1;if(e==="move"){const d=t;c=d.containsPosition(s.start)||d.start.isEqual(s.start)||d.containsPosition(s.end)||d.end.isEqual(s.end)}else{const d=t,h=d.nodeBefore,p=d.nodeAfter,w=s.start.parent==h&&s.start.isAtEnd,_=s.end.parent==p&&s.end.offset==0,C=s.end.nodeAfter==p,O=s.start.nodeAfter==p;c=w||_||C||O}c&&this.updateMarker(n.name,{range:s})}}}function Zy(r,e,t,n){const s=r.model,c=s.document;let d=n.start,h,p,w;for(const C of n.getWalker({shallow:!0}))w=C.item.getAttribute(e),h&&p!=w&&(p!=t&&_(),d=h),h=C.nextPosition,p=w;h instanceof te&&h!=d&&p!=t&&_();function _(){const C=new Y(d,h),O=C.root.document?c.version:null,z=new Et(C,e,p,t,O);r.batch.addOperation(z),s.applyOperation(z)}}function Ky(r,e,t,n){const s=r.model,c=s.document,d=n.getAttribute(e);let h,p;if(d!=t){if(n.root===n){const _=n.document?c.version:null;p=new er(n,e,d,t,_)}else{h=new Y(te._createBefore(n),r.createPositionAfter(n));const _=h.root.document?c.version:null;p=new Et(h,e,d,t,_)}r.batch.addOperation(p),s.applyOperation(p)}}function xc(r,e,t,n,s){const c=r.model,d=c.document,h=new mn(e,t,n,c.markers,!!s,d.version);r.batch.addOperation(h),c.applyOperation(h)}function e6(r,e,t,n){let s;if(r.root.document){const c=n.document,d=new te(c.graveyard,[0]);s=new Re(r,e,d,c.version)}else s=new QL(r,e);t.addOperation(s),n.applyOperation(s)}function Qy(r,e){return r===e||r instanceof ru&&e instanceof ru}function t6(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const s=r.schema;r.change(c=>{if(!t.doNotResetEntireContent&&d6(s,e)){l6(c,e);return}const d={};if(!t.doNotAutoparagraph){const w=e.getSelectedElement();w&&Object.assign(d,s.getAttributesWithProperty(w,"copyOnReplace",!0))}const[h,p]=n6(n);h.isTouching(p)||c.remove(c.createRange(h,p)),t.leaveUnmerged||(r6(c,h,p),s.removeDisallowedAttributes(h.parent.getChildren(),c)),tA(c,e,h),!t.doNotAutoparagraph&&a6(s,h)&&eA(c,h,e,d),h.detach(),p.detach()})}function n6(r){const e=r.root.document.model,t=r.start;let n=r.end;if(e.hasContent(r,{ignoreMarkers:!0})){const s=i6(n);if(s&&n.isTouching(e.createPositionAt(s,0))){const c=e.createSelection(r);e.modifySelection(c,{direction:"backward"});const d=c.getLastPosition(),h=e.createRange(d,n);e.hasContent(h,{ignoreMarkers:!0})||(n=d)}}return[It.fromPosition(t,"toPrevious"),It.fromPosition(n,"toNext")]}function i6(r){const e=r.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of n){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function r6(r,e,t){const n=r.model;if(!Rp(r.model.schema,e,t))return;const[s,c]=s6(e,t);!s||!c||(!n.hasContent(s,{ignoreMarkers:!0})&&n.hasContent(c,{ignoreMarkers:!0})?Xy(r,e,t,s.parent):Jy(r,e,t,s.parent))}function Jy(r,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=r.createPositionAfter(s),t=r.createPositionBefore(c),t.isEqual(e)||r.insert(c,e),r.merge(e);t.parent.isEmpty;){const d=t.parent;t=r.createPositionBefore(d),r.remove(d)}Rp(r.model.schema,e,t)&&Jy(r,e,t,n)}}function Xy(r,e,t,n){const s=e.parent,c=t.parent;if(!(s==n||c==n)){for(e=r.createPositionAfter(s),t=r.createPositionBefore(c),t.isEqual(e)||r.insert(s,t);e.parent.isEmpty;){const d=e.parent;e=r.createPositionBefore(d),r.remove(d)}t=r.createPositionBefore(c),o6(r,t),Rp(r.model.schema,e,t)&&Xy(r,e,t,n)}}function o6(r,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&r.rename(t,n.name),r.clearAttributes(t),r.setAttributes(Object.fromEntries(n.getAttributes()),t),r.merge(e)}function Rp(r,e,t){const n=e.parent,s=t.parent;return n==s||r.isLimit(n)||r.isLimit(s)?!1:c6(e,t,r)}function s6(r,e){const t=r.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]&&t[s]==n[s];)s++;return[t[s],n[s]]}function a6(r,e){const t=r.checkChild(e,"$text"),n=r.checkChild(e,"paragraph");return!t&&n}function c6(r,e,t){const n=new Y(r,e);for(const s of n.getWalker())if(t.isLimit(s.item))return!1;return!0}function eA(r,e,t,n={}){const s=r.createElement("paragraph");r.model.schema.setAllowedAttributes(s,n,r),r.insert(s,e),tA(r,t,r.createPositionAt(s,0))}function l6(r,e){const t=r.model.schema.getLimitElement(e);r.remove(r.createRangeIn(t)),eA(r,r.createPositionAt(t,0),e)}function d6(r,e){const t=r.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:r.checkChild(t,"paragraph")}function tA(r,e,t){e instanceof di?r.setSelection(t):e.setTo(t)}function u6(r,e){return r.change(t=>{const n=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return n;const c=s.start.root,d=s.start.getCommonPath(s.end),h=c.getNodeByPath(d);let p;s.start.parent==s.end.parent?p=s:p=t.createRange(t.createPositionAt(h,s.start.path[d.length]),t.createPositionAt(h,s.end.path[d.length]+1));const w=p.end.offset-p.start.offset;for(const _ of p.getItems({shallow:!0}))_.is("$textProxy")?t.appendText(_.data,_.getAttributes(),n):t.append(t.cloneElement(_,!0),n);if(p!=s){const _=s._getTransformedByMove(p.start,t.createPositionAt(n,0),w)[0],C=t.createRange(t.createPositionAt(n,0),_.start),O=t.createRange(_.end,t.createPositionAt(n,"end"));nA(O,t),nA(C,t)}return n})}function nA(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let s=n;for(;s.parent&&s.isEmpty;){const c=e.createRangeOn(s);s=s.parent,e.remove(c)}})}function h6(r,e,t){return r.change(n=>{const s=t||r.document.selection;s.isCollapsed||r.deleteContent(s,{doNotAutoparagraph:!0});const c=new f6(r,n,s.anchor),d=[];let h;if(e.is("documentFragment")){if(e.markers.size){const _=[];for(const[C,O]of e.markers){const{start:z,end:U}=O,ne=z.isEqual(U);_.push({position:z,name:C,isCollapsed:ne},{position:U,name:C,isCollapsed:ne})}_.sort(({position:C},{position:O})=>C.isBefore(O)?1:-1);for(const{position:C,name:O,isCollapsed:z}of _){let U=null,ne=null;const he=C.parent===e&&C.isAtStart,we=C.parent===e&&C.isAtEnd;!he&&!we?(U=n.createElement("$marker"),n.insert(U,C)):z&&(ne=he?"start":"end"),d.push({name:O,element:U,collapsed:ne})}}h=e.getChildren()}else h=[e];c.handleNodes(h);let p=c.getSelectionRange();if(e.is("documentFragment")&&d.length){const _=p?pn.fromRange(p):null,C={};for(let O=d.length-1;O>=0;O--){const{name:z,element:U,collapsed:ne}=d[O],he=!C[z];if(he&&(C[z]=[]),U){const we=n.createPositionAt(U,"before");C[z].push(we),n.remove(U)}else{const we=c.getAffectedRange();if(!we){ne&&C[z].push(c.position);continue}ne?C[z].push(we[ne]):C[z].push(he?we.start:we.end)}}for(const[O,[z,U]]of Object.entries(C))z&&U&&z.root===U.root&&n.addMarker(O,{usingOperation:!0,affectsData:!0,range:new Y(z,U)});_&&(p=_.toRange(),_.detach())}p&&(s instanceof di?n.setSelection(p):s.setTo(p));const w=c.getAffectedRange()||r.createRange(s.anchor);return c.destroy(),w})}class f6{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Y._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Y(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=It.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new M("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=It.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=It.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof qe)||!this._canMergeLeft(e))return;const t=It._createBefore(e);t.stickiness="toNext";const n=It.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=It._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=It._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof qe)||!this._canMergeRight(e))return;const t=It._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new M("insertcontent-invalid-insertion-position",this);this.position=te._createAt(t.nodeBefore,"end");const n=It.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=It._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=It._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof qe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof qe&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function iA(r,e,t="auto"){const n=r.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const s=Vt(r.getSelectedBlocks());if(!s)return e.createRange(r.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const c=e.createPositionAfter(s);return r.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(s))}function g6(r,e,t,n={}){if(!r.schema.isObject(e))throw new M("insertobject-element-not-an-object",r,{object:e});const s=t||r.document.selection;let c=s;n.findOptimalPosition&&r.schema.isBlock(e)&&(c=r.createSelection(iA(s,r,n.findOptimalPosition)));const d=Vt(s.getSelectedBlocks()),h={};return d&&Object.assign(h,r.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),r.change(p=>{c.isCollapsed||r.deleteContent(c,{doNotAutoparagraph:!0});let w=e;const _=c.anchor.parent;!r.schema.checkChild(_,e)&&r.schema.checkChild(_,"paragraph")&&r.schema.checkChild("paragraph",e)&&(w=p.createElement("paragraph"),p.insert(e,w)),r.schema.setAllowedAttributes(w,h,p);const C=r.insertContent(w,c);return C.isCollapsed||n.setSelection&&p6(p,e,n.setSelection,h),C})}function p6(r,e,t,n){const s=r.model;if(t=="on"){r.setSelection(e,"on");return}if(t!="after")throw new M("insertobject-invalid-place-parameter-value",s);let c=e.nextSibling;if(s.schema.isInline(e)){r.setSelection(e,"after");return}!(c&&s.schema.checkChild(c,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(c=r.createElement("paragraph"),s.schema.setAllowedAttributes(c,n,r),s.insertContent(c,r.createPositionAfter(e))),c&&r.setSelection(c,0)}const m6=' ,.?!:;"-()';function k6(r,e,t={}){const n=r.schema,s=t.direction!="backward",c=t.unit?t.unit:"character",d=!!t.treatEmojiAsSingleUnit,h=e.focus,p=new Ii({boundaries:_6(h,s),singleCharacters:!0,direction:s?"forward":"backward"}),w={walker:p,schema:n,isForward:s,unit:c,treatEmojiAsSingleUnit:d};let _;for(;_=p.next();){if(_.done)return;const C=b6(w,_.value);if(C){e instanceof di?r.change(O=>{O.setSelectionFocus(C)}):e.setFocus(C);return}}}function b6(r,e){const{isForward:t,walker:n,unit:s,schema:c,treatEmojiAsSingleUnit:d}=r,{type:h,item:p,nextPosition:w}=e;if(h=="text")return r.unit==="word"?v6(n,t):w6(n,s,d);if(h==(t?"elementStart":"elementEnd")){if(c.isSelectable(p))return te._createAt(p,t?"after":"before");if(c.checkChild(w,"$text"))return w}else{if(c.isLimit(p)){n.skip(()=>!0);return}if(c.checkChild(w,"$text"))return w}}function w6(r,e,t){const n=r.position.textNode;if(n){const s=n.data;let c=r.position.offset-n.startOffset;for(;op(s,c)||e=="character"&&sp(s,c)||t&&n_(s,c);)r.next(),c=r.position.offset-n.startOffset}return r.position}function v6(r,e){let t=r.position.textNode;for(t||(t=e?r.position.nodeAfter:r.position.nodeBefore);t&&t.is("$text");){const n=r.position.offset-t.startOffset;if(A6(t,n,e))t=e?r.position.nodeAfter:r.position.nodeBefore;else{if(y6(t.data,n,e))break;r.next()}}return r.position}function _6(r,e){const t=r.root,n=te._createAt(t,e?"end":0);return e?new Y(r,n):new Y(n,r)}function y6(r,e,t){const n=e+(t?0:-1);return m6.includes(r.charAt(n))}function A6(r,e,t){return e===(t?r.offsetSize:0)}class C6 extends Ue(){constructor(){super(),this.markers=new KL,this.document=new ZL(this),this.schema=new dL,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),tL(this),this.document.registerPostFixer(Cy),this.on("insertContent",(e,[t,n])=>{e.return=h6(this,t,n)}),this.on("insertObject",(e,[t,n,s])=>{e.return=g6(this,t,n,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ts,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){M.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ts):e instanceof Ts||(e=new Ts(e)):e=new Ts,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){M.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...s){const c=Fp(t,n);return this.fire("insertContent",[e,c,n,...s])}insertObject(e,t,n,s,...c){const d=Fp(t,n);return this.fire("insertObject",[e,d,s,s,...c])}deleteContent(e,t){t6(this,e,t)}modifySelection(e,t){k6(this,e,t)}getSelectedContent(e){return u6(this,e)}hasContent(e,t={}){const n=e instanceof Y?e:Y._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:c=!1}=t;if(!c){for(const d of this.markers.getMarkersIntersectingRange(n))if(d.affectsData)return!0}for(const d of n.getItems())if(this.schema.isContent(d))if(d.is("$textProxy"))if(s){if(d.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Fp(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new te(e,t,n)}createPositionAt(e,t){return te._createAt(e,t)}createPositionAfter(e){return te._createAfter(e)}createPositionBefore(e){return te._createBefore(e)}createRange(e,t){return new Y(e,t)}createRangeIn(e){return Y._createIn(e)}createRangeOn(e){return Y._createOn(e)}createSelection(...e){return new In(...e)}createBatch(e){return new Ts(e)}createOperationFromJSON(e){return LL.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new XL(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Fp(r,e){if(r)return r instanceof In||r instanceof di?r:r instanceof No?e||e===0?new In(r,e):r.is("rootElement")?new In(r,"in"):new In(r,"on"):new In(r)}class x6 extends Mo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class ou extends Mo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class zo{constructor(e){this.document=e}createDocumentFragment(e){return new Io(this.document,e)}createElement(e,t,n){return new Sn(this.document,e,t,n)}createText(e){return new Ze(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const s=n.getChildIndex(e);return this.removeChildren(s,1,n),this.insertChild(s,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Sn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Xt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return oe._createAt(e,t)}createPositionAfter(e){return oe._createAfter(e)}createPositionBefore(e){return oe._createBefore(e)}createRange(e,t){return new ve(e,t)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new ai(...e)}}class E6{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new M("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class D6 extends si{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const s=t;t=(c,d)=>{this.editor.execute(s),d()}}super.set(e,t,n)}}class S6 extends Ue(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new a_({language:n}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Ov(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new s_(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new E6,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new C6,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new tP;this.data=new NL(this.model,c),this.editing=new aL(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new PL([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new D6(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),n,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){M.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function T6(r){if(!Gi(r.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",r);const e=r.sourceElement;if(I6(e)&&e.form){let t;const n=e.form,s=()=>r.updateSourceElement();Gi(n.submit)&&(t=n.submit,n.submit=()=>{s(),t.apply(n)}),n.addEventListener("submit",s),r.on("destroy",()=>{n.removeEventListener("submit",s),t&&(n.submit=t)})}}function I6(r){return!!r&&r.tagName.toLowerCase()==="textarea"}function su(r){class e extends r{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const r=su(Object);su.setData=r.prototype.setData,su.getData=r.prototype.getData}function Vp(r){class e extends r{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),c=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!c){Uv(this.sourceElement,"");return}Uv(this.sourceElement,n)}}return e}Vp.updateSourceElement=Vp(Object).prototype.updateSourceElement;function M6(r,e){if(e.ckeditorInstance)throw new M("editor-source-element-already-used",r);e.ckeditorInstance=r,r.once("destroy",()=>{delete e.ckeditorInstance})}class rA extends c_{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new $n({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new M("pendingactions-add-invalid-message",this);const t=new(Ue());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Te={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class oA{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const s of n)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Up(r,e=new Set){const t=[r],n=new Set;let s=0;for(;t.length>s;){const c=t[s++];if(!(n.has(c)||!N6(c)||e.has(c)))if(n.add(c),Symbol.iterator in c)try{for(const d of c)t.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&t.push(c[d])}return n}function N6(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r===void 0||r===null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function sA(r,e,t=new Set){if(r===e&&O6(r))return!0;const n=Up(r,t),s=Up(e,t);for(const c of n)if(s.has(c))return!0;return!1}function O6(r){return typeof r=="object"&&r!==null}var P6="Expected a function";function B6(r,e,t){var n=!0,s=!0;if(typeof r!="function")throw new TypeError(P6);return tt(t)&&(n="leading"in t?!!t.leading:n,s="trailing"in t?!!t.trailing:s),pc(r,e,{leading:n,maxWait:e,trailing:s})}const Ec=B6;class aA extends oA{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Ec(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,s)=>e.create(n,s)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},s={};for(const[d,h]of Object.entries(this._data.roots))h.isLoaded?(e[d]="",s[d]=n[d]||{}):t.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(z6),this._initUsingData?this.create(e,c,c.context):Ao(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(h=>h.isAttached()&&h.rootName!="$graveyard"),{plugins:n}=e,s=n.has("CommentsRepository")&&n.get("CommentsRepository"),c=n.has("TrackChanges")&&n.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(h=>{d.roots[h.rootName]={content:JSON.stringify(Array.from(h.getChildren())),attributes:JSON.stringify(Array.from(h.getAttributes())),isLoaded:h._isLoaded}});for(const h of e.model.markers)h._affectsData&&(d.markers[h.name]={rangeJSON:h.getRange().toJSON(),usingOperation:h._managedUsingOperations,affectsData:h._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return sA(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Xg(e,(t,n)=>{if(Ao(t)||n==="context")return t})}}class z6{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)n._appendChild(this._createNode(e,s));return n}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:c}])=>{const d=JSON.parse(s),h=JSON.parse(c),p=t.model.document.getRoot(n);for(const[w,_]of h)e.setAttribute(w,_,p);for(const w of d){const _=this._createNode(e,w);e.insert(_,p,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:c}=t.model,{rangeJSON:{start:d,end:h},...p}=s,w=c.getRoot(d.root),_=e.createPositionFromPath(w,d.path,d.stickiness),C=e.createPositionFromPath(w,h.path,h.stickiness),O=e.createRange(_,C);e.addMarker(n,{range:O,...p})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(n.threadId)&&c.getCommentThread(n.threadId).remove(),c.addCommentThread({channelId:s,...n})}),t.forEach(n=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(n.id)){const c=s.getSuggestion(n.id);c.attributes=n.attributes}else s.addSuggestionData(n)})}}const Dc=Symbol("MainQueueId");class L6 extends oA{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new j6,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Dc,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=cA(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return s=new aA(null,this._watchdogConfig),s.setCreator(n.creator),s._setExcludedProperties(this._contextProps),n.destructor&&s.setDestructor(n.destructor),this._watchdogs.set(n.id,s),s.on("error",(c,{error:d,causesRestart:h})=>{this._fire("itemError",{itemId:n.id,error:d}),h&&this._actionQueues.enqueue(n.id,()=>new Promise(p=>{const w=()=>{s.off("restart",w),this._fire("itemRestart",{itemId:n.id}),p()};s.on("restart",w)}))}),s.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=cA(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const s=this._getWatchdog(n);return this._watchdogs.delete(n),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Dc,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dc,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Up(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return sA(this._context,e.context)}}class j6{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Dc;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const c=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dc),this._queues.get(e)])).then(t),d=c.catch(()=>{});return this._queues.set(e,d),c.finally(()=>{this._activeActions--,this._queues.get(e)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function cA(r){return Array.isArray(r)?r:[r]}function Hp({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(s,c)=>{if(!e())return;const d=typeof c.composedPath=="function"?c.composedPath():[],h=typeof n=="function"?n():n;for(const p of h)if(p.contains(c.target)||d.includes(p))return;t()})}function $p(r){class e extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function au({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}class Ni extends $n{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,s)=>{this._renderViewIntoCollectionParent(n,s)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!R6(e))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const s of e)n.delegate(s).to(t);this.on("add",(n,s)=>{for(const c of e)s.delegate(c).to(t)}),this.on("remove",(n,s)=>{for(const c of e)s.stopDelegating(c,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function R6(r){return r.every(e=>typeof e=="string")}var lA=a(5167),Wp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Wp.insert="head",Wp.singleton=!0,ge()(lA.Z,Wp),lA.Z.locals;class Ae extends Dn(Ue()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new $n,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Oi.bind(this,this)}createCollection(e){const t=new Ni(e);return this._viewCollections.add(t),t}registerChild(e){zt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){zt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Oi(e)}extendTemplate(e){Oi.extend(this.template,e)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const F6="http://www.w3.org/1999/xhtml";class Oi extends Me(){constructor(e){super(),Object.assign(this,fA(hA(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=wA(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)lu(n)?yield n:qp(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,s){return new V6({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:s})},if(n,s,c){return new dA({observable:e,emitter:t,attribute:n,valueIfTrue:s,callback:c})}}}static extend(e,t){if(e._isRendered)throw new M("template-extend-render",[this,e]);kA(e,fA(hA(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||F6,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),cu(this.text)?this._bindToObservable({schema:this.text,updater:H6(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const s in this.attributes){const c=t.getAttribute(s),d=this.attributes[s];n&&(n.attributes[s]=c);const h=bA(d)?d[0].ns:null;if(cu(d)){const p=bA(d)?d[0].value:d;n&&vA(s)&&p.unshift(c),this._bindToObservable({schema:p,updater:$6(t,s,h),data:e})}else if(s=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{n&&c&&vA(s)&&d.unshift(c);const p=d.map(w=>w&&(w.value||w)).reduce((w,_)=>w.concat(_),[]).reduce(pA,"");Ms(p)||t.setAttributeNS(h,s,p)}}}_renderStyleAttribute(e,t){const n=t.node;for(const s in e){const c=e[s];cu(c)?this._bindToObservable({schema:[c],updater:W6(n,s),data:t}):n.style[s]=c}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let c=0;for(const d of this.children)if(Gp(d)){if(!s){d.setParent(t);for(const h of d)n.appendChild(h.element)}}else if(lu(d))s||(d.isRendered||d.render(),n.appendChild(d.element));else if(Tr(d))n.appendChild(d);else if(s){const h=e.revertData,p=wA();h.children.push(p),d._renderNode({intoFragment:!1,node:n.childNodes[c++],isApplying:!0,revertData:p})}else n.appendChild(d.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(s=>{const[c,d]=t.split("@");return s.activateDomEventListener(c,d,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const s=n.revertData;uA(e,t,n);const c=e.filter(d=>!Ms(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,t,n));s&&s.bindings.push(c)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const c of s)c();if(t.text){e.textContent=t.text;return}const n=e;for(const s in t.attributes){const c=t.attributes[s];c===null?n.removeAttribute(s):n.setAttribute(s,c)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(n.childNodes[s],t.children[s])}}class Sc{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const s=()=>uA(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class V6 extends Sc{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const s=(c,d)=>{(!t||d.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(n.node,e,s),()=>{this.emitter.stopListening(n.node,e,s)}}}class dA extends Sc{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Ms(t)?!1:this.valueIfTrue||!0}}function cu(r){return r?(r.value&&(r=r.value),Array.isArray(r)?r.some(cu):r instanceof Sc):!1}function U6(r,e){return r.map(t=>t instanceof Sc?t.getValue(e):t)}function uA(r,e,{node:t}){const n=U6(r,t);let s;r.length==1&&r[0]instanceof dA?s=n[0]:s=n.reduce(pA,""),Ms(s)?e.remove():e.set(s)}function H6(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function $6(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function W6(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function hA(r){return Xg(r,t=>{if(t&&(t instanceof Sc||qp(t)||lu(t)||Gp(t)))return t})}function fA(r){if(typeof r=="string"?r=Y6(r):r.text&&Z6(r),r.on&&(r.eventListeners=G6(r.on),delete r.on),!r.text){r.attributes&&q6(r.attributes);const e=[];if(r.children)if(Gp(r.children))e.push(r.children);else for(const t of r.children)qp(t)||lu(t)||Tr(t)?e.push(t):e.push(new Oi(t));r.children=e}return r}function q6(r){for(const e in r)r[e].value&&(r[e].value=Ft(r[e].value)),gA(r,e)}function G6(r){for(const e in r)gA(r,e);return r}function Y6(r){return{text:[r]}}function Z6(r){r.text=Ft(r.text)}function gA(r,e){r[e]=Ft(r[e])}function pA(r,e){return Ms(e)?r:Ms(r)?e:`${r} ${e}`}function mA(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function kA(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),mA(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),mA(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new M("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)kA(r.children[t++],n)}}function Ms(r){return!r&&r!==0}function lu(r){return r instanceof Ae}function qp(r){return r instanceof Oi}function Gp(r){return r instanceof Ni}function bA(r){return tt(r[0])&&r[0].ns}function wA(){return{children:[],bindings:[],attributes:{}}}function vA(r){return r=="class"||r=="style"}class K6 extends Ni{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Oi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=vs(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var _A=a(1977),Yp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yp.insert="head",Yp.singleton=!0,ge()(_A.Z,Yp),_A.Z.locals;class nr extends Ae{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:c}of Array.from(t.attributes))nr.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,c);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}nr.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Q6 extends Ae{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var yA=a(4971),Zp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zp.insert="head",Zp.singleton=!0,ge()(yA.Z,Zp),yA.Z.locals;class We extends Ae{constructor(e,t=new Q6){super(e),this._focusDelayed=null;const n=this.bindTemplate,s=H();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new nr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",d=>!d),n.if("isVisible","ck-hidden",d=>!d),n.to("isOn",d=>d?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",d=>d||"button"),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,d=>!d),"aria-checked":n.to("isOn"),"aria-pressed":n.to("isOn",d=>this.isToggleable?String(!!d):!1),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};m.isSafari&&(this._focusDelayed||(this._focusDelayed=rp(()=>this.focus(),0)),c.on.mousedown=n.to(()=>{this._focusDelayed()}),c.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Ae;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Xv(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=Xv(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var AA=a(7258),Kp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Kp.insert="head",Kp.singleton=!0,ge()(AA.Z,Kp),AA.Z.locals;class Qp extends We{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ae;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var CA=a(4923),Jp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Jp.insert="head",Jp.singleton=!0,ge()(CA.Z,Jp),CA.Z.locals,a(8874),a(2085);var xA=a(3525),Xp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xp.insert="head",Xp.singleton=!0,ge()(xA.Z,Xp),xA.Z.locals;class J6 extends Ae{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${H()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var EA=a(2933),em={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};em.insert="head",em.singleton=!0,ge()(EA.Z,em),EA.Z.locals;class Tc extends Ae{constructor(e,t){super(e);const n=`ck-labeled-field-view-${H()}`,s=`ck-labeled-field-view-status-${H()}`;this.fieldView=t(this,n,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,h)=>d||h);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",d=>!d),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new J6(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Ae(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",s=>!s)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class X6 extends Ae{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new gn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=ej(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function ej(r){return!r.value}var DA=a(2470),tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tm.insert="head",tm.singleton=!0,ge()(DA.Z,tm),DA.Z.locals;class tj extends X6{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class nj extends tj{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var SA=a(5224),nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nm.insert="head",nm.singleton=!0,ge()(SA.Z,nm),SA.Z.locals;class ij extends Ae{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():J("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var TA=a(5062),im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};im.insert="head",im.singleton=!0,ge()(TA.Z,im),TA.Z.locals;class Ns extends Ae{constructor(e,t,n){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new si,this.focusTracker=new gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,n,s)=>{if(s)if(this.panelPosition==="auto"){const c=Ns._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:s,northEast:c,northWest:d,southMiddleEast:h,southMiddleWest:p,northMiddleEast:w,northMiddleWest:_}=Ns.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,s,h,p,e,c,d,w,_,t]:[s,n,p,h,e,d,c,_,w,t]}}Ns.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)*3/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)*3/4,name:"nmw"})},Ns._getOptimalPosition=np;const IA='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class MA extends We{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new nr;return e.content=IA,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class ir extends Me(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const s of n)e.keystrokeHandler.set(s,(c,d)=>{this[t](),d()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(rm)||null}get last(){return this.focusables.filter(rm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=n),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+n+e)%n;do{const c=this.focusables.get(s);if(rm(c))return c;s=(s+n+e)%n}while(s!==t);return null}}function rm(r){return!!("focus"in r&&Co(r.element))}class NA extends Ae{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class rj extends Ae{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function oj(r){return r.bindTemplate.to(e=>{e.target===r.element&&e.preventDefault()})}function OA(r){return Array.isArray(r)?{items:r,removeItems:[]}:r?Object.assign({items:[],removeItems:[]},r):{items:[],removeItems:[]}}var PA=a(4768),om={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};om.insert="head",om.singleton=!0,ge()(PA.Z,om),PA.Z.locals;const{threeVerticalDots:BA}=Te,sj={alignLeft:Te.alignLeft,bold:Te.bold,importExport:Te.importExport,paragraph:Te.paragraph,plus:Te.plus,text:Te.text,threeVerticalDots:Te.threeVerticalDots,pilcrow:Te.pilcrow,dragIndicator:Te.dragIndicator};class sm extends Ae{constructor(e,t){super(e);const n=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new gn,this.keystrokes=new si,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new aj(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:oj(this)}}),this._behavior=this.options.shouldGroupWhenFull?new lj(this):new cj(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const s=OA(e),c=n||s.removeItems;return this._cleanItemsConfiguration(s.items,t,c).map(h=>tt(h)?this._createNestedToolbarDropdown(h,t,c):h==="|"?new NA:h==="-"?new rj:t.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(e,t,n){const s=e.filter((c,d,h)=>c==="|"?!0:n.indexOf(c)!==-1?!1:c==="-"?this.options.shouldGroupWhenFull?(J("toolbarview-line-break-ignored-when-grouping-items",h),!1):!0:!tt(c)&&!t.has(c)?(J("toolbarview-item-unavailable",{item:c}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=d=>d!=="-"&&d!=="|",n=e.length,s=e.findIndex(t);if(s===-1)return[];const c=n-e.slice().reverse().findIndex(t);return e.slice(s,c).filter((d,h,p)=>t(d)?!0:!(h>0&&p[h-1]===d))}_createNestedToolbarDropdown(e,t,n){let{label:s,icon:c,items:d,tooltip:h=!0,withText:p=!1}=e;if(d=this._cleanItemsConfiguration(d,t,n),!d.length)return null;const w=this.locale,_=Nr(w);return s||J("toolbarview-nested-toolbar-dropdown-missing-label",e),_.class="ck-toolbar__nested-toolbar-dropdown",_.buttonView.set({label:s,tooltip:h,withText:!!p}),c!==!1?_.buttonView.icon=sj[c]||c||BA:_.buttonView.withText=!0,uu(_,()=>_.toolbarView._buildItemsFromConfig(d,t,n)),_}}class aj extends Ae{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class cj{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class lj{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const s=n.index,c=Array.from(n.added);for(const d of n.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=s;d<s+c.length;d++){const h=c[d-s];d>this.ungroupedItems.length?this.groupedItems.add(h,d-this.ungroupedItems.length):this.ungroupedItems.add(h,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Co(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Ne(e.lastChild),s=new Ne(e);if(!this.cachedPadding){const c=be.window.getComputedStyle(e),d=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[d])}return t==="ltr"?n.right>s.right-this.cachedPadding:n.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Xe(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new NA),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Nr(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",uu(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:BA}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class du extends Ae{constructor(e){super(e);const t=this.bindTemplate,n=`ck-editor__label_${H()}`,s=new LA(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(n),s]),this.set({label:"",isVisible:!0}),s.set({role:"group",ariaLabelledBy:n}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",c=>!c)]},children:this.children})}_createLabel(e){const t=new Ae(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:n.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var zA=a(179),am={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};am.insert="head",am.singleton=!0,ge()(zA.Z,am),zA.Z.locals;class LA extends Ae{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Ni,this.items=this.createCollection(),this.focusTracker=new gn,this.keystrokes=new si,this._focusCycler=new ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof du?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof du?this._deregisterFocusableItemsGroup(n):this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof du?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const s of n.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(n.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,c)=>{const d=typeof t<"u"?t+c:void 0;this._registerFocusableListItem(s,d)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class jA extends Ae{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class dj extends Ae{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var RA=a(4791),cm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};cm.insert="head",cm.singleton=!0,ge()(RA.Z,cm),RA.Z.locals;class lm extends Ae{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new si,this.focusTracker=new gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new We;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new We,t=e.bindTemplate;return e.icon=IA,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var FA=a(2704),dm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dm.insert="head",dm.singleton=!0,ge()(FA.Z,dm),FA.Z.locals;var VA=a(1883),um={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};um.insert="head",um.singleton=!0,ge()(VA.Z,um),VA.Z.locals;function Nr(r,e=MA){const t=new e(r),n=new ij(r),s=new Ns(r,t,n);return t.bind("isEnabled").to(s),t instanceof lm?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),uj(s),s}function uu(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?UA(r,e,t):r.once("change:isOpen",()=>UA(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&WA(r,()=>r.toolbarView.items.find(n=>n.isOn))}function UA(r,e,t){const n=r.locale,s=n.t,c=r.toolbarView=new sm(n),d=typeof e=="function"?e():e;c.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(c.maxWidth=t.maxWidth),t.class&&(c.class=t.class),t.isCompact&&(c.isCompact=t.isCompact),t.isVertical&&(c.isVertical=!0),d instanceof Ni?c.items.bindTo(d).using(h=>h):c.items.addMany(d),r.panelView.children.add(c),c.items.delegate("execute").to(r)}function HA(r,e,t={}){r.isOpen?$A(r,e,t):r.once("change:isOpen",()=>$A(r,e,t),{priority:"highest"}),WA(r,()=>r.listView.items.find(n=>n instanceof jA?n.children.first.isOn:!1))}function $A(r,e,t){const n=r.locale,s=r.listView=new LA(n),c=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,qA(r,s.items,c,n),r.panelView.children.add(s),s.items.delegate("execute").to(r)}function WA(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():J("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:V.low-10})}function uj(r){hj(r),fj(r),gj(r),pj(r),mj(r),kj(r)}function hj(r){r.on("render",()=>{Hp({emitter:r,activator:()=>r.isOpen,callback:()=>{r.isOpen=!1},contextElements:()=>[r.element,...r.focusTracker._elements]})})}function fj(r){r.on("execute",e=>{e.source instanceof Qp||(r.isOpen=!1)})}function gj(r){r.focusTracker.on("change:isFocused",(e,t,n)=>{r.isOpen&&!n&&(r.isOpen=!1)})}function pj(r){r.keystrokes.set("arrowdown",(e,t)=>{r.isOpen&&(r.panelView.focus(),t())}),r.keystrokes.set("arrowup",(e,t)=>{r.isOpen&&(r.panelView.focusLast(),t())})}function mj(r){r.on("change:isOpen",(e,t,n)=>{if(n)return;const s=r.panelView.element;s&&s.contains(be.document.activeElement)&&r.buttonView.focus()})}function kj(r){r.on("change:isOpen",(e,t,n)=>{n&&r.panelView.focus()},{priority:"low"})}function qA(r,e,t,n){e.bindTo(t).using(s=>{if(s.type==="separator")return new dj(n);if(s.type==="group"){const c=new du(n);return c.set({label:s.label}),qA(r,c.items,s.items,n),c.items.delegate("execute").to(r),c}else if(s.type==="button"||s.type==="switchbutton"){const c=new jA(n);let d;return s.type==="button"?d=new We(n):d=new Qp(n),d.bind(...Object.keys(s.model)).to(s.model),d.delegate("execute").to(c),c.children.add(d),c}return null})}const Ic=(r,e,t)=>{const n=new nj(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",s=>!s),n.bind("hasError").to(r,"errorText",s=>!!s),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n},Mc=(r,e=0,t=1)=>r>t?t:r<e?e:r,Gt=(r,e=0,t=Math.pow(10,e))=>Math.round(t*r)/t,bj=r=>Aj(hm(r)),hm=r=>(r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Gt(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?Gt(parseInt(r.substring(6,8),16)/255,2):1}),wj=r=>yj(_j(r)),vj=({h:r,s:e,v:t,a:n})=>{const s=(200-e)*t/100;return{h:Gt(r),s:Gt(s>0&&s<200?e*t/100/(s<=100?s:200-s)*100:0),l:Gt(s/2),a:Gt(n,2)}},fm=r=>{const{h:e,s:t,l:n}=vj(r);return`hsl(${e}, ${t}%, ${n}%)`},_j=({h:r,s:e,v:t,a:n})=>{r=r/360*6,e=e/100,t=t/100;const s=Math.floor(r),c=t*(1-e),d=t*(1-(r-s)*e),h=t*(1-(1-r+s)*e),p=s%6;return{r:Gt([t,d,c,c,h,t][p]*255),g:Gt([h,t,t,d,c,c][p]*255),b:Gt([c,c,h,t,t,d][p]*255),a:Gt(n,2)}},hu=r=>{const e=r.toString(16);return e.length<2?"0"+e:e},yj=({r,g:e,b:t,a:n})=>{const s=n<1?hu(Gt(n*255)):"";return"#"+hu(r)+hu(e)+hu(t)+s},Aj=({r,g:e,b:t,a:n})=>{const s=Math.max(r,e,t),c=s-Math.min(r,e,t),d=c?s===r?(e-t)/c:s===e?2+(t-r)/c:4+(r-e)/c:0;return{h:Gt(60*(d<0?d+6:d)),s:Gt(s?c/s*100:0),v:Gt(s/255*100),a:n}},GA=(r,e)=>{if(r===e)return!0;for(const t in r)if(r[t]!==e[t])return!1;return!0},Cj=(r,e)=>r.toLowerCase()===e.toLowerCase()?!0:GA(hm(r),hm(e)),YA={},ZA=r=>{let e=YA[r];return e||(e=document.createElement("template"),e.innerHTML=r,YA[r]=e),e},gm=(r,e,t)=>{r.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Os=!1;const pm=r=>"touches"in r,xj=r=>Os&&!pm(r)?!1:(Os||(Os=pm(r)),!0),KA=(r,e)=>{const t=pm(e)?e.touches[0]:e,n=r.el.getBoundingClientRect();gm(r.el,"move",r.getMove({x:Mc((t.pageX-(n.left+window.pageXOffset))/n.width),y:Mc((t.pageY-(n.top+window.pageYOffset))/n.height)}))},Ej=(r,e)=>{const t=e.keyCode;t>40||r.xy&&t<37||t<33||(e.preventDefault(),gm(r.el,"move",r.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class QA{constructor(e,t,n,s){const c=ZA(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const d=e.querySelector(`[part=${t}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=s,this.nodes=[d.firstChild,d]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Os?"touchmove":"mousemove",this),t(Os?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!xj(e)||!Os&&e.button!=0)return;this.el.focus(),KA(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),KA(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":Ej(this,e);break}}style(e){e.forEach((t,n)=>{for(const s in t)this.nodes[n].style.setProperty(s,t[s])})}}class Dj extends QA{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:fm({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Gt(e)}`)}getMove(e,t){return{h:t?Mc(this.h+e.x*360,0,360):360*e.x}}}class Sj extends QA{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:fm(e)},{"background-color":fm({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Gt(e.s)}%, Brightness ${Gt(e.v)}%`)}getMove(e,t){return{s:t?Mc(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Mc(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const Tj=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Ij="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",Mj="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",fu=Symbol("same"),mm=Symbol("color"),JA=Symbol("hsva"),km=Symbol("update"),XA=Symbol("parts"),eC=Symbol("css"),tC=Symbol("sliders");class Nj extends HTMLElement{static get observedAttributes(){return["color"]}get[eC](){return[Tj,Ij,Mj]}get[tC](){return[Sj,Dj]}get color(){return this[mm]}set color(e){if(!this[fu](e)){const t=this.colorModel.toHsva(e);this[km](t),this[mm]=e}}constructor(){super();const e=ZA(`<style>${this[eC].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[XA]=this[tC].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const s=this.colorModel.fromAttr(n);this[fu](s)||(this.color=s)}handleEvent(e){const t=this[JA],n={...t,...e.detail};this[km](n);let s;!GA(n,t)&&!this[fu](s=this.colorModel.fromHsva(n))&&(this[mm]=s,gm(this,"color-changed",{value:s}))}[fu](e){return this.color&&this.colorModel.equal(e,this.color)}[km](e){this[JA]=e,this[XA].forEach(t=>t.update(e))}}const Oj={defaultColor:"#000",toHsva:bj,fromHsva:({h:r,s:e,v:t})=>wj({h:r,s:e,v:t,a:1}),equal:Cj,fromAttr:r=>r};class Pj extends Nj{get colorModel(){return Oj}}class Bj extends Pj{}customElements.define("hex-color-picker",Bj);var nC=a(4257),bm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bm.insert="head",bm.singleton=!0,ge()(nC.Z,bm),nC.Z.locals;var iC=a(6306),wm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wm.insert="head",wm.singleton=!0,ge()(iC.Z,wm),iC.Z.locals;class zj{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(vm(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new M("componentfactory-item-missing",this,{name:e});return this._components.get(vm(e)).callback(this.editor.locale)}has(e){return this._components.has(vm(e))}}function vm(r){return String(r).toLowerCase()}var rC=a(4460),_m={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_m.insert="head",_m.singleton=!0,ge()(rC.Z,_m),rC.Z.locals;const oC=ac("px"),sC=be.document.body,Lj={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Yt extends Ae{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",oC),left:t.to("left",oC)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Yt.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:sC,fitInViewport:!0},e),s=Yt._getOptimalPosition(n)||Lj,c=parseInt(s.left),d=parseInt(s.top),h=s.name,p=s.config||{},{withArrow:w=!0}=p;this.top=d,this.left=c,this.position=h,this.withArrow=w}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=ym(e.target),n=e.limiter?ym(e.limiter):sC;this.listenTo(be.document,"scroll",(s,c)=>{const d=c.target,h=t&&d.contains(t),p=n&&d.contains(n);(h||p||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(be.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(be.document,"scroll"),this.stopListening(be.window,"resize")}}Yt.arrowSideOffset=25,Yt.arrowHeightOffset=10,Yt.stickyVerticalOffset=20,Yt._getOptimalPosition=np,Yt.defaultPositions=aC();function ym(r){return Ao(r)?r:Vd(r)?r.commonAncestorContainer:typeof r=="function"?ym(r()):null}function aC(r={}){const{sideOffset:e=Yt.arrowSideOffset,heightOffset:t=Yt.arrowHeightOffset,stickyVerticalOffset:n=Yt.stickyVerticalOffset,config:s}=r;return{northWestArrowSouthWest:(h,p)=>({top:c(h,p),left:h.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.left-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(h,p)=>({top:c(h,p),left:h.left-p.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.left-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(h,p)=>({top:c(h,p),left:h.left-p.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(h,p)=>({top:c(h,p),left:h.left+h.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(h,p)=>({top:c(h,p),left:h.left+h.width/2-p.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(h,p)=>({top:c(h,p),left:h.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(h,p)=>({top:c(h,p),left:h.right-p.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(h,p)=>({top:c(h,p),left:h.right-p.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(h,p)=>({top:c(h,p),left:h.right-p.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(h,p)=>({top:c(h,p),left:h.right-p.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:h=>({top:d(h),left:h.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.left-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(h,p)=>({top:d(h),left:h.left-p.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.left-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(h,p)=>({top:d(h),left:h.left-p.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:h=>({top:d(h),left:h.left+h.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(h,p)=>({top:d(h),left:h.left+h.width/2-p.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:h=>({top:d(h),left:h.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(h,p)=>({top:d(h),left:h.right-p.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(h,p)=>({top:d(h),left:h.right-p.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(h,p)=>({top:d(h),left:h.right-p.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(h,p)=>({top:d(h),left:h.right-p.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(h,p)=>({top:h.top+h.height/2-p.height/2,left:h.left-p.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(h,p)=>({top:h.top+h.height/2-p.height/2,left:h.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(h,p,w,_)=>{const C=_||w;return!h.getIntersection(C)||C.height-h.height>n?null:{top:C.top+n,left:h.left+h.width/2-p.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function c(h,p){return h.top-p.height-t}function d(h){return h.bottom+t}}var cC=a(3888),Am={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Am.insert="head",Am.singleton=!0,ge()(cC.Z,Am),cC.Z.locals;const lC="ck-tooltip";class Ht extends Dn(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ht._editors.add(e),Ht._instance)return Ht._instance;Ht._instance=this,this.tooltipTextView=new Ae(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Yt(e.locale),this.balloonPanelView.class=lC,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=pc(this._pinTooltip,600),this.listenTo(be.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(be.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(be.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(be.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(be.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Ht._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Ht._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ht._instance=null)}static getPositioningFunctions(e){const t=Ht.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=Cm(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,jj(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Ao(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Cm(t),c=Cm(n);s&&s!==c&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:s}){const c=Vt(Ht._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Ht.getPositioningFunctions(n)}),this._resizeObserver=new Xe(e,()=>{Co(e)||this._unpinTooltip()}),this.balloonPanelView.class=[lC,s].filter(d=>d).join(" ");for(const d of Ht._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Ht._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!Co(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ht.getPositioningFunctions(this._currentTooltipPosition)})}}Ht.defaultBalloonPositions=aC({heightOffset:5,sideOffset:13}),Ht._editors=new Set,Ht._instance=null;function Cm(r){return Ao(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function jj(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}const Rj=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,Fj=53,Vj=10,Uj=50,Hj=350,$j="Powered by";class Wj extends Dn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Ec(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;!e.config.get("ui.poweredBy.forceVisible")&&mN(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Yt,n=uC(e),s=new qj(e.locale,n.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=Gj(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));s.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=s[0]}}class qj extends Ae{constructor(e,t){super(e);const n=new nr,s=this.bindTemplate;n.set({content:Rj,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:Fj+"px",height:Vj+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:s.to(c=>c.preventDefault())}}]})}}function Gj(r,e){const t=uC(r),n=t.side==="right"?Yj(e,t):Zj(e,t);return{target:e,positions:[n]}}function Yj(r,e){return dC(r,e,(t,n)=>t.left+t.width-n.width-e.horizontalOffset)}function Zj(r,e){return dC(r,e,t=>t.left+e.horizontalOffset)}function dC(r,e,t){return(n,s)=>{const c=new Ne(r);if(c.width<Hj||c.height<Uj)return null;let d;e.position==="inside"?d=c.bottom-s.height:d=c.bottom-s.height/2,d-=e.verticalOffset;const h=t(c,s),w=n.clone().moveTo(h,d).getIntersection(s.clone().moveTo(h,d)).getVisible();return!w||w.getArea()<s.getArea()?null:{top:d,left:h,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function uC(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:$j,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}class Kj extends Ue(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new zj(e),this.focusTracker=new gn,this.tooltipManager=new Ht(e),this.poweredBy=new Wj(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,s;e.keystrokes.set("Alt+F10",(c,d)=>{const h=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(h)&&!Array.from(t.domRoots.values()).includes(h)&&(n=h);const p=this._getCurrentFocusedToolbarDefinition();(!p||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let w=0;w<s.length;w++){const _=s.shift();if(s.push(_),_!==p&&this._focusFocusableCandidateToolbar(_)){p&&p.options.afterBlur&&p.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(c,d)=>{const h=this._getCurrentFocusedToolbarDefinition();h&&(n?(n.focus(),n=null):e.editing.view.focus(),h.options.afterBlur&&h.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:s}=t;(Co(n.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,n)=>hC(t)-hC(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),Co(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function hC(r){const{toolbarView:e,options:t}=r;let n=10;return Co(e.element)&&n--,t.isContextual&&n--,n}var fC=a(9847),xm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xm.insert="head",xm.singleton=!0,ge()(fC.Z,xm),fC.Z.locals;class Qj extends Ae{constructor(e){super(e),this.body=new K6(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Jj extends Ae{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(s){e.change(c=>{const d=e.document.getRoot(s.name);c.addClass(s.isFocused?"ck-focused":"ck-blurred",d),c.removeClass(s.isFocused?"ck-blurred":"ck-focused",d)})}function n(s){e.once("change:isRenderingInProgress",(c,d,h)=>{h?n(s):t(s)})}}}class Xj extends Jj{constructor(e,t,n,s={}){super(e,t,n);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}var gC=a(1874),Em={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Em.insert="head",Em.singleton=!0,ge()(gC.Z,Em),gC.Z.locals;class pC extends c_{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class mC extends Ue(){constructor(e,t){super(),t&&q_(this,t),e&&this.set(e)}}const e7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',t7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var kC=a(7592),Dm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dm.insert="head",Dm.singleton=!0,ge()(kC.Z,Dm),kC.Z.locals;var bC=a(6356),Sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sm.insert="head",Sm.singleton=!0,ge()(bC.Z,Sm),bC.Z.locals;const gu=ac("px");class pu extends ie{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new M("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new M("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Yt(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new n7(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,s)=>{if(s<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[c,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new i7(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class n7 extends Ae{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new gn,this.buttonPrevView=this._createButtonView(t("Previous"),e7),this.buttonNextView=this._createButtonView(t("Next"),t7),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new We(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class i7 extends Ae{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:n.to("top",gu),left:n.to("left",gu),width:n.to("width",gu),height:n.to("height",gu)}},children:this.content}),this.on("change:numberOfPanels",(s,c,d,h)=>{d>h?this._addPanels(d-h):this._removePanels(h-d),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Ae;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:s}=new Ne(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:s})}}}var wC=a(3707),Tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tm.insert="head",Tm.singleton=!0,ge()(wC.Z,Tm),wC.Z.locals;class r7 extends Tc{constructor(e,t){const n=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Ic},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new nr,this.iconView.content=Te.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new We(e),this.resetButtonView.set({label:n("Clear"),icon:Te.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",c=>!c),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class o7 extends Ae{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class s7 extends Ae{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ir({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var vC=/[\\^$.*+?()[\]{}|]/g,a7=RegExp(vC.source);function c7(r){return r=up(r),r&&a7.test(r)?r.replace(vC,"\\$&"):r}const _C=c7;var yC=a(9332),Im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Im.insert="head",Im.singleton=!0,ge()(yC.Z,Im),yC.Z.locals;class l7 extends Ae{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new gn,this.keystrokes=new si,this.resultsView=new s7(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new o7,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ir({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:s,totalItemsCount:c})=>{this.resultsCount=s,this.totalItemsCount=c}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(_C(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new r7(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(s,c)=>{if(c.resultsCount)t.set({isVisible:!1});else{const d=this._config.infoView&&this._config.infoView.text;let h,p;c.totalItemsCount?d&&d.notFound?(h=d.notFound.primary,p=d.notFound.secondary):(h=e("No results found"),p=""):d&&d.noSearchableItems?(h=d.noSearchableItems.primary,p=d.noSearchableItems.secondary):(h=e("No searchable items"),p=""),t.set({primaryText:n(h,c),secondaryText:n(p,c),isVisible:!0})}});function n(s,{query:c,resultsCount:d,totalItemsCount:h}){return typeof s=="function"?s(c,d,h):s}}}var AC=a(4029),Mm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mm.insert="head",Mm.singleton=!0,ge()(AC.Z,Mm),AC.Z.locals;class Nc extends l7{constructor(e,t){super(e,t),this._config=t;const n=ac("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",c=>!c),s.to("_position",c=>`ck-search__results_${c}`)],style:{width:s.to("_width",n)}}}),this.focusTracker.on("change:isFocused",(c,d,h)=>{this._updateResultsVisibility(),h?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(be.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ne(this.queryView.fieldView.element).width;const e=Nc._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Nc.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}Nc.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],Nc._getOptimalPosition=np;var CC=a(4746),Nm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nm.insert="head",Nm.singleton=!0,ge()(CC.Z,Nm),CC.Z.locals;var xC=a(6446),Om={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Om.insert="head",Om.singleton=!0,ge()(xC.Z,Om),xC.Z.locals;var EC=a(4176),Pm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Pm.insert="head",Pm.singleton=!0,ge()(EC.Z,Pm),EC.Z.locals;class d7 extends Kj{constructor(e,t){super(e),this.view=t,this._toolbarConfig=OA(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,n=e.editing.view,s=t.editable,c=n.document.getRoot();s.name=c.rootName,t.render();const d=s.element;this.setEditableElement(s.name,d),s.bind("isFocused").to(this.focusTracker),n.attachDomRoot(d),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=t.editable.element,s=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:c})=>c||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:n,positions:t.panelPositions})}),s.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(s)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),s=e.config.get("placeholder");if(s){const c=typeof s=="string"?s:s[n.rootName];c&&(n.placeholder=c)}u_({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}}const u7=ac("px");class h7 extends Qj{constructor(e,t,n,s={}){super(e);const c=e.t;this.toolbar=new sm(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new Yt(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new Xj(e,t,n,{label:d=>c("Rich Text Editor. Editing area: %0",d.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const t=this.editable.element;this._resizeObserver=new Xe(t,()=>{this.toolbar.maxWidth=u7(new Ne(t).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let n;return e.top>t.height+this.viewportTopOffset?n=e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?n=this.viewportTopOffset:n=e.bottom,n}_getPanelPositions(){const e=[(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left+t.width-n.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}class mu extends su(Vp(S6)){constructor(e,t={}){if(!ku(e)&&t.initialData!==void 0)throw new M("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",f7(e)),this.model.document.createRoot(),ku(e)&&(this.sourceElement=e,M6(this,e));const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new h7(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:n});this.ui=new d7(this,s),T6(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(ku(e)&&e.tagName==="TEXTAREA")throw new M("editor-wrong-element",null);const s=new this(e,t);n(s.initPlugins().then(()=>s.ui.init()).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}mu.Context=a_,mu.EditorWatchdog=aA,mu.ContextWatchdog=L6;function f7(r){return ku(r)?H3(r):r}function ku(r){return Ao(r)}const Bm=["left","right","center","justify"];function DC(r){return Bm.includes(r)}function SC(r,e){return e.contentLanguageDirection=="rtl"?r==="right":r==="left"}function TC(r){const e=r.map(n=>{let s;return typeof n=="string"?s={name:n}:s=n,s}).filter(n=>{const s=Bm.includes(n.name);return s||J("alignment-config-name-not-recognized",{option:n}),s}),t=e.filter(n=>!!n.className).length;if(t&&t<e.length)throw new M("alignment-config-classnames-are-missing",{configuredOptions:r});return e.forEach((n,s,c)=>{const d=c.slice(s+1);if(d.some(p=>p.name==n.name))throw new M("alignment-config-name-already-defined",{option:n,configuredOptions:r});if(n.className&&d.some(w=>w.className==n.className))throw new M("alignment-config-classname-already-defined",{option:n,configuredOptions:r})}),e}const zm="alignment";class g7 extends et{refresh(){const t=this.editor.locale,n=Vt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,s=t.model,c=s.document,d=e.value;s.change(h=>{const p=Array.from(c.selection.getSelectedBlocks()).filter(C=>this._canBeAligned(C)),w=p[0].getAttribute("alignment");SC(d,n)||w===d||!d?p7(p,h):m7(p,h,d)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,zm)}}function p7(r,e){for(const t of r)e.removeAttribute(zm,t)}function m7(r,e,t){for(const n of r)e.setAttribute(zm,t,n)}class k7 extends ie{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Bm.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,c=TC(e.config.get("alignment.options")).filter(w=>DC(w.name)&&!SC(w.name,t)),d=c.some(w=>!!w.className);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),d?e.conversion.attributeToAttribute(_7(c)):e.conversion.for("downcast").attributeToAttribute(b7(c));const h=w7(c);for(const w of h)e.conversion.for("upcast").attributeToAttribute(w);const p=v7(c);for(const w of p)e.conversion.for("upcast").attributeToAttribute(w);e.commands.add("alignment",new g7(e))}}function b7(r){const e={};for(const{name:n}of r)e[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:r.map(n=>n.name)},view:e}}function w7(r){const e=[];for(const{name:t}of r)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function v7(r){const e=[];for(const{name:t}of r)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function _7(r){const e={};for(const n of r)e[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:r.map(n=>n.name)},view:e}}const bu=new Map([["left",Te.alignLeft],["right",Te.alignRight],["center",Te.alignCenter],["justify",Te.alignJustify]]);class y7 extends ie{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,s=TC(e.config.get("alignment.options"));s.map(c=>c.name).filter(DC).forEach(c=>this._addButton(c)),t.add("alignment",c=>{const d=Nr(c);uu(d,()=>s.map(w=>t.create(`alignment:${w.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),d.buttonView.set({label:n("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const h=c.contentLanguageDirection==="rtl"?bu.get("right"):bu.get("left"),p=e.commands.get("alignment");return d.buttonView.bind("icon").to(p,"value",w=>bu.get(w)||h),d.bind("isEnabled").to(p,"isEnabled"),this.listenTo(d,"execute",()=>{e.editing.view.focus()}),d})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const s=t.commands.get("alignment"),c=new We(n);return c.set({label:this.localizedOptionTitles[e],icon:bu.get(e),tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s),c.bind("isOn").to(s,"value",d=>d===e),this.listenTo(c,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),c})}}class A7 extends ie{static get requires(){return[k7,y7]}static get pluginName(){return"Alignment"}}class IC{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class C7 extends et{constructor(e,t){super(e),this._buffer=new IC(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,s=e.text||"",c=s.length;let d=n.selection;if(e.selection?d=e.selection:e.range&&(d=t.createSelection(e.range)),!t.canEditAt(d))return;const h=e.resultRange;t.enqueueChange(this._buffer.batch,p=>{this._buffer.lock(),t.deleteContent(d),s&&t.insertContent(p.createText(s,n.selection.getAttributes()),d),h?p.setSelection(h):d.is("documentSelection")||p.setSelection(d),this._buffer.unlock(),this._buffer.input(c)})}}const MC=["insertText","insertReplacementText"];class x7 extends Ti{constructor(e){super(e),this.focusObserver=e.getObserver(tu),m.isAndroid&&MC.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,s)=>{if(!this.isEnabled)return;const{data:c,targetRanges:d,inputType:h,domEvent:p}=s;if(!MC.includes(h))return;this.focusObserver.flush();const w=new ae(t,"insertText");t.fire(w,new Ds(e,p,{text:c,selection:e.createSelection(d)})),w.stop.called&&n.stop()}),t.on("compositionend",(n,{data:s,domEvent:c})=>{!this.isEnabled||m.isAndroid||s&&t.fire("insertText",new Ds(e,c,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class NC extends ie{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,s=t.document.selection;n.addObserver(x7);const c=new C7(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(n.document,"insertText",(d,h)=>{n.document.isComposing||h.preventDefault();const{text:p,selection:w,resultRange:_}=h,C=Array.from(w.getRanges()).map(U=>e.editing.mapper.toModelRange(U));let O=p;if(m.isAndroid){const U=Array.from(C[0].getItems()).reduce((ne,he)=>ne+(he.is("$textProxy")?he.data:""),"");U&&(U.length<=O.length?O.startsWith(U)&&(O=O.substring(U.length),C[0].start=C[0].start.getShiftedBy(U.length)):U.startsWith(O)&&(C[0].start=C[0].start.getShiftedBy(O.length),O=""))}const z={text:O,selection:t.createSelection(C)};_&&(z.resultRange=e.editing.mapper.toModelRange(_)),e.execute("insertText",z),n.scrollToTheSelection()}),m.isAndroid?this.listenTo(n.document,"keydown",(d,h)=>{s.isCollapsed||h.keyCode!=229||!n.document.isComposing||OC(t,c)}):this.listenTo(n.document,"compositionstart",()=>{s.isCollapsed||OC(t,c)})}}function OC(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class PC extends et{constructor(e,t){super(e),this.direction=t,this._buffer=new IC(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const c=s.createSelection(e.selection||n.selection);if(!t.canEditAt(c))return;const d=e.sequence||1,h=c.isCollapsed;if(c.isCollapsed&&t.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(c,d)){this.editor.execute("paragraph",{selection:c});return}if(c.isCollapsed)return;let p=0;c.getFirstRange().getMinimalFlatRanges().forEach(w=>{p+=ri(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(c,{doNotResetEntireContent:h,direction:this.direction}),this._buffer.input(p),s.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(c))||!t.schema.checkChild(c,"paragraph"))return!1;const h=c.getChild(0);return!(h&&h.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,c=t.schema.getLimitElement(s),d=e.createElement("paragraph");e.remove(e.createRangeIn(c)),e.insert(d,c),e.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),c=n.schema.getLimitElement(s),d=c.getChild(0);return!(s.parent!=d||!e.containsEntireContent(d)||!n.schema.checkChild(c,"paragraph")||d.name=="paragraph")}}const E7="character",BC="word",D7="codePoint",Or="selection",Ps="backward",Oc="forward",zC={deleteContent:{unit:Or,direction:Ps},deleteContentBackward:{unit:D7,direction:Ps},deleteWordBackward:{unit:BC,direction:Ps},deleteHardLineBackward:{unit:Or,direction:Ps},deleteSoftLineBackward:{unit:Or,direction:Ps},deleteContentForward:{unit:E7,direction:Oc},deleteWordForward:{unit:BC,direction:Oc},deleteHardLineForward:{unit:Or,direction:Oc},deleteSoftLineForward:{unit:Or,direction:Oc}};class S7 extends Ti{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:h,inputType:p}=c,w=zC[p];if(!w)return;const _={direction:w.direction,unit:w.unit,sequence:n};_.unit==Or&&(_.selectionToRemove=e.createSelection(d[0])),p==="deleteContentBackward"&&(m.isAndroid&&(_.sequence=1),I7(d)&&(_.unit=Or,_.selectionToRemove=e.createSelection(d)));const C=new xs(t,"delete",d[0]);t.fire(C,new Ds(e,h,_)),C.stop.called&&s.stop()}),m.isBlink&&T7(this)}observe(){}stopObserving(){}}function T7(r){const e=r.view,t=e.document;let n=null,s=!1;t.on("keydown",(h,{keyCode:p})=>{n=p,s=!1}),t.on("keyup",(h,{keyCode:p,domEvent:w})=>{const _=t.selection,C=r.isEnabled&&p==n&&c(p)&&!_.isCollapsed&&!s;if(n=null,C){const O=_.getFirstRange(),z=new xs(t,"delete",O),U={unit:Or,direction:d(p),selectionToRemove:_};t.fire(z,new Ds(e,w,U))}}),t.on("beforeinput",(h,{inputType:p})=>{const w=zC[p];c(n)&&w&&w.direction==d(n)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(h,{inputType:p,data:w})=>{n==Pe.delete&&p=="insertText"&&w==""&&h.stop()},{priority:"high"});function c(h){return h==Pe.backspace||h==Pe.delete}function d(h){return h==Pe.backspace?Ps:Oc}}function I7(r){if(r.length!=1||r[0].isCollapsed)return!1;const e=r[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const s=n.parent.data,c=n.offset;if(op(s,c)||sp(s,c)||n_(s,c))continue;t++}if(t>1)return!0}return!1}class Pi extends ie{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,s=e.model.document;t.addObserver(S7),this._undoOnBackspace=!1;const c=new PC(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new PC(e,"backward")),this.listenTo(n,"delete",(d,h)=>{n.isComposing||h.preventDefault();const{direction:p,sequence:w,selectionToRemove:_,unit:C}=h,O=p==="forward"?"deleteForward":"delete",z={sequence:w};if(C=="selection"){const U=Array.from(_.getRanges()).map(ne=>e.editing.mapper.toModelRange(ne));z.selection=e.model.createSelection(U)}else z.unit=C;e.execute(O,z),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(d,h)=>{this._undoOnBackspace&&h.direction=="backward"&&h.sequence==1&&h.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),h.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class M7 extends ie{static get requires(){return[NC,Pi]}static get pluginName(){return"Typing"}}function LC(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((s,{item:c})=>c.is("$text")||c.is("$textProxy")?s+c.data:(t=e.createPositionAfter(c),""),""),range:e.createRange(t,r.end)}}class jC extends Ue(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,c=n.document.selection,d=n.createRange(n.createPositionAt(c.focus.parent,0),c.focus),{text:h,range:p}=LC(d,n),w=this.testCallback(h);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const _=Object.assign(t,{text:h,range:p});typeof w=="object"&&Object.assign(_,w),this.fire(`matched:${e}`,_)}}}class RC extends ie{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,s=e.locale,c=t.document.selection;this.listenTo(n.document,"arrowKey",(d,h)=>{if(!c.isCollapsed||h.shiftKey||h.altKey||h.ctrlKey)return;const p=h.keyCode==Pe.arrowright,w=h.keyCode==Pe.arrowleft;if(!p&&!w)return;const _=s.contentLanguageDirection;let C=!1;_==="ltr"&&p||_==="rtl"&&w?C=this._handleForwardMovement(h):C=this._handleBackwardMovement(h),C===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(d,h)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!h.directChange&&vu(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,c=s.getFirstPosition();return this._isGravityOverridden||c.isAtStart&&Lm(s,t)?!1:vu(c,t)?(wu(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,s=n.document.selection,c=s.getFirstPosition();return this._isGravityOverridden?(wu(e),this._restoreGravity(),jm(n,t,c),!0):c.isAtStart?Lm(s,t)?(wu(e),jm(n,t,c),!0):!1:N7(c,t)?c.isAtEnd&&!Lm(s,t)&&vu(c,t)?(wu(e),jm(n,t,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Lm(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function jm(r,e,t){const n=t.nodeBefore;r.change(s=>{if(n){const c=[],d=r.schema.isObject(n)&&r.schema.isInline(n);for(const[h,p]of n.getAttributes())r.schema.checkAttribute("$text",h)&&(!d||r.schema.getAttributeProperties(h).copyFromObject!==!1)&&c.push([h,p]);s.setSelectionAttribute(c)}else s.removeSelectionAttribute(e)})}function wu(r){r.preventDefault()}function N7(r,e){const t=r.getShiftedBy(-1);return vu(t,e)}function vu(r,e){const{nodeBefore:t,nodeAfter:n}=r;for(const s of e){const c=t?t.getAttribute(s):void 0;if((n?n.getAttribute(s):void 0)!==c)return!0}return!1}const FC={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Bs('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Bs("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Bs("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Bs('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Bs('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Bs("'"),to:[null,"‚",null,"’"]}},VC={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},O7=["symbols","mathematical","typography","quotes"];class P7 extends ie{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:O7}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),s=j7(e.config.get("typing.transformations")),c=h=>{for(const p of s)if(p.from.test(h))return{normalizedTransformation:p}},d=new jC(e.model,c);d.on("matched:data",(h,p)=>{if(!p.batch.isTyping)return;const{from:w,to:_}=p.normalizedTransformation,C=w.exec(p.text),O=_(C.slice(1)),z=p.range;let U=C.index;t.enqueueChange(ne=>{for(let he=1;he<C.length;he++){const we=C[he],He=O[he-1];if(He==null){U+=we.length;continue}const rt=z.start.getShiftedBy(U),mt=t.createRange(rt,rt.getShiftedBy(we.length)),yt=L7(rt);t.insertContent(ne.createText(He,yt),mt),U+=He.length}t.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}}function B7(r){return typeof r=="string"?new RegExp(`(${_C(r)})$`):r}function z7(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function L7(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Bs(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function j7(r){const e=r.extra||[],t=r.remove||[],n=c=>!t.includes(c),s=r.include.concat(e).filter(n);return R7(s).filter(n).map(c=>typeof c=="string"&&FC[c]?FC[c]:c).filter(c=>typeof c=="object").map(c=>({from:B7(c.from),to:z7(c.to)}))}function R7(r){const e=new Set;for(const t of r)if(typeof t=="string"&&VC[t])for(const n of VC[t])e.add(n);else e.add(t);return Array.from(e)}function zs(r,e,t,n){return n.createRange(UC(r,e,t,!0,n),UC(r,e,t,!1,n))}function UC(r,e,t,n,s){let c=r.textNode||(n?r.nodeBefore:r.nodeAfter),d=null;for(;c&&c.getAttribute(e)==t;)d=c,c=n?c.previousSibling:c.nextSibling;return d?s.createPositionAt(d,n?"before":"after"):r}function F7(r,e,t,n){const s=r.editing.view,c=new Set;s.document.registerPostFixer(d=>{const h=r.model.document.selection;let p=!1;if(h.hasAttribute(e)){const w=zs(h.getFirstPosition(),e,h.getAttribute(e),r.model),_=r.editing.mapper.toViewRange(w);for(const C of _.getItems())C.is("element",t)&&!C.hasClass(n)&&(d.addClass(n,C),c.add(C),p=!0)}return p}),r.conversion.for("editingDowncast").add(d=>{d.on("insert",h,{priority:"highest"}),d.on("remove",h,{priority:"highest"}),d.on("attribute",h,{priority:"highest"}),d.on("selection",h,{priority:"highest"});function h(){s.change(p=>{for(const w of c.values())p.removeClass(n,w),c.delete(w)})}})}function Pr(r,e,t,n){let s,c=null;typeof n=="function"?s=n:(c=r.commands.get(n),s=()=>{r.execute(n)}),r.model.document.on("change:data",(d,h)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const p=Vt(r.model.document.selection.getRanges());if(!p.isCollapsed||h.isUndo||!h.isLocal)return;const w=Array.from(r.model.document.differ.getChanges()),_=w[0];if(w.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const C=_.position.parent;if(C.is("element","codeBlock")||C.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||c&&c.value===!0)return;const O=C.getChild(0),z=r.model.createRangeOn(O);if(!z.containsRange(p)&&!p.end.isEqual(z.end))return;const U=t.exec(O.data.substr(0,p.end.offset));U&&r.model.enqueueChange(ne=>{const he=ne.createPositionAt(C,0),we=ne.createPositionAt(C,U[0].length),He=new pn(he,we);if(s({match:U})!==!1){ne.remove(He);const mt=r.model.document.selection.getFirstRange(),yt=ne.createRangeIn(C);C.isEmpty&&!yt.isEqual(mt)&&!yt.containsRange(mt,!0)&&ne.remove(C)}He.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function Ls(r,e,t,n){let s,c;t instanceof RegExp?s=t:c=t,c=c||(d=>{let h;const p=[],w=[];for(;(h=s.exec(d))!==null&&!(h&&h.length<4);){let{index:_,1:C,2:O,3:z}=h;const U=C+O+z;_+=h[0].length-U.length;const ne=[_,_+C.length],he=[_+C.length+O.length,_+C.length+O.length+z.length];p.push(ne),p.push(he),w.push([_+C.length,_+C.length+O.length])}return{remove:p,format:w}}),r.model.document.on("change:data",(d,h)=>{if(h.isUndo||!h.isLocal||!e.isEnabled)return;const p=r.model,w=p.document.selection;if(!w.isCollapsed)return;const _=Array.from(p.document.differ.getChanges()),C=_[0];if(_.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const O=w.focus,z=O.parent,{text:U,range:ne}=V7(p.createRange(p.createPositionAt(z,0),O),p),he=c(U),we=HC(ne.start,he.format,p),He=HC(ne.start,he.remove,p);we.length&&He.length&&p.enqueueChange(rt=>{if(n(rt,we)!==!1){for(const yt of He.reverse())rt.remove(yt);p.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function HC(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function V7(r,e){let t=r.start;return{text:Array.from(r.getItems()).reduce((s,c)=>!(c.is("$text")||c.is("$textProxy"))||c.getAttribute("code")?(t=e.createPositionAfter(c),""):s+c.data,""),range:e.createRange(t,r.end)}}class U7 extends ie{static get requires(){return[Pi]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Pr(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Pr(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Pr(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Pr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=_u(this.editor,"bold");Ls(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Ls(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=_u(this.editor,"italic");Ls(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Ls(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=_u(this.editor,"code");Ls(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=_u(this.editor,"strikethrough");Ls(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],s=new RegExp(`^(#{${n}})\\s$`);Pr(this.editor,this,s,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Pr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Pr(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Pr(this.editor,this,/^---$/,"horizontalLine")}}function _u(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const c=r.model.schema.getValidRanges(n,e);for(const d of c)t.setAttribute(e,!0,d);t.removeSelectionAttribute(e)}}class $C extends et{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,c=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(s.isCollapsed)c?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const h=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const p of h)c?d.setAttribute(this.attributeKey,c,p):d.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const s of n.getRanges())for(const c of s.getItems())if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const js="bold";class H7 extends ie{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:js}),e.model.schema.setAttributeProperties(js,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:js,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(js,new $C(e,js)),e.keystrokes.set("CTRL+B",js)}}const Rm="bold";class $7 extends ie{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Rm,n=>{const s=e.commands.get(Rm),c=new We(n);return c.set({label:t("Bold"),icon:Te.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Rm),e.editing.view.focus()}),c})}}class W7 extends ie{static get requires(){return[H7,$7]}static get pluginName(){return"Bold"}}var WC=a(5363),Fm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fm.insert="head",Fm.singleton=!0,ge()(WC.Z,Fm),WC.Z.locals;const Rs="italic";class q7 extends ie{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Rs}),e.model.schema.setAttributeProperties(Rs,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Rs,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Rs,new $C(e,Rs)),e.keystrokes.set("CTRL+I",Rs)}}const G7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',Vm="italic";class Y7 extends ie{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Vm,n=>{const s=e.commands.get(Vm),c=new We(n);return c.set({label:t("Italic"),icon:G7,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Vm),e.editing.view.focus()}),c})}}class Z7 extends ie{static get requires(){return[q7,Y7]}static get pluginName(){return"Italic"}}function*qC(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class K7 extends et{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,s=t.schema,c=n.isCollapsed,d=n.getFirstRange(),h=d.start.parent,p=d.end.parent;if(s.isLimit(h)||s.isLimit(p))return!c&&h==p&&t.deleteContent(n),!1;if(c){const w=qC(e.model.schema,n.getAttributes());return GC(e,d.start),e.setSelectionAttribute(w),!0}else{const w=!(d.start.isAtStart&&d.end.isAtEnd),_=h==p;if(t.deleteContent(n,{leaveUnmerged:w}),w){if(_)return GC(e,n.focus),!0;e.setSelection(p,0)}}return!1}}function GC(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const Q7={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class YC extends Ti{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(s,c)=>{n=c.shiftKey}),t.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;let d=c.inputType;m.isSafari&&n&&d=="insertParagraph"&&(d="insertLineBreak");const h=c.domEvent,p=Q7[d];if(!p)return;const w=new xs(t,"enter",c.targetRanges[0]);t.fire(w,new Ds(e,h,{isSoft:p.isSoft})),w.stop.called&&s.stop()})}observe(){}stopObserving(){}}class yu extends ie{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(YC),e.commands.add("enter",new K7(e)),this.listenTo(n,"enter",(s,c)=>{n.isComposing||c.preventDefault(),!c.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class J7 extends et{execute(){const e=this.editor.model,t=e.document;e.change(n=>{eR(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=X7(e.schema,t.selection)}}function X7(r,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!r.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),s=n.start.parent,c=n.end.parent;return!((Um(s,r)||Um(c,r))&&s!==c)}function eR(r,e,t){const n=t.isCollapsed,s=t.getFirstRange(),c=s.start.parent,d=s.end.parent,h=c==d;if(n){const p=qC(r.schema,t.getAttributes());ZC(r,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(p)}else{const p=!(s.start.isAtStart&&s.end.isAtEnd);r.deleteContent(t,{leaveUnmerged:p}),h?ZC(r,e,t.focus):p&&e.setSelection(d,0)}}function ZC(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function Um(r,e){return r.is("rootElement")?!1:e.isLimit(r)||Um(r.parent,e)}class tR extends ie{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,s=e.editing.view,c=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),s.addObserver(YC),e.commands.add("shiftEnter",new J7(e)),this.listenTo(c,"enter",(d,h)=>{c.isComposing||h.preventDefault(),h.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class nR extends et{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,s=t.document.selection,c=Array.from(s.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;t.change(h=>{if(!d)this._removeQuote(h,c.filter(Au));else{const p=c.filter(w=>Au(w)||QC(n,w));this._applyQuote(h,p)}})}_getValue(){const e=this.editor.model.document.selection,t=Vt(e.getSelectedBlocks());return!!(t&&Au(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Vt(e.getSelectedBlocks());return n?QC(t,n):!1}_removeQuote(e,t){KC(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const c=e.createPositionBefore(n.start.parent);e.move(n,c);return}n.end.isAtEnd||e.split(n.end);const s=e.createPositionAfter(n.end.parent);e.move(n,s)})}_applyQuote(e,t){const n=[];KC(e,t).reverse().forEach(s=>{let c=Au(s.start);c||(c=e.createElement("blockQuote"),e.wrap(s,c)),n.push(c)}),n.reverse().reduce((s,c)=>s.nextSibling==c?(e.merge(e.createPositionAfter(s)),s):c)}}function Au(r){return r.parent.name=="blockQuote"?r.parent:null}function KC(r,e){let t,n=0;const s=[];for(;n<e.length;){const c=e[n],d=e[n+1];t||(t=r.createPositionBefore(c)),(!d||c.nextSibling!=d)&&(s.push(r.createRange(t,r.createPositionAfter(c))),t=null),n++}return s}function QC(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class iR extends ie{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[yu,Pi]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new nR(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const h=e.model.document.differ.getChanges();for(const p of h)if(p.type=="insert"){const w=p.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return d.remove(w),!0;if(w.is("element","blockQuote")&&!t.checkChild(p.position,w))return d.unwrap(w),!0;if(w.is("element")){const _=d.createRangeIn(w);for(const C of _.getItems())if(C.is("element","blockQuote")&&!t.checkChild(d.createPositionBefore(C),C))return d.unwrap(C),!0}}else if(p.type=="remove"){const w=p.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return d.remove(w),!0}return!1});const n=this.editor.editing.view.document,s=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(n,"enter",(d,h)=>{if(!s.isCollapsed||!c.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(d,h)=>{if(h.direction!="backward"||!s.isCollapsed||!c.value)return;const p=s.getLastPosition().parent;p.isEmpty&&!p.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"})}}var JC=a(3789),Hm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Hm.insert="head",Hm.singleton=!0,ge()(JC.Z,Hm),JC.Z.locals;class rR extends ie{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const s=e.commands.get("blockQuote"),c=new We(n);return c.set({label:t("Block quote"),icon:Te.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class oR extends ie{static get requires(){return[iR,rR]}static get pluginName(){return"BlockQuote"}}class Pc extends Mo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(s){return(c,d)=>{d.preventDefault();const h=d.dropRange?[d.dropRange]:null,p=new ae(t,s);t.fire(p,{dataTransfer:d.dataTransfer,method:c.name,targetRanges:h,target:d.target,domEvent:d.domEvent}),p.stop.called&&d.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",s={dataTransfer:new iy(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=sR(this.view,e)),this.fire(e.type,e,s)}}function sR(r,e){const t=e.target.ownerDocument,n=e.clientX,s=e.clientY;let c;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,s)?c=t.caretRangeFromPoint(n,s):e.rangeParent&&(c=t.createRange(),c.setStart(e.rangeParent,e.rangeOffset),c.collapse(!0)),c?r.domConverter.domRangeToView(c):null}function aR(r){return r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(r.includes("</p><p>")||r.includes("<br>"))&&(r=`<p>${r}</p>`),r}function cR(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}const XC=["figcaption","li"];function e1(r){let e="";if(r.is("$text")||r.is("$textProxy"))e=r.data;else if(r.is("element","img")&&r.hasAttribute("alt"))e=r.getAttribute("alt");else if(r.is("element","br"))e=`
`;else{let t=null;for(const n of r.getChildren()){const s=e1(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(XC.includes(t.name)||XC.includes(n.name)?e+=`
`:e+=`

`),e+=s,t=n}}return e}class Bi extends ie{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Pc),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:n})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document;this.listenTo(s,"clipboardInput",(c,d)=>{d.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&c.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(c,d)=>{const h=d.dataTransfer;let p;if(d.content)p=d.content;else{let _="";h.getData("text/html")?_=cR(h.getData("text/html")):h.getData("text/plain")&&(_=aR(h.getData("text/plain"))),p=this.editor.data.htmlProcessor.toView(_)}const w=new ae(this,"inputTransformation");this.fire(w,{content:p,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),w.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const p=this.editor.data.toModel(d.content,"$clipboardHolder");p.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:p,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=t.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,c=(d,h)=>{const p=h.dataTransfer;h.preventDefault(),this._fireOutputTransformationEvent(p,t.selection,d.name)};this.listenTo(s,"copy",c,{priority:"low"}),this.listenTo(s,"cut",(d,h)=>{e.model.canEditAt(e.model.document.selection)?c(d,h):h.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,h)=>{const p=e.data.toView(h.content);s.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:p,method:h.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(d,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",e1(h.content))),h.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class lR extends Me(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,s=n[0];this._insertDescriptor(e);const c=n[0];s!==c&&!$m(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}remove(e,t){const n=this._stack,s=n[0];this._removeDescriptor(e);const c=n[0];s!==c&&!$m(s,c)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:c,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(c=>c.id===e.id);if($m(e,t[n]))return;n>-1&&t.splice(n,1);let s=0;for(;t[s]&&dR(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e);n>-1&&t.splice(n,1)}}function $m(r,e){return r&&e&&r.priority==e.priority&&Cu(r.classes)==Cu(e.classes)}function dR(r,e){return r.priority>e.priority?!0:r.priority<e.priority?!1:Cu(r.classes)>Cu(e.classes)}function Cu(r){return Array.isArray(r)?r.sort().join(","):r}const uR='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',hR="ck-widget",t1="ck-widget_selected";function $t(r){return r.is("element")?!!r.getCustomProperty("widget"):!1}function Wm(r,e,t={}){if(!r.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(hR,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=bR,e.setCustomProperty("widgetLabel",[],r),t.label&&pR(r,t.label),t.hasSelectionHandle&&wR(r,e),n1(r,e),r}function fR(r,e,t){if(e.classes&&t.addClass(Ft(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function gR(r,e,t){if(e.classes&&t.removeClass(Ft(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function n1(r,e,t=fR,n=gR){const s=new lR;s.on("change:top",(h,p)=>{p.oldDescriptor&&n(r,p.oldDescriptor,p.writer),p.newDescriptor&&t(r,p.newDescriptor,p.writer)});const c=(h,p,w)=>s.add(p,w),d=(h,p,w)=>s.remove(p,w);e.setCustomProperty("addHighlight",c,r),e.setCustomProperty("removeHighlight",d,r)}function pR(r,e){r.getCustomProperty("widgetLabel").push(e)}function mR(r){return r.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}function kR(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,s,c)=>{e.setAttribute("contenteditable",c?"false":"true",r)}),r.on("change:isFocused",(n,s,c)=>{c?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),n1(r,e),r}function qm(r,e){const t=r.getSelectedElement();if(t){const n=Br(r);if(n)return e.createRange(e.createPositionAt(t,n))}return iA(r,e)}function bR(){return null}function wR(r,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const s=this.toDomElement(n),c=new nr;return c.set("content",uR),c.render(),s.appendChild(c.element),s});e.insert(e.createPositionAt(r,0),t),e.addClass(["ck-widget_with-selection-handle"],r)}const rr="widget-type-around";function Lo(r,e,t){return!!r&&$t(r)&&!t.isInline(e)}function vR(r){return r.closest(".ck-widget__type-around__button")}function _R(r){return r.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function yR(r,e){const t=r.closest(".ck-widget");return e.mapDomToView(t)}function Br(r){return r.getAttribute(rr)}const AR='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var i1=a(2347),Gm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Gm.insert="head",Gm.singleton=!0,ge()(i1.Z,Gm),i1.Z.locals;const r1=["before","after"],CR=new DOMParser().parseFromString(AR,"image/svg+xml").firstChild,o1="ck-widget__type-around_disabled";class xR extends ie{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[yu,Pi]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,s,c)=>{t.change(d=>{for(const h of t.document.roots)c?d.removeClass(o1,h):d.addClass(o1,h)}),c||e.model.change(d=>{d.removeSelectionAttribute(rr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,s=n.editing.view,c=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:c}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,n,s){this.listenTo(e,t,(...c)=>{this.isEnabled&&n(...c)},s)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,s=Br(n);if(!s)return!1;const c=n.getSelectedElement();return this._insertParagraph(c,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,s={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,d,h)=>{const p=h.mapper.toViewElement(d.item);p&&Lo(p,d.item,t)&&(ER(h.writer,s,p),p.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,s=t.schema,c=e.editing.view;this._listenToIfEnabled(c.document,"arrowKey",(h,p)=>{this._handleArrowKeyPress(h,p)},{context:[$t,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(h,p)=>{p.directChange&&e.model.change(w=>{w.removeSelectionAttribute(rr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const h=n.getSelectedElement();if(h){const p=e.editing.mapper.toViewElement(h);if(Lo(p,h,s))return}e.model.change(p=>{p.removeSelectionAttribute(rr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(h,p,w)=>{const _=w.writer;if(this._currentFakeCaretModelElement){const U=w.mapper.toViewElement(this._currentFakeCaretModelElement);U&&(_.removeClass(r1.map(d),U),this._currentFakeCaretModelElement=null)}const C=p.selection.getSelectedElement();if(!C)return;const O=w.mapper.toViewElement(C);if(!Lo(O,C,s))return;const z=Br(p.selection);z&&(_.addClass(d(z),O),this._currentFakeCaretModelElement=C)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(h,p,w)=>{w||e.model.change(_=>{_.removeSelectionAttribute(rr)})});function d(h){return`ck-widget_type-around_show-fake-caret_${h}`}}_handleArrowKeyPress(e,t){const n=this.editor,s=n.model,c=s.document.selection,d=s.schema,h=n.editing.view,p=t.keyCode,w=rN(p,n.locale.contentLanguageDirection),_=h.document.selection.getSelectedElement(),C=n.editing.mapper.toModelElement(_);let O;Lo(_,C,d)?O=this._handleArrowKeyPressOnSelectedWidget(w):c.isCollapsed?O=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):t.shiftKey||(O=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),O&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,s=n.document.selection,c=Br(s);return n.change(d=>{if(c){if(!(c===(e?"after":"before")))return d.removeSelectionAttribute(rr),!0}else return d.setSelectionAttribute(rr,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,s=n.schema,c=t.plugins.get("Widget"),d=c._getObjectElementNextToSelection(e),h=t.editing.mapper.toViewElement(d);return Lo(h,d,s)?(n.change(p=>{c._setSelectionOverElement(d),p.setSelectionAttribute(rr,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,s=n.schema,c=t.editing.mapper,d=n.document.selection,h=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter,p=c.toViewElement(h);return Lo(p,h,s)?(n.change(w=>{w.setSelection(h,"on"),w.setSelectionAttribute(rr,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,s)=>{const c=vR(s.domTarget);if(!c)return;const d=_R(c),h=yR(c,t.domConverter),p=e.editing.mapper.toModelElement(h);this._insertParagraph(p,d),s.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(s,c)=>{if(s.eventPhase!="atTarget")return;const d=t.getSelectedElement(),h=e.editing.mapper.toViewElement(d),p=e.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:Lo(h,d,p)&&(this._insertParagraph(d,c.isSoft?"before":"after"),w=!0),w&&(c.preventDefault(),s.stop())},{context:$t})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),m.isAndroid?this._listenToIfEnabled(t,"keydown",(n,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,s=n.schema;this._listenToIfEnabled(t.document,"delete",(c,d)=>{if(c.eventPhase!="atTarget")return;const h=Br(n.document.selection);if(!h)return;const p=d.direction,w=n.document.selection.getSelectedElement(),_=h==="before",C=p=="forward";if(_===C)e.execute("delete",{selection:n.createSelection(w,"on")});else{const z=s.getNearestSelectionRange(n.createPositionAt(w,h),p);if(z)if(!z.isCollapsed)n.change(U=>{U.setSelection(z),e.execute(C?"deleteForward":"delete")});else{const U=n.createSelection(z.start);if(n.modifySelection(U,{direction:p}),!U.focus.isEqual(z.start))n.change(ne=>{ne.setSelection(z),e.execute(C?"deleteForward":"delete")});else{const ne=TR(s,z.start.parent);n.deleteContent(n.createSelection(ne,"on"),{doNotAutoparagraph:!0})}}}d.preventDefault(),c.stop()},{context:$t})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[c,d])=>{if(d&&!d.is("documentSelection"))return;const h=Br(n);if(h)return s.stop(),t.change(p=>{const w=n.getSelectedElement(),_=t.createPositionAt(w,h),C=p.createSelection(_),O=t.insertContent(c,C);return p.setSelection(C),O})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,c)=>{const[,d,h={}]=c;if(d&&!d.is("documentSelection"))return;const p=Br(n);p&&(h.findOptimalPosition=p,c[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[c])=>{if(c&&!c.is("documentSelection"))return;Br(n)&&s.stop()},{priority:"high"})}}function ER(r,e,t){const n=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const c=this.toDomElement(s);return DR(c,e),SR(c),c});r.insert(r.createPositionAt(t,"end"),n)}function DR(r,e){for(const t of r1){const n=new Oi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[r.ownerDocument.importNode(CR,!0)]});r.appendChild(n.render())}}function SR(r){const e=new Oi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});r.appendChild(e.render())}function TR(r,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||r.isLimit(n))break;t=n}return t}function IR(r){const e=r.model;return(t,n)=>{const s=n.keyCode==Pe.arrowup,c=n.keyCode==Pe.arrowdown,d=n.shiftKey,h=e.document.selection;if(!s&&!c)return;const p=c;if(d&&OR(h,p))return;const w=MR(r,h,p);if(w){if(w.isCollapsed){if(h.isCollapsed)return;if(d)return}(w.isCollapsed||NR(r,w,p))&&(e.change(_=>{const C=p?w.end:w.start;if(d){const O=e.createSelection(h.anchor);O.setFocus(C),_.setSelection(O)}else _.setSelection(C)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function MR(r,e,t){const n=r.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),c=s1(n,s,"forward");if(!c)return null;const d=n.createRange(s,c),h=a1(n.schema,d,"backward");return h?n.createRange(s,h):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),c=s1(n,s,"backward");if(!c)return null;const d=n.createRange(c,s),h=a1(n.schema,d,"forward");return h?n.createRange(h,s):null}}function s1(r,e,t){const n=r.schema,s=r.createRangeIn(e.root),c=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:h,type:p}of s.getWalker({startPosition:e,direction:t})){if(n.isLimit(h)&&!n.isInline(h))return d;if(p==c&&n.isBlock(h))return null}return null}function a1(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:s}of e.getWalker({direction:t}))if(r.checkChild(s,"$text"))return s;return null}function NR(r,e,t){const n=r.model,s=r.view.domConverter;if(t){const w=n.createSelection(e.start);n.modifySelection(w),!w.focus.isAtEnd&&!e.start.isEqual(w.focus)&&(e=n.createRange(w.focus,e.end))}const c=r.mapper.toViewRange(e),d=s.viewRangeToDom(c),h=Ne.getDomRangeRects(d);let p;for(const w of h){if(p===void 0){p=Math.round(w.bottom);continue}if(Math.round(w.top)>=p)return!1;p=Math.max(p,Math.round(w.bottom))}return!0}function OR(r,e){return!r.isCollapsed&&r.isBackward==e}var c1=a(7153),Ym={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ym.insert="head",Ym.singleton=!0,ge()(c1.Z,Ym),c1.Z.locals;class Bc extends ie{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[xR,Pi]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{const h=d.writer,p=c.selection;if(p.isCollapsed)return;const w=p.getSelectedElement();if(!w)return;const _=e.editing.mapper.toViewElement(w);$t(_)&&d.consumable.consume(p,"selection")&&h.setSelection(h.createRangeOn(_),{fake:!0,label:mR(_)})}),this.editor.editing.downcastDispatcher.on("selection",(s,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,p=h.document.selection;let w=null;for(const _ of p.getRanges())for(const C of _){const O=C.item;$t(O)&&!BR(O,w)&&(h.addClass(t1,O),this._previouslySelected.add(O),w=O)}},{priority:"low"}),t.addObserver(ou),this.listenTo(n,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(n,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[$t,"$text"]}),this.listenTo(n,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(n,"arrowKey",IR(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(s,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,s=n.editing.view,c=s.document;let d=t.target;if(PR(d)){if((m.isSafari||m.isGecko)&&t.domEvent.detail>=3){const p=n.editing.mapper,w=d.is("attributeElement")?d.findAncestor(C=>!C.is("attributeElement")):d,_=p.toModelElement(w);t.preventDefault(),this.editor.model.change(C=>{C.setSelection(_,"in")})}return}if(!$t(d)&&(d=d.findAncestor($t),!d))return;m.isAndroid&&t.preventDefault(),c.isFocused||s.focus();const h=n.editing.mapper.toModelElement(d);this._setSelectionOverElement(h)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,s=this.editor.model,c=s.schema,d=s.document.selection,h=d.getSelectedElement(),p=e_(n,this.editor.locale.contentLanguageDirection),w=p=="down"||p=="right",_=p=="up"||p=="down";if(h&&c.isObject(h)){const O=w?d.getLastPosition():d.getFirstPosition(),z=c.getNearestSelectionRange(O,w?"forward":"backward");z&&(s.change(U=>{U.setSelection(z)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed&&!t.shiftKey){const O=d.getFirstPosition(),z=d.getLastPosition(),U=O.nodeAfter,ne=z.nodeBefore;(U&&c.isObject(U)||ne&&c.isObject(ne))&&(s.change(he=>{he.setSelection(w?z:O)}),t.preventDefault(),e.stop());return}if(!d.isCollapsed)return;const C=this._getObjectElementNextToSelection(w);if(C&&c.isObject(C)){if(c.isInline(C)&&_)return;this._setSelectionOverElement(C),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,s=n.schema,c=n.document.selection.getSelectedElement();c&&s.isObject(c)&&(t.preventDefault(),e.stop())}_handleDelete(e){const n=this.editor.model.document.selection;if(!this.editor.model.canEditAt(n)||!n.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(c=>{let d=n.anchor.parent;for(;d.isEmpty;){const h=d;d=h.parent,c.remove(h)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,s=t.document.selection,c=t.createSelection(s);if(t.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(s))return null;const d=e?c.focus.nodeBefore:c.focus.nodeAfter;return d&&n.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(t1,t);this._previouslySelected.clear()}}function PR(r){let e=r;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if($t(e))return!1;e=e.parent}return!1}function BR(r,e){return e?Array.from(r.getAncestors()).includes(e):!1}class l1 extends ie{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[pu]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{zR(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:s,balloonClassName:c="ck-toolbar-container"}){if(!n.length){J("widget-toolbar-no-items",{toolbarId:e});return}const d=this.editor,h=d.t,p=new sm(d.locale);if(p.ariaLabel=t||h("Widget toolbar"),this._toolbarDefinitions.has(e))throw new M("widget-toolbar-duplicated",this,{toolbarId:e});const w={view:p,getRelatedElement:s,balloonClassName:c,itemsConfig:n,initialized:!1};d.ui.addToolbar(p,{isContextual:!0,beforeFocus:()=>{const _=s(d.editing.view.document.selection);_&&this._showToolbar(w,_)},afterBlur:()=>{this._hideToolbar(w)}}),this._toolbarDefinitions.set(e,w)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const s of this._toolbarDefinitions.values()){const c=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!c)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const d=c.getAncestors().length;d>e&&(e=d,t=c,n=s)}}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?d1(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:u1(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const s=n.getRelatedElement(this.editor.editing.view.document.selection);d1(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function d1(r,e){const t=r.plugins.get("ContextualBalloon"),n=u1(r,e);t.updatePosition(n)}function u1(r,e){const t=r.editing.view,n=Yt.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function zR(r){const e=r.getSelectedElement();return!!(e&&$t(e))}class LR extends Ue(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const s=new Ne(t);this.activeHandlePosition=VR(e),this._referenceCoordinates=RR(t,UR(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const c=n.style.width;c&&c.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(c):this._originalWidthPercents=jR(n,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function jR(r,e){const t=r.parentElement;let n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(t).width);const s=5;let c=0,d=t;for(;isNaN(n);){if(d=d.parentElement,++c>s)return 0;n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(d).width)}return e.width/n*100}function RR(r,e){const t=new Ne(r),n=e.split("-"),s={x:n[1]=="right"?t.right:t.left,y:n[0]=="bottom"?t.bottom:t.top};return s.x+=r.ownerDocument.defaultView.scrollX,s.y+=r.ownerDocument.defaultView.scrollY,s}function FR(r){return`ck-widget__resizer__handle-${r}`}function VR(r){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(r.classList.contains(FR(t)))return t}function UR(r){const e=r.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}class HR extends Ae{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(n,s)=>n!==null&&s!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(n,s,c)=>e.unit==="px"?`${n}×${s}`:`${c}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(n,s,c)=>s<50||c<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}class h1 extends Ue(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,n)=>t&&n),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(s=>{const c=s.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(d){const h=this.toDomElement(d);return e._appendHandles(h),e._appendSizeUI(h),h});s.insert(s.createPositionAt(t,"end"),c),s.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=c,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new LR(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(w=>{const _=this._options.unit||"%",C=(_==="%"?t.widthPercents:t.width)+_;w.setStyle("width",C,this._options.viewElement)});const s=this._getHandleHost(),c=new Ne(s),d=Math.round(c.width),h=Math.round(c.height),p=new Ne(s);t.width=Math.round(p.width),t.height=Math.round(p.height),this.redraw(c),this.state.update({...t,handleHostWidth:d,handleHostHeight:h})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!qR(t))return;const n=t.parentElement,s=this._getHandleHost(),c=this._viewResizerWrapper,d=[c.getStyle("width"),c.getStyle("height"),c.getStyle("left"),c.getStyle("top")];let h;if(n.isSameNode(s)){const p=e||new Ne(s);h=[p.width+"px",p.height+"px",void 0,void 0]}else h=[s.offsetWidth+"px",s.offsetHeight+"px",s.offsetLeft+"px",s.offsetTop+"px"];vt(d,h)!=="same"&&this._options.editor.editing.view.change(p=>{p.setStyle({width:h[0],height:h[1],left:h[2],top:h[3]},c)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,n=WR(e),s=this._options.isCentered?this._options.isCentered(this):!0,c={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};s&&t.activeHandlePosition.endsWith("-right")&&(c.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),s&&(c.x*=2);let d=Math.abs(t.originalWidth+c.x),h=Math.abs(t.originalHeight+c.y);return(d/t.aspectRatio>h?"width":"height")=="width"?h=d/t.aspectRatio:d=h*t.aspectRatio,{width:Math.round(d),height:Math.round(h),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*d*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)e.appendChild(new Oi({tag:"div",attributes:{class:`ck-widget__resizer__handle ${$R(n)}`}}).render())}_appendSizeUI(e){this._sizeView=new HR,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function $R(r){return`ck-widget__resizer__handle-${r}`}function WR(r){return{x:r.pageX,y:r.pageY}}function qR(r){return r&&r.ownerDocument&&r.ownerDocument.contains(r)}var f1=a(4875),Zm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zm.insert="head",Zm.singleton=!0,ge()(f1.Z,Zm),f1.Z.locals;class Km extends ie{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=be.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(ou),this._observer=new(Dn()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Ec(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,c]of this._resizers)s.isAttached()||(this._resizers.delete(s),c.destroy())},{priority:"lowest"}),this._observer.listenTo(be.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const s=n.getSelectedElement(),c=this.getResizerByViewElement(s)||null;c?this.select(c):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new h1(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){const d=n.get("WidgetToolbarRepository");t.on("begin",()=>{d.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{d.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{d.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const c=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(c)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const n=t.domTarget;h1.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const Qm=ac("px");class GR extends Ae{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>Qm(t)),top:e.to("top",t=>Qm(t)),width:e.to("width",t=>Qm(t))}}})}}class xu extends ie{constructor(){super(...arguments),this.removeDropMarkerDelayed=rp(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Ec(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Ec(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new GR,this._domEmitter=new(Dn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,s,c){this.removeDropMarkerDelayed.cancel();const d=g1(this.editor,e,t,n,s,c);d&&this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,n,s,c){const d=g1(this.editor,e,t,n,s,c);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(s=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("⁠",t.createElement("span"),"⁠"),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,s=e.start.nodeAfter,c=e.start.parent,d=n?t.mapper.toViewElement(n):null,h=d?t.view.domConverter.mapViewToDom(d):null,p=s?t.mapper.toViewElement(s):null,w=p?t.view.domConverter.mapViewToDom(p):null,_=t.mapper.toViewElement(c),C=t.view.domConverter.mapViewToDom(_),O=this._getScrollableRect(_),{scrollX:z,scrollY:U}=be.window,ne=h?new Ne(h):null,he=w?new Ne(w):null,we=new Ne(C).excludeScrollbarsAndBorders(),He=ne?ne.bottom:we.top,rt=he?he.top:we.bottom,mt=be.window.getComputedStyle(C),yt=He<=rt?(He+rt)/2:rt;if(O.top<yt&&yt<O.bottom){const pe=we.left+parseFloat(mt.paddingLeft),De=we.right-parseFloat(mt.paddingRight),me=Math.max(pe+z,O.left),lt=Math.min(De+z,O.right);this._dropTargetLineView.set({isVisible:!0,left:me,top:yt+U,width:lt-me})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);n=ZR(s),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const c=new Xe(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:c})}return new Ne(n).excludeScrollbarsAndBorders()}}function g1(r,e,t,n,s,c){const d=r.model,h=r.editing.mapper;let w=m1(r,e);for(;w;){if(!c){if(d.schema.checkChild(w,"$text")){const _=t?t[0].start:null,C=_?h.toModelPosition(_):null;if(C){if(d.schema.checkChild(C,"$text"))return d.createRange(C);if(_)return Eu(r,m1(r,_.parent),n,s)}}else if(d.schema.isInline(w))return Eu(r,w,n,s)}if(d.schema.isBlock(w))return Eu(r,w,n,s);if(d.schema.checkChild(w,"$block")){const _=Array.from(w.getChildren()).filter(z=>z.is("element")&&!YR(r,z));let C=0,O=_.length;if(O==0)return d.createRange(d.createPositionAt(w,"end"));for(;C<O-1;){const z=Math.floor((C+O)/2);p1(r,_[z],n,s)=="before"?O=z:C=z}return Eu(r,_[C],n,s)}w=w.parent}return null}function YR(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,s=t.toViewElement(e),c=n.mapViewToDom(s);return be.window.getComputedStyle(c).float!="none"}function Eu(r,e,t,n){const s=r.model;return s.createRange(s.createPositionAt(e,p1(r,e,t,n)))}function p1(r,e,t,n){const s=r.editing.mapper,c=r.editing.view.domConverter,d=s.toViewElement(e),h=c.mapViewToDom(d),p=new Ne(h);return r.model.schema.isInline(e)?t<(p.left+p.right)/2?"before":"after":n<(p.top+p.bottom)/2?"before":"after"}function m1(r,e){const t=r.editing.mapper,n=r.editing.view,s=t.toModelElement(e);if(s)return s;const c=n.createPositionBefore(e),d=t.findMappedViewAncestor(c);return t.toModelElement(d)}function ZR(r){let e=r;do{e=e.parentElement;const t=be.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class KR extends ie{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Dn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),m.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const n=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",(s,c)=>this._handleBlockDragStart(c)),this._domEmitter.listenTo(be.document,"dragover",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(be.document,"drop",(s,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(be.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",(s,c,d)=>{n.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,s=this.editor.editing.view,c=Array.from(n.getSelectedBlocks()),d=t.createRange(t.createPositionBefore(c[0]),t.createPositionAfter(c[c.length-1]));t.change(h=>h.setSelection(d)),this._isBlockDragging=!0,s.focus(),s.getObserver(Pc).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,s=document.elementFromPoint(t,n),c=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||c.getObserver(Pc).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var k1=a(799),Jm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Jm.insert="head",Jm.singleton=!0,ge()(k1.Z,Jm),k1.Z.locals;class QR extends ie{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=rp(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Dn())}static get pluginName(){return"DragDrop"}static get requires(){return[Bi,Bc,xu,KR]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Pc),t.addObserver(ou),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,s,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,s,c)=>{c||this._finalizeDragging(!1)}),m.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=e.plugins.get(xu);this.listenTo(s,"dragstart",(d,h)=>{if(h.target&&h.target.is("editableElement")){h.preventDefault();return}if(this._prepareDraggedRange(h.target),!this._draggedRange){h.preventDefault();return}this._draggingUid=H(),h.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",h.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const p=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(h.dataTransfer,p,"dragstart");const{dataTransfer:_,domTarget:C,domEvent:O}=h,{clientX:z}=O;this._updatePreview({dataTransfer:_,domTarget:C,clientX:z}),h.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(d,h)=>{this._finalizeDragging(!h.dataTransfer.isCanceled&&h.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(be.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(s,"dragleave",()=>{c.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(d,h)=>{if(!this.isEnabled){h.dataTransfer.dropEffect="none";return}const{clientX:p,clientY:w}=h.domEvent;c.updateDropMarker(h.target,h.targetRanges,p,w,this._blockMode),this._draggedRange||(h.dataTransfer.dropEffect="copy"),m.isGecko||(h.dataTransfer.effectAllowed=="copy"?h.dataTransfer.dropEffect="copy":["all","copyMove"].includes(h.dataTransfer.effectAllowed)&&(h.dataTransfer.dropEffect="move")),d.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get(xu);this.listenTo(n,"clipboardInput",(c,d)=>{if(d.method!="drop")return;const{clientX:h,clientY:p}=d.domEvent,w=s.getFinalDropRange(d.target,d.targetRanges,h,p,this._blockMode);if(!w){this._finalizeDragging(!1),c.stop();return}if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),b1(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(w,!0)){this._finalizeDragging(!1),c.stop();return}d.targetRanges=[e.editing.mapper.toViewRange(w)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Bi);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=n.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=b1(n.dataTransfer)=="move",c=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(c&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(s,c)=>{if(m.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let d=w1(c.target);if(m.isBlink&&!e.isReadOnly&&!d&&!n.selection.isCollapsed){const h=n.selection.getSelectedElement();(!h||!$t(h))&&(d=n.selection.editableElement)}d&&(t.change(h=>{h.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(n,"mouseup",()=>{m.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(xu).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(c=>{const d=n.createSelection(this._draggedRange);n.deleteContent(d,{doNotAutoparagraph:!0});const h=d.getFirstPosition().parent;h.isEmpty&&!n.schema.checkChild(h,"$text")&&n.schema.checkChild(h,"paragraph")&&c.insertElement("paragraph",h,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,s=n.document.selection,c=e?w1(e):null;if(c){const w=t.editing.mapper.toModelElement(c);this._draggedRange=pn.fromRange(n.createRangeOn(w)),this._blockMode=n.schema.isBlock(w),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const d=Array.from(s.getSelectedBlocks()),h=s.getFirstRange();if(d.length==0){this._draggedRange=pn.fromRange(h);return}const p=v1(n,d);if(d.length>1)this._draggedRange=pn.fromRange(p),this._blockMode=!0;else if(d.length==1){const w=h.start.isTouching(p.start)&&h.end.isTouching(p.end);this._draggedRange=pn.fromRange(w?p:h),this._blockMode=w}n.change(w=>w.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const s=this.editor.editing.view,c=s.document.selection.editableElement,d=s.domConverter.mapViewToDom(c),h=be.window.getComputedStyle(d);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=vs(be.document,"div",{style:"position: fixed; left: -999999px;"}),be.document.body.appendChild(this._previewContainer));const p=new Ne(d);if(d.contains(t))return;const w=parseFloat(h.paddingLeft),_=vs(be.document,"div");_.className="ck ck-content",_.style.width=h.width,_.style.paddingLeft=`${p.left-n+w}px`,m.isiOS&&(_.style.backgroundColor="white"),_.innerHTML=e.getData("text/html"),e.setDragImage(_,0,0),this._previewContainer.appendChild(_)}}function b1(r){return m.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function w1(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor($t);if($t(r))return r;const e=r.findAncestor(t=>$t(t)||t.is("editableElement"));return $t(e)?e:null}function v1(r,e){const t=e[0],n=e[e.length-1],s=t.getCommonAncestor(n),c=r.createPositionBefore(t),d=r.createPositionAfter(n);if(s&&s.is("element")&&!r.schema.isLimit(s)){const h=r.createRangeOn(s),p=c.isTouching(h.start),w=d.isTouching(h.end);if(p&&w)return v1(r,[s])}return r.createRange(c,d)}class JR extends ie{static get pluginName(){return"PastePlainText"}static get requires(){return[Bi]}init(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,c=t.document.selection;let d=!1;n.addObserver(Pc),this.listenTo(s,"keydown",(h,p)=>{d=p.shiftKey}),e.plugins.get(Bi).on("contentInsertion",(h,p)=>{!d&&!XR(p.content,t.schema)||t.change(w=>{const _=Array.from(c.getAttributes()).filter(([O])=>t.schema.getAttributeProperties(O).isFormatting);c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),_.push(...c.getAttributes());const C=w.createRangeIn(p.content);for(const O of C.getItems())O.is("$textProxy")&&w.setAttributes(_,O)})})}}function XR(r,e){if(r.childCount>1)return!1;const t=r.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}class Xm extends ie{static get pluginName(){return"Clipboard"}static get requires(){return[Bi,QR,JR]}}class e8 extends et{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!_1(e.schema,n))do if(n=n.parent,!n)return;while(!_1(e.schema,n));e.change(s=>{s.setSelection(n,"in")})}}function _1(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const t8=lc("Ctrl+A");class n8 extends ie{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new e8(e)),this.listenTo(n,"keydown",(s,c)=>{Cs(c)===t8&&(e.execute("selectAll"),c.preventDefault())})}}const i8='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class r8 extends ie{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),s=new We(t),c=t.t;return s.set({label:c("Select all"),icon:i8,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(n,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class o8 extends ie{static get requires(){return[n8,r8]}static get pluginName(){return"SelectAll"}}class y1 extends et{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const s=n[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const s=this.editor.model,c=s.document,d=[],h=e.map(w=>w.getTransformedByOperations(n)),p=h.flat();for(const w of h){const _=w.filter(C=>C.root!=c.graveyard).filter(C=>!a8(C,p));_.length&&(s8(_),d.push(_[0]))}d.length&&s.change(w=>{w.setSelection(d,{backward:t})})}_undo(e,t){const n=this.editor.model,s=n.document;this._createdBatches.add(t);const c=e.operations.slice().filter(d=>d.isDocumentOperation);c.reverse();for(const d of c){const h=d.baseVersion+1,p=Array.from(s.history.getOperations(h)),_=FL([d.getReversed()],p,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let C of _){const O=C.affectedSelectable;O&&!n.canEditAt(O)&&(C=new Tt(C.baseVersion)),t.addOperation(C),n.applyOperation(C),s.history.setOperationAsUndone(d,C)}}}}function s8(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const n=r[e-1].getJoined(r[e],!0);n&&(e--,r.splice(e,2,n))}}function a8(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class c8 extends y1{execute(e=null){const t=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(n.batch,s);const c=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c)}),this.fire("revert",n.batch,s),this.refresh()}}class l8 extends y1{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,c=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,c),this._undo(e.batch,t)}),this.refresh()}}class d8 extends ie{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new c8(e),this._redoCommand=new l8(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const s=n[0];if(!s.isDocumentOperation)return;const c=s.batch,d=this._redoCommand.createdBatches.has(c),h=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):h||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const A1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',C1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class u8 extends ie{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?A1:C1,c=t.uiLanguageDirection=="ltr"?C1:A1;this._addButton("undo",n("Undo"),"CTRL+Z",s),this._addButton("redo",n("Redo"),"CTRL+Y",c)}_addButton(e,t,n,s){const c=this.editor;c.ui.componentFactory.add(e,d=>{const h=c.commands.get(e),p=new We(d);return p.set({label:t,icon:s,keystroke:n,tooltip:!0}),p.bind("isEnabled").to(h,"isEnabled"),this.listenTo(p,"execute",()=>{c.execute(e),c.editing.view.focus()}),p})}}class ek extends ie{static get requires(){return[d8,u8]}static get pluginName(){return"Undo"}}class h8 extends ie{static get requires(){return[Xm,yu,o8,tR,M7,ek]}static get pluginName(){return"Essentials"}}class f8 extends et{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,n=Vt(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&x1(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,s=e.selection||n.selection;t.canEditAt(s)&&t.change(c=>{const d=s.getSelectedBlocks();for(const h of d)!h.is("element","paragraph")&&x1(h,t.schema)&&c.rename(h,"paragraph")})}}function x1(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class g8 extends et{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(c=>{if(s=this._findPositionToInsertParagraph(s,c),!s)return;const d=c.createElement("paragraph");n&&t.schema.setAllowedAttributes(d,n,c),t.insertContent(d,s),c.setSelection(d,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const s=n.schema.findAllowedParent(e,"paragraph");if(!s)return null;const c=e.parent,d=n.schema.checkChild(c,"$text");return c.isEmpty||d&&e.isAtEnd?n.createPositionAfter(c):!c.isEmpty&&d&&e.isAtStart?n.createPositionBefore(c):t.split(e,s).position}}class zc extends ie{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new f8(e)),e.commands.add("insertParagraph",new g8(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(n,{writer:s})=>!zc.paragraphLikeElements.has(n.name)||n.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}zc.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class p8 extends et{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Vt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>E1(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,s=e.value;t.change(c=>{const d=Array.from(n.selection.getSelectedBlocks()).filter(h=>E1(h,s,t.schema));for(const h of d)h.is("element",s)||c.rename(h,s)})}}function E1(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const D1="paragraph";class m8 extends ie{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[zc]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),n.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new p8(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,c)=>{const d=e.model.document.selection.getFirstPosition().parent;n.some(p=>d.is("element",p.model))&&!d.is("element",D1)&&d.childCount===0&&c.writer.rename(d,D1)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:V.low+1})}}function k8(r){const e=r.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return r.config.get("heading.options").map(n=>{const s=t[n.title];return s&&s!=n.title&&(n.title=s),n})}var S1=a(4249),tk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tk.insert="head",tk.singleton=!0,ge()(S1.Z,tk),S1.Z.locals;class b8 extends ie{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=k8(e),s=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",d=>{const h={},p=new $n,w=e.commands.get("heading"),_=e.commands.get("paragraph"),C=[w];for(const z of n){const U={type:"button",model:new mC({label:z.title,class:z.class,role:"menuitemradio",withText:!0})};z.model==="paragraph"?(U.model.bind("isOn").to(_,"value"),U.model.set("commandName","paragraph"),C.push(_)):(U.model.bind("isOn").to(w,"value",ne=>ne===z.model),U.model.set({commandName:"heading",commandValue:z.model})),p.add(U),h[z.model]=z.title}const O=Nr(d);return HA(O,p,{ariaLabel:c,role:"menu"}),O.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),O.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),O.bind("isEnabled").toMany(C,"isEnabled",(...z)=>z.some(U=>U)),O.buttonView.bind("label").to(w,"value",_,"value",(z,U)=>{const ne=z||U&&"paragraph";return typeof ne=="boolean"||!h[ne]?s:h[ne]}),this.listenTo(O,"execute",z=>{const{commandName:U,commandValue:ne}=z.source;e.execute(U,ne?{value:ne}:void 0),e.editing.view.focus()}),O})}}class w8 extends ie{static get requires(){return[m8,b8]}static get pluginName(){return"Heading"}}class v8 extends et{refresh(){const e=this.editor.model,t=e.schema,n=e.document.selection;this.isEnabled=_8(n,t,e)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement("horizontalLine");e.insertObject(n,null,null,{setSelection:"after"})})}}function _8(r,e,t){const n=y8(r,t);return e.checkChild(n,"horizontalLine")}function y8(r,e){const n=qm(r,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}var T1=a(9893),nk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nk.insert="head",nk.singleton=!0,ge()(T1.Z,nk),T1.Z.locals;class A8 extends ie{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,s=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(c,{writer:d})=>d.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(c,{writer:d})=>{const h=n("Horizontal line"),p=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",p),d.setCustomProperty("hr",!0,p),C8(p,d,h)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new v8(e))}}function C8(r,e,t){return e.setCustomProperty("horizontalLine",!0,r),Wm(r,e,{label:t})}const x8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';class E8 extends ie{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",n=>{const s=e.commands.get("horizontalLine"),c=new We(n);return c.set({label:t("Horizontal line"),icon:x8,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),this.listenTo(c,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),c})}}class D8 extends ie{static get requires(){return[A8,E8,Bc]}static get pluginName(){return"HorizontalLine"}}function S8(r){return r.createContainerElement("span",{class:"image-inline"},r.createEmptyElement("img"))}function I1(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function M1(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return c=>t.isInlineImageView(c)?n&&(c.getStyle("display")=="block"||c.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(c):null;function s(c){const d={name:!0};return c.hasAttribute("src")&&(d.attributes=["src"]),d}}function ik(r,e){const t=Vt(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Du(r){return r&&r.endsWith("px")?parseInt(r):null}function Su(r){const e=Du(r.getStyle("width")),t=Du(r.getStyle("height"));return!!(e&&t)}const T8=/^(image|image-inline)$/;class bn extends ie{constructor(){super(...arguments),this._domEmitter=new(Dn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,s={}){const c=this.editor,d=c.model,h=d.document.selection;n=N1(c,t||h,n),e={...Object.fromEntries(h.getAttributes()),...e};for(const p in e)d.schema.checkAttribute(n,p)||delete e[p];return d.change(p=>{const{setImageSizes:w=!0}=s,_=p.createElement(n,e);return d.insertObject(_,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":void 0}),_.parent?(w&&this.setImageNaturalSizeAttributes(_),_):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const s=new be.window.Image;this._domEmitter.listenTo(s,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(n.batch,c=>{c.setAttribute("width",s.naturalWidth,e),c.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:T8})}isImageAllowed(){const t=this.editor.model.document.selection;return I8(this.editor,t)&&M8(t)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),Wm(e,t,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&$t(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function I8(r,e){if(N1(r,e,null)=="imageBlock"){const n=N8(e,r.model);if(r.model.schema.checkChild(n,"imageBlock"))return!0}else if(r.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function M8(r){return[...r.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function N8(r,e){const n=qm(r,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function N1(r,e,t){const n=r.model.schema,s=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?ik(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const O8=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class P8 extends ie{static get requires(){return[Xm,bn,ek,Pi]}static get pluginName(){return"AutoImage"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const s=t.selection.getFirstRange(),c=It.fromPosition(s.start);c.stickiness="toPrevious";const d=It.fromPosition(s.end);d.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(c,d),c.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(be.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const n=this.editor,s=new pn(e,t),c=s.getWalker({ignoreElementEnd:!0}),d=Object.fromEntries(n.model.document.selection.getAttributes()),h=this.editor.plugins.get("ImageUtils");let p="";for(const w of c)w.item.is("$textProxy")&&(p+=w.item.data);if(p=p.trim(),!p.match(O8)){s.detach();return}this._positionToInsert=It.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!n.commands.get("insertImage").isEnabled){s.detach();return}n.model.change(C=>{this._timeoutId=null,C.remove(s),s.detach();let O;this._positionToInsert.root.rootName!=="$graveyard"&&(O=this._positionToInsert.toPosition()),h.insertImage({...d,src:p},O),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)}}class B8 extends et{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=t.model,c=n.getClosestSelectedImageElement(s.document.selection);s.change(d=>{d.setAttribute("alt",e.newValue,c)})}}class z8 extends ie{static get requires(){return[bn]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new B8(this.editor))}}var O1=a(5269),rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rk.insert="head",rk.singleton=!0,ge()(O1.Z,rk),O1.Z.locals;var P1=a(6603),ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ok.insert="head",ok.singleton=!0,ge()(P1.Z,ok),P1.Z.locals;class L8 extends Ae{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new gn,this.keystrokes=new si,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),au({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,s){const c=new We(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createLabeledInputView(){const e=this.locale.t,t=new Tc(this.locale,Ic);return t.label=e("Text alternative"),t}}function j8(r){const e=r.plugins.get("ContextualBalloon");if(r.plugins.get("ImageUtils").getClosestSelectedImageWidget(r.editing.view.document.selection)){const n=B1(r);e.updatePosition(n)}}function B1(r){const e=r.editing.view,t=Yt.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class R8 extends ie{static get requires(){return[pu]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const s=e.commands.get("imageTextAlternative"),c=new We(n);return c.set({label:t("Change image text alternative"),icon:Te.lowVision,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>!!d),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new($p(L8))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,d)=>{this._hideForm(!0),d()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(n.selection)?this._isVisible&&j8(e):this._hideForm(!0)}),Hp({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:B1(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class z1 extends ie{static get requires(){return[z8,R8]}static get pluginName(){return"ImageTextAlternative"}}function F8(r){const e=(t,n,s)=>{if(!s.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const c=r.findViewImgElement(n.viewItem);if(!c||!s.consumable.test(c,{name:!0}))return;s.consumable.consume(n.viewItem,{name:!0,classes:"image"});const d=s.convertItem(c,n.modelCursor),h=Vt(d.modelRange.getItems());if(!h){s.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}s.convertChildren(n.viewItem,h),s.updateConversionResult(h,n)};return t=>{t.on("element:figure",e)}}function L1(r,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=c.writer,h=c.mapper.toViewElement(s.item),p=r.findViewImgElement(h);s.attributeNewValue===null?(d.removeAttribute("srcset",p),d.removeAttribute("sizes",p)):s.attributeNewValue&&(d.setAttribute("srcset",s.attributeNewValue,p),d.setAttribute("sizes","100vw",p))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Tu(r,e,t){const n=(s,c,d)=>{if(!d.consumable.consume(c.item,s.name))return;const h=d.writer,p=d.mapper.toViewElement(c.item),w=r.findViewImgElement(p);h.setAttribute(c.attributeKey,c.attributeNewValue||"",w)};return s=>{s.on(`attribute:${t}:${e}`,n)}}class j1 extends Ti{observe(e){this.listenTo(e,"load",(t,n)=>{const s=n.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class V8 extends et{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&J("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&J("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Ft(e.source),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const p=n.getSelectedElement();if(typeof d=="string"&&(d={src:d}),h&&p&&s.isImage(p)){const w=this.editor.model.createPositionAfter(p);s.insertImage({...d,...c},w)}else s.insertImage({...d,...c})})}}class U8 extends et{refresh(){const t=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}class R1 extends ie{static get requires(){return[bn]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(j1),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new V8(e),s=new U8(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",n)}}class F1 extends ie{static get requires(){return[bn]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),s=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:d=>Su(d)?Du(d.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:d=>Su(d)?Du(d.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(d=>{c(d,"width","width",!0),c(d,"height","height",!0)}),t.conversion.for("dataDowncast").add(d=>{c(d,"width","width",!1),c(d,"height","height",!1)});function c(d,h,p,w){d.on(`attribute:${h}:${e}`,(_,C,O)=>{if(!O.consumable.consume(C.item,_.name))return;const z=O.writer,U=O.mapper.toViewElement(C.item),ne=n.findViewImgElement(U);if(C.attributeNewValue!==null?z.setAttribute(p,C.attributeNewValue,ne):z.removeAttribute(p,ne),C.item.hasAttribute("sources"))return;const he=C.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!he&&!w)return;const we=C.item.getAttribute("width"),He=C.item.getAttribute("height"),rt=ne.getStyle("aspect-ratio");we&&He&&!rt&&z.setStyle("aspect-ratio",`${we}/${He}`,ne)})}}}class V1 extends et{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(n):this.isEnabled=t.isBlockImage(n)}execute(e={}){const t=this.editor,n=this.editor.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(n.document.selection),d=Object.fromEntries(c.getAttributes());return!d.src&&!d.uploadId?null:n.change(h=>{const{setImageSizes:p=!0}=e,w=Array.from(n.markers).filter(O=>O.getRange().containsItem(c)),_=s.insertImage(d,n.createSelection(c,"on"),this._modelElementName,{setImageSizes:p});if(!_)return null;const C=h.createRangeOn(_);for(const O of w){const z=O.getRange(),U=z.root.rootName!="$graveyard"?z.getJoined(C,!0):C;h.updateMarker(O,{range:U})}return{oldElement:c,newElement:_}})}}class U1 extends ie{static get requires(){return[R1,F1,bn,Bi]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new V1(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>I1(d)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>s.toImageWidget(I1(d),d,t("image widget"))}),n.for("downcast").add(Tu(s,"imageBlock","src")).add(Tu(s,"imageBlock","alt")).add(L1(s,"imageBlock")),n.for("upcast").elementToElement({view:M1(e,"imageBlock"),model:(c,{writer:d})=>d.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(F8(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const p=Array.from(h.content.getChildren());let w;if(!p.every(s.isInlineImageView))return;h.targetRanges?w=e.editing.mapper.toModelRange(h.targetRanges[0]):w=t.document.selection.getFirstRange();const _=t.createSelection(w);if(ik(t.schema,_)==="imageBlock"){const C=new zo(n.document),O=p.map(z=>C.createElement("figure",{class:"image"},z));h.content=C.createDocumentFragment(O)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(p=>{const w=p.createRangeIn(h.content);for(const _ of w.getItems())_.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(_)})})}}var H1=a(2430),sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sk.insert="head",sk.singleton=!0,ge()(H1.Z,sk),H1.Z.locals;class H8 extends ie{static get requires(){return[U1,Bc,z1]}static get pluginName(){return"ImageBlock"}}class $8 extends ie{static get requires(){return[R1,F1,bn,Bi]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,s)=>{if(n.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new V1(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:d})=>d.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:d})=>s.toImageWidget(S8(d),d,t("image widget"))}),n.for("downcast").add(Tu(s,"imageInline","src")).add(Tu(s,"imageInline","alt")).add(L1(s,"imageInline")),n.for("upcast").elementToElement({view:M1(e,"imageInline"),model:(c,{writer:d})=>d.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,h)=>{const p=Array.from(h.content.getChildren());let w;if(!p.every(s.isBlockImageView))return;h.targetRanges?w=e.editing.mapper.toModelRange(h.targetRanges[0]):w=t.document.selection.getFirstRange();const _=t.createSelection(w);if(ik(t.schema,_)==="imageInline"){const C=new zo(n.document),O=p.map(z=>z.childCount===1?(Array.from(z.getAttributes()).forEach(U=>C.setAttribute(...U,s.findViewImgElement(z))),z.getChild(0)):z);h.content=C.createDocumentFragment(O)}}),this.listenTo(c,"contentInsertion",(d,h)=>{h.method==="paste"&&t.change(p=>{const w=p.createRangeIn(h.content);for(const _ of w.getItems())_.is("element","imageInline")&&s.setImageNaturalSizeAttributes(_)})})}}class W8 extends ie{static get requires(){return[$8,Bc,z1]}static get pluginName(){return"ImageInline"}}class q8 extends ie{static get requires(){return[H8,W8]}static get pluginName(){return"Image"}}class $1 extends ie{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[bn]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class G8 extends et{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(U1)){this.isEnabled=!1,this.value=!1;return}const s=e.model.document.selection,c=s.getSelectedElement();if(!c){const d=t.getCaptionFromModelSelection(s);this.isEnabled=!!d,this.value=!!d;return}this.isEnabled=n.isImage(c),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let h=s.getSelectedElement();const p=c._getSavedCaption(h);d.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=s.getSelectedElement());const w=p||e.createElement("caption");e.append(w,h),t&&e.setSelection(w,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),c=t.plugins.get("ImageCaptionUtils");let d=n.getSelectedElement(),h;d?h=c.getCaptionFromImageModelElement(d):(h=c.getCaptionFromModelSelection(n),d=h.parent),s._saveCaption(d,h),e.setSelection(d,"on"),e.remove(h)}}class Y8 extends ie{static get requires(){return[bn,$1]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new G8(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:d=>s.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>n.isBlockImage(d.parent)?h.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>{if(!n.isBlockImage(d.parent))return null;const p=h.createEditableElement("figcaption");h.setCustomProperty("imageCaption",!0,p),p.placeholder=c("Enter image caption"),u_({view:t,element:p,keepOnFocus:!0});const w=d.parent.getAttribute("alt"),_=w?c("Caption for image: %0",[w]):c("Caption for the image");return kR(p,h,{label:_})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),d=h=>{if(!h.return)return;const{oldElement:p,newElement:w}=h.return;if(!p)return;if(t.isBlockImage(p)){const C=n.getCaptionFromImageModelElement(p);if(C){this._saveCaption(w,C);return}}const _=this._getSavedCaption(p);_&&this._saveCaption(w,_)};s&&this.listenTo(s,"execute",d,{priority:"low"}),c&&this.listenTo(c,"execute",d,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?qe.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const c=t.document.differ.getChanges();for(const d of c){if(d.attributeKey!=="alt")continue;const h=d.range.start.nodeAfter;if(n.isBlockImage(h)){const p=s.getCaptionFromImageModelElement(h);if(!p)return;e.editing.reconvertItem(p)}}})}}class Z8 extends ie{static get requires(){return[$1]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const d=e.commands.get("toggleImageCaption"),h=new We(c);return h.set({icon:Te.caption,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.bind("label").to(d,"value",p=>s(p?"Toggle caption off":"Toggle caption on")),this.listenTo(h,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const p=n.getCaptionFromModelSelection(e.model.document.selection);if(p){const w=e.editing.mapper.toViewElement(p);t.scrollToTheSelection(),t.change(_=>{_.addClass("image__caption_highlighted",w)})}e.editing.view.focus()}),h})}}var W1=a(2423),ak={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ak.insert="head",ak.singleton=!0,ge()(W1.Z,ak),W1.Z.locals;class K8 extends ie{static get requires(){return[Y8,Z8]}static get pluginName(){return"ImageCaption"}}class Q8 extends Ue(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,s)=>{t.onload=()=>{const c=t.result;this._data=c,n(c)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class jo extends ie{constructor(){super(...arguments),this.loaders=new $n,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[rA]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return J("filerepository-no-upload-adapter"),null;const t=new q1(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const s of this.loaders)n+=s.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const s of this.loaders)s.uploadTotal&&(n+=s.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof q1?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,s)=>{n===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(rA);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class q1 extends Ue(){constructor(e,t){super(),this.id=H(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new Q8,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,s)=>s?n/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(c=>{t.isFulfilled=!0,n(c)}).catch(c=>{t.isFulfilled=!0,s(c)})}),t}}class J8 extends Ae{constructor(e){super(e),this.buttonView=new We(e),this._fileInputView=new X8(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class X8 extends Ae{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class eF extends ie{static get requires(){return[jo]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(jo).createUploadAdapter=e=>new tF(e)}}class tF{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const n=this.reader=new window.FileReader;n.addEventListener("load",()=>{e({default:n.result})}),n.addEventListener("error",s=>{t(s)}),n.addEventListener("abort",()=>{t()}),this.loader.file.then(s=>{n.readAsDataURL(s)})})}abort(){this.reader.abort()}}function G1(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function nF(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(s=>s.blob()).then(s=>{const c=Y1(s,n),h=`image.${c.replace("image/","")}`,p=new File([s],h,{type:c});e(p)}).catch(s=>s&&s.name==="TypeError"?rF(n).then(e).catch(t):t(s))})}function iF(r,e){return!r.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function Y1(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function rF(r){return oF(r).then(e=>{const t=Y1(e,r),s=`image.${t.replace("image/","")}`;return new File([e],s,{type:t})})}function oF(r){return new Promise((e,t)=>{const n=be.document.createElement("img");n.addEventListener("load",()=>{const s=be.document.createElement("canvas");s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0),s.toBlob(d=>d?e(d):t())}),n.addEventListener("error",()=>t()),n.src=r})}class sF extends ie{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=s=>{const c=new J8(s),d=e.commands.get("uploadImage"),h=e.config.get("image.upload.types"),p=G1(h);return c.set({acceptedType:h.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:t("Insert image"),icon:Te.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(d),c.on("done",(w,_)=>{const C=Array.from(_).filter(O=>p.test(O.type));C.length&&(e.execute("uploadImage",{file:C}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}var Z1=a(2926),ck={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ck.insert="head",ck.singleton=!0,ge()(Z1.Z,ck),Z1.Z.locals;var K1=a(1547),lk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lk.insert="head",lk.singleton=!0,ge()(K1.Z,lk),K1.Z.locals;var Q1=a(6618),dk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dk.insert="head",dk.singleton=!0,ge()(Q1.Z,dk),Q1.Z.locals;class aF extends ie{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,n,s)=>{const c=this.editor,d=n.item,h=d.getAttribute("uploadId");if(!s.consumable.consume(n.item,t.name))return;const p=c.plugins.get("ImageUtils"),w=c.plugins.get(jo),_=h?n.attributeNewValue:null,C=this.placeholder,O=c.editing.mapper.toViewElement(d),z=s.writer;if(_=="reading"){J1(O,z),X1(p,C,O,z);return}if(_=="uploading"){const U=w.loaders.get(h);J1(O,z),U?(ex(O,z),lF(O,z,U,c.editing.view),gF(p,O,z,U)):X1(p,C,O,z);return}_=="complete"&&w.loaders.get(h)&&uF(O,z,c.editing.view),dF(O,z),ex(O,z),cF(O,z)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function J1(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function cF(r,e){e.removeClass("ck-appear",r)}function X1(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const s=r.findViewImgElement(t);s.getAttribute("src")!==e&&n.setAttribute("src",e,s),tx(t,"placeholder")||n.insert(n.createPositionAfter(s),fF(n))}function ex(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),nx(r,e,"placeholder")}function lF(r,e,t,n){const s=hF(e);e.insert(e.createPositionAt(r,"end"),s),t.on("change:uploadedPercent",(c,d,h)=>{n.change(p=>{p.setStyle("width",h+"%",s)})})}function dF(r,e){nx(r,e,"progressBar")}function uF(r,e,t){const n=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(r,"end"),n),setTimeout(()=>{t.change(s=>s.remove(s.createRangeOn(n)))},3e3)}function hF(r){const e=r.createUIElement("div",{class:"ck-progress-bar"});return r.setCustomProperty("progressBar",!0,e),e}function fF(r){const e=r.createUIElement("div",{class:"ck-upload-placeholder-loader"});return r.setCustomProperty("placeholder",!0,e),e}function tx(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function nx(r,e,t){const n=tx(r,t);n&&e.remove(e.createRangeOn(n))}function gF(r,e,t,n){if(n.data){const s=r.findViewImgElement(e);t.setAttribute("src",n.data,s)}}class pF extends et{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=Ft(e.file),n=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((d,h)=>{const p=n.getSelectedElement();if(h&&p&&s.isImage(p)){const w=this.editor.model.createPositionAfter(p);this._uploadImage(d,c,w)}else this._uploadImage(d,c)})}_uploadImage(e,t,n){const s=this.editor,d=s.plugins.get(jo).createLoader(e),h=s.plugins.get("ImageUtils");d&&h.insertImage({...t,uploadId:d.id},n)}}class mF extends ie{static get requires(){return[jo,pC,Bi,bn]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,n=e.conversion,s=e.plugins.get(jo),c=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),h=G1(e.config.get("image.upload.types")),p=new pF(e);e.commands.add("uploadImage",p),e.commands.add("imageUpload",p),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(w,_)=>{if(kF(_.dataTransfer))return;const C=Array.from(_.dataTransfer.files).filter(O=>O?h.test(O.type):!1);C.length&&(w.stop(),e.model.change(O=>{_.targetRanges&&O.setSelection(_.targetRanges.map(z=>e.editing.mapper.toModelRange(z))),e.execute("uploadImage",{file:C})}))}),this.listenTo(d,"inputTransformation",(w,_)=>{const C=Array.from(e.editing.view.createRangeIn(_.content)).map(z=>z.item).filter(z=>iF(c,z)&&!z.getAttribute("uploadProcessed")).map(z=>({promise:nF(z),imageElement:z}));if(!C.length)return;const O=new zo(e.editing.view.document);for(const z of C){O.setAttribute("uploadProcessed",!0,z.imageElement);const U=s.createLoader(z.promise);U&&(O.setAttribute("src","",z.imageElement),O.setAttribute("uploadId",U.id,z.imageElement))}}),e.editing.view.document.on("dragover",(w,_)=>{_.preventDefault()}),t.on("change",()=>{const w=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),_=new Set;for(const C of w)if(C.type=="insert"&&C.name!="$text"){const O=C.position.nodeAfter,z=C.position.root.rootName=="$graveyard";for(const U of bF(e,O)){const ne=U.getAttribute("uploadId");if(!ne)continue;const he=s.loaders.get(ne);he&&(z?_.has(ne)||he.abort():(_.add(ne),this._uploadImageElements.set(ne,U),he.status=="idle"&&this._readAndUpload(he)))}}}),this.on("uploadComplete",(w,{imageElement:_,data:C})=>{const O=C.urls?C.urls:C;this.editor.model.change(z=>{z.setAttribute("src",O.default,_),this._parseAndSetSrcsetAttributeOnImage(O,_,z),c.setImageNaturalSizeAttributes(_)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,s=t.locale.t,c=t.plugins.get(jo),d=t.plugins.get(pC),h=t.plugins.get("ImageUtils"),p=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},_=>{_.setAttribute("uploadStatus","reading",p.get(e.id))}),e.read().then(()=>{const _=e.upload(),C=p.get(e.id);if(m.isSafari){const O=t.editing.mapper.toViewElement(C),z=h.findViewImgElement(O);t.editing.view.once("render",()=>{if(!z.parent)return;const U=t.editing.view.domConverter.mapViewToDom(z.parent);if(!U)return;const ne=U.style.display;U.style.display="none",U._ckHack=U.offsetHeight,U.style.display=ne})}return n.enqueueChange({isUndoable:!1},O=>{O.setAttribute("uploadStatus","uploading",C)}),_}).then(_=>{n.enqueueChange({isUndoable:!1},C=>{const O=p.get(e.id);C.setAttribute("uploadStatus","complete",O),this.fire("uploadComplete",{data:_,imageElement:O})}),w()}).catch(_=>{if(e.status!=="error"&&e.status!=="aborted")throw _;e.status=="error"&&_&&d.showWarning(_,{title:s("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},C=>{C.remove(p.get(e.id))}),w()});function w(){n.enqueueChange({isUndoable:!1},_=>{const C=p.get(e.id);_.removeAttribute("uploadId",C),_.removeAttribute("uploadStatus",C),p.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let s=0;const c=Object.keys(e).filter(d=>{const h=parseInt(d,10);if(!isNaN(h))return s=Math.max(s,h),!0}).map(d=>`${e[d]} ${d}w`).join(", ");if(c!=""){const d={srcset:c};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(d.width=s),n.setAttributes(d,t)}}}function kF(r){return Array.from(r.types).includes("text/html")&&r.getData("text/html")!==""}function bF(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}class ix extends ie{static get pluginName(){return"ImageUpload"}static get requires(){return[mF,sF,aF]}}var rx=a(8340),uk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uk.insert="head",uk.singleton=!0,ge()(rx.Z,uk),rx.Z.locals;class wF extends Ae{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}var ox=a(8879),hk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hk.insert="head",hk.singleton=!0,ge()(ox.Z,hk),ox.Z.locals;class vF extends Ae{constructor(e,t={}){super(e);const{insertButtonView:n,cancelButtonView:s}=this._createActionButtons(e);this.insertButtonView=n,this.cancelButtonView=s,this.set("imageURLInputValue",""),this.focusTracker=new gn,this.keystrokes=new si,this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new $n);for(const[c,d]of Object.entries(t))c==="insertImageViaUrl"&&(d.fieldView.bind("value").to(this,"imageURLInputValue",h=>h||""),d.fieldView.on("input",()=>{this.imageURLInputValue=d.fieldView.element.value.trim()})),d.name=c,this._integrations.add(d);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new wF(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),au({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const t=n=>n.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(e){return this._integrations.find(t=>t.name===e)}_createActionButtons(e){const t=e.t,n=new We(e),s=new We(e);return n.set({label:t("Insert"),icon:Te.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),s.set({label:t("Cancel"),icon:Te.cancel,class:"ck-button-cancel",withText:!0}),n.bind("isEnabled").to(this,"imageURLInputValue",c=>!!c),n.delegate("execute").to(this,"submit"),s.delegate("execute").to(this,"cancel"),{insertButtonView:n,cancelButtonView:s}}focus(){this._focusCycler.focusFirst()}}function _F(r){const e=r.config.get("image.insert.integrations"),t=r.plugins.get("ImageInsertUI"),n={insertImageViaUrl:yF(r.locale)};if(!e)return n;if(e.find(s=>s==="openCKFinder")&&r.ui.componentFactory.has("ckfinder")){const s=r.ui.componentFactory.create("ckfinder");s.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),s.delegate("execute").to(t,"cancel"),n.openCKFinder=s}return e.reduce((s,c)=>(n[c]?s[c]=n[c]:r.ui.componentFactory.has(c)&&(s[c]=r.ui.componentFactory.create(c)),s),{})}function yF(r){const e=r.t,t=new Tc(r,Ic);return t.set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t}class sx extends ie{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=n=>this._createDropdownView(n);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,n=e.t,s=t.commands.get("uploadImage"),c=t.commands.get("insertImage");this.dropdownView=Nr(e,s?lm:void 0);const d=this.dropdownView.buttonView,h=this.dropdownView.panelView;if(d.set({label:n("Insert image"),icon:Te.image,tooltip:!0}),h.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),s){const p=this.dropdownView.buttonView;p.actionView=t.ui.componentFactory.create("uploadImage"),p.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(s||c)}_setUpDropdown(e){const t=this.editor,n=t.t,s=this.dropdownView,c=s.panelView,d=this.editor.plugins.get("ImageUtils"),h=t.commands.get("replaceImageSource");let p;s.bind("isEnabled").to(e),s.once("change:isOpen",()=>{p=new vF(t.locale,_F(t)),p.delegate("submit","cancel").to(s),c.children.add(p)}),s.on("change:isOpen",()=>{const C=t.model.document.selection.getSelectedElement(),O=p.insertButtonView,z=p.getIntegration("insertImageViaUrl");s.isOpen&&(d.isImage(C)?(p.imageURLInputValue=h.value,O.label=n("Update"),z.label=n("Update image URL")):(p.imageURLInputValue="",O.label=n("Insert"),z.label=n("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",()=>{_(),w()}),s.on("cancel",()=>{_()});function w(){const C=t.model.document.selection.getSelectedElement();d.isImage(C)?t.execute("replaceImageSource",{source:p.imageURLInputValue}):t.execute("insertImage",{source:p.imageURLInputValue})}function _(){t.editing.view.focus(),s.isOpen=!1}return s}}class AF extends ie{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[sx]}}class CF extends ie{static get pluginName(){return"ImageInsert"}static get requires(){return[ix,AF,sx]}}class xF extends et{refresh(){const e=this.editor,n=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!n,!n||!n.hasAttribute("resizedWidth")?this.value=null:this.value={width:n.getAttribute("resizedWidth"),height:null}}execute(e){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null},c&&n.change(d=>{d.setAttribute("resizedWidth",e.width,c),d.removeAttribute("resizedHeight",c),s.setImageNaturalSizeAttributes(c)})}}class ax extends ie{static get requires(){return[bn]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new xF(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${e}`,(c,d,h)=>{if(!h.consumable.consume(d.item,c.name))return;const p=h.writer,w=h.mapper.toViewElement(d.item);d.attributeNewValue!==null?(p.setStyle("width",d.attributeNewValue,w),p.addClass("image_resized",w)):(p.removeStyle("width",w),p.removeClass("image_resized",w))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),t.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${e}`,(c,d,h)=>{if(!h.consumable.consume(d.item,c.name))return;const p=h.writer,w=h.mapper.toViewElement(d.item),_=e==="imageInline"?n.findViewImgElement(w):w;d.attributeNewValue!==null?p.setStyle("height",d.attributeNewValue,_):p.removeStyle("height",_)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>Su(s)?null:s.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>Su(s)?null:s.getStyle("height")}})}}const fk={small:Te.objectSizeSmall,medium:Te.objectSizeMedium,large:Te.objectSizeLarge,original:Te.objectSizeFull};class EF extends ie{static get requires(){return[ax]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const s of t)this._registerImageResizeButton(s);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:n,value:s,icon:c}=e,d=s?s+this._resizeUnit:null;t.ui.componentFactory.add(n,h=>{const p=new We(h),w=t.commands.get("resizeImage"),_=this._getOptionLabelValue(e,!0);if(!fk[c])throw new M("imageresizebuttons-missing-icon",t,e);return p.set({label:_,icon:fk[c],tooltip:_,isToggleable:!0}),p.bind("isEnabled").to(this),p.bind("isOn").to(w,"value",cx(d)),this.listenTo(p,"execute",()=>{t.execute("resizeImage",{width:d})}),p})}_registerImageResizeDropdown(e){const t=this.editor,n=t.t,s=e.find(d=>!d.value),c=d=>{const h=t.commands.get("resizeImage"),p=Nr(d,MA),w=p.buttonView,_=n("Resize image");return w.set({tooltip:_,commandValue:s.value,icon:fk.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:_,ariaLabelledBy:void 0}),w.bind("label").to(h,"value",C=>C&&C.width?C.width:this._getOptionLabelValue(s)),p.bind("isEnabled").to(this),HA(p,()=>this._getResizeDropdownListItemDefinitions(e,h),{ariaLabel:n("Image resize list"),role:"menu"}),this.listenTo(p,"execute",C=>{t.execute(C.source.commandName,{width:C.source.commandValue}),t.editing.view.focus()}),p};t.ui.componentFactory.add("resizeImage",c),t.ui.componentFactory.add("imageResize",c)}_getOptionLabelValue(e,t=!1){const n=this.editor.t;return e.label?e.label:t?e.value?n("Resize image to %0",e.value+this._resizeUnit):n("Resize image to the original size"):e.value?e.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(e,t){const n=new $n;return e.map(s=>{const c=s.value?s.value+this._resizeUnit:null,d={type:"button",model:new mC({commandName:"resizeImage",commandValue:c,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};d.model.bind("isOn").to(t,"value",cx(c)),n.add(d)}),n}}function cx(r){return e=>{const t=e;return r===null&&t===r?!0:t!==null&&t.width===r}}const DF="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",gk="image_resized";class SF extends ie{static get requires(){return[Km,bn]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils");t.addObserver(j1),this.listenTo(t.document,"imageLoaded",(s,c)=>{if(!c.target.matches(DF))return;const d=e.editing.view.domConverter,h=d.domToView(c.target),p=n.getImageWidgetFromImageView(h);let w=this.editor.plugins.get(Km).getResizerByViewElement(p);if(w){w.redraw();return}const _=e.editing.mapper,C=_.toModelElement(p);w=e.plugins.get(Km).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:C,viewElement:p,editor:e,getHandleHost(O){return O.querySelector("img")},getResizeHost(){return d.mapViewToDom(_.toViewElement(C.parent))},isCentered(){const O=C.getAttribute("imageStyle");return!O||O=="block"||O=="alignCenter"},onCommit(O){t.change(z=>{z.removeClass(gk,p)}),e.execute("resizeImage",{width:O})}}),w.on("updateSize",()=>{p.hasClass(gk)||t.change(z=>{z.addClass(gk,p)});const O=C.name==="imageInline"?h:p;O.getStyle("height")&&t.change(z=>{z.removeStyle("height",O)})}),w.bind("isEnabled").to(this)})}}var lx=a(2400),pk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pk.insert="head",pk.singleton=!0,ge()(lx.Z,pk),lx.Z.locals;class TF extends ie{static get requires(){return[ax,SF,EF]}static get pluginName(){return"ImageResize"}}class IF extends et{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const s of n.modelElements)this._defaultStyles[s]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils");n.change(c=>{const d=e.value,{setImageSizes:h=!0}=e;let p=s.getClosestSelectedImageElement(n.document.selection);d&&this.shouldConvertImageType(d,p)&&(this.editor.execute(s.isBlockImage(p)?"imageTypeInline":"imageTypeBlock",{setImageSizes:h}),p=s.getClosestSelectedImageElement(n.document.selection)),!d||this._styles.get(d).isDefault?c.removeAttribute("imageStyle",p):c.setAttribute("imageStyle",d,p),h&&s.setImageNaturalSizeAttributes(p)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:MF,objectInline:dx,objectLeft:ux,objectRight:mk,objectCenter:kk,objectBlockLeft:hx,objectBlockRight:fx}=Te,Iu={get inline(){return{name:"inline",title:"In line",icon:dx,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ux,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:hx,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:kk,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:mk,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:fx,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:kk,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:mk,modelElements:["imageBlock"],className:"image-style-side"}}},gx={full:MF,left:hx,right:fx,center:kk,inlineLeft:ux,inlineRight:mk,inline:dx},px=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function NF(r){return(r.configuredStyles.options||[]).map(n=>BF(n)).filter(n=>zF(n,r))}function OF(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function PF(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...px]:[]}function BF(r){return typeof r=="string"?Iu[r]?r={...Iu[r]}:r={name:r}:r=LF(Iu[r.name],r),typeof r.icon=="string"&&(r.icon=gx[r.icon]||r.icon),r}function zF(r,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:n,name:s}=r;if(!n||!n.length||!s)return mx({style:r}),!1;{const c=[e?"imageBlock":null,t?"imageInline":null];if(!n.some(d=>c.includes(d)))return J("image-style-missing-dependency",{style:r,missingPlugins:n.map(d=>d==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function LF(r,e){const t={...e};for(const n in r)Object.prototype.hasOwnProperty.call(e,n)||(t[n]=r[n]);return t}function mx(r){J("image-style-configuration-definition-invalid",r)}const bk={normalizeStyles:NF,getDefaultStylesConfiguration:OF,getDefaultDropdownDefinitions:PF,warnInvalidStyle:mx,DEFAULT_OPTIONS:Iu,DEFAULT_ICONS:gx,DEFAULT_DROPDOWN_DEFINITIONS:px};function jF(r){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const s=kx(t.attributeNewValue,r),c=kx(t.attributeOldValue,r),d=n.mapper.toViewElement(t.item),h=n.writer;c&&h.removeClass(c.className,d),s&&h.addClass(s.className,d)}}function RF(r){const e={imageInline:r.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:r.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,s)=>{if(!n.modelRange)return;const c=n.viewItem,d=Vt(n.modelRange.getItems());if(d&&s.schema.checkAttribute(d,"imageStyle"))for(const h of e[d.name])s.consumable.consume(c,{classes:h.className})&&s.writer.setAttribute("imageStyle",h.name,d)}}function kx(r,e){for(const t of e)if(t.name===r)return t}class bx extends ie{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[bn]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=bk,n=this.editor,s=n.plugins.has("ImageBlockEditing"),c=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(s,c)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:c}),this._setupConversion(s,c),this._setupPostFixer(),n.commands.add("imageStyle",new IF(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,s=n.model.schema,c=jF(this.normalizedStyles),d=RF(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",c),n.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(bn),s=new Map(this.normalizedStyles.map(c=>[c.name,c]));t.registerPostFixer(c=>{let d=!1;for(const h of t.differ.getChanges())if(h.type=="insert"||h.type=="attribute"&&h.attributeKey=="imageStyle"){let p=h.type=="insert"?h.position.nodeAfter:h.range.start.nodeAfter;if(p&&p.is("element","paragraph")&&p.childCount>0&&(p=p.getChild(0)),!n.isImage(p))continue;const w=p.getAttribute("imageStyle");if(!w)continue;const _=s.get(w);(!_||!_.modelElements.includes(p.name))&&(c.removeAttribute("imageStyle",p),d=!0)}return d})}}var wx=a(3534),wk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wk.insert="head",wk.singleton=!0,ge()(wx.Z,wk),wx.Z.locals;class FF extends ie{static get requires(){return[bx]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=e.get("ImageStyleEditing"),s=vx(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const c=vx([...t.filter(tt),...bk.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const d of c)this._createDropdown(d,s)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,s=>{let c;const{defaultItem:d,items:h,title:p}=e,w=h.filter(z=>t.find(({name:U})=>_x(U)===z)).map(z=>{const U=n.create(z);return z===d&&(c=U),U});h.length!==w.length&&bk.warnInvalidStyle({dropdown:e});const _=Nr(s,lm),C=_.buttonView,O=C.arrowView;return uu(_,w,{enableActiveItemFocusOnDropdownOpen:!0}),C.set({label:yx(p,c.label),class:null,tooltip:!0}),O.unbind("label"),O.set({label:p}),C.bind("icon").toMany(w,"isOn",(...z)=>{const U=z.findIndex(Do);return U<0?c.icon:w[U].icon}),C.bind("label").toMany(w,"isOn",(...z)=>{const U=z.findIndex(Do);return yx(p,U<0?c.label:w[U].label)}),C.bind("isOn").toMany(w,"isOn",(...z)=>z.some(Do)),C.bind("class").toMany(w,"isOn",(...z)=>z.some(Do)?"ck-splitbutton_flatten":void 0),C.on("execute",()=>{w.some(({isOn:z})=>z)?_.isOpen=!_.isOpen:c.fire("execute")}),_.bind("isEnabled").toMany(w,"isEnabled",(...z)=>z.some(Do)),this.listenTo(_,"execute",()=>{this.editor.editing.view.focus()}),_})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(_x(t),n=>{const s=this.editor.commands.get("imageStyle"),c=new We(n);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(s,"isEnabled"),c.bind("isOn").to(s,"value",d=>d===t),c.on("execute",this._executeCommand.bind(this,t)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function vx(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function _x(r){return`imageStyle:${r}`}function yx(r,e){return(r?r+": ":"")+e}class VF extends ie{static get requires(){return[bx,FF]}static get pluginName(){return"ImageStyle"}}class UF extends ie{static get requires(){return[l1,bn]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(l1),s=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:HF(e.config.get("image.toolbar")||[]),getRelatedElement:c=>s.getClosestSelectedImageWidget(c)})}}function HF(r){return r.map(e=>tt(e)?e.name:e)}class $F extends ie{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new o_(e)),e.commands.add("outdent",new o_(e))}}const Ax='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Cx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class WF extends ie{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?Ax:Cx,c=t.uiLanguageDirection=="ltr"?Cx:Ax;this._defineButton("indent",n("Increase indent"),s),this._defineButton("outdent",n("Decrease indent"),c)}_defineButton(e,t,n){const s=this.editor;s.ui.componentFactory.add(e,c=>{const d=s.commands.get(e),h=new We(c);return h.set({label:t,icon:n,tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),this.listenTo(h,"execute",()=>{s.execute(e),s.editing.view.focus()}),h})}}class qF extends ie{static get pluginName(){return"Indent"}static get requires(){return[$F,WF]}}class GF{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,s)=>{if(!s.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||s.schema.isInline(n.item)))return;const c=s.writer,d=c.document.selection;for(const h of this._definitions){const p=c.createAttributeElement("a",h.attributes,{priority:5});h.classes&&c.addClass(h.classes,p);for(const w in h.styles)c.setStyle(w,h.styles[w],p);c.setCustomProperty("link",!0,p),h.callback(n.attributeNewValue)?n.item.is("selection")?c.wrap(d.getFirstRange(),p):c.wrap(s.mapper.toViewRange(n.range),p):c.unwrap(s.mapper.toViewRange(n.range),p)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:s,mapper:c})=>{const d=c.toViewElement(n.item),h=Array.from(d.getChildren()).find(p=>p.is("element","a"));for(const p of this._definitions){const w=Di(p.attributes);if(p.callback(n.attributeNewValue)){for(const[_,C]of w)_==="class"?s.addClass(C,h):s.setAttribute(_,C,h);p.classes&&s.addClass(p.classes,h);for(const _ in p.styles)s.setStyle(_,p.styles[_],h)}else{for(const[_,C]of w)_==="class"?s.removeClass(C,h):s.removeAttribute(_,h);p.classes&&s.removeClass(p.classes,h);for(const _ in p.styles)s.removeStyle(_,h)}}})}}}function YF(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:w_(r,e,t)}const ZF=YF;var KF="\\ud800-\\udfff",QF="\\u0300-\\u036f",JF="\\ufe20-\\ufe2f",XF="\\u20d0-\\u20ff",e9=QF+JF+XF,t9="\\ufe0e\\ufe0f",n9="\\u200d",i9=RegExp("["+n9+KF+e9+t9+"]");function r9(r){return i9.test(r)}const xx=r9;function o9(r){return r.split("")}const s9=o9;var Ex="\\ud800-\\udfff",a9="\\u0300-\\u036f",c9="\\ufe20-\\ufe2f",l9="\\u20d0-\\u20ff",d9=a9+c9+l9,u9="\\ufe0e\\ufe0f",h9="["+Ex+"]",vk="["+d9+"]",_k="\\ud83c[\\udffb-\\udfff]",f9="(?:"+vk+"|"+_k+")",Dx="[^"+Ex+"]",Sx="(?:\\ud83c[\\udde6-\\uddff]){2}",Tx="[\\ud800-\\udbff][\\udc00-\\udfff]",g9="\\u200d",Ix=f9+"?",Mx="["+u9+"]?",p9="(?:"+g9+"(?:"+[Dx,Sx,Tx].join("|")+")"+Mx+Ix+")*",m9=Mx+Ix+p9,k9="(?:"+[Dx+vk+"?",vk,Sx,Tx,h9].join("|")+")",b9=RegExp(_k+"(?="+_k+")|"+k9+m9,"g");function w9(r){return r.match(b9)||[]}const v9=w9;function _9(r){return xx(r)?v9(r):s9(r)}const y9=_9;function A9(r){return function(e){e=up(e);var t=xx(e)?y9(e):void 0,n=t?t[0]:e.charAt(0),s=t?ZF(t,1).join(""):e.slice(1);return n[r]()+s}}var C9=A9("toUpperCase");const x9=C9,E9=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,D9=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,S9=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,T9=/^((\w+:(\/{2,})?)|(\W))/i,Mu="Ctrl+K";function I9(r){return r.is("attributeElement")&&!!r.getCustomProperty("link")}function Nx(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ox(r){const e=String(r);return M9(e)?e:"#"}function M9(r){return!!r.replace(E9,"").match(D9)}function N9(r,e){const t={"Open in a new tab":r("Open in a new tab"),Downloadable:r("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function O9(r){const e=[];if(r)for(const[t,n]of Object.entries(r)){const s=Object.assign({},n,{id:`link${x9(t)}`});e.push(s)}return e}function yk(r,e){return r?e.checkAttribute(r.name,"linkHref"):!1}function P9(r){return S9.test(r)}function Ak(r,e){const t=P9(r)?"mailto:":e,n=!!t&&!Px(r);return r&&n?t+r:r}function Px(r){return T9.test(r)}function Bx(r){window.open(r,"_blank","noopener")}class B9 extends et{constructor(){super(...arguments),this.manualDecorators=new $n,this.automaticDecorators=new GF}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Vt(t.getSelectedBlocks());yk(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const n=this.editor.model,s=n.document.selection,c=[],d=[];for(const h in t)t[h]?c.push(h):d.push(h);n.change(h=>{if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const w=zx(s);let _=zs(p,"linkHref",s.getAttribute("linkHref"),n);s.getAttribute("linkHref")===w&&(_=this._updateLinkContent(n,h,_,e)),h.setAttribute("linkHref",e,_),c.forEach(C=>{h.setAttribute(C,!0,_)}),d.forEach(C=>{h.removeAttribute(C,_)}),h.setSelection(h.createPositionAfter(_.end.nodeBefore))}else if(e!==""){const w=Di(s.getAttributes());w.set("linkHref",e),c.forEach(C=>{w.set(C,!0)});const{end:_}=n.insertContent(h.createText(e,w),p);h.setSelection(_)}["linkHref",...c,...d].forEach(w=>{h.removeSelectionAttribute(w)})}else{const p=n.schema.getValidRanges(s.getRanges(),"linkHref"),w=[];for(const C of s.getSelectedBlocks())n.schema.checkAttribute(C,"linkHref")&&w.push(h.createRangeOn(C));const _=w.slice();for(const C of p)this._isRangeToUpdate(C,w)&&_.push(C);for(const C of _){let O=C;if(_.length===1){const z=zx(s);s.getAttribute("linkHref")===z&&(O=this._updateLinkContent(n,h,C,e),h.setSelection(h.createSelection(O)))}h.setAttribute("linkHref",e,O),c.forEach(z=>{h.setAttribute(z,!0,O)}),d.forEach(z=>{h.removeAttribute(z,O)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,s=n.getSelectedElement();return yk(s,t.schema)?s.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,s){const c=t.createText(s,{linkHref:s});return e.insertContent(c,n)}}function zx(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class z9 extends et{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();yk(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,s=e.commands.get("link");t.change(c=>{const d=n.isCollapsed?[zs(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const h of d)if(c.removeAttribute("linkHref",h),s)for(const p of s.manualDecorators)c.removeAttribute(p.id,h)})}}class L9 extends Ue(){constructor({id:e,label:t,attributes:n,classes:s,styles:c,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=t,this.attributes=n,this.classes=s,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Lx=a(3925),Ck={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ck.insert="head",Ck.singleton=!0,ge()(Lx.Z,Ck),Lx.Z.locals;const j9="ck-link_selected",jx="automatic",R9="manual",F9=/^(https?:)?\/\//;class xk extends ie{static get pluginName(){return"LinkEditing"}static get requires(){return[RC,NC,Bi]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Nx}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,c)=>Nx(Ox(s),c)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new B9(e)),e.commands.add("unlink",new z9(e));const t=N9(e.t,O9(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===jx)),this._enableManualDecorators(t.filter(s=>s.mode===R9)),e.plugins.get(RC).registerAttribute("linkHref"),F7(e,"linkHref","a",j9),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:jx,callback:c=>!!c&&F9.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(c=>{t.model.schema.extend("$text",{allowAttributes:c.id});const d=new L9(c);s.add(d),t.conversion.for("downcast").attributeToElement({model:d.id,view:(h,{writer:p,schema:w},{item:_})=>{if((_.is("selection")||w.isInline(_))&&h){const C=p.createAttributeElement("a",d.attributes,{priority:5});d.classes&&p.addClass(d.classes,C);for(const O in d.styles)p.setStyle(O,d.styles[O],C);return p.setCustomProperty("link",!0,C),C}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...d._createPattern()},model:{key:d.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(s,c)=>{if(!(m.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let h=c.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const p=h.getAttribute("href");p&&(s.stop(),c.preventDefault(),Bx(p))},{context:"$capture"}),this.listenTo(n,"keydown",(s,c)=>{const h=e.commands.get("link").value;h&&c.keyCode===Pe.enter&&c.altKey&&(s.stop(),Bx(h))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=n.anchor.nodeBefore,c=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(c&&c.hasAttribute("linkHref")||t.change(d=>{Ek(d,Dk(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(ou);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const c=s.getFirstPosition(),d=zs(c,"linkHref",s.getAttribute("linkHref"),t);(c.isTouching(d.start)||c.isTouching(d.end))&&t.change(h=>{Ek(h,Dk(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;if(!c.isCollapsed){if(s){s=!1;return}Rx(e)&&V9(e.model)&&(n=c.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[d])=>{s=!1,Rx(e)&&n&&(e.model.change(h=>{for(const[p,w]of n)h.setAttribute(p,w,d)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,s=e.editing.view;let c=!1,d=!1;this.listenTo(s.document,"delete",(h,p)=>{d=p.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{c=!1;const h=n.getFirstPosition(),p=n.getAttribute("linkHref");if(!p)return;const w=zs(h,"linkHref",p,t);c=w.containsPosition(h)||w.end.isEqual(h)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d&&(d=!1,!c&&e.model.enqueueChange(h=>{Ek(h,Dk(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,c)=>{t.change(d=>{const h=d.createRangeIn(c.content);for(const p of h.getItems())if(p.hasAttribute("linkHref")){const w=Ak(p.getAttribute("linkHref"),n);d.setAttribute("linkHref",w,p)}})})}}function Ek(r,e){r.removeSelectionAttribute("linkHref");for(const t of e)r.removeSelectionAttribute(t)}function V9(r){const e=r.document.selection,t=e.getFirstPosition(),n=e.getLastPosition(),s=t.nodeAfter;if(!s||!s.is("$text")||!s.hasAttribute("linkHref"))return!1;const c=n.textNode||n.nodeBefore;return s===c?!0:zs(t,"linkHref",s.getAttribute("linkHref"),r).containsRange(r.createRange(t,n),!0)}function Rx(r){return r.model.change(t=>t.batch).isTyping}function Dk(r){return r.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var Fx=a(4874),Sk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sk.insert="head",Sk.singleton=!0,ge()(Fx.Z,Sk),Fx.Z.locals;class U9 extends Ae{constructor(e,t){super(e),this.focusTracker=new gn,this.keystrokes=new si,this._focusables=new Ni;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),au({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Tc(this.locale,Ic);return t.label=e("Link URL"),t}_createButton(e,t,n,s){const c=new We(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const s=new Qp(this.locale);s.set({name:n.id,label:n.label,withText:!0}),s.bind("isOn").toMany([n,e],"value",(c,d)=>d===void 0&&c===void 0?!!n.defaultValue:!!c),s.on("execute",()=>{n.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new Ae;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var Vx=a(7536),Tk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tk.insert="head",Tk.singleton=!0,ge()(Vx.Z,Tk),Vx.Z.locals;const H9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class $9 extends Ae{constructor(e){super(e),this.focusTracker=new gn,this.keystrokes=new si,this._focusables=new Ni;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),H9,"unlink"),this.editButtonView=this._createButton(t("Edit link"),Te.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const s=new We(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,n),s}_createPreviewButton(){const e=new We(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&Ox(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||n("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const Ux='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',zi="link-ui";class Hx extends ie{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[pu]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(x6),this._balloon=e.plugins.get(pu),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:zi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:zi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new $9(e.locale),n=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(c,d)=>{this._hideUI(),d()}),t.keystrokes.set(Mu,(c,d)=>{this._addFormView(),d()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),s=new($p(U9))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:c}=s.urlInputView.fieldView.element,d=Ak(c,n);e.execute("link",d,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(c,d)=>{this._closeFormView(),d()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",s=>{const c=new We(s);return c.isEnabled=!0,c.label=n("Link"),c.icon=Ux,c.keystroke=Mu,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(t,"isEnabled"),c.bind("isOn").to(t,"value",d=>!!d),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Mu,(n,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Hp({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),s=d();const c=()=>{const h=this._getSelectedLinkElement(),p=d();n&&!h||!n&&p!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=h,s=p};function d(){return t.selection.focus.getAncestors().reverse().find(h=>h.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let s;if(t.markers.has(zi)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(zi)),d=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));s=e.domConverter.viewRangeToDom(d)}else s=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&$t(n))return Ik(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),c=Ik(s.start),d=Ik(s.end);return!c||c!=d?null:e.createRangeIn(c).getTrimmed().isEqual(s)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(zi))t.updateMarker(zi,{range:n});else if(n.start.isAtEnd){const s=n.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:n});t.addMarker(zi,{usingOperation:!1,affectsData:!1,range:t.createRange(s,n.end)})}else t.addMarker(zi,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(zi)&&e.change(t=>{t.removeMarker(zi)})}}function Ik(r){return r.getAncestors().find(e=>I9(e))||null}const W9=4,q9=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),G9=2;class $x extends ie{static get requires(){return[Pi]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new jC(e.model,n=>{if(!Y9(n))return;const s=Wx(n.substr(0,n.length-1));if(s)return{url:s}});t.on("matched:data",(n,s)=>{const{batch:c,range:d,url:h}=s;if(!c.isTyping)return;const p=d.end.getShiftedBy(-1),w=p.getShiftedBy(-h.length),_=e.model.createRange(w,p);this._applyAutoLink(h,_)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const c=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition(),c=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:s}=LC(e,t),c=Wx(n);if(c){const d=t.createRange(s.end.getShiftedBy(-c.length),s.end);this._applyAutoLink(c,d)}}_applyAutoLink(e,t){const n=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),c=Ak(e,s);!this.isEnabled||!Z9(t,n)||!Px(c)||K9(t)||this._persistAutoLink(c,t)}_persistAutoLink(e,t){const n=this.editor.model,s=this.editor.plugins.get("Delete");n.enqueueChange(c=>{c.setAttribute("linkHref",e,t),n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function Y9(r){return r.length>W9&&r[r.length-1]===" "&&r[r.length-2]!==" "}function Wx(r){const e=q9.exec(r);return e?e[G9]:null}function Z9(r,e){return e.schema.checkAttributeInSelection(e.createSelection(r),"linkHref")}function K9(r){const e=r.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class Q9 extends ie{static get requires(){return[xk,Hx,$x]}static get pluginName(){return"Link"}}class J9 extends ie{static get requires(){return["ImageEditing","ImageUtils",xk]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(X9(e)),e.conversion.for("downcast").add(eV(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,n=e.commands.get("link").automaticDecorators;n.length&&e.conversion.for("downcast").add(n.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const n of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:n.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:n.id}),e.conversion.for("downcast").add(tV(n)),e.conversion.for("upcast").add(nV(e,n))}}function X9(r){const e=r.plugins.has("ImageInlineEditing"),t=r.plugins.get("ImageUtils");return n=>{n.on("element:a",(s,c,d)=>{const h=c.viewItem,p=t.findViewImgElement(h);if(!p)return;const w=p.findAncestor(z=>t.isBlockImageView(z));if(e&&!w)return;const _={attributes:["href"]};if(!d.consumable.consume(h,_))return;const C=h.getAttribute("href");if(!C)return;let O=c.modelCursor.parent;if(!O.is("element","imageBlock")){const z=d.convertItem(p,c.modelCursor);c.modelRange=z.modelRange,c.modelCursor=z.modelCursor,O=c.modelCursor.nodeBefore}O&&O.is("element","imageBlock")&&d.writer.setAttribute("linkHref",C,O)},{priority:"high"})}}function eV(r){const e=r.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=c.mapper.toViewElement(s.item),h=c.writer,p=Array.from(d.getChildren()).find(C=>C.is("element","a")),w=e.findViewImgElement(d),_=w.parent.is("element","picture")?w.parent:w;if(p)s.attributeNewValue?h.setAttribute("href",s.attributeNewValue,p):(h.move(h.createRangeOn(_),h.createPositionAt(d,0)),h.remove(p));else{const C=h.createContainerElement("a",{href:s.attributeNewValue});h.insert(h.createPositionAt(d,0),C),h.move(h.createRangeOn(_),h.createPositionAt(C,0))}},{priority:"high"})}}function tV(r){return e=>{e.on(`attribute:${r.id}:imageBlock`,(t,n,s)=>{const c=s.mapper.toViewElement(n.item),d=Array.from(c.getChildren()).find(h=>h.is("element","a"));if(d){for(const[h,p]of Di(r.attributes))s.writer.setAttribute(h,p,d);r.classes&&s.writer.addClass(r.classes,d);for(const h in r.styles)s.writer.setStyle(h,r.styles[h],d)}})}}function nV(r,e){const t=r.plugins.has("ImageInlineEditing"),n=r.plugins.get("ImageUtils");return s=>{s.on("element:a",(c,d,h)=>{const p=d.viewItem,w=n.findViewImgElement(p);if(!w)return;const _=w.findAncestor(U=>n.isBlockImageView(U));if(t&&!_)return;const O=new Wn(e._createPattern()).match(p);if(!O||!h.consumable.consume(p,O.match))return;const z=d.modelCursor.nodeBefore||d.modelCursor.parent;h.writer.setAttribute(e.id,!0,z)},{priority:"high"})}}class iV extends ie{static get requires(){return[xk,Hx,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,s)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(s.preventDefault(),n.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",n=>{const s=new We(n),c=e.plugins.get("LinkUI"),d=e.commands.get("link");return s.set({isEnabled:!0,label:t("Link image"),icon:Ux,keystroke:Mu,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(d,"isEnabled"),s.bind("isOn").to(d,"value",h=>!!h),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?c._addActionsView():c._showUI(!0)}),s})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}var qx=a(4330),Mk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mk.insert="head",Mk.singleton=!0,ge()(qx.Z,Mk),qx.Z.locals;class rV extends ie{static get requires(){return[J9,iV]}static get pluginName(){return"LinkImage"}}var Gx=a(3190),Nk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nk.insert="head",Nk.singleton=!0,ge()(Gx.Z,Nk),Gx.Z.locals;var Yx=a(4784),Ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ok.insert="head",Ok.singleton=!0,ge()(Yx.Z,Ok),Yx.Z.locals;function oV(r){const e=r.createContainerElement("li");return e.getFillerOffset=hV,e}function sV(r,e){const t=e.mapper,n=e.writer,s=r.getAttribute("listType")=="numbered"?"ol":"ul",c=oV(n),d=n.createContainerElement(s,null);return n.insert(n.createPositionAt(d,0),c),t.bindElements(r,c),c}function Zx(r,e,t,n){const s=e.parent,c=t.mapper,d=t.writer;let h=c.toViewPosition(n.createPositionBefore(r));const p=Qx(r.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:r.getAttribute("listIndent")}),w=r.previousSibling;if(p&&p.getAttribute("listIndent")==r.getAttribute("listIndent")){const _=c.toViewElement(p);h=d.breakContainer(d.createPositionAfter(_))}else if(w&&w.name=="listItem"){h=c.toViewPosition(n.createPositionAt(w,"end"));const _=c.findMappedViewAncestor(h),C=aV(_);C?h=d.createPositionBefore(C):h=d.createPositionAt(_,"end")}else h=c.toViewPosition(n.createPositionBefore(r));if(h=Kx(h),d.insert(h,s),w&&w.name=="listItem"){const _=c.toViewElement(w),O=d.createRange(d.createPositionAt(_,0),h).getWalker({ignoreElementEnd:!0});for(const z of O)if(z.item.is("element","li")){const U=d.breakContainer(d.createPositionBefore(z.item)),ne=z.item.parent,he=d.createPositionAt(e,"end");Gn(d,he.nodeBefore,he.nodeAfter),d.move(d.createRangeOn(ne),he),O._position=U}}else{const _=s.nextSibling;if(_&&(_.is("element","ul")||_.is("element","ol"))){let C=null;for(const O of _.getChildren()){const z=c.toModelElement(O);if(z&&z.getAttribute("listIndent")>r.getAttribute("listIndent"))C=O;else break}C&&(d.breakContainer(d.createPositionAfter(C)),d.move(d.createRangeOn(C.parent),d.createPositionAt(e,"end")))}}Gn(d,s,s.nextSibling),Gn(d,s.previousSibling,s)}function Gn(r,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:r.mergeContainers(r.createPositionAfter(e))}function Kx(r){return r.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Qx(r,e){const t=!!e.sameIndent,n=!!e.smallerIndent,s=e.listIndent;let c=r;for(;c&&c.name=="listItem";){const d=c.getAttribute("listIndent");if(t&&s==d||n&&s>d)return c;e.direction==="forward"?c=c.nextSibling:c=c.previousSibling}return null}function Jx(r,e,t,n){r.ui.componentFactory.add(e,s=>{const c=r.commands.get(e),d=new We(s);return d.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.on("execute",()=>{r.execute(e),r.editing.view.focus()}),d})}function aV(r){for(const e of r.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Pk(r,e){const t=[],n=r.parent,s={ignoreElementEnd:!1,startPosition:r,shallow:!0,direction:e},c=n.getAttribute("listIndent"),d=[...new Ii(s)].filter(h=>h.item.is("element")).map(h=>h.item);for(const h of d){if(!h.is("element","listItem")||h.getAttribute("listIndent")<c)break;if(!(h.getAttribute("listIndent")>c)){if(h.getAttribute("listType")!==n.getAttribute("listType")||h.getAttribute("listStyle")!==n.getAttribute("listStyle")||h.getAttribute("listReversed")!==n.getAttribute("listReversed")||h.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(h):t.push(h)}}return t}function cV(r){let t=[...r.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const s=r.change(c=>c.createPositionAt(n,0));return[...Pk(s,"backward"),...Pk(s,"forward")]}).flat();return t=[...new Set(t)],t}const lV=["disc","circle","square"],dV=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function uV(r){return lV.includes(r)?"bulleted":dV.includes(r)?"numbered":null}function hV(){const r=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||r?0:x_.call(this)}const fV='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',gV='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class pV extends ie{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Jx(this.editor,"numberedList",e("Numbered List"),fV),Jx(this.editor,"bulletedList",e("Bulleted List"),gV)}}const mV=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of mV);var Xx=a(5782),Bk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bk.insert="head",Bk.singleton=!0,ge()(Xx.Z,Bk),Xx.Z.locals;var e2=a(9938),zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zk.insert="head",zk.singleton=!0,ge()(e2.Z,zk),e2.Z.locals;var t2=a(2591),Lk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lk.insert="head",Lk.singleton=!0,ge()(t2.Z,Lk),t2.Z.locals;class n2 extends et{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const c=n[n.length-1];let d=c.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>c.getAttribute("listIndent");)n.push(d),d=d.nextSibling;this._indentBy<0&&(n=n.reverse());for(const h of n){const p=h.getAttribute("listIndent")+this._indentBy;p<0?s.rename(h,"paragraph"):s.setAttribute("listIndent",p,h)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=Vt(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==n;s=s.previousSibling}return!1}return!0}}class i2 extends et{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,s=Array.from(n.selection.getSelectedBlocks()).filter(d=>o2(d,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(c){let h=s[s.length-1].nextSibling,p=Number.POSITIVE_INFINITY,w=[];for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")!==0;){const _=h.getAttribute("listIndent");_<p&&(p=_);const C=_-p;w.push({element:h,listIndent:C}),h=h.nextSibling}w=w.reverse();for(const _ of w)d.setAttribute("listIndent",_.listIndent,_.element)}if(!c){let h=Number.POSITIVE_INFINITY;for(const p of s)p.is("element","listItem")&&p.getAttribute("listIndent")<h&&(h=p.getAttribute("listIndent"));h=h===0?1:h,r2(s,!0,h),r2(s,!1,h)}for(const h of s.reverse())c&&h.name=="listItem"?d.rename(h,"paragraph"):!c&&h.name!="listItem"?(d.setAttributes({listType:this.type,listIndent:0},h),d.rename(h,"listItem")):!c&&h.name=="listItem"&&h.getAttribute("listType")!=this.type&&d.setAttribute("listType",this.type,h);this.fire("_executeCleanup",s)})}_getValue(){const e=Vt(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Vt(e.getSelectedBlocks());return n?o2(n,t):!1}}function r2(r,e,t){const n=e?r[0]:r[r.length-1];if(n.is("element","listItem")){let s=n[e?"previousSibling":"nextSibling"],c=n.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)c>s.getAttribute("listIndent")&&(c=s.getAttribute("listIndent")),s.getAttribute("listIndent")==c&&r[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function o2(r,e){return e.checkChild(r.parent,"listItem")&&!e.isObject(r)}class kV extends ie{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return uV(e)}getSelectedListItems(e){return cV(e)}getSiblingNodes(e,t){return Pk(e,t)}}function s2(r){return(e,t,n)=>{const s=n.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const c=t.item,d=sV(c,n);Zx(c,d,n,r)}}function bV(r){return(e,t,n)=>{const d=n.mapper.toViewPosition(t.position).getLastMatchingPosition(z=>!z.item.is("element","li")).nodeAfter,h=n.writer;h.breakContainer(h.createPositionBefore(d)),h.breakContainer(h.createPositionAfter(d));const p=d.parent,w=p.previousSibling,_=h.createRangeOn(p),C=h.remove(_);w&&w.nextSibling&&Gn(h,w,w.nextSibling);const O=n.mapper.toModelElement(d);d2(O.getAttribute("listIndent")+1,t.position,_.start,d,n,r);for(const z of h.createRangeIn(C).getItems())n.mapper.unbindViewElement(z);e.stop()}}const wV=(r,e,t)=>{if(!t.consumable.test(e.item,r.name))return;const n=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(n)),s.breakContainer(s.createPositionAfter(n));const c=n.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(d,c)},vV=(r,e,t)=>{t.consumable.consume(e.item,r.name);const s=t.mapper.toViewElement(e.item).parent,c=t.writer;Gn(c,s,s.nextSibling),Gn(c,s.previousSibling,s)};function _V(r){return(e,t,n)=>{if(!n.consumable.consume(t.item,"attribute:listIndent"))return;const s=n.mapper.toViewElement(t.item),c=n.writer;c.breakContainer(c.createPositionBefore(s)),c.breakContainer(c.createPositionAfter(s));const d=s.parent,h=d.previousSibling,p=c.createRangeOn(d);c.remove(p),h&&h.nextSibling&&Gn(c,h,h.nextSibling),d2(t.attributeOldValue+1,t.range.start,p.start,s,n,r),Zx(t.item,s,n,r);for(const w of t.item.getChildren())n.consumable.consume(w,"insert")}}const a2=(r,e,t)=>{if(t.consumable.test(e.item,r.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const s=t.writer,c=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=s.breakContainer(n),n.parent.name=="li");){const d=n,h=s.createPositionAt(n.parent,"end");if(!d.isEqual(h)){const p=s.remove(s.createRange(d,h));c.push(p)}n=s.createPositionAfter(n.parent)}if(c.length>0){for(let d=0;d<c.length;d++){const h=n.nodeBefore;if(n=s.insert(n,c[d]).end,d>0){const w=Gn(s,h,h.nextSibling);w&&w.parent==h&&n.offset--}}Gn(s,n.nodeBefore,n.nodeAfter)}}},yV=(r,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=n.nodeBefore,c=n.nodeAfter;Gn(t.writer,s,c)},AV=(r,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,s=n.createElement("listItem"),c=IV(e.viewItem);n.setAttribute("listIndent",c,s);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",d,s),!t.safeInsert(s,e.modelCursor))return;const h=SV(s,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,h),t.updateConversionResult(s,e)}},c2=(r,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const s of n)!(s.is("element","li")||Fs(s))&&s._remove()}},CV=(r,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let s=!1;for(const c of n)s&&!Fs(c)&&c._remove(),Fs(c)&&(s=!0)}};function l2(r){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const s=t.mapper.toViewElement(n),c=s.getAncestors().find(Fs),d=r.createPositionAt(s,0).getWalker();for(const h of d)if(h.type=="elementStart"&&h.item.is("element","li")){t.viewPosition=h.previousPosition;break}else if(h.type=="elementEnd"&&h.item==c){t.viewPosition=h.nextPosition;break}}}}function xV(r){return(e,t)=>{const n=t.viewPosition,s=n.parent,c=t.mapper;if(s.name=="ul"||s.name=="ol"){if(n.isAtEnd){const d=c.toModelElement(n.nodeBefore),h=c.getModelLength(n.nodeBefore);t.modelPosition=r.createPositionBefore(d).getShiftedBy(h)}else{const d=c.toModelElement(n.nodeAfter);t.modelPosition=r.createPositionBefore(d)}e.stop()}else if(s.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const d=c.toModelElement(s);let h=1,p=n.nodeBefore;for(;p&&Fs(p);)h+=c.getModelLength(p),p=p.previousSibling;t.modelPosition=r.createPositionBefore(d).getShiftedBy(h),e.stop()}}}function EV(r,e){const t=r.document.differ.getChanges(),n=new Map;let s=!1;for(const p of t)if(p.type=="insert"&&p.name=="listItem")c(p.position);else if(p.type=="insert"&&p.name!="listItem"){if(p.name!="$text"){const _=p.position.nodeAfter;_.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",_),s=!0),_.hasAttribute("listType")&&(e.removeAttribute("listType",_),s=!0),_.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",_),s=!0),_.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",_),s=!0),_.hasAttribute("listStart")&&(e.removeAttribute("listStart",_),s=!0);for(const C of Array.from(r.createRangeIn(_)).filter(O=>O.item.is("element","listItem")))c(C.previousPosition)}const w=p.position.getShiftedBy(p.length);c(w)}else p.type=="remove"&&p.name=="listItem"?c(p.position):(p.type=="attribute"&&p.attributeKey=="listIndent"||p.type=="attribute"&&p.attributeKey=="listType")&&c(p.range.start);for(const p of n.values())d(p),h(p);return s;function c(p){const w=p.nodeBefore;if(!w||!w.is("element","listItem")){const _=p.nodeAfter;_&&_.is("element","listItem")&&n.set(_,_)}else{let _=w;if(n.has(_))return;for(let C=_.previousSibling;C&&C.is("element","listItem");C=_.previousSibling)if(_=C,n.has(_))return;n.set(w,_)}}function d(p){let w=0,_=null;for(;p&&p.is("element","listItem");){const C=p.getAttribute("listIndent");if(C>w){let O;_===null?(_=C-w,O=w):(_>C&&(_=C),O=C-_),e.setAttribute("listIndent",O,p),s=!0}else _=null,w=p.getAttribute("listIndent")+1;p=p.nextSibling}}function h(p){let w=[],_=null;for(;p&&p.is("element","listItem");){const C=p.getAttribute("listIndent");if(_&&_.getAttribute("listIndent")>C&&(w=w.slice(0,C+1)),C!=0)if(w[C]){const O=w[C];p.getAttribute("listType")!=O&&(e.setAttribute("listType",O,p),s=!0)}else w[C]=p.getAttribute("listType");_=p,p=p.nextSibling}}}const DV=function(r,[e,t]){const n=this;let s=e.is("documentFragment")?e.getChild(0):e,c;if(t?c=n.createSelection(t):c=n.document.selection,s&&s.is("element","listItem")){const d=c.getFirstPosition();let h=null;if(d.parent.is("element","listItem")?h=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(h=d.nodeBefore),h){const p=h.getAttribute("listIndent");if(p>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+p),s=s.nextSibling}}};function SV(r,e,t){const{writer:n,schema:s}=t;let c=n.createPositionAfter(r);for(const d of e)if(d.name=="ul"||d.name=="ol")c=t.convertItem(d,c).modelCursor;else{const h=t.convertItem(d,n.createPositionAt(r,"end")),p=h.modelRange.start.nodeAfter;p&&p.is("element")&&!s.checkChild(r,p.name)&&(h.modelCursor.parent.is("element","listItem")?r=h.modelCursor.parent:r=TV(h.modelCursor),c=n.createPositionAfter(r))}return c}function TV(r){const e=new Ii({startPosition:r});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function d2(r,e,t,n,s,c){const d=Qx(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:r}),h=s.mapper,p=s.writer,w=d?d.getAttribute("listIndent"):null;let _;if(!d)_=t;else if(w==r){const C=h.toViewElement(d).parent;_=p.createPositionAfter(C)}else{const C=c.createPositionAt(d,"end");_=h.toViewPosition(C)}_=Kx(_);for(const C of[...n.getChildren()])Fs(C)&&(_=p.move(p.createRangeOn(C),_).end,Gn(p,C,C.nextSibling),Gn(p,C.previousSibling,C))}function Fs(r){return r.is("element","ol")||r.is("element","ul")}function IV(r){let e=0,t=r.parent;for(;t;){if(t.is("element","li"))e++;else{const n=t.previousSibling;n&&n.is("element","li")&&e++}t=t.parent}return e}class MV extends ie{static get pluginName(){return"ListEditing"}static get requires(){return[yu,Pi,kV]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;e.model.document.registerPostFixer(c=>EV(e.model,c)),n.mapper.registerViewToModelLength("li",jk),t.mapper.registerViewToModelLength("li",jk),n.mapper.on("modelToViewPosition",l2(n.view)),n.mapper.on("viewToModelPosition",xV(e.model)),t.mapper.on("modelToViewPosition",l2(n.view)),e.conversion.for("editingDowncast").add(c=>{c.on("insert",a2,{priority:"high"}),c.on("insert:listItem",s2(e.model)),c.on("attribute:listType:listItem",wV,{priority:"high"}),c.on("attribute:listType:listItem",vV,{priority:"low"}),c.on("attribute:listIndent:listItem",_V(e.model)),c.on("remove:listItem",bV(e.model)),c.on("remove",yV,{priority:"low"})}),e.conversion.for("dataDowncast").add(c=>{c.on("insert",a2,{priority:"high"}),c.on("insert:listItem",s2(e.model))}),e.conversion.for("upcast").add(c=>{c.on("element:ul",c2,{priority:"high"}),c.on("element:ol",c2,{priority:"high"}),c.on("element:li",CV,{priority:"high"}),c.on("element:li",AV)}),e.model.on("insertContent",DV,{priority:"high"}),e.commands.add("numberedList",new i2(e,"numbered")),e.commands.add("bulletedList",new i2(e,"bulleted")),e.commands.add("indentList",new n2(e,"forward")),e.commands.add("outdentList",new n2(e,"backward"));const s=n.view.document;this.listenTo(s,"enter",(c,d)=>{const h=this.editor.model.document,p=h.selection.getLastPosition().parent;h.selection.isCollapsed&&p.name=="listItem"&&p.isEmpty&&(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(s,"delete",(c,d)=>{if(d.direction!=="backward")return;const h=this.editor.model.document.selection;if(!h.isCollapsed)return;const p=h.getFirstPosition();if(!p.isAtStart)return;const w=p.parent;w.name!=="listItem"||w.previousSibling&&w.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),d.preventDefault(),c.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(c,d)=>{const h=d.shiftKey?"outdentList":"indentList";this.editor.commands.get(h).isEnabled&&(e.execute(h),d.stopPropagation(),d.preventDefault(),c.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function jk(r){let e=1;for(const t of r.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=jk(n);return e}class NV extends ie{static get requires(){return[MV,pV]}static get pluginName(){return"List"}}lc("Ctrl+Enter");var u2=a(9292),Rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rk.insert="head",Rk.singleton=!0,ge()(u2.Z,Rk),u2.Z.locals,lc("Ctrl+Enter");function h2(r,e){const t=(n,s,c)=>{if(!c.consumable.consume(s.item,n.name))return;const d=s.attributeNewValue,h=c.writer,p=c.mapper.toViewElement(s.item),w=[...p.getChildren()].find(C=>C.getCustomProperty("media-content"));h.remove(w);const _=r.getMediaViewElement(h,d,e);h.insert(h.createPositionAt(p,0),_)};return n=>{n.on("attribute:url:media",t)}}function OV(r,e,t){return e.setCustomProperty("media",!0,r),Wm(r,e,{label:t})}function f2(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function g2(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function p2(r,e,t,n){r.change(s=>{const c=s.createElement("media",{url:e});r.insertObject(c,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class PV extends et{refresh(){const e=this.editor.model,t=e.document.selection,n=g2(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=zV(t)||BV(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,s=g2(n);s?t.change(c=>{c.setAttribute("url",e,s)}):p2(t,e,n,!0)}}function BV(r,e){let n=qm(r,e).start.parent;return n.isEmpty&&!e.schema.isLimit(n)&&(n=n.parent),e.schema.checkChild(n,"media")}function zV(r){const e=r.getSelectedElement();return!!e&&e.name==="media"}const LV='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',jV="0 0 64 42";class RV{constructor(e,t){const n=t.providers,s=t.extraProviders||[],c=new Set(t.removeProviders),d=n.concat(s).filter(h=>{const p=h.name;return p?!c.has(p):(J("media-embed-no-provider-name",{provider:h}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new m2(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,s=Ft(t.url);for(const c of s){const d=this._getUrlMatches(e,c);if(d)return new m2(this.locale,e,d,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let s=e.replace(/^https?:\/\//,"");return n=s.match(t),n||(s=s.replace(/^www\./,""),n=s.match(t),n)?n:null}}class m2{constructor(e,t,n,s){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=s}getViewElement(e,t){const n={};let s;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const c=this._getPreviewHtml(t);s=e.createRawElement("div",n,(d,h)=>{h.setContentOf(d,c)})}else this.url&&(n.url=this.url),s=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new nr,t=this._locale.t;return e.content=LV,e.viewBox=jV,new Oi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var k2=a(1922),Fk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fk.insert="head",Fk.singleton=!0,ge()(k2.Z,Fk),k2.Z.locals;class Nu extends ie{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],s=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new RV(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,s=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),h=this.registry;e.commands.add("mediaEmbed",new PV(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(p,{writer:w})=>{const _=p.getAttribute("url");return f2(w,h,_,{elementName:d,renderMediaPreview:!!_&&c})}}),s.for("dataDowncast").add(h2(h,{elementName:d,renderMediaPreview:c})),s.for("editingDowncast").elementToStructure({model:"media",view:(p,{writer:w})=>{const _=p.getAttribute("url"),C=f2(w,h,_,{elementName:d,renderForEditingView:!0});return OV(C,w,n("media widget"))}}),s.for("editingDowncast").add(h2(h,{elementName:d,renderForEditingView:!0})),s.for("upcast").elementToElement({view:p=>["oembed",d].includes(p.name)&&p.getAttribute("url")?{name:!0}:null,model:(p,{writer:w})=>{const _=p.getAttribute("url");return h.hasMedia(_)?w.createElement("media",{url:_}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(p,{writer:w})=>{const _=p.getAttribute("data-oembed-url");return h.hasMedia(_)?w.createElement("media",{url:_}):null}}).add(p=>{const w=(_,C,O)=>{if(!O.consumable.consume(C.viewItem,{name:!0,classes:"media"}))return;const{modelRange:z,modelCursor:U}=O.convertChildren(C.viewItem,C.modelCursor);C.modelRange=z,C.modelCursor=U,Vt(z.getItems())||O.consumable.revert(C.viewItem,{name:!0,classes:"media"})};p.on("element:figure",w)})}}const FV=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class VV extends ie{static get requires(){return[Xm,Pi,ek]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const c=t.selection.getFirstRange(),d=It.fromPosition(c.start);d.stickiness="toPrevious";const h=It.fromPosition(c.end);h.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(d,h),d.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(be.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,s=n.plugins.get(Nu).registry,c=new pn(e,t),d=c.getWalker({ignoreElementEnd:!0});let h="";for(const w of d)w.item.is("$textProxy")&&(h+=w.item.data);if(h=h.trim(),!h.match(FV)){c.detach();return}if(!s.hasMedia(h)){c.detach();return}if(!n.commands.get("mediaEmbed").isEnabled){c.detach();return}this._positionToInsert=It.fromPosition(e),this._timeoutId=be.window.setTimeout(()=>{n.model.change(w=>{this._timeoutId=null,w.remove(c),c.detach();let _=null;this._positionToInsert.root.rootName!=="$graveyard"&&(_=this._positionToInsert),p2(n.model,h,_,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Pi).requestUndoOnBackspace()},100)}}var b2=a(7138),Vk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vk.insert="head",Vk.singleton=!0,ge()(b2.Z,Vk),b2.Z.locals;class UV extends Ae{constructor(e,t){super(t);const n=t.t;this.focusTracker=new gn,this.keystrokes=new si,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(n("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._focusables=new Ni,this._focusCycler=new ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),au({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const t=n=>n.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Tc(this.locale,Ic),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,s){const c=new We(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),s&&c.delegate("execute").to(this,s),c}}const HV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class $V extends ie{static get requires(){return[Nu]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const s=Nr(n);return this._setUpDropdown(s,t),s})}_setUpDropdown(e,t){const n=this.editor,s=n.t,c=e.buttonView,d=n.plugins.get(Nu).registry;e.once("change:isOpen",()=>{const h=new($p(UV))(WV(n.t,d),n.locale);e.panelView.children.add(h),c.on("open",()=>{h.disableCssTransitions(),h.url=t.value||"",h.urlInputView.fieldView.select(),h.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{h.isValid()&&(n.execute("mediaEmbed",h.url),n.editing.view.focus())}),e.on("change:isOpen",()=>h.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),h.delegate("submit","cancel").to(e),h.urlInputView.fieldView.bind("value").to(t,"value"),h.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),c.set({label:s("Insert media"),icon:HV,tooltip:!0})}}function WV(r,e){return[t=>{if(!t.url.length)return r("The URL must not be empty.")},t=>{if(!e.hasMedia(t.url))return r("This media URL is not supported.")}]}var w2=a(8705),Uk={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Uk.insert="head",Uk.singleton=!0,ge()(w2.Z,Uk),w2.Z.locals;class qV extends ie{static get requires(){return[Nu,$V,VV,Bc]}static get pluginName(){return"MediaEmbed"}}function GV(r,e){if(!r.childCount)return;const t=new zo(r.document),n=ZV(r,t);if(!n.length)return;let s=null,c=1;n.forEach((d,h)=>{const p=iU(n[h-1],d),w=p?null:n[h-1],_=oU(w,d);if(p&&(s=null,c=1),!s||_!==0){const O=KV(d,e);if(!s)s=v2(O,d.element,t);else if(d.indent>c){const z=s.getChild(s.childCount-1),U=z.getChild(z.childCount-1);s=v2(O,U,t),c+=1}else if(d.indent<c){const z=c-d.indent;s=sU(s,z),c=d.indent}d.indent<=c&&(s.is("element",O.type)||(s=t.rename(O.type,s)))}const C=eU(d.element,t);t.appendChild(C,s)})}function YV(r,e){for(const t of e.createRangeIn(r)){const n=t.item;if(n.is("element","li")){const s=n.getChild(0);s&&s.is("element","p")&&e.unwrapElement(s)}}}function ZV(r,e){const t=e.createRangeIn(r),n=new Wn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),s=[];for(const c of t)if(c.type==="elementStart"&&n.match(c.item)){const d=tU(c.item);s.push({element:c.item,id:d.id,order:d.order,indent:d.indent})}return s}function KV(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,s=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,c=t.exec(e);let d="decimal",h="ol",p=null;if(c&&c[1]){const w=n.exec(c[1]);if(w&&w[1]&&(d=w[1].trim(),h=d!=="bullet"&&d!=="image"?"ol":"ul"),d==="bullet"){const _=QV(r.element);_&&(d=_)}else{const _=s.exec(c[1]);_&&_[1]&&(p=parseInt(_[1]))}}return{type:h,startIndex:p,style:XV(d)}}function QV(r){const e=JV(r);if(!e)return null;const t=e._data;return t==="o"?"circle":t==="·"?"disc":t==="§"?"square":null}function JV(r){if(r.getChild(0).is("$text"))return null;for(const e of r.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}function XV(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function v2(r,e,t){const n=e.parent,s=t.createElement(r.type),c=n.getChildIndex(e)+1;return t.insertChild(c,s,n),r.style&&t.setStyle("list-style-type",r.style,s),r.startIndex&&r.startIndex>1&&t.setAttribute("start",r.startIndex,s),s}function eU(r,e){return nU(r,e),e.removeStyle("text-indent",r),e.rename("li",r)}function tU(r){const e={},t=r.getStyle("mso-list");if(t){const n=t.match(/(^|\s{1,100})l(\d+)/i),s=t.match(/\s{0,100}lfo(\d+)/i),c=t.match(/\s{0,100}level(\d+)/i);n&&s&&c&&(e.id=n[2],e.order=s[1],e.indent=parseInt(c[1]))}return e}function nU(r,e){const t=new Wn({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const s of n)s.type==="elementStart"&&t.match(s.item)&&e.remove(s.item)}function iU(r,e){if(!r)return!0;if(r.id!==e.id)return e.indent-r.indent!==1;const t=e.element.previousSibling;return t?!rU(t):!0}function rU(r){return r.is("element","ol")||r.is("element","ul")}function oU(r,e){return r?e.indent-r.indent:e.indent-1}function sU(r,e){const t=r.getAncestors({parentFirst:!0});let n=null,s=0;for(const c of t)if((c.is("element","ul")||c.is("element","ol"))&&s++,s===e){n=c;break}return n}function aU(r,e){if(!r.childCount)return;const t=new zo(r.document),n=lU(r,t);dU(n,r,t),hU(n,r,t),uU(r,t);const s=fU(r,t);s.length&&pU(s,gU(e),t)}function cU(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function lU(r,e){const t=e.createRangeIn(r),n=new Wn({name:/v:(.+)/}),s=[];for(const c of t){if(c.type!="elementStart")continue;const d=c.item,h=d.previousSibling,p=h&&h.is("element")?h.name:null;n.match(d)&&d.getAttribute("o:gfxdata")&&p!=="v:shapetype"&&s.push(c.item.getAttribute("id"))}return s}function dU(r,e,t){const n=t.createRangeIn(e),s=new Wn({name:"img"}),c=[];for(const d of n)if(d.item.is("element")&&s.match(d.item)){const h=d.item,p=h.getAttribute("v:shapes")?h.getAttribute("v:shapes").split(" "):[];p.length&&p.every(w=>r.indexOf(w)>-1)?c.push(h):h.getAttribute("src")||c.push(h)}for(const d of c)t.remove(d)}function uU(r,e){const t=e.createRangeIn(r),n=new Wn({name:/v:(.+)/}),s=[];for(const c of t)c.type=="elementStart"&&n.match(c.item)&&s.push(c.item);for(const c of s)e.remove(c)}function hU(r,e,t){const n=t.createRangeIn(e),s=[];for(const h of n)if(h.type=="elementStart"&&h.item.is("element","v:shape")){const p=h.item.getAttribute("id");if(r.includes(p))continue;c(h.item.parent.getChildren(),p)||s.push(h.item)}for(const h of s){const p={src:d(h)};h.hasAttribute("alt")&&(p.alt=h.getAttribute("alt"));const w=t.createElement("img",p);t.insertChild(h.index+1,w,h.parent)}function c(h,p){for(const w of h)if(w.is("element")&&(w.name=="img"&&w.getAttribute("v:shapes")==p||c(w.getChildren(),p)))return!0;return!1}function d(h){for(const p of h.getChildren())if(p.is("element")&&p.getAttribute("src"))return p.getAttribute("src")}}function fU(r,e){const t=e.createRangeIn(r),n=new Wn({name:"img"}),s=[];for(const c of t)c.item.is("element")&&n.match(c.item)&&c.item.getAttribute("src").startsWith("file://")&&s.push(c.item);return s}function gU(r){if(!r)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,t=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),n=r.match(t),s=[];if(n)for(const c of n){let d=!1;c.includes("\\pngblip")?d="image/png":c.includes("\\jpegblip")&&(d="image/jpeg"),d&&s.push({hex:c.replace(e,"").replace(/[^\da-fA-F]/g,""),type:d})}return s}function pU(r,e,t){if(r.length===e.length)for(let n=0;n<r.length;n++){const s=`data:${e[n].type};base64,${cU(e[n].hex)}`;t.setAttribute("src",s,r[n])}}const mU=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,kU=/xmlns:o="urn:schemas-microsoft-com/i;class bU{constructor(e){this.document=e}isActive(e){return mU.test(e)||kU.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;GV(t,n),aU(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function wU(r,e){for(const t of r.getChildren())if(t.is("element","b")&&t.getStyle("font-weight")==="normal"){const n=r.getChildIndex(t);e.remove(t),e.insertChild(n,t.getChildren(),r)}}function vU(r,e){const t=new Zd(e.document.stylesProcessor),n=new Jd(t,{renderingMode:"data"}),s=n.blockElements,c=n.inlineObjectElements,d=[];for(const h of e.createRangeIn(r)){const p=h.item;if(p.is("element","br")){const w=_2(p,"forward",e,{blockElements:s,inlineObjectElements:c}),_=_2(p,"backward",e,{blockElements:s,inlineObjectElements:c}),C=y2(w,s);(y2(_,s)||C)&&d.push(p)}}for(const h of d)h.hasClass("Apple-interchange-newline")?e.remove(h):e.replace(h,e.createElement("p"))}function _2(r,e,t,{blockElements:n,inlineObjectElements:s}){let c=t.createPositionAt(r,e=="forward"?"after":"before");return c=c.getLastMatchingPosition(({item:d})=>d.is("element")&&!n.includes(d.name)&&!s.includes(d.name),{direction:e}),e=="forward"?c.nodeAfter:c.nodeBefore}function y2(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const _U=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class yU{constructor(e){this.document=e}isActive(e){return _U.test(e)}execute(e){const t=new zo(this.document),{body:n}=e._parsedData;wU(n,t),YV(n,t),vU(n,t),e.content=n}}function AU(r,e){for(const t of r.getChildren())t.is("element","table")&&t.hasAttribute("xmlns")&&e.removeAttribute("xmlns",t)}function CU(r,e){for(const t of r.getChildren())if(t.is("element","google-sheets-html-origin")){const n=r.getChildIndex(t);e.remove(t),e.insertChild(n,t.getChildren(),r)}}function xU(r,e){for(const t of r.getChildren())t.is("element","table")&&t.getStyle("width")==="0px"&&e.removeStyle("width",t)}function EU(r,e){for(const t of Array.from(r.getChildren()))t.is("element","style")&&e.remove(t)}const DU=/<google-sheets-html-origin/i;class SU{constructor(e){this.document=e}isActive(e){return DU.test(e)}execute(e){const t=new zo(this.document),{body:n}=e._parsedData;CU(n,t),AU(n,t),xU(n,t),EU(n,t),e.content=n}}function TU(r){return A2(A2(r)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function IU(r){r.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e,n=t.innerText.length||0;t.innerText=Array(n+1).join("  ").substr(0,n)})}function A2(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function MU(r,e){const t=new DOMParser;r=r.replace(/<!--\[if gte vml 1]>/g,"");const n=TU(PU(r)),s=t.parseFromString(n,"text/html");IU(s);const c=s.body.innerHTML,d=NU(s,e),h=OU(s);return{body:d,bodyString:c,styles:h.styles,stylesString:h.stylesString}}function NU(r,e){const t=new Zd(e),n=new Jd(t,{renderingMode:"data"}),s=r.createDocumentFragment(),c=r.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);return n.domToView(s,{skipComments:!0})}function OU(r){const e=[],t=[],n=Array.from(r.getElementsByTagName("style"));for(const s of n)s.sheet&&s.sheet.cssRules&&s.sheet.cssRules.length&&(e.push(s.sheet),t.push(s.innerHTML));return{styles:e,stylesString:t.join(" ")}}function PU(r){const e="</body>",t="</html>",n=r.indexOf(e);if(n<0)return r;const s=r.indexOf(t,n+e.length);return r.substring(0,n+e.length)+(s>=0?r.substring(s):"")}class BU extends ie{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Bi]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),n=e.editing.view.document,s=[];s.push(new bU(n)),s.push(new yU(n)),s.push(new SU(n)),t.on("inputTransformation",(c,d)=>{if(d._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const p=d.dataTransfer.getData("text/html"),w=s.find(_=>_.isActive(p));w&&(d._parsedData||(d._parsedData=MU(p,n.stylesProcessor)),w.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}class Hk extends mu{}Hk.builtinPlugins=[A7,P8,$x,U7,eF,oR,W7,h8,w8,D8,q8,K8,CF,TF,VF,UF,ix,qF,Z7,Q9,rV,NV,qV,zc,BU,P7],Hk.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","alignment","|","imageInsert","blockQuote","mediaEmbed","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}};const zU=Hk})(),l=l.default,l})());const nZ=(Ct.exports==null?{}:Ct.exports).default||Ct.exports;(Ct.exports==null?{}:Ct.exports).undefined;function _I({handleChange:o,post:i}){return G.jsxs("form",{children:[G.jsxs("div",{className:"input",children:[G.jsx("label",{htmlFor:"title"}),G.jsx("input",{placeholder:"Title",onChange:o,value:i.title,type:"text",id:"title",name:"title"})]}),G.jsxs("div",{className:"input",children:[G.jsxs("div",{className:"input",children:[G.jsx("label",{htmlFor:"img"}),G.jsx("input",{placeholder:"Image URL (optional)",onChange:o,value:i.img,type:"text",id:"img_url",name:"img"})]}),G.jsx("div",{className:"ckeditor-container",children:G.jsx(tZ.CKEditor,{config:{mediaEmbed:{previewsInData:!0},placeholder:"Content (optional)",toolbar:{shouldNotGroupWhenFull:!0}},editor:nZ,data:i.content?i.content:"",onReady:a=>{console.log("Editor is ready to use!",a)},onChange:(a,l)=>{l.getData(),o(l)}})})]}),G.jsxs("div",{className:"radio-container",children:[G.jsx("input",{onChange:o,type:"radio",id:"general",name:"category",value:"general"}),G.jsx("label",{className:"radio",htmlFor:"general",children:"General (default)"}),G.jsx("br",{}),G.jsx("input",{onChange:o,type:"radio",id:"review",name:"category",value:"review"}),G.jsx("label",{className:"radio",onChange:o,htmlFor:"review",children:"Review"}),G.jsx("br",{}),G.jsx("input",{onChange:o,type:"radio",id:"recommend",name:"category",value:"recommend"}),G.jsx("label",{className:"radio",htmlFor:"recommend",children:"Recommend"}),G.jsx("br",{})]})]})}function iZ({supabase:o}){const[i,a]=se.useState({title:"",content:"",img:""}),l=Sa(),{state:u}=Hl(),f=vI()||"null";se.useEffect(()=>{u&&a({title:`${u.title} ~ ${u.author}`,content:u.description,img:u.cover_key?u.cover_url:""})},[]);const g=k=>{let b,A;k.target?(b=k.target.name,A=k.target.value):(b="content",A=k.getData()),console.log("name: ",b," value: ",A),a(v=>({...v,[b]:A}))},m=async()=>{const k=prompt("Set a password for this post..."),b=Pl.generateHash(k);await o.from("posts").insert({title:i.title,content:i.content,img:i.img,category:i.category,pass:b,username:f}),alert("Post inserted into database!"),l("/")};return G.jsx(G.Fragment,{children:G.jsxs("div",{className:"create-container",children:[G.jsxs("h1",{className:"create-post-title pastel-black",children:["Create a ",G.jsx("span",{className:"pastel-orange",children:"Post"})]}),G.jsx(_I,{handleChange:g,post:i}),G.jsx("button",{className:"btn red-button darkAccent",onClick:m,post:i,children:"Create Post"}),G.jsx(aa,{to:"/getBookInfo",children:G.jsx("button",{className:"btn orange-button",children:"Get Book Info"})})]})})}const yI=(o,i)=>{(o.keyCode||o.which)===13&&i()};function rZ({title:o,author:i,cover_url:a,cover_key:l,description:u}){const f=Sa(),g=()=>{f("/create",{state:{title:o,author:i,cover_url:a,description:u,cover_key:l}})};return G.jsxs("div",{onClick:g,className:"book",children:[G.jsxs("div",{children:[G.jsx("h4",{className:"pastel-black",children:o}),G.jsxs("h5",{children:["By: ",i]}),G.jsx("p",{children:u})]}),G.jsx("img",{src:l?a:"https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg"})]})}function oZ(){const[o,i]=se.useState(""),[a,l]=se.useState([]),[u,f]=se.useState(!1),g=b=>{i(b.target.value)},m=async()=>{f(!0);const A=await(await fetch(`https://openlibrary.org/search.json?q=${o}`)).json();l([]),i("");for(const v of A.docs)setTimeout(async()=>{const x=await(await fetch(`https://openlibrary.org${v.key}.json`)).json();let E;x.description&&(E=x.description,typeof E!="string"&&(E=x.description.value));const T=await fetch(`https://covers.openlibrary.org/b/olid/${v.cover_edition_key}-M.jpg`),B={key:x.key,title:x.title,author:v.author_name?v.author_name[0]:"",cover_url:T.url,description:E,cover_key:v.cover_edition_key};l(I=>[...I,B])},1e3);f(!1)},k=()=>a.map((A,v)=>G.jsx(rZ,{title:A.title,author:A.author,cover_url:A.cover_url,cover_key:A.cover_key,description:A.description},v));return G.jsxs(G.Fragment,{children:[G.jsx("h1",{className:"book-info-title pastel-black",children:G.jsxs("b",{children:["Grab a ",G.jsx("span",{className:"pastel-orange",children:"Book"})]})}),G.jsxs("div",{className:"search-bar",children:[G.jsx("label",{htmlFor:"title"}),G.jsx("input",{value:o,placeholder:"Search for a book...",className:"book-input",onKeyUp:b=>{yI(b,m)},onChange:g,type:"text",name:"title"}),G.jsx("button",{className:"btn orange-button",onClick:m,children:"Search"})]}),G.jsxs("div",{className:"books-container",children:[u?G.jsx(bI,{}):"",k()]})]})}const sZ="/Book-Chronicles/assets/cross-ab383046.png";function aZ({date:o,comment:i,id:a,supabase:l,pass:u,reloadComments:f,username:g}){const m=async()=>{await Pl.authenticate(u)?confirm("Are you sure you want to delete this comment?")?(await l.from("comments").delete().eq("id",a),f()):console.log("delete is cancelled"):alert("Wrong password!")};return G.jsxs("div",{className:"comment",children:[G.jsxs("div",{className:"comment-header",children:[G.jsxs("small",{children:[g," ",G.jsxs("span",{className:"time-ago",children:["• ",ef(o)?ef(o):""]})]}),G.jsx("img",{onClick:m,src:sZ})]}),G.jsx("p",{children:i})]})}const cZ="/Book-Chronicles/assets/trash-2415bf1a.png",lZ="/Book-Chronicles/assets/edit-727f5020.png";function dZ({supabase:o}){const[i,a]=se.useState({}),[l,u]=se.useState(!1),[f,g]=se.useState([]),[m,k]=se.useState(""),b=vI()||"null",{id:A}=oT(),v=Sa(),y=async()=>{const{data:Z,error:ae}=await o.from("posts").select().eq("id",A);a(Z[0])},x=async()=>{const{data:Z,error:ae}=await o.from("comments").select().order("created_at",{ascending:!1}).eq("post_id",A);console.log("Comment data:",Z),g(Z)};se.useEffect(()=>{y(),x()},[]);const E=async()=>{l||(await o.from("posts").update({vote:i.vote+1}).eq("id",A),console.log("vote has been updated..."),u(!0),a({...i,vote:i.vote+1}))},T=Z=>{k(Z.target.value),console.log(Z.target.value)},B=async()=>{await Pl.authenticate(i.pass)?confirm("Are you sure you want to delete this post?")?(await o.from("posts").delete().eq("id",A),v("/")):console.log("delete is cancelled"):alert("Wrong password!")},I=async()=>{await Pl.authenticate(i.pass)?v(`/post/${A}/edit`):alert("Wrong password!")},N=async()=>{await o.from("comments").insert({post_id:A,comment:m,username:b}),console.log("Comment is inserted into database..."),x(),k("")},P=f.map(Z=>G.jsx(aZ,{date:Z.created_at,comment:Z.comment,id:Z.id,supabase:o,pass:i.pass,reloadComments:x,username:Z.username},Z.id));let j="back-pastel-green pastel-green";i.category=="review"?j="back-pastel-purple pastel-purple":i.category=="recommend"&&(j="back-pastel-red pastel-red");function q(){const Z=Q(i.content?i.content:"");return console.log(Z),{__html:Z}}function K(){return G.jsx("div",{dangerouslySetInnerHTML:q()})}const Q=Z=>{const ae=/<oembed[^>]*>/g,ce=Z.match(ae);if(ce){const $=`<iframe src="${ce[0].match(/url="([^"]*)"/)[1]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;Z=Z.replace(ae,$)}return Z};return G.jsx("div",{className:"post-container",children:G.jsxs("div",{className:"post",children:[G.jsxs("div",{className:"post-tags",children:[G.jsxs("p",{children:["Posted ",i.created_at?ef(i.created_at):" "]}),G.jsxs("p",{className:`post-category ${j}`,children:["#",i.category]})]}),G.jsx("h2",{className:"pastel-black",children:i.title}),G.jsx("img",{className:"post-image",src:i.img}),G.jsx("p",{children:K()}),G.jsx("p",{children:G.jsx("b",{children:i.username?"~ "+i.username:""})}),G.jsxs("div",{className:"action-images",children:[G.jsxs("div",{onClick:E,className:"pastel-red like-image",children:[G.jsx("img",{src:kI})," ",G.jsxs("b",{children:[i.vote," ",i.vote!==1?"likes":"like"]})]}),G.jsxs("div",{children:[G.jsx("img",{onClick:I,className:"edit-image",src:lZ}),G.jsx("img",{onClick:B,className:"delete-image",src:cZ})]})]}),G.jsxs("div",{className:"comments-section",children:[G.jsx("div",{className:"insert-comment-container",children:G.jsx("input",{onKeyUp:Z=>{yI(Z,N)},value:m,onChange:T,placeholder:"Leave a comment...",type:"text"})}),G.jsx("div",{className:"comments-container",children:P})]})]})})}function uZ({supabase:o}){const[i,a]=se.useState({title:"",content:"",img:""}),l=Sa(),{id:u}=oT(),f=async()=>{const{data:k,error:b}=await o.from("posts").select().eq("id",u);console.log(k),a(k[0])};se.useEffect(()=>{f()},[]);const g=k=>{let b,A;k.target?(b=k.target.name,A=k.target.value):(b="content",A=k.getData()),console.log("Name: ",b," value: ",A),a(v=>({...v,[b]:A})),console.log(A)},m=async()=>{await o.from("posts").update({title:i.title,content:i.content,img:i.img,category:i.category}).eq("id",u),alert("successfully updated!"),l(`/post/${u}`)};return G.jsx("div",{children:G.jsxs("div",{className:"create-container",children:[G.jsxs("h1",{className:"create-post-title pastel-black",children:["Update ",G.jsx("span",{className:"pastel-orange",children:"Post"})]}),G.jsx(_I,{handleChange:g,post:i}),G.jsx("button",{className:"btn orange-button",onClick:m,children:"Update Post"})]})})}const hZ="/Book-Chronicles/assets/arrow-up-0fb140ce.png",fZ=()=>{const[o,i]=se.useState(!1);se.useEffect(()=>{const l=()=>{window.scrollY>200?i(!0):i(!1)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return G.jsx("div",{children:G.jsx("img",{className:`back-to-top-button ${o?"show-back-to-top":""}`,onClick:a,src:hZ})})};function gZ(){return G.jsxs("nav",{className:"navbar navbar-inverse navbar-expand-sm navbar-light",children:[G.jsx(aa,{to:"/",children:G.jsx("img",{className:"navbar-brand",width:"64",height:"64",src:"https://img.icons8.com/cute-clipart/64/book.png",alt:"book"})}),G.jsx("div",{className:"navbar-title-container d-flex align-items-center mx-auto",children:G.jsx("h3",{children:"Bookshelf Chronicles"})}),G.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:G.jsx("span",{className:"navbar-toggler-icon"})}),G.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:G.jsxs("div",{className:"navbar-nav",children:[G.jsxs(aa,{to:"/",className:"nav-item nav-link",href:"#",children:["Home ",G.jsx("span",{className:"sr-only",children:"(current)"})]}),G.jsx(aa,{to:"/create",className:"nav-item nav-link",href:"#",children:"Create"}),G.jsx(aa,{to:"/getBookInfo",className:"nav-item nav-link",href:"#",children:"Get Book"})]})}),G.jsx(fZ,{})]})}const pZ="modulepreload",mZ=function(o){return"/Book-Chronicles/"+o},_5={},Yl=function(i,a,l){if(!a||a.length===0)return i();const u=document.getElementsByTagName("link");return Promise.all(a.map(f=>{if(f=mZ(f),f in _5)return;_5[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(!!l)for(let A=u.length-1;A>=0;A--){const v=u[A];if(v.href===f&&(!g||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":pZ,g||(b.as="script",b.crossOrigin=""),b.href=f,document.head.appendChild(b),g)return new Promise((A,v)=>{b.addEventListener("load",A),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>i()).catch(f=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f})},kZ=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Yl(()=>Promise.resolve().then(()=>Zl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)};class Kw extends Error{constructor(i,a="FunctionsError",l){super(i),this.name=a,this.context=l}}class bZ extends Kw{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class wZ extends Kw{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class vZ extends Kw{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var _Z=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};class yZ{constructor(i,{headers:a={},customFetch:l}={}){this.url=i,this.headers=a,this.fetch=kZ(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,a={}){var l;return _Z(this,void 0,void 0,function*(){try{const{headers:u,method:f,body:g}=a;let m={},k;g&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",k=g):typeof g=="string"?(m["Content-Type"]="text/plain",k=g):typeof FormData<"u"&&g instanceof FormData?k=g:(m["Content-Type"]="application/json",k=JSON.stringify(g)));const b=yield this.fetch(`${this.url}/${i}`,{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:k}).catch(x=>{throw new bZ(x)}),A=b.headers.get("x-relay-error");if(A&&A==="true")throw new wZ(b);if(!b.ok)throw new vZ(b);let v=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield b.json():v==="application/octet-stream"?y=yield b.blob():v==="multipart/form-data"?y=yield b.formData():y=yield b.text(),{data:y,error:null}}catch(u){return{data:null,error:u}}})}}var F0={exports:{}};(function(o,i){var a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ko<"u")return Ko;throw new Error("unable to locate global object")},l=a();o.exports=i=l.fetch,l.fetch&&(i.default=l.fetch.bind(l)),i.Headers=l.Headers,i.Request=l.Request,i.Response=l.Response})(F0,F0.exports);var Qw=F0.exports;const Jw=W0(Qw),Zl=L5({__proto__:null,default:Jw},[Qw]);class AZ{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=Jw:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,m,k;let b=null,A=null,v=null,y=f.status,x=f.statusText;if(f.ok){if(this.method!=="HEAD"){const I=await f.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=I:A=JSON.parse(I))}const T=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),B=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&B&&B.length>1&&(v=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,v=null,y=406,x="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const T=await f.text();try{b=JSON.parse(T),Array.isArray(b)&&f.status===404&&(A=[],b=null,y=200,x="OK")}catch{f.status===404&&T===""?(y=204,x="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((k=b==null?void 0:b.details)===null||k===void 0)&&k.includes("0 rows"))&&(b=null,y=200,x="OK"),b&&this.shouldThrowOnError)throw b}return{error:b,data:A,count:v,status:y,statusText:x}});return this.shouldThrowOnError||(u=u.catch(f=>{var g,m,k;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(k=f==null?void 0:f.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}}class CZ extends AZ{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u}={}){const f=u?`${u}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:l}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:g="text"}={}){const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),k=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${k}"; options=${m};`,g==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ys extends CZ{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=a.map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const g=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${g}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}class xZ{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=a,this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let f=!1;const g=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",g),l&&(this.headers.Prefer=`count=${l}`),new Ys({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:l=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const g=i.reduce((m,k)=>m.concat(Object.keys(k)),[]);if(g.length>0){const m=[...new Set(g)].map(k=>`"${k}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ys({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){const g="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const k=i.reduce((b,A)=>b.concat(Object.keys(A)),[]);if(k.length>0){const b=[...new Set(k)].map(A=>`"${A}"`);this.url.searchParams.set("columns",b.join(","))}}return new Ys({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new Ys({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Ys({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const EZ="1.8.5",DZ={"X-Client-Info":`postgrest-js/${EZ}`};class Xw{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=Object.assign(Object.assign({},DZ),a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new xZ(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Xw(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,count:u}={}){let f;const g=new URL(`${this.url}/rpc/${i}`);let m;l?(f="HEAD",Object.entries(a).forEach(([b,A])=>{g.searchParams.append(b,`${A}`)})):(f="POST",m=a);const k=Object.assign({},this.headers);return u&&(k.Prefer=`count=${u}`),new Ys({method:f,url:g,headers:k,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}var Eb,y5;function SZ(){if(y5)return Eb;y5=1;var o=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Eb=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return o()}try{return __global__||o()}finally{delete Object.prototype.__global__}}(),Eb}const TZ="websocket",IZ="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",MZ=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],NZ="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",OZ=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],PZ="1.0.34",BZ={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},zZ="https://github.com/theturtle32/WebSocket-Node",LZ={node:">=4.0.0"},jZ={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},RZ={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},FZ={verbose:!1},VZ={test:"tape test/unit/*.js",gulp:"gulp"},UZ="index",HZ={lib:"./lib"},$Z="lib/browser.js",WZ="Apache-2.0",qZ={name:TZ,description:IZ,keywords:MZ,author:NZ,contributors:OZ,version:PZ,repository:BZ,homepage:zZ,engines:LZ,dependencies:jZ,devDependencies:RZ,config:FZ,scripts:VZ,main:UZ,directories:HZ,browser:$Z,license:WZ};var GZ=qZ.version,Yo;if(typeof globalThis=="object")Yo=globalThis;else try{Yo=SZ()}catch{}finally{if(!Yo&&typeof window<"u"&&(Yo=window),!Yo)throw new Error("Could not determine global this")}var Bl=Yo.WebSocket||Yo.MozWebSocket,YZ=GZ;function AI(o,i){var a;return i?a=new Bl(o,i):a=new Bl(o),a}Bl&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(o){Object.defineProperty(AI,o,{get:function(){return Bl[o]}})});var ZZ={w3cwebsocket:Bl?AI:null,version:YZ};const KZ="2.8.4",QZ={"X-Client-Info":`realtime-js/${KZ}`},JZ="1.0.0",CI=1e4,XZ=1e3;var fl;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(fl||(fl={}));var Nn;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Nn||(Nn={}));var mi;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(mi||(mi={}));var V0;(function(o){o.websocket="websocket"})(V0||(V0={}));var Zo;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Zo||(Zo={}));class xI{constructor(i,a){this.callback=i,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class eK{constructor(){this.HEADER_LENGTH=1}decode(i,a){return i.constructor===ArrayBuffer?a(this._binaryDecode(i)):a(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const a=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,a,l)}_decodeBroadcast(i,a,l){const u=a.getUint8(1),f=a.getUint8(2);let g=this.HEADER_LENGTH+2;const m=l.decode(i.slice(g,g+u));g=g+u;const k=l.decode(i.slice(g,g+f));g=g+f;const b=JSON.parse(l.decode(i.slice(g,i.byteLength)));return{ref:null,topic:m,event:k,payload:b}}}class Db{constructor(i,a,l={},u=CI){this.channel=i,this.event=a,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,a){var l;return this._hasReceived(i)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:a}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(a))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var A5;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(A5||(A5={}));class gl{constructor(i,a){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:f,onLeave:g,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,u,f,g),this.pendingDiffs.forEach(k=>{this.state=gl.syncDiff(this.state,k,f,g)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:f,onLeave:g,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=gl.syncDiff(this.state,u,f,g),m())}),this.onJoin((u,f,g)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:g})}),this.onLeave((u,f,g)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,a,l,u){const f=this.cloneDeep(i),g=this.transformState(a),m={},k={};return this.map(f,(b,A)=>{g[b]||(k[b]=A)}),this.map(g,(b,A)=>{const v=f[b];if(v){const y=A.map(B=>B.presence_ref),x=v.map(B=>B.presence_ref),E=A.filter(B=>x.indexOf(B.presence_ref)<0),T=v.filter(B=>y.indexOf(B.presence_ref)<0);E.length>0&&(m[b]=E),T.length>0&&(k[b]=T)}else m[b]=A}),this.syncDiff(f,{joins:m,leaves:k},l,u)}static syncDiff(i,a,l,u){const{joins:f,leaves:g}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(f,(m,k)=>{var b;const A=(b=i[m])!==null&&b!==void 0?b:[];if(i[m]=this.cloneDeep(k),A.length>0){const v=i[m].map(x=>x.presence_ref),y=A.filter(x=>v.indexOf(x.presence_ref)<0);i[m].unshift(...y)}l(m,A,k)}),this.map(g,(m,k)=>{let b=i[m];if(!b)return;const A=k.map(v=>v.presence_ref);b=b.filter(v=>A.indexOf(v.presence_ref)<0),i[m]=b,u(m,b,k),b.length===0&&delete i[m]}),i}static map(i,a){return Object.getOwnPropertyNames(i).map(l=>a(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((a,l)=>{const u=i[l];return"metas"in u?a[l]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):a[l]=u,a},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ot;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(ot||(ot={}));const C5=(o,i,a={})=>{var l;const u=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((f,g)=>(f[g]=tK(g,o,i,u),f),{})},tK=(o,i,a,l)=>{const u=i.find(m=>m.name===o),f=u==null?void 0:u.type,g=a[o];return f&&!l.includes(f)?EI(f,g):U0(g)},EI=(o,i)=>{if(o.charAt(0)==="_"){const a=o.slice(1,o.length);return oK(i,a)}switch(o){case ot.bool:return nK(i);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return iK(i);case ot.json:case ot.jsonb:return rK(i);case ot.timestamp:return sK(i);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return U0(i);default:return U0(i)}},U0=o=>o,nK=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},iK=o=>{if(typeof o=="string"){const i=parseFloat(o);if(!Number.isNaN(i))return i}return o},rK=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(i){return console.log(`JSON parse error: ${i}`),o}return o},oK=(o,i)=>{if(typeof o!="string")return o;const a=o.length-1,l=o[a];if(o[0]==="{"&&l==="}"){let f;const g=o.slice(1,a);try{f=JSON.parse("["+g+"]")}catch{f=g?g.split(","):[]}return f.map(m=>EI(i,m))}return o},sK=o=>typeof o=="string"?o.replace(" ","T"):o;var x5;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(x5||(x5={}));var E5;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes"})(E5||(E5={}));var D5;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(D5||(D5={}));class ev{constructor(i,a={config:{}},l){this.topic=i,this.params=a,this.socket=l,this.bindings={},this.state=Nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},a.config),this.timeout=this.socket.timeout,this.joinPush=new Db(this,mi.join,this.params,this.timeout),this.rejoinTimer=new xI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new gl(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(i,a=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:f,presence:g}}=this.params;this._onError(b=>i&&i("CHANNEL_ERROR",b)),this._onClose(()=>i&&i("CLOSED"));const m={},k={broadcast:f,presence:g,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&u!==void 0?u:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:k},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:b})=>{var A;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),b===void 0){i&&i("SUBSCRIBED");return}else{const v=this.bindings.postgres_changes,y=(A=v==null?void 0:v.length)!==null&&A!==void 0?A:0,x=[];for(let E=0;E<y;E++){const T=v[E],{filter:{event:B,schema:I,table:N,filter:P}}=T,j=b&&b[E];if(j&&j.event===B&&j.schema===I&&j.table===N&&j.filter===P)x.push(Object.assign(Object.assign({},T),{id:j.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,i&&i("SUBSCRIBED");return}}).receive("error",b=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(i,a={}){return await this.send({type:"presence",event:"track",payload:i},a.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,a,l){return this._on(i,a,l)}async send(i,a={}){var l,u;if(!this._canPush()&&i.type==="broadcast"){const{event:f,payload:g}=i,m={method:"POST",headers:{apikey:(l=this.socket.accessToken)!==null&&l!==void 0?l:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:g}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=a.timeout)!==null&&u!==void 0?u:this.timeout)).ok?"ok":"error"}catch(k){return k.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var g,m,k;const b=this._push(i.type,i,a.timeout||this.timeout);i.type==="broadcast"&&!(!((k=(m=(g=this.params)===null||g===void 0?void 0:g.config)===null||m===void 0?void 0:m.broadcast)===null||k===void 0)&&k.ack)&&f("ok"),b.receive("ok",()=>f("ok")),b.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Nn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new Db(this,mi.leave,{},i);u.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let i=this.socket.endPoint;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(i,a,l){const u=new AbortController,f=setTimeout(()=>u.abort(),l),g=await this.socket.fetch(i,Object.assign(Object.assign({},a),{signal:u.signal}));return clearTimeout(f),g}_push(i,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Db(this,i,a,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(i,a,l){return a}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,a,l){var u,f;const g=i.toLocaleLowerCase(),{close:m,error:k,leave:b,join:A}=mi;if(l&&[m,k,b,A].indexOf(g)>=0&&l!==this._joinRef())return;let y=this._onMessage(g,a,l);if(a&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var E,T,B;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((B=(T=x.filter)===null||T===void 0?void 0:T.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===g}).map(x=>x.callback(y,l)):(f=this.bindings[g])===null||f===void 0||f.filter(x=>{var E,T,B,I,N,P;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in x){const j=x.id,q=(E=x.filter)===null||E===void 0?void 0:E.event;return j&&((T=a.ids)===null||T===void 0?void 0:T.includes(j))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((B=a.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const j=(N=(I=x==null?void 0:x.filter)===null||I===void 0?void 0:I.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return j==="*"||j===((P=a==null?void 0:a.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===g}).map(x=>{if(typeof y=="object"&&"ids"in y){const E=y.data,{schema:T,table:B,commit_timestamp:I,type:N,errors:P}=E;y=Object.assign(Object.assign({},{schema:T,table:B,commit_timestamp:I,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(E))}x.callback(y,l)})}_isClosed(){return this.state===Nn.closed}_isJoined(){return this.state===Nn.joined}_isJoining(){return this.state===Nn.joining}_isLeaving(){return this.state===Nn.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,a,l){const u=i.toLocaleLowerCase(),f={type:u,filter:a,callback:l};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(i,a){const l=i.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&ev.isEqual(u.filter,a))}),this}static isEqual(i,a){if(Object.keys(i).length!==Object.keys(a).length)return!1;for(const l in i)if(i[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(mi.close,{},i)}_onError(i){this._on(mi.error,{},a=>i(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nn.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const a={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(a.new=C5(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(a.old=C5(i.columns,i.old_record)),a}}const aK=()=>{};class cK{constructor(i,a){var l;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=QZ,this.params={},this.timeout=CI,this.transport=ZZ.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=aK,this.conn=null,this.sendBuffer=[],this.serializer=new eK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=f=>{let g;return f?g=f:typeof fetch>"u"?g=(...m)=>Yl(()=>Promise.resolve().then(()=>Zl),void 0).then(({default:k})=>k(...m)):g=fetch,(...m)=>g(...m)},this.endPoint=`${i}/${V0.websocket}`,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.transport&&(this.transport=a.transport),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const u=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;u&&(this.accessToken=u),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(f,g)=>g(JSON.stringify(f)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i)))}disconnect(i,a){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const a=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const i=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),i}log(i,a,l){this.logger(i,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return Zo.Connecting;case fl.open:return Zo.Open;case fl.closing:return Zo.Closing;default:return Zo.Closed}}isConnected(){return this.connectionState()===Zo.Open}channel(i,a={config:{}}){const l=new ev(`realtime:${i}`,a,this);return this.channels.push(l),l}push(i){const{topic:a,event:l,payload:u,ref:f}=i,g=()=>{this.encode(i,m=>{var k;(k=this.conn)===null||k===void 0||k.send(m)})};this.log("push",`${a} ${l} (${f})`,u),this.isConnected()?g():this.sendBuffer.push(g)}setAuth(i){this.accessToken=i,this.channels.forEach(a=>{i&&a.updateJoinPayload({access_token:i}),a.joinedOnce&&a._isJoined()&&a._push(mi.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let a=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${i}"`),a.unsubscribe())}_remove(i){this.channels=this.channels.filter(a=>a._joinRef()!==i._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JZ}))}_onConnMessage(i){this.decode(i.data,a=>{let{topic:l,event:u,payload:f,ref:g}=a;(g&&g===this.pendingHeartbeatRef||u===(f==null?void 0:f.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${l} ${u} ${g&&"("+g+")"||""}`,f),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,f,g)),this.stateChangeCallbacks.message.forEach(m=>m(a))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(mi.error))}_appendParams(i,a){if(Object.keys(a).length===0)return i;const l=i.match(/\?/)?"&":"?",u=new URLSearchParams(a);return`${i}${l}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(XZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class tv extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function rn(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class lK extends tv{constructor(i,a){super(i),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class S5 extends tv{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}}var dK=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};const DI=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Yl(()=>Promise.resolve().then(()=>Zl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},uK=()=>dK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yl(()=>Promise.resolve().then(()=>Zl),void 0)).Response:Response});var Pa=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};const Sb=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),hK=(o,i)=>Pa(void 0,void 0,void 0,function*(){const a=yield uK();o instanceof a?o.json().then(l=>{i(new lK(Sb(l),o.status||500))}).catch(l=>{i(new S5(Sb(l),l))}):i(new S5(Sb(o),o))}),fK=(o,i,a,l)=>{const u={method:o,headers:(i==null?void 0:i.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};function xf(o,i,a,l,u,f){return Pa(this,void 0,void 0,function*(){return new Promise((g,m)=>{o(a,fK(i,l,u,f)).then(k=>{if(!k.ok)throw k;return l!=null&&l.noResolveJson?k:k.json()}).then(k=>g(k)).catch(k=>hK(k,m))})})}function H0(o,i,a,l){return Pa(this,void 0,void 0,function*(){return xf(o,"GET",i,a,l)})}function Hr(o,i,a,l,u){return Pa(this,void 0,void 0,function*(){return xf(o,"POST",i,l,u,a)})}function gK(o,i,a,l,u){return Pa(this,void 0,void 0,function*(){return xf(o,"PUT",i,l,u,a)})}function SI(o,i,a,l,u){return Pa(this,void 0,void 0,function*(){return xf(o,"DELETE",i,l,u,a)})}var Zn=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};const pK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mK{constructor(i,a={},l,u){this.url=i,this.headers=a,this.bucketId=l,this.fetch=DI(u)}uploadOrUpdate(i,a,l,u){return Zn(this,void 0,void 0,function*(){try{let f;const g=Object.assign(Object.assign({},T5),u),m=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.append("cacheControl",g.cacheControl)):(f=l,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const k=this._removeEmptyFolders(a),b=this._getFinalPath(k),A=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:i,body:f,headers:m},g!=null&&g.duplex?{duplex:g.duplex}:{}));return A.ok?{data:{path:k},error:null}:{data:null,error:yield A.json()}}catch(f){if(rn(f))return{data:null,error:f};throw f}})}upload(i,a,l){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,a,l)})}uploadToSignedUrl(i,a,l,u){return Zn(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(i),g=this._getFinalPath(f),m=new URL(this.url+`/object/upload/sign/${g}`);m.searchParams.set("token",a);try{let k;const b=Object.assign({upsert:T5.upsert},u),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&l instanceof Blob?(k=new FormData,k.append("cacheControl",b.cacheControl),k.append("",l)):typeof FormData<"u"&&l instanceof FormData?(k=l,k.append("cacheControl",b.cacheControl)):(k=l,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType);const v=yield this.fetch(m.toString(),{method:"PUT",body:k,headers:A});return v.ok?{data:{path:f},error:null}:{data:null,error:yield v.json()}}catch(k){if(rn(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(i){return Zn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const l=yield Hr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:this.headers}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new tv("No token returned by API");return{data:{signedUrl:u.toString(),path:i,token:f},error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}update(i,a,l){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,a,l)})}move(i,a){return Zn(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers}),error:null}}catch(l){if(rn(l))return{data:null,error:l};throw l}})}copy(i,a){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield Hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a},{headers:this.headers})).Key},error:null}}catch(l){if(rn(l))return{data:null,error:l};throw l}})}createSignedUrl(i,a,l){return Zn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),f=yield Hr(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const g=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${g}`)},{data:f,error:null}}catch(u){if(rn(u))return{data:null,error:u};throw u}})}createSignedUrls(i,a,l){return Zn(this,void 0,void 0,function*(){try{const u=yield Hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:i},{headers:this.headers}),f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${f}`):null})),error:null}}catch(u){if(rn(u))return{data:null,error:u};throw u}})}download(i,a){return Zn(this,void 0,void 0,function*(){const u=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),g=f?`?${f}`:"";try{const m=this._getFinalPath(i);return{data:yield(yield H0(this.fetch,`${this.url}/${u}/${m}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(rn(m))return{data:null,error:m};throw m}})}getPublicUrl(i,a){const l=this._getFinalPath(i),u=[],f=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",k=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});k!==""&&u.push(k);let b=u.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${b}`)}}}remove(i){return Zn(this,void 0,void 0,function*(){try{return{data:yield SI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}list(i,a,l){return Zn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},pK),a),{prefix:i||""});return{data:yield Hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(rn(u))return{data:null,error:u};throw u}})}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}}const kK="2.5.4",bK={"X-Client-Info":`storage-js/${kK}`};var $s=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};class wK{constructor(i,a={},l){this.url=i,this.headers=Object.assign(Object.assign({},bK),a),this.fetch=DI(l)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(rn(i))return{data:null,error:i};throw i}})}getBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}createBucket(i,a={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(rn(l))return{data:null,error:l};throw l}})}updateBucket(i,a){return $s(this,void 0,void 0,function*(){try{return{data:yield gK(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(rn(l))return{data:null,error:l};throw l}})}emptyBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}deleteBucket(i){return $s(this,void 0,void 0,function*(){try{return{data:yield SI(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}}class vK extends wK{constructor(i,a={},l){super(i,a,l)}from(i){return new mK(this.url,this.headers,i,this.fetch)}}const _K="2.38.4";let el="";typeof Deno<"u"?el="deno":typeof document<"u"?el="web":typeof navigator<"u"&&navigator.product==="ReactNative"?el="react-native":el="node";const yK={"X-Client-Info":`supabase-js-${el}/${_K}`};var AK=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};const CK=o=>{let i;return o?i=o:typeof fetch>"u"?i=Jw:i=fetch,(...a)=>i(...a)},xK=()=>typeof Headers>"u"?Qw.Headers:Headers,EK=(o,i,a)=>{const l=CK(a),u=xK();return(f,g)=>AK(void 0,void 0,void 0,function*(){var m;const k=(m=yield i())!==null&&m!==void 0?m:o;let b=new u(g==null?void 0:g.headers);return b.has("apikey")||b.set("apikey",o),b.has("Authorization")||b.set("Authorization",`Bearer ${k}`),l(f,Object.assign(Object.assign({},g),{headers:b}))})};function DK(o){return o.replace(/\/$/,"")}function SK(o,i){const{db:a,auth:l,realtime:u,global:f}=o,{db:g,auth:m,realtime:k,global:b}=i;return{db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},k),u),global:Object.assign(Object.assign({},b),f)}}function TK(o){return Math.round(Date.now()/1e3)+o}function IK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const i=Math.random()*16|0;return(o=="x"?i:i&3|8).toString(16)})}const or=()=>typeof document<"u",Uo={tested:!1,writable:!1},pl=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Uo.tested)return Uo.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Uo.tested=!0,Uo.writable=!0}catch{Uo.tested=!0,Uo.writable=!1}return Uo.writable};function Tb(o){const i={},a=new URL(o);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((u,f)=>{i[f]=u})}catch{}return a.searchParams.forEach((l,u)=>{i[u]=l}),i}const TI=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Yl(()=>Promise.resolve().then(()=>Zl),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},MK=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Ho=async(o,i,a)=>{await o.setItem(i,JSON.stringify(a))},rh=async(o,i)=>{const a=await o.getItem(i);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ib=async(o,i)=>{await o.removeItem(i)};function NK(o){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",l,u,f,g,m,k,b,A=0;for(o=o.replace("-","+").replace("_","/");A<o.length;)g=i.indexOf(o.charAt(A++)),m=i.indexOf(o.charAt(A++)),k=i.indexOf(o.charAt(A++)),b=i.indexOf(o.charAt(A++)),l=g<<2|m>>4,u=(m&15)<<4|k>>2,f=(k&3)<<6|b,a=a+String.fromCharCode(l),k!=64&&u!=0&&(a=a+String.fromCharCode(u)),b!=64&&f!=0&&(a=a+String.fromCharCode(f));return a}class Ef{constructor(){this.promise=new Ef.promiseConstructor((i,a)=>{this.resolve=i,this.reject=a})}}Ef.promiseConstructor=Promise;function I5(o){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=o.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=a[1];return JSON.parse(NK(l))}async function OK(o){return await new Promise(i=>{setTimeout(()=>i(null),o)})}function PK(o,i){return new Promise((l,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const g=await o(f);if(!i(f,null,g)){l(g);return}}catch(g){if(!i(f,g)){u(g);return}}})()})}function BK(o){return("0"+o.toString(16)).substr(-2)}function Ws(){const i=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let u="";for(let f=0;f<56;f++)u+=a.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(i),Array.from(i,BK).join("")}async function zK(o){const a=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",a),u=new Uint8Array(l);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}function LK(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const a=await zK(o);return LK(a)}class nv extends Error{constructor(i,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=a}}function ze(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class jK extends nv{constructor(i,a){super(i,a),this.name="AuthApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function RK(o){return ze(o)&&o.name==="AuthApiError"}class II extends nv{constructor(i,a){super(i),this.name="AuthUnknownError",this.originalError=a}}class Ba extends nv{constructor(i,a,l){super(i),this.name=a,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gs extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Mb extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class oh extends Ba{constructor(i){super(i,"AuthInvalidCredentialsError",400)}}class sh extends Ba{constructor(i,a=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M5 extends Ba{constructor(i,a=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $0 extends Ba{constructor(i,a){super(i,"AuthRetryableFetchError",a)}}function N5(o){return ze(o)&&o.name==="AuthRetryableFetchError"}var FK=globalThis&&globalThis.__rest||function(o,i){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&i.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(a[l[u]]=o[l[u]]);return a};const tl=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),VK=[502,503,504];async function O5(o){if(!MK(o))throw new $0(tl(o),0);if(VK.includes(o.status))throw new $0(tl(o),o.status);let i;try{i=await o.json()}catch(a){throw new II(tl(a),a)}throw new jK(tl(i),o.status||500)}const UK=(o,i,a,l)=>{const u={method:o,headers:(i==null?void 0:i.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),a))};async function Fe(o,i,a,l){var u;const f=Object.assign({},l==null?void 0:l.headers);l!=null&&l.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const g=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(g.redirect_to=l.redirectTo);const m=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",k=await HK(o,i,a+m,{headers:f,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(k):{data:Object.assign({},k),error:null}}async function HK(o,i,a,l,u,f){const g=UK(i,l,u,f);let m;try{m=await o(a,g)}catch(k){throw console.error(k),new $0(tl(k),0)}if(m.ok||await O5(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(k){await O5(k)}}function Rr(o){var i;let a=null;GK(o)&&(a=Object.assign({},o),o.expires_at||(a.expires_at=TK(o.expires_in)));const l=(i=o.user)!==null&&i!==void 0?i:o;return{data:{session:a,user:l},error:null}}function Gr(o){var i;return{data:{user:(i=o.user)!==null&&i!==void 0?i:o},error:null}}function $K(o){return{data:o,error:null}}function WK(o){const{action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f}=o,g=FK(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:i,email_otp:a,hashed_token:l,redirect_to:u,verification_type:f},k=Object.assign({},g);return{data:{properties:m,user:k},error:null}}function qK(o){return o}function GK(o){return o.access_token&&o.refresh_token&&o.expires_in}var YK=globalThis&&globalThis.__rest||function(o,i){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&i.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(a[l[u]]=o[l[u]]);return a};class ZK{constructor({url:i="",headers:a={},fetch:l}){this.url=i,this.headers=a,this.fetch=TI(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,a="global"){try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ze(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,a={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Gr})}catch(l){if(ze(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:a}=i,l=YK(i,["options"]),u=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:WK,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(ze(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(i){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Gr})}catch(a){if(ze(a))return{data:{user:null},error:a};throw a}}async listUsers(i){var a,l,u,f,g,m,k;try{const b={nextPage:null,lastPage:0,total:0},A=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=i==null?void 0:i.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(f=(u=i==null?void 0:i.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:qK});if(A.error)throw A.error;const v=await A.json(),y=(g=A.headers.get("x-total-count"))!==null&&g!==void 0?g:0,x=(k=(m=A.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&k!==void 0?k:[];return x.length>0&&(x.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(E.split(";")[1].split("=")[1]);b[`${B}Page`]=T}),b.total=parseInt(y)),{data:Object.assign(Object.assign({},v),b),error:null}}catch(b){if(ze(b))return{data:{users:[]},error:b};throw b}}async getUserById(i){try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Gr})}catch(a){if(ze(a))return{data:{user:null},error:a};throw a}}async updateUserById(i,a){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:a,headers:this.headers,xform:Gr})}catch(l){if(ze(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,a=!1){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:a},xform:Gr})}catch(l){if(ze(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){try{const{data:a,error:l}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:a,error:l}}catch(a){if(ze(a))return{data:null,error:a};throw a}}async _deleteFactor(i){try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}}}const MI="2.57.0",KK="http://localhost:9999",QK="supabase.auth.token",JK={"X-Client-Info":`gotrue-js/${MI}`},P5=10,XK={getItem:o=>pl()?globalThis.localStorage.getItem(o):null,setItem:(o,i)=>{pl()&&globalThis.localStorage.setItem(o,i)},removeItem:o=>{pl()&&globalThis.localStorage.removeItem(o)}};function B5(o={}){return{getItem:i=>o[i]||null,setItem:(i,a)=>{o[i]=a},removeItem:i=>{delete o[i]}}}function eQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class tQ extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}eQ();const nQ={url:KK,storageKey:QK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JK,flowType:"implicit",debug:!1},Gc=30*1e3,z5=3;async function iQ(o,i,a){return await a()}class zl{constructor(i){var a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zl.nextInstanceID,zl.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},nQ),i);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new ZK({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=TI(l.fetch),this.lock=l.lock||iQ,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:pl()?this.storage=XK:(this.memoryStorage={},this.storage=B5(this.memoryStorage)):(this.memoryStorage={},this.storage=B5(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MI}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const i=or()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",i),i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:l}=await this._getSessionFromURL(i);if(l)return this._debug("#_initialize()","error detecting session from URL",l),await this._removeSession(),{error:l};const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ze(i)?{error:i}:{error:new II("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(i){var a,l,u;try{await this._removeSession();let f;if("email"in i){const{email:A,password:v,options:y}=i;let x=null,E=null;if(this.flowType==="pkce"){const T=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,T),x=await qs(T),E=T===x?"plain":"s256"}f=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:A,password:v,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:E},xform:Rr})}else if("phone"in i){const{phone:A,password:v,options:y}=i;f=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:v,data:(l=y==null?void 0:y.data)!==null&&l!==void 0?l:{},channel:(u=y==null?void 0:y.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Rr})}else throw new oh("You must provide either an email or phone number and a password");const{data:g,error:m}=f;if(m||!g)return{data:{user:null,session:null},error:m};const k=g.session,b=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:b,session:k},error:null}}catch(f){if(ze(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(i){try{await this._removeSession();let a;if("email"in i){const{email:f,password:g,options:m}=i;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:g,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rr})}else if("phone"in i){const{phone:f,password:g,options:m}=i;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:g,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rr})}else throw new oh("You must provide either an email or phone number and a password");const{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mb}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:{user:l.user,session:l.session},error:u})}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(i){var a,l,u,f;return await this._removeSession(),await this._handleProviderSignIn(i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const a=await rh(this.storage,`${this.storageKey}-code-verifier`),{data:l,error:u}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:Rr});return await Ib(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mb}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}async signInWithIdToken(i){await this._removeSession();try{const{options:a,provider:l,token:u,access_token:f,nonce:g}=i,m=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:f,nonce:g,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rr}),{data:k,error:b}=m;return b?{data:{user:null,session:null},error:b}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new Mb}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:b})}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(i){var a,l,u,f,g;try{if(await this._removeSession(),"email"in i){const{email:m,options:k}=i;let b=null,A=null;if(this.flowType==="pkce"){const y=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,y),b=await qs(y),A=y===b?"plain":"s256"}const{error:v}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=k==null?void 0:k.data)!==null&&a!==void 0?a:{},create_user:(l=k==null?void 0:k.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:b,code_challenge_method:A},redirectTo:k==null?void 0:k.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in i){const{phone:m,options:k}=i,{data:b,error:A}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=k==null?void 0:k.data)!==null&&u!==void 0?u:{},create_user:(f=k==null?void 0:k.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},channel:(g=k==null?void 0:k.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:A}}throw new oh("You must provide either an email or phone number.")}catch(m){if(ze(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(i){var a,l;try{i.type!=="email_change"&&i.type!=="phone_change"&&await this._removeSession();let u,f;"options"in i&&(u=(a=i.options)===null||a===void 0?void 0:a.redirectTo,f=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:g,error:m}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:Rr});if(m)throw m;if(!g)throw new Error("An error occurred on token verification.");const k=g.session,b=g.user;return k!=null&&k.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:b,session:k},error:null}}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var a,l,u;try{await this._removeSession();let f=null,g=null;if(this.flowType==="pkce"){const m=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,m),f=await qs(m),g=m===f?"plain":"s256"}return await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(a=i.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=i==null?void 0:i.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:$K})}catch(f){if(ze(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)throw l;if(!a)throw new Gs;const{error:u}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{i.type!="email_change"&&i.type!="phone_change"&&await this._removeSession();const a=`${this.url}/resend`;if("email"in i){const{email:l,type:u,options:f}=i,{error:g}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in i){const{phone:l,type:u,options:f}=i,{data:g,error:m}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:m}}throw new oh("You must provide either an email or phone number and a type")}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(i,a){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await i(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const a=await rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?i=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l)return{data:{session:i},error:null};const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{session:null},error:f}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Gr}):await this._useSession(async a=>{var l,u;const{data:f,error:g}=a;if(g)throw g;return await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Gr})})}catch(a){if(ze(a))return{data:{user:null},error:a};throw a}}async updateUser(i,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,a))}async _updateUser(i,a={}){try{return await this._useSession(async l=>{const{data:u,error:f}=l;if(f)throw f;if(!u.session)throw new Gs;const g=u.session;let m=null,k=null;if(this.flowType==="pkce"&&i.email!=null){const v=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,v),m=await qs(v),k=v===m?"plain":"s256"}const{data:b,error:A}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:m,code_challenge_method:k}),jwt:g.access_token,xform:Gr});if(A)throw A;return g.user=b.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(l){if(ze(l))return{data:{user:null},error:l};throw l}}_decodeJWT(i){return I5(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Gs;const a=Date.now()/1e3;let l=a,u=!0,f=null;const g=I5(i.access_token);if(g.exp&&(l=g.exp,u=l<=a),u){const{session:m,error:k}=await this._callRefreshToken(i.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:k}=await this._getUser(i.access_token);if(k)throw k;f={access_token:i.access_token,refresh_token:i.refresh_token,user:m.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(a){if(ze(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async a=>{var l;if(!i){const{data:g,error:m}=a;if(m)throw m;i=(l=g.session)!==null&&l!==void 0?l:void 0}if(!(i!=null&&i.refresh_token))throw new Gs;const{session:u,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{user:null,session:null},error:f}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(i){try{if(!or())throw new sh("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new sh("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new M5("Not a valid PKCE flow url.");const a=Tb(window.location.href);if(i){if(!a.code)throw new M5("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(a.code);if(P)throw P;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:N.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new sh(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:u,access_token:f,refresh_token:g,expires_in:m,expires_at:k,token_type:b}=a;if(!f||!m||!g||!b)throw new sh("No session defined in URL");const A=Math.round(Date.now()/1e3),v=parseInt(m);let y=A+v;k&&(y=parseInt(k));const x=y-A;x*1e3<=Gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const E=y-v;A-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,y,A):A-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",E,y,A);const{data:T,error:B}=await this._getUser(f);if(B)throw B;const I={provider_token:l,provider_refresh_token:u,access_token:f,expires_in:v,expires_at:y,refresh_token:g,token_type:b,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:a.type},error:null}}catch(a){if(ze(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const i=Tb(window.location.href);return!!(or()&&(i.access_token||i.error_description))}async _isPKCEFlow(){const i=Tb(window.location.href),a=await rh(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&a)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{error:f};const g=(l=u.session)===null||l===void 0?void 0:l.access_token;if(g){const{error:m}=await this.admin.signOut(g,i);if(m&&!(RK(m)&&(m.status===404||m.status===401)))return{error:m}}return i!=="others"&&(await this._removeSession(),await Ib(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(i){const a=IK(),l={id:a,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async a=>{var l,u;try{const{data:{session:f},error:g}=a;if(g)throw g;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,a={}){let l=null,u=null;if(this.flowType==="pkce"){const f=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,f),l=await qs(f),u=f===l?"plain":"s256"}try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(f){if(ze(f))return{data:null,error:f};throw f}}async _refreshAccessToken(i){const a=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await PK(async u=>(await OK(u*200),this._debug(a,"refreshing attempt",u),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:Rr})),(u,f,g)=>g&&g.error&&N5(g.error)&&Date.now()+(u+1)*200-l<Gc)}catch(l){if(this._debug(a,"error",l),ze(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,a){const l=await this._getUrlForProvider(i,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",a,"url",l),or()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await rh(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),f=((i=l.expires_at)!==null&&i!==void 0?i:1/0)<u+P5;if(this._debug(a,`session has${f?"":" not"} expired with margin of ${P5}s`),f){if(this.autoRefreshToken&&l.refresh_token){const{error:g}=await this._callRefreshToken(l.refresh_token);g&&(console.error(g),N5(g)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(i){var a,l;if(!i)throw new Gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ef;const{data:f,error:g}=await this._refreshAccessToken(i);if(g)throw g;if(!f.session)throw new Gs;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={session:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(u,"error",f),ze(f)){const g={session:null,error:f};return(a=this.refreshingDeferred)===null||a===void 0||a.resolve(g),g}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,a,l=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:a});const f=[],g=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(i,a)}catch(k){f.push(k)}});if(await Promise.all(g),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),await this._persistSession(i)}_persistSession(i){return this._debug("#_persistSession()",i),Ho(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await Ib(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Gc);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-i)/Gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Gc}ms, refresh threshold is ${z5} ticks`),u<=z5&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof tQ)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const a=`#_onVisibilityChanged(${i})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const u=Ws();await Ho(this.storage,`${this.storageKey}-code-verifier`,u);const f=await qs(u),g=u===f?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",f,"method",g);const m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(g)}`});l.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return`${this.url}/authorize?${l.join("&")}`}async _unenroll(i){try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Fe(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async _enroll(i){try{return await this._useSession(async a=>{var l,u;const{data:f,error:g}=a;if(g)return{data:null,error:g};const{data:m,error:k}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(l=f==null?void 0:f.session)===null||l===void 0?void 0:l.access_token});return k?{data:null,error:k}:(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;if(f)return{data:null,error:f};const{data:g,error:m}=await Fe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:m})})}catch(a){if(ze(a))return{data:null,error:a};throw a}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:u,error:f}=a;return f?{data:null,error:f}:await Fe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(ze(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(i){const{data:a,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:a.id,code:i.code})}async _listFactors(){const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(i==null?void 0:i.factors)||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified");return{data:{all:l,totp:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var a,l;const{data:{session:u},error:f}=i;if(f)return{data:null,error:f};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const g=this._decodeJWT(u.access_token);let m=null;g.aal&&(m=g.aal);let k=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(k="aal2");const A=g.amr||[];return{data:{currentLevel:m,nextLevel:k,currentAuthenticationMethods:A},error:null}}))}}zl.nextInstanceID=0;class rQ extends zl{constructor(i){super(i)}}var oQ=globalThis&&globalThis.__awaiter||function(o,i,a,l){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(A){try{b(l.next(A))}catch(v){g(v)}}function k(A){try{b(l.throw(A))}catch(v){g(v)}}function b(A){A.done?f(A.value):u(A.value).then(m,k)}b((l=l.apply(o,i||[])).next())})};const sQ={headers:yK},aQ={schema:"public"},cQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lQ={};class dQ{constructor(i,a,l){var u,f,g,m,k,b,A,v;if(this.supabaseUrl=i,this.supabaseKey=a,!i)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const y=DK(i);this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,this.functionsUrl=`${y}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,E={db:aQ,realtime:lQ,auth:Object.assign(Object.assign({},cQ),{storageKey:x}),global:sQ},T=SK(l??{},E);this.storageKey=(f=(u=T.auth)===null||u===void 0?void 0:u.storageKey)!==null&&f!==void 0?f:"",this.headers=(m=(g=T.global)===null||g===void 0?void 0:g.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((k=T.auth)!==null&&k!==void 0?k:{},this.headers,(b=T.global)===null||b===void 0?void 0:b.fetch),this.fetch=EK(a,this._getAccessToken.bind(this),(A=T.global)===null||A===void 0?void 0:A.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new Xw(`${y}/rest/v1`,{headers:this.headers,schema:(v=T.db)===null||v===void 0?void 0:v.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new yZ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vK(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},l){return this.rest.rpc(i,a,l)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,a;return oQ(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,storageKey:f,flowType:g,debug:m},k,b){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rQ({url:this.authUrl,headers:Object.assign(Object.assign({},A),k),storageKey:f,autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:u,flowType:g,debug:m,fetch:b})}_initRealtimeClient(i){return new cK(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(i,a,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uQ=(o,i,a)=>new dQ(o,i,a),hQ="https://wfmzmjdkdoryaeunljkv.supabase.co",fQ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmbXptamRrZG9yeWFldW5samt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTk0MDc2NTcsImV4cCI6MjAxNDk4MzY1N30.zRjzq2AcsGmIx0GBvfPoDyj5BBWlAwHsjc3yEV8vXcQ",ah=uQ(hQ,fQ);function gQ(){return G.jsxs(G.Fragment,{children:[G.jsx(gZ,{}),G.jsxs(JW,{children:[G.jsx(qo,{path:"/",element:G.jsx(GY,{supabase:ah})}),G.jsx(qo,{path:"/create",element:G.jsx(iZ,{supabase:ah})}),G.jsx(qo,{path:"/post/:id",element:G.jsx(dZ,{supabase:ah})}),G.jsx(qo,{path:"/post/:id/edit",element:G.jsx(uZ,{supabase:ah})}),G.jsx(qo,{path:"/getBookInfo",element:G.jsx(oZ,{})}),G.jsx(qo,{path:"*",element:G.jsx(YY,{})})]})]})}Nb.createRoot(document.getElementById("root")).render(G.jsx(G5.StrictMode,{children:G.jsx(rq,{children:G.jsx(gQ,{})})}))});export default pQ();
